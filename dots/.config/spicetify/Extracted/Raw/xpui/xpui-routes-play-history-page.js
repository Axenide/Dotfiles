"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[708],{91013:(e,i,t)=>{t.d(i,{n:()=>A});var n=t(45389),r=t(39130),s=(t(40274),t(22369),t(43125),t(27639),t(162),t(81289),t(82088),t(29543),t(70969),t(62780),t(4302),t(66469),t(59496)),l=t(84875),a=t.n(l),c=t(41177),o=t(10506),u=t(70802),d=t(94782),m=t(17249),x=t(85830),h=t(87164),f=t(23066);var v=t(47982),p=t(14255),j=t(19224);const g="main-topBar-contentArea",y="queue-tabBar-headerIsCentered",b="queue-tabBar-headerItem",k="queue-tabBar-moreButton",w="queue-tabBar-moreButtonActive",O="yxf_6IsQEmHjijEBUMTP",C="queue-tabBar-active",E="queue-tabBar-headerItemLink",N="queue-tabBar-header",I="queue-tabBar-chevron";var R=t(4637),P=function(e){var i=e.items,t=e.activeItemId;return(0,R.jsx)(p.v,{children:i.map((function(e){return e.disabled?(0,R.jsx)(j.s,{disabled:!0,role:"menuitemradio",className:O,onClick:e.handleClick,children:e.title},e.uri):(0,R.jsx)(j.s,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===t,className:function(e){var i=e.isActive;return a()(O,(0,n.Z)({},C,i))},onClick:e.handleClick,children:e.title},e.uri)}))})},U=t(46747),A=(0,s.memo)((function(e){var i,t=e.isCentered,l=e.links,p=e.landmarkLabel,j=e.className,O=(0,s.useRef)(null),A=(0,s.useState)([]),D=(0,r.Z)(A,2),S=D[0],T=D[1],Z=(0,s.useState)(0),B=(0,r.Z)(Z,2),M=B[0],_=B[1],G=(0,s.useState)([]),L=(0,r.Z)(G,2),F=L[0],Q=L[1],W=null!==(i=function(){var e=(0,s.useState)(window.innerWidth),i=(0,r.Z)(e,2),t=i[0],n=i[1],l=(0,s.useContext)(h.VX).scrollNodeChildRef,a=(0,x.y1)((function(e){null!=e&&e.width&&n(e.width)}),250);return(0,f.y)({refOrElement:l,observeOnly:"width",onResize:a}),t}())&&void 0!==i?i:1/0,q=(0,c.TH)().pathname,K=l.find((function(e){return e.to===q}));return(0,s.useEffect)((function(){O.current&&_(O.current.clientWidth)}),[W]),(0,s.useEffect)((function(){if(O.current){var e=Array.from(O.current.children).map((function(e){return e.clientWidth}));T(e)}}),[l]),(0,s.useEffect)((function(){if(O.current)if(S.slice(0,-1).reduce((function(e,i){return e+i}),0)<=M)Q([]);else{var e=S.reduce((function(e,i){return e>i?e:i}),0),i=[],t=e;S.forEach((function(e,n){M>=t+e?t+=e:i.push(n)})),Q(i)}}),[M,S]),(0,R.jsx)("nav",{className:a()(j,g),"aria-label":p,children:(0,R.jsxs)("ul",{className:t?y:N,ref:O,children:[l.filter((function(e,i){return!F.includes(i)})).map((function(e){var i,t=null!==(i=null==e?void 0:e.render)&&void 0!==i?i:function(e){return e};return(0,R.jsx)(s.Fragment,{children:t((0,R.jsx)("li",{className:b,children:e.disabled?(0,R.jsx)("div",{className:E,children:(0,R.jsx)(o.D,{variant:"mestoBold",children:e.title})}):(0,R.jsx)(U.O,{end:!0,className:function(e){var i=e.isActive;return a()(E,(0,n.Z)({},C,i))},to:e.to,onClick:e.handleClick,children:(0,R.jsx)(o.D,{variant:"mestoBold",children:e.title})})}))},e.to)})),F.length||0===S.length?(0,R.jsx)("li",{className:b,children:(0,R.jsx)(v.xV,{renderInline:!0,menu:(0,R.jsx)(P,{items:l.filter((function(e,i){return F.includes(i)})),activeItemId:null==K?void 0:K.itemId}),children:function(e,i,t){return(0,R.jsxs)("button",{className:a()(k,(0,n.Z)({},w,K)),type:"button",onClick:i,ref:t,children:[(0,R.jsx)(o.D,{variant:"mestoBold",children:K?K.title:m.ag.get("more")}),e?(0,R.jsx)(u.U,{iconSize:16,className:I,"aria-hidden":"true"}):(0,R.jsx)(d.i,{iconSize:16,className:I,"aria-hidden":"true"})]})}})}):null]})})}))},15120:(e,i,t)=>{t.d(i,{I:()=>x});var n=t(65686),r=t(59496),s=t(17249),l=t(91013),a=t(20522),c=t(27483),o=t(871);const u="queue-tabBar-nav";var d=t(4637),m=function(){var e=(0,o.Y)(),i=(0,r.useCallback)((function(e){return(0,d.jsx)(c.v,{placement:"bottomEnd",arrow:"topStart",title:s.ag.get("pick-and-shuffle.upsell.title.queue"),children:e})}),[]),t=(0,r.useMemo)((function(){return[{title:s.ag.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:s.ag.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]}),[e,i]);return(0,d.jsx)(a.w,{children:(0,d.jsx)(l.n,{className:u,links:t})})},x=function(e){var i=e.children,t=(0,n.nF)();return(0,d.jsxs)("section",{className:"contentSpacing",children:[i,t&&(0,d.jsx)(m,{})]})}},20151:(e,i,t)=>{t.r(i),t.d(i,{default:()=>q});var n=t(65686),r=t(10506),s=t(17249),l=t(96748),a=t(33123),c=t(4637),o=function(){return(0,c.jsxs)("div",{className:a.Z.emptyContainer,children:[(0,c.jsx)(l.Y,{iconSize:64,"aria-hidden":"true"}),(0,c.jsx)(r.D,{as:"h1",variant:"alto",semanticColor:"textBase",className:a.Z.emptyContainerTitle,children:s.ag.get("history.empty-title")}),(0,c.jsx)("p",{children:s.ag.get("history.empty-description")})]})},u=(t(30246),t(59496)),d=t(11794),m=t(68087),x=t(78142),h=t(24122),f=t(83474),v=t(55590),p=t(12033),j=t(45389),g=(t(90511),t(162),t(95675),t(61235),t(62780),t(22369),t(7845),t(29543),t(70969),t(66715),t(30479),t(75341),t(59272)),y=t(22355),b=t(77728),k=t(98235),w=t(69395),O=t(81386),C=t(14699),E=t(54691),N=t(56200),I=t(6336),R=t(90902),P=t(81164),U=t(71163),A=t(1003),D=t(1962),S=t(9408),T=t(19174);function Z(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function B(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Z(Object(t),!0).forEach((function(i){(0,j.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var M=u.memo((function(e){var i,t,n,r,l=e.uri,a=e.name,o=e.duration_ms,u=e.index,d=e.imgUrl,m=e.artists,h=e.album,v=e.isExplicit,p=e.isMOGEFRestricted,j=e.isLocal,Z=void 0!==j&&j,M=e.contextItem,_=e.type,G=(0,A.n)({uri:Z?P.b:l,pages:[{items:[B(B({},M),{},{provider:Z?null:M.provider})]}]},{featureIdentifier:"history"}),L=G.isActive,F=G.isPlaying,Q=G.triggerPlay,W=G.togglePlay,q=_===f.p.TRACK,K=_===f.p.EPISODE,z=_===f.p.CHAPTER,H=(0,U._)(l),X=(0,T.k)(l),Y=(0,D.r)({downloadAvailability:H,isExplicit:v,isMOGEFRestricted:p}),J=Y.badges,V=Y.hasBadges,$=(null==m?void 0:m.map((function(e){return e.name})).join(s.ag.getSeparator()))||"";return K?r=(0,c.jsx)(y.k,{uri:l,contextUri:l,showUri:h.uri}):z?r=(0,c.jsx)(S.r,{uri:l,contextUri:l,showUri:h.uri}):q&&(0,g.dB)(l)?r=(0,c.jsx)(b.N,{uri:l,contextUri:l}):q&&(r=(0,c.jsx)(k.$,{uri:l,contextUri:l,albumUri:h.uri,artists:m})),(0,c.jsx)(x.ZP,{value:"row",index:u,children:(0,c.jsx)(E._,{menu:r,children:(0,c.jsxs)(C.c,{uri:l,contextUri:l,index:u,ariaRowIndex:u,onTriggerPlay:function(){Q()},isActive:L,isPlayable:X,ageRestricted:p,dragMetadata:{name:a,createdBy:$},children:[(0,c.jsxs)(w.vZ,{ariaColIndex:0,children:[(0,c.jsx)(w.VG,{uri:l,src:d,isPlaying:F,isActive:L,isLocked:!1,onClick:function(){W()},isEpisode:(0,g.hn)(l),playAriaLabel:s.ag.get("tracklist.a11y.play",a,$)}),(0,c.jsxs)(w.vm,{children:[(0,c.jsx)(w.Wh,{titleText:a,children:a}),V&&(0,c.jsxs)(w.g3,{children:[J.download&&(0,c.jsx)(N.G,{size:16}),J.explicit&&(0,c.jsx)(I.N,{}),J.nineteen&&(0,c.jsx)(R.X,{className:O.Z.nineteen,size:16})]}),(0,c.jsx)(w.K9,{children:(0,g.wj)(l)?(0,c.jsx)(w.T6,{artists:m}):null!==(i=null===(t=m[0])||void 0===t?void 0:t.name)&&void 0!==i?i:""})]})]}),(0,c.jsx)(w.UA,{ariaColIndex:2,children:(0,c.jsx)(w.BM,{nonInteractive:(0,g.dB)(l),uri:h.uri,name:h.name,creatorUri:null==m||null===(n=m[0])||void 0===n?void 0:n.uri,children:h.name})}),(0,c.jsxs)(w.mU,{ariaColIndex:1,children:[!(0,g.dB)(l)&&!z&&(0,c.jsx)(w.qS,{uri:l,type:_}),(0,c.jsx)(w.A$,{duration:o}),(0,c.jsx)(w.Zv,{menu:r,label:s.ag.get("more.label.track",a,$)})]})]})})})}),(function(e,i){return e.uri===i.uri})),_=u.memo((function(e){var i=e.items,t=(0,u.useCallback)((function(e,i){var t,n,r,s=(0,p.X)(null!==(t=e.images)&&void 0!==t?t:[],{desiredSize:40});return(0,h.G_)(e)?(0,c.jsx)(M,{index:i,uri:e.isLocal?(0,m.$)(e):e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==s?void 0:s.url)||"",album:e.album,artists:e.artists,isExplicit:null!==(n=e.isExplicit)&&void 0!==n&&n,isMOGEFRestricted:null!==(r=e.is19PlusOnly)&&void 0!==r&&r,isLocal:e.isLocal,contextItem:e,type:f.p.TRACK},i+e.uri):(0,h.iw)(e)?(0,c.jsx)(M,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==s?void 0:s.url)||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:f.p.EPISODE},i+e.uri):(0,h.G7)(e)?(0,c.jsx)(M,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:(null==s?void 0:s.url)||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:f.p.CHAPTER},i+e.uri):((0,h.k6)(e)||(0,h.RB)(e)||(0,v._)(e),(0,c.jsx)(d.hU,{height:"".concat(d.dN,"px")}))}),[]),n=(0,u.useMemo)((function(){return[d.QD.TITLE,d.QD.ALBUM_OR_PODCAST,d.QD.DURATION]}),[]),r=(0,u.useCallback)((function(e){return e.uri}),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(x.ZP,{value:"play-history-tracklist",children:(0,c.jsx)(d.Pv,{ariaLabel:"play-history",hasHeaderRow:!0,columns:n,renderRow:t,resolveUri:r,tracks:i,nrTracks:i.length,rowPlaceholder:d.hU,limit:50})})})}));const G="dt3fysZYdQ6hhWfpmjAu",L="n6LsTkKvpO88xeRyRTdw";var F=function(){var e=(0,n.U5)();return e&&e.items.length>0?(0,c.jsxs)("div",{className:G,children:[(0,c.jsx)(r.D,{as:"h1",variant:"canon",semanticColor:"textBase",className:L,children:s.ag.get("view.recently-played")}),(0,c.jsx)(_,{items:e.items})]}):(0,c.jsx)(o,{})},Q=t(15120),W=t(78960);const q=function(){return(0,n.nF)()?(0,c.jsx)(Q.I,{children:(0,c.jsx)(F,{})}):(0,c.jsx)(W.InstrumentedRedirect,{to:"/"})}},68087:(e,i,t)=>{t.d(i,{$:()=>n});var n=function(e){var i;return(null==e||null===(i=e.linked_from)||void 0===i?void 0:i.uri)||e.uri}},33123:(e,i,t)=>{t.d(i,{Z:()=>n});const n={emptyContainer:"queue-queuePage-emptyContainer",emptyContainerTitle:"queue-queuePage-emptyContainerTitle",findSomething:"queue-queuePage-findSomething"}}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map