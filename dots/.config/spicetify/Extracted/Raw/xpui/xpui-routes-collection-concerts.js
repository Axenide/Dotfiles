"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5835],{73829:(e,t,n)=>{n.d(t,{Z:()=>N});n(90511);var r=n(59496),a=n(10506),o=n(94064),i=n(17249),c=n(88843),s=n(26294),l=n(32572),u=n(45402),d=n(69952),f=n(48450);const m="MUiWCNTfb6FcSwVPvQ1V",v="UAk3bMhekwJTV_wIyfsT",g="X9w6LPfKsZHMCs38sVIQ",p="NXn5KjeUOjLGlAfS1Gao",h="N0wgFMDDvCiby4QB5kLJ",y="nloNe2BLRHjz9dxlwfLU",j="FyD0hF1e2PKzRxQ6sYDQ",x="JzXND83mXvcEuntCNR34",b="GR08E4L_rOGljyQQX30R";var w=n(4637);const N=(0,r.memo)((function(e){var t=e.concert,n=e.isVirtual,r=e.enableFirstPartyBadge,N=e.onClick,D=t.venue,_=t.location,k=t.artists[0],C=(0,d.CH)(t.startDate.localDate);return(0,w.jsxs)(c.Link,{to:"/concert/".concat(t.id),className:m,"data-testid":"concert-card",onClick:N,children:[k.imageUri&&(0,w.jsx)(s.Z,{children:(0,w.jsx)("div",{role:"img",className:b,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(k.imageUri,")")}})}),(0,w.jsx)("time",{className:v,dateTime:t.startDate.localDate,children:(0,w.jsx)(a.D,{as:"div",variant:"mestoBold",children:(0,d.jx)(C)})}),(0,w.jsxs)("div",{className:g,dir:"auto",children:[(0,w.jsxs)(a.D,{as:"p",className:x,variant:"mesto",children:[(0,l.FO)(C)," • ",(0,d.hK)(C)]}),(0,w.jsx)(a.D,{as:"h2",variant:"cello",weight:"bold",className:p,children:(0,f.ij)(t)}),(0,w.jsxs)("div",{className:h,children:[r&&(0,u.$R)(t)&&(0,w.jsx)("span",{className:j,children:(0,w.jsx)(o.V,{iconSize:16})}),(0,w.jsx)(a.D,{as:"span",className:y,variant:"mesto","data-testid":"location-name",children:n?D:[D,_].join(i.ag.getSeparator())})]})]})]})}))},45402:(e,t,n)=>{n.d(t,{$R:()=>u,DF:()=>v,Vv:()=>f,ie:()=>g,k9:()=>l,pm:()=>m,sk:()=>d,yI:()=>c});n(16366),n(31781),n(15089),n(69109),n(82088),n(72304),n(22369),n(40265),n(30246),n(43125),n(27639),n(96669),n(61235),n(69724),n(39965),n(83001),n(71756),n(39975),n(59538),n(79611);var r=n(85487),a=n(67898);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e,t){if(!e)return"/concerts";var n=null==t?void 0:t.normalize().replaceAll(/\W+/g,"-");return n?"/concerts/location/".concat(e,"-").concat(n):"/concerts/location/".concat(e)},s=10;function l(e){if(0===e.length)return[];if(0===e[0].events.length)return[];var t,n=[],r={date:e[0].events[0].openingDate.slice(0,s),events:[]},a=o(e);try{for(a.s();!(t=a.n()).done;){var i,c=o(t.value.events);try{for(c.s();!(i=c.n()).done;){var l=i.value,u=l.openingDate.slice(0,s);r.date!==u&&(n.push(r),r={date:u,events:[]}),r.events.push(l)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return n.push(r),n}var u=function(e){return e.ticketers.some((function(e){return"spotify"===e.partnerDisplayName.toLowerCase()}))},d=function(e){return e.concerts.some((function(e){var t=e.concert;return u(t)}))},f=function(e){var t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));var n=new Date(t);return n.setDate(t.getDate()+1),{from:t,to:n}},m=function(e){var t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));var n=new Date(t);n.setDate(t.getDate()+7);var r=new Date(n);return r.setDate(n.getDate()+1),{from:n,to:r}},v=function(e,t){return!!(null!=e&&e.from&&null!=e&&e.to&&null!=t&&t.from&&null!=t&&t.to)&&((0,r.Z)(e.from,t.from)&&(0,r.Z)(e.to,t.to))},g=function(e){return(0,a.Z)(e,{representation:"date"})}},46546:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Pn});n(16366),n(70785);var r=n(59496),a=n(61740),o=n(41177),i=n(47393),c=n(38185),s=n(83453),l=n(60071),u=n(70599),d=n(10506),f=n(38674),m=n(21842),v=n(17249),g=n(17386),p=n(23006),h=n(35833),y=n(61996),j=n(29893),x=n(20188),b=n(87824),w=n(39130),N=(n(162),n(40265),n(69109),n(79611),n(22369),n(46743),n(85487)),D=n(94320),_=n(91800),k=n(70420),C=n(60817),I=n(77999),O=n(68833),S=n(54658),F=n(4488),P=(n(90511),n(30246),n(33228)),Z=n(94064),E=n(14268),A=n(43409),U=n(98148),M=n(63461),L=n(88843),B=n(45402),W=n(69952),G=n(48450);const T="cELOd04or4B6BbTbNWA7",H="CHJYbX33oDik9u4n4ohH",R="woQ0wEe6FL4lsGW05bsb",z="KTDREr8pDWjrmnzXzZ2z",Q="UUTvdEOH2v_rejoXdl9Z",V="cBbTozR921ppaoNZP0Uh",K="SNyyQ0t_VvlWzzB9li7v",J="lwO4iko6mhCUgZN1s9AW",X="akvZI06vqHOow1pOL29J",q="WWZp3WM0maWJzl2qWEHE",Y="YdkAHxbDekz9SiAxHG6M",$="AK37djOBJ2BuJOGuG1kQ",ee="JfYURQbEA_ntMsMZV6tK",te="du0mOGaZfHg3hsHwRMIu",ne="Rvzy4ltiiHIp9mvlxf0c",re="uEXt8BtfJCONUNVYrAHn";var ae=n(4637),oe=(0,r.memo)((function(e){var t=e.concert,n=e.position,a=e.enableFirstPartyBadge,o=e.modalSpec,i=t.id,c=t.venue,s=t.location,l=t.startDate.localDate,u=(0,W.CH)(l),f="ONLINE"===t.category,m=(0,r.useMemo)((function(){return null==o?void 0:o.eventRowFactory({position:n,uri:"spotify:concert:".concat(t.id)})}),[o,n,t]),g=(0,x.$P)();return(0,ae.jsxs)(L.Link,{to:"/concert/".concat(t.id),className:J,onClick:function(){m&&g.logInteraction(m.hitUiNavigate({destination:"/concert/".concat(i)}))},children:[(0,ae.jsxs)("div",{className:X,"aria-hidden":!0,children:[(0,ae.jsx)(d.D,{as:"div",variant:"finaleBold",className:q,children:(0,W.jw)(u)}),(0,ae.jsx)(d.D,{as:"div",variant:"cello",className:Y,children:(0,W.wf)(u)})]}),(0,ae.jsxs)("div",{className:$,children:[(0,ae.jsx)(d.D,{as:"div",variant:"violaBold",className:ee,"data-testid":"event-title",children:(0,G.Yl)(t)}),(0,ae.jsx)(P.T,{children:(0,W.jx)(u)}),(0,ae.jsxs)(d.D,{as:"div",variant:"viola",className:te,children:[(0,W.FO)(u)," • ",(0,W.hK)(u)]}),(0,ae.jsx)("span",{className:re,children:a&&(0,B.$R)(t)&&(0,ae.jsx)(Z.V,{iconSize:16})}),(0,ae.jsx)(d.D,{as:"div",variant:"viola",className:ne,"data-testid":"event-venue",children:f?c:[c,s].join(v.ag.getSeparator())})]})]},t.id)}));const ie=(0,r.memo)((function(e){var t,n=e.event,a=e.locationName,o=e.onClose,i=e.feedSpec,c=null==n||null===(t=n.concerts[0])||void 0===t?void 0:t.concert,s=null==c?void 0:c.artists[0],l=(0,f.W6)(b.J_),u=(0,r.useMemo)((function(){return null==i?void 0:i.groupedEventModalFactory({uri:(null==s?void 0:s.uri)||""})}),[i,s]),m=(0,x.$P)(),g=(0,x.Wi)(u);if(!n||!c||!s)return null;var p=function(){u&&m.logInteraction(u.closeButtonFactory().hitUiHide()),o()};return(0,ae.jsx)(M.Z,{contentLabel:v.ag.get("live_events.label"),isOpen:!0,className:T,onRequestClose:p,children:(0,ae.jsxs)("section",{className:H,ref:g,children:[(0,ae.jsx)("div",{className:R,children:(0,ae.jsx)(ce,{"aria-label":v.ag.get("close"),iconOnly:E.k,buttonSize:"sm",onClick:p})}),(0,ae.jsxs)("div",{className:z,children:[(0,ae.jsx)(A.E,{height:"48",width:"48",className:Q,src:s.imageUri}),(0,ae.jsxs)("div",{className:V,children:[(0,ae.jsx)(d.D,{as:"h3",variant:"cello",className:K,"data-testid":"event-venue",children:s.name}),(0,ae.jsx)(d.D,{as:"h3",variant:"mesto","data-testid":"event-venue",children:"".concat(v.ag.get("concerts.count_near_location",n.concerts.length,a))})]})]}),n.concerts.map((function(e,t){return(0,ae.jsx)(oe,{concert:e.concert,position:t,enableFirstPartyBadge:l,modalSpec:u},e.concert.id)}))]})})}));var ce=(0,F.ZP)(U.o).withConfig({displayName:"ConcertFeedGroupedModal___StyledButtonTertiary",componentId:"sc-1o845wh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),se=n(45389),le=(n(5538),n(74553),n(71541),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(9102)),ue=n(8850),de=n(10995),fe=n.n(de),me=n(60808),ve=n(31185),ge=function(){var e=(0,ue.Z)(fe().mark((function e(t){var n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ve.getConcertsForUser)(me.b.getInstance(),t);case 2:return n=e.sent,e.abrupt("return",n.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,ue.Z)(fe().mark((function e(){var t,n,r,a,o,i,c=arguments;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,r=(n=c.length>1?c[1]:void 0).geonameId,a=n.startDate,o=n.endDate,e.next=5,(0,ve.getAllConcerts)(me.b.getInstance(),{page:t,geonameId:r,startDate:a,endDate:o});case 5:return i=e.sent,e.abrupt("return",i.body);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,ue.Z)(fe().mark((function e(t){var n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ve.getConcertsHub)(me.b.getInstance(),void 0,t);case 2:return n=e.sent,e.abrupt("return",n.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=(0,ue.Z)(fe().mark((function e(t){var n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ve.getSpotifyConcerts)(me.b.getInstance(),t);case 2:return n=e.sent,e.abrupt("return",n.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=(0,ue.Z)(fe().mark((function e(){var t;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ve.getSavedConcertsHub)(me.b.getInstance());case 2:return t=e.sent,e.abrupt("return",t.body);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){var t=(0,w.Z)(e.queryKey,2)[1].geonameId;return ge(t)},Ne=function(e){var t=(0,w.Z)(e.queryKey,3)[2];return pe(e.pageParam,t)},De=function(e){var t=(0,w.Z)(e.queryKey,3)[2].geonameId;return he(t)},_e=function(e){var t=(0,w.Z)(e.queryKey,3)[2].geonameId;return ye(t)},ke=6e5,Ce=/^(\d+)/,Ie=function(e){var t=null==e?void 0:e.match(/(202\d)-([01]\d)-([0-3]\d)/);if(t){var n=(0,w.Z)(t,4),r=n[1],a=n[2],o=n[3];return new Date(parseInt(r,10),parseInt(a,10)-1,parseInt(o,10))}},Oe=function(e){var t,n=function(){var e=(0,o.UO)().location,t=(null==e?void 0:e.match(Ce))||[],n=(0,w.Z)(t,2)[1];if(n)try{return parseInt(n,10)}catch(e){return}}(),r=(0,i.lr)(),a=null===(t=(0,w.Z)(r,1)[0].get("filter"))||void 0===t?void 0:t.trim();return e.isAnonymous&&!a||"all"===a?{type:"all",geonameId:n}:e.isInterestedEnabled&&"saved"===a?{type:"saved"}:e.isSoldBySpotifyEnabled&&"spotify"===a?{type:"spotify",geonameId:n}:{type:"foryou",geonameId:n}},Se=n(63789),Fe=n(90775),Pe=n(10785),Ze=n(99243),Ee=(n(54927),n(63892)),Ae=n(3643);const Ue="eFIu3aQJuKmf6H4Lb18K",Me="LPNL3DZ89Iisp8TMArD3",Le="moVCbo9Ao5YJ5PsH4Qdz",Be="URXDMjhb8pQWIDaBrCPC",We="a3oYct1knu9af60A0v6g",Ge="qbIrubbolsixlgVkhO5r",Te="xHihsEV_0W6kpm0wHsXA",He="T8po_YH39Q9dhAsLAhec";var Re={formatCaption:function(e){return v.ag.formatDate(e,{month:"long",year:"numeric"})},formatDay:function(e){return v.ag.formatDate(e,{day:"numeric"})},formatWeekdayName:function(e){return v.ag.formatDate(e,{weekday:"short"})}};const ze=(0,r.memo)((function(e){var t,n=e.onDone,a=e.onClose,o=(0,r.useState)(e.dateRange),i=(0,w.Z)(o,2),c=i[0],s=i[1],l=(0,Ae.S)(),u=new Date,f=(0,B.Vv)(u),m=(0,B.pm)(u),g=(0,B.DF)(c,f),p=(0,B.DF)(c,m);return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(M.Z,{isOpen:!0,children:(0,ae.jsxs)("section",{className:Ue,children:[(0,ae.jsx)(U.o,{className:Me,iconOnly:E.k,size:"small",onClick:a,"aria-label":v.ag.get("close_button_action")}),(0,ae.jsxs)("div",{className:Le,children:[(0,ae.jsx)(d.D,{as:"h3",variant:"cello",children:v.ag.get("live_events.date_picker_dialog_title")}),(0,ae.jsxs)("div",{className:Be,children:[(0,ae.jsx)(k.A,{className:We,size:"md",selectedColorSet:"brightAccent",selected:g,onClick:function(){s(g?void 0:f)},children:v.ag.get("live_events.this_weekend_preset")}),(0,ae.jsx)(k.A,{className:We,size:"md",selectedColorSet:"brightAccent",selected:p,onClick:function(){s(p?void 0:m)},children:v.ag.get("live_events.next_weekend_preset")})]})]}),(0,ae.jsx)(Ze._W,{mode:"range",selected:c,onSelect:s,numberOfMonths:2,defaultMonth:null===(t=e.dateRange)||void 0===t?void 0:t.from,fromDate:new Date,formatters:Re,dir:l?"rtl":"ltr",modifiersClassNames:{today:Ge}}),(0,ae.jsxs)("div",{className:Te,children:[(0,ae.jsx)(U.o,{className:He,size:"small",onClick:function(){s(void 0)},disabled:!(null!=c&&c.from),children:v.ag.get("live_events.date_picker_dialog_clear")}),(0,ae.jsx)(Ee.D,{size:"small",onClick:function(){if(null!=c&&c.from){var e=c.from,t=c.to;n({from:e,to:t||e})}else n()},children:v.ag.get("live_events.date_picker_dialog_done")})]})]})})})}));var Qe=n(59272),Ve=n(73829),Ke=(n(80108),n(26294));const Je="pU4WoqT8T6PmtjPbFtK0",Xe="FC5Y_KFJ9rJyTpydqtOW",qe="AAYLcavkBdCuebn9AQxT",Ye="lYHCmxpdReachiOORWGo",$e="JtKEdtTtcK7s6EpGecaC",et="XuH9DoZCf0aVJ2BxQkTB",tt="myHDa69cI5CHC8fhIhkG";const nt=(0,r.memo)((function(e){var t=e.event,n=e.enableFirstPartyBadge,a=e.onClick,o=(0,r.useCallback)((function(){return a(t)}),[t,a]),i=(0,W.CH)(t.openingDate),c=(0,W.CH)(t.closingDate),s=t.concerts[0].concert,l=s.artists[0];return(0,ae.jsxs)(U.o,{onClick:o,className:Je,component:"div","data-testid":"concert-card",role:"button",children:[l.imageUri&&(0,ae.jsx)(Ke.Z,{children:(0,ae.jsx)("div",{role:"img",className:tt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(l.imageUri,")")}})}),(0,ae.jsx)("time",{className:Xe,dateTime:i.toISOString(),children:(0,ae.jsx)(d.D,{as:"p",variant:"mestoBold",children:(0,W.Bc)(i,c)})}),(0,ae.jsxs)("div",{className:qe,dir:"auto",children:[(0,ae.jsx)(d.D,{as:"h2",variant:"cello",weight:"bold",className:Ye,children:(0,G.ij)(s)}),(0,ae.jsxs)("div",{className:$e,children:[n&&(0,B.sk)(t)&&(0,ae.jsx)("span",{className:et,children:(0,ae.jsx)(Z.V,{iconSize:16})}),(0,ae.jsx)(d.D,{as:"span",variant:"mesto","data-testid":"concerts-count",children:v.ag.get("concerts.count",t.concerts.length)})]})]})]})}));const rt=(0,r.memo)((function(e){var t,n=e.event,a=e.position,o=e.sectionSpec,i=e.onOpenGroupedEvent,c=null===(t=n.concerts[0])||void 0===t?void 0:t.concert,s=null==c?void 0:c.id,l=c&&(0,Qe.g3)(c.id).toURI(),u=(0,f.W6)(b.J_),d=(0,x.$P)(),m=(0,r.useMemo)((function(){return null==o?void 0:o.eventCardFactory({identifier:null!=s?s:"",position:a,uri:null!=l?l:""})}),[o,s,l,a]),v=(0,x.Wi)(m);if(n.concerts.length>1)return(0,ae.jsx)("div",{ref:v,children:(0,ae.jsx)(nt,{event:n,enableFirstPartyBadge:u,onClick:function(e){i(e),m&&d.logInteraction(m.hitUiReveal())}})});return(0,ae.jsx)("div",{ref:v,children:(0,ae.jsx)(Ve.Z,{concert:c,isVirtual:"online"===n.source,enableFirstPartyBadge:u,onClick:function(){m&&d.logInteraction(m.hitUiNavigate({destination:l}))}})})})),at="MVPegsivznZB6gdkcnkH",ot="MlK79hskRbFrN2OBjMkl",it="VxaXFH9Uq1NU0LtsVhIu",ct="UDVDNa40iTSPS9uHCG7Q",st="ofURwIKv0qEXJGTraIis",lt="fN_lJHkYih9H3j9YSEzS",ut="LOJZO2MnGW5dCIawF767",dt="tyc7QRlEJigVFIAeLGOB",ft="PoljWhTLU3MKqIx2gSPY",mt="ajxCNAuBJSgYfKUUBWBT",vt="WR2h2Li5XTrBn_Rdme_k",gt="WNhsvOyu4doInF525pLE",pt="qSR4imCvzdznIQ4F2kBO",ht="BCDMgFFqzEyzC1UqkW3t",yt="jFxUCv1gagc6erXmpgYw",jt="XOS1JS9iDK8dgeF3GeL5",xt="LNAJMvRlTPqWsmZvV7Kg",bt="jP10ZUl0Jn2Ijue3fZux",wt="ncN9bwTgIRk6xruAt5T8";var Nt=(0,r.memo)((function(e){var t=e.eventGroups,n=e.locationName,a=e.isLoading,o=e.feedSpec,i=e.onOpenGroupedEvent,c=(0,r.useMemo)((function(){return null==o?void 0:o.eventSectionFactory({identifier:"all",position:0})}),[o]),s=(0,x.Wi)(c);return a?(0,ae.jsx)(O.h,{hasError:!1,errorMessage:""}):t?0===t.length||0===t[0].events.length?(0,ae.jsx)(I.u,{title:v.ag.get("concerts.error.no_concerts_found_title"),message:v.ag.get("concerts.error.no_concerts_found_message",n),renderInline:!0}):(0,ae.jsx)("div",{ref:s,children:t.map((function(e){return(0,ae.jsx)("div",{className:gt,children:(0,ae.jsx)(S.P,{total:e.events.length,title:v.ag.formatDate(new Date("".concat(e.date,"T00:00:00")),{weekday:"long",day:"numeric",month:"long",year:"numeric"}),showAll:!0,children:e.events.map((function(e,t){var n,r=null===(n=e.concerts[0])||void 0===n?void 0:n.concert;return(0,ae.jsx)(rt,{event:e,position:t,sectionSpec:c,onOpenGroupedEvent:i},r.id)}))})},e.date)}))}):null})),Dt={month:"short",day:"numeric"},_t=function(e){if((0,N.Z)(e.from,e.to))return v.ag.formatDate(e.from,Dt);var t=v.ag.formatDate(e.from,Dt),n=v.ag.formatDate(e.to,Dt);return"".concat(t," - ").concat(n)};const kt=(0,r.memo)((function(e){var t,n,a=e.geonameId,c=e.spec,s=function(){var e,t,n=(0,i.lr)(),r=(0,w.Z)(n,1)[0],a=null===(e=r.get("startDate"))||void 0===e?void 0:e.trim(),o=null===(t=r.get("endDate"))||void 0===t?void 0:t.trim(),c=Ie(a),s=Ie(o);return c&&s&&{from:c,to:s}}(),l=(0,o.s0)(),u=(0,i.lr)(),d=(0,w.Z)(u,2)[1],m=(0,i.lr)(),g=(0,w.Z)(m,1)[0],p=(0,r.useState)(),h=(0,w.Z)(p,2),y=h[0],j=h[1],x=(0,r.useState)(!1),b=(0,w.Z)(x,2),N=b[0],I=b[1],O=(0,Fe.o)(),S=(0,r.useMemo)((function(){return null==c?void 0:c.headerFactory()}),[c]),F=(n={geonameId:a,startDate:s&&(0,B.ie)(s.from),endDate:s&&(0,B.ie)(s.to)},(0,le.useInfiniteQuery)(["concerts","all",n],Ne,{staleTime:ke,keepPreviousData:!0,getNextPageParam:function(e,t){if(!(t.length>=50)&&0!==e.events.length)return t.length+1}})),P=F.data,Z=F.isLoading,E=F.hasNextPage,A=F.isFetchingNextPage,U=F.fetchNextPage,M=(0,r.useMemo)((function(){var e;return(0,B.k9)(null!==(e=null==P?void 0:P.pages)&&void 0!==e?e:[])}),[null==P?void 0:P.pages]),L=(null==P||null===(t=P.pages[0])||void 0===t?void 0:t.userLocation)||v.ag.get("concerts.default_location"),W=(0,f.W6)(Pe.HE),G=(0,B.Vv)(new Date),T=(0,B.pm)(new Date),H=(0,r.useCallback)((function(e){var t={filter:"all"};e&&(t.startDate=(0,B.ie)(e.from),t.endDate=(0,B.ie)(e.to)),I(!1),d(t)}),[d]),R=(0,r.useCallback)((function(e){var t={filter:"all"};(0,B.DF)(s,e)||(t.startDate=(0,B.ie)(e.from),t.endDate=(0,B.ie)(e.to)),d(t)}),[s,d]);return(0,ae.jsxs)("div",{children:[(0,ae.jsx)(C.$,{children:"".concat(v.ag.get("concerts_shows_in")," ").concat(L)}),W?(0,ae.jsxs)("div",{className:yt,children:[(0,ae.jsx)(D.P,{className:ht,iconLeading:_.a,onClick:function(){return I(!0)},size:"small",children:s?_t(s):v.ag.get("live_events.date_picker_button_text")}),N&&(0,ae.jsx)(ze,{onClose:function(){return I(!1)},onDone:H,dateRange:s}),(0,ae.jsx)(k.A,{className:jt,size:"sm",selectedColorSet:"brightAccent",selected:(0,B.DF)(s,G),onClick:function(){return R(G)},children:v.ag.get("live_events.this_weekend_preset")}),(0,ae.jsx)(k.A,{className:jt,size:"sm",selectedColorSet:"brightAccent",selected:(0,B.DF)(s,T),onClick:function(){return R(T)},children:v.ag.get("live_events.next_weekend_preset")})]}):(0,ae.jsx)("div",{className:at,"data-testid":"location-selector",children:(0,ae.jsx)(Se.Z,{handleLocationChange:function(e){O({type:"click",intent:"change-live-events-location"}),null!=e&&e.geonameId&&l({pathname:(0,B.yI)(e.geonameId,e.location),search:"?".concat(g.toString())})},locationStr:L,headerSpec:S})}),(0,ae.jsx)(Nt,{isLoading:Z,locationName:L,eventGroups:M,onOpenGroupedEvent:function(e){var t;j(e);var n=null===(t=e.concerts[0])||void 0===t?void 0:t.concert.artistUris[0];O({type:"click",intent:"open-grouped-live-event",targetUri:n})},feedSpec:c}),E&&(0,ae.jsx)("div",{className:pt,children:(0,ae.jsx)(D.P,{disabled:A,onClick:function(){U()},children:v.ag.get("concerts.load_more")})}),(0,ae.jsx)(ie,{event:y,locationName:L,feedSpec:c,onClose:function(){return j(void 0)}})]})}));var Ct=n(11595),It=n(78142);const Ot=(0,r.memo)((function(e){var t=e.title,n=void 0===t?"":t,a=e.identifier,o=e.position,i=e.events,c=e.feedSpec,s=e.onOpenGroupedEvent,l=(0,r.useMemo)((function(){return null==c?void 0:c.eventSectionFactory({identifier:a,position:o})}),[c,a,o]),u=(0,x.Wi)(l);return 0===i.length?null:(0,ae.jsx)("div",{className:at,ref:u,children:(0,ae.jsx)(It.ZP,{value:"headered-grid",index:o,children:(0,ae.jsx)(S.P,{total:i.length,title:n,showAll:!0,children:i.map((function(e,t){var n,r=null===(n=e.concerts[0])||void 0===n?void 0:n.concert;return(0,ae.jsx)(rt,{event:e,position:t,sectionSpec:l,onOpenGroupedEvent:s},r.id)}))})})})}));const St=(0,r.memo)((function(e){var t,n,a=e.spec,c=(0,r.useState)(),s=(0,w.Z)(c,2),l=s[0],u=s[1],f=(0,i.lr)(),m=(0,w.Z)(f,1)[0],g=(n=e.geonameId,(0,le.useQuery)(["concerts","popular",{geonameId:n}],De,{staleTime:ke,keepPreviousData:!0})),p=(null===(t=g.data)||void 0===t?void 0:t.userLocation)||v.ag.get("concerts.default_location"),h=(0,r.useMemo)((function(){return null==a?void 0:a.headerFactory()}),[a]),y=(0,o.s0)();return(0,ae.jsxs)("div",{children:[(0,ae.jsx)(C.$,{children:"".concat(v.ag.get("concerts_shows_in")," ").concat(p)}),(0,ae.jsx)("div",{className:at,"data-testid":"location-selector",children:(0,ae.jsx)(Se.Z,{handleLocationChange:function(e){(0,Ct._)({type:"click",intent:"change-live-events-location"}),null!=e&&e.geonameId&&y({pathname:(0,B.yI)(e.geonameId,e.location),search:"?".concat(m.toString())})},locationStr:p,headerSpec:h})}),(0,ae.jsxs)("div",{className:xt,children:[(0,ae.jsx)(d.D,{variant:"celloCanon",semanticColor:"textBase",children:v.ag.get("live_events.for_you_anonymous_heading")}),(0,ae.jsx)(d.D,{variant:"ballad",className:bt,semanticColor:"textSubdued",children:v.ag.get("live_events.for_you_anonymous_subheading")}),(0,ae.jsx)(Ee.D,{colorSet:"invertedLight",className:wt,children:v.ag.get("live_events.sign_up_free")})]}),g.data&&(0,ae.jsx)(Ot,{title:v.ag.get("concerts_popular_near_you"),identifier:"popular",position:0,events:g.data.events,onOpenGroupedEvent:function(e){var t;u(e);var n=null===(t=e.concerts[0])||void 0===t?void 0:t.concert.artistUris[0];(0,Ct._)({type:"click",intent:"open-grouped-live-event",targetUri:n})},feedSpec:a}),(0,ae.jsx)(ie,{event:l,locationName:p,feedSpec:a,onClose:function(){return u(void 0)}})]})}));var Ft=n(72899),Pt=n(55118),Zt=n(32572),Et=function(e){return 24===e.length?new Date(e.substring(0,19)):22===e.length?new Date(e.substring(0,16)):new Date(e)},At=function(e){return v.ag.formatDate(e,{month:"short",day:"numeric"})},Ut=function(e){return v.ag.formatDate(e,{hour:"numeric",minute:"numeric"})},Mt=function(e,t){if(e.toDateString()===t.toDateString())return function(e){return v.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"})}(e);if(e.getMonth()===t.getMonth()){var n=v.ag.formatDate(e,{day:"numeric",month:"short"}),r=v.ag.formatDate(t,{day:"numeric"});return"".concat(n,"–").concat(r)}var a=v.ag.formatDate(e,{day:"numeric",month:"short"}),o=v.ag.formatDate(t,{day:"numeric",month:"short"});return"".concat(a,"–").concat(o)},Lt=n(9683),Bt=n(47552);const Wt="QYX01DsOaw_MzJWWRL2R",Gt="wpTjIgQz7QkLGlEM2SbD",Tt="nfOfj83N2J77AhkT4NNC",Ht="RVBcsEWqZBqE8LlyMmmT",Rt="M5l3yVBFFsTeGr0FCQ53",zt="pYZtdiW_JXpCpEpUNBl3",Qt="smnK8C6twajPDjNeIZpu",Vt="yEPFml56fHXdbEaxMRxQ",Kt="VJN_K93zj5zcQWuKpudd",Jt="YvO7J4oC8u1QqRMBY4pg";var Xt=(0,r.memo)((function(e){var t=e.concert,n=e.isVirtual,a=e.spec,o=e.position,i=null==t?void 0:t.id,c=(0,Qe.g3)(t.id).toURI(),s=t.venue,l=t.location,u=t.artists[0],f=Et(t.startDate.localDate),m=(0,x.$P)(),g=(0,r.useMemo)((function(){return(0,Lt.FV)(e.followers)}),[e.followers]),p=(0,r.useMemo)((function(){return a.concertCardFactory({identifier:i,position:o,uri:c})}),[a,c,i,o]),h=(0,r.useMemo)((function(){return(0,Pt.w)()}),[]),y=(0,x.Wi)(p);return(0,ae.jsxs)(L.Link,{to:"/concert/".concat(t.id),className:Wt,onClick:function(){m.logInteraction(p.hitUiNavigate({destination:c}))},ref:y,children:[u.imageUri&&(0,ae.jsx)(Ke.Z,{children:(0,ae.jsx)("div",{role:"img",className:Vt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(u.imageUri,")")}})}),(0,ae.jsx)("time",{className:Gt,dateTime:t.startDate.localDate,children:(0,ae.jsx)(d.D,{as:"h5",variant:"mestoBold",children:At(f)})}),(0,ae.jsxs)("div",{className:Tt,dir:"auto",children:[(0,ae.jsxs)(d.D,{as:"h2",className:Qt,variant:"mesto",children:[(0,Zt.FO)(f)," • ",Ut(f)]}),(0,ae.jsx)(d.D,{as:"h2",variant:"cello",weight:"bold",className:Ht,children:(0,Lt.ij)(t)}),(0,ae.jsx)("div",{className:Rt,children:(0,ae.jsx)(d.D,{as:"h2",className:zt,variant:"mesto","data-testid":"location-name",children:n?s:[s,l].join(v.ag.getSeparator())})})]}),(0,ae.jsxs)("div",{className:Kt,onClick:function(){m.logInteraction(h.hitNoAction())},children:[(0,ae.jsx)(Bt.D,{followers:e.followers,spec:h}),(0,ae.jsx)(d.D,{as:"p",variant:"mesto",className:Jt,children:g})]})]})})),qt=(0,r.memo)((function(e){var t,n=e.event,a=e.onClick,o=e.spec,i=e.position,c=null===(t=n.concerts[0].concert)||void 0===t?void 0:t.id,s=(0,Qe.g3)(c).toURI(),l=(0,x.$P)(),u=(0,r.useMemo)((function(){return o.concertCardFactory({identifier:c,position:i,uri:s})}),[o,s,c,i]),f=(0,r.useMemo)((function(){return(0,Pt.w)()}),[]),m=(0,r.useCallback)((function(){l.logInteraction(u.hitUiReveal()),a(n)}),[n,a,u,l]),g=(0,x.Wi)(u),p=Et(n.openingDate),h=Et(n.closingDate),y=n.concerts[0].concert,j=y.artists[0],b=(0,r.useMemo)((function(){return(0,Lt.FV)(e.followers)}),[e.followers]),w=(0,r.useCallback)((function(){l.logInteraction(f.hitNoAction())}),[l,f]);return(0,ae.jsxs)("div",{onClick:m,className:Wt,role:"button",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&m()},ref:g,children:[j.imageUri&&(0,ae.jsx)(Ke.Z,{children:(0,ae.jsx)("div",{role:"img",className:Vt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(j.imageUri,")")}})}),(0,ae.jsx)("time",{className:Gt,dateTime:p.toISOString(),children:(0,ae.jsx)(d.D,{as:"h5",variant:"mestoBold",children:Mt(p,h)})}),(0,ae.jsxs)("div",{className:Tt,dir:"auto",children:[(0,ae.jsx)(d.D,{as:"h2",variant:"cello",weight:"bold",className:Ht,children:(0,Lt.ij)(y)}),(0,ae.jsx)("div",{className:Rt,children:(0,ae.jsx)(d.D,{as:"h2",variant:"mesto","data-testid":"concerts-count",children:v.ag.get("concerts.count",n.concerts.length)})})]}),(0,ae.jsxs)("div",{className:Kt,onClick:w,children:[(0,ae.jsx)(Bt.D,{followers:e.followers,spec:f}),(0,ae.jsx)(d.D,{as:"p",variant:"mesto",className:Jt,children:b})]})]})})),Yt=n(84875),$t=n.n(Yt);const en="LN9pdza5hvbdl1QB8dKo",tn="P6SpMz_j_hH6lfVNSO2w",nn="axY_3UzUiQCQ2Asp0mQt",rn="CVhxc8GXvAXDO7De7zal",an="IXXvh3b5U_b8xjeKorvb";var on=r.memo((function(e){var t=e.headline,n=e.className,r=e.spec,a=(0,x.Wi)(r.welcomeCardFactory()),o=(0,x.$P)();return(0,ae.jsx)("div",{className:$t()(en,n),ref:a,onClick:function(){o.logInteraction(r.welcomeCardFactory().hitNoAction())},children:(0,ae.jsx)("div",{className:$t()(an),children:(0,ae.jsx)(d.D,{as:"p",variant:"cello",className:$t()(rn),children:t})})})})),cn=function(e){var t=e.spec;return(0,ae.jsx)(on,{spec:t,headline:v.ag.get("web-player.family-duo-concerts-shelf.main-card-family"),className:tn})},sn=function(e){var t=e.spec;return(0,ae.jsx)(on,{spec:t,headline:v.ag.get("web-player.family-duo-concerts-shelf.main-card-duo"),className:nn})},ln=n(10862),un=(n(39975),n(8760),n(30406)),dn=n(64038),fn=n(78302),mn=n(23066);const vn="pSD8FAzxnwWRFeP817di";var gn=r.memo(r.forwardRef((function(e,t){var n=e.className,a=e.render,o=e.numberOfElements,i=(0,r.useRef)(null),c=(0,r.useState)({columnCount:-1}),s=(0,w.Z)(c,2),l=s[0],u=s[1];(0,r.useImperativeHandle)(t,(function(){return i.current}));var d=(0,r.useCallback)((function(){var e=i.current;if(e&&e.parentElement){var t=function(e,t){var n=e;return n/t<196?Math.floor((n-24)/196):t}(e.parentElement.offsetWidth,o);u({columnCount:t})}}),[o]);(0,mn.y)({refOrElement:i,observeOnly:"width",onResize:function(){d()}}),(0,r.useLayoutEffect)((function(){d()}),[d]);var f={"--column-count":"".concat(l.columnCount),"--responsive-column-count":"".concat(l.columnCount-1)};return(0,ae.jsx)("div",{ref:i,className:$t()(vn,n),style:f,children:a(l)})})));gn.displayName="GridContainer";const pn="J16VxLN1EwiAF59N0j9C",hn="_1F6U2s5XM0jZxxOSpm4f",yn="Nafv5vKVkay8bxmKRw05";function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){(0,se.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bn=r.memo((function(e){var t=e.title,n=e.children,a=e.seeAllUri,o=e.className,i=void 0===o?"":o,c=e.testId,s=void 0===c?"component":c,l=e.seeAllLabel,u=e.onClickShelfTitle,d=e.onClickShelfSeeAll,f=e.elementRef,m=(0,r.useCallback)((function(e){var t=e.columnCount;if(!Array.isArray(n))return(0,ae.jsx)(ae.Fragment,{});var a=r.Children.toArray(n);return(0,ae.jsx)(ae.Fragment,{children:a.filter((function(e,n){return n<t}))})}),[n]);return Array.isArray(n)&&0===n.length?null:(0,ae.jsxs)("section",{ref:f,className:$t()(i,pn),"data-testid":"".concat(s,"-shelf"),"aria-label":t,children:[(0,ae.jsx)("div",{className:hn,children:(0,ae.jsx)(dn.r,{title:t,seeAllUri:a,seeAllLabel:l,onClickTitle:u,onClickSeeAll:d})}),(0,ae.jsx)(gn,{className:$t()(yn),render:m,numberOfElements:r.Children.count(n)})]})}));bn.displayName="BaseShelf";var wn=function(e){return(0,ae.jsx)(un.L,{onError:function(e){(0,fn.vK)(e,"Shelf")},children:(0,ae.jsx)(bn,xn({},e))})};var Nn=function(e){var t=(0,ln.f)(Ft.u,{}).spec,n=(0,r.useMemo)((function(){return t.concertsShelfContainerFactory({position:e.position})}),[t,e.position]),a=(0,x.Wi)(n);return(0,ae.jsx)("div",{"data-testid":"family-duo-concerts-shelf",ref:a,children:(0,ae.jsxs)(wn,{title:"family"===e.shelfData.planType?v.ag.get("web-player.family-duo-concerts-shelf.shelf-title-family"):v.ag.get("web-player.family-duo-concerts-shelf.shelf-title-duo"),children:["family"===e.shelfData.planType?(0,ae.jsx)(cn,{spec:n}):(0,ae.jsx)(sn,{spec:n}),e.shelfData.concerts.map((function(r,a){return function(e,t,n,r,a){var o=e.concert,i=e.members;return 1===o.concerts.length?(0,ae.jsx)(x.Nh,{spec:r,children:(0,ae.jsx)(Xt,{concert:o.concerts[0].concert,followers:i,spec:n,position:a},"concert-card-".concat(o.concerts[0].concert.id))}):(0,ae.jsx)(x.Nh,{spec:r,children:(0,ae.jsx)(qt,{event:o,onClick:t,followers:i,spec:n,position:a},"concert-grouped-card-".concat(o.location,"-").concat(o.artists.join()))})}(r,e.onOpenGroupedEvent,n,t,a)}))]})})};const Dn=(0,r.memo)((function(e){var t=e.enableInterestedFeature,n=void 0!==t&&t,r=e.isLoading,a=e.events,o=e.locationName,i=e.spec,c=e.onOpenGroupedEvent,s=e.familyDuoShelfData;if(r)return(0,ae.jsx)(O.h,{hasError:!1,errorMessage:""});if(0===a.length)return(0,ae.jsx)(I.u,{title:v.ag.get("concerts.error.no_concerts_found_title"),message:v.ag.get("concerts.error.no_concerts_found_message",o),renderInline:!0});var l=function(e){var t={popular:[],recommended:[],online:[]};return e.forEach((function(e){switch(e.source){case"recommendation":t.recommended.push(e);break;case"popular":t.popular.push(e);break;case"online":t.online.push(e)}})),t}(a);return(0,ae.jsxs)(ae.Fragment,{children:[s&&(0,ae.jsx)(Nn,{shelfData:s,onOpenGroupedEvent:c,position:0}),(0,ae.jsx)(Ot,{title:v.ag.get("concerts_upcoming_virtual_events"),identifier:"online",position:s?1:0,events:l.online,onOpenGroupedEvent:c,feedSpec:i}),(0,ae.jsx)(Ot,{title:!n||s?v.ag.get("concerts_recommended_for_you"):"",identifier:"recommended",position:s?2:1,events:l.recommended,onOpenGroupedEvent:c,feedSpec:i}),(0,ae.jsx)(Ot,{title:v.ag.get("concerts_popular_near_you"),identifier:"popular",position:s?3:2,events:l.popular,onOpenGroupedEvent:c,feedSpec:i})]})}));var _n=n(91914);const kn=(0,r.memo)((function(e){var t,n,a,i=e.enableInterestedFeature,c=void 0!==i&&i,s=e.geonameId,l=e.spec,u=(0,o.s0)(),d=(0,r.useState)(),m=(0,w.Z)(d,2),g=m[0],p=m[1],h=(0,Fe.o)(),y=(0,r.useMemo)((function(){return l.headerFactory()}),[l]),j=(n={geonameId:s},a=(0,le.useQueryClient)(),(0,le.useQuery)(["concerts",n],we,{staleTime:ke,keepPreviousData:!0,onSuccess:function(e){if(!n.geonameId&&e.userLocationGeonameId){var t=parseInt(e.userLocationGeonameId,10),r=["concerts",be(be({},n),{},{geonameId:t})];a.setQueryData(r,(function(){return e}))}}})),x=j.data,b=j.isLoading,N=(null==x?void 0:x.userLocation)||v.ag.get("concerts.default_location");!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,le.useQuery)(["family-duo-concert-recommendations-aa-test",e],_n.P,{enabled:(0,f.W6)(Pe.hj)})}({geonameId:e.geonameId});var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,le.useQuery)(["family-duo-concert-recommendations",e],_n.P,{enabled:(0,f.W6)(Pe.YC),retry:!1})}({geonameId:e.geonameId}),_=D.data,k=D.isFetched,I=D.isLoading,O=_&&k,S=(null!==(t=null==_?void 0:_.concerts)&&void 0!==t?t:[]).length>0;return(0,ae.jsxs)("div",{children:[(0,ae.jsx)(C.$,{children:"".concat(v.ag.get("concerts_shows_in")," ").concat(N)}),(0,ae.jsx)("div",{className:at,"data-testid":"location-selector",children:(0,ae.jsx)(Se.Z,{handleLocationChange:function(e){h({type:"click",intent:"change-live-events-location"}),null!=e&&e.geonameId&&u((0,B.yI)(e.geonameId,e.location))},locationStr:N,headerSpec:y})}),(0,ae.jsx)(Dn,{enableInterestedFeature:c,isLoading:b||I,familyDuoShelfData:O&&S?_:void 0,events:(null==x?void 0:x.events)||[],locationName:N,spec:l,onOpenGroupedEvent:function(e){var t;p(e);var n=null===(t=e.concerts[0])||void 0===t?void 0:t.concert.artistUris[0];h({type:"click",intent:"open-grouped-live-event",targetUri:n})}}),(0,ae.jsx)(ie,{event:g,locationName:N,feedSpec:l,onClose:function(){return p(void 0)}})]})}));const Cn=(0,r.memo)((function(e){var t,n,r=e.spec,a=(0,le.useQuery)("savedConcerts",je,{keepPreviousData:!1});return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(C.$,{children:"".concat(v.ag.get("live_events.label"))}),null!==(t=a.data)&&void 0!==t&&t.events.length?(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(Ot,{title:v.ag.get("concerts_upcoming"),identifier:"saved",position:0,events:null===(n=a.data)||void 0===n?void 0:n.events,feedSpec:r,onOpenGroupedEvent:function(){}})}):(0,ae.jsxs)("div",{className:ut,children:[(0,ae.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:mt,children:v.ag.get("concerts_interested_in_live_events")}),(0,ae.jsx)(d.D,{as:"p",className:vt,children:v.ag.get("concerts_no_events_description")}),(0,ae.jsx)(L.default,{to:"/concerts",className:dt,children:(0,ae.jsx)(D.P,{as:"span",className:ft,children:v.ag.get("concerts_browse_more_events")})})]})]})}));var In=(0,r.memo)((function(e){var t=e.spec,n=e.isLoading,r=e.data,a=e.onOpenGroupedEvent;if(n)return(0,ae.jsx)(O.h,{hasError:!1,errorMessage:""});if(!r||0===r.events.length)return(0,ae.jsxs)("div",{className:ut,children:[(0,ae.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:mt,children:v.ag.get("concerts.no_spotify_results_title")}),(0,ae.jsx)(d.D,{as:"p",className:vt,children:v.ag.get("concerts.no_spotify_results_description")})]});var o,i,c=(o=r.events,i={near:[],other:[]},o.forEach((function(e){switch(e.source){case"near_first_party":i.near.push(e);break;case"other_first_party":i.other.push(e)}})),i);return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Ot,{title:v.ag.get("concerts.header.near"),identifier:"spotify_near",position:0,events:c.near,feedSpec:t,onOpenGroupedEvent:a}),(0,ae.jsx)(Ot,{title:v.ag.get("concerts.header.other"),identifier:"spotify_other",position:1,events:c.other,feedSpec:t,onOpenGroupedEvent:a})]})}));const On=(0,r.memo)((function(e){var t=e.geonameId,n=e.spec,a=(0,o.s0)(),c=(0,i.lr)(),s=(0,w.Z)(c,1)[0],l=(0,Fe.o)(),u=function(e){return(0,le.useQuery)(["concerts","spotify",{geonameId:e}],_e,{staleTime:ke,keepPreviousData:!0})}(t),d=u.data,f=u.isLoading,m=(0,r.useState)(),g=(0,w.Z)(m,2),p=g[0],h=g[1],y=(0,r.useMemo)((function(){return n.headerFactory()}),[n]),j=(null==d?void 0:d.userLocation)||v.ag.get("concerts.default_location");return(0,ae.jsxs)("div",{children:[(0,ae.jsx)(C.$,{children:"".concat(v.ag.get("live_events.label"))}),(0,ae.jsx)("div",{className:at,"data-testid":"location-selector",children:(0,ae.jsx)(Se.Z,{handleLocationChange:function(e){l({type:"click",intent:"change-live-events-location"}),null!=e&&e.geonameId&&a({pathname:(0,B.yI)(e.geonameId,e.location),search:"?".concat(s)})},locationStr:j,headerSpec:y})}),(0,ae.jsx)(In,{spec:n,data:d,isLoading:f,onOpenGroupedEvent:function(e){var t;h(e);var n=null===(t=e.concerts[0])||void 0===t?void 0:t.concert.artistUris[0];l({type:"click",intent:"open-grouped-live-event",targetUri:n})}}),(0,ae.jsx)(ie,{event:p,locationName:j,feedSpec:n,onClose:function(){return h(void 0)}})]})}));var Sn=c.vI0,Fn={url:"https://tickets.spotifycdn.com/partner-assets/Hub%20header%20image/Desktop%20header%20IMG.png",width:2736,height:720};const Pn=function(){var e=(0,a.v9)(j.Gg).isAnonymous,t=(0,o.TH)(),n=t.pathname+t.search,c=(0,x.$P)(),w=(0,f.W6)(b.tp),N=(0,f.W6)(b.J_),D=(0,x.fU)(m.y,{}).spec,_=Oe({isAnonymous:e,isInterestedEnabled:w,isSoldBySpotifyEnabled:N}),k=(0,r.useMemo)((function(){return D.headerFactory().liveEventsNavbarFactory({uri:n,reason:_.type})}),[D,_,n]),C=(0,x.Wi)(k),I=function(e,t){var n=D.headerFactory().liveEventsNavbarFactory({uri:e,reason:t}).hitUiNavigate({destination:e});c.logInteraction(n)};return(0,ae.jsxs)("section",{className:ot,children:[(0,ae.jsxs)(p.gF,{size:p.fR.SMALL,backgroundColor:Sn,backgroundImages:[Fn],children:[(0,ae.jsx)(p.sP,{children:(0,ae.jsx)(p.xd,{children:v.ag.get("live_events.label")})}),(0,ae.jsx)(h.W,{children:(0,ae.jsx)(y.i,{text:v.ag.get("live_events.label")})})]}),(0,ae.jsxs)("div",{className:it,children:[(0,ae.jsx)(g.I,{backgroundColor:Sn}),(0,ae.jsx)("div",{className:st,ref:C,children:(0,ae.jsx)(s.l,{list:(0,ae.jsx)("nav",{"aria-label":"live events navbar",children:(0,ae.jsxs)(l.F,{children:[(0,ae.jsx)(u.c,{id:"for_you_link",label:v.ag.get("live_events.for_you_tab"),active:"foryou"===_.type,className:lt,component:i.rU,onClick:function(){return I("/concerts?filter=foryou","foryou")},sentenceCase:!0,to:"/concerts?filter=foryou"},"foryou"),(0,ae.jsx)(u.c,{id:"concerts_all_link",label:v.ag.get("live_events.all_events_tab"),active:"all"===_.type,className:lt,component:i.rU,onClick:function(){return I("/concerts?filter=all","all")},sentenceCase:!0,to:"/concerts?filter=all"},"all"),N&&(0,ae.jsx)(u.c,{id:"concerts_spotify_link",label:v.ag.get("live_events.spotify_tab"),active:"spotify"===_.type,className:lt,component:i.rU,onClick:function(){return I("/concerts?filter=spotify","spotify")},sentenceCase:!0,to:"/concerts?filter=spotify"},"spotify"),!e&&w&&(0,ae.jsx)(u.c,{id:"concerts_interested_link",label:v.ag.get("concerts_interested"),active:"saved"===_.type,className:lt,component:i.rU,onClick:function(){return I("/concerts?filter=saved","saved")},sentenceCase:!0,to:"/concerts?filter=saved"},"saved")]})})})}),(0,ae.jsxs)("div",{className:ct,children:[e&&"foryou"===_.type&&(0,ae.jsx)(St,{geonameId:_.geonameId,spec:D}),!e&&"foryou"===_.type&&(0,ae.jsx)(kn,{geonameId:_.geonameId,spec:D,enableInterestedFeature:w}),"all"===_.type&&(0,ae.jsx)(kt,{geonameId:_.geonameId,spec:D}),"spotify"===_.type&&(0,ae.jsx)(On,{geonameId:_.geonameId,spec:D}),"saved"===_.type&&(0,ae.jsx)(Cn,{spec:D}),(0,ae.jsx)(d.D,{variant:"finale",semanticColor:"textSubdued",children:v.ag.get("live_events.disclaimer")})]})]})]})}},91914:(e,t,n)=>{n.d(t,{g:()=>v,P:()=>m});var r=n(39130),a=n(8850),o=n(10995),i=n.n(o),c=n(60808),s=n(45389),l=(n(89620),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(32953));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d=function(e,t){return e.build().withMethod("GET").withHost(l.gH).withPath("/concerts/").withEndpointIdentifier("/cooper/concerts").withQueryParameters(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t&&{geonameId:t})).withoutMarket().send()},f=function(e,t){return e.build().withMethod("POST").withHost(l.gH).withPath("/followers/").withEndpointIdentifier("/cooper/followers").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withBody(JSON.stringify({artists:t})).withoutMarket().send()},m=function(){var e=(0,a.Z)(i().mark((function e(t){var n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.Z)(t.queryKey,2),n[0],a=n[1].geonameId,e.next=3,d(c.b.getInstance(),a);case 3:return o=e.sent,e.abrupt("return",o.body);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(i().mark((function e(t){var n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,r.Z)(t.queryKey,2),n[0],a=n[1].artists,e.next=3,f(c.b.getInstance(),a);case 3:return o=e.sent,e.abrupt("return",o.body);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},47552:(e,t,n)=>{n.d(t,{D:()=>u});n(162);var r=n(59496),a=n(20188);const o="g4AhdK8faqTe7v8VqC3x";var i=n(4637),c=(0,r.memo)((function(e){var t=e.alt;return(0,i.jsxs)("svg",{height:8,width:8,"aria-hidden":"true",viewBox:"-8 -8 32 32",className:o,children:[(0,i.jsx)("title",{children:t}),(0,i.jsx)("path",{d:"M6.233.371a4.388 4.388 0 0 1 5.002 1.052c.421.459.713.992.904 1.554.143.421.263 1.173.22 1.894-.078 1.322-.638 2.408-1.399 3.316l-.127.152a.75.75 0 0 0 .201 1.13l2.209 1.275a4.75 4.75 0 0 1 2.375 4.114V16H.382v-1.143a4.75 4.75 0 0 1 2.375-4.113l2.209-1.275a.75.75 0 0 0 .201-1.13l-.126-.152c-.761-.908-1.322-1.994-1.4-3.316-.043-.721.077-1.473.22-1.894a4.346 4.346 0 0 1 .904-1.554c.411-.448.91-.807 1.468-1.052zM8 1.5a2.888 2.888 0 0 0-2.13.937 2.85 2.85 0 0 0-.588 1.022c-.077.226-.175.783-.143 1.323.054.921.44 1.712 1.051 2.442l.002.001.127.153a2.25 2.25 0 0 1-.603 3.39l-2.209 1.275A3.25 3.25 0 0 0 1.902 14.5h12.196a3.25 3.25 0 0 0-1.605-2.457l-2.209-1.275a2.25 2.25 0 0 1-.603-3.39l.127-.153.002-.001c.612-.73.997-1.52 1.052-2.442.032-.54-.067-1.097-.144-1.323a2.85 2.85 0 0 0-.588-1.022A2.888 2.888 0 0 0 8 1.5z"})]})}));const s="WCQhjx2ZwtN1mwka_4wj";var l=function(e){var t,n,o=(0,a.$P)(),s="spotify:user:".concat(e.follower.username);return(0,r.useEffect)((function(){o.logImpression(e.spec.planMemberFactory({identifier:e.follower.memberId,uri:s}).impression())})),e.follower.profileImageUrl?(0,i.jsx)("img",{src:e.follower.profileImageUrl,alt:null!==(n=e.follower.displayName)&&void 0!==n?n:e.follower.username},"follower-".concat(null!==(t=e.follower.displayName)&&void 0!==t?t:e.follower.username)):(0,i.jsx)(c,{alt:e.follower.displayName},"follower-".concat(e.follower.displayName))},u=(0,r.memo)((function(e){return(0,i.jsx)("div",{className:s,children:e.followers.map((function(t,n){return(0,i.jsx)(l,{follower:t,spec:e.spec},"follower-".concat(n))}))})}))},9683:(e,t,n)=>{n.d(t,{FV:()=>c,a4:()=>s,ij:()=>i});var r=n(83014),a=(n(162),n(30246),n(69109),n(17249)),o=n(4637),i=function(e){if(function(e){return!!e.title&&(e.festival||!e.artists.length)}(e))return e.title;var t=function(e){return e.artists.map((function(e){return e.name}))}(e);return 1===t.length?a.ag.get.apply(a.ag,["concert.header.upcoming_concert_title_1"].concat((0,r.Z)(t))):2===t.length?a.ag.get.apply(a.ag,["concert.header.upcoming_concert_title_2"].concat((0,r.Z)(t))):3===t.length?a.ag.get.apply(a.ag,["concert.header.upcoming_concert_title_3"].concat((0,r.Z)(t))):4===t.length?a.ag.get.apply(a.ag,["concert.header.upcoming_concert_title_4"].concat((0,r.Z)(t))):t.length>4?a.ag.get.apply(a.ag,["concert.header.upcoming_concert_title_more"].concat((0,r.Z)(t))):""},c=function(e){var t;return 1===e.length?a.ag.get("web-player.family-duo-concerts-shelf.X-follows",null!==(t=e[0].displayName)&&void 0!==t?t:e[0].username):a.ag.get("web-player.family-duo-concerts-shelf.X-of-your-family-follow",e.length)},s=function(e,t){var n=e.map((function(e,n){var r,a="spotify:user:".concat(e.username);return(0,o.jsx)("a",{onClick:function(){return t(a,e.memberId)},href:a,children:null!==(r=e.displayName)&&void 0!==r?r:e.username},"follower-name-".concat(n))}));return 1===e.length?a.ag.get("web-player.family-duo-concerts-shelf.X-follows",n[0]):2===e.length?a.ag.get.apply(a.ag,["web-player.family-duo-concerts-shelf.2-follow"].concat((0,r.Z)(n))):3===e.length?a.ag.get.apply(a.ag,["web-player.family-duo-concerts-shelf.3-follow"].concat((0,r.Z)(n))):4===e.length?a.ag.get.apply(a.ag,["web-player.family-duo-concerts-shelf.4-follow"].concat((0,r.Z)(n))):a.ag.get.apply(a.ag,["web-player.family-duo-concerts-shelf.5-follow"].concat((0,r.Z)(n)))}}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map