"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[730],{59668:(n,e,t)=>{t.r(e),t.d(e,{default:()=>k});t(83001),t(22369),t(27639),t(71756),t(45880),t(16366),t(70785),t(69109),t(96807);var a=t(59496),i=t(61740),r=t(41177),o=t(59272),u=t(22465),l=t(29893),c=t(9294),d=t(78742),f=t(49756),s=a.memo((function(){var n=(0,r.s0)(),e=(0,r.TH)(),t=(0,a.useContext)(f.ZF),s=(0,d.g)(),k=(0,r.UO)().trackId,v=void 0===k?"":k,h=(0,i.v9)(l.Gg).isAnonymous,b=new URLSearchParams(e.search).get("context")||"",g=(0,o.tn)(v).toURI(),m=(0,u.QN)({uri:g},{cacheTime:30*c.y}),p=(0,a.useCallback)((function(e,t){var a,i=s.getState(),r=null===(a=(0,o.EC)(t))||void 0===a?void 0:a.toURLPath(!0),u="".concat(r,"?highlight=").concat(g);h?n(u):(i&&!i.isPaused||e>-1&&s.play({uri:t},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:e}}),n(u,{replace:!0}))}),[n,h,s,g]),U=(0,a.useCallback)((function(){var n;if(!m.loading&&null!==(n=m.data)&&void 0!==n&&n.trackUnion&&"Track"===m.data.trackUnion.__typename){var e,t,a,i,r=(null!==(e=null===(t=m.data.trackUnion.albumOfTrack)||void 0===t||null===(a=t.tracks)||void 0===a?void 0:a.items)&&void 0!==e?e:[]).findIndex((function(n){return n.track.uri===g}));if(r>=0)p(r,(null===(i=m.data.trackUnion.albumOfTrack)||void 0===i?void 0:i.uri)||"")}}),[p,m,g]);return(0,a.useEffect)((function(){var n=(0,o.nK)(b);b&&n?t.getContents(b).then((function(n){var e=n.items.findIndex((function(n){return(null==n?void 0:n.uri)===g}));e<0?U():p(e,b)})):U()}),[b,U,p,t,g]),null}));const k=s}}]);
//# sourceMappingURL=xpui-routes-track.js.map