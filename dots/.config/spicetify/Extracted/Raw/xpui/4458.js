"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4458],{74458:(n,t,e)=>{e.r(t),e.d(t,{EpisodeSponsorNowPlayingBarHatIfPodcastAdIsPlaying:()=>P,default:()=>H});e(83001),e(22369),e(8760),e(27639),e(71756);var o=e(59496),r=e(78742),a=e(9271),i=e(24122),d=e(8850),s=e(39130),u=e(10995),c=e.n(u),l=(e(94562),e(42639),e(28933),e(162),e(29543),e(70969),e(16296)),v=["podcast-preroll","podcast-midroll-1","podcast-midroll-2","podcast-midroll-3","podcast-midroll-4","podcast-midroll-5","podcast-postroll"];function f(n){var t=n.eventTypesToSubscribeTo,e=n.onPodcastAdEvent,o=n.onError,r=t.flatMap((function(n){return v.map((function(t){return(0,l.oc)(n,e,o,{slot:t})}))}));return function(){return r.forEach((function(n){return(0,n.cancel)()}))}}var p=["started","resumed","ended"];var b=250;var m="cta_card_sai";function E(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).subscribeToPodcastAdEvents,t=void 0===n?f:n,e=(0,o.useState)(),r=(0,s.Z)(e,2),a=r[0],i=r[1],u=function(){var n=(0,o.useState)(),t=(0,s.Z)(n,2);return{hidingHat:t[0],setHidingHat:t[1]}}(),l=u.hidingHat,v=u.setHidingHat;return(0,o.useEffect)((function(){var n=!0,e=t({eventTypesToSubscribeTo:p,onPodcastAdEvent:function(t){return(0,d.Z)(c().mark((function e(){var o,r,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.event_type,o=Boolean(("started"===s||"resumed"===s?s:void 0)&&t.ad.metadata.product_name===m),r=Boolean(a&&o&&a.ad.id===t.ad.id),(d=r?void 0:new Promise((function(t){return setTimeout((function(){n&&(i(void 0),v(void 0)),t()}),b)})))&&n&&v(d),!o){e.next=9;break}return e.next=8,d;case 8:n&&i(t);case 9:case"end":return e.stop()}var s}),e)})))()}});return function(){n=!1,e()}}),[a,v,t]),{activeAdEvent:a,hidingHat:l}}var g=e(4637),h=(0,o.lazy)((function(){return Promise.all([e.e(1814),e.e(5103),e.e(4669)]).then(e.bind(e,14669))}));function P(n){var t=n.subscribeToPodcastAdEvents,e=n.clickEventPosterForEpisodeSponsorNowPlayingBarHat,d=(0,r.g)(),s=(0,a.Y)((function(n){var t,e=null!==(t=null==n?void 0:n.item)&&void 0!==t?t:void 0;return(0,i.k6)(e)&&e.isPodcastAd?e:null}),(function(n,t){return(null==n?void 0:n.uri)===(null==t?void 0:t.uri)})),u=E({subscribeToPodcastAdEvents:t}),c=u.activeAdEvent,l=u.hidingHat;return(s||l)&&c?(0,g.jsx)(o.Suspense,{fallback:!0,children:(0,g.jsx)(h,{adEvent:c,ad:s,hidingHat:l,postClickEvent:null==e?void 0:e(c.ad.id,d)})}):null}const H=P}}]);
//# sourceMappingURL=4458.js.map