"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[6450],{53410:(e,n,t)=>{t.r(n),t.d(n,{DISALLOWED_VIEWS:()=>K,View:()=>X,default:()=>$});var r=t(45389),i=(t(62780),t(22369),t(30246),t(72304),t(4302),t(66469),t(39975),t(48096),t(59496)),o=t(84875),c=t.n(o),s=t(61740),a=t(76050),u=t(17249),l=t(17386),d=t(8161),f=t(96491),v=t(67262),p=t(8632),g=t(20188),m=t(27443),h=t(60817),b=t(23006),j=t(35833),y=t(61996),x=t(68833),w=(t(16366),t(31781),t(47921),t(162),t(61235),t(69724),t(95675),t(7845),t(29543),t(70969),t(66715),t(30479),t(75341),t(91780)),O=t(3594),P=t(78142),k=t(10506),D=t(38674),N=t(10785),E=t(88843);const A="EPMDgp7znILo0hvyirzv",I="noUm6pjQ6KWq7mVxYDor",C="PqnKjxzJ1Zvr9qKRlRbO",S="uuBQS9Ym_VPmAQrLhPQb";var L=t(4637);function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z=function(e){return(0,D.W6)(N.sE)?(0,L.jsxs)(E.default,{to:e.uri,target:"_blank",className:A,children:[(0,L.jsx)("div",{className:I}),(0,L.jsx)(k.D,{className:C,as:"h2",variant:"alto",children:e.label}),(0,L.jsx)(k.D,{className:S,as:"p",variant:"mesto",children:e.tagline})]}):null},q=function(e){return(0,L.jsx)(i.Suspense,{fallback:null,children:(0,L.jsx)(Z,F({},e))})};function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n;return null===(n=e.id)||void 0===n?void 0:n.startsWith("scc-corona")},G=function(e){var n=e.spaces,t=e.viewName,r=e.viewId,o=e.isAnonymous,c=(0,i.useCallback)((function(e,n){var t=function(e,n){var t=e.uri;return e.href.includes("https://api.spotify.com/v1/views/")&&(t=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),"hub-browse-grid"===n&&(t=t.replace(":view:",":genre:"))),t}(e,r);return(0,L.jsx)(w.q,{index:n,entity:R(R({},e),{},{uri:t})},e.href)}),[r]),s=(0,i.useCallback)((function(e,n){return(0,L.jsx)(P.JL,{value:"card",index:n,children:(0,L.jsx)(w.q,{index:n,entity:e})},e.uri||n)}),[]),a=(0,i.useCallback)((function(e,n){return"link"===e.type?c(e,n):s(e,n)}),[s,c]),u=(0,i.useCallback)((function(e){return!!_(e)||!(function(e){return"HEADER"===e.rendering}(e)||0===e.content.total||o&&"uniquely-yours-shelf"===e.id)}),[o]);return n&&0!==n.length?n[0].content?(0,L.jsx)(L.Fragment,{children:n.filter(u).map((function(e,n){var t=e.content&&(0,m.p)((0,m.S)(e.href));if(_(e)){var i=e.content.items[0];return i&&i.name&&i.description&&i.href?(0,L.jsx)(q,{label:i.name,tagline:i.description,uri:i.href},"corona-banner"):null}return(0,L.jsx)(P.JL,{value:"headered-grid",index:n,children:(0,L.jsx)(O.q,{total:e.content.total,seeAllUri:t,pageId:r,title:e.name,tagline:e.tag_line||void 0,index:n,id:e.id,children:e.content.items.map(a)})},e.id)}))}):(0,L.jsx)(P.JL,{value:"headered-grid",children:(0,L.jsx)(O.q,{showAll:!0,title:t,total:(null==n?void 0:n.length)||0,index:0,id:null!=r?r:"spaces-see-all-grid",children:null==n?void 0:n.map(a)})}):null},Q=t(29893);const U="XD65NhAD6ebYxMaW9cZZ",V="AJqEY1gblQDvIgjU0jAH",T="Ft1cMGlqDsCbqmXQyeKN",H="zlBEnsMyvUhuHSEtst4Q",Y="INYpiFRlwWIZ0vH30xW2";var z=function(e){return"HEADER"===e.rendering},B=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;if(!e)return(0,L.jsx)("div",{className:Y});var r=n.filter((function(e){return"background"===e.name}));return(0,L.jsxs)(b.gF,{backgroundImages:r,backgroundColor:t,size:0===r.length?b.fR.SMALL:b.fR.DEFAULT,children:[(0,L.jsx)(j.W,{children:(0,L.jsx)(y.i,{text:e})}),(0,L.jsx)(b.sP,{children:(0,L.jsx)(b.xd,{children:e})})]})},J=function(e){var n=e.title,t=e.images,r=e.backgroundColor;return(0,L.jsx)(L.Fragment,{children:B(n,t,r)})},K=["ginger-genre-affinity"],X=i.memo((function(e){var n=e.viewData,t=e.viewId,o=e.backgroundColor,s=e.isFullyLoaded,f=e.isGenre,m=e.isAnonymous,j=e.getNextPage,y=null==n?void 0:n.name,w=(0,g.fU)(a.createDesktopGenreEventFactory,{data:{identifier:t,uri:"spotify:genre:".concat(t)}}),O=w.spec,P=w.UBIFragment,k=(0,i.useCallback)((function(){return K.some((function(e){var t;return null==n||null===(t=n.href)||void 0===t?void 0:t.includes(e)}))}),[n]),D=(0,i.useCallback)((function(){if(n){var e=k();s||e||j()}}),[n,k,s,j]),N=(0,i.useMemo)((function(){var e=(n||{}).content,t=(void 0===e?{}:e).items,r=(void 0===t?[]:t).filter(z);return r.length>0?r[0]:null}),[n]),E=(0,i.useMemo)((function(){var e=(n||{}).name;return N?N.name:o&&e}),[o,N,n]),A=(0,i.useMemo)((function(){return f||Boolean(E)}),[f,E]),I=(0,i.useMemo)((function(){return!(!n||!Array.isArray(n.content.items))&&A}),[A,n]),C=(0,b.oX)(t)?(0,L.jsx)(b.YD,{isAnonymous:m}):(0,L.jsx)(J,{title:(null==N?void 0:N.name)||E,images:(null==N?void 0:N.images)||[],backgroundColor:o}),S=null==n?void 0:n.content.items,M=(0,i.useMemo)((function(){return O.shelvesFactory()}),[O]);return n?(0,L.jsxs)(L.Fragment,{children:[y?(0,L.jsx)(h.$,{children:(0,p.cT)({genreName:y})}):null,(0,L.jsx)(v.C,{onReachBottom:D,children:(0,L.jsxs)("section",{className:U,children:[I&&(0,L.jsx)(d.H,{color:o||null}),A?C:(0,L.jsx)("div",{className:Y}),(0,L.jsxs)("div",{className:T,children:[A&&C&&(0,L.jsx)(l.I,{backgroundColor:o}),(0,L.jsx)("div",{className:c()(V,"contentSpacing",(0,r.Z)({},H,f)),children:(0,L.jsx)(P,{spec:M,children:(0,L.jsx)(G,{spaces:S,viewName:n.name,viewId:t,isAnonymous:m})})})]})]})})]}):(0,L.jsx)(x.h,{hasError:!1,errorMessage:u.ag.get("error.not_found.title.page")})}));const $=i.memo((function(e){var n=e.viewId,t=(0,s.v9)(Q.Gg).isAnonymous,r=(0,f.P)(n),i=r.view,o=r.getNextPage,c=!i||null===i.content.next,a=n.endsWith("-page")?n:"".concat(n,"-page"),u=(0,s.v9)((function(e){var n,t;return(null===(n=e.browse.allItemsStyle)||void 0===n||null===(t=n[a])||void 0===t?void 0:t.color)||""})),l=function(e){return e.viewId===n||"href"in e&&e.href===(0,m.p)(n)},d=(0,s.v9)((function(e){var n,t,r,i;return(null==e||null===(n=e.browse)||void 0===n||null===(t=n.browseAll)||void 0===t?void 0:t.items.some(l))||(null==e||null===(r=e.browse)||void 0===r||null===(i=r.topGenres)||void 0===i?void 0:i.items.some(l))||!!u}));return(0,L.jsx)(X,{viewData:i,isFullyLoaded:c,viewId:n,backgroundColor:u,isGenre:d,isAnonymous:t,getNextPage:o})}))},96491:(e,n,t)=>{t.d(n,{P:()=>j});t(95675),t(61235),t(62780),t(7845),t(29543),t(70969),t(66715),t(30479),t(75341);var r=t(45389),i=t(8850),o=(t(81289),t(22369),t(69109),t(83001),t(27639),t(71756),t(70238),t(45880),t(76626),t(10995)),c=t.n(o),s=t(59496),a=t(9102),u=t(60808),l=t(1074),d=(t(90511),t(61740)),f=t(38674),v=t(17249),p=t(1017),g=t(29893),m=t(87824);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e,n){var t,r,o,u,l,h,j,x,O=(o=(0,f.W6)(m.Xf),u=(0,d.v9)(p.rZ),l=(0,d.v9)(g.Gg).overrides,h=v.ag.getLocale(),j=(null==l?void 0:l.country)||u,x=(null==l?void 0:l.locale)||h,(0,s.useMemo)((function(){var e=["album","playlist","artist","show","station","episode","merch","artist_concerts"];return o&&e.push("uri_link"),{country:j,locale:x,types:e.join(",")}}),[j,o,x])),P=(0,a.useInfiniteQuery)(["useView",e,O],function(){var n=(0,i.Z)(c().mark((function n(t){var r,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.pageParam,i=void 0===r?void 0:r,n.abrupt("return",void 0===i?y(e,O):w(i));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{cacheTime:null!==(t=null==n?void 0:n.cacheTime)&&void 0!==t?t:18e5,staleTime:null!==(r=null==n?void 0:n.staleTime)&&void 0!==r?r:3e5,getNextPageParam:function(e){var n;return null!==(n=e.content.next)&&void 0!==n?n:void 0},getPreviousPageParam:function(e){var n;return null!==(n=e.content.previous)&&void 0!==n?n:void 0}}),k=P.data,D=P.fetchNextPage;return{view:(0,s.useMemo)((function(){return null==k?void 0:k.pages.reduce((function(e,n){return b(b({},e),{},{content:b(b({},e.content),{},{href:n.content.href,next:n.content.next,offset:n.content.offset,previous:n.content.previous,total:n.content.total,items:e.content.items.concat(n.content.items)})})}))}),[null==k?void 0:k.pages]),getNextPage:D}};function y(e,n){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(c().mark((function e(n,t){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.kO.getView(u.b.getInstance(),n,t);case 2:return r=e.sent,i=r.body,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)(c().mark((function e(n){var t,r,i,o,s,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(n),r=t.origin,i=t.pathname,o=Object.fromEntries(t.searchParams.entries()),e.next=6,l.TV.getGeneric(u.b.getInstance(),r,i,o,"/useView/fetchNext/{next}");case 6:return s=e.sent,a=s.body,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=xpui-routes-view.js.map