"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8420],{72:(e,t,n)=>{n.d(t,{B:()=>B});var r=n(45389),i=(n(61235),n(69724),n(30246),n(40265),n(80108),n(95675),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(17249)),o=n(54691),l=n(6336),s=n(90902),a=n(75897),c=n(56203),u=n(32572),d=n(12033),p=n(23498),v=n(72030),m=n(8850),f=n(39130),g=n(980),h=n(10995),x=n.n(h),j=(n(69109),n(59496)),b=n(10506),y=n(71440),O=n(35103);const w="z4popIk32AsyDKlV1o1v",D="_xxuonqkZEQ7pCffxlUD";var I=n(4637),P=["src","description"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=(0,j.memo)((function(e){var t=e.src,n=e.description,r=(0,g.Z)(e,P),i=(0,j.useState)("inherit"),o=(0,f.Z)(i,2),l=o[0],s=o[1];return(0,j.useEffect)((function(){function e(){return(e=(0,m.Z)(x().mark((function e(t){var n,r,i,o,l,a,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.extractColors)(t);case 2:n=e.sent,r=n.colorRaw,i=r.hsl,o=i.h,l=i.s,a=i.l,c="hsl(".concat(360*o,", ").concat(100*l,"%, ").concat(Math.min(100*a,30),"%)"),s(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&function(t){e.apply(this,arguments)}(t)}),[t]),t?(0,I.jsx)("div",{className:w,style:{backgroundColor:l},"data-testid":"episode-fallback-image-container",children:(0,I.jsx)("div",{className:D,children:(0,I.jsx)(b.D,{as:"p",variant:"canon",children:n})})}):(0,I.jsx)(y.J,k(k({},r),{},{iconSize:64}))})),S=n(91978),E=n(3005),A=n(22355);const R="x1FErCk9Xh9VumpOLyfm",F="heeHk6hz8sAXLIU6P6an",M="Hhfi1xnYwoHoMP2rcltS";function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){var t,n=e.description,r=e.isExplicit,m=e.images,f=e.name,g=e.uri,h=e.durationMilliseconds,x=e.releaseDate,j=e.resume_point,b=e.showImages,y=e.sharingInfo,O=e.is19PlusOnly,w=e.isHero,D=e.onClick,P=e.testId,N=e.index,k=e.requestId,H=e.color,B=x?new Date(x):void 0,L=B&&!isNaN(B.getTime())&&!isNaN(h),U=(0,d.X)(b,{desiredSize:48}),W=(0,c.G3)(g,null==B?void 0:B.toISOString(),null==j?void 0:j.resume_position_ms,null==j?void 0:j.fully_played);return t=w?(0,I.jsx)(S.Z,{index:N,onClick:D,headerText:f,featureIdentifier:"episode",uri:g,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:W,renderCardImage:function(){return(0,I.jsx)(v.x,{isHero:!0,images:m,color:H,FallbackComponent:function(e){return(0,I.jsx)(C,_(_({},e),{},{description:n,src:U&&U.url}))},children:U&&(0,I.jsx)(a.E,{loading:"lazy",src:U.url,className:R,radius:4})})},renderSubHeaderContent:function(){return(0,I.jsxs)(I.Fragment,{children:[r&&!O&&(0,I.jsx)(l.N,{className:F}),O&&(0,I.jsx)(s.X,{size:16,className:F}),L&&(0,I.jsxs)("span",{className:M,children:[B&&(0,u.rL)(B)," ·"," ",i.ag.get("episode.length",Math.ceil(h/6e4))]}),(0,I.jsx)(E.k,{children:i.ag.get("card.tag.episode")})]})},testId:P,requestId:k}):(0,I.jsx)(p.C,{index:N,onClick:D,headerText:f,featureIdentifier:"episode",uri:g,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:W,renderCardImage:function(){return(0,I.jsx)(v.x,{images:m,color:H,FallbackComponent:function(e){return(0,I.jsx)(C,_(_({},e),{},{description:n,src:U&&U.url}))},children:U&&(0,I.jsx)(a.E,{loading:"lazy",src:U.url,className:R,radius:4,testid:"episode-card-show-image"})})},renderSubHeaderContent:function(){return(0,I.jsxs)(I.Fragment,{children:[r&&!O&&(0,I.jsx)(l.N,{className:F}),O&&(0,I.jsx)(s.X,{size:16,className:F}),L&&(0,I.jsxs)("span",{className:M,children:[B&&(0,u.rL)(B)," ·"," ",i.ag.get("episode.length",Math.ceil(h/6e4))]})]})},testId:P,requestId:k}),(0,I.jsx)(o._,{menu:(0,I.jsx)(A.k,{uri:g,sharingInfo:y}),children:t})}},89861:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>$,REDIRECT_BASE:()=>Q,default:()=>K});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var r=n(45389),i=n(38674),o=n(10785),l=n(59496),s=n(84875),a=n.n(s),c=n(58753),u=n(17249),d=n(67262),p=n(1074),v=n(20188),m=n(38185),f=n(8161),g=n(23006),h=n(35833),x=n(61996),j=n(4637),b=function(e){var t=e.image,n=e.color,r=void 0===n?m.k77:n,i=e.title,o=void 0===t?g.fR.SMALL:g.fR.DEFAULT,l=null!=t&&t.uri?[{url:t.uri}]:[];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(g.gF,{backgroundImages:l,backgroundColor:r,size:o,children:[(0,j.jsx)(h.W,{children:i?(0,j.jsx)(x.i,{text:i}):null}),(0,j.jsx)(g.sP,{children:i?(0,j.jsx)(g.xd,{children:i}):null})]}),(0,j.jsx)(f.H,{color:r})]})},y=(n(162),n(42639),n(28933),n(59272)),O=n(3594),w=(n(40265),n(80108),n(69724),n(72)),D=n(15632),I=function(e){return"number"==typeof e?new Date(1e3*e).toISOString():null};var P=function(e,t,n){var r,i,o,l,s,a,c,u;if(void 0===e.id)return null;var d=t.map((function(e,t){return function(e,t){var n,r,i,o,l,s,a,c,u,d,p,v,m,f,g,h,x,b,y,O,P=null===(n=e.component)||void 0===n?void 0:n.id,N=e.id;if(void 0===P||void 0===N)return null;var k,C=null===(r=e.events)||void 0===r||null===(i=r.click)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.uri,S=null===(l=e.images)||void 0===l||null===(s=l.main)||void 0===s?void 0:s.uri,E=S?[{url:S}]:[];switch(P){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===C?null:(0,j.jsx)(w.B,{uri:C,name:null!==(a=null===(c=e.text)||void 0===c?void 0:c.title)&&void 0!==a?a:"",images:E,showImages:E,description:null!==(u=null!==(d=null===(p=e.text)||void 0===p?void 0:p.description)&&void 0!==d?d:null===(v=e.text)||void 0===v?void 0:v.subtitle)&&void 0!==u?u:"",durationMilliseconds:(k=null===(m=e.custom)||void 0===m?void 0:m.duration,"number"==typeof k?k:0),releaseDate:I(null===(f=e.custom)||void 0===f?void 0:f.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},C);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===C?null:(0,j.jsx)(D.Z,{uri:C,name:null!==(g=null===(h=e.text)||void 0===h?void 0:h.title)&&void 0!==g?g:"",images:E,description:null!==(x=null===(b=e.text)||void 0===b?void 0:b.description)&&void 0!==x?x:"",authorName:null!==(y=null===(O=e.text)||void 0===O?void 0:O.subtitle)&&void 0!==y?y:"",index:t},C);default:return null}}(e,t)})).flatMap((function(e){return e?[e]:[]}));if(0===d.length)return null;var p=null===(r=(0,y.EC)(null!==(i=null===(o=e.events)||void 0===o||null===(l=o.click)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.uri)&&void 0!==i?i:""))||void 0===r?void 0:r.toURLPath(!0);return(0,j.jsx)(O.q,{title:null!==(a=null===(c=e.text)||void 0===c?void 0:c.title)&&void 0!==a?a:"",total:d.length,seeAllUri:p,index:n,id:e.id,seeAllLabel:null===(u=e.text)||void 0===u?void 0:u.accessory,children:d})},N=function(e){var t=function(e){var t=Array(),n=void 0,r=Array();return e.forEach((function(e){var i;if("culturalmoments:sectionHeaderWithAction"===(null===(i=e.component)||void 0===i?void 0:i.id))n&&0!==r.length&&t.push({heading:n,components:r}),n=e,r=Array();else if(n){var o,l,s;"culturalmoments:carousel"===(null===(o=e.component)||void 0===o?void 0:o.id)||"glue2:carousel"===(null===(l=e.component)||void 0===l?void 0:l.id)?null===(s=e.children)||void 0===s||s.forEach((function(e){r.push(e)})):r.push(e)}})),n&&0!==r.length&&t.push({heading:n,components:r}),t}(e);return(0,j.jsx)(j.Fragment,{children:t.map((function(e,t){return P(e.heading,e.components,t)}))})},k=n(37710),C=n(10506),S=n(3269),E=n(46868),A=n(88843),R=n(27436);const F="pgo3GiB844kDFl6Qbo05",M="RhOeeOpI4AOwx0QAVneD",H="XSE6HhcsNgvOjU0xmuTN";var _=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(_||{}),B=function(e){var t=e.spec,n=u.ag.getLocale(),r=(0,v.$P)(),i=(0,v.Wi)(t),o=function(e){if(e===_.ANDROID){var n=t.googleBadgeFactory().hitNavigateToWebviewUri({destination:e});r.logInteraction(n)}else{var i=t.appleBadgeFactory().hitNavigateToWebviewUri({destination:e});r.logInteraction(i)}};return(0,j.jsxs)(k.x,{variant:"tinted",style:{width:600},ref:i,children:[(0,j.jsx)(C.D,{as:"p",variant:"cello",style:{marginBottom:S.dly},children:u.ag.get("web-player.cultural-moments.unsupportedHeading")}),(0,j.jsx)(C.D,{as:"p",variant:"mesto",style:{marginBottom:S.o78},children:u.ag.get("web-player.cultural-moments.unsupportedDescription")}),(0,j.jsxs)("div",{className:a()(H),children:[(0,j.jsx)(A.default,{to:_.IOS,target:"_blank",onClick:function(){return o(_.IOS)},children:(0,j.jsx)("img",{src:(0,E.g)((0,R.b)(n)),alt:u.ag.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:F})}),(0,j.jsx)(A.default,{to:_.ANDROID,target:"_blank",onClick:function(){return o(_.ANDROID)},children:(0,j.jsx)("img",{src:(0,E.g)((0,R.V)(n)),alt:u.ag.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:a()(F,M)})})]})]})},L=n(17386),U=n(60817),W=n(68833),z=n(80274);const T="BnW4ga5mfG9DYWXeADCL",Z="RL_W31RCuHFbSTBORR6w",V="xfR1I0mMRPPSCr9FUSJs";const X=function(e){var t,n,r,i,o,s,m=e.uri,f=e.id,g=(0,z.J)(p.cW.D,[f]),h=g.data,x=g.error,y=g.loading,O=(0,v.fU)(c.Y,{data:{identifier:m,uri:m}}),w=O.spec,D=O.UBIFragment,I=(0,l.useMemo)((function(){return w.shelvesFactory()}),[w]),P=(0,l.useMemo)((function(){return w.mobilePromptFactory()}),[w]),k=null==h||null===(t=h.body.hubViewData)||void 0===t?void 0:t.body,C=null==h||null===(n=h.body.hubViewData)||void 0===n?void 0:n.header;if(null===h||void 0===k||void 0===C||y||null!==x)return(0,j.jsx)(W.h,{hasError:null!==x,errorMessage:u.ag.get("error.generic")});var S=null===(r=h.body.hubViewData)||void 0===r?void 0:r.title,E=null==C||null===(i=C.text)||void 0===i?void 0:i.title;return(0,j.jsxs)(D,{spec:w,children:[(0,j.jsx)(U.$,{children:null!=S?S:""}),E?(0,j.jsx)("div",{className:T,children:(0,j.jsx)(b,{title:null==C||null===(o=C.text)||void 0===o?void 0:o.title,image:null===(s=C.images)||void 0===s?void 0:s.background})}):null,(0,j.jsx)(D,{spec:I,children:(0,j.jsxs)("div",{className:V,children:[E&&(0,j.jsx)(L.I,{}),(0,j.jsx)("div",{className:a()("contentSpacing",Z),children:(0,j.jsxs)(d.C,{children:[(0,j.jsx)(B,{spec:P}),k?N(k):null]})})]})})]})};var q=n(6034),G=n(78960);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q="https://accounts.spotify.com/login",Y=function(){var e=window.location.href;return window.location.href="".concat(Q,"?continue=").concat(encodeURIComponent(e)),null},$=function(e){var t=(0,q.g)(),n=(0,i.W6)(o.B4,{loadingValue:!1});return t?(0,j.jsx)(Y,{}):n?(0,j.jsx)(X,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):(0,j.jsx)(G.InstrumentedRedirect,{to:"/"})};const K=$}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map