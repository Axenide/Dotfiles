(()=>{var e,t,n,i={70954:(e,t,n)=>{n(47921),n(69109),e.exports={convertPathToURL:function(e,t){if("1"==={}.IS_SPOTIFY_DESKTOP_APP)return"/".concat(e);if("hot"==={}.WEBPACK_BUILD&&e.startsWith("build/")){var n={}.WEBPACK_HOT_PORT;return"https://".concat({}.WEBPACK_HOT_HOST,":").concat(n,"/cdn/").concat(e)}return"".concat(t.cdn_url,"/").concat(e)}}},46868:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});n(92357),n(59538),n(79611),n(70954);function i(e,t){var n,i;if(n='{"fonts/spoticon_regular_2.ttf":"/fonts/spoticon_regular_2.ttf","fonts/spoticon_regular_2.woff":"/fonts/spoticon_regular_2.woff","fonts/spoticon_regular_2.woff2":"/fonts/spoticon_regular_2.woff2","images/2022_wrapped_hub_tablet_banner_rtl.svg":"/images/2022_wrapped_hub_tablet_banner_rtl.svg","images/2022_wrapped_hub_tablet_banner.svg":"/images/2022_wrapped_hub_tablet_banner.svg","images/2022_wrapped_mobile_web_hub.svg":"/images/2022_wrapped_mobile_web_hub.svg","images/2022_wrapped_web_hub_banner_rtl.svg":"/images/2022_wrapped_web_hub_banner_rtl.svg","images/2022_wrapped_web_hub_banner.svg":"/images/2022_wrapped_web_hub_banner.svg","images/checkmark.png":"/images/checkmark.png","images/concert-hub-fb-card.png":"/images/concert-hub-fb-card.png","images/concert-hub-header.png":"/images/concert-hub-header.png","images/concert-hub-iphone-de.png":"/images/concert-hub-iphone-de.png","images/concert-hub-iphone-el.png":"/images/concert-hub-iphone-el.png","images/concert-hub-iphone-en.png":"/images/concert-hub-iphone-en.png","images/concert-hub-iphone-es_419.png":"/images/concert-hub-iphone-es_419.png","images/concert-hub-iphone-es.png":"/images/concert-hub-iphone-es.png","images/concert-hub-iphone-fi.png":"/images/concert-hub-iphone-fi.png","images/concert-hub-iphone-fr_CA.png":"/images/concert-hub-iphone-fr_CA.png","images/concert-hub-iphone-fr.png":"/images/concert-hub-iphone-fr.png","images/concert-hub-iphone-hu.png":"/images/concert-hub-iphone-hu.png","images/concert-hub-iphone-id.png":"/images/concert-hub-iphone-id.png","images/concert-hub-iphone-it.png":"/images/concert-hub-iphone-it.png","images/concert-hub-iphone-ja.png":"/images/concert-hub-iphone-ja.png","images/concert-hub-iphone-ms.png":"/images/concert-hub-iphone-ms.png","images/concert-hub-iphone-nl.png":"/images/concert-hub-iphone-nl.png","images/concert-hub-iphone-pl.png":"/images/concert-hub-iphone-pl.png","images/concert-hub-iphone-pt_BR.png":"/images/concert-hub-iphone-pt_BR.png","images/concert-hub-iphone-sv.png":"/images/concert-hub-iphone-sv.png","images/concert-hub-iphone-tr.png":"/images/concert-hub-iphone-tr.png","images/concert-hub-iphone-zh_TW.png":"/images/concert-hub-iphone-zh_TW.png","images/concert-hub-twitter-card.png":"/images/concert-hub-twitter-card.png","images/connect_header@1x.png":"/images/connect_header@1x.png","images/connect-to-devices-white.svg":"/images/connect-to-devices-white.svg","images/desktop-auth-check.svg":"/images/desktop-auth-check.svg","images/desktop-auth-error.svg":"/images/desktop-auth-error.svg","images/device-picker-equaliser-animation.webp":"/images/device-picker-equaliser-animation.webp","images/devices/mac.png":"/images/devices/mac.png","images/download-badges/apple/ar.svg":"/images/download-badges/apple/ar.svg","images/download-badges/apple/az.svg":"/images/download-badges/apple/az.svg","images/download-badges/apple/bg.svg":"/images/download-badges/apple/bg.svg","images/download-badges/apple/cs_CZ.svg":"/images/download-badges/apple/cs_CZ.svg","images/download-badges/apple/da.svg":"/images/download-badges/apple/da.svg","images/download-badges/apple/de.svg":"/images/download-badges/apple/de.svg","images/download-badges/apple/ee.svg":"/images/download-badges/apple/ee.svg","images/download-badges/apple/el.svg":"/images/download-badges/apple/el.svg","images/download-badges/apple/en.svg":"/images/download-badges/apple/en.svg","images/download-badges/apple/es_mx.svg":"/images/download-badges/apple/es_mx.svg","images/download-badges/apple/es.svg":"/images/download-badges/apple/es.svg","images/download-badges/apple/fi.svg":"/images/download-badges/apple/fi.svg","images/download-badges/apple/fp.svg":"/images/download-badges/apple/fp.svg","images/download-badges/apple/fr_ca.svg":"/images/download-badges/apple/fr_ca.svg","images/download-badges/apple/fr.svg":"/images/download-badges/apple/fr.svg","images/download-badges/apple/he.svg":"/images/download-badges/apple/he.svg","images/download-badges/apple/hu.svg":"/images/download-badges/apple/hu.svg","images/download-badges/apple/id.svg":"/images/download-badges/apple/id.svg","images/download-badges/apple/int.svg":"/images/download-badges/apple/int.svg","images/download-badges/apple/it.svg":"/images/download-badges/apple/it.svg","images/download-badges/apple/ja.svg":"/images/download-badges/apple/ja.svg","images/download-badges/apple/ko.svg":"/images/download-badges/apple/ko.svg","images/download-badges/apple/lt.svg":"/images/download-badges/apple/lt.svg","images/download-badges/apple/lv.svg":"/images/download-badges/apple/lv.svg","images/download-badges/apple/ms.svg":"/images/download-badges/apple/ms.svg","images/download-badges/apple/mt.svg":"/images/download-badges/apple/mt.svg","images/download-badges/apple/nb.svg":"/images/download-badges/apple/nb.svg","images/download-badges/apple/nl.svg":"/images/download-badges/apple/nl.svg","images/download-badges/apple/pl.svg":"/images/download-badges/apple/pl.svg","images/download-badges/apple/pt_br.svg":"/images/download-badges/apple/pt_br.svg","images/download-badges/apple/pt.svg":"/images/download-badges/apple/pt.svg","images/download-badges/apple/ro.svg":"/images/download-badges/apple/ro.svg","images/download-badges/apple/ru.svg":"/images/download-badges/apple/ru.svg","images/download-badges/apple/sk.svg":"/images/download-badges/apple/sk.svg","images/download-badges/apple/sl.svg":"/images/download-badges/apple/sl.svg","images/download-badges/apple/sv.svg":"/images/download-badges/apple/sv.svg","images/download-badges/apple/th_TH.svg":"/images/download-badges/apple/th_TH.svg","images/download-badges/apple/tr.svg":"/images/download-badges/apple/tr.svg","images/download-badges/apple/vi_VN.svg":"/images/download-badges/apple/vi_VN.svg","images/download-badges/apple/zh_HANS.svg":"/images/download-badges/apple/zh_HANS.svg","images/download-badges/apple/zh_HANT.svg":"/images/download-badges/apple/zh_HANT.svg","images/download-badges/google/af.svg":"/images/download-badges/google/af.svg","images/download-badges/google/am.svg":"/images/download-badges/google/am.svg","images/download-badges/google/ar.svg":"/images/download-badges/google/ar.svg","images/download-badges/google/az.svg":"/images/download-badges/google/az.svg","images/download-badges/google/be.svg":"/images/download-badges/google/be.svg","images/download-badges/google/bg.svg":"/images/download-badges/google/bg.svg","images/download-badges/google/bn.svg":"/images/download-badges/google/bn.svg","images/download-badges/google/bs.svg":"/images/download-badges/google/bs.svg","images/download-badges/google/ca.svg":"/images/download-badges/google/ca.svg","images/download-badges/google/cr.svg":"/images/download-badges/google/cr.svg","images/download-badges/google/cs_CZ.svg":"/images/download-badges/google/cs_CZ.svg","images/download-badges/google/da.svg":"/images/download-badges/google/da.svg","images/download-badges/google/de.svg":"/images/download-badges/google/de.svg","images/download-badges/google/el.svg":"/images/download-badges/google/el.svg","images/download-badges/google/en.svg":"/images/download-badges/google/en.svg","images/download-badges/google/es_419.svg":"/images/download-badges/google/es_419.svg","images/download-badges/google/es.svg":"/images/download-badges/google/es.svg","images/download-badges/google/et.svg":"/images/download-badges/google/et.svg","images/download-badges/google/eu.svg":"/images/download-badges/google/eu.svg","images/download-badges/google/fa.svg":"/images/download-badges/google/fa.svg","images/download-badges/google/fi.svg":"/images/download-badges/google/fi.svg","images/download-badges/google/fp.svg":"/images/download-badges/google/fp.svg","images/download-badges/google/fr_ca.svg":"/images/download-badges/google/fr_ca.svg","images/download-badges/google/fr.svg":"/images/download-badges/google/fr.svg","images/download-badges/google/gl.svg":"/images/download-badges/google/gl.svg","images/download-badges/google/gu.svg":"/images/download-badges/google/gu.svg","images/download-badges/google/he.svg":"/images/download-badges/google/he.svg","images/download-badges/google/hi.svg":"/images/download-badges/google/hi.svg","images/download-badges/google/hr.svg":"/images/download-badges/google/hr.svg","images/download-badges/google/hu.svg":"/images/download-badges/google/hu.svg","images/download-badges/google/hy.svg":"/images/download-badges/google/hy.svg","images/download-badges/google/id.svg":"/images/download-badges/google/id.svg","images/download-badges/google/int.svg":"/images/download-badges/google/int.svg","images/download-badges/google/is.svg":"/images/download-badges/google/is.svg","images/download-badges/google/it.svg":"/images/download-badges/google/it.svg","images/download-badges/google/ja.svg":"/images/download-badges/google/ja.svg","images/download-badges/google/ka.svg":"/images/download-badges/google/ka.svg","images/download-badges/google/kk.svg":"/images/download-badges/google/kk.svg","images/download-badges/google/km.svg":"/images/download-badges/google/km.svg","images/download-badges/google/kn.svg":"/images/download-badges/google/kn.svg","images/download-badges/google/ko.svg":"/images/download-badges/google/ko.svg","images/download-badges/google/ky.svg":"/images/download-badges/google/ky.svg","images/download-badges/google/lo.svg":"/images/download-badges/google/lo.svg","images/download-badges/google/lt.svg":"/images/download-badges/google/lt.svg","images/download-badges/google/lv.svg":"/images/download-badges/google/lv.svg","images/download-badges/google/mk.svg":"/images/download-badges/google/mk.svg","images/download-badges/google/ml.svg":"/images/download-badges/google/ml.svg","images/download-badges/google/mn.svg":"/images/download-badges/google/mn.svg","images/download-badges/google/mr.svg":"/images/download-badges/google/mr.svg","images/download-badges/google/ms.svg":"/images/download-badges/google/ms.svg","images/download-badges/google/my.svg":"/images/download-badges/google/my.svg","images/download-badges/google/nb.svg":"/images/download-badges/google/nb.svg","images/download-badges/google/ne.svg":"/images/download-badges/google/ne.svg","images/download-badges/google/nl.svg":"/images/download-badges/google/nl.svg","images/download-badges/google/pa.svg":"/images/download-badges/google/pa.svg","images/download-badges/google/pl.svg":"/images/download-badges/google/pl.svg","images/download-badges/google/pt_br.svg":"/images/download-badges/google/pt_br.svg","images/download-badges/google/pt.svg":"/images/download-badges/google/pt.svg","images/download-badges/google/ro.svg":"/images/download-badges/google/ro.svg","images/download-badges/google/ru.svg":"/images/download-badges/google/ru.svg","images/download-badges/google/si.svg":"/images/download-badges/google/si.svg","images/download-badges/google/sk.svg":"/images/download-badges/google/sk.svg","images/download-badges/google/sl.svg":"/images/download-badges/google/sl.svg","images/download-badges/google/sq.svg":"/images/download-badges/google/sq.svg","images/download-badges/google/sr.svg":"/images/download-badges/google/sr.svg","images/download-badges/google/sv.svg":"/images/download-badges/google/sv.svg","images/download-badges/google/sw.svg":"/images/download-badges/google/sw.svg","images/download-badges/google/ta.svg":"/images/download-badges/google/ta.svg","images/download-badges/google/te.svg":"/images/download-badges/google/te.svg","images/download-badges/google/th_TH.svg":"/images/download-badges/google/th_TH.svg","images/download-badges/google/tr.svg":"/images/download-badges/google/tr.svg","images/download-badges/google/ua.svg":"/images/download-badges/google/ua.svg","images/download-badges/google/ur.svg":"/images/download-badges/google/ur.svg","images/download-badges/google/uz.svg":"/images/download-badges/google/uz.svg","images/download-badges/google/vi_VN.svg":"/images/download-badges/google/vi_VN.svg","images/download-badges/google/zh_HANS.svg":"/images/download-badges/google/zh_HANS.svg","images/download-badges/google/zh_HANT.svg":"/images/download-badges/google/zh_HANT.svg","images/download-badges/google/zh_hk.svg":"/images/download-badges/google/zh_hk.svg","images/download-badges/google/zu.svg":"/images/download-badges/google/zu.svg","images/embed-legacy/copy-32_circle_grey_outline_bg.svg":"/images/embed-legacy/copy-32_circle_grey_outline_bg.svg","images/embed-legacy/embed-code-32_circle_grey_outline_bg.svg":"/images/embed-legacy/embed-code-32_circle_grey_outline_bg.svg","images/embed-legacy/fb_colour.svg":"/images/embed-legacy/fb_colour.svg","images/embed-legacy/messenger_colour.svg":"/images/embed-legacy/messenger_colour.svg","images/embed-legacy/twitter_colour.svg":"/images/embed-legacy/twitter_colour.svg","images/embed-legacy/whatsapp.svg":"/images/embed-legacy/whatsapp.svg","images/employee-podcasts-modal-art.png":"/images/employee-podcasts-modal-art.png","images/equaliser-animated-green.gif":"/images/equaliser-animated-green.gif","images/equaliser-green.svg":"/images/equaliser-green.svg","images/error-page-logo.svg":"/images/error-page-logo.svg","images/favicon.ico":"/images/favicon.ico","images/favicon.png":"/images/favicon.png","images/favicon16.png":"/images/favicon16.png","images/favicon32.png":"/images/favicon32.png","images/feature-activation-shelf-audio-quality.png":"/images/feature-activation-shelf-audio-quality.png","images/feature-activation-shelf-enhance-placeholder.png":"/images/feature-activation-shelf-enhance-placeholder.png","images/feature-activation-shelf-group-sessions.png":"/images/feature-activation-shelf-group-sessions.png","images/focused_stroy_play.png":"/images/focused_stroy_play.png","images/hifi-button-off.svg":"/images/hifi-button-off.svg","images/hifi-button-on.svg":"/images/hifi-button-on.svg","images/hifi.svg":"/images/hifi.svg","images/home-icon.svg":"/images/home-icon.svg","images/icons/Spotify_1024.png":"/images/icons/Spotify_1024.png","images/icons/Spotify_128.png":"/images/icons/Spotify_128.png","images/icons/Spotify_16.png":"/images/icons/Spotify_16.png","images/icons/Spotify_256.png":"/images/icons/Spotify_256.png","images/icons/Spotify_32.png":"/images/icons/Spotify_32.png","images/icons/Spotify_512.png":"/images/icons/Spotify_512.png","images/icons/Spotify_MWP_192.png":"/images/icons/Spotify_MWP_192.png","images/icons/Spotify_MWP_384.png":"/images/icons/Spotify_MWP_384.png","images/icons/Spotify_MWP_512.png":"/images/icons/Spotify_MWP_512.png","images/improved-modal-bg.jpg":"/images/improved-modal-bg.jpg","images/login-background.jpg":"/images/login-background.jpg","images/login-signup-burst.svg":"/images/login-signup-burst.svg","images/logo-complete-black.svg":"/images/logo-complete-black.svg","images/logo-white-2x.png":"/images/logo-white-2x.png","images/mando_helmet_felix.png":"/images/mando_helmet_felix.png","images/mando_helmet.png":"/images/mando_helmet.png","images/mid-year.png":"/images/mid-year.png","images/mwp-episodelist-placeholder.png":"/images/mwp-episodelist-placeholder.png","images/mwp-tracklist-placeholder.png":"/images/mwp-tracklist-placeholder.png","images/og-image.png":"/images/og-image.png","images/ribbon-graphic-mobile.svg":"/images/ribbon-graphic-mobile.svg","images/ribbon-graphic-small-side.svg":"/images/ribbon-graphic-small-side.svg","images/ribbon-graphic-small-top.svg":"/images/ribbon-graphic-small-top.svg","images/ribbon-graphic.svg":"/images/ribbon-graphic.svg","images/s2l-desktopui-ltr.png":"/images/s2l-desktopui-ltr.png","images/s2l-desktopui-rtl.png":"/images/s2l-desktopui-rtl.png","images/s2l-mobileui.png":"/images/s2l-mobileui.png","images/spotifylogo.svg":"/images/spotifylogo.svg","images/station-header-wave.svg":"/images/station-header-wave.svg","images/station-wave.svg":"/images/station-wave.svg","images/stranger-things-nether-bottom-left.png":"/images/stranger-things-nether-bottom-left.png","images/stranger-things-nether-bottom-right.png":"/images/stranger-things-nether-bottom-right.png","images/stranger-things-spores.png":"/images/stranger-things-spores.png","images/sw_saber_ahsoka1.png":"/images/sw_saber_ahsoka1.png","images/sw_saber_anakin.png":"/images/sw_saber_anakin.png","images/sw_saber_leia.png":"/images/sw_saber_leia.png","images/sw_saber_luke.png":"/images/sw_saber_luke.png","images/sw_saber_mace.png":"/images/sw_saber_mace.png","images/sw_saber_rey.png":"/images/sw_saber_rey.png","images/sw_saber_vader.png":"/images/sw_saber_vader.png","images/touch-icon-114.png":"/images/touch-icon-114.png","images/touch-icon-144.png":"/images/touch-icon-144.png","images/touch-icon-57.png":"/images/touch-icon-57.png","images/touch-icon-72.png":"/images/touch-icon-72.png","images/tracklist-placeholder.png":"/images/tracklist-placeholder.png","images/ylx-artist-row-placeholder.png":"/images/ylx-artist-row-placeholder.png","images/ylx-compact-row-placeholder.png":"/images/ylx-compact-row-placeholder.png","images/ylx-row-placeholder.png":"/images/ylx-row-placeholder.png","images/zara-larsson-singles.png":"/images/zara-larsson-singles.png","js/fb.js":"/js/fb.js","js/gtm.js":"/js/gtm.js","js/retargeting-pixels.js":"/js/retargeting-pixels.js","js/urlRedirect.js":"/js/urlRedirect.js","js/urlScheme.js":"/js/urlScheme.js","sounds/mando_this_is_the_way_103.mp3":"/sounds/mando_this_is_the_way_103.mp3","sounds/mando_this_is_the_way_107.mp3":"/sounds/mando_this_is_the_way_107.mp3","sounds/mando_this_is_the_way_felix.mp3":"/sounds/mando_this_is_the_way_felix.mp3"}',void 0!==globalThis.__CDN_FILE_URLS__&&(n=globalThis.__CDN_FILE_URLS__),"string"!=typeof n)throw new Error("No __CDN_FILE_URLS__ property available in globalThis or process.env");try{i=JSON.parse(n)}catch(e){throw new Error("Invalid __CDN_FILE_URLS__ value.")}if(!i[e])throw new Error("`".concat(e,"` is not available in __CDN_FILE_URLS__."));return i[e]}},22485:e=>{e.exports={af:"af-ZA",am:"am-ET",ar:"ar",az:"az-AZ",bg:"bg-BG",bn:"bn-IN",bho:"bp",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",es:"es-ES","es-419":"es-LA",et:"et-EE",fa:"fa-IR",fr:"fr-FR",fi:"fi-FI",fil:"fp-PH","fr-CA":"fr-CA",gu:"gu-IN",hu:"hu-HU",he:"he-IL",hi:"hi-IN",hr:"hr-HR",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",or:"or-IN","pa-IN":"pa-IN","pa-PK":"pa-PK",pl:"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",sw:"sw",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur",vi:"vi-VN","zh-CN":"zh-CN","zh-TW":"zh-TW",zu:"zu-ZA","ar-EG":"ar-EG","ar-MA":"ar-MA","ar-SA":"ar-SA",eu:"eu-ES",bs:"bs-BA",ca:"ca-ES","zh-HK":"zh-HK","en-GB":"en-GB",gl:"gl-ES",mk:"mk-MK","es-AR":"es-AR","es-MX":"es-MX"}},17249:(e,t,n)=>{"use strict";n.d(t,{go:()=>v,ag:()=>S});n(30246),n(43125),n(61235),n(69724),n(39965),n(39975);var i,r=n(58583),a=n(39130),o=n(96268),s=n(27915),l=n(92449),c=n(45389),u=(n(83001),n(42617),n(22369),n(27639),n(71756),n(89620),n(162),n(92346),n(95675),n(5538),n(16366),n(96669),n(4302),n(59538),n(79611),n(29543),n(70969),n(84456),n(31781),n(82088),n(62780),n(35019),n(40265),n(37193),n(90511),n(3270),n(14863),n(41337),n(46743),n(72835),n(59496)),d=n(22485),p=n.n(d);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var v=function(e){return e.af="af",e.am="am",e.ar="ar",e.arEG="ar-EG",e.arMA="ar-MA",e.arSA="ar-SA",e.az="az",e.bg="bg",e.bn="bn",e.bho="bho",e.bs="bs",e.ca="ca",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.enGB="en-GB",e.es419="es-419",e.es="es",e.esAR="es-AR",e.esMX="es-MX",e.et="et",e.eu="eu",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gl="gl",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.mk="mk",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="nb",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.zu="zu",e}({}),g=function(e){return e.AR="، ",e.FA="، ",e.EN=", ",e}(g||{}),h=function(e){return e.ZERO="zero",e.ONE="one",e.TWO="two",e.FEW="few",e.MANY="many",e.OTHER="other",e}(h||{});var k={},y=function(e){return"ar"===e?"ar-u-nu-latn":e};function b(e){var t="(?:".concat(e.join("|"),")");return new RegExp(String.raw(i||(i=(0,r.Z)(["({","}|%","%)"],["(\\{","\\}|%","%)"])),t,t),"g")}var S=new(function(){function e(){(0,s.Z)(this,e),(0,c.Z)(this,"_relativeTimeFormat",null),(0,c.Z)(this,"_dateTimeFormats",new Map),this._dictionary={},Spicetify.Locale=this,this._locale=v.en,this._urlLocale=v.en}return(0,l.Z)(e,[{key:"getDateTimeFormat",value:function(e){var t=JSON.stringify(Object.keys(e).sort().map((function(t){return(0,c.Z)({},t,e[t])}))),n=this._dateTimeFormats.get(t);return void 0===n&&(n=new Intl.DateTimeFormat(y(this._locale),e),this._dateTimeFormats.set(t,n)),n}},{key:"getRelativeTimeFormat",value:function(){return null===this._relativeTimeFormat&&(this._relativeTimeFormat=void 0===Intl.RelativeTimeFormat?null:new Intl.RelativeTimeFormat(this._locale)),this._relativeTimeFormat}},{key:"getDictionary",value:function(){return this._dictionary}},{key:"setDictionary",value:function(e){this._dictionary=e}},{key:"setLocale",value:function(e){this._locale=e,this._dateTimeFormats.clear(),this._relativeTimeFormat=null}},{key:"setUrlLocale",value:function(e){this._urlLocale=e}},{key:"getLocale",value:function(){return this._locale}},{key:"getUrlLocale",value:function(){return this._urlLocale}},{key:"getSmartlingLocale",value:function(){var e=this._locale;return p()[e]||e}},{key:"toLocaleLowerCase",value:function(e){return null==e?void 0:e.toLocaleLowerCase(this._locale)}},{key:"toLocaleUpperCase",value:function(e){return null==e?void 0:e.toLocaleUpperCase(this._locale)}},{key:"get",value:function(e){for(var t=this,n=(e in this._dictionary?this._dictionary[e]:e),i="",r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];if("string"!=typeof n){var c=s[0],d=function(e,t){try{return(k[e]||(k[e]=new Intl.PluralRules(e))).select(t)}catch(e){return h.OTHER}}(this._locale,parseInt(c,10)),p=n[d];void 0!==p?i=p:n.other&&(i=n.other)}else i=n;if(/%\d%/.test(i)){if(!["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop-auth.error"].includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}var f={},v={};s.forEach((function(e,t){var n,i=m("object"!==(0,o.Z)(e)||null===e||(0,u.isValidElement)(e)?[[t,e]]:Object.entries(e));try{for(i.s();!(n=i.n()).done;){var r=(0,a.Z)(n.value,2),s=r[0],l=r[1];(0,u.isValidElement)(l)?v[s]=l:void 0!==l&&(f[s]=l)}}catch(e){i.e(e)}finally{i.f()}})),i=i.replace(b(Object.keys(f)),(function(e,n){var i=n.slice(1,-1),r=f[i];return"number"==typeof r?t.formatNumber(r):r}));var g=Object.keys(v);return g.length?(0,u.createElement)(u.Fragment,null,i.split(b(g)).map((function(e,t){if(t%2){var n,i=e.slice(1,-1),r=v[i];return(0,u.cloneElement)(r,{key:null!==(n=r.key)&&void 0!==n?n:i})}return e})).filter((function(e){return""!==e}))):i}},{key:"getSeparator",value:function(){switch(this._locale){case v.ar:return g.AR;case v.fa:return g.FA;default:return g.EN}}},{key:"formatNumber",value:function(e,t){return e.toLocaleString(y(this._locale),t)}},{key:"formatNumberCompact",value:function(e){return this.formatNumber(e,{notation:"compact",maximumFractionDigits:1})}},{key:"formatDate",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||{year:"numeric",month:"long",day:"numeric"};return this.getDateTimeFormat(t).format(e)}},{key:"formatRelativeDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Date(Date.now());e=new Date(e);var i,r=this.getRelativeTimeFormat(),a=e.getTime()-n.getTime(),o=Math.abs(a)<2592e6;if(null!==r&&o){var s=(i=a,{seconds:Math.round(i/1e3),minutes:Math.round(i/1e3/60),hours:Math.round(i/1e3/60/60),days:Math.round(i/1e3/60/60/24),weeks:Math.round(i/1e3/60/60/24/7)}),l=s.weeks,c=s.days,u=s.hours,d=s.minutes,p=s.seconds;return Math.abs(c)>=7?r.format(l,"weeks"):Math.abs(u)>=24?r.format(c,"days"):Math.abs(d)>=60?r.format(u,"hours"):Math.abs(p)>=60?r.format(d,"minutes"):r.format(p,"seconds")}return this.formatDate(e,t)}},{key:"__resetForTests",value:function(){this._dictionary={},Spicetify.Locale=this,this._locale=v.en,k={}}}]),e}())},50363:e=>{e.exports={WEB_API_URL:"https://api.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_ENDPOINT:"https://exp.wg.spotify.com",ACCOUNTS_HOST:"https://accounts.spotify.com",PARTNER_API_ENDPOINT:"https://api-partner.spotify.com"}},39464:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>i,oT:()=>a,q$:()=>r});var i={SHOW_ABOUT_RECS_MODAL:"SHOW_ABOUT_RECS_MODAL",HIDE_ABOUT_RECS_MODAL:"HIDE_ABOUT_RECS_MODAL"},r=function(){return{type:i.SHOW_ABOUT_RECS_MODAL}},a=function(){return{type:i.HIDE_ABOUT_RECS_MODAL}}},76853:(e,t,n)=>{"use strict";n.d(t,{GV:()=>r,Hp:()=>i,se:()=>a});var i={SHOW_ABOUT_SPOTIFY_MODAL:"SHOW_ABOUT_SPOTIFY_MODAL",HIDE_ABOUT_SPOTIFY_MODAL:"HIDE_ABOUT_SPOTIFY_MODAL"},r=function(){return{type:i.SHOW_ABOUT_SPOTIFY_MODAL}},a=function(){return{type:i.HIDE_ABOUT_SPOTIFY_MODAL}}},4783:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>i,QN:()=>o,RM:()=>a,vQ:()=>r});var i={GET_AGE_RESTRICTION_MODAL:"GET_AGE_RESTRICTION_MODAL",SHOW_AGE_RESTRICTION_MODAL:"SHOW_AGE_RESTRICTION_MODAL",HIDE_AGE_RESTRICTION_MODAL:"HIDE_AGE_RESTRICTION_MODAL"},r=function(e){return{type:i.SHOW_AGE_RESTRICTION_MODAL,dialog:e}},a=function(e){return{type:i.GET_AGE_RESTRICTION_MODAL,uri:e}},o=function(){return{type:i.HIDE_AGE_RESTRICTION_MODAL}}},26482:(e,t,n)=>{"use strict";n.d(t,{BH:()=>a,G1:()=>r,V5:()=>i,sX:()=>o,xO:()=>s});var i={ANONYMOUS_COLLECTION_NAVIGATION:"ANONYMOUS_COLLECTION_NAVIGATION",ANONYMOUS_LIKED_SONGS_NAVIGATION:"ANONYMOUS_LIKED_SONGS_NAVIGATION",ANONYMOUS_LOGIN_CLICK:"ANONYMOUS_LOGIN_CLICK",ANONYMOUS_SIGNUP_CLICK:"ANONYMOUS_SIGNUP_CLICK",ANONYMOUS_PREMIUM_CLICK:"ANONYMOUS_PREMIUM_CLICK",ANONYMOUS_DECLINE_SIGNUP:"ANONYMOUS_DECLINE_SIGNUP"},r=function(e){return{type:i.ANONYMOUS_COLLECTION_NAVIGATION,pathname:e}},a=function(e){return{type:i.ANONYMOUS_LIKED_SONGS_NAVIGATION,pathname:e}},o=function(){return{type:i.ANONYMOUS_LOGIN_CLICK}},s=function(){return{type:i.ANONYMOUS_SIGNUP_CLICK}}},23621:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>a,Ke:()=>o,jV:()=>s,o8:()=>l});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var a={SHOW_DUPLICATE_TRACKS_DIALOG:"SHOW_DUPLICATE_TRACKS_DIALOG",HIDE_DUPLICATE_TRACKS_DIALOG:"HIDE_DUPLICATE_TRACKS_DIALOG",CHECK_DUPLICATE_TRACKS:"CHECK_DUPLICATE_TRACKS"},o=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:a.SHOW_DUPLICATE_TRACKS_DIALOG},e)},s=function(e,t,n){return{type:a.CHECK_DUPLICATE_TRACKS,playlistUri:e,uris:t,position:n}},l=function(){return{type:a.HIDE_DUPLICATE_TRACKS_DIALOG}}},48472:(e,t,n)=>{"use strict";n.d(t,{EJ:()=>O,EQ:()=>p,Gh:()=>r,Jf:()=>m,MK:()=>x,Mn:()=>l,Oh:()=>h,Rm:()=>d,SS:()=>b,TB:()=>v,X3:()=>a,Xe:()=>g,aW:()=>S,c4:()=>c,kK:()=>y,nY:()=>i,pu:()=>k,rp:()=>f,sO:()=>w,vx:()=>s,xh:()=>o,zn:()=>u});var i=function(e){return e.ERROR="ERROR",e.NOTICE="NOTICE",e}({}),r="SHOW_FEEDBACK_BUBBLE",a="CLOSE_FEEDBACK_BUBBLE",o="SHOW_BLOCKED_USER",s="SHOW_UNBLOCKED_USER",l="SHOW_BLOCK_TRACK_FEEDBACK",c="SHOW_BLOCK_ARTIST_FEEDBACK",u="SHOW_BLOCK_TRACK_IN_RADIO_STATION",d="SHOW_SAVED_EPISODE",p="SHOW_REMOVED_EPISODE",m="SHOW_PUBLISHED_PLAYLIST",f="SHOW_UNPUBLISHED_PLAYLIST";function v(e,t){return{type:r,message:e,feedbackType:t}}function g(){return{type:a}}function h(e){return{type:l,playlistName:e}}function k(){return{type:u}}function y(){return{type:d}}function b(){return{type:p}}function S(){return{type:o}}function x(){return{type:s}}function O(){return{type:m}}function w(){return{type:f}}},85392:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>i,qd:()=>r,xh:()=>a});var i={SHOW_LICENSES_MODAL:"SHOW_LICENSES_MODAL",HIDE_LICENSES_MODAL:"HIDE_LICENSES_MODAL"},r=function(){return{type:i.SHOW_LICENSES_MODAL}},a=function(){return{type:i.HIDE_LICENSES_MODAL}}},11595:(e,t,n)=>{"use strict";n.d(t,{V:()=>i,_:()=>r});var i={LOG_OPEN_ANALYTICS_EVENT:"LOG_OPEN_ANALYTICS_EVENT",LOG_INTERACTION:"LOG_INTERACTION"},r=function(e){return{type:i.LOG_INTERACTION,logData:e}}},1646:(e,t,n)=>{"use strict";n.d(t,{J_:()=>l,Nk:()=>c,$P:()=>a,lY:()=>s,cJ:()=>r,Tu:()=>o,V5:()=>i,e2:()=>u});var i={DEVICE_INFO_CHANGED:"DEVICE_INFO_CHANGED",SET_ACTIVE_DEVICE:"SET_ACTIVE_DEVICE",PLAYBACK_ERROR:"PLAYBACK_ERROR",HARMONY_MAX_SUBSCRIPTIONS_REACHED:"HARMONY_MAX_SUBSCRIPTIONS_REACHED",CDM_ERROR:"CDM_ERROR",PLAYBACK_CLEAR_DATA:"PLAYBACK_CLEAR_DATA",QUEUE_UPDATE:"QUEUE_UPDATE",ADD_TO_QUEUE_SUCCESS:"ADD_TO_QUEUE_SUCCESS",ADD_TO_QUEUE_ERROR:"ADD_TO_QUEUE_ERROR",DISCONNECT_HARMONY:"DISCONNECT_HARMONY",UNABLE_TO_PLAY_TRACK:"UNABLE_TO_PLAY_TRACK"},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:i.PLAYBACK_ERROR,name:e,source:t,message:n}},a=function(e){return{type:i.DEVICE_INFO_CHANGED,deviceInfo:e}},o=function(e){return{type:i.SET_ACTIVE_DEVICE,id:e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown";return{type:i.HARMONY_MAX_SUBSCRIPTIONS_REACHED,source:e}},l=function(){return{type:i.CDM_ERROR,name:i.CDM_ERROR}},c=function(){return{type:i.PLAYBACK_CLEAR_DATA}},u=function(){return{type:i.UNABLE_TO_PLAY_TRACK}}},88979:(e,t,n)=>{"use strict";n.d(t,{V5:()=>i,oT:()=>r,xH:()=>a});var i={PWA_INSTALL_COMPLETED:"PWA_INSTALL_COMPLETED",PWA_DISPLAY_MODE_CHANGED:"PWA_DISPLAY_MODE_CHANGED"},r=function(){return{type:i.PWA_INSTALL_COMPLETED}},a=function(){return{type:i.PWA_DISPLAY_MODE_CHANGED}}},73691:(e,t,n)=>{"use strict";n.d(t,{$1:()=>O,$B:()=>P,$Y:()=>Z,Ap:()=>G,D8:()=>L,EW:()=>E,F1:()=>p,HC:()=>g,HU:()=>a,IA:()=>j,IF:()=>m,Id:()=>b,Io:()=>I,L9:()=>M,OC:()=>N,Oy:()=>U,PL:()=>S,Pd:()=>F,Q2:()=>c,S3:()=>K,Sl:()=>B,TH:()=>z,UX:()=>W,V5:()=>i,Vr:()=>v,Xo:()=>D,YU:()=>d,bW:()=>C,cq:()=>u,ct:()=>H,dC:()=>r,dE:()=>k,fW:()=>R,hx:()=>V,jv:()=>x,lJ:()=>h,lW:()=>y,mB:()=>Y,me:()=>l,mm:()=>f,n0:()=>q,oH:()=>_,p:()=>w,pW:()=>o,p_:()=>s,rM:()=>T,rV:()=>Q,x0:()=>A});var i={COPY_LINK_SUCCESS:"COPY_LINK_SUCCESS",OPEN_DELETE_PLAYLIST_DIALOG:"OPEN_DELETE_PLAYLIST_DIALOG",CLOSE_DELETE_PLAYLIST_DIALOG:"CLOSE_DELETE_PLAYLIST_DIALOG",OPEN_DELETE_FOLDER_DIALOG:"OPEN_DELETE_FOLDER_DIALOG",CLOSE_DELETE_FOLDER_DIALOG:"CLOSE_DELETE_FOLDER_DIALOG",OPEN_REMOVE_FROM_LIBRARY_DIALOG:"OPEN_REMOVE_FROM_LIBRARY_DIALOG",CLOSE_REMOVE_FROM_LIBRARY_DIALOG:"CLOSE_REMOVE_FROM_LIBRARY_DIALOG",OPEN_BLOCK_USER_DIALOG:"OPEN_BLOCK_USER_DIALOG",CLOSE_BLOCK_USER_DIALOG:"CLOSE_BLOCK_USER_DIALOG",OPEN_SIGNUP_PROMPT_DIALOG:"OPEN_SIGNUP_PROMPT_DIALOG",CLOSE_SIGNUP_PROMPT_DIALOG:"CLOSE_SIGNUP_PROMPT_DIALOG",OPEN_LEAVE_PLAYLIST_DIALOG:"OPEN_LEAVE_PLAYLIST_DIALOG",CLOSE_LEAVE_PLAYLIST_DIALOG:"CLOSE_LEAVE_PLAYLIST_DIALOG",HIDE_UNSUPPORTED_MESSAGE:"HIDE_UNSUPPORTED_MESSAGE",SHOW_UNSUPPORTED_MESSAGE:"SHOW_UNSUPPORTED_MESSAGE",HIDE_PLAYBACK_NOT_SUPPORTED_MODAL:"HIDE_PLAYBACK_NOT_SUPPORTED_MODAL",SHOW_PLAYBACK_NOT_SUPPORTED_MODAL:"SHOW_PLAYBACK_NOT_SUPPORTED_MODAL",HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:"HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL",SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:"SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL",HIDE_PREMIUM_MODAL:"HIDE_PREMIUM_MODAL",SHOW_PREMIUM_MODAL:"SHOW_PREMIUM_MODAL",HIDE_L2L_MODAL:"HIDE_L2L_MODAL",SHOW_L2L_MODAL:"SHOW_L2L_MODAL",HIDE_S2L_MODAL:"HIDE_S2L_MODAL",SHOW_S2L_MODAL:"SHOW_S2L_MODAL",HIDE_EMPLOYEE_PODCASTS_MODAL:"HIDE_EMPLOYEE_PODCASTS_MODAL",SHOW_EMPLOYEE_PODCASTS_MODAL:"SHOW_EMPLOYEE_PODCASTS_MODAL",EMPLOYEE_PODCASTS_AUTH_SUCCESS:"EMPLOYEE_PODCASTS_AUTH_SUCCESS",EMPLOYEE_PODCASTS_PLUGIN_ENABLED:"EMPLOYEE_PODCASTS_PLUGIN_ENABLED",EMPLOYEE_PODCASTS_PLUGIN_DISABLED:"EMPLOYEE_PODCASTS_PLUGIN_DISABLED",HIDE_COOKIE_NOTICE:"HIDE_COOKIE_NOTICE",SHOW_COOKIE_NOTICE:"SHOW_COOKIE_NOTICE",OPEN_FULLSCREEN_MODE:"OPEN_FULLSCREEN_MODE",CLOSE_FULLSCREEN_MODE:"CLOSE_FULLSCREEN_MODE",SET_NOW_PLAYING_COVER_EXPANDED_STATE:"SET_NOW_PLAYING_COVER_EXPANDED_STATE",SET_NOW_PLAYING_COVER_FORCED_EXPANDED_STATE:"SET_NOW_PLAYING_COVER_FORCED_EXPANDED_STATE",CONNECT_DEVICE_PICKER_OPENED:"CONNECT_DEVICE_PICKER_OPENED",CONNECT_DEVICE_PICKER_CLOSED:"CONNECT_DEVICE_PICKER_CLOSED",SHOW_CONNECT_NUDGE:"SHOW_CONNECT_NUDGE",HIDE_CONNECT_NUDGE:"HIDE_CONNECT_NUDGE",SHOW_CONNECT_BAR:"SHOW_CONNECT_BAR",HIDE_CONNECT_BAR:"HIDE_CONNECT_BAR",UPDATE_UI_HISTORY_STATE:"UPDATE_UI_HISTORY_STATE",ENTER_FULLSCREEN:"ENTER_FULLSCREEN",LEAVE_FULLSCREEN:"LEAVE_FULLSCREEN",ENABLE_KEYBOARD_SHORTCUTS:"ENABLE_KEYBOARD_SHORTCUTS",SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY:"SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY",SHOW_TRACK_CREDITS:"SHOW_TRACK_CREDITS",CONTEXT_MENU_OPENED:"CONTEXT_MENU_OPENED",CONTEXT_MENU_CLOSED:"CONTEXT_MENU_CLOSED",INITIALISE_QUICKSILVER:"INITIALISE_QUICKSILVER",TRIGGER_CLICK_DEPRECATION_MESSAGE:"TRIGGER_CLICK_DEPRECATION_MESSAGE",OPEN_REMOVE_DOWNLOADS_DIALOG:"OPEN_REMOVE_DOWNLOADS_DIALOG",CLOSE_REMOVE_DOWNLOADS_DIALOG:"CLOSE_REMOVE_DOWNLOADS_DIALOG",OPEN_CLEAR_CACHE_DIALOG:"OPEN_CLEAR_CACHE_DIALOG",CLOSE_CLEAR_CACHE_DIALOG:"CLOSE_CLEAR_CACHE_DIALOG",OPEN_RENAME_FOLDER_MODAL:"OPEN_RENAME_FOLDER_MODAL",CLOSE_RENAME_FOLDER_MODAL:"CLOSE_RENAME_FOLDER_MODAL",OPEN_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG:"OPEN_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG",CLOSE_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG:"CLOSE_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG",OPEN_BOOK_CONSUMPTION_CAP_MODAL:"OPEN_BOOK_CONSUMPTION_CAP_MODAL",CLOSE_BOOK_CONSUMPTION_CAP_MODAL:"CLOSE_BOOK_CONSUMPTION_CAP_MODAL"},r=function(e){return{type:i.COPY_LINK_SUCCESS,link:e}},a=function(){return{type:i.SHOW_L2L_MODAL}},o=function(){return{type:i.HIDE_L2L_MODAL}},s=function(e){return{type:i.OPEN_DELETE_PLAYLIST_DIALOG,uri:e}},l=function(){return{type:i.CLOSE_DELETE_PLAYLIST_DIALOG}},c=function(e,t){return{type:i.OPEN_DELETE_FOLDER_DIALOG,uri:e,onDeleteCallback:t}},u=function(){return{type:i.CLOSE_DELETE_FOLDER_DIALOG}},d=function(e){return{type:i.OPEN_REMOVE_FROM_LIBRARY_DIALOG,uri:e}},p=function(){return{type:i.CLOSE_REMOVE_FROM_LIBRARY_DIALOG}},m=function(e){return{type:i.OPEN_LEAVE_PLAYLIST_DIALOG,playlistUri:e}},f=function(){return{type:i.CLOSE_LEAVE_PLAYLIST_DIALOG}},v=function(e,t){return{type:i.OPEN_BLOCK_USER_DIALOG,uri:e,name:t}},g=function(){return{type:i.CLOSE_BLOCK_USER_DIALOG}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:i.OPEN_SIGNUP_PROMPT_DIALOG,uri:e}},k=function(){return{type:i.CLOSE_SIGNUP_PROMPT_DIALOG}},y=function(){return{type:i.HIDE_UNSUPPORTED_MESSAGE}},b=function(e){return{type:i.SHOW_UNSUPPORTED_MESSAGE,message:e}},S=function(){return{type:i.HIDE_PLAYBACK_NOT_SUPPORTED_MODAL}},x=function(){return{type:i.SHOW_PLAYBACK_NOT_SUPPORTED_MODAL}},O=function(){return{type:i.HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL}},w=function(){return{type:i.SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL}},N=function(){return{type:i.OPEN_FULLSCREEN_MODE}},_=function(){return{type:i.CLOSE_FULLSCREEN_MODE}},E=function(e){return{type:i.SET_NOW_PLAYING_COVER_FORCED_EXPANDED_STATE,forcedExpandedState:e}},C=function(){return{type:i.CONNECT_DEVICE_PICKER_OPENED}},P=function(){return{type:i.CONNECT_DEVICE_PICKER_CLOSED}},I=function(){return{type:i.SHOW_CONNECT_NUDGE}},j=function(){return{type:i.HIDE_CONNECT_NUDGE}},A=function(e){return{type:i.UPDATE_UI_HISTORY_STATE,historyState:e}},T=function(){return{type:i.ENTER_FULLSCREEN}},D=function(){return{type:i.LEAVE_FULLSCREEN}},R=function(e){return{type:i.SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY,isOpen:e}},F=function(e,t){return{type:i.SHOW_TRACK_CREDITS,isOpen:e,trackUri:t}},L=function(){return{type:i.SHOW_S2L_MODAL}},M=function(){return{type:i.HIDE_S2L_MODAL}},U=function(){return{type:i.INITIALISE_QUICKSILVER}},Z=function(){return{type:i.TRIGGER_CLICK_DEPRECATION_MESSAGE}},B=function(){return{type:i.OPEN_REMOVE_DOWNLOADS_DIALOG}},V=function(){return{type:i.CLOSE_REMOVE_DOWNLOADS_DIALOG}},H=function(){return{type:i.OPEN_CLEAR_CACHE_DIALOG}},G=function(){return{type:i.CLOSE_CLEAR_CACHE_DIALOG}},W=function(e,t){return{type:i.OPEN_RENAME_FOLDER_MODAL,name:e,handleRename:t}},z=function(){return{type:i.CLOSE_RENAME_FOLDER_MODAL}},K=function(e){return{type:i.OPEN_BOOK_CONSUMPTION_CAP_MODAL,consumptionCapExplanation:e}},Y=function(){return{type:i.CLOSE_BOOK_CONSUMPTION_CAP_MODAL}},q=function(e,t,n,r){return{type:i.OPEN_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG,uri:e,onConfirm:t,onCancel:n,remoteDeviceInfo:r}},Q=function(){return{type:i.CLOSE_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG}}},79063:(e,t,n)=>{"use strict";n.d(t,{Q:()=>m});n(40274),n(22369),n(69109);var i=n(61740),r=n(17249),a=n(9271),o=n(24122),s=n(43714);function l(e){return null!=e&&""!==e}function c(e){return l(e)&&"#"!==e}function u(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return null!==(t=i.find(e))&&void 0!==t?t:null}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,[l].concat(t))}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=u.apply(void 0,[c].concat(t));return i?(0,s.p)(i):i}function m(e){var t,n=(0,i.v9)((function(e){var t,n,i;return null!==(t=null===(n=e.ads)||void 0===n||null===(i=n.vto)||void 0===i?void 0:i.info)&&void 0!==t?t:null})),l=(0,i.v9)((function(e){var t,n,i;return null!==(t=null===(n=e.ads)||void 0===n||null===(i=n.audio)||void 0===i?void 0:i.info)&&void 0!==t?t:null})),c=(0,a.Y)((function(e){return null==e?void 0:e.context}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)}));if(!(0,o.k6)(e))return null;var u,m,f=e.advertiser,v=e.url,g=e.title,h=r.ag.get("ad-formats.advertisement"),k=r.ag.get("ad-formats.learnMore");if(function(e){return e.isPodcastAd}(e)){var y,b,S,x=(null==c||null===(y=c.metadata)||void 0===y?void 0:y.context_description)||f||k;return{title:null!==(b=d(g,null==n?void 0:n.advertiser,null==l?void 0:l.buttonMessage))&&void 0!==b?b:h,subtitle:x,url:p(null==n?void 0:n.clickUrl,null==l?void 0:l.clickUrl,v),blurbUri:null!=c&&null!==(S=c.metadata)&&void 0!==S&&S.context_description&&x===(null==c?void 0:c.metadata.context_description)&&c.uri?(0,s.p)(c.uri):void 0}}if(function(e){return"video"===e.mediaType}(e))return{title:null!==(u=null==n?void 0:n.advertiser)&&void 0!==u?u:h,subtitle:null!==(m=null==n?void 0:n.buttonMessage)&&void 0!==m?m:k,url:p(null==n?void 0:n.clickUrl,v)};var O=!0===(null==l?void 0:l.isFeaturedActionPlay)?r.ag.get("ad-formats.playTrack"):null;return{title:f||h,subtitle:null!==(t=d(null==l?void 0:l.buttonMessage,O))&&void 0!==t?t:k,url:p(null==l?void 0:l.clickUrl,v)}}},82166:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var i=n(5556);function r(e){return"".concat((0,i.lc)(e),"/sponsors")}},44813:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var i=n(38674),r=n(10785);function a(){return(0,i.W6)(r.fX)}},88394:(e,t,n)=>{"use strict";n.d(t,{G:()=>c,I:()=>l});var i=n(8850),r=n(10995),a=n.n(r),o=(n(83001),n(22369),n(8760),n(27639),n(71756),n(59496)),s=n(61740),l=function(e){return e?function(){var e=(0,i.Z)(a().mark((function e(t){var i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,40685));case 2:return i=e.sent,r=i.adsCosmos,e.next=6,r.get(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():function(e){return fetch(e,{mode:"no-cors"})}};function c(e){var t=(0,s.v9)((function(e){return e.platform})).isDesktop;return(0,o.useMemo)((function(){return e(t)}),[e,t])}},86378:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return a(a({},e),{},{clickthrough:e.clickthroughUrl,trackingEvents:e.trackingEvents,metadata:a(a({},e),{},{creative_id:e.creativeId,lineitem_id:e.lineitemId}),display:e.displayImage})}},57558:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var i=n(5556);function r(e){return"".concat((0,i.mH)(e),"/sponsors")}},819:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,g:()=>i});var i={"discover-weekly":"666f726d61740004","release-radar":"666f726d61740000","time-machine":"666f726d6174f00d","summerjams-a":"666f726d6174f011","summerjams-b":"666f726d6174f012","summerjams-c":"666f726d6174f013","friends-weekly":"666f726d6174f119","on-repeat":"666f726d6174f152"},r="https://spclient.wg.spotify.com/sponsoredplaylist/v1/sponsored"},30993:(e,t,n)=>{"use strict";n.d(t,{Fw:()=>d,Hp:()=>i,Ir:()=>m,MJ:()=>u,_G:()=>a,_M:()=>f,az:()=>c,bo:()=>v,dk:()=>g,fm:()=>l,kH:()=>b,kh:()=>k,lT:()=>y,lb:()=>p,r1:()=>r,rt:()=>o,uE:()=>s,yg:()=>h});var i={GOT_TEMPLATE:"GOT_TEMPLATE",HPTO_CONTAINER_MOUNTED:"HPTO_CONTAINER_MOUNTED",HPTO_CONTAINER_UNMOUNTED:"HPTO_CONTAINER_UNMOUNTED",HPTO_COMPONENT_UNMOUNTED:"HPTO_COMPONENT_UNMOUNTED",HPTO_COMPONENT_NEW_AD_RENDERED:"HPTO_COMPONENT_NEW_AD_RENDERED",FETCH_CREATIVE:"FETCH_CREATIVE",FETCHING_CREATIVE:"FETCHING_CREATIVE",CREATIVE_FETCH_FAILED:"CREATIVE_FETCH_FAILED",GOT_CREATIVE:"GOT_CREATIVE",SET_HPTO_PREVIEW:"SET_HPTO_PREVIEW",HPTO_PREVIEW_HOME_NAVIGATION:"HPTO_PREVIEW_HOME_NAVIGATION",DEBUG_FORCE_REFRESH_HPTO:"DEBUG_FORCE_REFRESH_HPTO"},r="HPTO_COMPONENT_MOUNTED",a="HPTO_LOG_EVENT",o="HPTO_LOG_ERROR_EVENT",s=function(e){return{type:i.GOT_TEMPLATE,data:e}},l=function(e){return{type:i.HPTO_CONTAINER_MOUNTED,data:{enableHptoLocationRefactor:e}}},c=function(e){return{type:r,element:e}},u=function(e){return{type:i.HPTO_COMPONENT_UNMOUNTED,data:{clearCreative:e}}},d=function(){return{type:i.HPTO_COMPONENT_NEW_AD_RENDERED}},p=function(){return{type:i.FETCH_CREATIVE}},m=function(){return{type:i.FETCHING_CREATIVE}},f=function(e){return{type:i.GOT_CREATIVE,data:e}},v=function(e){return{type:i.SET_HPTO_PREVIEW,data:e}},g=function(){return{type:i.HPTO_PREVIEW_HOME_NAVIGATION}},h=function(){return{type:i.CREATIVE_FETCH_FAILED}},k=function(e){return{type:a,event:e,context:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}},y=function(e){return{type:o,error:e}},b=function(){return{type:i.DEBUG_FORCE_REFRESH_HPTO}}},34547:(e,t,n)=>{"use strict";n.d(t,{F7:()=>p,Jk:()=>c,LA:()=>d,PA:()=>f,W3:()=>l,sp:()=>u,t4:()=>o,vK:()=>m});n(4302),n(66469);var i=n(23055),r=n(87624),a=[r.O.NATIVE,r.O.IMAGE,r.O.HTML],o=function(e){var t;return(null===(t=e.ads.hpto)||void 0===t?void 0:t.template)||null},s=function(e){return e.ads.root.isHptoHidden},l=function(e){var t;return(null===(t=e.ads.hpto)||void 0===t?void 0:t.hptoIsStable)||null},c=function(e){return e.ads.root.isPremium},u=function(e){var t;return(null===(t=e.ads.hpto)||void 0===t?void 0:t.creativeFetchingState)||null},d=(0,i.P1)((function(e){var t;return(null===(t=e.ads.hpto)||void 0===t?void 0:t.creative)||null}),(function(e){var t;return(null===(t=e.ads.hpto)||void 0===t?void 0:t.preview)||null}),(function(e,t){return t||e})),p=(0,i.P1)(d,c,s,(function(e,t,n){return!!e&&!(!a.includes(e.bannerMode)||t&&n)})),m=(0,i.P1)(c,s,(function(e,t){return!e||!t})),f=(0,i.P1)(d,(function(e){return!!e&&a.includes(e.bannerMode)}))},42957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var i=n(45389),r=(n(29543),n(22369),n(70969),n(162),n(95675),n(61235),n(62780),n(7845),n(66715),n(30479),n(75341),n(59496)),a=n(10506),o=n(3269),s=n(49421),l=n(17249),c=n(94152),u=n(88394),d=n(4982),p=n(12535),m=n(34162),f=n(40467),v=n(63892),g=n(4637),h="110px";const k=function(e){var t=e.adId,n=e.advertiser,i=e.tagline,r=e.displayImage,a=e.buttonMessage,s=e.cardOnClick,l=e.buttonOnClick,c=e.clickthroughUrl;return(0,g.jsx)(d.w,{"":"leavebehind",onClickHint:"Learn more about ".concat(n),onClick:s,layout:"wide",variant:"tinted",isInteractive:!1,id:t,size:"xxl",title:(0,g.jsx)(p.g,{weight:"bold",variant:"ballad",lineClamp:1,"":"leavebehind-advertiser",children:n}),subtitle:(0,g.jsx)(m.l,{as:"div",paddingBottom:o.hM$,lineClamp:2,"":"leavebehind-tagline",children:i}),media:(0,g.jsx)(f.d,{"":"leavebehind-image",src:r.src,imageWidth:h,imageHeight:h,alt:r.alt}),body:(0,g.jsx)(v.D,{"":"leavebehind-button",colorSet:"invertedLight",buttonSize:"sm","aria-label":"Learn more about ".concat(n),onClick:l,as:"a",href:c,children:a})})},y="Q37FJoGFTgoNpsDfGsN1",b="FDps6_94Is8Rqkopfsrw";function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const O=function(e){var t=e.leavebehinds,n=e.seeAllButton,i=e.surface,d=e.playlistUri,p=(0,c.s4)(),m=(0,u.G)(u.I);return(0,r.useEffect)((function(){d&&t.length>0&&t.forEach((function(e){var t;e.playlistUri===d&&(null===(t=e.trackingEvents)||void 0===t||t.viewed.forEach(m),p.send((0,s.a)({leavebehind_lineitem_id:e.lineitemId,leavebehind_request_id:e.requestId,event:"event_viewed",event_reason:"viewed_on_".concat(i.toLowerCase()),surface:i,uri:d})))}))}),[p,m,t,d,i]),(0,g.jsx)(r.Suspense,{fallback:null,children:(0,g.jsxs)("section",{"":"music-leavebehinds-wrapper",children:[(0,g.jsxs)("div",{className:b,children:[(0,g.jsx)(a.D,{as:"h2",semanticColor:"textBase",variant:"canon",paddingBottom:o.nuo,"":"music-leavebehinds-title",children:l.ag.get("podcast-ads.recent_ads")}),n]}),(0,g.jsx)("div",{className:y,"":"leavebehinds-list-wrapper",children:t.map((function(e){return(0,g.jsx)(k,x(x({},e),{},{buttonOnClick:function(){var t;null===(t=e.trackingEvents)||void 0===t||t.clicked.forEach(m),p.send((0,s.a)({leavebehind_lineitem_id:e.lineitemId,leavebehind_request_id:e.requestId,event:"event_clicked",event_reason:"button_clicked",surface:i,uri:d}))}}),e.adId)}))})]})})}},70571:(e,t,n)=>{"use strict";n.d(t,{D7:()=>a,aV:()=>i,fz:()=>r});n(162),n(43125),n(27639),n(79611),n(40265),n(22369),n(46743),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=3,r=8,a=function(e,t){return e.leavebehindAds.map((function(n){return{adId:n.adId,advertiser:n.advertiser,tagline:n.tagline,displayImage:{src:(null==n?void 0:n.logoImage)||(null==n?void 0:n.displayImage),alt:"".concat(n.advertiser," logo")},buttonMessage:n.buttonMessage,clickthroughUrl:n.clickthroughUrl,trackingEvents:n.trackingEvents,requestId:e.requestId,lineitemId:n.lineitemId,playlistUri:t}}))}},22679:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,v:()=>i});var i=function(e){return e.ads.musicLeavebehinds.leavebehinds||null},r=function(e){return e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships")}},45099:(e,t,n)=>{"use strict";n.d(t,{OO:()=>r,Tg:()=>i});n(39975),n(162),n(69604),n(99975),n(82088),n(22369),n(30246),n(43125),n(27639),n(16366),n(96669),n(61235),n(69724),n(39965),n(83001),n(71756),n(59538),n(79611),n(33892);var i=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.PODCAST_SCROLL_NPV=1]="PODCAST_SCROLL_NPV",e[e.SHOW_PAGE=2]="SHOW_PAGE",e[e.EPISODE_PAGE=3]="EPISODE_PAGE",e[e.PODCAST_SEE_ALL=7]="PODCAST_SEE_ALL",e[e.MUSIC_NPV=4]="MUSIC_NPV",e[e.PLAYLIST=5]="PLAYLIST",e[e.MUSIC_SEE_ALL=6]="MUSIC_SEE_ALL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function r(e){switch(e){case i.UNKNOWN:return"UNKNOWN";case i.PODCAST_SCROLL_NPV:return"PODCAST_SCROLL_NPV";case i.SHOW_PAGE:return"SHOW_PAGE";case i.EPISODE_PAGE:return"EPISODE_PAGE";case i.PODCAST_SEE_ALL:return"PODCAST_SEE_ALL";case i.MUSIC_NPV:return"MUSIC_NPV";case i.PLAYLIST:return"PLAYLIST";case i.MUSIC_SEE_ALL:return"MUSIC_SEE_ALL";case i.UNRECOGNIZED:default:return"UNRECOGNIZED"}}},32865:(e,t,n)=>{"use strict";n.d(t,{Gr:()=>r,Wi:()=>i,ZN:()=>a,tD:()=>o});var i=function(e){return e.FETCH_LEAVEBEHINDS="FETCH_LEAVEBEHINDS",e.UPDATE_LEAVEBEHINDS="UPDATE_LEAVEBEHINDS",e.CLEAR_LEAVEBEHINDS="CLEAR_LEAVEBEHINDS",e.ERROR_FETCHING_LEAVEBEHINDS="ERROR_FETCHING_LEAVEBEHINDS",e}({}),r=function(e){return{type:i.UPDATE_LEAVEBEHINDS,data:e}},a=function(e){return{type:i.FETCH_LEAVEBEHINDS,data:e}},o=function(){return{type:i.ERROR_FETCHING_LEAVEBEHINDS}}},47343:(e,t,n)=>{"use strict";n.d(t,{AG:()=>v,Gi:()=>a,IP:()=>c,Kf:()=>s,Ot:()=>h,Pu:()=>m,Ud:()=>b,Vw:()=>f,bQ:()=>u,fd:()=>d,hk:()=>l,i7:()=>r,iN:()=>p,jY:()=>i,kh:()=>y,mr:()=>o,uE:()=>k,z8:()=>g});var i="REQUEST_SPONSORED_PLAYLISTS",r="REQUEST_SPONSORED_PLAYLISTS_SUCCESS",a="REQUEST_SPONSORED_PLAYLIST_AD",o="REQUEST_SPONSORED_PLAYLIST_AD_SUCCESS",s="LOG_EVENT_SPONSORED_PLAYLIST",l="SPONSORED_PLAYLIST_RENDERED",c="SPONSORED_PLAYLIST_DESTROYED",u="SET_SPONSORED_PREVIEW_AD",d=function(e){return{type:a,playlistUri:e}},p=function(e){return{type:r,sponsorships:e}},m=function(e){return{type:"REQUEST_SPONSORED_PLAYLISTS_FAILURE",error:e}},f=function(){return{type:l}},v=function(){return{type:c}},g=function(){return{type:i}},h=function(e,t){return{type:o,playlistUri:e,ad:t}},k=function(e){return{type:u,previewAd:e}},y=function(e){return{type:s,message:e}},b=function(e){return{type:"REQUEST_SPONSORED_PLAYLIST_AD_FAILURE",error:e}}},19281:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,u:()=>i});var i=300,r=200},7543:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>i,SY:()=>c,Vb:()=>o,Zc:()=>a,hX:()=>s,ir:()=>u,kh:()=>l,w9:()=>r});var i={MINIMIZE_VIDEO_AD_VIEW:"MINIMIZE_VIDEO_AD_VIEW",MAXIMIZE_VIDEO_AD_VIEW:"MAXIMIZE_VIDEO_AD_VIEW",HIDE_VIDEO_AD_VIEW:"HIDE_VIDEO_AD_VIEW",SHOW_VIDEO_AD_VIEW:"SHOW_VIDEO_AD_VIEW",VTO_LOG_EVENT:"VTO_LOG_EVENT",VTO_SET_INFO:"VTO_SET_INFO",VTO_NAVIGATION_CHANGE:"VTO_NAVIGATION_CHANGE"},r=function(){return{type:i.MINIMIZE_VIDEO_AD_VIEW}},a=function(){return{type:i.MAXIMIZE_VIDEO_AD_VIEW}},o=function(){return{type:i.HIDE_VIDEO_AD_VIEW}},s=function(){return{type:i.SHOW_VIDEO_AD_VIEW}},l=function(e,t){return{type:i.VTO_LOG_EVENT,event:e,eventReason:t}},c=function(e){return{type:i.VTO_SET_INFO,info:e}},u=function(){return{type:i.VTO_NAVIGATION_CHANGE}}},9714:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdsCoreConnector:()=>x,eventsClient:()=>b,inStreamClient:()=>S});var i=n(8850),r=n(27915),a=n(92449),o=n(10995),s=n.n(o),l=(n(59538),n(79611),n(40744)),c=n(49482),u=n(9170),d=n(64144),p=n(25701),m=n(98322),f=n(68894),v=n(819),g=(0,f.G)(),h=new l.qu(g),k=new p.w4(g),y=new d.Fg(g),b=new c.r2(g),S=new u.InStreamClient(g),x=function(){function e(){(0,r.Z)(this,e)}var t,n;return(0,a.Z)(e,[{key:"fetchAdForSlot",value:(n=(0,i.Z)(s().mark((function e(t){var n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getAds(l.KF.fromPartial({slotId:t}));case 2:if(n=e.sent,i=n.adPackage[t]){e.next=6;break}throw new Error("slot-not-defined");case 6:if(i.ads.length){e.next=8;break}throw new Error("no-ads");case 8:return e.abrupt("return",i.ads[0]);case 9:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"addNewSlot",value:function(e,t){return k.createSlot(p.ej.fromPartial({slotId:e}))}},{key:"enableSlot",value:function(e){return y.updateSlotEnabled(d.J5.fromPartial({slotId:e,enabled:!0}))}},{key:"subscribeToSlot",value:function(e,t){return k.subSlot(p.Z0.fromPartial({slotId:e}),(function(e){return t(e)}))}},{key:"getSponsoredUris",value:(t=(0,i.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new m.c).build().withHost(v.W).withMethod("GET").send();case 2:return t=e.sent,e.abrupt("return",t.body);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}()},40685:(e,t,n)=>{"use strict";n.r(t),n.d(t,{adsCosmos:()=>i});var i=(0,n(74620).v)()},52699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getEpisodeSponsors:()=>c});var i=n(8850),r=n(10995),a=n.n(r),o=(n(69109),n(92357),n(59538),n(79611),n(162),n(40685)),s=n(86378),l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],r=t[1];return"https://spclient.wg.spotify.com/podcast-ap4p/".concat(2===(null==r?void 0:r.version)?"v2/episodeSponsors":"rawSponsoredSection","/").concat(i).concat(2===(null==r?void 0:r.version)?"?responseFormat=json":"")},c=function(){var e=(0,i.Z)(a().mark((function e(){var t,n,i,r,c,u,d,p,m=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=globalThis,n=m.length,i=new Array(n),r=0;r<n;r++)i[r]=m[r];if("function"!=typeof t.getEpisodeSponsorsOverride){e.next=6;break}return e.next=5,t.getEpisodeSponsorsOverride.apply(t,i);case 5:case 17:return e.abrupt("return",e.sent);case 6:if(c=i[0],u=i[1],c){e.next=9;break}throw new Error("episodeBase62Id invalid for getting episode sponsors");case 9:if(d=l.apply(void 0,i),2!==(null==u?void 0:u.version)){e.next=15;break}return e.next=13,o.adsCosmos.get(d);case 13:return p=e.sent,e.abrupt("return",p.ads.map(s.t));case 15:return e.next=17,o.adsCosmos.get(d);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},65134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getShowSponsors:()=>c});var i=n(8850),r=n(10995),a=n.n(r),o=(n(162),n(40685)),s=n(86378),l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];return"https://spclient.wg.spotify.com/podcast-ap4p/showSponsors/".concat(i,"?responseFormat=json")},c=function(){var e=(0,i.Z)(a().mark((function e(){var t,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.adsCosmos.get(l.apply(void 0,n));case 2:return t=e.sent,e.abrupt("return",t.ads.map(s.t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},16296:(e,t,n)=>{"use strict";n.d(t,{tg:()=>c,gN:()=>T,oc:()=>f});var i=n(8850),r=n(45389),a=n(10995),o=n.n(a),s=(n(37193),n(40265),n(405),n(69109),n(62780),n(22369),n(59538),n(79611),n(162),n(8760),n(29543),n(70969),n(89620),n(1219)),l=n(40685);function c(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=console).log.apply(e,["cosmos-connector: "].concat(n)),n}var u=n(68894),d=new s.ProductStateClient((0,u.G)()),p={"Content-Type":"application/json"},m=function(e){return"sp://ads/v1/events/".concat(e)};function f(e,t,n,i){return l.adsCosmos.sub(m(e),t,n,i)}var v=n(52699),g=n(65134),h="sp://device_state/state";function k(){return(k=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.adsCosmos.put(h,{volume:t},p);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(72304),n(95675);var y=Date.now(),b="https://spclient.wg.spotify.com/ads/v1/ads",S="https://spclient.wg.spotify.com/sponsoredplaylist/v1/sponsored",x="sp://ads/v1/slots",O="sp://ads/v1/settings",w="".concat(O,"/request_header"),N="sp://ads/v1/state",_="sp://ads/v2/state",E=["audio","video","banner"],C=b,P=S;function I(e,t){l.adsCosmos.sub("sp://ads/v1/formats/"+e,(function(e){t(e)}))}function j(e){return l.adsCosmos.get("".concat(O,"/").concat(e),p)}function A(e,t){return l.adsCosmos.post("".concat(x,"/").concat(e,"/").concat(t),{},p)}var T={subscribeToFormat:I,getSlotConfigurations:j,subscribeToAdsProductState:function(e){return d.subValues(s.SubValuesRequest.fromPartial({}),(function(t){t.pairs.ads&&e({ads:t.pairs.ads})}))},subscribeToProductState:function(e,t){return d.subValues(s.SubValuesRequest.fromPartial({}),(function(n){n.pairs[e]&&t((0,r.Z)({},e,n.pairs[e]))}))},getAdSlotConfig:function(e){return j(e).then((function(t){return t.settings.filter((function(t){return t.id===e}))[0]}))},getAdForSlot:function(e,t,n){c("fetch ad for slot=%o, localTargeting=%o",t,e,C);var i=C!==b?C:"".concat(C,"/").concat(t);return l.adsCosmos.get(i,{targeting:e,pod:{},session_id:y,overrides:n||{}},{}).then((function(e){if(!e.pod)throw new Error("pod-not-defined");if(!e.pod[t])throw new Error("slot-not-defined");if(0===e.pod[t].length)throw new Error("no-ads");return e.pod[t][0]}))},fetchAdForSlot:function(e,t){var n="".concat("sp://ads/v1/ads/").concat(e);return c("fetchAdForSlot endpoint=%o",n),l.adsCosmos.get(n,t,{}).then((function(t){if(!t[e])throw new Error("slot-not-defined");if(0===t[e].length)throw new Error("no-ads");return t[e][0]}))},requestPreviewAd:function(e){return c("Requesting preview ad, adid=%o",e),l.adsCosmos.post("".concat("sp://ads/v1/preview","/").concat(e),{})},overrideCountry:function(e){return c("Overring country=%o",e),l.adsCosmos.put("sp://ads/v2/testing/request_override/country",{value:e})},patchTargeting:function(e,t){return l.adsCosmos.put("".concat("sp://ads/v1/targeting","/").concat(e),{value:t},p)},increaseStreamTime:function(e){return l.adsCosmos.post("sp://ads/v1/testing/playtime",{value:e},p)},addNewSlot:function(e,t){return l.adsCosmos.put("".concat(x,"/").concat(e),{formats:[t]},p).then((function(){return"".concat(x,"/").concat(e,"/").concat(t)}))},subscribeToSlot:function(e,t){return l.adsCosmos.sub(e,(function(e){t(e)}))},subscribeToSlotType:function(e,t){return l.adsCosmos.sub("".concat(x,"/").concat(e),(function(e){t(e)}))},subscribeToAllFormats:function(e){E.map((function(t){I(t,(function(n){e(t,n)}))}))},subscribeToEvent:f,postEvent:function(e,t,n){var i="sp://ads/v1/events/".concat(t,"/").concat(e);return n&&n.event_data&&Object.keys(n.event_data).some((function(e){var t;return"string"!=typeof(null===(t=n.event_data)||void 0===t?void 0:t[e])}))?Promise.reject(new TypeError("Invalid Payload. All event_data values need to be strings. Furthermore, event_data shouldn't even be used at all anymore since it has been deprecated with https://ghe.spotify.net/ads/adscore-docs/pull/6")):l.adsCosmos.post(i,n||{},p)},postToSlot:function(e,t,n){var i="".concat(x,"/").concat(e,"/").concat(t);return l.adsCosmos.post(i,n||{},p)},getSlotConfiguration:function(e,t){return window.Ads&&window.Ads.adFormatOverrides.billboardShowAfterSeconds?Promise.resolve(window.Ads.adFormatOverrides.billboardShowAfterSeconds):j(e).then((function(n){var i;return n.settings.forEach((function(n){n.id===e&&(i=n[t])})),i}))},configureSlot:function(e,t,n){return l.adsCosmos.put("".concat(O,"/").concat(e,"/").concat(t),{value:n},p)},enableSlot:function(e){return l.adsCosmos.put("".concat(O,"/").concat(e,"/slot_enabled"),{value:!0},p)},getSponsoredUris:function(){return(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P!==S?P:S,e.abrupt("return",l.adsCosmos.get(t));case 2:case"end":return e.stop()}}),e)})))()},getSponsorshipAd:function(e){var t=P!==S?P:"".concat(S,"/").concat(e);return c("getSponsorshipAd",t),l.adsCosmos.get(t)},subToState:function(e){l.adsCosmos.sub(N,e)},subToAdState:function(e){l.adsCosmos.sub(_,e)},getState:function(){return l.adsCosmos.get(N)},getAdState:function(){return l.adsCosmos.get(_)},getFeatureFlags:function(e){return l.adsCosmos.post("sp://abba/v1/flags",{flags:e},p)},setAdSlotEndpoint:function(e){C=e,c("setAdSlotEndpoint",e)},setAdStatePusherEndpoint:function(e){return c("setAdStatePusherEndpoint",e),l.adsCosmos.put("sp://ads/v2/settings/state/ad_state_endpoint",{value:e},p)},setSponsoredUri:function(e){P=e,c("setSponsoredUri",e)},triggerSlotFetch:function(e){return A(e,"fetch")},triggerSlotPlay:function(e){return A(e,"now")},triggerSlotClear:function(e){return A(e,"clear")},triggerSlotClearAll:function(e){return A(e,"clear_all")},setRequestHeader:function(e,t,n){return l.adsCosmos.put("".concat(w,"/").concat(e),{value:t,refresh_inventory:n},p)},removeRequestHeader:function(e,t){return l.adsCosmos.del("".concat(w,"/").concat(e),{refresh_inventory:t},p)},setAdStateKey:function(e,t){return l.adsCosmos.put("".concat(_,"/").concat(e),{value:t},p)},setAdState:function(e){return l.adsCosmos.put("".concat(_),e,p)},loadAdPod:function(e){return c("Loading ad pod via cosmos",e),l.adsCosmos.put("".concat("sp://ads/v2/testing","/insert_ads"),{value:JSON.stringify(e)},p)},overridePodcastMetadata:function(e){return c("Overriding podcast metadata",e),l.adsCosmos.put("sp://ads/v1/podcast/metadata",e,p)},logAudioVolume:function(e){return k.apply(this,arguments)},getEpisodeSponsors:v.getEpisodeSponsors,getShowSponsors:g.getShowSponsors}},47728:(e,t,n)=>{"use strict";n.d(t,{N:()=>S,f:()=>O});var i=n(8850),r=n(10995),a=n.n(r),o=(n(83001),n(22369),n(8760),n(27639),n(71756),n(29543),n(70969),n(98853),n(16366),n(31781),n(66685)),s=n.n(o),l=(n(162),n(92357),["Loftie","HBOMax","Squarespace","Casper","Smile Direct Club","Test Advertiser #6","Test Advertiser #7"]),c=function(){var e=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.map((function(e,t){return{clickthrough:"https://www.spotify.com/",display:"https://open.spotifycdn.com/cdn/images/logo-complete-black.573d8227.svg",metadata:{adId:"test ad id ".concat(t),displayImage:"https://open.spotifycdn.com/cdn/images/logo-complete-black.573d8227.svg",clickthroughUrl:"test clickthroughUrl ".concat(t),advertiser:e,lineitem_id:"test lineitem id ".concat(t),lineitemId:"test lineitem id ".concat(t),buttonMessage:"test button message ".concat(t),creative_id:"test creative id ".concat(t),creativeId:"test creative id ".concat(t),featuredAction:"test featured action ".concat(t),logoImage:"http://i.scdn.co/image/86a0078ff798be6840aec841e7fbd2da2acea75d",tagline:"test tagline ".concat(t)},trackingEvents:{clicked:["https://xpui.app.spotify.com/index.html"],viewed:["https://xpui.app.spotify.com/index.html"]}}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var u=n(16296);n(69109),n(95675),n(61235),n(62780),n(7845),n(66715),n(30479),n(75341);var d="podcast_midroll_15_clickthrough",p="podcast-midroll-1",m={segments:[{slot:p,start:3e4,stop:45e3,targeting:{maxads:"1"},admockerTestCase:d}]};var f,v="https://admocker.spotify.com";function g(e){return u.gN.increaseStreamTime(e)}function h(e,t){return u.gN.configureSlot(e,"ad_server_endpoint",t).then((function(){k()}))}function k(){var e,t;null===(e=f)||void 0===e||null===(t=e._debugForceRefreshHpto)||void 0===t||t.call(e)}function y(){return(y=(0,i.Z)(a().mark((function e(t,n,i){var r,o,s,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s="ad_server_endpoint",e.next=3,u.gN.getSlotConfigurations(t);case 3:return l=e.sent,c="",null!=l&&null!==(r=l.settings)&&void 0!==r&&null!==(o=r[0])&&void 0!==o&&o[s]&&(c=l.settings[0][s].replace("https://pubads.g.doubleclick.net",n)),c+="&session_id=".concat(i),e.abrupt("return",u.gN.configureSlot(t,s,c));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.gN.triggerSlotClearAll(t);case 2:return e.abrupt("return",u.gN.postToSlot(t,"fetch"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S={overrideCountry:function(e){return u.gN.overrideCountry(e)},patchTargeting:function(e,t){return u.gN.patchTargeting(e,t)},increaseStreamTime:g,getAdServerEndpoint:function(e){return u.gN.getSlotConfigurations(e).then((function(e){return e.settings[0].ad_server_endpoint}))},overrideAdServerEndpoint:h,overrideAdSlotEndpoint:function(e){return u.gN.setAdSlotEndpoint(e)},overrideAdStatePusherEndpoint:function(e){return u.gN.setAdStatePusherEndpoint(e)},overrideSponsoredPlaylistEndpoint:function(e){var t,n;u.gN.setSponsoredUri(e),null===(t=f)||void 0===t||null===(n=t.overrideSponsoredPlaylistEndpoint)||void 0===n||n.call(t)},_debugForceRefreshHpto:k,manualPodLoad:function(e){return(0,u.tg)("manualPodLoad(): pod=%o",e),u.gN.loadAdPod(e)},setAdServerEndpoint:function(e,t,n){return y.apply(this,arguments)},clearSlot:function(e){return u.gN.postToSlot(e,"clear")},triggerSlot:function(e){return b.apply(this,arguments)},subToFormats:function(e){return u.gN.subscribeToAllFormats((function(t,n){e?e(t,n):(0,u.tg)("config for slot=%o, res=%o",t,n)}))},subToState:function(e){return u.gN.subToState((function(t){e?e(t):(0,u.tg)("legacy ads state updated: %o",t)}))},subToAdState:function(e){u.gN.subToAdState((function(t){e?e(t):(0,u.tg)("ad state updated: %o",t)}))},getState:function(e){return u.gN.getState().then((function(t){return e?e(t):(0,u.tg)("legacy ads state: %o",t.state),t}))},getAdState:function(e){return u.gN.getAdState().then((function(t){e?e(t):(0,u.tg)("ad state: %o",t)}))},configureSlot:function(e,t,n){return u.gN.configureSlot(e,t,n)},debug:u.tg,getAdSlotConfigurations:function(e,t){u.gN.getSlotConfigurations(e).then((function(n){t?t(n):(0,u.tg)("config for slot=%o, res=%o",e,n)}))},setRequestHeader:function(e,t,n){return u.gN.setRequestHeader(e,t,n)},removeRequestHeader:function(e,t){return u.gN.removeRequestHeader(e,t)},createSlotAndOverrideItsAdServerEndpoint:function(e,t){return u.gN.addNewSlot(e).then((function(){return h(e,t)})).catch((function(t){return(0,u.tg)("Problem creating and overriding ".concat(e," slot, error=%o"),t)}))},enableSlot:function(e){return u.gN.enableSlot(e)},queueVideoAd:function(){return Promise.all([u.gN.addNewSlot("stream","video"),u.gN.increaseStreamTime(1200),u.gN.patchTargeting("focus","true"),u.gN.patchTargeting("adbreak","video,adscore")])},setBillboardTimeout:function(e){S.adFormatOverrides.billboardShowAfterSeconds=e},applyAdmockerForPodcastAd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.podcastMetadata,n=void 0===t?m:t,i=e.sessionId,r=void 0===i?"1":i,a=e.endpoint,o=void 0===a?function(e){return function(e,t){return"".concat(v,"/mock/ad?test_case=").concat(e,"&session_id=").concat(t)}(e.admockerTestCase,r)}:a;return n.segments.forEach((function(e){var t="function"==typeof o?o(e):o;h(e.slot,t)})),u.gN.overridePodcastMetadata(n)},adFormatOverrides:{billboardShowAfterSeconds:null},overrideGetEpisodeSponsors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;globalThis.getEpisodeSponsorsOverride=e}},x=!1;function O(e){f=e,x||(s().unbind("shift+f5"),s().bind("shift+f5",(function(){g(1200)})),x=!0,window.Ads=S)}},43714:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var i=n(59272);function r(e){var t=(0,i.EC)(e);return function(e){return null!==e}(t)?t.toURI():e}},87624:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,Y:()=>i});var i=function(e){return e.NOT_FETCHING="NOT_FETCHING",e.FETCHING="FETCHING",e.FETCHED="FETCHED",e.FAILED="FAILED",e}({}),r=function(e){return e.IMAGE="image",e.HTML="html",e.NATIVE="native",e}({})},41434:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var i=function(e){return e.NOT_FETCHING="NOT_FETCHING",e.FETCHING="FETCHING",e.FETCHED="FETCHED",e.FAILED="FAILED",e}({})},45649:(e,t,n)=>{"use strict";n.d(t,{W9:()=>f,hf:()=>g});var i=n(8850),r=n(27915),a=n(92449),o=n(45389),s=n(10995),l=n.n(s),c=(n(5538),n(16366),n(96669),n(59538),n(79611),n(81289),n(22369),n(62780),n(40265),n(46743),n(83001),n(8760),n(27639),n(71756),n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(28725));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="stream",m="video",f=function(e){return e.CLICKED="clicked",e.COLLAPSED="collapsed",e.EXPANDED="expanded",e.VIEWED="viewed",e}({}),v=function(e){return e.FOREGROUNDED="foregrounded",e.BACKGROUNDED="backgrounded",e}({}),g=function(){function e(t,n){var i=this;(0,r.Z)(this,e),(0,o.Z)(this,"enabled",!1),(0,o.Z)(this,"active",!1),(0,o.Z)(this,"fireImpressionOnStart",!1),(0,o.Z)(this,"parseInfo",(function(e){var t;return{id:e.id,advertiser:e.advertiser,buttonMessage:e.metadata.buttonMessage||null,clickUrl:e.click_url,companionAd:i.getPreferredCompanionAd(e)||null,skippableAdDelaySeconds:parseInt(null===(t=e.metadata)||void 0===t?void 0:t.skippable_ad_delay,10)||0}})),(0,o.Z)(this,"isPreferred",(function(e){return 300===e.width&&250===e.height&&/^image\/(jpeg|png)$/.test(e.mime_type)})),(0,o.Z)(this,"onAdMessage",(function(e){if(e.format===m&&i.listener)switch(e.event){case"available":break;case"play":var t=e&&e.ad&&e.ad.metadata;i.fireImpressionOnStart=t&&"true"===t.fireImpressionOnStart,i.listener.onInfo(i.parseInfo(e.ad));break;default:throw new Error("[VTO] Unsupported event type: ".concat(e.event))}})),this.focusState=t,this.videoTakeoverApi=n}var t,n,s,u;return(0,a.Z)(e,[{key:"enable",value:(u=(0,i.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=7;break}return this.enabled=!0,this.listener=t,this.focusState.addFocusListener(this),e.next=6,this.videoTakeoverApi.addNewSlot(p,m);case 6:this.subscription=this.videoTakeoverApi.subscribeToSlotType(p,this.onAdMessage);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"disable",value:(s=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.enabled&&(this.resetState(),this.enabled=!1,this.listener=void 0,this.subscription&&this.subscription.cancel(),this.focusState.removeAllFocusListeners());case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"logEvent",value:function(e,t){if(this.playbackState){var n=this.createEventData(this.playbackState),i=n.eventData,r=n.extraData;this.log(e,i,r,t)}}},{key:"onRender",value:function(){this.logEvent(this.focusState.hasFocus()?v.FOREGROUNDED:v.BACKGROUNDED)}},{key:"onFocusChanged",value:function(e){return e?this.handleApplicationGainedFocus():this.handleApplicationLostFocus()}},{key:"getPreferredCompanionAd",value:function(e){var t=e.companion_ads||[];return t.filter(this.isPreferred).reduce((function(e,t){return t}),t[t.length-1])}},{key:"createEventData",value:function(e){return{eventData:{volume:e.volume.toString(),duration:e.duration.toString()},extraData:{playback_position:Math.floor(1e3*e.position)}}}},{key:"resetState",value:function(){this.playbackState=null}},{key:"handleApplicationGainedFocus",value:(n=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.active&&this.logEvent(v.FOREGROUNDED),e.next=3,Promise.all([this.videoTakeoverApi.patchTargeting("focus","true"),this.videoTakeoverApi.patchTargeting("adbreak","video,adscore")]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleApplicationLostFocus",value:(t=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.active&&this.logEvent(v.BACKGROUNDED),e.next=3,Promise.all([this.videoTakeoverApi.patchTargeting("focus","false"),this.videoTakeoverApi.patchTargeting("adbreak","adscore")]);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;this.playbackState&&this.videoTakeoverApi.postEvent(this.playbackState.adId,e,d(d({event_data:d({clientReportedUserAgent:navigator.userAgent},t)},n),i&&{reason:i}))}},{key:"onCreated",value:function(e){this.active=!0,this.playbackState=e,this.listener&&this.listener.onCreated()}},{key:"onEnded",value:function(e,t){this.active=!1,this.playbackState=e,c.n0.PLAYED_TO_END!==t||this.fireImpressionOnStart||this.logEvent(f.VIEWED),this.listener&&this.listener.onEnded(),this.playbackState=null}},{key:"onStarted",value:function(e){this.playbackState=e,this.fireImpressionOnStart&&this.logEvent(f.VIEWED),this.listener&&this.listener.onStarted()}},{key:"onStateUpdate",value:function(e){this.playbackState=e}},{key:"onReady",value:function(){this.listener&&this.listener.onFirstReady()}},{key:"getEnabled",value:function(){return this.enabled}}]),e}()},51238:(e,t,n)=>{"use strict";n.d(t,{HI:()=>c,Hp:()=>i,Iq:()=>a,Ru:()=>s,jj:()=>r,nX:()=>u,tv:()=>o,xG:()=>l});var i={ADS_ENABLED:"ADS_ENABLED",ADS_DISABLED:"ADS_DISABLED",ADS_PREMIUM:"ADS_PREMIUM",ADS_HPTO_HIDDEN:"ADS_HPTO_HIDDEN",ADS_POST_HIDE_HPTO:"ADS_POST_HIDE_HPTO",TRIGGER_PREVIEW_AD:"TRIGGER_PREVIEW_AD",LOG_NOW_PLAYING_AD_CLICK:"LOG_NOW_PLAYING_AD_CLICK"},r=function(){return{type:i.ADS_ENABLED}},a=function(){return{type:i.ADS_DISABLED}},o=function(e){return{type:i.ADS_PREMIUM,isPremium:e}},s=function(e){return{type:i.ADS_HPTO_HIDDEN,isHptoHidden:e}},l=function(){return{type:i.ADS_POST_HIDE_HPTO}},c=function(e){return{type:i.TRIGGER_PREVIEW_AD,adUriHexId:e}},u=function(e){return{type:i.LOG_NOW_PLAYING_AD_CLICK,eventReason:e}}},17386:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});const i="main-actionBarBackground-background";var r=n(4637),a=function(e){var t=e.backgroundColor;return(0,r.jsx)("div",{className:i,style:{backgroundColor:t}})}},84737:(e,t,n)=>{"use strict";n.d(t,{o:()=>u,F:()=>d});var i=n(84875),r=n.n(i),a=n(17386),o=n(92755);const s="main-actionBar-ActionBar",l="main-actionBar-ActionBarRow";var c=n(4637),u=function(e){var t=e.backgroundColor,n=e.children,i=e.style;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.I,{backgroundColor:t}),(0,c.jsx)(o.U,{children:(0,c.jsx)("div",{className:r()(s,"contentSpacing"),style:i,children:n})})]})},d=function(e){var t=e.children;return(0,c.jsx)("div",{className:l,"":"action-bar-row",children:t})}},93235:(e,t,n)=>{"use strict";n.d(t,{G:()=>O});n(61235),n(69724);var i=n(84875),r=n.n(i),a=n(10506),o=n(14268),s=n(25403),l=n(98148),c=n(94320),u=n(63892),d=n(17249),p=n(32701),m=n(27257);const f="lIp2JaiMRS6_yF05q5N9",v="uzQIGWrDxI1E09vQnrXk",g="s58sp4t3h1uU9n_42KqD",h="c0KyMkxeMCWQGE7cR8s_",k="I2hCY2G1sJIBaTtEfJt_",y="bXJ77rNIJ18Y0GfegQdr",b="y9bkifFKNExwjaoINLm9",S="Qsmn7PN8jFZ8tATBCnFs";var x=n(4637),O=function(e){var t=e.title,n=e.description,i=e.id,O=e.visible,w=e.primaryButtonText,N=e.secondaryButtonText,_=e.checkboxText,E=e.onHide,C=e.onPrimaryButtonClick,P=e.onSecondaryButtonClick,I=void 0===P?E:P,j=e.onCheckboxClick,A=e.onCloseClick,T=void 0===A?I:A,D=e.showButtons,R=void 0===D||D,F=e.children,L=e.placement,M=void 0===L?"auto":L,U=e.hideArrow,Z=e.className,B=e.popperOptions,V=e.zIndex,H=e.maxWidth,G=e.tippyClassName,W=e.tippyWrapperClassName,z=e.hideOnClickOutside,K=void 0===z||z,Y=e.useSecondaryStyling,q=void 0!==Y&&Y,Q=e.childRef,J=e.fadeOut,X=void 0!==J&&J,$=e.renderInline,ee=void 0===$||$;return(0,x.jsx)(p.x,{renderInline:ee,visible:O,placement:M,hideArrow:U,popperOptions:B,className:G,tippyWrapperClassName:W,zIndex:V,maxWidth:H,onHide:K?E:function(){},childRef:Q,fadeOut:X,overlay:(0,x.jsxs)("div",{className:r()(f,Z),"":"".concat(i,"-hook"),children:[(0,x.jsxs)("div",{className:v,children:[(0,x.jsx)(a.D,{as:"p",className:g,variant:"cello",children:t}),!R&&(0,x.jsx)(m.E,{size:"sm",className:S,onClick:function(e){return null==T?void 0:T(e)},ariaLabel:d.ag.get("close"),icon:o.k})]}),(0,x.jsx)(a.D,{as:"p",className:h,variant:"mesto",children:n}),R&&(0,x.jsxs)("div",{className:k,children:[(0,x.jsx)("div",{children:_&&(0,x.jsx)(s.z,{id:"dont.show.onboarding.npv",onChange:j,semanticColor:"essentialBase",className:y,children:(0,x.jsx)(a.D,{variant:"mesto",children:_()})})}),(0,x.jsxs)("div",{className:b,children:[N&&(0,x.jsx)(l.o,{onClick:I,buttonSize:"sm",children:N()}),w&&(q?(0,x.jsx)(c.P,{onClick:C,buttonSize:"sm",children:w()}):(0,x.jsx)(u.D,{colorSet:"invertedLight",onClick:C,buttonSize:"sm",children:w()}))]})]})]}),children:F})}},80082:(e,t,n)=>{"use strict";n.d(t,{D:()=>u});var i=n(59496),r=n(17249),a=n(81438),o=n(55388),s=n(90775),l=n(43771),c=n(4637),u=function(e){var t=e.id,n=e.children,u=e.targetURI,d=e.fadeOut,p=void 0!==d&&d,m=(0,i.useCallback)((function(){window.open((0,o.cd)(u).href)}),[u]),f={getTitle:function(){return r.ag.get("action-trigger.available-in-app-only")},getDescription:function(){return r.ag.get("action-trigger.listen-mixed-media-episode")},primaryButtonText:function(){return r.ag.get("action-trigger.button.get-app")},secondaryButtonText:function(){return r.ag.get("action-trigger.button.not-now")},isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,s.o)(),shouldHideOnScroll:!0,fadeOut:p};return(0,c.jsx)(a.P,{className:l.Z.container,id:t,onPrimaryButtonClick:m,options:f,children:n})}},38156:(e,t,n)=>{"use strict";n.d(t,{P:()=>g,n:()=>v});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(61740),o=n(17249),s=n(81438),l=n(32701),c=n(26482),u=n(90775),d=n(43771),p=n(4637);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=l.L,g=function(e){var t=e.id,n=e.options,i=e.children,l=(0,a.I0)(),m=(0,r.useCallback)((function(){l((0,c.sX)())}),[l]),g=(0,u.o)(),h=f(f({isCTA:!0,placement:v.rightTop},n),{},{primaryButtonText:function(){return o.ag.get("login")},secondaryButtonText:function(){return o.ag.get("action-trigger.button.not-now")},onLogInteraction:g});return(0,p.jsx)(s.P,{className:d.Z.container,id:t,onPrimaryButtonClick:m,options:h,children:i})}},71767:(e,t,n)=>{"use strict";n.d(t,{H:()=>L,q:()=>R});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(39130),a=n(980),o=n(59496),s=n(84875),l=n.n(s),c=n(16648),u=n(13609),d=n(18113),p=n(44738),m=n(17249),f=n(4637),v=(0,o.memo)((function(e){var t=e.size,n=e.onEnd;return(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:1.3*t,height:1.3*t,viewBox:"0 0 384 384",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:"-".concat((1.3*t-t)/2,"px")},children:[(0,f.jsxs)("g",{id:"_R_G",children:[(0,f.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_4_G_N_3_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_4_G",transform:" translate(0, 0.006) translate(0, 0)",children:(0,f.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z "})})})})}),(0,f.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_3_G_N_2_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_3_G",children:(0,f.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z "})})})})}),(0,f.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_2_G_N_2_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_2_G",children:(0,f.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",stroke:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -162 C89.41,-162 162,-89.41 162,0 C162,89.41 89.41,162 0,162 C-89.41,162 -162,89.41 -162,0 C-162,-89.41 -89.41,-162 0,-162z "})})})})}),(0,f.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_1_G",children:(0,f.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -7 C96,-7 96,7 96,7 C96,7 -96,7 -96,7 C-96,7 -96,-7 -96,-7 C-96,-7 96,-7 96,-7z  M7 -96 C7,-96 7,96 7,96 C7,96 -7,96 -7,96 C-7,96 -7,-96 -7,-96 C-7,-96 7,-96 7,-96z "})})})})}),(0,f.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_0_G",transform:" rotate(-130) scale(1.03, 1.03)",children:(0,f.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-92.21 15.2 C-92.21,15.2 -27.04,91.53 -27.04,91.53 C-27.04,91.53 94.27,-50.53 94.27,-50.53 C94.27,-50.53 75.27,-66.67 75.27,-66.67 C75.27,-66.67 -27.04,53.15 -27.04,53.15 C-27.04,53.15 -75.83,-3.92 -75.83,-3.92 C-75.83,-3.92 -92.21,15.2 -92.21,15.2z  M-162 0 C-162,-89.47 -89.47,-162 0,-162 C89.47,-162 162,-89.47 162,0 C162,89.47 89.47,162 0,162 C-89.47,162 -162,89.47 -162,0z "})})})})})]}),(0,f.jsx)("g",{id:"time_group"}),(0,f.jsxs)("defs",{children:[(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),to:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),keyTimes:"0;0.9090909;0.9545455;1",values:"#b3b3b3;#1db954;#1ed760;#1ed760",keySplines:"0 0 0 1;0.328 0.103 0.661 1;0 0 0 0",calcMode:"spline",ref:function(e){e&&e.addEventListener("endEvent",n,{once:!0})}}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z ",to:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z ",keyTimes:"0;0.9545455;1",values:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ",keySplines:"0 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"0.99 0.99",type:"scale",additive:"sum",keyTimes:"0;0.9545455;1",values:"1 1;0.99 0.99;0.99 0.99",keySplines:"0.692 0 0.64 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),to:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),keyTimes:"0;0.1818182;0.4545455;1",values:"#b3b3b3;#b3b3b3;#121212;#121212",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z ",to:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z ",keyTimes:"0;0.9545455;1",values:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ;M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ;M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.7727273;0.9545455;1",values:"0;0;1;1",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.7727273;0.7727318;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"0s",from:"0",to:"1",xlinkHref:"#time_group"})]})]})})),g=(0,o.memo)((function(e){var t=e.size,n=e.onEnd;return(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:1.3*t,height:1.3*t,viewBox:"0 0 384 384",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:"-".concat((1.3*t-t)/2,"px")},children:[(0,f.jsxs)("g",{id:"_R_G",children:[(0,f.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_4_G_N_3_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_4_G",transform:" translate(0, 0.006) translate(0, 0)",children:(0,f.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z "})})})})}),(0,f.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_3_G_N_2_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_3_G",children:(0,f.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill:"#121212",fillOpacity:"1",fillRule:"nonzero",d:" M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z "})})})})}),(0,f.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_2_G_N_2_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_2_G",transform:" rotate(-130) scale(1.03, 1.03)",children:(0,f.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-92.21 15.2 C-92.21,15.2 -27.04,91.53 -27.04,91.53 C-27.04,91.53 94.27,-50.53 94.27,-50.53 C94.27,-50.53 75.27,-66.67 75.27,-66.67 C75.27,-66.67 -27.04,53.15 -27.04,53.15 C-27.04,53.15 -75.83,-3.92 -75.83,-3.92 C-75.83,-3.92 -92.21,15.2 -92.21,15.2z  M-162 0 C-162,-89.47 -89.47,-162 0,-162 C89.47,-162 162,-89.47 162,0 C162,89.47 89.47,162 0,162 C-89.47,162 -162,89.47 -162,0z "})})})})}),(0,f.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_1_G",children:(0,f.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),fillOpacity:"1",fillRule:"nonzero",d:" M96 -7 C96,-7 96,7 96,7 C96,7 -96,7 -96,7 C-96,7 -96,-7 -96,-7 C-96,-7 96,-7 96,-7z  M7 -96 C7,-96 7,96 7,96 C7,96 -7,96 -7,96 C-7,96 -7,-96 -7,-96 C-7,-96 7,-96 7,-96z "})})})})}),(0,f.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",transform:" translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_0_G",children:(0,f.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",stroke:getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -162 C89.41,-162 162,-89.41 162,0 C162,89.41 89.41,162 0,162 C-89.41,162 -162,89.41 -162,0 C-162,-89.41 -89.41,-162 0,-162z "})})})})})]}),(0,f.jsx)("g",{id:"time_group"}),(0,f.jsxs)("defs",{children:[(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#1ed760",to:"#1ed760",keyTimes:"0;0.9545455;1",values:"#1ed760;#b3b3b3;#b3b3b3",keySplines:"1 0 1 1;0 0 0 0",calcMode:"spline",ref:function(e){e&&e.addEventListener("endEvent",n,{once:!0})}}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z ",to:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z ",keyTimes:"0;0.9545455;1",values:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ",keySplines:"0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_T_0",fill:"freeze",attributeName:"transform",from:"0.99 0.99",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.9545455;1",values:"0.99 0.99;1 1;1 1",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#121212",to:"#121212",keyTimes:"0;0.0454545;0.1818182;1",values:"#121212;#121212;#b3b3b3;#b3b3b3",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z ",to:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z ",keyTimes:"0;0.9545455;1",values:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ;M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ;M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.9545455;0.95455;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.9545455;0.95455;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"0s",from:"0",to:"1",xlinkHref:"#time_group"})]})]})})),h=n(3269),k=(0,o.memo)((function(e){var t=e.size,n=e.onEnd,i=t>16?2.35:2.5;return(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:t*i,height:t*i,viewBox:"0 0 224 224",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:"-".concat((t*i-t)/2,"px")},children:[(0,f.jsxs)("defs",{children:[(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:30,to:0,keyTimes:"0;0.1219512;0.804878;1",values:"30;30;0;0",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline",ref:function(e){e&&e.addEventListener("endEvent",n,{once:!0})}}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"rx",from:15,to:110,keyTimes:"0;0.1219512;0.804878;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"ry",from:15,to:110,keyTimes:"0;0.1219512;0.804878;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.1219512;0.804878;1",values:"1;1;0;0",keySplines:"0.2 0 0.4 1;0.2 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.1219512;0.1219537;0.8292683;0.8292683;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:30,to:0,keyTimes:"0;0.2926829;0.9756098;1",values:"30;30;0;0",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"rx",from:15,to:110,keyTimes:"0;0.2926829;0.9756098;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"ry",from:15,to:110,keyTimes:"0;0.2926829;0.9756098;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.2926829;0.9756098;1",values:"1;1;0;0",keySplines:"0.2 0 0.4 1;0.2 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_M",fill:"freeze",attributeName:"opacity",from:0,to:1,keyTimes:"0;0.2926829;0.2926854;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.7804878;1",values:"1;0;0",keySplines:"0.6 0 0.7 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",keyTimes:"0;0.7804878;1",path:"M122.25 123.17 C200.25,137.25 197.5,23.92 197.5,23.92 C197.5,23.92 197.5,23.92 197.5,23.92 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.7804878;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.804878;0.8048781;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.6585366;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",keyTimes:"0;0.6585366;1",path:"M98 105.92 C19.75,106.25 32.25,37.42 32.25,37.42 C32.25,37.42 32.25,37.42 32.25,37.42 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.6585366;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.6829268;0.6829269;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.7317073;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",keyTimes:"0;0.7317073;1",path:"M112.5 123.17 C73.75,194.5 72,43.17 72,43.17 C72,43.17 72,43.17 72,43.17 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.7317073;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.804878;0.8048781;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.804878;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",keyTimes:"0;0.804878;1",path:"M112 134.92 C160.75,190.75 155.25,45.67 155.25,45.67 C155.25,45.67 155.25,45.67 155.25,45.67 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.804878;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.8536585;0.8536586;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:h.ixZ,to:h.ixZ,keyTimes:"0;0.1219512;0.2439024;1",values:"#ffffff;#ffffff;#1db954;#1db954",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ",to:"M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ",keyTimes:"0;0.1219512;0.2439024;1",values:"M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ;M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ;M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ;M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_1",fill:"freeze",attributeName:"fill",from:h.ixZ,to:h.ixZ,keyTimes:"0;0.1219512;0.2439024;1",values:"#ffffff;#ffffff;#1db954;#1db954",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"opacity",from:.7000000000000001,to:1,keyTimes:"0;0.1219512;1",values:"0.7000000000000001;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_1_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.1219512;0.2439024;0.5121951;1",values:"1 1;0.8 0.8;1.25 1.25;1 1;1 1",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.2439024;0.2439025;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_D_1_P_0",fill:"freeze",attributeName:"stroke-width",from:2,to:1,keyTimes:"0;0.2439024;0.5121951;1",values:"2;2;1;1",keySplines:"0.333 0 0 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"transform",from:"4 4",to:"4 4",type:"scale",additive:"sum",keyTimes:"0;0.2439024;0.5121951;1",values:"4 4;4 4;4 4;4 4",keySplines:"0.333 0 0 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_1_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.1219512;0.2439024;0.5121951;1",values:"1 1;0.8 0.8;1.25 1.25;1 1;1 1",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:0,to:1,keyTimes:"0;0.2439024;0.2439049;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:0,to:1,xlinkHref:"#time_group"})]}),(0,f.jsxs)("g",{id:"_R_G",children:[(0,f.jsx)("g",{id:"_R_G_L_7_G_M",children:(0,f.jsx)("g",{id:"_R_G_L_7_G",transform:" translate(112, 112) translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_7_G_D_0_P_0_G_0_T_0",children:(0,f.jsx)("ellipse",{id:"_R_G_L_7_G_D_0_P_0",stroke:h.By7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:30,strokeOpacity:1,cx:0,cy:0})})})}),(0,f.jsx)("g",{id:"_R_G_L_6_G_M",children:(0,f.jsx)("g",{id:"_R_G_L_6_G",transform:" translate(112, 112) translate(0, 0)",children:(0,f.jsx)("g",{id:"_R_G_L_6_G_D_0_P_0_G_0_T_0",children:(0,f.jsx)("ellipse",{id:"_R_G_L_6_G_D_0_P_0",stroke:h.By7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:30,strokeOpacity:1,cx:0,cy:0})})})}),(0,f.jsx)("g",{id:"_R_G_L_5_G_M",children:(0,f.jsx)("g",{id:"_R_G_L_5_G",children:(0,f.jsx)("path",{id:"_R_G_L_5_G_D_0_P_0",fill:h.ixZ,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,f.jsx)("g",{id:"_R_G_L_4_G_M",children:(0,f.jsx)("g",{id:"_R_G_L_4_G",children:(0,f.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill:h.By7,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,f.jsx)("g",{id:"_R_G_L_3_G_M",children:(0,f.jsx)("g",{id:"_R_G_L_3_G",children:(0,f.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill:h.ixZ,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,f.jsx)("g",{id:"_R_G_L_2_G_M",children:(0,f.jsx)("g",{id:"_R_G_L_2_G",children:(0,f.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",fill:h.By7,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,f.jsx)("g",{id:"_R_G_L_1_G_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_1_G_N_1_T_0",transform:" translate(112, 112)",children:(0,f.jsxs)("g",{id:"_R_G_L_1_G",transform:" scale(4, 4)",children:[(0,f.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill:h.ixZ,fillOpacity:1,fillRule:"nonzero",d:" M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z "}),(0,f.jsx)("path",{id:"_R_G_L_1_G_D_0_P_1",fill:h.ixZ,fillOpacity:1,fillRule:"nonzero",d:" M-3.22 -10.57 C-4.4,-10.85 -5.63,-10.8 -6.79,-10.43 C-7.94,-10.06 -8.98,-9.39 -9.79,-8.49 C-10.59,-7.58 -11.14,-6.47 -11.37,-5.29 C-11.57,-4.29 -11.54,-3.26 -11.28,-2.28 C-11.02,-1.3 -10.54,-0.4 -9.88,0.37 C-9.88,0.37 -1.93,9.85 -1.93,9.85 C-1.69,10.13 -1.4,10.36 -1.06,10.51 C-0.73,10.67 -0.37,10.75 0,10.75 C0.37,10.75 0.73,10.67 1.06,10.51 C1.4,10.36 1.69,10.13 1.93,9.85 C1.93,9.85 9.88,0.37 9.88,0.37 C10.54,-0.4 11.02,-1.3 11.28,-2.28 C11.54,-3.26 11.57,-4.29 11.37,-5.28 C11.37,-5.28 11.37,-5.29 11.37,-5.29 C11.1,-6.64 10.42,-7.89 9.43,-8.85 C8.43,-9.81 7.17,-10.44 5.8,-10.66 C5.8,-10.66 5.8,-10.66 5.8,-10.66 C4.77,-10.83 3.72,-10.75 2.73,-10.44 C1.74,-10.13 0.83,-9.6 0.08,-8.88 C0.06,-8.86 0.03,-8.85 0,-8.85 C-0.03,-8.85 -0.06,-8.86 -0.08,-8.88 C-0.96,-9.72 -2.04,-10.3 -3.22,-10.57z "})]})})}),(0,f.jsx)("g",{id:"_R_G_L_0_G_N_1_T_0_M",children:(0,f.jsx)("g",{id:"_R_G_L_0_G_N_1_T_0",transform:" translate(112, 112)",children:(0,f.jsxs)("g",{id:"_R_G_L_0_G",transform:" translate(0, 0)",children:[(0,f.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:h.By7,fillOpacity:1,fillRule:"nonzero",d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}),(0,f.jsx)("path",{id:"_R_G_L_0_G_D_1_P_0",stroke:h.By7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:2,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})]})})})]}),(0,f.jsx)("g",{id:"time_group"})]})})),y=(0,o.memo)((function(e){var t=e.size,n=e.onEnd,i=2.35;return(0,f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:t*i,height:t*i,viewBox:"0 0 224 224",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:"-".concat((t*i-t)/2,"px")},children:[(0,f.jsxs)("defs",{children:[(0,f.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:1,to:2,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;2;2",keySplines:"0.6 0 0.7 1;0.6 0 0.7 1;0 0 0 0",calcMode:"spline",ref:function(e){e&&e.addEventListener("endEvent",n,{once:!0})}}),(0,f.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"opacity",from:0,to:.7000000000000001,keyTimes:"0;0.3225806;0.6451613;1",values:"0;0;0.7000000000000001;0.7000000000000001",keySplines:"0.6 0 0.7 1;0.6 0 0.7 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",keyTimes:"0;0.3225806;0.483871;0.6451613;0.9677419;1",path:"M112 140 C112,140 100,140 100,140 C100,140 124,140 124,140 C124,140 100,140 100,140 C100,140 112,140 112,140 C112,140 112,140 112,140 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0.8 0 0.8 1;0.8 0 0.8 1;0.8 0 0.8 1;0.2 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:0,to:0,type:"rotate",additive:"sum",keyTimes:"0;0.2580645;0.3870968;0.5483871;0.7096774;0.9677419;1",values:"0;3;-4;6;-6;0;0",keySplines:"0.6 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.6 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_D_1_P_0",fill:"freeze",attributeName:"stroke-width",from:1,to:2,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;2;2",keySplines:"0.3 0 0.4 1;0.3 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;0;0",keySplines:"0.3 0 0.4 1;0.3 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateMotion",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",keyTimes:"0;0.3225806;0.483871;0.6451613;0.9677419;1",path:"M112 140 C112,140 100,140 100,140 C100,140 124,140 124,140 C124,140 100,140 100,140 C100,140 112,140 112,140 C112,140 112,140 112,140 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0.8 0 0.8 1;0.8 0 0.8 1;0.8 0 0.8 1;0.2 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animateTransform",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:0,to:0,type:"rotate",additive:"sum",keyTimes:"0;0.2580645;0.3870968;0.5483871;0.7096774;0.9677419;1",values:"0;3;-4;6;-6;0;0",keySplines:"0.6 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.6 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,f.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:0,to:1,xlinkHref:"#time_group"})]}),(0,f.jsxs)("g",{id:"_R_G",children:[(0,f.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",children:(0,f.jsx)("g",{id:"_R_G_L_1_G",transform:" translate(0, -28) scale(4, 4) translate(0, 0)",children:(0,f.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",stroke:h.ixZ,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:1,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})})}),(0,f.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",children:(0,f.jsxs)("g",{id:"_R_G_L_0_G",transform:" translate(0.214, -27.999) scale(4, 4) translate(0, 0)",children:[(0,f.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:h.By7,fillOpacity:1,fillRule:"nonzero",d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}),(0,f.jsx)("path",{id:"_R_G_L_0_G_D_1_P_0",stroke:h.By7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:1,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})]})})]}),(0,f.jsx)("g",{id:"time_group"})]})})),b=n(71062),S=n(939),x=n(38674),O=n(46868),w=n(10785),N=n(97422),_=n(710),E=(n(39975),new(n(37253).Ct));function C(e){var t=(0,o.useRef)([]);t.current=Array.isArray(e)?e:[e];return function(){var e=t.current,n=function(e){return E.create(e,(function(){var t=new Audio(e);return t.load(),t}))}(e[Math.floor(Math.random()*e.length)]);n.play()}}const P={button:"main-addButton-button",active:"main-addButton-active",disabled:"main-addButton-disabled",helmet:"main-addButton-helmet",ZoomInAnimation:"main-addButton-zoomInAnimation"};function I(e,t){return(0,f.jsx)(N.Ee,{src:t?(0,O.g)("images/mando_helmet_felix.png"):(0,O.g)("images/mando_helmet.png"),className:P.helmet,width:e,height:e,loading:"lazy"})}function j(e){var t=(0,_.ae)(),n=t.surface,i=t.isViewingVariant,r=t.isPlayingVariant,a=(0,x.W6)(w.k7,{loadingValue:w.zZ.DISABLED}),o=a!==w.zZ.DISABLED,s=a===w.zZ.HELMET_AND_SOUND||a===w.zZ.FELIX,l=a===w.zZ.FELIX,c=C(function(e){return e?[(0,O.g)("sounds/mando_this_is_the_way_felix.mp3")]:[(0,O.g)("sounds/mando_this_is_the_way_103.mp3"),(0,O.g)("sounds/mando_this_is_the_way_107.mp3")]}(l));if(n===_.Tg.ALBUM||n===_.Tg.TRACK||n===_.Tg.PLAYLIST){var u=o&&i===_.$e.MANDALORIAN,d=s&&u;return{content:u?I(e,l):null,playSound:d?c:function(){}}}if(n===_.Tg.NOW_PLAYING){var p=o&&r===_.$e.MANDALORIAN,m=s&&p;return{content:p?I(e,l):null,playSound:m?c:function(){}}}return{content:null,playSound:function(){}}}var A=["onClick","isAdded","size","disabled","isEpisode","isAudiobook","className"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e[e.lg=48]="lg",e[e.xl=64]="xl",e}({}),F=function(e){return e.none="none",e.positive="positive",e.undo="undo",e}(F||{}),L=o.memo((function(e){var t,n,s=e.onClick,h=e.isAdded,x=e.size,O=e.disabled,w=void 0!==O&&O,N=e.isEpisode,_=void 0!==N&&N,E=e.isAudiobook,C=void 0!==E&&E,I=e.className,T=(0,a.Z)(e,A),R=h?m.ag.get("remove_from_your_library"):m.ag.get("save_to_your_library"),L=(0,S.T)(),M=(0,o.useState)(F.none),U=(0,r.Z)(M,2),Z=U[0],B=U[1],V=(0,o.useCallback)((function(){return B(F.none)}),[B]),H=j(x),G=H.content,W=H.playSound,z=(0,o.useCallback)((function(e){if(!w){var t=e.currentTarget,n=e.detail;B(h?F.undo:F.positive),s(e),h||W(),n>0&&t&&t.blur()}}),[h,s,w,W]);return n=null!==G?h?G:(0,f.jsx)(c.A,{iconSize:x}):L||Z===F.none?_||C?h?(0,f.jsx)(u.K,{iconSize:x}):(0,f.jsx)(d.G,{iconSize:x}):h?(0,f.jsx)(p.a,{iconSize:x}):(0,f.jsx)(c.A,{iconSize:x}):_||C?Z===F.positive?(0,f.jsx)(v,{size:x,onEnd:V}):(0,f.jsx)(g,{size:x,onEnd:V}):Z===F.positive?(0,f.jsx)(k,{size:x,onEnd:V}):(0,f.jsx)(y,{size:x,onEnd:V}),(0,f.jsx)(b.w,{label:R,children:(0,f.jsx)("button",D(D({type:"button",role:"switch","aria-checked":h,"aria-label":R,className:l()(P.button,I,(t={},(0,i.Z)(t,P.active,h),(0,i.Z)(t,P.disabled,w),t)),onClick:z,"":"add-button"},T),{},{children:n}))})}))},39447:(e,t,n)=>{"use strict";n.d(t,{q:()=>j});var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(39106),l=(n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(46731)),c=n.n(l),u=n(38185),d=n(66388),p=n(4637),m=function(e){var t=e.iconSize,n=e.placeholderText;return n?(0,p.jsx)("svg",{width:t,height:t,fill:"currentColor",viewBox:"0 0 18 20",xmlns:"http://www.w3.org/2000/svg","":"user-icon",children:(0,p.jsx)("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"central",children:n})}):(0,p.jsx)(d.f,{"aria-hidden":"true",iconSize:t,"":"user-icon"})},f=n(66831);const v="main-avatar-avatar",g="main-avatar-withBadge",h="main-avatar-image",k="main-avatar-piled",y="main-avatar-piledIcon",b="main-avatar-placeholderWrapper",S="main-avatar-placeholderTransparent";function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={},N=[u.HjQ,u.XfI,u.pCU,u.dG,u.m1g,u.s8M],_=function(e){if(!w[e]){var t=function(e){var t=0;if(0===e.length)return t;for(var n=0,i=e.length;n<i;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}(e),n=Math.abs(t)%N.length;w[e]=N[n]}return w[e]},E=function(e){return c()(e)[0].toUpperCase()},C=function(e){var t=_(e);return function(e){var t=e.rgb;return(299*t.r+587*t.g+114*t.b)/1e3>=128}((0,f.l)(t))?u.Snx:u.ixZ},P=function(e){var t=e.username,n=e.displayName,r=e.userIconSize,a=e.transparent,s=t&&n?function(e){return{background:_(e),color:C(e)}}(t):{},l=t&&n?{placeholderText:E(n)}:{};return(0,p.jsx)("div",{className:o()(b,(0,i.Z)({},S,a)),"":"placeholder-wrapper",style:s,children:(0,p.jsx)(m,O({iconSize:r},l))})},I=n(75897),j=(0,r.memo)((function(e){var t=e.label,n=e.images,r=e.width,a=e.className,l=e.withBadge,c=e.userIconSize,u=e.testID,d=e.piled,m=e.username,f=e.displayName,b=e.customPlaceholder,S=e.transparent,x=(0,s.o)(n,{desiredSize:r}),O=b||(0,p.jsx)(P,{username:m,displayName:f,userIconSize:c,transparent:S});return(0,p.jsxs)("figure",{className:o()(v,(0,i.Z)({},g,l),a),title:t,style:{width:d?.7*r:r,height:r},"":u,children:[(0,p.jsx)("div",{className:o()((0,i.Z)({},k,d)),style:{width:r,height:r,insetInlineStart:d?(.7-1)*r:0},children:x?(0,p.jsx)(I.E,{loading:"eager",src:x,alt:t,className:h,children:O}):O}),d&&(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"0",width:"0","aria-hidden":"true",children:(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"avatarClipPath",clipPathUnits:"objectBoundingBox",children:(0,p.jsx)("path",{className:y,d:"M 0.166 0.872 C 0.241 0.775 0.286 0.652 0.286 0.518 C 0.286 0.374 0.235 0.243 0.15 0.143 C 0.24 0.055 0.364 0 0.5 0 C 0.776 0 1 0.224 1 0.5 C 1 0.776 0.776 1 0.5 1 C 0.372 1 0.255 0.952 0.166 0.872 Z","transform-origin":"0.5 0.5"})})})})]})}))},12116:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(88843),o=n(4637),s=["href","children"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.href,n=e.children,i=(0,r.Z)(e,s);return(0,o.jsx)(a.default,c(c({to:t},i),{},{children:n}))}},54669:(e,t,n)=>{"use strict";n.d(t,{q:()=>E,o:()=>P});var i=n(39130),r=n(45389),a=n(59496),o=n(84875),s=n.n(o),l=n(29617),c=n(30214),u=n(17249),d=n(83338),p=n(71062),m=n(27021),f=n(48850),v=n(76820),g=n(1188),h=n(52956),k=n(82065),y=n(56766);const b="x-downloadButton-cancelDownloadButton",S="x-downloadButton-DownloadButton",x="x-downloadButton-button",O="x-downloadButton-removeDownload",w="x-downloadButton-cancelDownload",N="x-downloadButton-progress";var _=n(4637),E=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e}({}),C=function(e){var t=e.currentTarget;e.detail>0&&t&&t.blur()},P=function(e){var t=e.uri,n=e.isFollowing,o=e.canDownload,P=void 0===o||o,I=e.onFollow,j=e.size,A=void 0===j?E.sm:j,T=e.className,D=e.onClick,R=void 0===D?function(){}:D,F=e.showUpsell,L=void 0===F||F,M=(0,r.Z)({},"--size","".concat(A,"px")),U=(0,a.useState)(!1),Z=(0,i.Z)(U,2),B=Z[0],V=Z[1],H=(0,v._)(t),G=H.capability,W=H.availability,z=H.addDownload,K=(0,d.D)(),Y=(0,g.A)(t);!function(e,t){var n=(0,k.r)(),i=(0,a.useRef)(!1);(0,a.useEffect)((function(){e===f.Om.DOWNLOADING&&!1===i.current&&(i.current=!0,n.say(u.ag.get("download.downloading",t.totalItems)))}),[n,e,t]);var r=(0,h.D)(e);(0,a.useEffect)((function(){r===f.Om.DOWNLOADING&&e===f.Om.YES&&(i.current=!1,n.say(u.ag.get("download.complete")))}),[n,r,e])}(W,Y);var q=(0,a.useCallback)((function(e){e.preventDefault(),G===f.PQ.NO_PERMISSION?R(e,f.mc.NO_PERMISSION):(!1===n?(I(),V(!0)):z(),R(e,f.mc.ADD)),C(e)}),[z,G,n,R,I]),Q=(0,a.useCallback)((function(e){e.preventDefault(),K(t),C(e),R(e,f.mc.REMOVE)}),[t,K,R]);(0,a.useEffect)((function(){!0===B&&!0===n&&(z(),V(!1))}),[n,B,z]);var J=W===f.Om.YES;return G===f.PQ.NO_CAPABILITY||G===f.PQ.NO_PERMISSION_HIDE?null:(P||J)&&(G!==f.PQ.NO_PERMISSION||L)?G===f.PQ.NO_PERMISSION?(0,_.jsx)("div",{className:S,children:(0,_.jsx)(m.Nt,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,_.jsx)(m.yv,{children:(0,_.jsx)("span",{children:u.ag.get("download.upsell")})}),renderInline:!1,children:(0,_.jsx)("div",{children:(0,_.jsx)(p.w,{label:u.ag.get("download.download"),children:(0,_.jsx)("button",{className:s()(x,T),role:"switch",onClick:q,"aria-label":u.ag.get("download.download"),"aria-checked":!1,children:(0,_.jsx)(l.D,{iconSize:A})})})})})}):J?(0,_.jsx)(p.w,{label:u.ag.get("download.remove"),children:(0,_.jsx)("button",{className:s()(x,T,O),role:"switch",onClick:Q,"aria-label":u.ag.get("download.remove"),"aria-checked":!0,children:(0,_.jsx)(c.E,{iconSize:A})})}):W===f.Om.NO?(0,_.jsx)(p.w,{label:u.ag.get("download.download"),children:(0,_.jsx)("button",{className:s()(x,T),role:"switch",onClick:q,"aria-label":u.ag.get("download.download"),"aria-checked":!1,children:(0,_.jsx)(l.D,{iconSize:A})})}):(0,_.jsxs)("div",{className:s()(w,T),role:"switch","aria-checked":!0,children:[(0,_.jsx)(p.w,{label:u.ag.get("download.cancel"),children:(0,_.jsx)("button",{style:M,className:s()(x,b,T),onClick:Q,"aria-label":u.ag.get("download.cancel")})}),(0,_.jsx)("span",{style:M,className:s()(N,b),children:(0,_.jsx)(y.e,{"aria-valuetext":u.ag.get("progress.downloading-tracks"),percentage:Y.percentage,size:A})})]}):null}},5881:(e,t,n)=>{"use strict";n.d(t,{s:()=>d});var i=n(84875),r=n.n(i),a=n(70058),o=n(17249),s=n(71062);const l="fXu_epm4wnGo0vCaArXW";var c=n(4637),u=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e}(u||{}),d=function(e){var t=e.isDisliked,n=void 0!==t&&t,i=e.onClick,d=void 0===i?function(){}:i,p=e.size,m=void 0===p?u.md:p,f=e.className;return(0,c.jsx)(s.w,{label:o.ag.get("playback-control.ban"),children:n?(0,c.jsx)("button",{type:"button",role:"switch","aria-label":o.ag.get("playback-control.ban"),"aria-checked":n,className:r()(l,f),onClick:d,children:(0,c.jsx)(a.H,{iconSize:m})}):(0,c.jsx)("button",{type:"button","aria-label":o.ag.get("playback-control.ban"),className:r()(l,f),onClick:d,children:(0,c.jsx)(a.H,{iconSize:m})})})}},56075:(e,t,n)=>{"use strict";n.d(t,{q:()=>d,z:()=>p});var i=n(59496),r=n(84875),a=n.n(r),o=n(86718),s=n(17249),l=n(71062);const c="main-moreButton-button";var u=n(4637),d=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e}({}),p=i.forwardRef((function(e,t){var n=e.onClick,i=void 0===n?function(){}:n,r=e.size,p=void 0===r?d.md:r,m=e.label,f=void 0===m?s.ag.get("more"):m,v=e.className;return(0,u.jsx)(l.w,{label:f,children:(0,u.jsx)("button",{ref:t,type:"button","aria-haspopup":"menu","aria-label":f,className:a()(c,v),onClick:i,"":"more-button",children:(0,u.jsx)(o.N,{iconSize:p})})})}))},824:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var i=n(39130),r=n(59496),a=n(71767),o=n(19873),s=n(90775),l=n(4637),c=r.memo((function(e){var t=e.uri,n=e.className,c=e.onClick,u=e.size,d=void 0===u?a.q.xs:u,p=(0,o.Z)(t),m=(0,i.Z)(p,2),f=m[0],v=m[1],g=(0,s.o)(),h=(0,r.useCallback)((function(e){e.preventDefault(),g({targetUri:t,intent:f?"remove-from-library":"add-to-library",type:"click"}),c&&c(!f),v(!f)}),[g,t,f,c,v]);return(0,l.jsx)(a.H,{className:n,size:d,onClick:h,isAdded:!!f,isEpisode:!0})}))},18822:(e,t,n)=>{"use strict";n.d(t,{B:()=>c});var i=n(39130),r=n(59496),a=n(71767),o=n(90775),s=n(19873),l=n(4637),c=r.memo((function(e){var t=e.uri,n=e.className,c=e.onClick,u=e.size,d=void 0===u?a.q.xs:u,p=(0,s.Z)(t),m=(0,i.Z)(p,2),f=m[0],v=m[1],g=(0,o.o)(),h=(0,r.useCallback)((function(e){e.preventDefault(),g({targetUri:t,intent:f?"remove-from-library":"add-to-library",type:"click"}),c&&c(!f),v(!f)}),[f,g,t,c,v]);return(0,l.jsx)(a.H,{className:n,size:d,onClick:h,isAdded:f})}))},36299:(e,t,n)=>{"use strict";n.d(t,{r:()=>O});var i=n(45389),r=(n(30246),n(162),n(90511),n(79611),n(40265),n(22369),n(46743),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),a=n(10506),o=n(248),s=n(17249),l=n(2257),c=n(1059),u=n(54691),d=n(23498),p=n(72030),m=n(91978),f=n(3005),v=n(59927),g=n(76561),h=n(60221),k=n(88843),y=n(4637);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.artist,n=e.index,i=e.logger,o=e.spec,s=(0,r.useCallback)((function(){i.logInteraction(o.cardLinkFactory({position:n}).hitUiNavigate({destination:t.uri}))}),[i,o,n,t.uri]);return(0,c.i)(t)&&t.uri?(0,y.jsx)(u._,{menu:(0,y.jsx)(h.m,{uri:t.uri}),children:(0,y.jsx)(k.default,{to:t.uri,dir:"auto",onClick:s,children:t.name})},t.uri):(0,y.jsx)(a.D,{variant:"mesto",children:t.name})},O=function(e){var t,n,i=e.name,a=e.uri,c=e.images,h=e.artists,k=void 0===h?[]:h,b=e.sharingInfo,O=e.year,w=e.isHero,N=void 0!==w&&w,_=e.onClick,E=e.testId,C=e.index,P=e.requestId,I=e.color,j=(0,r.useContext)(l.H).onLibraryItemRemove,A=(0,v.Y)(a),T=function(){return k.map((function(e){return e.name})).join(s.ag.getSeparator())};return n=N?(0,y.jsx)(m.Z,{index:C,onClick:_,headerText:i,featureIdentifier:"album",uri:a,playUri:A,ariaPauseLabel:s.ag.get("tracklist.a11y.pause",i,T()),ariaPlayLabel:s.ag.get("tracklist.a11y.play",i,T()),renderCardImage:function(){return(0,y.jsx)(p.x,{isHero:!0,images:c,color:I,FallbackComponent:function(e){return(0,y.jsx)(o.c,S({iconSize:64},e))}})},renderSubHeaderContent:function(e,t){return(0,y.jsxs)(y.Fragment,{children:[k.map((function(n,i){return[i>0&&s.ag.getSeparator(),(0,y.jsx)(x,{artist:n,index:i,logger:e,spec:t},n.uri)]})),(0,y.jsx)(f.k,{children:s.ag.get("card.tag.album")})]})},testId:E,requestId:P}):(0,y.jsx)(d.C,{onClick:_,headerText:i,featureIdentifier:"album",uri:a,playUri:A,ariaPauseLabel:s.ag.get("tracklist.a11y.pause",i,T()),index:C,ariaPlayLabel:s.ag.get("tracklist.a11y.play",i,T()),renderCardImage:function(){return(0,y.jsx)(p.x,{isHero:N,images:c,color:I,FallbackComponent:function(e){return(0,y.jsx)(o.c,S({iconSize:64},e))}})},renderSubHeaderContent:function(e,t){return(0,y.jsxs)(y.Fragment,{children:[!!O&&(0,y.jsxs)("time",{dateTime:O.toString(),children:[O," • "]}),k.map((function(n,i){return[i>0&&s.ag.getSeparator(),(0,y.jsx)(x,{artist:n,index:i,logger:e,spec:t},n.uri)]}))]})},testId:E,requestId:P}),(0,y.jsx)(u._,{menu:(0,y.jsx)(g.Y,{uri:a,artistUri:null==k||null===(t=k[0])||void 0===t?void 0:t.uri,sharingInfo:b,onRemoveCallback:j}),children:n})}},52300:(e,t,n)=>{"use strict";n.d(t,{i:()=>p});n(30246),n(79611),n(40265),n(22369),n(46743);var i=n(59496),r=n(17249),a=n(54691),o=n(62823),s=n(23498),l=n(72030),c=n(76561),u=n(72805),d=n(4637),p=i.memo((function(e){var t=e.images,n=e.name,i=e.uri,p=e.type,m=e.year,f=e.sharingInfo,v=e.latest,g=e.showType,h=e.onClick,k=e.delegatePlayback,y=void 0!==k&&k,b=e.isPlaying,S=e.onPlay,x=e.index,O=e.navigationUrl,w=v?r.ag.get("artist.latest-release"):m;return(0,d.jsx)(a._,{menu:(0,d.jsx)(c.Y,{uri:i,sharingInfo:f}),children:(0,d.jsx)(s.C,{onClick:h,featureIdentifier:"album",headerText:n,uri:i,index:x,delegatePlayback:y,isPlaying:b,onPlay:S,navigationUrl:O,renderCardImage:function(){return(0,d.jsx)(l.x,{images:t})},renderSubHeaderContent:function(){return(0,d.jsxs)(d.Fragment,{children:[!!w&&(0,d.jsx)("time",{dateTime:(m||"").toString(),children:w}),g&&(0,d.jsx)("span",{className:u.Z.type,children:(0,o.R)(p)})]})}})})}))},60334:(e,t,n)=>{"use strict";n.d(t,{I:()=>h});var i=n(45389),r=(n(30246),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),a=n(52008),o=n(17249),s=n(2257),l=n(54691),c=n(23498),u=n(72030),d=n(91978),p=n(3005),m=n(60221),f=n(4637);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t,n=e.name,i=e.uri,v=e.images,h=e.isHero,k=e.onClick,y=e.testId,b=e.index,S=e.requestId,x=e.color,O=(0,r.useContext)(s.H).onLibraryItemRemove;return t=h?(0,f.jsx)(d.Z,{index:b,onClick:k,headerText:n,featureIdentifier:"artist",uri:i,renderCardImage:function(){return(0,f.jsx)(u.x,{isHero:h,isCircular:!0,images:v,color:x,FallbackComponent:function(e){return(0,f.jsx)(a.a,g({iconSize:64},e))}})},renderSubHeaderContent:function(){return(0,f.jsx)(p.k,{children:o.ag.get("card.tag.artist")})},testId:y,requestId:S}):(0,f.jsx)(c.C,{index:b,onClick:k,headerText:n,featureIdentifier:"artist",uri:i,renderCardImage:function(){return(0,f.jsx)(u.x,{isHero:h,isCircular:!0,images:v,color:x,FallbackComponent:function(e){return(0,f.jsx)(a.a,g({iconSize:64},e))}})},renderSubHeaderContent:function(){return(0,f.jsx)("span",{children:o.ag.get("card.tag.artist")})},testId:y,requestId:S}),(0,f.jsx)(l._,{menu:(0,f.jsx)(m.m,{uri:i,onRemoveCallback:O}),children:t})}},5979:(e,t,n)=>{"use strict";n.d(t,{c:()=>b});var i=n(45389),r=(n(30246),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(38590)),a=n(10506),o=n(22672),s=n(17249),l=n(54691),c=n(23498),u=n(72030),d=n(91978),p=n(3005),m=n(20126),f=n(77812);const v="Xk3_ws6o9K6gsByypayv",g="vycTlaEAs2kg_vqzEJ0A";var h=n(4637);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t,n=e.name,i=e.uri,k=e.images,b=e.authorName,S=e.isHero,x=e.onClick,O=e.testId,w=e.index,N=e.requestId,_=e.isLocked,E=void 0!==_&&_,C=e.color,P=e.gatedContentAccessReason,I=(0,m.c)(P);return t=S?(0,h.jsx)(d.Z,{index:w,onClick:x,headerText:n,featureIdentifier:"audiobook",uri:i,isPlayable:!1,renderCardImage:function(){return(0,h.jsx)(u.x,{isHero:!0,images:k,color:C,FallbackComponent:function(e){return(0,h.jsx)(r.P,y({iconSize:64},e))}})},renderSubHeaderContent:function(){return(0,h.jsxs)(h.Fragment,{children:[I&&(0,h.jsx)(a.D,{variant:"mesto",semanticColor:"textBrightAccent",className:g,children:s.ag.get("content.available.premium")}),(0,h.jsx)(a.D,{variant:"mesto",children:b}),(0,h.jsx)(p.k,{children:"AUDIOBOOK"})]})},testId:O,requestId:N}):(0,h.jsx)(c.C,{index:w,onClick:x,headerText:n,featureIdentifier:"audiobook",uri:i,isPlayable:!1,renderCardImage:function(){return(0,h.jsx)(u.x,{images:k,color:C,FallbackComponent:function(e){return(0,h.jsx)(r.P,y({iconSize:64},e))}})},renderSubHeaderContent:function(){return(0,h.jsxs)(h.Fragment,{children:[E&&(0,h.jsx)(o.W,{iconSize:16,className:v}),I&&(0,h.jsx)(a.D,{variant:"mesto",semanticColor:"textBrightAccent",className:g,children:s.ag.get("content.available.premium")}),(0,h.jsx)(a.D,{as:"span",variant:"mesto",children:b})]})},testId:O,requestId:N}),(0,h.jsx)(l._,{menu:(0,h.jsx)(f.X,{uri:i}),children:t})}},23498:(e,t,n)=>{"use strict";n.d(t,{C:()=>N,Z:()=>w});var i=n(45389),r=(n(59538),n(79611),n(59496)),a=n(84875),o=n.n(a),s=n(41177),l=n(29842),c=n(59272),u=n(17249),d=n(76490),p=n(1003),m=n(20188),f=n(93381),v=n(31504),g=n(74799),h=n(96692),k=n(98335),y=n(90775),b=n(17646),S=n(23794),x=n(72805),O=n(4637),w=function(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.delegatePlayback,w=void 0!==a&&a,N=e.delegateLogging,_=void 0!==N&&N,E=e.delegateNavigation,C=void 0!==E&&E,P=e.playInsteadOfNavigating,I=void 0!==P&&P,j=e.isPlaying,A=e.onPlay,T=void 0===A?function(){}:A,D=e.onContextMenu,R=void 0===D?function(){}:D,F=e.onTouchStart,L=void 0===F?function(){}:F,M=e.onTouchEnd,U=void 0===M?function(){}:M,Z=e.featureIdentifier,B=e.uri,V=e.renderCardImage,H=e.renderSubHeaderContent,G=void 0===H?function(){return null}:H,W=e.isPlayable,z=void 0===W||W,K=e.isDownloadable,Y=void 0!==K&&K,q=e.headerText,Q=e.hasNewEpisodeIndicator,J=e.className,X=e.playUri,$=void 0===X?B:X,ee=e.albumURI,te=e.testId,ne=e.ariaPlayLabel,ie=e.ariaPauseLabel,re=e.index,ae=e.navigationUrl,oe=e.requestId,se=(0,s.s0)(),le=(0,y.o)(),ce=ee?"?highlight=".concat(B):"",ue=(0,h.O)([B],q),de=(0,m.fU)(l.createDesktopPlayandnavcardEventFactory,{data:{uri:B,position:re,reason:null!=oe?oe:""}}),pe=de.spec,me=de.logger,fe=de.UBIFragment,ve=ee||B,ge=(0,c.EC)(ve,{parseUnknown:!0}),he=u.ag.getUrlLocale(),ke=(0,k.k)({type:"link",uri:ve}),ye=(0,p.n)({uri:$},{featureIdentifier:Z}),be=ye.isPlaying,Se=ye.togglePlay,xe=ye.isActive,Oe=be;w&&"boolean"==typeof j&&(Oe=j);var we=(0,r.useCallback)((function(){var e=pe.cardPlayButtonFactory().hitPause({itemToBePaused:B});Oe||(e=xe?pe.cardPlayButtonFactory().hitResume({itemToBeResumed:B}):pe.cardPlayButtonFactory().hitPlay({itemToBePlayed:B}));var t=me.logInteraction(e);if(T(B,t),_||le({targetUri:B,intent:Oe?"pause":"play",type:"click"}),w){if("function"!=typeof T)throw Error("No delegate playback handler provided")}else Se({loggingParams:t})}),[_,w,xe,Oe,me,le,T,pe,Se,B]),Ne=(0,r.useCallback)((function(){if(n(B),I)we();else if(!C){le({targetUri:B,intent:"navigate",type:"click"});var e,t=pe.hitUiNavigate({destination:null!=ae?ae:B});me.logInteraction(t),ge&&(e=ge.toURLPath(!0)+ce);var i=null!=ae?ae:e;(i=ke?(0,f.is)(i||"",he):i)&&se(i)}}),[n,B,C,le,pe,ae,me,ge,ke,he,ce,se,I,we]),_e=(0,m.Wi)(pe);return(0,O.jsx)(fe,{spec:pe,children:(0,O.jsx)(S.Q,{uri:e.uri,trigger:S.x.OnMouseDown,children:(0,O.jsx)("div",{ref:_e,className:o()(x.Z.card,J),onContextMenu:R,onTouchStart:L,onTouchEnd:U,"":te,children:(0,O.jsxs)("div",{draggable:!0,onDragStart:ue,className:x.Z.draggable,children:[(0,O.jsxs)("div",{className:x.Z.imageContainer,children:[V(),z&&(0,O.jsx)("div",{className:o()(x.Z.PlayButtonContainer,(0,i.Z)({},x.Z.PlayButtonContainerVisible,Oe)),children:(0,O.jsx)(d.f,{isPlaying:Oe,onClick:we,ariaPlayLabel:null!=ne?ne:u.ag.get("playlist.a11y.play",q),ariaPauseLabel:null!=ie?ie:u.ag.get("playlist.a11y.pause",q)})})]}),(0,O.jsxs)("div",{className:x.Z.cardMetadata,children:[(0,O.jsx)(v.O,{to:ee||B,search:ce,onClick:Ne,hasNewEpisodeIndicator:Q,title:q,navigationUrl:ae,disableLink:C,children:q}),(0,O.jsx)(g.i,{children:G(me,pe)})]}),Y&&(0,O.jsx)(b.$,{uri:B,className:x.Z.DownloadStatusIndicator,size:16}),(0,O.jsx)("div",{onClick:Ne,className:x.Z.cardLink,"":"card-click-handler"})]})})})})};const N=w},31504:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});n(16366),n(70785),n(51735);var i=n(59496),r=n(38185),a=n(10506),o=n(56203),s=n(88843);const l="main-cardHeader-link",c="main-cardHeader-text",u="main-cardHeader-hasNewEpisodeIndicator";var d=n(4637),p=i.memo((function(e){var t=e.search,n=e.children,i=e.to,p=e.onClick,m=e.isHero,f=e.title,v=e.hasNewEpisodeIndicator,g=void 0!==v&&v,h=e.navigationUrl,k=e.disableLink,y=void 0!==k&&k,b=m?"alto":"balladBold",S=(0,d.jsxs)(a.D,{as:"div",variant:b,className:c,paddingBottom:r.hM$,semanticColor:"textBase",children:[g&&(0,d.jsx)(o.Rd,{className:u}),n]});return y?S:(0,d.jsx)(s.Link,{to:i,onClick:p,title:f,className:l,dir:"auto",search:t,pathname:h,children:S})}))},72030:(e,t,n)=>{"use strict";n.d(t,{x:()=>m});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(84875),a=n.n(r),o=n(43711),s=n(75897),l=n(12033),c=n(71207),u=n(4637);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var p=function(e){return(0,u.jsx)(o.U,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({iconSize:64},e))},m=function(e){var t,n=e.children,r=e.isHero,o=void 0!==r&&r,d=e.isCircular,m=void 0!==d&&d,f=e.withWaves,v=void 0!==f&&f,g=e.FallbackComponent,h=void 0===g?p:g,k=e.images,y=void 0===k?[]:k,b=e.color,S=e.loadingMode,x=void 0===S?"lazy":S,O=(0,l.X)(y,{desiredSize:300,desiredLabel:"standard"}),w={backgroundImage:v&&(null==O?void 0:O.url)?"url(".concat(null==O?void 0:O.url,")"):void 0,"--card-color":b};return(0,u.jsx)("div",{className:a()(c.Z.imageWrapper,(t={},(0,i.Z)(t,c.Z.hero,o),(0,i.Z)(t,c.Z.circular,m),(0,i.Z)(t,c.Z.withWavesWrapper,v),t)),style:w,children:(0,u.jsxs)("div",{className:a()((0,i.Z)({},c.Z.withWaves,v)),children:[(0,u.jsx)(s.E,{className:a()(c.Z.image,(0,i.Z)({},c.Z.circular,m)),src:null==O?void 0:O.url,loading:x,testid:"card-image",fadeIn:!0,children:h&&(0,u.jsx)("div",{className:c.Z.imagePlaceholder,children:(0,u.jsx)(h,{"aria-hidden":!0,"":"card-image-fallback"})})}),n]})})}},74799:(e,t,n)=>{"use strict";n.d(t,{i:()=>d});var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(10506);const l="main-cardSubHeader-root",c="main-cardSubHeader-isHero";var u=n(4637),d=r.memo((function(e){var t=e.children,n=e.isHero;return(0,u.jsx)(s.D,{as:"div",variant:"mesto",className:o()(l,(0,i.Z)({},c,n)),semanticColor:"textSubdued",children:t})}))},91978:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var i=n(45389),r=(n(59538),n(79611),n(69109),n(59496)),a=n(84875),o=n.n(a),s=n(41177),l=n(29842),c=n(59272),u=n(17249),d=n(76490),p=n(1003),m=n(20188),f=n(93381),v=n(31504),g=n(74799),h=n(96692),k=n(98335),y=n(90775),b=n(17646);const S="main-heroCard-card",x="main-heroCard-cardLink",O="main-heroCard-draggable",w="main-heroCard-cardMetadata",N="main-heroCard-isDownloadable",_="main-heroCard-PlayButtonContainer",E="main-heroCard-isPlaying";var C=n(4637);const P=function(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.onContextMenu,P=void 0===a?function(){}:a,I=e.onTouchStart,j=void 0===I?function(){}:I,A=e.onTouchEnd,T=void 0===A?function(){}:A,D=e.delegatePlayback,R=void 0!==D&&D,F=e.delegateLogging,L=void 0!==F&&F,M=e.delegateNavigation,U=void 0!==M&&M,Z=e.playInsteadOfNavigating,B=void 0!==Z&&Z,V=e.isPlaying,H=e.onPlay,G=void 0===H?function(){}:H,W=e.featureIdentifier,z=e.uri,K=e.renderCardImage,Y=e.renderSubHeaderContent,q=void 0===Y?function(){return null}:Y,Q=e.isPlayable,J=void 0===Q||Q,X=e.isDownloadable,$=void 0!==X&&X,ee=e.headerText,te=e.hasNewEpisodeIndicator,ne=void 0!==te&&te,ie=e.className,re=e.playUri,ae=void 0===re?z:re,oe=e.albumURI,se=e.testId,le=e.ariaPlayLabel,ce=e.ariaPauseLabel,ue=e.index,de=e.requestId,pe=(0,s.s0)(),me=(0,y.o)(),fe=oe?"?highlight=".concat(z):"",ve=u.ag.getUrlLocale(),ge=oe||z,he=(0,k.k)({type:"link",uri:ge}),ke=(0,h.O)([z],ee),ye=(0,m.fU)(l.createDesktopPlayandnavcardEventFactory,{data:{uri:z,position:ue,reason:null!=de?de:""}}),be=ye.spec,Se=ye.logger,xe=ye.UBIFragment,Oe=(0,p.n)({uri:ae},{featureIdentifier:W}),we=Oe.isPlaying,Ne=Oe.isActive,_e=Oe.togglePlay,Ee=we;R&&"boolean"==typeof V&&(Ee=V);var Ce=(0,r.useCallback)((function(){var e=be.cardPlayButtonFactory().hitPause({itemToBePaused:z});Ee||(e=Ne?be.cardPlayButtonFactory().hitResume({itemToBeResumed:z}):be.cardPlayButtonFactory().hitPlay({itemToBePlayed:z}));var t=Se.logInteraction(e);if(G(z,t),L||me({targetUri:z,intent:Ee?"pause":"play",type:"click"}),R){if("function"!=typeof G)throw Error("No delegate playback handler provided")}else _e({loggingParams:t})}),[L,R,Ne,Ee,Se,me,G,be,_e,z]),Pe=(0,r.useCallback)((function(){if(n(z),B)Ce();else if(!U){me({targetUri:z,intent:"navigate",type:"click"});var e=be.hitUiNavigate({destination:z});Se.logInteraction(e);var t=(0,c.EC)(ge).toURLPath(!0),i=he?(0,f.is)("".concat(t).concat(fe),ve):"".concat(t).concat(fe);pe(i)}}),[n,z,B,U,me,be,Se,ge,he,fe,ve,pe,Ce]),Ie=(0,m.Wi)(be);return(0,C.jsx)(xe,{spec:be,children:(0,C.jsx)("div",{ref:Ie,className:o()(S,ie),onContextMenu:P,onTouchStart:j,onTouchEnd:T,"":se,children:(0,C.jsxs)("div",{draggable:!0,onDragStart:ke,className:O,children:[K(),(0,C.jsxs)("div",{className:w,children:[(0,C.jsx)(v.O,{to:oe||z,search:fe,onClick:Pe,isHero:!0,title:ee,hasNewEpisodeIndicator:ne,children:ee}),(0,C.jsx)(g.i,{children:q(Se,be)})]}),$&&(0,C.jsx)(b.$,{uri:z,className:N,size:16}),J&&(0,C.jsx)("div",{className:o()(_,(0,i.Z)({},E,Ee)),children:(0,C.jsx)(d.f,{isPlaying:Ee,onClick:Ce,ariaPlayLabel:le,ariaPauseLabel:ce})}),(0,C.jsx)("div",{onClick:Pe,className:x,"":"herocard-click-handler"})]})})})}},3005:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var i=n(10506);const r="main-cardSubHeader-text";var a=n(4637),o=function(e){var t=e.children;return t?(0,a.jsx)(i.D,{semanticColor:"textBase",variant:"mestoBold",className:r,children:t}):null}},15632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(45389),r=(n(30246),n(61235),n(69724),n(95675),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(43711)),a=n(17249),o=n(88843),s=n(87360),l=n(54691),c=n(55961),u=n(23498),d=n(72030),p=n(91978),m=n(3005),f=n(55411),v=n(4637);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e,t){return function(n,i){i&&e.logInteraction(t.cardLinkFactory({position:0}).hitUiNavigate({destination:i}))}},y=function(e){var t,n=e.name,i=e.uri,g=e.images,y=e.description,b=e.authorName,S=e.isHero,x=void 0!==S&&S,O=e.onClick,w=void 0===O?function(){}:O,N=e.testId,_=e.index,E=e.requestId,C=e.color,P=e.isPlayable,I=(0,v.jsx)(f.X,{uri:i}),j=P,A=!1;return(0,s.MW)(i)&&(j=!0,I=(0,v.jsx)(s.XL,{}),A=!0),t=x?(0,v.jsx)(p.Z,{index:_,onClick:w,headerText:n,featureIdentifier:"playlist",uri:i,isDownloadable:!0,playInsteadOfNavigating:A,renderCardImage:function(){return(0,v.jsx)(d.x,{isHero:!0,images:g,color:C,FallbackComponent:function(e){return(0,v.jsx)(r.U,h({iconSize:64},e))}})},renderSubHeaderContent:function(e,t){return(0,v.jsxs)(v.Fragment,{children:[y?(0,v.jsx)(c.N,{source:y,LinkComponent:o.Link,onLinkClick:k(e,t)}):b&&(0,v.jsx)("span",{children:a.ag.get("search.playlist-by",b)}),(0,v.jsx)(m.k,{children:a.ag.get("card.tag.playlist")})]})},testId:N,requestId:E,isPlayable:j}):(0,v.jsx)(u.C,{index:_,onClick:w,headerText:n,featureIdentifier:"playlist",uri:i,isDownloadable:!0,playInsteadOfNavigating:A,renderCardImage:function(){return(0,v.jsx)(d.x,{images:g,color:C,FallbackComponent:function(e){return(0,v.jsx)(r.U,h({iconSize:64},e))}})},renderSubHeaderContent:function(e,t){return(0,v.jsx)(v.Fragment,{children:y?(0,v.jsx)(c.N,{source:y,LinkComponent:o.Link,onLinkClick:k(e,t)}):b&&(0,v.jsx)("span",{children:a.ag.get("search.playlist-by",b)})})},testId:N,requestId:E,isPlayable:j}),(0,v.jsx)(l._,{menu:I,children:t})}},54468:(e,t,n)=>{"use strict";n.d(t,{I:()=>v});var i=n(45389),r=(n(30246),n(16366),n(31781),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(43711)),a=n(8643),o=n(21918),s=n(54691),l=n(1003),c=n(24122),u=n(23498),d=n(72030),p=n(42257),m=n(4637);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var v=function(e){var t=e.name,n=e.uri,v=e.images,g=e.onClick,h=void 0===g?function(){}:g,k=e.index,y=e.testId,b=n.replace("spotify:station:","spotify:"),S=(0,l.n)({uri:n,restrictions:o.B},{featureIdentifier:"radio"}),x=S.isPlaying,O=S.togglePlay,w={shuffle:!1,repeat:c.zq.REPEAT_NONE};return(0,m.jsx)(s._,{menu:(0,m.jsx)(p.i,{uri:n}),children:(0,m.jsx)(u.C,{index:k,onClick:h,featureIdentifier:"radio",delegatePlayback:!0,isPlaying:x,onPlay:function(){return O(w)},headerText:t,uri:n,testId:y,renderCardImage:function(){return(0,m.jsx)(d.x,{images:v,withWaves:!0,FallbackComponent:function(e){return(0,m.jsx)(r.U,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({iconSize:64},e))}})},renderSubHeaderContent:function(){return(0,m.jsx)("span",{children:(0,a.getRadioLabel)(b)})}})})}},29332:(e,t,n)=>{"use strict";n.d(t,{_:()=>f});n(30246);var i=n(59496),r=n(17249),a=n(2257),o=n(54691),s=n(79262),l=n(23498),c=n(72030),u=n(91978),d=n(3005),p=n(32563),m=n(4637),f=function(e){var t,n=e.images,f=e.name,v=e.uri,g=e.publisher,h=e.sharingInfo,k=e.mediaType,y=e.isHero,b=void 0!==y&&y,S=e.onClick,x=e.testId,O=e.index,w=e.requestId,N=e.color,_=k===s.E.MIXED?r.ag.get("type.show"):r.ag.get("card.tag.show"),E=(0,i.useContext)(a.H).onLibraryItemRemove;return t=b?(0,m.jsx)(u.Z,{index:O,onClick:S,delegatePlayback:!0,headerText:f,featureIdentifier:"show",uri:v,isPlayable:!1,renderCardImage:function(){return(0,m.jsx)(c.x,{isHero:!0,images:n,color:N})},renderSubHeaderContent:function(){return(0,m.jsxs)(m.Fragment,{children:[g&&(0,m.jsx)("span",{children:g}),(0,m.jsx)(d.k,{children:_})]})},testId:x,requestId:w}):(0,m.jsx)(l.C,{onClick:S,isPlayable:!1,delegatePlayback:!0,headerText:f,featureIdentifier:"show",uri:v,index:O,renderCardImage:function(){return(0,m.jsx)(c.x,{isHero:b,images:n,color:N})},renderSubHeaderContent:function(){return(0,m.jsx)(m.Fragment,{children:g&&(0,m.jsx)("span",{children:g})})},testId:x,requestId:w}),(0,m.jsx)(o._,{menu:(0,m.jsx)(p.M,{uri:v,sharingInfo:h,onRemoveCallback:E}),children:t})}},35051:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(96454),l=n(62200),c=n(72805),u=n(71207);const d="V8p0Uoki3EIdMPOxzLow",p="YVcNB7bcFd5axagLHfAF",m="fabXdRhkEdHzu8OgR5Vn",f="fvOob2VViovPwenD9MRA";var v=n(4637),g=(0,r.memo)((function(e){var t=e.isLoading,n=(0,s.h)("shimmer");return(0,v.jsx)("div",{ref:n,className:o()(u.Z.imageWrapper,(0,i.Z)({},f,t))})})),h=(0,r.memo)((function(e){var t=e.cardImage,n=e.isLoading;return(0,v.jsxs)("div",{className:o()(c.Z.card,d),"aria-hidden":!0,"":"skeleton-card",children:[(0,v.jsx)("div",{className:c.Z.imageContainer,children:t||(0,v.jsx)(g,{isLoading:n})}),(0,v.jsxs)("div",{className:c.Z.cardMetadata,children:[(0,v.jsx)(l.C,{as:"div",variant:"balladBold",className:p,charCount:15,isLoading:n}),(0,v.jsx)(l.C,{as:"div",variant:"mesto",className:m,charCount:10,isLoading:n})]})]})}))},35882:(e,t,n)=>{"use strict";n.d(t,{G:()=>h});n(30246),n(162);var i=n(17249),r=n(11178),a=n(54691),o=n(6336),s=n(90902),l=n(23498),c=n(72030),u=n(91978),d=n(3005),p=n(60221),m=n(98235),f=n(88843);const v="Cv51KKt1hDVs4oYd4jZ1";var g=n(4637),h=function(e){var t,n=e.name,h=e.uri,k=e.images,y=e.album,b=e.artists,S=e.isExplicit,x=e.is19PlusOnly,O=e.isHero,w=void 0!==O&&O,N=e.onClick,_=e.testId,E=e.index,C=e.requestId,P=e.isLyricsMatch,I=e.color;return t=w?(0,g.jsx)(u.Z,{index:E,onClick:N,headerText:n,featureIdentifier:"track",uri:h,albumURI:null==y?void 0:y.uri,renderCardImage:function(){return(0,g.jsx)(c.x,{isHero:!0,images:k,color:I})},renderSubHeaderContent:function(){return(0,g.jsxs)(g.Fragment,{children:[S&&!x&&(0,g.jsx)(o.N,{className:v}),x&&(0,g.jsx)(s.X,{size:16,className:v}),b.map((function(e,t){return[t>0&&i.ag.getSeparator(),(0,g.jsx)(a._,{menu:(0,g.jsx)(p.m,{uri:e.uri}),children:(0,g.jsx)(f.default,{to:e.uri,dir:"auto",children:e.name})},e.uri)]})),P&&(0,g.jsx)(r.q,{}),(0,g.jsx)(d.k,{children:i.ag.get("card.tag.track")})]})},testId:_,requestId:C}):(0,g.jsx)(l.C,{index:E,onClick:N,headerText:n,featureIdentifier:"track",uri:h,albumURI:null==y?void 0:y.uri,renderCardImage:function(){return(0,g.jsx)(c.x,{images:k,color:I})},renderSubHeaderContent:function(){return(0,g.jsxs)(g.Fragment,{children:[S&&!x&&(0,g.jsx)(o.N,{className:v}),x&&(0,g.jsx)(s.X,{size:16,className:v}),b.map((function(e,t){return[t>0&&i.ag.getSeparator(),(0,g.jsx)(a._,{menu:(0,g.jsx)(p.m,{uri:e.uri}),children:(0,g.jsx)(f.default,{to:e.uri,dir:"auto",children:e.name})},e.uri)]})),P&&(0,g.jsx)(r.q,{})]})},testId:_,requestId:C}),(0,g.jsx)(a._,{menu:(0,g.jsx)(m.$,{uri:h,artists:b,albumUri:null==y?void 0:y.uri}),children:t})}},51537:(e,t,n)=>{"use strict";n.d(t,{l:()=>_});var i=n(45389),r=n(39130),a=(n(22369),n(8760),n(59496)),o=n(84875),s=n.n(o),l=n(42336),c=n(75938),u=n(3643),d=n(8608),p=n(23066);n(94562);function m(){var e=(0,a.useRef)(0);return(0,a.useCallback)((function(t){var n=t.currentTarget,i=n.style.scrollBehavior,r=!1,a=n.scrollLeft,o=t.clientX,s=0;function l(){cancelAnimationFrame(e.current),document.removeEventListener("wheel",c)}function c(){l(),n.style.scrollBehavior=i}function u(){n.scrollLeft+=s,s*=.95,Math.abs(s)>.5?e.current=requestAnimationFrame(u):c()}n.style.userSelect="none",n.style.scrollBehavior="auto",l();var d=function(e){var t=e.clientX-o;Math.abs(t)>10&&(r=!0);var i=n.scrollLeft;n.scrollLeft=a-t,s=n.scrollLeft-i};document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function(){var t=function(e){e.preventDefault(),e.stopImmediatePropagation()};!0===r&&(n.addEventListener("click",t,{once:!0,capture:!0}),setTimeout((function(){n.removeEventListener("click",t,{capture:!0})}))),n.style.removeProperty("user-select"),document.removeEventListener("mousemove",d),l(),e.current=requestAnimationFrame(u),document.addEventListener("wheel",c,{once:!0})}),{once:!0})}),[])}const f="search-searchCategory-contentArea",v="search-searchCategory-catergoryGrid",g="MUloQuW1xQawwVs0mDp4",h="OlnSvEViCZ_vVdnc3mSQ",k="FjMPyh7lOujDVYQRvp0H",y="search-searchCategory-carousel",b="search-searchCategory-carouselButton",S="search-searchCategory-carouselButtonVisible";var x=n(4637),O=function(e){return e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT",e}(O||{});function w(e,t){(0,d.Bu)(e,t),t.scrollIntoView({block:"end",inline:"center"})}function N(e,t){var n=e.querySelector('[tabindex="0"]')||e.firstElementChild;if(n&&n instanceof HTMLElement)if(t===O.RIGHT){var i;if(document.activeElement===e||!n.nextElementSibling)return void w(n,null!==(i=e.querySelector("a[href], button"))&&void 0!==i?i:e);n.nextElementSibling instanceof HTMLElement&&w(n,n.nextElementSibling)}else if(t===O.LEFT){if(document.activeElement===e||!n.previousElementSibling){var r,a=e.querySelectorAll("a[href], button");if(!a||!a.length)return;return void w(n,null!==(r=a[a.length-1])&&void 0!==r?r:e)}if(n.previousElementSibling instanceof HTMLElement)return void w(n,n.previousElementSibling)}}var _=function(e){var t,n=e.children,o=e.className,d=e.showButtons,w=void 0===d||d,_=e.ariaLabel,E=(0,a.useRef)(null),C=(0,a.useRef)(null),P=(0,a.useState)(!1),I=(0,r.Z)(P,2),j=I[0],A=I[1],T=(0,a.useState)(!1),D=(0,r.Z)(T,2),R=D[0],F=D[1],L=(0,a.useCallback)((function(){if(E.current&&C.current){var e=E.current,t=C.current,n=e.scrollWidth-e.clientWidth,i=Math.abs(e.scrollLeft),r=i<1?Math.floor(i):Math.ceil(i),a=t.offsetWidth>e.clientWidth;F(a&&0!==r),A(a&&r<n)}}),[]);(0,p.y)({refOrElement:C,observeOnly:"width",onResize:L}),(0,p.y)({refOrElement:E,observeOnly:"width",onResize:L});var M=a.Children.toArray(n).length;(0,a.useEffect)(L,[M,L]);var U,Z,B,V=(0,a.useCallback)((function(e){var t=e*(E.current.clientWidth/2);E.current.scrollBy({left:t}),L()}),[L]),H=(0,u.S)(),G=(0,a.useCallback)((function(e){"ArrowLeft"===e.key?(e.preventDefault(),N(E.current,H?O.RIGHT:O.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),N(E.current,H?O.LEFT:O.RIGHT))}),[H]),W=H?j:R,z=H?R:j,K=w&&(W||z),Y=m(),q=(U=(0,a.useRef)(!0),Z=(0,a.useRef)(null),B=(0,a.useRef)(null),(0,a.useCallback)((function(e){if(e.deltaY){var t=e.currentTarget;U.current&&(U.current=!1,Z.current=t.style.scrollBehavior,t.style.scrollBehavior="auto"),t.scrollLeft+=e.deltaY+e.deltaX,B.current&&clearTimeout(B.current),B.current=setTimeout((function(){var e;U.current=!0,t.style.scrollBehavior=null!==(e=Z.current)&&void 0!==e?e:""}),100)}}),[]));return(0,x.jsxs)("div",{className:s()(f,o),children:[(0,x.jsx)("div",{ref:E,className:s()(v,(t={},(0,i.Z)(t,h,z&&!W),(0,i.Z)(t,g,W&&!z),(0,i.Z)(t,k,W&&z),t)),onScroll:L,onKeyDown:G,onMouseDown:Y,onWheel:q,role:"list","aria-label":_,tabIndex:0,children:(0,x.jsx)("div",{ref:C,role:"presentation",children:n})}),K&&(0,x.jsxs)("div",{className:y,dir:"ltr",children:[(0,x.jsx)("button",{className:s()(b,(0,i.Z)({},S,W)),tabIndex:-1,onClick:function(){return V(O.LEFT)},"aria-hidden":"true",children:(0,x.jsx)(l.e,{autoMirror:!1,semanticColor:"textBase",iconSize:16})}),(0,x.jsx)("button",{className:s()(b,(0,i.Z)({},S,z)),tabIndex:-1,onClick:function(){return V(O.RIGHT)},"aria-hidden":"true",children:(0,x.jsx)(c.V,{autoMirror:!1,semanticColor:"textBase",iconSize:16})})]})]})}},47898:(e,t,n)=>{"use strict";n.d(t,{Q:()=>g});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(84875),o=n.n(a),s=n(10506),l=n(98148),c=n(63892),u=n(63461);const d={container:"main-confirmDialog-container",overlay:"main-confirmDialog-overlay",buttonContainer:"main-confirmDialog-buttonContainer"};var p=n(4637),m=["onClose","onOutside","isOpen","titleText","descriptionText","cancelText","confirmText","confirmLabel","onConfirm","allowHTML","shouldCloseOnEsc","shouldCloseOnOverlayClick"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Spicetify.ReactComponent.ConfirmDialog=g;function g(e){var t=e.onClose,n=void 0===t?function(){}:t,i=e.onOutside,a=e.isOpen,f=void 0===a||a,g=e.titleText,h=e.descriptionText,k=e.cancelText,y=e.confirmText,b=e.confirmLabel,S=e.onConfirm,x=e.allowHTML,O=void 0!==x&&x,w=e.shouldCloseOnEsc,N=void 0===w||w,_=e.shouldCloseOnOverlayClick,E=void 0===_||_,C=(0,r.Z)(e,m);return f?(0,p.jsx)(u.Z,v(v({animated:!0,shouldCloseOnEsc:N,shouldCloseOnOverlayClick:E,overlayClassName:d.overlay,onRequestClose:null!=i?i:n,contentLabel:C["aria-label"],isOpen:!0,shouldFocusAfterRender:!1},C),{},{children:(0,p.jsxs)("div",{className:o()("encore-light-theme",d.container),children:[(0,p.jsx)(s.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:g}),h&&(O?(0,p.jsx)(s.D,{as:"p",variant:"mesto",semanticColor:"textBase",dangerouslySetInnerHTML:{__html:h},"":"confirm-dialog-description"}):(0,p.jsx)(s.D,{as:"p",variant:"mesto",semanticColor:"textBase","":"confirm-dialog-description",children:h})),(0,p.jsxs)("div",{className:d.buttonContainer,children:[k&&(0,p.jsx)(l.o,{onClick:n,semanticColor:"textBase",children:k}),(0,p.jsx)(c.D,{"aria-label":b,autoFocus:!0,onClick:S,children:y})]})]})})):null}},95390:(e,t,n)=>{"use strict";n.d(t,{Zb:()=>y,x3:()=>k,xM:()=>b});var i=n(39130),r=n(59496),a=n(61740),o=n(8150),s=n(17249),l=n(19224),c=n(78142),u=n(19873),d=n(20188),p=n(73691),m=n(90775),f=n(76956),v=n(4637),g=r.memo((function(e){var t=e.uri,n=e.divider,s=e.saveSuccess,c=e.removeSuccess,g=e.onRemoveCallback,h=e.removeLabel,k=e.saveLabel,y=e.useDialog,b=void 0!==y&&y,S=e.initialState,x=void 0!==S&&S,O=(0,a.I0)(),w=(0,m.o)(),N=!(0,f.k)(),_=(0,u.Z)(t,x),E=(0,i.Z)(_,2),C=E[0],P=E[1],I=(0,u.y)(),j=(0,d.fU)(o.M,{data:{uri:t}}),A=j.spec,T=j.logger,D=(0,r.useCallback)((function(){var e=A.followButtonFactory();b&&C?O((0,p.YU)(t)):(w({targetUri:t,intent:C?"remove-from-library":"add-to-library",type:"click"}),P(!C),C?(g(t),T.logInteraction(e.hitUnfollow({itemToBeUnfollowed:t})),c&&O(c(t))):(T.logInteraction(e.hitFollow({itemToBeFollowed:t})),s&&O(s(t))))}),[A,b,C,O,t,w,P,g,T,c,s]);return(0,v.jsx)(l.s,{role:"menuitem",divider:n,disabled:N&&!(null!=I&&I.getCapabilities().canModifyOffline),onClick:D,children:C?h:k})})),h=function(){},k=r.memo((function(e){var t=e.uri,n=e.onRemoveCallback,i=void 0===n?h:n,r=e.divider,a=e.useDialog,o=e.initialState,l=void 0!==o&&o;return(0,v.jsx)(c.ZP,{value:"follow-artist",children:(0,v.jsx)(g,{uri:t,divider:r,onRemoveCallback:i,removeLabel:s.ag.get("unfollow"),saveLabel:s.ag.get("follow"),useDialog:a,initialState:l})})})),y=r.memo((function(e){var t=e.uri,n=e.onRemoveCallback,i=void 0===n?h:n,r=e.divider,a=e.useDialog,o=void 0!==a&&a,l=e.initialState,u=void 0!==l&&l;return(0,v.jsx)(c.ZP,{value:"follow-playlist",children:(0,v.jsx)(g,{uri:t,divider:r,onRemoveCallback:i,removeLabel:s.ag.get("contextmenu.remove-from-library"),saveLabel:s.ag.get("contextmenu.add-to-library"),useDialog:o,initialState:u})})})),b=r.memo((function(e){var t=e.uri,n=e.onRemoveCallback,i=void 0===n?h:n,r=e.divider,a=e.useDialog,o=void 0!==a&&a,l=e.initialState,u=void 0!==l&&l;return(0,v.jsx)(c.ZP,{value:"follow-show",children:(0,v.jsx)(g,{uri:t,divider:r,onRemoveCallback:i,removeLabel:s.ag.get("unfollow"),saveLabel:s.ag.get("follow"),useDialog:o,initialState:u})})}))},54449:(e,t,n)=>{"use strict";n.d(t,{z:()=>g});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(17249),o=n(58077),s=n(27118),l=n(76956),c=n(10785),u=n(19224),d=n(78142),p=n(4637);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.uri,n=e.divider,i=(0,s.l)({uri:t,permissionLevel:"CONTRIBUTOR"}).onCopyLink,r=!(0,l.k)();return(0,p.jsx)(u.s,{role:"menuitem",divider:n,onClick:i,disabled:r,children:a.ag.get("contextmenu.invite-collaborators")})},g=r.memo((function(e){return(0,p.jsx)(o.F,{property:c.bM,renderNewExperience:function(){return(0,p.jsx)(d.ZP,{value:"leave-playlist",children:(0,p.jsx)(v,f({},e))})},renderOldExperience:function(){return null}})}))},40636:(e,t,n)=>{"use strict";n.d(t,{H:()=>h});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(61740),o=n(17249),s=n(58077),l=n(10785),c=n(19224),u=n(78142),d=n(20188),p=n(73691),m=n(4637);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.uri,n=e.divider,i=e.spec,s=(0,a.I0)(),l=(0,d.$P)(),u=(0,r.useCallback)((function(){s((0,p.IF)(t)),l.logInteraction(i.leavePlaylistButtonFactory().hitLeavePlaylist({playlist:t}))}),[s,l,i,t]);return(0,m.jsx)(c.s,{role:"menuitem",divider:n,onClick:u,children:o.ag.get("contextmenu.leave-playlist")})},h=r.memo((function(e){return(0,m.jsx)(s.F,{property:l.bM,renderNewExperience:function(){return(0,m.jsx)(u.ZP,{value:"leave-playlist",children:(0,m.jsx)(g,v({},e))})},renderOldExperience:function(){return null}})}))},61998:(e,t,n)=>{"use strict";n.d(t,{X:()=>b});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(17249),o=n(87360),s=n(19224),l=n(78142),c=n(29903),u=n(23213),d=n(62179),p=n(20188),m=n(83474),f=n(55590),v=n(4637);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e,t,n){switch(t){case m.p.FOLDER:return e?a.ag.get("contextmenu.unpin-folder"):a.ag.get("contextmenu.pin-folder");case m.p.PLAYLIST:case m.p.LIKED_SONGS:case m.p.YOUR_EPISODES:case m.p.LOCAL_FILES:return(0,o.MW)(n)?e?a.ag.get("contextmenu.unpin-dj"):a.ag.get("contextmenu.pin-dj"):e?a.ag.get("contextmenu.unpin-playlist"):a.ag.get("contextmenu.pin-playlist");case m.p.ALBUM:return e?a.ag.get("contextmenu.unpin-album"):a.ag.get("contextmenu.pin-album");case m.p.ARTIST:return e?a.ag.get("contextmenu.unpin-artist"):a.ag.get("contextmenu.pin-artist");case m.p.SHOW:return e?a.ag.get("contextmenu.unpin-show"):a.ag.get("contextmenu.pin-show");case m.p.AUDIOBOOK:return e?a.ag.get("contextmenu.unpin-audiobook"):a.ag.get("contextmenu.pin-audiobook");default:return(0,f._)(t),""}},y=function(e){var t=e.uri,n=e.canPin,i=e.isPinned,a=e.type,o=e.divider,l=e.spec,m=(0,p.$P)(),f=(0,r.useContext)(d.H),g=(0,r.useCallback)((function(){n===c.TL.NO_IN_FOLDER?f.getEvents().emit(u.EW.UPDATE_PIN_ERROR,{reason:u.EN.NO_PIN_IN_FOLDER,uri:t}):i?(f.unpin(t),l&&m.logInteraction(l.pinButtonFactory().hitUnpinItem({itemToUnpin:t}))):(f.pin(t),l&&m.logInteraction(l.pinButtonFactory().hitPinItem({itemToPin:t})))}),[n,f,t,i,m,l]);return(0,v.jsx)(s.s,{role:"menuitem",divider:o,onClick:g,children:k(i,a,t)})},b=r.memo((function(e){return(0,v.jsx)(l.ZP,{value:"pin-action",children:(0,v.jsx)(y,h({},e))})}))},3285:(e,t,n)=>{"use strict";n.d(t,{aU:()=>Jt,CW:()=>qn,ms:()=>x,x9:()=>Ye,jj:()=>rt,Jx:()=>W,K_:()=>Nt,uj:()=>Pt,AM:()=>Mt,WQ:()=>Vt,R2:()=>ht,f0:()=>Bn,pJ:()=>Zn,bs:()=>Vn,fc:()=>mt,ZI:()=>ae,m8:()=>re,IW:()=>oe,SB:()=>se,Jh:()=>Le,Iy:()=>ei,Fg:()=>ln,N0:()=>pe,W2:()=>F,h$:()=>ee,DY:()=>Kn,gh:()=>lt,Xu:()=>St,Qf:()=>Xe,ai:()=>Yn,fW:()=>zt,tz:()=>xe,lG:()=>Pe,K:()=>Ie,EC:()=>Ce,ZX:()=>rn,V8:()=>Ee,AA:()=>C});var i=n(45389),r=n(8850),a=n(10995),o=n.n(a),s=(n(162),n(62780),n(22369),n(30246),n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),l=n(61740),c=n(93476),u=n(59272),d=n(23621),p=n(19224),m=n(78142),f=n(49756),v=n(97120),g=n(20188),h=n(98328),k=n(4637);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.uris,n=e.playlist,i=e.divider,a=e.spec,m=e.children,y=s.useContext(f.ZF),b=(0,l.I0)(),S=(0,g.$P)(),x=(0,s.useCallback)((0,r.Z)(o().mark((function e(){var i,r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t,!(0,u.nK)(t[0])){e.next=6;break}return e.next=4,y.getContents(t[0]);case 4:r=e.sent,i=r.items.filter(h.K).map((function(e){return e.uri}));case 6:1===t.length&&(s=null==a?void 0:a.addToOtherPlaylistFactory().hitAddToPlaylist({playlist:n.uri,itemToBeAdded:t[0]}))&&S.logInteraction(s),b((0,d.jV)(n.uri,i));case 8:case"end":return e.stop()}}),e)}))),[S,a,t,b,n.uri,y]);return(0,k.jsx)(p.s,{role:"menuitem",divider:i,onClick:x,trailingIcon:(0,v.c)(n)?(0,k.jsx)(c.R,{iconSize:16}):null,children:null!=m?m:n.name})},x=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"add-to-existing",children:(0,k.jsx)(S,b({},e))})})),O=n(73691),w=n(90775);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.uri,n=e.displayText,i=e.divider,a=e.ubiLogger,c=e.contextMenuSpec,u=(0,l.I0)(),d=(0,w.o)(),m=(0,s.useMemo)((function(){return c.showCreditsFactory()}),[c]),f=(0,g.Wi)(m),v=(0,s.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.logInteraction(m.hitUiReveal()),d({targetUri:t,intent:"show-credits",type:"click"}),u((0,O.Pd)(!0,t));case 3:case"end":return e.stop()}}),e)}))),[t,u,d,a,m]);return(0,k.jsx)(p.s,{role:"menuitem",divider:i,onClick:v,elementRef:f,children:n})},C=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"show-credits",children:(0,k.jsx)(E,_({},e))})})),P=n(28930),I=n(78742),j=n(19968),A=n(4319);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){var t=e.uri,n=e.divider,i=e.spec,r=e.type,a=(0,w.o)(),o=(0,s.useContext)(P.qi),l=(0,I.g)().getState(),c=(0,A.YQ)(r),u=(0,g.$P)(),d=(0,s.useCallback)((function(){var e;a({intent:"share",type:"click"}),u.logInteraction(i.shareEmbedButtonFactory({uri:t}).hitUiReveal());var n=null==l||null===(e=l.item)||void 0===e?void 0:e.uri,s=(0,j.k)(l);o({type:"open",uri:t,currentTrackUri:n,currentPosition:s,entityType:r})}),[a,u,i,t,l,r,o]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:d,children:c})},F=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"ewg-open",children:(0,k.jsx)(R,D({},e))})})),L=n(17249),M=n(27118),U=n(60086),Z=n(88652),B=n(2708);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=e.uri,n=e.sharingInfo,i=e.displayText,r=e.divider,a=e.isPrivatePlaylist,o=void 0!==a&&a,l=e.spec,c=(0,Z.Np)().modifierKeyHeld,u=(0,U.y)({sharingInfo:n,uri:t,interactionData:{intent:"share",type:"click"}}).onCopyLink,d=(0,g.$P)(),m=(0,M.l)({uri:t,permissionLevel:"VIEWER"}).onCopyLink,f=(0,s.useCallback)((function(){c?(0,B.v)(t):o?m():u(),d.logInteraction(l.copyLinkButtonFactory().hitCopyToClipboard())}),[c,o,d,l,t,m,u]);return(0,k.jsx)(p.s,{role:"menuitem",divider:r,onClick:f,children:c?L.ag.get("context-menu.copy-spotify-uri"):i})},W=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"copy-link",children:(0,k.jsx)(G,H({},e))})})),z=(n(16366),n(31781),n(83809),n(69109),n(55530)),K=n.n(z),Y=n(61525),q=n(94152),Q=n(1017);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=s.memo((function(e){var t=e.uri,n=e.context,i=e.divider,r=e.spec,a=(0,q.s4)(),o=(0,w.o)(),c=(0,g.$P)(),u=(0,l.v9)((function(e){return e.platform})),d=u.isPWA,m=u.isDesktop,f=(0,l.v9)(Q.C7),v=(0,s.useCallback)((function(){var e,i="".concat(t).concat(n?"?context=".concat(encodeURIComponent(n)):"");o({targetUri:i,intent:"open-in-app",type:"click"}),c.logInteraction(r.openInDesktopButtonFactory().hitOpenApp({destination:t,app:"desktop"})),a.send((0,Y.K)({link:window.location.href,entity_uri:i,source:"open-in-app",deeplink_session_id:(e=K().create().hex,(e=e.replace(/-/g,"")).substr(0,16))})),window.open(i)}),[t,n,o,c,r,a]);return d||m||f?null:(0,k.jsx)(p.s,{role:"menuitem",divider:i,onClick:v,children:L.ag.get("contextmenu.open_desktop_app")})})),ee=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"open-in-app",children:(0,k.jsx)($,X({},e))})})),te=n(93381),ne=n(98335),ie=function(e){var t,n=e.uri,i=e.queryParams,r=void 0===i?"":i,a=e.displayText,o=e.divider,s=(0,ne.k)({type:"link",uri:n}),l=(0,u.EC)(n),c=(null===(t=(0,u.EC)(l))||void 0===t?void 0:t.toURLPath(!0))||"",d="".concat(c).concat(r),m=s?(0,te.is)(d,L.ag.getUrlLocale()):d;return(0,k.jsx)(p.s,{role:"menuitem",divider:o,to:m,children:a})},re=function(e){var t=e.uri,n=e.contextUri,i=e.divider,r=e.displayText,a=void 0===r?L.ag.get("contextmenu.go-to-artist"):r;return t!==n?(0,k.jsx)(ie,{divider:i,uri:t,displayText:a}):null},ae=function(e){var t=e.uri,n=e.contextUri,i=e.highlightedUri,r=e.divider;return t!==n?(0,k.jsx)(ie,{divider:r,uri:t,displayText:L.ag.get("contextmenu.go-to-album"),queryParams:"?highlight=".concat(i)}):null},oe=function(e){var t=e.uri,n=e.contextUri,i=e.divider;return t!==n?(0,k.jsx)(ie,{divider:i,uri:t,displayText:L.ag.get("context-menu.episode-page-link")}):null},se=function(e){var t=e.uri,n=e.divider;return(0,k.jsx)(ie,{divider:n,uri:t,displayText:L.ag.get("contextmenu.go-to-playlist")})},le=n(99070);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=function(e){var t=e.uris,n=e.reference,i=e.displayText,a=e.divider,l=e.spec,c=(0,le.K)(),d=c.createPlaylistFromAlbum,m=c.createPlaylistFromTracks,v=c.createPlaylistFromPlaylist,h=s.useContext(f.ZF),y=(0,g.$P)(),b=(0,s.useCallback)((0,r.Z)(o().mark((function e(){var i,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null!==n?{after:n}:{before:"start"},!(0,u.YF)(t[0])){e.next=7;break}return e.next=4,d(t[0],r);case 4:i=e.sent,e.next=16;break;case 7:if(!(0,u.nK)(t[0])){e.next=13;break}return e.next=10,v(t[0],r);case 10:i=e.sent,e.next=16;break;case 13:return e.next=15,m(t,r);case 15:i=e.sent;case 16:1===t.length&&(s=null==l?void 0:l.addToPlaylistButtonFactory().hitAddToPlaylist({playlist:null!==(a=i)&&void 0!==a?a:"",itemToBeAdded:t[0]}))&&y.logInteraction(s);case 17:case"end":return e.stop()}}),e)}))),[y,l,t,d,n,v,m]);return(0,u.nK)(t[0])&&!h.getCapabilities().canFetchAllTracks?null:(0,k.jsx)(p.s,{role:"menuitem",divider:a,onClick:b,children:i})},pe=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"new-playlist",children:(0,k.jsx)(de,ue({},e))})})),me=n(39130),fe=n(21490),ve=n(76956),ge=n(37401),he=n(77451),ke=n(70097);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e){var t=e.uri,n=e.currentUserUri,i=e.canReportUser,a=e.divider,l=e.spec,c=(0,s.useState)(!1),d=(0,me.Z)(c,2),m=d[0],f=d[1],v=(0,s.useContext)(ge.G),h=(0,g.$P)(),y=!(0,ve.k)();(0,s.useEffect)((function(){(0,u.nK)(t)&&v.canReportPlaylist(t,n).then(f),(0,u.OB)(t)&&f(!0),(0,u.Kv)(t)&&f(!!i),((0,u.RS)(t)||(0,fe.hn)(t))&&f(!0)}),[t,n,i,v]);var b=(0,ke.e)().openURLWithSessionTransfer,S=(0,s.useCallback)((0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v.getReportURL(t);case 4:n=e.sent,b(n),l&&h.logInteraction(l.reportButtonFactory().hitUiNavigate({destination:t}));case 7:case"end":return e.stop()}}),e)}))),[m,v,t,b,l,h]);return v.isURIReportable(t)&&t!==n?(0,k.jsx)(p.s,{role:"menuitem",as:"a",divider:a,disabled:!m||y,onClick:S,trailingIcon:(0,k.jsx)(he.h,{iconSize:16}),children:L.ag.get("contextmenu.report")}):null},xe=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"report",children:(0,k.jsx)(Se,be({},e))})})),Oe=n(48472),we=n(19873),Ne=s.memo((function(e){var t=e.uri,n=e.divider,i=e.saveSuccess,r=e.removeSuccess,a=e.onRemoveCallback,o=e.removeLabel,c=e.saveLabel,u=e.useDialog,d=void 0!==u&&u,m=e.initialState,f=void 0!==m&&m,v=(0,l.I0)(),g=(0,w.o)(),h=!(0,ve.k)(),y=(0,we.Z)(t,f),b=(0,me.Z)(y,2),S=b[0],x=b[1],N=(0,we.y)(),_=(0,s.useCallback)((function(){d&&S?v((0,O.YU)(t)):(g({targetUri:t,intent:S?"remove-from-library":"add-to-library",type:"click"}),x(!S),S?(a(t),r&&v(r(t))):i&&v(i(t)))}),[d,S,v,t,g,x,a,r,i]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,disabled:h&&!(null!=N&&N.getCapabilities().canModifyOffline),onClick:_,children:S?o:c})})),_e=function(){},Ee=s.memo((function(e){var t=e.uri,n=e.onRemoveCallback,i=void 0===n?_e:n,r=e.divider,a=e.useDialog,o=void 0!==a&&a,s=e.initialState,l=void 0!==s&&s;return(0,k.jsx)(m.ZP,{value:"save-track",children:(0,k.jsx)(Ne,{uri:t,divider:r,onRemoveCallback:i,removeLabel:L.ag.get("remove_from_your_liked_songs"),saveLabel:L.ag.get("save_to_your_liked_songs"),useDialog:o,initialState:l})})})),Ce=s.memo((function(e){var t=e.uri,n=e.onRemoveCallback,i=void 0===n?_e:n,r=e.divider,a=e.useDialog,o=void 0!==a&&a,s=e.initialState,l=void 0!==s&&s;return(0,k.jsx)(m.ZP,{value:"save-episode",children:(0,k.jsx)(Ne,{uri:t,divider:r,removeSuccess:Oe.SS,onRemoveCallback:i,saveSuccess:Oe.kK,removeLabel:L.ag.get("contextmenu.remove-from-your-episodes"),saveLabel:L.ag.get("contextmenu.save-to-your-episodes"),useDialog:o,initialState:l})})})),Pe=s.memo((function(e){var t=e.uri,n=e.onRemoveCallback,i=void 0===n?_e:n,r=e.divider,a=e.useDialog,o=void 0!==a&&a,s=e.initialState,l=void 0!==s&&s;return(0,k.jsx)(m.ZP,{value:"save-album",children:(0,k.jsx)(Ne,{uri:t,divider:r,onRemoveCallback:i,removeLabel:L.ag.get("contextmenu.remove-from-library"),saveLabel:L.ag.get("contextmenu.add-to-library"),useDialog:o,initialState:l})})})),Ie=s.memo((function(e){var t=e.uri,n=e.onRemoveCallback,i=void 0===n?_e:n,r=e.divider,a=e.useDialog,o=void 0!==a&&a,s=e.initialState,l=void 0!==s&&s;return(0,k.jsx)(m.ZP,{value:"save-book",children:(0,k.jsx)(Ne,{uri:t,divider:r,onRemoveCallback:i,removeLabel:L.ag.get("contextmenu.remove-from-library"),saveLabel:L.ag.get("contextmenu.add-to-library"),useDialog:o,initialState:l})})})),je=n(41177),Ae=n(60808),Te=n(87021);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(e){var t=e.uri,n=e.displayText,i=e.divider,a=e.spec,l=(0,je.s0)(),c=!(0,ve.k)(),d=(0,w.o)(),m=(0,g.$P)(),f=(0,s.useCallback)((0,r.Z)(o().mark((function e(){var n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({targetUri:t,intent:"go-to-radio",type:"click"}),a&&m.logInteraction(a.navigateButtonFactory({identifier:"go-to-radio"}).hitUiNavigate({destination:t})),e.next=4,(0,Te.M)(Ae.b.getInstance(),t);case 4:n=e.sent,i=(0,me.Z)(n.body.mediaItems,1),r=i[0],l((0,u.EC)(r.uri).toURLPath(!0));case 7:case"end":return e.stop()}}),e)}))),[d,t,a,m,l]);return(0,k.jsx)(p.s,{role:"menuitem",divider:i,disabled:c,onClick:f,children:n})},Le=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"go-to-radio",children:(0,k.jsx)(Fe,Re({},e))})})),Me=(n(9294),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryAlbumTrackUris"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]}}]}),Ue=n(26352),Ze=n(21494),Be=n(871);function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=function(e){return{uri:e,uid:null}},We=function(e){var t=e.uris,n=e.divider,i=e.spec,r=e.logger,a=(0,w.o)(),o=(0,I.g)(),l=(0,s.useCallback)((function(){a({intent:"add-to-queue",type:"click"}),o.addToQueue(t.map(Ge)),i&&r&&r.logInteraction(i.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:t.length}))}),[a,o,t,i,r]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:l,children:L.ag.get("contextmenu.add-to-queue")})},ze=function(e){var t=e.uris,n=e.spec,i=e.logger,a=(0,w.o)(),l=(0,I.g)(),c=(0,s.useContext)(Ue.Ax).request,u=(0,s.useCallback)((0,r.Z)(o().mark((function e(){var r,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({intent:"add-to-queue",type:"click"}),n&&i&&i.logInteraction(n.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:t.length})),e.next=4,c(Me,{uri:t[0],offset:0,limit:100});case 4:if("Album"===(null==(s=e.sent)||null===(r=s.data)||void 0===r?void 0:r.albumUnion.__typename)){e.next=7;break}return e.abrupt("return");case 7:u=((null==s?void 0:s.data.albumUnion.tracks.items)||[]).map((function(e){return e.track.uri})),l.addToQueue(u.map(Ge));case 9:case"end":return e.stop()}}),e)}))),[i,a,l,c,n,t]);return(0,k.jsx)(p.s,{role:"menuitem",onClick:u,children:L.ag.get("contextmenu.add-to-queue")})},Ke=function(e){var t=e.uris,n=e.spec,i=e.logger,a=(0,w.o)(),l=(0,I.g)(),c=(0,s.useContext)(f.ZF),u=(0,s.useCallback)((0,r.Z)(o().mark((function e(){var r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({intent:"add-to-queue",type:"click"}),e.next=3,c.getContents(t[0],{limit:100});case 3:r=e.sent,s=r.items.filter((function(e){return!!e})).map((function(e){return e.uri})),n&&i&&i.logInteraction(n.addToQueueButtonFactory().hitAddItemsToQueue({numberOfItemsToAddToQueue:s.length})),l.addToQueue(s.map(Ge));case 7:case"end":return e.stop()}}),e)}))),[i,a,l,c,n,t]);return(0,k.jsx)(p.s,{role:"menuitem",onClick:u,children:L.ag.get("contextmenu.add-to-queue")})},Ye=s.memo((function(e){var t=(0,Ze.$)().uri,n=(0,Be.Y)(),i=He(He({},e),{},{logger:(0,g.$P)()});if(!t||n)return null;var r=(0,k.jsx)(We,He({},i));return(0,u.YF)(e.uris[0])?r=(0,k.jsx)(ze,He({},i)):(0,u.nK)(e.uris[0])&&(r=(0,k.jsx)(Ke,He({},i))),(0,k.jsx)(m.ZP,{value:"add-to-queue",children:r})}));function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=function(e){var t,n=e.uids,i=e.uris,r=e.contextUri,a=e.divider,o=e.spec,l=(0,w.o)(),c=(0,I.g)(),d=(0,g.$P)(),m=(0,s.useMemo)((function(){return n.map((function(e,t){return{uid:e,uri:i[t]}}))}),[n,i]),f=(0,s.useCallback)((function(){l({intent:"remove-from-queue",type:"click"}),d.logInteraction(o.removeFromQueueButtonFactory().hitRemoveItemsFromQueue({numberOfItemsToRemoveFromQueue:i.length})),c.removeFromQueue(m)}),[l,d,o,i.length,c,m]);return r&&"queue"===(null===(t=(0,u.EC)(r))||void 0===t?void 0:t.id)?(0,k.jsx)(p.s,{role:"menuitem",divider:a,onClick:f,children:L.ag.get("contextmenu.remove-from-queue")}):null},Xe=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"remove-from-queue",children:(0,k.jsx)(Je,Qe({},e))})})),$e=n(38674),et=n(10785);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(e){var t=e.uri,n=e.spec,i=e.divider,r=e.isCollaborative,a=(0,w.o)(),o=(0,s.useContext)(f.ZF),l=(0,f.Yv)(t).setCollaborativeState,c=(0,g.$P)(),u=o.getCapabilities().canToggleCollaborative,d=(0,$e.W6)(et.bM),m=(0,s.useCallback)((function(){var e;(a({intent:"playlisting",type:"click"}),l(!r),n)&&(e=r?n.collaborativePlaylistButtonFactory().hitMakePlaylistNonCollaborative({playlistToBeMadeNonCollaborative:t}):n.collaborativePlaylistButtonFactory().hitMakePlaylistCollaborative({playlistToBeMadeCollaborative:t}),c.logInteraction(e))}),[r,c,a,l,n,t]);return!u||d&&!r?null:(0,k.jsx)(p.s,{role:"menuitemcheckbox",divider:i,onClick:m,"aria-checked":r,children:L.ag.get("contextmenu.collaborative")})},rt=s.memo((function(e){return(0,k.jsx)(s.Suspense,{fallback:null,children:(0,k.jsx)(m.ZP,{value:"toggle-collaborative",children:(0,k.jsx)(it,nt({},e))})})}));function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=function(e){var t=e.uri,n=e.divider,i=e.isPublished,r=e.isCollaborative,a=e.spec,o=(0,w.o)(),c=(0,f.lh)().setPublishedState,u=(0,l.I0)(),d=(0,g.$P)(),m=(0,s.useCallback)((function(){if(!r){var e;if(o({intent:"playlisting",type:"click"}),c(t,!i),a)e=i?a.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPrivate({playlistToBeMadePrivate:t}):a.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPublic({playlistToBeMadePublic:t}),d.logInteraction(e);u(i?(0,Oe.sO)():(0,Oe.EJ)())}}),[u,r,i,d,o,c,a,t]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:m,disabled:r||void 0===i,children:i?L.ag.get("contextmenu.make-secret"):L.ag.get("contextmenu.make-public")})},lt=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"toggle-published",children:(0,k.jsx)(st,ot({},e))})})),ct=(n(69724),n(15368));function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=function(e){var t=e.uri,n=e.name,i=e.description,r=e.image,a=e.divider,o=e.spec,l=(0,w.o)(),c=(0,s.useContext)(ct.zy),u=(0,g.$P)(),d=(0,s.useCallback)((function(){l({intent:"playlisting",type:"click"}),c({type:"open",playlistDetails:{name:n,description:i,image:r,uri:t}}),o&&u.logInteraction(o.editButtonFactory({uri:t}).hitUiReveal())}),[i,c,r,u,n,l,o,t]);return(0,k.jsx)(p.s,{role:"menuitem",divider:a,onClick:d,children:L.ag.get("contextmenu.edit-details")})},mt=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"edit-details",children:(0,k.jsx)(pt,dt({},e))})}));function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=function(e){var t=e.uri,n=e.divider,i=e.spec,r=(0,w.o)(),a=(0,l.I0)(),o=(0,g.$P)(),c=(0,s.useCallback)((function(){r({intent:"playlisting",type:"click"}),a((0,O.p_)(t)),i&&o.logInteraction(i.deleteButtonFactory().hitDeletePlaylist({playlistToBeDeleted:t}))}),[a,o,r,i,t]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:c,children:L.ag.get("contextmenu.delete")})},ht=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"delete-playlist",children:(0,k.jsx)(gt,vt({},e))})}));n(50103),n(61391),n(72649);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=function(e){var t=(0,s.useContext)(f.ZF),n=(0,f.Yv)(e.playlistUri).removeItems,i=e.uris,r=e.uids,a=e.divider,o=e.playlistUri,l=e.removePlaylistItems,c=void 0===l?n:l,u=e.canBeRemoved,d=(0,w.o)(),m=(0,f.ET)(o),v=t.getCapabilities().hasUidsGeneratedFromIndicies,g=(0,s.useCallback)((function(){d({targetUri:o,intent:"playlisting",type:"click"});var e=i.map((function(e,t){return{uri:e,uid:r[t]||""}}));c(e)}),[d,o,c,r,i]);return v&&!r.every((function(e){return Number.isInteger(Number(e))}))?null:u||null!=m&&m.canRemove?(0,k.jsx)(p.s,{role:"menuitem",divider:a,onClick:g,children:L.ag.get("contextmenu.remove-from-playlist")}):null},St=s.memo((function(e){return(0,u.nK)(e.playlistUri)?(0,k.jsx)(m.ZP,{value:"remove-from-playlist",children:(0,k.jsx)(bt,yt({},e))}):null}));function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=function(e){var t=e.position,n=e.divider,i=e.onCreateCallback,a=void 0===i?function(){}:i,l=(0,w.o)(),c=(0,f.lh)().createFolder,u=(0,s.useCallback)((0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l({intent:"playlisting",type:"click"}),e.next=3,c(L.ag.get("playlist.default_folder_name"),t);case 3:n=e.sent,a(n);case 5:case"end":return e.stop()}}),e)}))),[t,c,l,a]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:u,children:L.ag.get("contextmenu.create-folder")})},Nt=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"create-folder",children:(0,k.jsx)(wt,Ot({},e))})}));function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=function(e){var t=e.position,n=e.divider,i=e.onCreateCallback,r=void 0===i?function(){}:i,a=(0,w.o)(),o=(0,le.K)().createPlaylist,l=(0,s.useCallback)((function(){a({intent:"create-playlist",type:"click"}),o(L.ag.get("playlist.default_playlist_name"),t),r()}),[t,o,a,r]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:l,children:L.ag.get("contextmenu.create-playlist")})},Pt=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"create-playlist",children:(0,k.jsx)(Ct,Et({},e))})})),It=(n(43125),n(27639),n(83001),n(82),n(71756),n(60377)),jt=n(32953),At=function(e,t){return e.build().withMethod("POST").withHost(jt.W7).withPath("/freshen").withJsonContentType().withBody({playlistURI:t,type:"W2V_freshener"}).withEndpointIdentifier("/freshen").send()};function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e){return e.map((function(e){return"spotify:track:".concat(e.id)}))}function Ft(e){return Array.from(new Set(e))}var Lt=function(e){var t=e.uri,n=e.isEmpty,i=e.name,a=e.displayText,l=e.divider,c=e.spec,d=(0,f.lh)().createPlaylist,m=(0,je.s0)(),v=(0,s.useContext)(f.ZF),h=!(0,ve.k)(),y=(0,w.o)(),b=(0,g.$P)(),S=(0,s.useCallback)((0,r.Z)(o().mark((function e(){var n,r,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,It.B1)(i),e.next=3,At(Ae.b.getInstance(),t);case 3:return r=e.sent,a=Ft(Rt(r.body.recommendedTracks)),e.next=7,d(n,{before:"start"});case 7:if(null!==(s=e.sent)){e.next=10;break}return e.abrupt("return");case 10:return l=(0,u.EC)(s).toURLPath(!0),e.next=13,v.add(s,a,{before:"start"});case 13:c&&b.logInteraction(c.createButtonFactory().hitCreatePlaylist()),y({targetUri:t,intent:"create-similar-playlist",type:"click"}),m(l);case 16:case"end":return e.stop()}}),e)}))),[i,t,d,v,c,y,m,b]);return(0,k.jsx)(p.s,{role:"menuitem",divider:l,disabled:h||n,onClick:S,children:a})},Mt=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"create-similar-playlist",children:(0,k.jsx)(Lt,Dt({},e))})}));function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=function(e){var t=e.uri,n=e.divider,i=e.onDeleteCallback,r=(0,w.o)(),a=(0,l.I0)(),o=(0,s.useCallback)((function(){r({intent:"playlisting",type:"click"}),a((0,O.Q2)(t,i))}),[a,i,r,t]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:o,children:L.ag.get("contextmenu.delete")})},Vt=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"delete-folder",children:(0,k.jsx)(Bt,Zt({},e))})}));function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt=function(e){var t=e.onRename,n=e.divider,i=e.uri,r=e.spec,a=(0,w.o)(),o=(0,g.$P)(),l=(0,s.useCallback)((function(){a({intent:"playlisting",type:"click"}),o.logInteraction(r.renameButtonFactory().hitRenamePlaylist({playlistToBeRenamed:i})),t()}),[a,o,r,i,t]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:l,children:L.ag.get("contextmenu.rename")})},zt=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"rename",children:(0,k.jsx)(Wt,Gt({},e))})})),Kt=n(39464);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=function(e){var t=e.divider,n=(0,l.I0)(),i=(0,s.useCallback)((function(){n((0,Kt.q$)())}),[n]);return(0,k.jsx)(p.s,{role:"menuitem",divider:t,onClick:i,children:L.ag.get("context-menu.about-recommendations")})},Jt=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"about-recommendations",children:(0,k.jsx)(Qt,qt({},e))})})),Xt=n(83014),$t=n(62179);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn=function(e){var t=e.trackUris,n=(0,s.useState)(null),i=(0,me.Z)(n,2),a=i[0],l=i[1],c=(0,w.o)(),u=(0,s.useContext)($t.H);(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.contains.apply(u,(0,Xt.Z)(t));case 2:n=e.sent,l(n.every(Boolean));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,t]);var d=(0,s.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,u.remove.apply(u,(0,Xt.Z)(t));case 3:e.next=7;break;case 5:return e.next=7,u.add.apply(u,(0,Xt.Z)(t));case 7:c({intent:a?"remove-from-library":"add-to-library",type:"click"});case 8:case"end":return e.stop()}}),e)}))),[a,u,c,t]);return null===a?null:(0,k.jsx)(p.s,{role:"menuitem",onClick:d,children:a?L.ag.get("remove_from_your_liked_songs"):L.ag.get("save_to_your_liked_songs")})},rn=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"save-multiple-track",children:(0,k.jsx)(nn,tn({},e))})}));function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=function(e){var t,n=e.uri,i=e.isPlayed,r=e.onChange,a=void 0===r?function(){}:r,o=e.divider,l=(0,s.useContext)($t.H),c=(0,s.useCallback)((function(){i?l.markAsUnPlayed(n):l.markAsPlayed(n),a(!i)}),[l,a,i,n]);return null!==(t=l.getCapabilities())&&void 0!==t&&t.canMarkEpisodesAsDone?(0,k.jsx)(p.s,{role:"menuitem",divider:o,onClick:c,children:i?L.ag.get("contextmenu.mark-as-unplayed"):L.ag.get("contextmenu.mark-as-played")}):null},ln=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"mark-as-played",children:(0,k.jsx)(sn,on({},e))})})),cn=n(83338),un=n(11446),dn=n(76820),pn=(n(79611),n(40265),n(46743),n(29617)),mn=n(10506),fn=n(30214),vn=n(77137),gn=n(68716),hn=n(85358),kn=n(48850),yn=n(59430),bn=n(55590),Sn=(n(40274),n(92346),n(37193),n(9102));function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wn=864e5,Nn=5e3;function _n(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,ve.k)(),i=(0,$e.W6)(et.iH,{loadingValue:!1}),r=(0,yn.c)(),a=n&&i&&r.getCapabilities().canRemoteDownload,o=(0,Sn.useQueryClient)(),s=(0,Sn.useQuery)(["useOfflineContextForDevices",e],(function(){return r.getContextForDevices(e).then(Cn)}),{cacheTime:wn,staleTime:0,refetchInterval:t&&Nn,enabled:a,placeholderData:function(){var e,t,n;return null===(e=o.getQueriesData(["useOfflineContextForDevices"]))||void 0===e||null===(t=e.find((function(e){var t=(0,me.Z)(e,2);t[0];return!!t[1]})))||void 0===t||null===(n=t[1])||void 0===n?void 0:n.map((function(e){return On(On({},e),{},{contextDownloadAvailability:kn.Om.NO,contextDownloadPercentage:0})}))}}).data;return a&&null!=s?s:[]}var En=2592e6;function Cn(e){return e.filter((function(e){var t=e.lastSeenAtMs;return Date.now()-t<En})).sort((function(e,t){return Number(t.isLocal)-Number(e.isLocal)||t.lastSeenAtMs-e.lastSeenAtMs||e.name.localeCompare(t.name)}))}function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e){switch(e){case kn.Om.NO:return(0,k.jsx)(pn.D,{iconSize:16,semanticColor:"textBase"});case kn.Om.WAITING:case kn.Om.DOWNLOADING:return(0,k.jsx)(mn.D,{semanticColor:"textSubdued",children:(0,k.jsx)(vn.l,{size:16})});case kn.Om.YES:return(0,k.jsx)(fn.E,{iconSize:16,semanticColor:"textBrightAccent"});default:return(0,bn._)(e),null}}var An=function(e){var t,n=e.name,i=e.deviceId,a=e.cacheId,l=e.type,c=e.deviceType,u=e.clientPlatform,d=e.contextDownloadAvailability,m=e.isLocal,f=e.uri,v=e.spec,h=e.addDownloadPrerequisites,y=e.localDownloadAvailability,b=(0,g.$P)(),S=(0,yn.c)(),x=(0,hn.k)(),O=(t=(0,Sn.useQueryClient)(),(0,s.useCallback)((function(e){return t.invalidateQueries(["useOfflineContextForDevices",e])}),[t])),w=(0,cn.D)(),N=(0,gn.z)(l),_=m?y:d,E=_!==kn.Om.NO,C=_===kn.Om.YES,P={remoteClientPlatform:u.toString(),remoteDeviceId:i,remoteDeviceType:c.toString()},I=function(){var e=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E?(w(f,m?void 0:{deviceId:i,cacheId:a,deviceName:n,clientPlatform:u,deviceType:c}),t=C?m?v.downloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:f}):v.remoteDeviceDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice(In({itemToRemoveFromDownloads:f},P)):m?v.downloadButtonFactory().hitStopDownload({itemToStopDownload:f}):v.remoteDeviceDownloadButtonFactory().hitStopDownloadToRemoteDevice(In({itemToStopDownload:f},P))):(h(),S.addDownload(f,{deviceId:i,cacheId:a}),t=m?v.downloadButtonFactory().hitDownload({itemToDownload:f}):v.remoteDeviceDownloadButtonFactory().hitDownloadToRemoteDevice(In({itemToDownload:f},P)),x(L.ag.get("web-player.remote-downloads.feedback.downloading-to-remote-device",n))),O(f),b.logInteraction(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)(p.s,{onClick:I,"aria-checked":E,role:"menuitemcheckbox",leadingIcon:(0,k.jsx)(N,{iconSize:16,semanticColor:"textSubdued"}),trailingIcon:jn(_),CheckedIcon:null,children:m?L.ag.get("web-player.remote-downloads.context-menu.this-computer"):n})},Tn=n(3643);function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Rn=function(e){var t=e.uri,n=e.divider,r=e.addToLibrary,a=void 0===r||r,o=e.showUri,l=void 0===o?void 0:o,c=e.spec,u=(0,g.$P)(),d=(0,s.useState)(!1),p=(0,me.Z)(d,2),f=p[0],v=p[1],h=_n(t,f),y=(0,Tn.S)(),b=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=(0,we.Z)(e),r=(0,me.Z)(i,2),a=r[0],o=r[1],l=(0,we.Z)(n),c=(0,me.Z)(l,2),u=c[0],d=c[1];return(0,s.useCallback)((function(){!a&&t?o(!0):!t&&n&&(u||d(!0))}),[t,a,u,o,d,n])}(t,a,l),S=(0,dn._)(t).availability,x=(0,s.useMemo)((function(){return c.downloadToDeviceSubmenuFactory()}),[c]);return(0,k.jsx)(un.W,{displayText:L.ag.get("contextmenu.download"),depth:1,placement:y?"left-start":"right-start",divider:n,onOpenChange:function(e){v(e),e&&u.logImpression(x.impression())},children:(0,k.jsx)(m.ZP,{value:"download",children:h.map((function(e){return(0,k.jsx)(An,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uri:t,spec:x,addDownloadPrerequisites:b,localDownloadAvailability:S},e),e.cacheId)}))})})};n(72304);function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn=function(e){var t=e.uri,n=e.divider,i=e.addToLibrary,r=void 0===i||i,a=e.showUri,o=void 0===a?void 0:a,l=e.spec,c=(0,w.o)(),u=(0,g.$P)(),d=(0,we.Z)(t),m=(0,me.Z)(d,2),f=m[0],v=m[1],h=(0,we.Z)(o),y=(0,me.Z)(h,2),b=y[0],S=y[1],x=(0,dn._)(t),O=x.capability,N=x.availability,_=x.addDownload,E=(0,cn.D)(),C=(0,s.useCallback)((function(){var e;O!==kn.PQ.NO_PERMISSION&&(c({targetUri:t,intent:N!==kn.Om.NO?"remove-from-download":"download",type:"click"}),N!==kn.Om.NO?(E(t),e=l.downloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:t})):(!f&&r?v(!0):!r&&o&&(b||S(!0)),_(),e=l.downloadButtonFactory().hitDownload({itemToDownload:t})),u.logInteraction(e))}),[O,N,_,E,f,u,c,v,l,t,r,o,b,S]);return O===kn.PQ.NO_CAPABILITY||O===kn.PQ.NO_PERMISSION_HIDE?null:(0,k.jsx)(p.s,{divider:n,onClick:C,"aria-checked":N!==kn.Om.NO,role:"menuitemcheckbox",disabled:O===kn.PQ.NO_PERMISSION,children:L.ag.get("contextmenu.download")})},Un=function(e){var t=_n(e.uri).some((function(e){return!e.isLocal}))?Rn:Mn;return(0,k.jsx)(t,Ln({},e))},Zn=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"download-episode",children:(0,k.jsx)(Un,Ln({},e))})})),Bn=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"download-chapter",children:(0,k.jsx)(Un,Ln(Ln({},e),{},{addToLibrary:!1}))})})),Vn=s.memo((function(e){return(0,k.jsx)(m.ZP,{value:"download-playlist",children:(0,k.jsx)(Un,Ln({},e))})})),Hn=n(58077);function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zn=function(e){var t=e.uri,n=e.divider,i=e.isPrivate,r=e.spec,a=(0,w.o)(),o=(0,f.Yv)(t).setPrivateState,l=(0,f.lh)().setPublishedState,c=(0,g.$P)(),u=(0,s.useCallback)((function(){var e;(a({intent:"playlisting",type:"click"}),i||l(t,!1),o(!i),r)&&(e=i?r.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPublic({playlistToBeMadePublic:t}):r.togglePlaylistPermissionsButtonFactory().hitMakePlaylistPrivate({playlistToBeMadePrivate:t}),c.logInteraction(e))}),[i,c,a,o,l,r,t]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:u,children:i?L.ag.get("contextmenu.make-playlist-public"):L.ag.get("contextmenu.make-playlist-private")})},Kn=s.memo((function(e){return(0,k.jsx)(Hn.F,{property:et.bM,renderNewExperience:function(){return(0,k.jsx)(m.ZP,{value:"toggle-private",children:(0,k.jsx)(zn,Wn({},e))})},renderOldExperience:function(){return null}})})),Yn=function(e){var t=e.divider,n=e.removeRecommendation;return(0,k.jsx)(p.s,{role:"menuitem",divider:t,onClick:n,children:L.ag.get("contextmenu.remove-recommendation")})},qn=function(e){var t=e.divider,n=e.addRecommendation;return(0,k.jsx)(p.s,{role:"menuitem",divider:t,onClick:n,children:L.ag.get("contextmenu.add-recommendation-to-this-playlist")})},Qn=n(82387);function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $n=function(e){var t=e.uri,n=e.divider,i=e.spec,r=(0,Qn.P)("ignoreinrecs"),a=r.add,o=r.remove,l=(0,r.useContains)(t),c=(0,me.Z)(l,1)[0],u=(0,g.$P)(),d=(0,s.useCallback)((function(){var e;c?(o(t),e=i.excludeRecommendationsButtonFactory().hitIncludeInRecommendations({contextToBeIncluded:t})):(a(t),e=i.excludeRecommendationsButtonFactory().hitExcludeFromRecommendations({contextToBeExcluded:t})),u.logInteraction(e)}),[c,u,o,t,i,a]);return(0,k.jsx)(p.s,{role:"menuitem",divider:n,onClick:d,children:c?L.ag.get("contextmenu.include-in-recommendations"):L.ag.get("contextmenu.exclude-from-recommendations")})},ei=s.memo((function(e){return(0,$e.W6)(et.e$)?(0,k.jsx)(m.ZP,{value:"toggle-ignore-in-recommendations",children:(0,k.jsx)($n,Xn({},e))}):null}))},77733:(e,t,n)=>{"use strict";n.d(t,{I:()=>V});n(72304),n(22369);var i=n(59496),r=n(17249),a=n(78142),o=n(49756),s=n(16204),l=n(45389),c=(n(62780),n(162),n(30246),n(84875)),u=n.n(c),d=n(50200),p=n(3643),m=n(11446),f=n(88652),v=(n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(22129)),g=n(35742),h=n(39130),k=n(8850),y=n(10995),b=n.n(y),S=n(19224),x=n(20188),O=n(4637);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e,t){var n=(0,o.lh)(),r=n.addPlaylists,a=n.movePlaylists,s=n.containsPlaylists,l=(0,x.$P)(),c=(0,i.useCallback)(function(){var n=(0,k.Z)(b().mark((function n(i){var o,c,u;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s([e]);case 2:o=n.sent,c=(0,h.Z)(o,1),c[0]?(a({uri:e},i),u=t.addToFolderButtonFactory().hitSort()):(r([e],i),u=t.addToFolderButtonFactory().hitFollow({itemToBeFollowed:e})),u&&l.logInteraction(u);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[s,e,l,a,t,r]);return c},E=function(e){var t=e.uri,n=e.folder,i=e.spec,r=e.children,a=_(t,i);return(0,O.jsx)(S.s,{role:"menuitem",onClick:function(){return a({after:n})},children:null!=r?r:n.name})},C=i.memo((function(e){return(0,O.jsx)(a.ZP,{value:"add-to-existing",children:(0,O.jsx)(E,N({},e))})})),P=n(26954);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=e.item,n=e.filter,i=(0,O.jsx)(g.o,{searchWords:[n],textToHighlight:t.displayTitle});return(0,O.jsxs)(C,j(j({},e),{},{children:[(0,O.jsx)("div",{dir:"auto",className:P.Z.addToPlaylistTitle,children:i}),t.displaySubtitle?(0,O.jsxs)("div",{dir:"auto",className:P.Z.addToPlaylistSubtitle,children:[(0,O.jsx)(v.P,{iconSize:16}),(0,O.jsx)(g.o,{searchWords:[n],textToHighlight:t.displaySubtitle})]}):null]}))}var T=n(41387),D=n(24898),R=n(89921),F=function(){return(0,O.jsx)(T._w,{className:R.Z.filterPlaylistSearch,children:(0,O.jsx)(T.IZ,{role:"menuitem",as:"div",children:(0,O.jsx)(D.K,{alwaysExpanded:!0,placeholder:r.ag.get("contextmenu.find-folder")})})})},L=n(97914),M=n(50116),U=n(3285),Z=n(95173),B=function e(t){var n=t.playlistUri,r=t.folder,a=t.items,o=t.displayText,c=t.depth,v=t.spec,g=(0,p.S)(),h=(0,f.qT)(),k=_(n,v),y=(0,i.useContext)(d.fo).filter,b=1===c,S=(0,i.useMemo)((function(){return 0===y.length?a:(0,L.J)(y,a,!0)}),[y,a]),x=(0,i.useCallback)((function(){k({after:arguments.length>0&&void 0!==arguments[0]?arguments[0]:r}),h({type:"close"})}),[k,h,r]);return(0,O.jsx)(m.W,{displayText:o,depth:c,placement:g?"left-start":"right-start",children:(0,O.jsxs)("div",{className:u()((0,l.Z)({},Z.Z.filterPlaylistSearchContainer,b)),style:{"--context-menu-submenu-length":a.filter((function(e){return(0,s.lU)(e)})).length},children:[b&&(0,O.jsx)(F,{}),(0,O.jsx)(U.K_,{position:b?{before:"start"}:{after:r},onCreateCallback:x,divider:"after"}),S.map((function(t){return(0,s.lU)(t)?(0,M.f)(t)?(0,O.jsx)(A,{uri:n,folder:t,item:t,filter:null!=y?y:"",spec:v},t.uri):function(e){return e.items.some((function(e){return(0,s.lU)(e)}))}(t)?(0,O.jsx)(e,{folder:t,playlistUri:n,items:t.items,displayText:t.name,depth:c+1,spec:v},t.uri):(0,O.jsx)(C,{folder:t,uri:n,spec:v},t.uri):null}))]})})},V=i.memo((function(e){var t=e.playlistUri,n=e.isInLibrary,l=e.spec,c=(0,o.Cu)();return c&&c.items.some((function(e){return(0,s.lU)(e)}))?(0,O.jsx)(a.ZP,{value:"add-to-folder",children:(0,O.jsx)(i.Suspense,{fallback:null,children:(0,O.jsx)(d.hz,{uri:"spotify:internal:foldersubmenufolders",children:(0,O.jsx)(B,{playlistUri:t,folder:c,items:c.items||[],displayText:n?r.ag.get("contextmenu.move-playlist-to-folder"):r.ag.get("contextmenu.add-playlist-to-folder"),depth:1,spec:l})})})}):null}))},36502:(e,t,n)=>{"use strict";n.d(t,{p:()=>R});var i=n(59496),r=n(59272),a=n(17249),o=n(19224),s=n(78142),l=n(49756),c=n(45389),u=(n(62780),n(22369),n(162),n(30246),n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(84875)),d=n.n(u),p=n(50200),m=n(3643),f=n(11446),v=n(16204),g=n(22129),h=n(35742),k=n(3285),y=n(26954),b=n(4637);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=e.item,n=e.filter,i=(0,b.jsx)(h.o,{searchWords:[n],textToHighlight:t.displayTitle});return(0,b.jsx)(k.ms,x(x({},e),{},{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{dir:"auto",className:y.Z.addToPlaylistTitle,children:i}),t.displaySubtitle?(0,b.jsxs)("div",{dir:"auto",className:y.Z.addToPlaylistSubtitle,children:[(0,b.jsx)(g.P,{iconSize:16}),(0,b.jsx)(h.o,{searchWords:[n],textToHighlight:t.displaySubtitle})]}):null]})}))}var w=n(41387),N=n(24898),_=n(89921),E=function(){return(0,b.jsx)(w._w,{className:_.Z.filterPlaylistSearch,children:(0,b.jsx)(w.IZ,{role:"menuitem",as:"div",children:(0,b.jsx)(N.K,{alwaysExpanded:!0,placeholder:a.ag.get("contextmenu.find-playlist")})})})},C=n(97914),P=n(50116),I=n(95173);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function e(t){var n=t.uris,r=t.reference,o=t.items,s=t.displayText,l=t.depth,u=t.spec,g=(0,m.S)(),h=(0,i.useContext)(p.fo).filter,y=1===l,S=(0,i.useMemo)((function(){return 0===h.length?o:(0,C.J)(h,o)}),[h,o]);return(0,b.jsx)(f.W,{displayText:s,depth:l,placement:g?"left-start":"right-start",children:(0,b.jsxs)("div",{className:d()((0,c.Z)({},I.Z.filterPlaylistSearchContainer,y)),style:{"--context-menu-submenu-length":o.filter((function(e){return(0,v.lU)(e)||(0,v.no)(e)&&e.canAdd})).length},children:[y&&(0,b.jsx)(E,{}),(0,b.jsx)(k.N0,{divider:"after",uris:n,reference:r,displayText:a.ag.get("contextmenu.create-playlist")}),S.map((function(t){return(0,v.lU)(t)?(0,b.jsx)(e,{reference:t,uris:n,items:t.items,displayText:t.name,depth:l+1,spec:u},t.uri):(0,v.no)(t)&&t.canAdd?(0,P.f)(t)?(0,b.jsx)(O,{uris:n,playlist:t,item:t,filter:null!=h?h:"",spec:u},t.uri):(0,b.jsx)(k.ms,{uris:n,playlist:t,spec:u},t.uri):null}))]})})},D=function(e){var t,n;return(0,b.jsx)(p.hz,{uri:"spotify:internal:foldersubmenu:".concat(null!==(t=null===(n=e.reference)||void 0===n?void 0:n.uri)&&void 0!==t?t:"root"),children:(0,b.jsx)(T,A({},e))})},R=i.memo((function(e){var t=e.uris,n=e.isRecommendation,c=e.isPlaylist,u=e.spec,d=e.isEmpty,p=i.useContext(l.ZF),m=a.ag.get("contextmenu.add-to-playlist");n?m=a.ag.get("contextmenu.add-to-another-playlist"):c&&(m=a.ag.get("contextmenu.add-playlist-to-other-playlist"));var f=(0,l.Cu)();return(0,r.nK)(t[0])&&!p.getCapabilities().canFetchAllTracks?null:d?(0,b.jsx)(o.s,{role:"menuitem",disabled:!0,children:m}):(0,b.jsx)(s.ZP,{value:"add-to-playlist",children:(0,b.jsx)(i.Suspense,{fallback:null,children:(0,b.jsx)(D,{uris:t,items:(null==f?void 0:f.items)||[],reference:null,displayText:m,depth:1,spec:u})})})}))},76561:(e,t,n)=>{"use strict";n.d(t,{Y:()=>v});var i=n(59496),r=n(17249),a=n(14255),o=n(78142),s=n(29903),l=n(46700),c=n(83474),u=n(36502),d=n(38430),p=n(3285),m=n(61998),f=n(4637),v=Spicetify.ReactComponent.AlbumMenu=i.memo((function(e){var t=e.uri,n=e.sharingInfo,i=e.onRemoveCallback,v=e.canPin,g=void 0===v?s.TL.NO:v,h=e.isPinned,k=void 0!==h&&h,y=e.useDialogForUnfollow,b=void 0!==y&&y,S=e.isInLibrary,x=(0,l.T)(t).spec;return(0,f.jsx)(o.ZP,{value:"album",children:(0,f.jsxs)(a.v,{children:[(0,f.jsx)(p.x9,{spec:x,uris:[t]}),(0,f.jsx)(p.Jh,{spec:x,divider:"after",uri:t,displayText:r.ag.get("contextmenu.go-to-artist-radio")}),g!==s.TL.NO&&(0,f.jsx)(m.X,{uri:t,canPin:g,isPinned:k,type:c.p.ALBUM,spec:x}),(0,f.jsx)(p.lG,{uri:t,onRemoveCallback:i,useDialog:b,initialState:S}),(0,f.jsx)(u.p,{spec:x,uris:[t]}),(0,f.jsxs)(d.q,{divider:"before",children:[(0,f.jsx)(p.Jx,{uri:t,spec:x,sharingInfo:n,displayText:r.ag.get("context-menu.copy-album-link")}),(0,f.jsx)(p.W2,{spec:x,uri:t,type:c.p.ALBUM})]}),(0,f.jsx)(p.h$,{spec:x,divider:"before",uri:t})]})})}))},60221:(e,t,n)=>{"use strict";n.d(t,{m:()=>v});var i=n(59496),r=n(17249),a=n(14255),o=n(78142),s=n(29903),l=n(46700),c=n(83474),u=n(38430),d=n(3285),p=n(95390),m=n(61998),f=n(4637),v=Spicetify.ReactComponent.ArtistMenu=i.memo((function(e){var t=e.uri,n=e.sharingInfo,i=e.onRemoveCallback,v=e.canPin,g=void 0===v?s.TL.NO:v,h=e.isPinned,k=void 0!==h&&h,y=e.useDialogForUnfollow,b=void 0!==y&&y,S=e.isInLibrary,x=(0,l.T)(t).spec;return(0,f.jsx)(o.ZP,{value:"artist",children:(0,f.jsxs)(a.v,{children:[(0,f.jsx)(p.x3,{uri:t,onRemoveCallback:i,useDialog:b,initialState:S}),g!==s.TL.NO&&(0,f.jsx)(m.X,{uri:t,canPin:g,isPinned:k,type:c.p.ARTIST,spec:x}),(0,f.jsx)(d.Jh,{uri:t,displayText:r.ag.get("contextmenu.go-to-artist-radio")}),(0,f.jsx)(d.tz,{spec:x,uri:t}),(0,f.jsxs)(u.q,{children:[(0,f.jsx)(d.Jx,{spec:x,uri:t,sharingInfo:n,displayText:r.ag.get("contextmenu.share.copy-artist-link")}),(0,f.jsx)(d.W2,{spec:x,uri:t,type:c.p.ARTIST})]}),(0,f.jsx)(d.h$,{spec:x,divider:"before",uri:t})]})})}))},77812:(e,t,n)=>{"use strict";n.d(t,{X:()=>g});var i=n(59496),r=n(38674),a=n(17249),o=n(14255),s=n(78142),l=n(29903),c=n(46700),u=n(83474),d=n(38430),p=n(10785),m=n(3285),f=n(61998),v=n(4637),g=Spicetify.ReactComponent.PodcastShowMenu=i.memo((function(e){var t=e.uri,n=e.sharingInfo,i=e.canPin,g=void 0===i?l.TL.NO:i,h=e.isPinned,k=void 0!==h&&h,y=e.useDialogForUnfollow,b=void 0!==y&&y,S=e.isInLibrary,x=(0,c.T)(t).spec,O=(0,r.W6)(p.hT,{loadingValue:!1});return(0,v.jsx)(s.ZP,{value:"show",children:(0,v.jsxs)(o.v,{children:[(0,v.jsx)(m.K,{uri:t,useDialog:b,initialState:S}),g!==l.TL.NO&&(0,v.jsx)(f.X,{uri:t,canPin:g,isPinned:k,type:u.p.AUDIOBOOK,spec:x}),(0,v.jsxs)(d.q,{children:[(0,v.jsx)(m.Jx,{spec:x,uri:t,sharingInfo:n,displayText:a.ag.get("context-menu.copy-book-link")}),(0,v.jsx)(m.W2,{spec:x,uri:t,type:u.p.AUDIOBOOK})]}),O&&(0,v.jsx)(m.tz,{spec:x,uri:t}),(0,v.jsx)(m.h$,{spec:x,divider:"before",uri:t})]})})}))},9408:(e,t,n)=>{"use strict";n.d(t,{r:()=>d});var i=n(59496),r=n(38674),a=n(10785),o=n(14255),s=n(78142),l=n(46700),c=n(3285),u=n(4637),d=i.memo((function(e){var t=e.uri,n=e.contextUri,i=e.uid,d=e.showUri,p=e.isLocked,m=(0,l.T)(t).spec,f=(0,r.W6)(a.s6,{loadingValue:!1});return p?null:(0,u.jsx)(s.ZP,{value:"chapter",children:(0,u.jsxs)(o.v,{children:[!p&&(0,u.jsx)(c.x9,{spec:m,uris:[t]}),i&&!p&&(0,u.jsx)(c.Qf,{spec:m,uids:[i],uris:[t],contextUri:n}),!p&&(0,u.jsx)(c.f0,{uri:t,showUri:d,spec:m}),f&&(0,u.jsx)(c.tz,{spec:m,uri:t})]})})}))},22355:(e,t,n)=>{"use strict";n.d(t,{k:()=>k});var i=n(59496),r=n(38674),a=n(17249),o=n(10785),s=n(14255),l=n(78142),c=n(81793),u=n(18255),d=n(46700),p=n(83474),m=n(36502),f=n(9408),v=n(38430),g=n(3285),h=n(4637),k=i.memo((function(e){var t=e.uri,n=e.isPlayed,i=void 0===n?null:n,k=e.contextUri,y=e.uid,b=e.sharingInfo,S=e.onMarkAsPlayed,x=void 0===S?function(){}:S,O=e.canBeRemovedFromPlaylist,w=(0,c.I)(t),N=(0,d.T)(t).spec,_=(0,r.W6)(o.nz,{loadingValue:!1});return null!=w&&w.episodeOrChapter&&(0,u.Ey)(w.episodeOrChapter)?(0,h.jsx)(f.r,{uri:t,contextUri:k,uid:y}):null!=w&&w.episodeOrChapter?(0,h.jsx)(l.ZP,{value:"episode",children:(0,h.jsxs)(s.v,{children:[(0,h.jsx)(g.x9,{spec:N,uris:[t]}),y&&(0,h.jsx)(g.Qf,{spec:N,uids:[y],uris:[t],contextUri:k}),(0,h.jsx)(g.EC,{uri:t}),y&&(0,h.jsx)(g.Xu,{uris:[t],uids:[y],playlistUri:k||"",canBeRemoved:O}),(0,h.jsx)(g.pJ,{spec:N,uri:t}),(0,h.jsx)(g.IW,{uri:t,contextUri:k}),null!==i&&(0,h.jsx)(g.Fg,{uri:t,isPlayed:i,onChange:x}),(0,h.jsx)(m.p,{spec:N,uris:[t]}),(0,h.jsxs)(v.q,{divider:"before",children:[(0,h.jsx)(g.Jx,{spec:N,uri:t,sharingInfo:b,displayText:a.ag.get("context-menu.copy-episode-link")}),(0,h.jsx)(g.W2,{spec:N,uri:t,type:p.p.EPISODE})]}),_&&(0,h.jsx)(g.tz,{spec:N,uri:t}),(0,h.jsx)(g.h$,{divider:"before",uri:t,spec:N,context:k})]})}):null}))},97914:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});n(82088),n(43125),n(27639),n(16366),n(96669),n(61235),n(69724),n(39965),n(83001),n(71756),n(39975),n(59538),n(79611),n(95675),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(83014),a=(n(92346),n(30246),n(69109),n(90511),n(81289),n(22369),n(89887)),o=n(16204);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var d=function e(t,n){var i,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],m=c(n);try{for(m.s();!(i=m.n()).done;){var f=i.value;if((0,o.lU)(f)||(0,o.no)(f)){var v=(0,a.B)(t,f.name),g=null!==v?[].concat((0,r.Z)(d),[v]):d;(0,o.lU)(f)&&e(t,f.items,s,u,g,[].concat((0,r.Z)(p),[f.name])),((0,o.no)(f)||s&&(0,o.lU)(f))&&(null==g?void 0:g.length)>0&&u.push(l(l({},f),{},{displayTitle:f.name,displaySubtitle:p.length>0?p.join(" • "):null,matchScore:g.reduce((function(e,t){return e+t.reduce((function(e,t){return e+t.range.length}),0)}),0)}))}}}catch(e){m.e(e)}finally{m.f()}return u.sort((function(e,t){return t.matchScore-e.matchScore}))}},50116:(e,t,n)=>{"use strict";function i(e){return"displayTitle"in e}n.d(t,{f:()=>i})},77728:(e,t,n)=>{"use strict";n.d(t,{N:()=>u});var i=n(59496),r=n(14255),a=n(78142),o=n(46700),s=n(36502),l=n(3285),c=n(4637),u=i.memo((function(e){var t=e.uri,n=e.uid,i=e.contextUri,u=e.canBeRemovedFromPlaylist,d=(0,o.T)(t).spec;return(0,c.jsx)(a.ZP,{value:"local-file",children:(0,c.jsxs)(r.v,{children:[(0,c.jsx)(l.x9,{spec:d,uris:[t]}),n&&(0,c.jsx)(l.Qf,{spec:d,uids:[n],uris:[t],contextUri:i}),n&&(0,c.jsx)(l.Xu,{uris:[t],uids:[n],playlistUri:i||"",canBeRemoved:u}),(0,c.jsx)(s.p,{spec:d,uris:[t]})]})})}))},55411:(e,t,n)=>{"use strict";n.d(t,{X:()=>P});var i=n(45389),r=n(39130),a=(n(30246),n(61235),n(69724),n(95675),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(17249),s=n(86517),l=n(58460),c=n(87360),u=n(14255),d=n(78142),p=n(29903),m=n(19873),f=n(49756),v=n(84363),g=n(46700),h=n(83474),k=n(77733),y=n(36502),b=n(38430),S=n(3285),x=n(95390),O=n(54449),w=n(40636),N=n(61998),_=n(4637);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var C=Spicetify.ReactComponent.PlaylistMenu=a.memo((function(e){var t,n,i,a,c=e.uri,E=e.onRemoveCallback,C=e.isEnhanced,P=e.isPublished,I=e.canPin,j=void 0===I?p.TL.NO:I,A=e.isPinned,T=void 0!==A&&A,D=(0,f.ET)(c,{decorateFormatListData:!0}),R=(0,m.Z)(c),F=(0,r.Z)(R,1)[0],L=(0,g.T)(c).spec,M=!(null==D||null===(t=D.permissions)||void 0===t||!t.isPrivate),U=null!==(n=(0,v.p)(c))&&void 0!==n?n:P,Z=(0,l.U)(c).isEnhanced,B=null!=C?C:Z;return null!=D&&D.permissions&&!D.permissions.canView&&F?D&&(0,_.jsx)(d.ZP,{value:"playlist",children:(0,_.jsx)(u.v,{children:(0,_.jsx)(x.Zb,{uri:c,onRemoveCallback:E})})}):D&&(0,_.jsx)(d.ZP,{value:"playlist",children:(0,_.jsxs)(u.v,{children:[(0,_.jsx)(S.x9,{spec:L,uris:[c]}),D.isOwnedBySelf&&(0,_.jsx)(S.jj,{spec:L,divider:"before",uri:c,isCollaborative:D.isCollaborative}),F&&!M&&(0,_.jsx)(S.gh,{spec:L,divider:D.isOwnedBySelf?"after":"both",uri:c,isPublished:U,isCollaborative:D.isCollaborative}),D.isOwnedBySelf&&(0,_.jsx)(S.fc,{spec:L,uri:c,name:D.name,description:D.description,image:D.images[0]}),!D.isOwnedBySelf&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.tz,{spec:L,uri:c}),(0,_.jsx)(x.Zb,{uri:c,onRemoveCallback:E})]}),D.isOwnedBySelf&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.AM,{uri:c,spec:L,isEmpty:0===D.totalLength,name:D.name,displayText:o.ag.get("contextmenu.create-similar-playlist")}),(0,_.jsx)(S.R2,{spec:L,uri:c})]}),!B&&(0,_.jsx)(S.bs,{spec:L,uri:c}),(null===(i=D.permissions)||void 0===i?void 0:i.canAdministratePermissions)&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.DY,{spec:L,divider:"before",uri:c,isPrivate:M}),!B&&(0,_.jsx)(O.z,{uri:c})]}),(null===(a=D.permissions)||void 0===a?void 0:a.canCancelMembership)&&(0,_.jsx)(w.H,{spec:L,divider:"before",uri:c}),(D.isOwnedBySelf&&D.hasSpotifyTracks||B)&&(0,_.jsx)(s.g,{spec:L,uri:c}),(0,_.jsx)(S.Iy,{spec:L,uri:c}),(0,_.jsx)(k.I,{playlistUri:c,isInLibrary:F,spec:L}),(0,_.jsx)(y.p,{spec:L,uris:[c],isPlaylist:!0,isEmpty:0===D.totalLength}),j!==p.TL.NO&&(0,_.jsx)(N.X,{uri:c,canPin:j,isPinned:T,type:h.p.PLAYLIST,spec:L}),(D.isOwnedBySelf||!M)&&(0,_.jsxs)(b.q,{divider:"before",children:[(0,_.jsx)(S.Jx,{spec:L,uri:c,displayText:o.ag.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:M}),(0,_.jsx)(S.W2,{spec:L,uri:c,type:h.p.PLAYLIST})]}),!(null==D||!D.formatListData)&&(0,_.jsx)(S.aU,{divider:"before"}),(0,_.jsx)(S.h$,{spec:L,divider:"before",uri:c})]})})})),P=function(e){return(0,c.MW)(e.uri)?(0,_.jsx)(c.XL,{}):(0,_.jsx)(C,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}},42257:(e,t,n)=>{"use strict";n.d(t,{i:()=>p});n(162);var i=n(59496),r=n(59272),a=n(39130);var o=n(14255),s=n(78142),l=n(46700),c=n(36502),u=n(3285),d=n(4637),p=i.memo((function(e){var t=e.uri,n=e.tracks,p=function(e){var t,n,i=(0,r.EC)(e);if(null===i||i.type!==r.JM.STATION)return null;if(2===(null===(t=i.args)||void 0===t?void 0:t.length)){var o=(0,a.Z)(i.args,2),s=o[0],l=o[1];switch(s){case r.JM.ARTIST:return(0,r.WN)(l);case r.JM.ALBUM:return(0,r.jy)(l);case r.JM.TRACK:return(0,r.tn)(l);case r.JM.PLAYLIST:case r.JM.PLAYLIST_V2:return(0,r.FW)(l);default:return null}}if(4===(null===(n=i.args)||void 0===n?void 0:n.length)){var c=(0,a.Z)(i.args,4),u=c[0],d=c[2],p=c[3];if("user"===u&&d===r.JM.PLAYLIST)return(0,r.FW)(p)}return null}(t),m=(0,l.T)(t).spec,f=(0,i.useMemo)((function(){var e;return null!==(e=null==n?void 0:n.map((function(e){return e.uri})))&&void 0!==e?e:[]}),[n]),v=null;switch(null==p?void 0:p.type){case r.JM.ARTIST:v=(0,d.jsx)(u.m8,{uri:p.toURI()});break;case r.JM.ALBUM:v=(0,d.jsx)(u.ZI,{uri:p.toURI()});break;case r.JM.PLAYLIST:case r.JM.PLAYLIST_V2:v=(0,d.jsx)(u.SB,{uri:p.toURI()})}return(0,d.jsx)(s.ZP,{value:"radio",children:(0,d.jsxs)(o.v,{children:[v,(0,d.jsx)(c.p,{spec:m,uris:f}),(0,d.jsx)(u.h$,{spec:m,divider:"before",uri:t})]})})}))},16547:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var i=n(59496),r=n(14255),a=n(78142),o=n(3285),s=n(4637),l=i.memo((function(e){var t=e.position,n=e.onCreateCallback;return(0,s.jsx)(a.ZP,{value:"folder",children:(0,s.jsxs)(r.v,{children:[(0,s.jsx)(o.uj,{position:t,onCreateCallback:n}),(0,s.jsx)(o.K_,{position:t,onCreateCallback:n})]})})}))},69716:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});n(30246);var i=n(59496),r=n(38674),a=n(14255),o=n(78142),s=n(29903),l=n(46700),c=n(83474),u=n(10785),d=n(3285),p=n(61998),m=(n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(45389)),f=n(17249),v=n(19224),g=n(1003),h=n(20188),k=n(4637);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.uri,n=e.spec,r=(0,g.n)({uri:t},{featureIdentifier:"folder"}),a=r.togglePlay,o=r.isPlaying,s=r.isActive,l=(0,h.$P)(),c=(0,i.useCallback)((function(){a(),n&&l&&(o?l.logInteraction(n.playButtonFactory({uri:t}).hitPause({itemToBePaused:t})):s?l.logInteraction(n.playButtonFactory({uri:t}).hitResume({itemToBeResumed:t})):l.logInteraction(n.playButtonFactory({uri:t}).hitPlay({itemToBePlayed:t})))}),[s,o,l,n,a,t]);return(0,k.jsx)(v.s,{role:"menuitem",onClick:c,children:o?f.ag.get("pause"):f.ag.get("play")})},x=i.memo((function(e){return(0,k.jsx)(o.ZP,{value:"create-folder",children:(0,k.jsx)(S,b({},e))})})),O=n(61740),w=n(73691);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.uri,n=e.name,r=e.divider,a=e.spec,o=e.handleRename,s=(0,h.$P)(),l=(0,O.I0)(),c=(0,i.useCallback)((function(){a&&s.logInteraction(a.editButtonFactory({uri:t}).hitUiReveal()),l((0,w.UX)(n,o))}),[l,s,n,o,a,t]);return(0,k.jsx)(v.s,{role:"menuitem",divider:r,onClick:c,children:f.ag.get("contextmenu.rename")})},C=i.memo((function(e){return(0,k.jsx)(o.ZP,{value:"rename",children:(0,k.jsx)(E,_({},e))})})),P=i.memo((function(e){var t=e.reference,n=e.name,i=void 0===n?"":n,m=e.onRename,f=e.onCreateCallback,v=void 0===f?function(){}:f,g=e.onDeleteCallback,h=e.canPin,y=void 0===h?s.TL.NO:h,b=e.isPinned,S=void 0!==b&&b,O=(0,l.T)(t.uri).spec,w=(0,r.W6)(u.yA,{loadingValue:!1});return(0,k.jsx)(o.ZP,{value:"folder",children:(0,k.jsxs)(a.v,{children:[w?(0,k.jsx)(C,{spec:O,uri:t.uri,name:i,handleRename:m}):(0,k.jsx)(d.fW,{uri:t.uri,spec:O,onRename:m}),(0,k.jsx)(d.WQ,{uri:t.uri,divider:"after",onDeleteCallback:g}),y!==s.TL.NO&&(0,k.jsx)(p.X,{uri:t.uri,canPin:y,isPinned:S,type:c.p.FOLDER,spec:O}),(0,k.jsx)(d.uj,{position:{after:t},onCreateCallback:v}),(0,k.jsx)(d.K_,{position:{after:t},onCreateCallback:v}),(0,k.jsx)(x,{uri:t.uri,spec:O})]})})}))},12182:(e,t,n)=>{"use strict";n.d(t,{j:()=>w});n(30246),n(61235),n(69724);var i=n(59496),r=n(17249),a=n(86517),o=n(58460),s=n(29605),l=n(14255),c=n(78142),u=n(29903),d=n(49756),p=n(84363),m=n(46700),f=n(83474),v=n(77733),g=n(36502),h=n(38430),k=n(3285),y=n(95390),b=n(54449),S=n(40636),x=n(61998),O=n(4637),w=i.memo((function(e){var t,n,i,w,N=e.reference,_=e.onRename,E=e.isPublished,C=e.canPin,P=void 0===C?u.TL.NO:C,I=e.isPinned,j=void 0!==I&&I,A=e.useDialogForUnfollow,T=void 0!==A&&A,D=e.isInLibrary,R=N.uri,F=(0,s.t)().getCapabilities().canGetStation,L=(0,d.ET)(R),M=!(null==L||null===(t=L.permissions)||void 0===t||!t.isPrivate),U=(0,o.U)(R).isEnhanced,Z=null!==(n=(0,p.p)(R))&&void 0!==n?n:E,B=(0,m.T)(R).spec;return L&&(0,O.jsx)(c.ZP,{value:"playlist",children:(0,O.jsxs)(l.v,{children:[(0,O.jsx)(k.x9,{spec:B,uris:[R]}),F&&(0,O.jsx)(k.Jh,{spec:B,uri:R,displayText:r.ag.get("contextmenu.go-to-playlist-radio")}),L.isOwnedBySelf&&(0,O.jsx)(k.jj,{spec:B,divider:"before",uri:R,isCollaborative:L.isCollaborative}),!M&&(0,O.jsx)(k.gh,{spec:B,divider:L.isOwnedBySelf?"after":"both",uri:R,isPublished:Z,isCollaborative:L.isCollaborative}),L.isOwnedBySelf&&(0,O.jsx)(k.fc,{spec:B,uri:R,name:L.name,description:L.description,image:L.images[0]}),!L.isOwnedBySelf&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(k.tz,{spec:B,uri:R}),(0,O.jsx)(y.Zb,{uri:R,useDialog:T,initialState:D})]}),L.isOwnedBySelf&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(k.AM,{spec:B,uri:R,isEmpty:0===L.totalLength,name:L.name,displayText:r.ag.get("contextmenu.create-similar-playlist")}),(0,O.jsx)(k.R2,{spec:B,uri:R}),_&&(0,O.jsx)(k.fW,{uri:R,spec:B,onRename:_})]}),!U&&(0,O.jsx)(k.bs,{spec:B,uri:R}),(0,O.jsx)(k.uj,{position:{after:N},divider:"before"}),(0,O.jsx)(k.K_,{position:{after:N}}),(null===(i=L.permissions)||void 0===i?void 0:i.canAdministratePermissions)&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(k.DY,{spec:B,divider:"before",uri:R,isPrivate:M}),!U&&(0,O.jsx)(b.z,{uri:R})]}),(null===(w=L.permissions)||void 0===w?void 0:w.canCancelMembership)&&(0,O.jsx)(S.H,{spec:B,divider:"before",uri:R}),(L.isOwnedBySelf&&L.hasSpotifyTracks||U)&&(0,O.jsx)(a.g,{spec:B,uri:R}),(0,O.jsx)(k.Iy,{spec:B,uri:R}),(0,O.jsx)(v.I,{playlistUri:R,isInLibrary:!0,spec:B}),(0,O.jsx)(g.p,{spec:B,uris:[R],isPlaylist:!0}),P!==u.TL.NO&&(0,O.jsx)(x.X,{uri:R,canPin:P,isPinned:j,type:f.p.PLAYLIST,spec:B}),(L.isOwnedBySelf||!M)&&(0,O.jsxs)(h.q,{divider:"before",children:[(0,O.jsx)(k.Jx,{spec:B,uri:R,displayText:r.ag.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:M}),(0,O.jsx)(k.W2,{spec:B,uri:R,type:f.p.PLAYLIST})]})]})})}))},38430:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var i=n(59496),r=n(17249),a=n(3643),o=n(11446),s=n(78142),l=n(4637),c=i.memo((function(e){var t=e.children,n=e.divider,i=(0,a.S)();return(0,l.jsx)(s.ZP,{value:"share",children:(0,l.jsx)(o.W,{divider:n,displayText:r.ag.get("contextmenu.share"),placement:i?"left-start":"right-start",children:t})})}))},32563:(e,t,n)=>{"use strict";n.d(t,{M:()=>b});var i=n(59496),r=n(38674),a=n(17249),o=n(10785),s=n(14255),l=n(78142),c=n(29903),u=n(20463),d=n(18255),p=n(46700),m=n(83474),f=n(77812),v=n(38430),g=n(3285),h=n(95390),k=n(61998),y=n(4637),b=i.memo((function(e){var t=e.uri,n=e.sharingInfo,i=e.onRemoveCallback,b=e.canPin,S=void 0===b?c.TL.NO:b,x=e.isPinned,O=void 0!==x&&x,w=e.useDialogForUnfollow,N=e.isInLibrary,_=(0,p.T)(t).spec,E=(0,r.W6)(o.ej,{loadingValue:!1}),C=(0,u.l)(t).data;return C&&(0,d.l6)(C)?(0,y.jsx)(f.X,{uri:t,sharingInfo:n,useDialogForUnfollow:!0,isInLibrary:N}):C&&(0,y.jsx)(l.ZP,{value:"show",children:(0,y.jsxs)(s.v,{children:[(0,y.jsx)(h.xM,{uri:t,onRemoveCallback:i,useDialog:w,initialState:N}),S!==c.TL.NO&&(0,y.jsx)(k.X,{uri:t,canPin:S,isPinned:O,type:m.p.SHOW,spec:_}),(0,y.jsxs)(v.q,{children:[(0,y.jsx)(g.Jx,{spec:_,uri:t,sharingInfo:n,displayText:a.ag.get("context-menu.copy-show-link")}),(0,y.jsx)(g.W2,{spec:_,uri:t,type:m.p.SHOW})]}),E&&(0,y.jsx)(g.tz,{spec:_,uri:t}),(0,y.jsx)(g.h$,{spec:_,divider:"before",uri:t})]})})}))},98235:(e,t,n)=>{"use strict";n.d(t,{$:()=>S});var i=n(59496),r=n(63660),a=n(59272),o=n(17249),s=n(14255),l=n(78142),c=n(20188),u=n(46700),d=n(83474),p=n(36502),m=(n(162),n(30246),n(3285)),f=n(9294),v=Spicetify.GraphQL.Definitions["queryTrackArtists"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryTrackArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]},g=n(3643),h=n(11446),k=n(4637),y=i.memo((function(e){var t,n,i,r=e.trackUri,a=e.contextUri,s=[],c=(n={uri:r},(0,f.a)(v,n,i));"Track"===(null===(t=c.data)||void 0===t?void 0:t.trackUnion.__typename)&&(s=c.data.trackUnion.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}})));var u=(0,g.S)();return(0,k.jsx)(h.W,{displayText:o.ag.get("contextmenu.go-to-artist"),depth:1,placement:u?"left-start":"right-start",children:(0,k.jsx)(l.ZP,{value:"go-to-artist",children:s.map((function(e){var t=e.uri,n=e.name;return(0,k.jsx)(m.m8,{displayText:n,uri:t,contextUri:a},t)}))})})})),b=n(38430),S=i.memo((function(e){var t,n=e.uri,f=e.uid,v=e.artists,g=void 0===v?[]:v,h=e.albumUri,S=e.contextUri,x=e.sharingInfo,O=e.removePlaylistItems,w=e.isRecommendation,N=e.removeRecommendation,_=e.addRecommendation,E=e.canBeRemovedFromPlaylist,C=(0,c.fU)(r.createDesktopTrackContextMenuEventFactory,{data:{uri:n}}),P=C.spec,I=C.logger,j=C.UBIFragment,A=(0,u.T)(n).spec,T=(0,i.useCallback)((function(){var e;_&&(_(),S&&(0,a.nK)(S)?e=P.addRecommendationFactory().hitAddToPlaylist({playlist:null!=S?S:"",itemToBeAdded:n}):S&&(0,a.zO)(S)&&(e=P.addRecommendationFactory().hitLike({itemToBeLiked:n})),e&&I.logInteraction(e))}),[S,I,_,P,n]),D=(0,i.useCallback)((function(){N&&(N(),I.logInteraction(P.removeRecommendationFactory().hitRemoveRecommendation({contextUri:null!=S?S:"",recommendedItemUri:n})))}),[S,I,N,P,n]);return(0,k.jsx)(j,{spec:P,children:(0,k.jsx)(l.ZP,{value:"track","":"track-menu",children:(0,k.jsxs)(s.v,{children:[(0,k.jsx)(m.x9,{spec:A,uris:[n]}),f&&(0,k.jsx)(m.Qf,{spec:A,uids:[f],uris:[n],contextUri:S}),(0,k.jsx)(m.Jh,{spec:A,uri:n,displayText:o.ag.get("contextmenu.go-to-song-radio"),divider:"before"}),g.length>1?(0,k.jsx)(y,{trackUri:n,contextUri:S}):(0,k.jsx)(m.m8,{uri:null==g||null===(t=g[0])||void 0===t?void 0:t.uri,contextUri:S}),(0,k.jsx)(m.ZI,{uri:h,contextUri:S,highlightedUri:n}),(0,k.jsx)(m.AA,{uri:n,displayText:o.ag.get("contextmenu.show-credits"),divider:"after",ubiLogger:I,contextMenuSpec:P}),(0,k.jsx)(m.V8,{uri:n}),w&&N?(0,k.jsx)(m.ai,{removeRecommendation:D}):f&&(0,k.jsx)(m.Xu,{uris:[n],uids:[f],playlistUri:S||"",removePlaylistItems:O,canBeRemoved:E}),w&&_?(0,k.jsx)(m.CW,{addRecommendation:T}):null,(0,k.jsx)(p.p,{spec:A,uris:[n],isRecommendation:w}),(0,k.jsxs)(b.q,{divider:"before",children:[(0,k.jsx)(m.Jx,{spec:A,uri:n,sharingInfo:x,displayText:o.ag.get("context-menu.copy-track-link")}),(0,k.jsx)(m.W2,{spec:A,uri:n,type:d.p.TRACK})]}),(0,k.jsx)(m.h$,{spec:A,divider:"before",uri:n,context:S})]})})})}))},89418:(e,t,n)=>{"use strict";n.d(t,{I:()=>V});n(30246);var i=n(59496),r=n(61740),a=n(17249),o=n(58077),s=n(80274),l=n(10785),c=n(29893),u=n(14255),d=n(78142),p=n(1074),m=n(46700),f=n(3285),v=n(45389),g=n(8850),h=n(39130),k=n(10995),y=n.n(k),b=(n(59538),n(79611),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(48472)),S=n(73691),x=n(76956),O=n(19224),w=n(18042),N=n(60808),_=n(28101),E=n(90775),C=n(4637);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=e.currentUserUri,n=e.uri,o=e.name,s=e.divider,l=(0,E.o)(),c=!(0,x.k)(),u=function(e,t,n){var a=(0,i.useState)(!1),o=(0,h.Z)(a,2),s=o[0],l=o[1],c=(0,r.I0)(),u=(0,w.t)();(0,i.useEffect)((function(){e&&(0,_.getIsBlocked)(N.b.getInstance(),{currentUserUri:e,uri:t}).then((function(e){if(u()){if(200!==e.status)throw new Error("Invalid response from socialgraph");var t,n;l((null===(t=e.body)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.is_dismissed)||!1)}}))}),[e,t,u]);var d=function(){var n=(0,g.Z)(y().mark((function n(){return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,_.unblockUser)(N.b.getInstance(),{currentUserUri:e,uri:t});case 4:c((0,b.MK)());case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{isBlocked:s,blockUser:function(){e&&c((0,S.Vr)(t,n))},unblockUser:d}}(t,n,o),d=u.isBlocked,p=u.blockUser,m=u.unblockUser,f=(0,i.useCallback)((0,g.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l({targetUri:n,intent:d?"unblock":"block",type:"click"}),!d){e.next=6;break}return e.next=4,m();case 4:e.next=8;break;case 6:return e.next=8,p();case 8:case"end":return e.stop()}}),e)}))),[l,n,p,m,d]);if(!t||t===n)return null;var v=d?a.ag.get("contextmenu.unblock"):a.ag.get("contextmenu.block");return(0,C.jsx)(O.s,{role:"menuitem",divider:s,disabled:c,onClick:f,children:v})},A=i.memo((function(e){return(0,C.jsx)(d.ZP,{value:"block-user",children:(0,C.jsx)(j,I({},e))})})),T=i.memo((function(e){var t=e.onClick,n=e.currentUserUri,i=e.uri,r=e.divider;return t&&n===i?(0,C.jsx)(d.ZP,{value:"edit-profile",children:(0,C.jsx)(O.s,{role:"menuitem",divider:r,onClick:t,children:a.ag.get("contextmenu.edit-profile")})}):null})),D=n(8150),R=n(43597),F=n(20188);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(){},Z=function(e){var t=e.uri,n=e.divider,o=e.onRemoveCallback,s=void 0===o?U:o,l=(0,F.fU)(D.M,{data:{uri:t}}),u=l.spec,d=l.logger,p=(0,E.o)(),m=!(0,x.k)(),f=(0,r.v9)(c.Gg).user,v=(0,R.H)(t),g=(0,h.Z)(v,2),k=g[0],y=g[1],b=(0,i.useCallback)((function(){var e=u.followButtonFactory();p({targetUri:t,intent:k?"unfollow":"follow",type:"click"}),k?(y(!1),d.logInteraction(e.hitUnfollow({itemToBeUnfollowed:t})),s(t)):(y(!0),d.logInteraction(e.hitFollow({itemToBeFollowed:t})))}),[k,d,p,s,y,u,t]);if(f&&f.uri===t)return null;var S=k?a.ag.get("contextmenu.unfollow"):a.ag.get("contextmenu.follow");return(0,C.jsx)(O.s,{role:"menuitem",testid:"follow-user-context-menu-item",divider:n,disabled:m,onClick:b,children:S})},B=i.memo((function(e){return(0,C.jsx)(d.ZP,{value:"follow-user",children:(0,C.jsx)(Z,M({},e))})})),V=i.memo((function(e){var t=e.uri,n=e.onEditProfileCallback,i=(0,r.v9)(c.Gg).user,v=(0,m.T)(t).spec,g=(0,s.J)(p.n5.getProfile,[{uri:t}]),h=g.data;return g.loading?null:h?(0,C.jsx)(d.ZP,{value:"user",children:(0,C.jsxs)(u.v,{children:[(0,C.jsx)(B,{uri:t}),(0,C.jsx)(o.F,{property:l.Zj,renderNewExperience:function(){return(0,C.jsx)(A,{uri:h.uri,name:h.name,currentUserUri:null==i?void 0:i.uri})}}),(0,C.jsx)(T,{onClick:n,uri:t,currentUserUri:null==i?void 0:i.uri}),(0,C.jsx)(f.tz,{spec:v,uri:t,canReportUser:!h.report_abuse_disabled,currentUserUri:null==i?void 0:i.uri}),(0,C.jsx)(f.Jx,{spec:v,uri:t,displayText:a.ag.get("contextmenu.share.copy-profile-link")})]})}):null}))},25229:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});n(39723),n(21861);var i=n(27915),r=n(92449),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=n(45389),u=(n(69109),n(72304),n(22369),n(62780),n(43125),n(27639),n(4302),n(66469),n(29543),n(70969),n(63691),n(162),n(16366),n(31781),n(59496)),d=n(84875),p=n.n(d),m=n(59272),f=n(19496),v=n.n(f),g=function(){return!1!==v().getParser(window.navigator.userAgent).satisfies({"Microsoft Edge":">=17"})},h=n(4637);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var y=function(e){(0,o.Z)(n,e);var t=k(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,a.Z)(e),"handleDragOver",(function(t){e.getMatchingMimeTypes(t).length>0&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")})),(0,c.Z)((0,a.Z)(e),"handleDragEnter",(function(t){e.enterEventCount&&!t.relatedTarget||(e.enterEventCount++,1===e.enterEventCount&&e.getMatchingMimeTypes(t).length>0&&(e.props.onDragEnter(t),e.setState({isDropTargetActive:!0})))})),(0,c.Z)((0,a.Z)(e),"handleDragLeave",(function(t){e.leaveEventCount++,e.leaveEventCount===e.enterEventCount&&e.getMatchingMimeTypes(t).length>0&&(e.enterEventCount=0,e.leaveEventCount=0,e.props.onDragLeave(t),e.setState({isDropTargetActive:!1}))})),(0,c.Z)((0,a.Z)(e),"handleDragEnd",(function(){e.enterEventCount=0,e.leaveEventCount=0})),(0,c.Z)((0,a.Z)(e),"handleDrop",(function(t){if(0!==e.getMatchingMimeTypes(t).length){var n=e.props,i=n.onDragLeave,r=n.onDrop,a=e.getMatchingDropData(t);e.enterEventCount=0,e.leaveEventCount=0;var o=t.defaultPrevented;t.preventDefault(),i(t),o||r(t,a),e.setState({isDropTargetActive:!1})}})),e.state={isDropTargetActive:!1},e.enterEventCount=0,e.leaveEventCount=0,e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){document.body.addEventListener("dragend",this.handleDragEnd)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this;return t.isDropTargetActive!==this.state.isDropTargetActive||e.children!==this.props.children||e.onDragEnter!==this.props.onDragEnter||e.onDragLeave!==this.props.onDragLeave||e.onDrop!==this.props.onDrop||e.types.length!==this.props.types.length||e.types.some((function(e,t){return e!==n.props.types[t]}))}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("dragend",this.handleDragEnd)}},{key:"getMatchingMimeTypes",value:function(e){var t=this.props.types;return Array.from(e.dataTransfer.types).filter((function(e){return t.includes(e)}))}},{key:"getMatchingDropData",value:function(e){var t=this.getMatchingMimeTypes(e),n={};t.forEach((function(t){var i=e.dataTransfer.getData(t),r=0===t.indexOf("text/x-spotify"),a=r?i.split("\n"):[i];n[t]=a.map((function(e){if(r){var t=(0,m.EC)(e);if(t)return t.toURI()}return e})).filter((function(e){return!!e}))}));var i=e.dataTransfer.getData("text/plain");return n.all=i?i.split("\n").map((function(e){var t=(0,m.EC)(e);return t?t.toURI():e})):[],n}},{key:"render",value:function(){var e=this.props,t=e.types,n=e.as,i=e.testId,r=e.className,a=n,o=t.filter(Boolean).map((function(e){return"GlueDropTarget--".concat(e.replace("text/x-spotify-",""))}));return(0,h.jsx)(a,{className:p()("GlueDropTarget",o,{"GlueDropTarget--active":this.state.isDropTargetActive},r),onDragOver:g()?this.handleDragOver:void 0,onDragEnter:g()?this.handleDragEnter:void 0,onDragLeave:g()?this.handleDragLeave:void 0,onDrop:g()?this.handleDrop:void 0,onContextMenu:this.props.onContextMenu,"":i,children:this.props.children})}}]),n}(u.Component);y.defaultProps={as:"div",children:null,onDragEnter:function(){},onDragLeave:function(){},onDrop:function(){},onContextMenu:function(){},types:[],className:""}},50703:(e,t,n)=>{"use strict";n.d(t,{Fu:()=>c,UD:()=>p,ZP:()=>d,aN:()=>u});var i,r,a=n(45389),o=n(59272),s=n(9587),l=function(e){return e.TRACKS="text/x-spotify-tracks",e.ALBUMS="text/x-spotify-albums",e.ARTISTS="text/x-spotify-artists",e.PLAYLISTS="text/x-spotify-playlists",e.PLAYLISTS_V2="text/x-spotify-playlists",e.FOLDERS="text/x-spotify-folders",e.USERS="text/x-spotify-users",e.SHOWS="text/x-spotify-shows",e.EPISODES="text/x-spotify-episodes",e.LOCAL_TRACKS="text/x-spotify-local-tracks",e.LOCAL_ALBUMS="text/x-spotify-local-albums",e.LOCAL_ARTISTS="text/x-spotify-local-artists",e.COLLECTION_ALBUMS="text/x-spotify-collection-albums",e.COLLECTION_ARTISTS="text/x-spotify-collection-artists",e}({}),c=(0,s.y)(l),u=(i={},(0,a.Z)(i,o.JM.TRACK,l.TRACKS),(0,a.Z)(i,o.JM.ALBUM,l.ALBUMS),(0,a.Z)(i,o.JM.ARTIST,l.ARTISTS),(0,a.Z)(i,o.JM.PLAYLIST,l.PLAYLISTS),(0,a.Z)(i,o.JM.PLAYLIST_V2,l.PLAYLISTS_V2),(0,a.Z)(i,o.JM.FOLDER,l.FOLDERS),(0,a.Z)(i,o.JM.PROFILE,l.USERS),(0,a.Z)(i,o.JM.SHOW,l.SHOWS),(0,a.Z)(i,o.JM.EPISODE,l.EPISODES),(0,a.Z)(i,o.JM.LOCAL,l.LOCAL_TRACKS),(0,a.Z)(i,o.JM.LOCAL_ALBUM,l.LOCAL_ALBUMS),(0,a.Z)(i,o.JM.LOCAL_ARTIST,l.LOCAL_ARTISTS),(0,a.Z)(i,o.JM.COLLECTION_ALBUM,l.COLLECTION_ALBUMS),(0,a.Z)(i,o.JM.COLLECTION_ARTIST,l.COLLECTION_ARTISTS),i);const d=u;var p=(r={},(0,a.Z)(r,l.TRACKS,o.JM.TRACK),(0,a.Z)(r,l.ALBUMS,o.JM.ALBUM),(0,a.Z)(r,l.ARTISTS,o.JM.ARTIST),(0,a.Z)(r,l.PLAYLISTS,o.JM.PLAYLIST),(0,a.Z)(r,l.PLAYLISTS_V2,o.JM.PLAYLIST_V2),(0,a.Z)(r,l.FOLDERS,o.JM.FOLDER),(0,a.Z)(r,l.USERS,o.JM.PROFILE),(0,a.Z)(r,l.SHOWS,o.JM.SHOW),(0,a.Z)(r,l.EPISODES,o.JM.EPISODE),(0,a.Z)(r,l.LOCAL_TRACKS,o.JM.LOCAL),(0,a.Z)(r,l.LOCAL_ALBUMS,o.JM.LOCAL_ALBUM),(0,a.Z)(r,l.LOCAL_ARTISTS,o.JM.LOCAL_ARTIST),(0,a.Z)(r,l.COLLECTION_ALBUMS,o.JM.COLLECTION_ALBUM),(0,a.Z)(r,l.COLLECTION_ARTISTS,o.JM.COLLECTION_ARTIST),r)},62599:(e,t,n)=>{"use strict";n.d(t,{$:()=>m});n(4302),n(66469),n(90511),n(30246),n(162);var i=n(87903),r=n(17249),a=n(40787),o=n(9271),s=n(24122),l=n(59496),c=n(31895),u=n(58134),d=n(4637);function p(e){return e.includes("Spotify")?e:"Spotify – ".concat(e)}var m=function(e){var t,n,m,f,v,g,h,k=e.children,y=e.usePlayingItem,b=p(k);t=k,f=(0,u.Oh)().mainLandmarkRef,v=(0,c.D)(),g=null===(n=v.location)||void 0===n||null===(m=n.state)||void 0===m?void 0:m.preventMoveFocus,(h=(0,l.useRef)(v.length<2)).current=v.length<2,(0,l.useEffect)((function(){var e=f.current;!g&&!h.current&&e&&t&&(e.setAttribute("aria-label",t),e.focus())}),[t,f,g]);var S=(0,a.IK)().isPlaying,x=(0,o.Y)((function(e){return null==e?void 0:e.item}));return x&&(S||y)&&((0,s.G_)(x)?b=[x.name,x.artists.map((function(e){return e.name})).join(r.ag.getSeparator())].join(" • "):(0,s.iw)(x)?b=[x.name,x.show.name].join(" • "):(0,s.k6)(x)&&(b=p(r.ag.get("ad-formats.advertisement")))),(0,d.jsx)(i.q,{defaultTitle:"Spotify",defer:!1,children:(0,d.jsx)("title",{children:b})})}},60817:(e,t,n)=>{"use strict";n.d(t,{$:()=>i.$});var i=n(62599)},17646:(e,t,n)=>{"use strict";n.d(t,{$:()=>v});var i=n(59496),r=n(84875),a=n.n(r),o=n(30214),s=n(17249),l=n(48850),c=n(76820),u=n(1188),d=n(77137),p=n(56766);const m="hcxPtZcvjM07S6ydT685";var f=n(4637),v=i.memo((function(e){var t=e.uri,n=e.className,i=e.size,r=void 0===i?16:i,v=e.as,g=void 0===v?"div":v,h=(0,c._)(t).availability,k=(0,u.A)(t);return h===l.Om.NO?null:(0,f.jsx)(g,{className:a()(m,n),children:h===l.Om.DOWNLOADING?(0,f.jsx)(p.e,{percentage:k.percentage,size:r}):h===l.Om.WAITING?(0,f.jsx)(d.l,{size:r}):h===l.Om.YES?(0,f.jsx)(o.E,{iconSize:r,title:s.ag.get("shared.library.filter.downloaded")}):null})}))},77137:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});n(37193),n(40265),n(69109);var i=n(59496),r=n(4637),a=(0,i.memo)((function(e){var t=e.size,n=2e3,i=20*Math.PI,a=i-.8*i,o=Math.floor(Date.now()%n*360/n);return(0,r.jsx)("svg",{height:t,role:"img",width:t,viewBox:"0 0 24 24",children:(0,r.jsx)("circle",{strokeDasharray:"".concat(i," ").concat(i),strokeDashoffset:a,stroke:"currentColor",strokeWidth:"2",fill:"transparent",r:10,cx:"12",cy:"12",children:(0,r.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"".concat(o," 12 12"),to:"".concat(360+o," 12 12"),dur:"".concat(n,"ms"),repeatCount:"indefinite"})})})}))},90162:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var i=n(45389),r=(n(79611),n(40265),n(22369),n(46743),n(84875)),a=n.n(r),o=n(49210);const s="main-dropDown-dropDown",l="main-dropDown-isSafari";var c=n(4637),u=function(e){var t=e.value,n=e.id,r=e.children,u=e.disabled,d=e.onSelect,p=e.className,m=e.dir;return(0,c.jsx)("span",{className:p,children:(0,c.jsx)("select",{className:a()(s,(0,i.Z)({},l,(0,o.G)())),value:null==t?void 0:t.toString(),id:n,disabled:u,onBlur:function(){},onChange:function(e){d(e.target.value)},dir:m,children:r})})}},53391:(e,t,n)=>{"use strict";n.d(t,{F:()=>g});var i=n(45389),r=n(84875),a=n.n(r),o=n(92440),s=n(10506),l=n(17249);const c="main-editImage-buttonContainer",u="main-editImageButton-image",d="main-editImageButton-overlay",p="main-editImageButton-rounded",m="main-editImageButton-icon",f="main-editImageButton-copy";var v=n(4637),g=function(e){var t,n=e.overlay,r=void 0!==n&&n,g=e.rounded,h=void 0!==g&&g,k=e.onClick;return(0,v.jsx)("div",{className:c,children:(0,v.jsx)("button",{"":"edit-image-button",className:a()(u,(t={},(0,i.Z)(t,d,r),(0,i.Z)(t,p,h),t)),"aria-haspopup":"true",onClick:k,type:"button",children:(0,v.jsxs)("div",{className:a()(m,"icon"),children:[(0,v.jsx)(o.y,{iconSize:48,"aria-hidden":"true"}),(0,v.jsx)(s.D,{variant:"ballad",className:f,children:l.ag.get("choose_photo")})]})})})}},4319:(e,t,n)=>{"use strict";n.d(t,{zs:()=>Ne,YQ:()=>Oe});var i=n(8850),r=n(39130),a=n(45389),o=n(10995),s=n.n(o),l=(n(5538),n(16366),n(31781),n(99329),n(72649),n(63691),n(79611),n(40265),n(22369),n(46743),n(4302),n(66469),n(94562),n(162),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),c=n(84875),u=n.n(c),d=n(30999),p=n(10506),m=n(14268),f=n(98148),v=n(67212),g=n(7626),h=n(72032),k=n(25403),y=n(63892),b=n(59272),S=n(17249),x=(n(90511),352),O="100%",w={frameBorder:0,allowFullScreen:!0,allow:["autoplay","clipboard-write","encrypted-media","fullscreen","picture-in-picture"].join("; "),loading:"lazy"},N=(n(81289),n(20362),n(18819),[1,60,3600]),_=[3600,60,1],E={seconds:NaN,humanString:"-:--"};function C(e){if(!isFinite(e))return E.humanString;var t=Math.round(e);return _.reduce((function(e,n,i){var r=0===e.length?1:2;if(t>=n||e.length>0||i===N.length-2){var a=Math.floor(t/n);t-=a*n,e.push(a.toString().padStart(r,"0"))}return e}),[]).join(":")}function P(e){var t=NaN;if("number"==typeof e)t=Math.round(e);else if("string"==typeof e){var n=e.split(":");n.length<=N.length&&(t=n.reverse().reduce((function(e,t,n){var i;return e+=((i=parseInt(t,10))>=0?i:NaN)*N[n]}),0))}return isNaN(t)?E:{seconds:t,humanString:C(t)}}var I=n(78142),j=n(33390),A=n(56406),T=n(18255),D=n(83474),R=n(2708);n(83001),n(27639),n(71756),n(70238),n(45880),n(69109);var F=n(28930),L=n(90775),M=n(90162),U=n(63461);const Z="main-embedWidgetGenerator-container",B="main-embedWidgetGenerator-contentCode",V="main-embedWidgetGenerator-visible",H="main-embedWidgetGenerator-code",G="main-embedWidgetGenerator-timestampInput",W="main-embedWidgetGenerator-content",z="main-embedWidgetGenerator-contentHeader",K="main-embedWidgetGenerator-contentFooter",Y="main-embedWidgetGenerator-contentIframe",q="main-embedWidgetGenerator-copyWrapper",Q="main-embedWidgetGenerator-copyBtn",J="main-embedWidgetGenerator-darkControl",X="main-embedWidgetGenerator-widthField",$="main-embedWidgetGenerator-tooltipInitiator",ee="main-embedWidgetGenerator-tooltip",te="main-embedWidgetGenerator-transControl",ne="main-embedWidgetGenerator-header",ie="main-embedWidgetGenerator-closeBtn",re="main-embedWidgetGenerator-theme",ae="main-embedWidgetGenerator-themeDescription",oe="main-embedWidgetGenerator-themeRadio",se="main-embedWidgetGenerator-active",le="main-embedWidgetGenerator-terms",ce="main-embedWidgetGenerator-dimensionsContainer",ue="main-embedWidgetGenerator-dimensionLabel",de="main-embedWidgetGenerator-dimensionField",pe="main-embedWidgetGenerator-crossSep",me="main-embedWidgetGenerator-startAt",fe="main-embedWidgetGenerator-loadingIndicator";var ve,ge=n(4637);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){return e[e.PODCAST_AUDIO=0]="PODCAST_AUDIO",e[e.PODCAST_VIDEO=1]="PODCAST_VIDEO",e[e.TRACK=2]="TRACK",e[e.PLAYLIST=3]="PLAYLIST",e[e.ARTIST=4]="ARTIST",e[e.ALBUM=5]="ALBUM",e}({}),be={disallow:{timestamp:!0,theme:!1,width:!1},defaults:{theme:"1",height:x,width:O},theme:[["1",null],["0","#282828"]],height:[[x,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},Se=(ve={},(0,a.Z)(ve,ye.PODCAST_AUDIO,{disallow:{timestamp:!1,theme:!1,width:!1},defaults:{theme:"1",height:x,width:O},theme:[["1",null],["0","#282828"]],height:[[x,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}}),(0,a.Z)(ve,ye.PODCAST_VIDEO,{disallow:{timestamp:!1,theme:!1,width:!0},defaults:{theme:"1",height:351,width:624},theme:[["1",null],["0","#282828"]],height:[[351,"normal"],[279,"compact"]],constraints:{width:{min:400,max:700,minPercentage:40,maxPercentage:100}}}),(0,a.Z)(ve,ye.TRACK,be),(0,a.Z)(ve,ye.PLAYLIST,be),(0,a.Z)(ve,ye.ARTIST,be),(0,a.Z)(ve,ye.ALBUM,be),ve),xe={disallow:{timestamp:!0,theme:!0,width:!0},defaults:{theme:"1",height:x,width:O},theme:[],height:[],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}};var Oe=function(e){switch(e){case D.p.SHOW:return S.ag.get("ewg.title.show");case D.p.AUDIOBOOK:return S.ag.get("ewg.title.audiobook");case D.p.EPISODE:return S.ag.get("ewg.title.episode");case D.p.TRACK:return S.ag.get("ewg.title.track");case D.p.ALBUM:return S.ag.get("ewg.title.album");case D.p.ARTIST:return S.ag.get("ewg.title.artist");case D.p.PLAYLISTV2:case D.p.PLAYLIST:return S.ag.get("ewg.title.playlist");default:return S.ag.get("ewg.title")}},we=function(e){var t=e.uri,n=e.currentTrackUri,o=e.currentPosition,c=e.isOpen,O=e.entityType,N=(0,l.useMemo)((function(){return(0,b.EC)(t)}),[t]),_=n===t,E=Oe(O),C=(0,l.useState)(null),I=(0,r.Z)(C,2),ve=I[0],he=I[1],be=(0,l.useState)(null),we=(0,r.Z)(be,2),Ne=we[0],_e=we[1],Ee=(0,l.useState)(null),Ce=(0,r.Z)(Ee,2),Pe=Ce[0],Ie=Ce[1],je=(0,l.useState)(null),Ae=(0,r.Z)(je,2),Te=Ae[0],De=Ae[1],Re=(0,l.useState)(!1),Fe=(0,r.Z)(Re,2),Le=Fe[0],Me=Fe[1],Ue=(0,l.useState)(!1),Ze=(0,r.Z)(Ue,2),Be=Ze[0],Ve=Ze[1],He=(0,l.useState)(_&&null!=o?o:0),Ge=(0,r.Z)(He,2),We=Ge[0],ze=Ge[1],Ke=(0,l.useState)(!0),Ye=(0,r.Z)(Ke,2),qe=Ye[0],Qe=Ye[1],Je=(0,l.useState)(!1),Xe=(0,r.Z)(Je,2),$e=Xe[0],et=Xe[1],tt=(0,l.useState)(S.ag.get("ewg.copy")),nt=(0,r.Z)(tt,2),it=nt[0],rt=nt[1],at=null!==ve?Se[ve]:xe,ot=(0,A.zZ)(),st=(0,j.J)(t,"#FFF"),lt=(0,L.o)(),ct=(0,l.useRef)(null),ut=(0,l.useRef)(null),dt=(0,l.useContext)(F.qi),pt=(0,l.useCallback)((function(){dt({type:"close"})}),[dt]),mt=function(){if(null!=ut&&ut.current){var e=ut.current.value;if(ve){var t=function(e,t){var n=Se[e].constraints.width,i=parseInt(t.replace(/px|%$/,""),10);if(Number.isFinite(i)){if(-1!==t.indexOf("%")){var r=Math.max(n.minPercentage,Math.min(n.maxPercentage,Math.round(i)));return["".concat(r,"%"),"".concat(r,"%")]}var a=Math.max(n.min,Math.min(n.max,Math.round(i)));return["".concat(a,"px"),a.toString()]}return["100%","100%"]}(ve,e),n=(0,r.Z)(t,2),i=n[0],a=n[1];ut.current.value=i,De(a)}}},ft=function(){if(null!=ct&&ct.current){var e=P(ct.current.value);ct.current.value=e.humanString,e.seconds!==We&&(Qe(!0),ze(e.seconds))}};(0,l.useEffect)((function(){if(ve===ye.PODCAST_VIDEO&&Pe){var e=parseInt(Pe,10);De(351===e?624..toString():496..toString())}}),[Pe,ve]),(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)(s().mark((function e(){var n,i,r,a,o,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=null==N?void 0:N.type)!==b.JM.EPISODE){e.next=8;break}return e.next=4,ot.getEpisodeOrChapter(t);case 4:if((r=e.sent).type!==D.p.EPISODE||null===(i=r.mediaTypes)||void 0===i||!i.includes(T.$_.Video)){e.next=7;break}return e.abrupt("return",he(ye.PODCAST_VIDEO));case 7:return e.abrupt("return",he(ye.PODCAST_AUDIO));case 8:if(n!==b.JM.SHOW){e.next=26;break}if(O!==D.p.SHOW){e.next=15;break}return e.next=12,ot.getContents(t,{offset:0,limit:1});case 12:e.t0=e.sent,e.next=18;break;case 15:return e.next=17,ot.getBookContents(t,{offset:0,limit:1,doRefreshSubscription:!1});case 17:e.t0=e.sent;case 18:if(!((a=e.t0).items.length>0&&null!==a.items[0])){e.next=26;break}return e.next=22,ot.getEpisodeOrChapter(a.items[0].uri);case 22:if((l=e.sent).type!==D.p.EPISODE||null===(o=l.mediaTypes)||void 0===o||!o.includes(T.$_.Video)){e.next=25;break}return e.abrupt("return",he(ye.PODCAST_VIDEO));case 25:return e.abrupt("return",he(ye.PODCAST_AUDIO));case 26:if(n!==b.JM.TRACK){e.next=28;break}return e.abrupt("return",he(ye.TRACK));case 28:if(n!==b.JM.ARTIST){e.next=30;break}return e.abrupt("return",he(ye.ARTIST));case 30:if(n!==b.JM.ALBUM){e.next=32;break}return e.abrupt("return",he(ye.ALBUM));case 32:return e.abrupt("return",he(ye.PLAYLIST));case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O,ot,t,N]),(0,l.useEffect)((function(){Ie(at.defaults.height.toString()),_e(at.defaults.theme),De(at.defaults.width.toString())}),[at]);var vt=ve===ye.PODCAST_VIDEO,gt=null!==ve?function(e,t,n,i,r){var a=(0,b.EC)(e);if(!a)return null;var o=a.toURLPath(),s=new URL("https://open.spotify.com/embed/".concat(o).concat(r?"/video":""));return s.searchParams.set("utm_source","generator"),t&&"1"!==t&&s.searchParams.set("theme",t),n&&void 0!==i&&s.searchParams.set("t",i.toString()),s}(t,Ne,Be,We,vt):null,ht=gt&&at!==xe&&Pe&&Te?(0,ge.jsx)("iframe",ke({onLoad:function(){Qe(!1)},style:{borderRadius:"".concat(12,"px")},src:null==gt?void 0:gt.toString(),width:Te,height:Pe},w),null==gt?void 0:gt.toString()):null,kt=ht?(d.renderToStaticMarkup(ht)||"").replace(/src=".*?"/,'src="'.concat(null==gt?void 0:gt.toString(),'"')):"";return(0,ge.jsxs)(U.Z,{isOpen:c,contentLabel:E,children:[(0,ge.jsxs)("div",{className:u()(Z),children:[(0,ge.jsxs)("div",{className:ne,children:[(0,ge.jsx)(p.D,{as:"h1",variant:"canon",children:E}),(0,ge.jsx)("button",{className:ie,onClick:function(){pt(),lt({type:"click",intent:"close"})},children:(0,ge.jsx)(m.k,{iconSize:16,"aria-label":S.ag.get("close")})})]}),(0,ge.jsxs)("div",{className:W,children:[(0,ge.jsxs)("div",{className:z,children:[(0,ge.jsxs)("div",{className:re,style:{visibility:at.disallow.theme?"hidden":"visible"},children:[(0,ge.jsxs)("p",{className:ae,children:[S.ag.get("ewg.color"),":"]}),at.theme.map((function(e){var t,n=(0,r.Z)(e,2),i=n[0],o=n[1];return(0,ge.jsx)("button",{style:{backgroundColor:null===o?st:o},className:u()(oe,(0,a.Z)({},se,Ne===i)),onClick:(t=i,function(){Ne!==t&&(Qe(!0),_e(t))})},i)}))]}),(0,ge.jsxs)("div",{className:ce,children:[(0,ge.jsxs)("div",{className:ue,children:[S.ag.get("ewg.size"),":"]}),(0,ge.jsxs)("div",{className:de,children:[Pe&&(0,ge.jsx)(M.v,{id:"ewg-height",value:Pe,onSelect:Ie,children:at.height.map((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,ge.jsxs)("option",{value:n,children:["normal"===i?S.ag.get("ewg.size.normal"):S.ag.get("ewg.size.compact")," ","(",n,"px)"]},n)}))}),at.disallow.width?null:(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)("span",{className:pe,children:"×"}),(0,ge.jsxs)("div",{className:X,children:[(0,ge.jsx)("input",{className:J,type:"text",ref:ut,defaultValue:at.defaults.width,onKeyUp:function(e){"Enter"===e.key&&mt()},onBlur:mt}),(0,ge.jsx)(f.o,{"aria-label":S.ag.get("ewg.help"),"aria-describedby":"ewg-help-text",buttonSize:"sm",iconOnly:v.S,className:$,onMouseOver:function(){return Me(!0)},onMouseLeave:function(){return Me(!1)}}),(0,ge.jsx)("div",{onFocus:function(){return Me(!0)},onMouseOver:function(){return Me(!0)},onMouseLeave:function(){return Me(!1)},className:u()(ee,(0,a.Z)({},V,Le)),children:(0,ge.jsx)(g.u,{id:"ewg-help-text",children:S.ag.get("ewg.help-text")})})]})]})]})]})]}),(0,ge.jsxs)("div",{className:Y,style:{height:x,maxHeight:"calc(100vh - ".concat(402,"px)")},children:[qe&&(0,ge.jsx)("div",{className:fe,children:(0,ge.jsx)(h.T,{})}),ht]}),(0,ge.jsx)("small",{className:le,dangerouslySetInnerHTML:{__html:S.ag.get("ewg.terms",{devTerms:"https://developer.spotify.com/terms/",platfRules:"https://www.spotify.com/platform-rules/"})}}),(0,ge.jsxs)("div",{className:K,children:[(0,ge.jsxs)("div",{className:me,style:{visibility:at.disallow.timestamp?"hidden":"visible"},children:[(0,ge.jsx)(k.z,{className:J,checked:Be,type:"checkbox",id:"ewg-timestamp",onChange:function(e){var t=e.currentTarget.checked;Be!==t&&(Qe(!0),Ve(t),lt({type:"click",intent:"toggle",itemIdSuffix:"timestamp/".concat(t)}))},"":"timestamp-checkbox"}),(0,ge.jsx)("label",{htmlFor:"ewg-timestamp",children:S.ag.get("ewg.start-at")}),(0,ge.jsx)("input",{className:u()(te,G),disabled:!Be,type:"text",defaultValue:P(Math.floor(We/1e3).toString()).humanString,ref:ct,onBlur:ft,onKeyUp:function(e){"Enter"===e.key&&ft()}})]}),(0,ge.jsxs)("div",{className:q,children:[(0,ge.jsx)(k.z,{className:J,checked:$e,type:"checkbox",id:"ewg-showcode",onChange:function(e){var t=e.currentTarget.checked;et(t),lt({type:"click",intent:"show-more",itemIdSuffix:"showcode/".concat(t)})}}),(0,ge.jsx)("label",{htmlFor:"ewg-showcode",children:S.ag.get("ewg.showcode")}),(0,ge.jsx)(y.D,{className:Q,buttonSize:"sm",onClick:function(){(0,R.v)(kt),lt({type:"click",intent:"copy"}),rt(S.ag.get("ewg.copied")),setTimeout((function(){return rt(S.ag.get("ewg.copy"))}),5e3)},children:it})]})]})]})]}),(0,ge.jsx)("section",{className:u()(B,(0,a.Z)({},V,$e)),children:(0,ge.jsx)("pre",{className:H,"":"iframe-code",children:kt})})]})},Ne=function(){var e=(0,l.useContext)(F.nz);return e.uri?(0,ge.jsx)(I.ZP,{value:"embed-widget-generator",children:(0,ge.jsx)(we,ke({},e))}):null}},28930:(e,t,n)=>{"use strict";n.d(t,{nz:()=>d,qi:()=>u,ye:()=>m});var i=n(39130),r=n(45389),a=(n(59538),n(79611),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(4637);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={isOpen:!1,uri:""},u=(0,a.createContext)(void 0),d=(0,a.createContext)(c);function p(e,t){switch(t.type){case"open":return l(l({},e),{},{uri:t.uri,currentTrackUri:t.currentTrackUri,currentPosition:t.currentPosition,entityType:t.entityType,isOpen:!0});case"close":return l(l({},c),{},{isOpen:!1});default:throw new Error("Unknown action received!")}}var m=function(e){var t=e.children,n=(0,a.useReducer)(p,c),r=(0,i.Z)(n,2),s=r[0],l=r[1];return(0,o.jsx)(u.Provider,{value:l,children:(0,o.jsx)(d.Provider,{value:s,children:t})})}},77999:(e,t,n)=>{"use strict";n.d(t,{u:()=>h});var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(10506),l=n(63892),c=n(25310),u=n(12116);const d="FvfvGU3jvHRskUU9v9_8",p="Q9AlbZn2EGzy3MTWXa8X",m="mxmxS0y8LiwSs5nueKPT",f="GXxVAveNFStY3pBI_NO4",v="eHcXC2s97InYP7rMNT0H";var g=n(4637),h=(0,r.memo)((function(e){var t=e.children,n=e.message,r=e.title,a=e.linkTitle,h=e.linkTo,k=e.onClick,y=e.renderInline,b=void 0!==y&&y,S=(0,c.e)(),x=S.isXSOnly,O=S.isSMOnly,w=x||O;return(0,g.jsxs)("section",{className:o()(d,(0,i.Z)({},p,b)),children:[t,(0,g.jsx)(s.D,{as:"h1",variant:w?"cello":"alto",className:f,children:r}),(0,g.jsx)(s.D,{variant:w?"mesto":"ballad",className:v,children:n}),a&&(h||k)&&(0,g.jsx)(l.D,{colorSet:"invertedLight",className:m,href:h,onClick:k,component:u.Z,children:a})]})}))},14706:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,r:()=>l});var i=n(17249),r=n(38156),a=n(4637),o="entityHeaderAdd",s={placement:r.n.bottomLeft,zIndex:1,getTitle:function(e){return(e.triggerAction||{}).type,i.ag.get("action-trigger.save-library")},getDescription:function(e){return(e.triggerAction||{}).type,i.ag.get("action-trigger.logged-out-continue")}},l=function(e){var t=e.children;return(0,a.jsx)(r.P,{id:o,options:s,"":"login-trigger",children:t})}},35833:(e,t,n)=>{"use strict";n.d(t,{W:()=>p});var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(91929),l=n(87164),c=n(20522),u=n(98207),d=n(4637),p=(0,r.forwardRef)((function(e,t){var n=e.children,a=(0,r.useContext)(l.VX).scrollNodeRef,p=(0,s.YD)({initialInView:!0,rootMargin:"0px 100%",root:a.current}),m=p.ref,f=p.inView,v=o()(u.Z.topbarContent,(0,i.Z)({},u.Z.topbarContentFadeIn,!f)),g=(0,r.useCallback)((function(e){m(e),t&&("function"==typeof t?t(e):t.current=e)}),[m,t]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{ref:g}),(0,d.jsx)(c.w,{className:v,children:n})]})}))},61996:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var i=n(10506),r=n(96692),a=n(98207),o=n(4637),s=function(e){var t=e.text,n=e.dragUri,s=e.dragLabel,l=(0,r.O)(n?[n]:[],s);return(0,o.jsx)(i.D,{as:"span",variant:"canon",className:a.Z.topbarTitle,draggable:!(!n||!s),onDragStart:l,children:t})}},23006:(e,t,n)=>{"use strict";n.d(t,{T0:()=>oe,gF:()=>h,Oz:()=>I,rn:()=>he.r,fR:()=>g,sP:()=>k,YD:()=>Ye,Oe:()=>_,QS:()=>ae,xd:()=>ge,eM:()=>S.e,Kc:()=>N,ms:()=>Y,oX:()=>Ze});var i=n(45389),r=(n(5538),n(79611),n(40265),n(22369),n(46743),n(59496)),a=n(84875),o=n.n(a),s=n(87995),l=n(39130),c=(n(40274),n(95675),n(69912)),u=n(39106),d={small:"(max-width: 1023px)",medium:"(max-width: 1279px)",large:"(max-width: 1599px)",xlarge:"(min-width: 1600px)"},p=function(){return Object.keys(d).find((function(e){return window.matchMedia(d[e]).matches}))};var m=n(97846),f=n(98207),v=n(4637),g=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.SMALL=1]="SMALL",e}({}),h=function(e){var t,n=e.children,a=e.backgroundColor,d=e.backgroundImages,h=e.isMermaidEggEnabled,k=e.size,y=void 0===k?g.DEFAULT:k,b=(0,r.useRef)(null),S=(0,r.useRef)(null),x=function(e,t){var n=(0,r.useState)({imageUrl:""}),i=(0,l.Z)(n,2),a=i[0],o=i[1],s=(0,r.useState)(p()),d=(0,l.Z)(s,2),m=d[0],f=d[1];return(0,c.a)((function(){f(p())})),(0,r.useEffect)((function(){var n=null!=t&&t.current?t.current.clientWidth:null;if(e&&e.length){var i=(0,u.o)(e,{desiredSize:null!=n?n:void 0});o({imageUrl:null!=i?i:""})}else o({imageUrl:""})}),[t,e,m]),a}(d,b),O=x.imageUrl,w=(0,r.useCallback)((function(e){var t=e.target,n=t.scrollTop/t.offsetHeight;n>parseInt(f.Z.BACKGROUND_HEIGHT_PERCENTAGE,10)/100||requestAnimationFrame((function(){var e;null===(e=S.current)||void 0===e||e.style.setProperty("--scroll",n.toString())}))}),[]);return(0,m.c)(w,{disabled:!O||navigator.hardwareConcurrency<=4}),(0,v.jsxs)("div",{ref:b,className:o()("contentSpacing",f.Z.container,f.Z.nonWrapped,(t={},(0,i.Z)(t,f.Z.withBackgroundImage,O&&!h),(0,i.Z)(t,f.Z.smallHeader,y===g.SMALL),(0,i.Z)(t,f.Z.mermaidGradientOverlay,h),t)),children:[!O&&(0,v.jsx)("div",{className:f.Z.backgroundColor,style:{backgroundColor:a}}),!O&&(0,v.jsx)("div",{className:o()(f.Z.backgroundColor,f.Z.overlay)}),O&&s.createPortal((0,v.jsxs)("div",{ref:S,children:[(0,v.jsx)("div",{"":"background-image",className:o()(f.Z.background,f.Z.gradient),style:{backgroundImage:"url(".concat(h?"https://lil-mermaid-easter-egg.spotifycdn.com/v1/playlist-header-image-ios.jpg":O,")")}}),(0,v.jsx)("div",{className:o()(f.Z.background,f.Z.overlay),style:(0,i.Z)({},"--bgColor",a)})]}),document.querySelector(".under-main-view")),n]})},k=(0,r.memo)((function(e){return(0,v.jsx)("div",{className:f.Z.headerText,children:e.children})})),y=n(980),b=(n(30246),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(96692)),S=n(18210),x=n(75897),O=n(83349),w=function(e){var t=e.type,n=e.className;return(0,v.jsx)("div",{className:o()(f.Z.image,f.Z.imagePlaceholder,n),children:(0,v.jsx)(O.t,{type:t})})},N=function(e){return e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.WITH_WAVES=3]="WITH_WAVES",e}({}),_=r.memo(r.forwardRef((function(e,t){var n,r,a,s=e.name,c=e.images,u=e.placeholderType,d=e.renderImage,p=e.className,m=e.shape,g=void 0===m?N.SQUARE:m,h=e.loading,k=void 0===h?"lazy":h,y=e.dragUri,O=e.onContextMenu,_=(0,S.R)(c),E=(0,l.Z)(_,3),C=E[0],P=E[1],I=E[2],j=(0,b.O)(y?[y]:[],s);return(0,v.jsx)("div",{ref:t,onContextMenu:O,className:o()(f.Z.image,p,(0,i.Z)({},f.Z.wavesBackground,g===N.WITH_WAVES)),draggable:!(!y||!s),onDragStart:j,children:d?(0,v.jsx)("div",{className:o()(f.Z.image,f.Z.shadow,(n={},(0,i.Z)(n,f.Z.roundedCorners,g===N.ROUNDED_CORNERS),(0,i.Z)(n,f.Z.circle,g===N.CIRCLE),n)),children:d()}):(0,v.jsx)(x.E,{loading:k,src:C,alt:s,className:o()(f.Z.image,f.Z.shadow,(r={},(0,i.Z)(r,f.Z.roundedCorners,g===N.ROUNDED_CORNERS),(0,i.Z)(r,f.Z.circle,g===N.CIRCLE),r)),srcSet:P||void 0,sizes:I,children:(0,v.jsx)(w,{type:u,className:o()(f.Z.image,f.Z.shadow,(a={},(0,i.Z)(a,f.Z.roundedCorners,g===N.ROUNDED_CORNERS),(0,i.Z)(a,f.Z.circle,g===N.CIRCLE),a))})})})}))),E=["dragUri","onContextMenu","onTouchStart","onTouchEnd","onClick","ariaLabel"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=(0,r.memo)((function(e){var t=e.dragUri,n=e.onContextMenu,r=e.onTouchStart,a=e.onTouchEnd,s=e.onClick,l=e.ariaLabel,c=(0,y.Z)(e,E),u=(0,b.O)([t||""],c.name),d={className:o()(f.Z.imageContainer,(0,i.Z)({},f.Z.imageContainerClickable,!!s)),draggable:!!t,onDragStart:u,onContextMenu:n,onTouchStart:r,onTouchEnd:a,children:(0,v.jsx)(_,P({},c))};return s?(0,v.jsx)("button",P(P({},d),{},{"aria-label":l,onClick:s})):(0,v.jsx)("div",P({},d))})),j=n(61740),A=n(10506),T=n(59272),D=n(17249),R=n(71062),F=n(20872),L=n(51770),M=n(32572),U=(n(162),n(82088),n(50103),n(94064)),Z=n(38674),B=n(39447),V=n(1059),H=n(10785),G=n(54691),W=n(60221),z=n(89418),K=n(88843),Y=3;function q(e){return e.displayName||e.name||""}var Q=function(e){var t,n,i=e.creator,a=e.onClick,o=e.position,s=void 0===o?0:o,l=(0,r.useCallback)((function(e){null==a||a(e,{position:s,creator:i})}),[i,a,s]);return(0,V.i)(i)?(0,v.jsx)(G._,{menu:(t=i.uri,n=null,(0,T.OB)(t)&&(n=(0,v.jsx)(W.m,{uri:t})),(0,T.Kv)(t)&&(n=(0,v.jsx)(z.I,{uri:t})),n),children:(0,v.jsx)(A.D,{variant:"mestoBold",children:(0,v.jsx)(K.Link,{"":"creator-link",to:i.uri,onClick:l,children:q(i)})})}):(0,v.jsx)(A.D,{variant:"mesto",children:q(i)})},J=function(e){var t=e.creator,n=e.onClick,i=D.ag.get("playlist.header.made-for","USER").split("USER"),r=(0,l.Z)(i,2),a=r[0],s=r[1];return(0,v.jsxs)("div",{className:o()(f.Z.metaDataText,f.Z.creatorWrapper),children:[(0,v.jsx)(U.V,{semanticColor:"textBrightAccent"}),(0,v.jsx)(A.D,{variant:"mesto",children:a}),(0,v.jsx)(Q,{creator:t,onClick:n}),(0,v.jsx)(A.D,{variant:"mesto",children:s})]})},X=function(e){var t=e.creator,n=e.onClick;return(0,v.jsxs)("div",{className:o()(f.Z.metaDataText,f.Z.creatorWrapper),children:[t.images.length>0&&(0,v.jsx)(B.q,{label:q(t),images:t.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),width:24,userIconSize:16}),(0,v.jsx)(Q,{creator:t,onClick:n})]})},$=function(e){var t=e.creators,n=e.onPiledCreatorsClick,i=t.slice(0,Y).map((function(e,t){return(0,v.jsx)(B.q,{label:q(e),images:e.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),width:24,userIconSize:16,piled:t>0},e.uri)})),r=D.ag.get("playlist.header.creator-and-others",q(t[0]),t.length-1);return 2===t.length&&(r=D.ag.get("playlist.header.creator-and-co-creator",q(t[0]),q(t[1]))),n?(0,v.jsxs)("button",{className:o()(f.Z.metaDataText,f.Z.creatorWrapper,f.Z.creatorButton),onClick:n,children:[i,r]}):(0,v.jsxs)("div",{className:o()(f.Z.metaDataText,f.Z.creatorWrapper),children:[i,r]})},ee=function(e){var t=e.creators,n=e.onCreatorClick;return(0,v.jsx)(v.Fragment,{children:t.map((function(e,t){return(0,v.jsxs)(r.Fragment,{children:[0!==t&&(0,v.jsx)("span",{className:f.Z.divider}),(0,v.jsx)(Q,{creator:e,onClick:n,position:t})]},e.id)}))})},te=function(e){var t=e.creators,n=e.onPiledCreatorsClick,i=e.onCreatorClick,r=(0,Z.W6)(H.bM);if(1===t.length){var a=(0,l.Z)(t,1)[0];return a.isMadeFor?(0,v.jsx)(J,{creator:a,onClick:i}):(0,v.jsx)(X,{creator:a,onClick:i})}return t.every((function(e){return(0,T.Kv)(e.uri)}))&&r?(0,v.jsx)($,{creators:t,onPiledCreatorsClick:n}):(0,v.jsx)(ee,{creators:t,onCreatorClick:i})},ne=n(29893);function ie(e,t,n){return 0===e?null:(0,v.jsxs)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:[D.ag.get("tracklist-header.songs-counter",e),t>0?D.ag.getSeparator():null,n?(0,v.jsx)(F.jC,{durationMs:t}):(0,v.jsx)(F.nL,{durationMs:t})]})}var re=function(e){var t=e.to,n=e.children,i=e.onClick,a=void 0===i?function(){}:i,o=(0,r.useCallback)((function(e){a(e,t)}),[a,t]);return(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:t?(0,v.jsx)(K.Link,{to:t,onClick:o,children:n}):n})},ae=function(e){var t,n=e.author,i=e.creators,a=e.onPiledCreatorsClick,s=e.onCreatorClick,l=e.releaseDate,c=e.totalTracks,d=void 0===c?0:c,p=e.totalEpisodes,m=void 0===p?0:p,g=e.totalFollowers,h=void 0===g?0:g,k=e.onTotalFollowersClick,y=e.totalFollowing,b=void 0===y?0:y,S=e.onTotalFollowingClick,x=e.totalLikes,O=void 0===x?0:x,w=e.publicPlaylists,N=void 0===w?0:w,_=e.privatePlaylists,E=void 0===_?0:_,C=e.newEntries,P=void 0===C?0:C,I=e.durationMilliseconds,F=void 0===I?0:I,U=e.isEstimatedDuration,Z=void 0!==U&&U,B=e.userUri,V=e.albumType,H=e.isTrack,G=e.album,W=(null===(t=(0,j.v9)(ne.Gg).overrides)||void 0===t?void 0:t.locale)||D.ag.getLocale(),z=l&&(0,M.RX)(l).getTime()>(new Date).getTime();return(0,v.jsxs)("div",{className:f.Z.metaData,children:[n&&(0,v.jsx)(A.D,{className:f.Z.metaDataAuthor,variant:"canon","":"entityAuthor",children:n}),i&&(0,v.jsx)(r.Suspense,{fallback:null,children:(0,v.jsx)(te,{creators:i,onPiledCreatorsClick:a,onCreatorClick:s})}),V&&(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:V}),N>0&&(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:D.ag.get("user.public-playlists",N)}),E>0&&(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:D.ag.get("user.private-playlists",E)}),G&&(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:(0,v.jsx)(K.Link,{to:G.uri,children:G.name})}),l&&(0,v.jsx)(R.w,{label:(0,M.BI)((0,M.RX)(l),W),children:(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:z?D.ag.get("web-player.album-prerelease.releases_on",{date:D.ag.formatDate((0,M.RX)(l),{month:"long",day:"numeric",year:"numeric"})}):(0,M.RX)(l).getUTCFullYear()})}),O>0&&(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:D.ag.get("likes",O)}),h>0&&(0,v.jsx)(re,{to:B?(0,T.QK)((0,L.C)(B),["followers"]).toURI():null,onClick:k,children:D.ag.get("user.followers",h)}),b>0&&(0,v.jsx)(re,{to:B?(0,T.QK)((0,L.C)(B),["following"]).toURI():null,onClick:S,children:D.ag.get("user.following",b)}),m>0&&(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:D.ag.get("tracklist-header.episodes-counter",m)}),ie(d,F,Z),H&&(0,v.jsx)(A.D,{variant:"mesto",className:f.Z.metaDataText,children:(0,u.m)(F)}),P>0&&(0,v.jsx)(A.D,{variant:"mesto",className:o()(f.Z.metaDataText,f.Z.newEntriesIndicator),children:D.ag.get("chart.new-entries",P)})]})},oe=(0,r.memo)((function(e){return(0,v.jsx)("span",{className:f.Z.detailsText,children:e.children})})),se=n(25679),le=(n(25710),n(16366),n(31781),n(85830)),ce=n(23066),ue=["children","scale","variant"];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){var t=16*parseFloat(e.replace("rem",""));return t+.08*t+.12*t},fe=function(e){var t=e.children,n=e.scale,i=e.variant,a=void 0===i?"bass":i,o=(0,y.Z)(e,ue),s=(0,r.useRef)(null),c=(0,r.useState)(!1),u=(0,l.Z)(c,2),d=u[0],p=u[1],m=(0,le.y1)((function(){s.current&&function(){if(s.current){p(!1);for(var e=0;e<n.fontSizes.length;e++){var t=n.fontSizes[e],i=1.5*me(t);if(s.current.style.fontSize=n.fontSizes[e],s.current.getBoundingClientRect().height<=i)break}p(!0)}}()}),200,{leading:!0,maxWait:200});return(0,ce.y)({refOrElement:s,onResize:m}),(0,r.useEffect)(m,[m]),(0,v.jsx)(A.D,pe(pe({as:"h1",ref:s,style:{margin:"".concat(.08,"em 0 ").concat(.12,"em"),visibility:d?"visible":"hidden",width:"100%"},variant:a,semanticColor:"textBase",dir:"auto"},o),{},{children:t}))},ve={fontSizes:[se.Otb,se.QJq,se.xXe,se.$z5]},ge=(0,r.memo)((function(e){var t=e.ariaLabel,n=e.children,i=e.className,r=e.canEdit,a=e.onClick,s=e.editTitle,l=e.onContextMenu,c=e.onTouchStart,u=e.onTouchEnd,d=e.dragUri,p=void 0===d?"":d,m=e.dragLabel,g=(0,b.O)([p],m);return(0,v.jsx)("span",{dir:"auto",className:o()(i,f.Z.title),onContextMenu:l,onTouchStart:c,onTouchEnd:u,draggable:!(!p||!m),onDragStart:g,"":"entityTitle",children:r?(0,v.jsx)("button",{"aria-label":t,className:o()(f.Z.titleButton),onClick:a,title:s,children:(0,v.jsx)("span",{className:f.Z.titleInner,children:(0,v.jsx)(fe,{scale:ve,children:n})})}):(0,v.jsx)(fe,{scale:ve,children:n})})})),he=n(14706),ke=(n(4302),n(66469),n(56049)),ye=n(84287),be=n(46868),Se=n(30697),xe=n(60808),Oe=n(1074),we=n(87824),Ne=n(35833),_e=n(61996),Ee=n(94152),Ce=n(27436);const Pe="VeW1uY4VBMOicrBiaZg0",Ie="XkaqHstcRovRFsrux1ac",je="EIeLyF5kZi61KstXcsiW",Ae="jwA8Axf63p61s9L8ouKX",Te="pShBHEJpyqHapxGoa1dO",De="X448TFrTgJhLvjGJL8xZ",Re="oE6z561GCOowoF4xd9YK",Fe="I7Ifs1u3PsGytdeBiOxi",Le="OAupwE_S9CKJQqHZlykD",Me="ppy0oeDpOgQ0VLPmesPi",Ue="qOq3C2XGuRp_5iY9qN2_";var Ze=function(e){return(0,Z.W6)(we.iU)&&"0JQ5DAwD41iRZZRVB8exON"===e},Be=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.SMALL=1]="SMALL",e}({}),Ve=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(Ve||{}),He=[D.go.de,D.go.fi,D.go.frCA,D.go.hu,D.go.it,D.go.ms,D.go.pl],Ge=r.memo((function(e){return(0,v.jsx)("span",{children:(0,v.jsx)("h3",{className:Re,children:e.children})})})),We=function(e){return e.split("<br />").map((function(e,t){return(0,v.jsxs)(r.Fragment,{children:[e," ",(0,v.jsx)("br",{})]},t)}))},ze=function(e){var t,n=e.locale,i=e.isAnonymous,r=e.isEligible;!i&&r?t=We(D.ag.get("wrapped.logged_in_and_eligible.description.2022")):i||r?t=We(D.ag.get("wrapped.logged_out_or_eligible.description.2022")):i||r||(t=We(D.ag.get("wrapped.ineligible.description.2022")));var a=(0,Ee.s4)();function s(e,t){var n={category:"wrapped_hub_2021",action:"click",label:"app_store_".concat(t),destination_url:e,os:(0,Se.y)()},r=i?(0,ye.w)(n):(0,ke.t)(n);a.send(r)}return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Ge,{children:t}),(0,v.jsxs)("div",{className:o()(Ue),"":"app-store-icons",children:[(0,v.jsx)(K.default,{to:Ve.IOS,target:"_blank",onClick:function(){return s(Ve.IOS,"apple")},children:(0,v.jsx)("img",{src:(0,be.g)((0,Ce.b)(n)),alt:"Apple app store icon",className:Te})}),(0,v.jsx)(K.default,{to:Ve.ANDROID,target:"_blank",onClick:function(){return s(Ve.ANDROID,"android")},children:(0,v.jsx)("img",{src:(0,be.g)((0,Ce.V)(n)),alt:"Google play store icon",className:o()(Te,De)})})]})]})},Ke=function(e){var t=e.isAnonymous,n=e.locale,i=(0,r.useState)(),a=(0,l.Z)(i,2),o=a[0],s=a[1];return(0,r.useEffect)((function(){t?s(!1):Oe.uC.getEligibility(xe.b.getInstance()).then((function(e){s(e.body.isEligible)})).catch((function(){return s(!1)}))}),[t,s]),void 0===o?null:(0,v.jsx)(ze,{isEligible:o,isAnonymous:t,locale:n})},Ye=function(e){var t=e.title,n=void 0===t?D.ag.get("wrapped.title.2022"):t,a=e.size,s=void 0===a?Be.DEFAULT:a,l=e.isAnonymous,c=void 0===l||l,u=(0,r.useRef)(null),d=D.ag.getLocale(),p=He.includes(d)?Me:"";return(0,v.jsxs)("div",{ref:u,className:o()(f.Z.container,(0,i.Z)({},f.Z.smallHeader,s===Be.SMALL),Pe),children:[(0,v.jsx)("div",{"":"background-color",className:o()(f.Z.background,f.Z.gradient)}),(0,v.jsx)("div",{className:o()(f.Z.background,Ie)}),(0,v.jsx)("div",{className:f.Z.background}),(0,v.jsx)(Ne.W,{children:(0,v.jsx)(_e.i,{text:n})}),(0,v.jsxs)("div",{className:o()(je),children:[(0,v.jsxs)("div",{className:o()(f.Z.headerText,Ae),children:[(0,v.jsx)("h1",{className:o()(Le,p),children:We(n)}),(0,v.jsx)(Ke,{locale:d,isAnonymous:c})]}),(0,v.jsx)("div",{className:o()(Fe)})]})]})}},30406:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var i=n(46146),r=(n(79611),n(40265),n(22369),n(46743),n(59496)),a=n(31895),o=n(4637),s=function(e){e.error;var t=e.resetErrorBoundary,n=(0,a.D)();return(0,r.useEffect)((function(){var e=n.listen((function(){t()}));return function(){e()}}),[n,t]),null},l=function(e){var t=e.fallback,n=e.children;return(0,o.jsx)(r.Suspense,{fallback:t,children:n})},c=function(e){var t=e.FallbackComponent,n=void 0===t?s:t,r=e.SuspenseFallback,a=void 0===r?null:r,c=e.children,u=e.onError;return(0,o.jsx)(l,{fallback:a,children:(0,o.jsx)(i.SV,{FallbackComponent:n,onError:u,children:c})})}},78121:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});var i=n(59496),r=n(84875),a=n.n(r),o=n(10506),s=n(63892),l=n(63461);const c="KIbfbFDao0SHpZsKoKZD",u="yZh70k8am9QCTKmucbwo";var d=n(4637),p=function(){return window.location.reload()},m=(0,i.memo)((function(e){var t=e.headingMessage,n=e.message,i=e.onDismissDialog,r=void 0===i?p:i,m=e.isOpen,f=void 0!==m&&m,v=e.buttonLabel,g=e.animated;return(0,d.jsx)(l.Z,{isOpen:f,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:t,animated:g,children:(0,d.jsxs)("div",{className:a()(c,"encore-light-theme"),children:[(0,d.jsx)(o.D,{variant:"canon",as:"h1",children:t}),(0,d.jsx)(o.D,{as:"p",variant:"ballad",children:n}),(0,d.jsx)("div",{className:u,children:(0,d.jsx)(s.D,{onClick:r,autoFocus:!0,children:v})})]})})}))},24898:(e,t,n)=>{"use strict";n.d(t,{K:()=>E});var i=n(45389),r=n(39130),a=(n(62780),n(22369),n(59496)),o=n(84875),s=n.n(o),l=n(85830),c=n(71218),u=n(14268),d=n(17249),p=n(4626),m=n(71062),f=n(50200);const v="x-filterBox-filterInputContainer",g="x-filterBox-expandedOrHasFilter",h="x-filterBox-expandButton",k="x-filterBox-filterInput",y="x-filterBox-fullWidth",b="x-filterBox-overlay",S="x-filterBox-expandRight",x="x-filterBox-searchIconContainer",O="x-filterBox-searchIcon",w="x-filterBox-clearButton";var N=n(4637),_=function(e){return(0,p.eY)(p.O4.FILTER,e)},E=a.memo((function(e){var t=e.alwaysExpanded,n=void 0!==t&&t,o=e.placeholder,E=e.filterBoxApiRef,C=e.outerRef,P=e.onFilter,I=e.onClear,j=e.onActivate,A=e.clearOnEscapeInElementRef,T=e.debounceFilterChangeTimeout,D=void 0===T?200:T,R=e.expandDirection,F=void 0===R?"left":R,L=e.fullWidth,M=void 0!==L&&L,U=e.useExpandCallback,Z=void 0===U?_:U,B=(0,a.useContext)(f.fo),V=B.filter,H=B.setFilter,G=(0,a.useState)(n||!!V),W=(0,r.Z)(G,2),z=W[0],K=W[1],Y=(0,a.useState)(V),q=(0,r.Z)(Y,2),Q=q[0],J=q[1],X=(0,a.useRef)(null),$=(0,a.useRef)(null),ee=null!=C?C:X;(0,p.J4)(p.sN.FILTER);var te=(0,l.y1)((function(e){P&&!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&P(e),H(e)}),D,{leading:!1,trailing:!0,maxWait:1e3}),ne=(0,a.useCallback)((function(){null==I||I(),J(""),te("",!0)}),[I,te]);(0,a.useImperativeHandle)(E,(function(){return{clearFilter:ne}}));var ie=(0,a.useCallback)((function(){var e;!1!==(null==j?void 0:j())&&(K(!0),null===(e=ee.current)||void 0===e||e.focus())}),[K,ee,j]);Z(ie);var re=(0,a.useCallback)((function(e){var t=e.currentTarget.value;J(t),te(t)}),[te,J]),ae=(0,a.useCallback)((function(){Q||n||K(!1)}),[Q,n,K]),oe=(0,a.useCallback)((function(e){if("Escape"===e.key)if(Q)e.stopPropagation(),ne();else if(!n){var t;K(!1),null===(t=$.current)||void 0===t||t.focus()}}),[n,ne,Q]);return(0,a.useEffect)((function(){var e=function(e){var t;"Escape"===e.key&&null!=A&&null!==(t=A.current)&&void 0!==t&&t.contains(e.target)&&ne()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[ne,A]),(0,N.jsx)(m.w,{label:o,disabled:z||!o,children:(0,N.jsxs)("div",{className:s()(v,(0,i.Z)({},g,z)),role:"search",children:[(0,N.jsx)("input",{ref:ee,className:s()(k,(0,i.Z)({},y,M)),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:o,onChange:re,onKeyDown:oe,onBlur:ae,value:Q,"aria-hidden":!z,tabIndex:z?void 0:-1}),(0,N.jsxs)("div",{className:b,children:[(0,N.jsx)("span",{className:x,children:(0,N.jsx)(c.j,{iconSize:16,className:O,"aria-hidden":!0})}),Q&&(0,N.jsx)("button",{className:w,onClick:function(e){var t;e.stopPropagation(),ne(),null===(t=ee.current)||void 0===t||t.focus()},"aria-label":d.ag.get("search.a11y.clear-input"),children:(0,N.jsx)(u.k,{iconSize:16})})]}),(0,N.jsx)("button",{className:s()(h,(0,i.Z)({},S,"right"===F)),onClick:ie,"":"expand-button","aria-hidden":z,tabIndex:z?-1:void 0,"aria-label":o,ref:$,children:(0,N.jsx)(c.j,{iconSize:16,className:O})})]})})}))},44594:(e,t,n)=>{"use strict";n.d(t,{e:()=>p});var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(17249);const l="artist-followButton-button",c="artist-followButton-followed",u="artist-followButton-disabled";var d=n(4637),p=(0,r.memo)((function(e){var t,n=e.isFollowing,r=e.onClick,a=e.disabled,p=void 0!==a&&a,m=e.buttonText,f=n?s.ag.get("following"):s.ag.get("follow");return(0,d.jsx)("button",{type:"button",className:o()(l,(t={},(0,i.Z)(t,c,n),(0,i.Z)(t,u,p),t)),onClick:r,children:m||f})}))},9424:(e,t,n)=>{"use strict";n.d(t,{P:()=>h,y:()=>g});var i=n(45389),r=n(39130),a=(n(79611),n(40265),n(22369),n(46743),n(69109),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(84875),s=n.n(o),l=n(97846),c=n(55388);var u=n(93235),d=n(4637);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f,v,g=(f={triggerId:null,triggerAction:null},v=[],{addListener:function(e){v.push(e)},removeListener:function(e){v=v.filter((function(t){return t!==e}))},get:function(){return f},set:function(e){f=e(f),v.forEach((function(e){e(f)}))}}),h=function(e){var t=e.id,n=e.children,i=e.childRef,o=e.options,p=o.placement,f=o.isCTA,v=o.intentPrimaryButton,h=void 0===v?"login":v,k=o.getDescription,y=o.getTitle,b=o.hideArrow,S=o.shouldHideOnOutsideClick,x=void 0===S?function(){return!0}:S,O=o.shouldHideOnScroll,w=void 0!==O&&O,N=o.fadeOut,_=void 0!==N&&N,E=o.popperOptions,C=o.zIndex,P=o.maxWidth,I=o.tippyClassName,j=o.primaryButtonText,A=o.secondaryButtonText,T=o.checkboxText,D=o.useSecondaryStyling,R=o.onLogInteraction,F=o.tippyWrapperClassName,L=o.renderInline,M=e.onPrimaryButtonClick,U=void 0===M?function(){}:M,Z=e.onSecondaryButtonClick,B=e.onCheckboxClick,V=e.className,H=e.onHide,G=e.onShow,W=f?"tooltip-with-cta":"tooltip-without-cta",z=function(e){var t=(0,a.useState)()[1];return(0,a.useEffect)((function(){return e.addListener(t),function(){e.removeListener(t)}}),[e,t]),[e.get(),e.set]}(g),K=(0,r.Z)(z,2),Y=K[0],q=Y.triggerId,Q=Y.triggerAction,J=K[1],X=Boolean(q&&q===t),$=(0,a.useCallback)((function(e){e.stopPropagation();var t=(0,c.TB)((0,c.iZ)(void 0,!0),"spotify_web_player").toString();null==R||R({itemIdSuffix:W,intent:h,type:"click",targetUri:t}),J((function(e){return m(m({},e),{},{triggerAction:null,triggerId:null})})),U()}),[U,R,J,W,h]),ee=(0,a.useCallback)((function(e){return function(t){t.stopPropagation&&t.stopPropagation(),null==R||R({intent:"close-upsell",type:"click",itemIdSuffix:"".concat(W,"/").concat(e)}),J((function(e){return m(m({},e),{},{triggerAction:null,triggerId:null})}))}}),[R,J,W]);(0,a.useEffect)((function(){H&&G&&(X?G():H())}),[H,G,X]);var te=(0,a.useRef)(!1);(0,a.useEffect)((function(){!te.current&&X&&(null==R||R({intent:"open-upsell",type:"view",itemIdSuffix:W}),te.current=!0),te.current&&!X&&(te.current=!1)}),[R,W,X]);var ne=(0,a.useCallback)((function(){w&&X&&J((function(e){return m(m({},e),{},{triggerAction:null,triggerId:null})}))}),[J,w,X]);(0,l.c)(ne);var ie=y({triggerAction:Q}),re=k({triggerAction:Q}),ae=x({triggerAction:Q});return(0,d.jsx)(u.G,{placement:p,className:s()(V,{"encore-dark-theme":!L}),tippyClassName:I,tippyWrapperClassName:F,popperOptions:E,zIndex:C,maxWidth:P,title:ie,description:re,hideArrow:b,id:t,visible:X,showButtons:f,hideOnClickOutside:ae,onHide:ee("backdrop"),onSecondaryButtonClick:null!=Z?Z:ee("close-button"),onPrimaryButtonClick:$,primaryButtonText:j,secondaryButtonText:A,onCheckboxClick:B,checkboxText:T,useSecondaryStyling:D,childRef:i,fadeOut:_,renderInline:L,children:n})}},81438:(e,t,n)=>{"use strict";n.d(t,{P:()=>i.P});var i=n(9424)},63461:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(84875),o=n.n(a),s=n(76316),l=n.n(s),c=n(4637),u=["isOpen","contentLabel","children","className","overlayClassName","animated","animation"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=function(e){var t,n,a,s,d,m,f=e.isOpen,v=e.contentLabel,g=e.children,h=e.className,k=e.overlayClassName,y=e.animated,b=e.animation,S=(0,r.Z)(e,u),x=0;return y?x=300:null!=b&&b.closeTimeoutMs&&(x=b.closeTimeoutMs),(0,c.jsx)(l(),p(p(p({className:{base:o()("GenericModal","encore-dark-theme",(0,i.Z)({},"GenericModal--animated",y),[null==b||null===(t=b.modal)||void 0===t?void 0:t.base,h]),afterOpen:o()("",(0,i.Z)({},"GenericModal--afterOpen",y),[null==b||null===(n=b.modal)||void 0===n?void 0:n.afterOpen]),beforeClose:o()("",(0,i.Z)({},"GenericModal--beforeClose",y),[null==b||null===(a=b.modal)||void 0===a?void 0:a.beforeClose])},overlayClassName:{base:o()("GenericModal__overlay",(0,i.Z)({},"GenericModal__overlay--animated",y),[null==b||null===(s=b.overlay)||void 0===s?void 0:s.base,k]),afterOpen:o()("",(0,i.Z)({},"GenericModal__overlay--afterOpen",y),[null==b||null===(d=b.overlay)||void 0===d?void 0:d.afterOpen]),beforeClose:o()("",(0,i.Z)({},"GenericModal__overlay--beforeClose",y),[null==b||null===(m=b.overlay)||void 0===m?void 0:m.beforeClose])},bodyOpenClassName:"GenericModal__Body--open",isOpen:f},x?{closeTimeoutMS:x}:{}),{},{shouldFocusAfterRender:!0,preventScroll:!0,ariaHideApp:!1,contentLabel:v},S),{},{children:g}))}},41848:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var i=n(67212),r=n(71062);const a="x-settings-tooltip",o="x-settings-tooltipIconWrapper",s="x-settings-tooltipIcon";var l=n(4637),c=function(e){var t=e.message,n=e.placement,c=void 0===n?"top":n,u=e.messageClassName;return(0,l.jsx)("div",{className:a,children:(0,l.jsx)(r.w,{showDelay:0,label:t,placement:c,labelClassName:u,children:(0,l.jsx)("div",{className:o,children:(0,l.jsx)(i.S,{iconSize:16,tabIndex:0,"aria-describedby":r.P,className:s})})})})}},35742:(e,t,n)=>{"use strict";n.d(t,{o:()=>d});var i=n(45389),r=n(980),a=(n(50103),n(22369),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(9237)),o=n.n(a);const s={highlightedText:"main-contextMenu-highlightedText"};var l=n(4637),c=["searchWords","textToHighlight"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){var t=e.searchWords,n=e.textToHighlight,a=(0,r.Z)(e,c);return 0===t.length||t.every((function(e){return!e}))?(0,l.jsx)(l.Fragment,{children:n}):(0,l.jsx)(o(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({highlightClassName:s.highlightedText,searchWords:t,textToHighlight:n,autoEscape:!0},a))}},82015:(e,t,n)=>{"use strict";n.d(t,{IW:()=>k,WQ:()=>y,lh:()=>g});var i=n(8850),r=n(39130),a=n(10995),o=n.n(a),s=(n(162),n(29543),n(22369),n(70969),n(59538),n(79611),n(59496)),l=n(38185),c=n(79105),u=n(89246),d=n(97314),p=n(59468),m=n(69063),f=n(12033),v=n(4637),g=function(e){var t=(0,f.X)(e.images);return{uri:e.uri,imageUrl:null==t?void 0:t.url}},h=(0,s.createContext)({fetchMultipleColors:function(){},resetColor:function(){},setColorFromUri:function(){},clearColor:function(){}}),k=function(e){var t=e.children,n=(0,c.cl)(),a=(0,r.Z)(n,2)[1],f=(0,s.useContext)(m.A).request,g=(0,s.useState)({}),k=(0,r.Z)(g,2),y=k[0],b=k[1],S=(0,s.useState)(l.Sns),x=(0,r.Z)(S,2),O=x[0],w=x[1],N=(0,s.useCallback)((function(){a((0,u.S2)(O))}),[O,a]),_=(0,s.useCallback)((function(){a((0,u.A5)())}),[a]),E=(0,s.useCallback)((function(e){var t=y[e];a((0,u.S2)(t||l.Sns))}),[a,y]),C=(0,s.useCallback)(function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,(0,p.EC)(f,t.map((function(e){return e.imageUrl||""})));case 3:e.sent.forEach((function(e,i){var r=e.colorRaw.toCSS(d.j.HEX);n[t[i].uri]=r,0===i&&w(r)})),b(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]);return(0,v.jsx)(h.Provider,{value:{setColorFromUri:E,resetColor:N,fetchMultipleColors:C,clearColor:_},children:t})};function y(){var e=(0,s.useContext)(h);if(null===e)throw new Error("Trying to use 'ShortcutsColorContext' without 'ShortcutsColorProvider'!");return e}},94715:(e,t,n)=>{"use strict";n.d(t,{S:()=>d});n(69109);var i=n(84875),r=n.n(i),a=n(21293),o=n(10506);const s="artist-artistVerifiedBadge-wrapper",l="artist-artistVerifiedBadge-badge",c="artist-artistVerifiedBadge-fillColor";var u=n(4637),d=function(e){var t=e.text,n=e.iconSize,i=void 0===n?24:n,d=e.className;return(0,u.jsxs)("span",{className:r()(s,d),children:[(0,u.jsx)("div",{className:"".concat(l," ").concat(c)}),(0,u.jsx)(a.T,{semanticColor:"textAnnouncement",className:l,iconSize:i}),t?(0,u.jsx)(o.D,{variant:"mesto",children:t}):null]})}},54221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(30246);var i=n(4637),r=function(e){var t=e.className,n=e.name;return(0,i.jsx)("svg",{height:16,role:"img",width:16,viewBox:"0 0 24 24",className:t,name:n,"aria-hidden":"true",children:(0,i.jsx)("circle",{cx:"50%",cy:"50%",r:"6",fill:"currentColor"})})}},54954:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var i=n(17249);const r={circle:"main-loadingIndicator-circle",loadingIcon:"main-loadingIndicator-loadingIcon"};var a=n(4637);function o(){return(0,a.jsxs)("div",{className:r.loadingIcon,children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"12px",width:"56px",x:"0px",y:"0px",viewBox:"0 0 1 100",xmlSpace:"preserve","":"loadingIcon",children:[(0,a.jsx)("circle",{className:r.circle,cx:"-140",cy:"50",r:"32"}),(0,a.jsx)("circle",{className:r.circle,cx:"0",cy:"50",r:"32"}),(0,a.jsx)("circle",{className:r.circle,cx:"140",cy:"50",r:"32"})]}),(0,a.jsx)("span",{className:"hidden-visually",children:i.ag.get("page.loading")})]})}},97427:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(17249),a=n(53111),o=n(4637);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return(0,o.jsx)(a.V,l(l({},e),{},{text:r.ag.get("paid")}))}},23929:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var i=n(9513),r=n(4637),a=function(e){var t=e.iconSize,n=e.className;return(0,r.jsx)("div",{className:n,children:(0,r.jsx)(i.G,{iconSize:t,"aria-hidden":!0})})}},60565:(e,t,n)=>{"use strict";n.d(t,{uL:()=>h,Hy:()=>g,Hs:()=>b});n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(39130),r=n(8850),a=n(45389),o=n(980),s=n(10995),l=n.n(s),c=(n(43125),n(27639),n(4302),n(66469),n(31594),n(22369),n(8760),n(79611),n(40265),n(46743),n(59496));const u="main-imagePicker-fileInput";var d=n(4637),p=["onChange","onError","isOpen","minImageWidth","minImageHeight","maxFileSizeMB"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={accept:"image/.jpg, image/.jpeg, image/.png"},g=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e}({}),h=function(e){var t=e.onChange,n=e.onError,a=e.isOpen,s=void 0!==a&&a,m=e.minImageWidth,h=void 0===m?0:m,b=e.minImageHeight,S=void 0===b?0:b,x=e.maxFileSizeMB,O=void 0===x?1/0:x,w=(0,o.Z)(e,p),N=c.useRef(null),_=f(f({},v),w);(0,c.useEffect)((function(){N.current&&s&&N.current.click()}),[N,s]);var E=1048576*O;function C(){return(C=(0,r.Z)(l().mark((function e(r){var a,o,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.target,o=Array.from(a.files||[]),s=(0,i.Z)(o,1),c=s[0],e.next=4,j(c);case 4:return u=e.sent,e.prev=5,e.next=8,P(u);case 8:t(u),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(5),"string"!=typeof e.t0||!Object.values(g).includes(e.t0)){e.next=17;break}n(e.t0),e.next=18;break;case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function P(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.imageWidth<h||t.imageHeight<S)){e.next=2;break}throw g.IMAGE_TOO_SMALL;case 2:if(!(t.imageFile.size>E)){e.next=4;break}throw g.FILE_TOO_BIG;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(l().mark((function e(t){var n,r,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return n=e.sent,e.next=5,y(n);case 5:return r=e.sent,a=(0,i.Z)(r,2),o=a[0],s=a[1],e.abrupt("return",{imageFile:t,imageDataUrl:n,imageWidth:o,imageHeight:s});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsx)("input",f(f({},_),{},{type:"file","":"image-file-picker",ref:N,className:u,onChange:function(e){return C.apply(this,arguments)}}))};function k(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){var e;t(null===(e=i.result)||void 0===e?void 0:e.toString())},i.onerror=function(e){return n(e)}}))}function y(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){var e=i.width,n=i.height;t([e,n])},i.src=e,i.onerror=function(e){return n(e)}}))}n(94562);function b(){var e=(0,c.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1];return[n,(0,c.useCallback)((function(){r(!0),setTimeout((function(){return r(!1)}),0)}),[r])]}},12786:(e,t,n)=>{"use strict";n.d(t,{X:()=>m});var i=n(45389),r=n(84875),a=n.n(r),o=n(10506),s=n(82504);const l="pIZVZOfjnJGth1BcoA1E",c="ZBBTIITnUdwh05dCI0tm",u="sz8Nwj2lvhOZxDwYWRQr",d="jjPsW7vuG9xH9qhEGL3I";var p=n(4637),m=function(e){var t=e.message,n=e.isErrorMessage,r=void 0!==n&&n;return t?(0,p.jsx)("div",{role:"alert",children:(0,p.jsx)("div",{className:a()(l,(0,i.Z)({},c,r)),children:(0,p.jsxs)(o.D,{as:"p",variant:"finale",className:u,children:[(0,p.jsx)(s.l,{iconSize:16,className:d,"aria-hidden":"true"}),t]})})}):null}},67720:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(8990),r=n(88843),a=n(4637),o=function(e){var t=e.uri,n=e.enabled,o=e.className,s=e.children,l=(0,i.E)();return n&&l?(0,a.jsx)(r.default,{to:t,className:o,children:s}):(0,a.jsx)(a.Fragment,{children:s})}},50339:(e,t,n)=>{"use strict";n.d(t,{X8:()=>v,lb:()=>f});var i,r=n(45389),a=n(38674),o=n(17249),s=n(47900),l=n(30697),c=n(33863),u=n(10785),d="macOS"===(0,l.y)(),p=(0,s.ZO)()===c.W.Desktop,m=function(e){return e.OPEN_HELP="OPEN_HELP",e.RAISE_VOLUME="RAISE_VOLUME",e.LOWER_VOLUME="LOWER_VOLUME",e.SKIP_PREVIOUS="SKIP_PREVIOUS",e.SKIP_NEXT="SKIP_NEXT",e.TOGGLE_PLAY="TOGGLE_PLAY",e.SHUFFLE="SHUFFLE",e.REPEAT="REPEAT",e.SEEK_BACKWARD="SEEK_BACKWARD",e.SEEK_FORWARD="SEEK_FORWARD",e.GO_TO_NOW_PLAYING="GO_TO_NOW_PLAYING",e.GO_TO_HOME="GO_TO_HOME",e.GO_TO_PLAYLISTS="GO_TO_PLAYLISTS",e.GO_TO_ARTISTS="GO_TO_ARTISTS",e.GO_TO_ALBUMS="GO_TO_ALBUMS",e.GO_TO_PODCASTS="GO_TO_PODCASTS",e.GO_TO_LIKED_SONGS="GO_TO_LIKED_SONGS",e.GO_TO_MADE_FOR_YOU="GO_TO_MADE_FOR_YOU",e.GO_TO_CHARTS="GO_TO_CHARTS",e.GO_TO_SEARCH="GO_TO_SEARCH",e.GO_TO_PREFERENCES="GO_TO_PREFERENCES",e.CREATE_NEW_PLAYLIST="CREATE_NEW_PLAYLIST",e.CREATE_NEW_FOLDER="CREATE_NEW_FOLDER",e.SELECT_ALL="SELECT_ALL",e.FILTER="FILTER",e.GO_FORWARDS="GO_FORWARDS",e.GO_BACKWARDS="GO_BACKWARDS",e.LIKE_DISLIKE_SONG="LIKE_DISLIKE_SONG",e.GO_TO_NEW_RELEASES="GO_TO_NEW_RELEASES",e.GO_TO_QUEUE="GO_TO_QUEUE",e.LOG_OUT="LOG_OUT",e.OPEN_CONTEXT_MENU="OPEN_CONTEXT_MENU",e.NAVIGATION_BAR_DECREASE_WIDTH="NAVIGATION_BAR_DECREASE_WIDTH",e.NAVIGATION_BAR_INCREASE_WIDTH="NAVIGATION_BAR_INCREASE_WIDTH",e.RIGHT_SIDEBAR_DECREASE_WIDTH="RIGHT_SIDEBAR_DECREASE_WIDTH",e.RIGHT_SIDEBAR_INCREASE_WIDTH="RIGHT_SIDEBAR_INCREASE_WIDTH",e.OPEN_SEARCH_MODAL="OPEN_SEARCH_MODAL",e.TOGGLE_DEBUG_WINDOW="TOGGLE_DEBUG_WINDOW",e.FOCUS_YLX_TEXT_FILTER="FOCUS_YLX_TEXT_FILTER",e}({}),f=(i={},(0,r.Z)(i,m.OPEN_SEARCH_MODAL,["mod+k"]),(0,r.Z)(i,m.OPEN_HELP,["mod+/","?"]),(0,r.Z)(i,m.CREATE_NEW_PLAYLIST,[p?"mod+n":"alt+shift+p"]),(0,r.Z)(i,m.LIKE_DISLIKE_SONG,["alt+shift+b"]),(0,r.Z)(i,m.LOG_OUT,["alt+shift+f6"]),(0,r.Z)(i,m.CREATE_NEW_FOLDER,[p?"mod+shift+n":"mod+alt+shift+p"]),(0,r.Z)(i,m.SELECT_ALL,["mod+a"]),(0,r.Z)(i,m.FILTER,["mod+f"]),(0,r.Z)(i,m.TOGGLE_PLAY,["space"]),(0,r.Z)(i,m.SEEK_BACKWARD,[d?"mod+shift+left":"shift+left"]),(0,r.Z)(i,m.SEEK_FORWARD,[d?"mod+shift+right":"shift+right"]),(0,r.Z)(i,m.SHUFFLE,[p?"mod+s":"alt+s"]),(0,r.Z)(i,m.REPEAT,[p?"mod+r":"alt+r"]),(0,r.Z)(i,m.RAISE_VOLUME,[p?"mod+up":"alt+up"]),(0,r.Z)(i,m.LOWER_VOLUME,[p?"mod+down":"alt+down"]),(0,r.Z)(i,m.SKIP_PREVIOUS,[p?"mod+left":"alt+left"]),(0,r.Z)(i,m.SKIP_NEXT,[p?"mod+right":"alt+right"]),(0,r.Z)(i,m.GO_TO_PLAYLISTS,["alt+shift+1"]),(0,r.Z)(i,m.GO_TO_PODCASTS,["alt+shift+2"]),(0,r.Z)(i,m.GO_TO_ARTISTS,["alt+shift+3"]),(0,r.Z)(i,m.GO_TO_ALBUMS,["alt+shift+4"]),(0,r.Z)(i,m.GO_TO_HOME,["alt+shift+h"]),(0,r.Z)(i,m.GO_TO_PREFERENCES,["mod+,"]),(0,r.Z)(i,m.GO_BACKWARDS,p?["mod+alt+left","alt+left"]:["mod+left"]),(0,r.Z)(i,m.GO_FORWARDS,p?["mod+alt+right","alt+right"]:["mod+right"]),(0,r.Z)(i,m.GO_TO_SEARCH,[p?"mod+l":"mod+shift+l"]),(0,r.Z)(i,m.GO_TO_NOW_PLAYING,["alt+shift+j"]),(0,r.Z)(i,m.GO_TO_LIKED_SONGS,["alt+shift+s"]),(0,r.Z)(i,m.GO_TO_MADE_FOR_YOU,["alt+shift+m"]),(0,r.Z)(i,m.GO_TO_NEW_RELEASES,["alt+shift+n"]),(0,r.Z)(i,m.GO_TO_CHARTS,["alt+shift+c"]),(0,r.Z)(i,m.GO_TO_QUEUE,["alt+shift+q"]),(0,r.Z)(i,m.OPEN_CONTEXT_MENU,["alt+j"]),(0,r.Z)(i,m.NAVIGATION_BAR_DECREASE_WIDTH,["alt+shift+left"]),(0,r.Z)(i,m.NAVIGATION_BAR_INCREASE_WIDTH,["alt+shift+right"]),(0,r.Z)(i,m.RIGHT_SIDEBAR_DECREASE_WIDTH,["alt+shift+up"]),(0,r.Z)(i,m.RIGHT_SIDEBAR_INCREASE_WIDTH,["alt+shift+down"]),(0,r.Z)(i,m.TOGGLE_DEBUG_WINDOW,["alt+command+x"]),(0,r.Z)(i,m.FOCUS_YLX_TEXT_FILTER,p?["mod+alt+f"]:["shift+mod+alt+f"]),i);function v(){var e=(0,a.W6)(u.yA,{loadingValue:!1}),t=(0,a.W6)(u.t$,{loadingValue:!1});return{basic:[{action:m.CREATE_NEW_PLAYLIST,get description(){return o.ag.get("playlist.new-header")},enabled:!0},{action:m.CREATE_NEW_FOLDER,get description(){return o.ag.get("keyboard.shortcuts.description.createNewFolder")},enabled:!0},{action:m.OPEN_CONTEXT_MENU,get description(){return o.ag.get("keyboard.shortcuts.description.openContextMenu")},enabled:!0},{action:m.OPEN_SEARCH_MODAL,get description(){return o.ag.get("keyboard.shortcuts.description.openSearchModal")},enabled:!0},{action:m.SELECT_ALL,get description(){return o.ag.get("keyboard.shortcuts.description.selectAll")},enabled:p},{action:m.FILTER,get description(){return o.ag.get("filter")},enabled:p},{action:m.FOCUS_YLX_TEXT_FILTER,get description(){return o.ag.get("web-player.your-library-x.text-filter.generic-placeholder")},enabled:e},{action:m.LOG_OUT,get description(){return o.ag.get("user.log-out")},enabled:!0}],playback:[{action:m.TOGGLE_PLAY,get description(){return o.ag.get("keyboard.shortcuts.description.togglePlay")},enabled:!0},{action:m.LIKE_DISLIKE_SONG,get description(){return o.ag.get("keyboard.shortcuts.description.likeDislikeSong")},enabled:!0},{action:m.SHUFFLE,get description(){return o.ag.get("keyboard.shortcuts.description.shuffle")},enabled:!0},{action:m.REPEAT,get description(){return o.ag.get("keyboard.shortcuts.description.repeat")},enabled:!0},{action:m.SKIP_PREVIOUS,get description(){return o.ag.get("keyboard.shortcuts.description.skipPrev")},enabled:!0},{action:m.SKIP_NEXT,get description(){return o.ag.get("keyboard.shortcuts.description.skipNext")},enabled:!0},{action:m.SEEK_BACKWARD,get description(){return o.ag.get("keyboard.shortcuts.description.seekBackward")},enabled:!0},{action:m.SEEK_FORWARD,get description(){return o.ag.get("keyboard.shortcuts.description.seekForward")},enabled:!0},{action:m.RAISE_VOLUME,get description(){return o.ag.get("keyboard.shortcuts.description.raiseVolume")},enabled:!0},{action:m.LOWER_VOLUME,get description(){return o.ag.get("keyboard.shortcuts.description.lowerVolume")},enabled:!0}],navigation:[{action:m.GO_TO_HOME,get description(){return o.ag.get("keyboard.shortcuts.description.home")},enabled:!0},{action:m.GO_BACKWARDS,get description(){return o.ag.get("keyboard.shortcuts.description.goBackwards")},enabled:!0},{action:m.GO_FORWARDS,get description(){return o.ag.get("keyboard.shortcuts.description.goForwards")},enabled:!0},{action:m.GO_TO_PREFERENCES,get description(){return o.ag.get("keyboard.shortcuts.description.goToPreferences")},enabled:p},{action:m.GO_TO_NOW_PLAYING,get description(){return o.ag.get("keyboard.shortcuts.description.currentlyPlaying")},enabled:!0},{action:m.GO_TO_SEARCH,get description(){return o.ag.get("keyboard.shortcuts.description.search")},enabled:!0},{action:m.GO_TO_LIKED_SONGS,get description(){return o.ag.get("keyboard.shortcuts.description.likedSongs")},enabled:!0},{action:m.GO_TO_QUEUE,get description(){return o.ag.get("playback-control.queue")},enabled:!0},{action:m.GO_TO_PLAYLISTS,get description(){return o.ag.get("keyboard.shortcuts.description.yourPlaylists")},enabled:!0},{action:m.GO_TO_PODCASTS,get description(){return o.ag.get("keyboard.shortcuts.description.yourPodcasts")},enabled:!0},{action:m.GO_TO_ARTISTS,get description(){return o.ag.get("keyboard.shortcuts.description.yourArtists")},enabled:!0},{action:m.GO_TO_ALBUMS,get description(){return o.ag.get("keyboard.shortcuts.description.yourAlbums")},enabled:!0},{action:m.GO_TO_MADE_FOR_YOU,get description(){return o.ag.get("keyboard.shortcuts.description.madeForYour")},enabled:!0},{action:m.GO_TO_NEW_RELEASES,get description(){return o.ag.get("new_releases")},enabled:!0},{action:m.GO_TO_CHARTS,get description(){return o.ag.get("keyboard.shortcuts.description.charts")},enabled:!0}],layout:[{action:m.NAVIGATION_BAR_DECREASE_WIDTH,get description(){return o.ag.get("keyboard.shortcuts.layout.navigationBarDecreaseWidth")},enabled:!0},{action:m.NAVIGATION_BAR_INCREASE_WIDTH,get description(){return o.ag.get("keyboard.shortcuts.layout.navigationBarIncreaseWidth")},enabled:!0},{action:m.RIGHT_SIDEBAR_DECREASE_WIDTH,get description(){return o.ag.get("keyboard.shortcuts.layout.rightSidebarDecreaseWidth")},enabled:!0},{action:m.RIGHT_SIDEBAR_INCREASE_WIDTH,get description(){return o.ag.get("keyboard.shortcuts.layout.rightSidebarIncreaseWidth")},enabled:!0}],employee:[{action:m.TOGGLE_DEBUG_WINDOW,description:"Toggle Debug Window",enabled:t}]}}},23558:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var i=n(39130),r=(n(5538),n(72304),n(22369),n(92346),n(82088),n(40274),n(16925),n(72649),n(47921),n(85598),n(98853),n(96807),n(65394),n(78819),n(59496)),a=n(84875),o=n.n(a),s=n(66685),l=n.n(s),c=n(85830),u=n(3643),d=n(55590),p=n(24590),m=n(4637),f=function(e){return e[e.DOWN=-1]="DOWN",e[e.NONE=0]="NONE",e[e.UP=1]="UP",e}(f||{}),v=function(e){var t,n=e.cssCustomProperty,a=e.min,s=e.max,v=e.ranges,g=void 0===v?"number"==typeof a&&"number"==typeof s?[[a,s]]:[]:v,h=e.value,k=e.initialValue,y=e.onCSSPropertyChange,b=e.label,S=e.placement,x=e.elementRef,O=e.decreaseSizeKeyboardCombination,w=e.increaseSizeKeyboardCombination,N=(0,r.useState)(!1),_=(0,i.Z)(N,2),E=_[0],C=_[1],P=(0,r.useRef)(y);P.current=y;var I=parseInt(getComputedStyle(document.documentElement).getPropertyValue(n),10),j=(0,r.useState)(null!=k?k:I),A=(0,i.Z)(j,2),T=A[0],D=A[1],R=(0,u.S)(),F=(0,r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.NONE;if(g.some((function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return r<=e&&e<=a})))return e;switch(t){case f.NONE:var n=(0,i.Z)(g.slice().sort((function(t,n){var r=(0,i.Z)(t,2),a=r[0],o=r[1],s=(0,i.Z)(n,2),l=s[0],c=s[1];return Math.min(Math.abs(a-e),Math.abs(o-e))-Math.min(Math.abs(l-e),Math.abs(c-e))}))[0],2),r=n[0],a=n[1];return e<r?r:a;case f.UP:var o,s=g.find((function(t,n){var r,a,o=(0,i.Z)(t,1)[0];return(null!==(r=null===(a=g[n-1])||void 0===a?void 0:a[1])&&void 0!==r?r:0)<e&&e<o}));return null!==(o=null==s?void 0:s[0])&&void 0!==o?o:e;case f.DOWN:var l,c=g.find((function(t,n){var r,a,o=(0,i.Z)(t,2),s=(o[0],o[1]),l=null!==(r=null===(a=g[n+1])||void 0===a?void 0:a[0])&&void 0!==r?r:1/0;return s<e&&e<l}));return null!==(l=null==c?void 0:c[1])&&void 0!==l?l:e;default:return(0,d._)(t),e}}),[g]),L=(0,r.useCallback)((function(e){if(!x.current)return null;var t=x.current.getBoundingClientRect();return"inline-start"===S?R?e-t.left:t.right-e:"inline-end"===S?R?t.right-e:e-t.left:null}),[S,x,R]),M=(0,r.useCallback)((function(e){document.documentElement.style.setProperty(n,"".concat(e,"px"))}),[n]),U=(0,r.useCallback)((function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e){var i=F(e);M(i),D(i),n||null===(t=P.current)||void 0===t||t.call(P,i)}}),[F,M]),Z=(0,c.y1)(U,50,{leading:!0,maxWait:100});if((0,r.useEffect)((function(){void 0!==h&&Z(h)}),[h,Z]),(0,r.useLayoutEffect)((function(){void 0!==k&&U(k,!0)}),[k,U]),Number.isNaN(T)){var B=(g[0][1]-g[0][0])/2;console.error("[LayoutResizer] css property value is not a number. Defaulting to ".concat(B)),U(B)}var V=(0,r.useCallback)((function(e){S.startsWith("inline")?Z(L(e.clientX)):Z(L(e.clientY))}),[S,Z,L]),H=(0,r.useCallback)((function(){var e=document.getElementById("Desktop_PanelContainer_Id");null==e||e.classList.add("disableTransitions");C(!0),document.addEventListener("mouseup",(function(){C(!1),document.removeEventListener("mousemove",V),null==e||e.classList.remove("disableTransitions")}),{once:!0}),document.addEventListener("mousemove",V)}),[V]);(0,r.useEffect)((function(){return O&&l().bind(O,(function(){U(F(T-10,-1))})),w&&l().bind(w,(function(){U(F(T+10,1))})),function(){O&&l().unbind(O),w&&l().unbind(w)}}),[O,F,w,T,U]);var G=parseInt((null===(t=x.current)||void 0===t?void 0:t.style.zIndex)||"0",10),W=g[0][0],z=g[g.length-1][1];return(0,m.jsxs)(m.Fragment,{children:[E&&(0,m.jsx)("div",{className:"LayoutResizer__resize-overlay",style:{zIndex:G+1}}),(0,m.jsx)("div",{"":"LayoutResizer__resize-bar",onMouseDown:H,style:{zIndex:G+1},className:o()("LayoutResizer__resize-bar",{"LayoutResizer__resize-bar--resizing":E,"LayoutResizer__inline-start":"inline-start"===S,"LayoutResizer__inline-end":"inline-end"===S,"LayoutResizer__block-start":"block-start"===S,"LayoutResizer__block-end":"block-end"===S,"LayoutResizer__resize-bar-east":"inline-start"===S?T===z:T===W,"LayoutResizer__resize-bar-west":"inline-start"===S?T===W:T===z}),onDoubleClick:function(){var e=g.findIndex((function(e){return(0,i.Z)(e,1)[0]===T})),t=g.findIndex((function(e){var t=(0,i.Z)(e,2);t[0];return t[1]===T}));if(-1!==t){var n=g.at(t+1);n&&U(n[0])}else if(-1!==e){var r=g.at(e-1);r&&U(r[1])}},children:(0,m.jsx)(p.q,{className:"LayoutResizer__input",type:"range",min:W,max:z,onChange:function(e){if(!E){var t=parseInt(e.target.value,10);t=F(t,Math.sign(t-T)),Z(t)}},value:null!=h?h:T,step:10,children:b})})]})}},88843:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Link:()=>k,default:()=>b});var i=n(45389),r=n(980),a=(n(16366),n(70785),n(69109),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(47393),s=n(59272),l=n(17249),c=n(87164),u=n(78742),d=n(93381),p=n(98335),m=n(90775),f=n(4637),v=["to","pageId","onClick","children","draggable","state","search","pathname","tabIndex"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,a.memo)((0,a.forwardRef)((function(e,t){var n,i=e.to,g=e.pageId,k=e.onClick,b=e.children,S=e.draggable,x=void 0!==S&&S,O=e.state,w=e.search,N=e.pathname,_=e.tabIndex,E=(0,r.Z)(e,v),C=(0,m.o)(),P=(0,u.g)(),I=(0,a.useContext)(c.DJ),j=l.ag.getUrlLocale(),A=N||(0,s.EC)(i,{parseUnknown:!0}),T=y(A)?A.toURLPath(!0):A,D=(0,s.EC)(T,{parseUnknown:!0}),R=(0,p.k)({uri:null==D?void 0:D.toURI(),type:"link"}),F=h({onClick:(0,a.useCallback)((function(e){var t;(C({intent:"navigate",type:"click",targetUri:i}),k)&&k(e,null===(t=(0,s.EC)(i,{parseUnknown:!0}))||void 0===t?void 0:t.toURI())}),[C,i,k]),draggable:x},E),L=h(h({pageId:g},O),{},{referrer:e.referrer||I||P.getReferrer()});if(A)return n=y(A)?R?(0,d.is)(A.toURLPath(!0),j):A.toURLPath(!0):R?(0,d.is)(A,j):A,(0,f.jsx)(o.rU,h(h({},F),{},{ref:t,to:{pathname:n,search:w},state:L,tabIndex:_,children:b}));var M=w?"".concat(i).concat(w):i;return(0,f.jsx)("a",h(h({},F),{},{ref:t,href:M,target:"_blank",rel:"noopener nofollow",tabIndex:_,children:b}))})));function y(e){return!!e&&"string"!=typeof e}const b=k},46747:(e,t,n)=>{"use strict";n.d(t,{O:()=>m});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(59496),o=n(47393),s=n(78742),l=n(90775),c=n(4637),u=["onClick","to","referrer","navigationalRoot"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,a.memo)((0,a.forwardRef)((function(e,t){var n=e.onClick,i=e.to,d=e.referrer,m=e.navigationalRoot,f=(0,r.Z)(e,u),v=(0,s.g)(),g=(0,l.o)(),h=(0,a.useCallback)((function(e){g({intent:"navigate",type:"click",targetUri:i}),n&&n(e)}),[g,n,i]);return(0,c.jsx)(o.OL,p(p({ref:t,draggable:!1,end:e.end,to:i,state:{referrer:d||v.getReferrer(),navigationalRoot:m},"aria-label":e["aria-label"],tabIndex:e.tabIndex,onClick:h},f),{},{children:e.children}))})))},68833:(e,t,n)=>{"use strict";n.d(t,{h:()=>k});var i=n(39130),r=(n(94562),n(59496)),a=n(31761),o=n(10506),s=n(82504),l=n(17249),c=n(45389);n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){switch(t.type){case"LOADING":return d(d({},e),{},{loading:!0});case"ERROR":return d(d({},e),{},{loading:!1,error:!0});default:return e}}var m=n(76956),f=n(54954);const v="main-loadingPage-container";var g=n(4637),h=function(e){var t=e.loading,n=void 0===t||t;return(0,g.jsx)("div",{className:v,children:n?(0,g.jsx)(f.H,{}):null})},k=function(e){var t=e.hasError,n=e.errorMessage,c=e.loadOffline,u=void 0!==c&&c,d=e.timeoutInMs,f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,a=(0,r.useReducer)(p,{loading:!1,error:e}),o=(0,i.Z)(a,2),s=o[0],l=o[1];return(0,r.useEffect)((function(){if(e)return l({type:"ERROR"}),function(){};var t=setTimeout((function(){l({type:"LOADING"})}),200);return function(){clearTimeout(t)}}),[e]),(0,r.useEffect)((function(){var e;return t&&(e=window.setTimeout((function(){l({type:"ERROR"})}),n)),function(){clearTimeout(e)}}),[s.loading,t,n]),[s.loading,t,s.error]}(t,(0,m.k)(),d),k=(0,i.Z)(f,3),y=k[0],b=k[1],S=k[2],x=(0,r.useState)(!1),O=(0,i.Z)(x,2),w=O[0],N=O[1];return(0,r.useEffect)((function(){var e=setTimeout((function(){N(!0)}),1e3);return function(){clearTimeout(e)}}),[]),b||u?S?(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)(s.l,{iconSize:64,"aria-hidden":"true"}),(0,g.jsx)(o.D,{as:"p",variant:"alto",children:n}),(0,g.jsx)(o.D,{as:"p",variant:"ballad",children:l.ag.get("error.not_found.body")})]}):w?(0,g.jsx)(h,{loading:y}):(0,g.jsx)("div",{}):(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)(a.i,{iconSize:64,"aria-hidden":"true"}),(0,g.jsx)(o.D,{as:"p",variant:"alto",children:l.ag.get("offline.feedback-text")})]})}},18713:(e,t,n)=>{"use strict";n.d(t,{R:()=>g});n(29543),n(22369),n(70969),n(31594),n(94562);var i=n(59496),r=n(84875),a=n.n(r),o=n(31588),s=n(3643),l=n(939),c=n(23066);const u="main-trackInfo-overlay",d="main-trackInfo-rightToLeft",p="main-trackInfo-equalGradientWidth",m="main-trackInfo-contentContainer",f="main-trackInfo-contentWrapper";var v=n(4637),g=function(e){var t=e.children,n=e.title,r=e.speed,g=void 0===r?.2:r,h=e.pauseAtEndEdgeDurationMs,k=void 0===h?1200:h,y=e.initialMouseIntDelayMs,b=void 0===y?200:y,S=e.startAnimationOnMount,x=void 0===S||S,O=e.startAnimationOnMountDelayMs,w=void 0===O?1e3:O,N=e.iterationCount,_=void 0===N?"single":N,E=e.iterationCountOnTouchDevices,C=void 0===E?"infinite":E,P=e.scrollMethod,I=void 0===P?"transform":P,j=e.equalGradientWidth,A=(0,i.useRef)(null),T=(0,i.useRef)(null),D=(0,i.useRef)(null),R=(0,i.useRef)(0),F=(0,i.useRef)("scrolling"),L=(0,s.S)()?"rtl":"ltr",M=(0,i.useRef)("ltr"),U=(0,i.useRef)(_),Z=(0,l.T)(),B=(0,o.a)("(any-pointer: coarse)"),V=(0,i.useRef)({initialMouseInteraction:null,animationOnMount:null}),H=(0,i.useCallback)((function(){return D.current&&A.current?D.current.clientWidth-A.current.clientWidth:0}),[]),G=(0,i.useCallback)((function(){return"rtl"===M.current?1:-1}),[M]),W=(0,i.useCallback)((function(){var e=H();return e>0&&L!==M.current?0+-1*G()*e:0}),[H,L,G]),z=(0,i.useCallback)((function(){var e;null===(e=D.current)||void 0===e||e.style.setProperty("--trans-x","".concat(W(),"px"))}),[W]),K=(0,i.useCallback)((function(){if(!Z&&!R.current){var e=!1,t=0,n=1,i=!1;F.current="scrolling",function r(a){var o=H();if(!(o<=0)){var s=!0,l=t;if(e){if(i)a>i+k&&(i=!1);else if("paused"===F.current);else{(l+=n*(60*(a-e)/1e3)*g)>o?(n*=-1,i=a,l=o):l<0&&(n*=-1,i=a,l=0,s="infinite"===U.current)}if(t=l,"transform"===I){var c,u=G()*t+W();null===(c=D.current)||void 0===c||c.style.setProperty("--trans-x","".concat(u,"px")),T.current.scrollLeft=0}else"scroll"===I&&(T.current.scrollLeft=t)}e=a,R.current=0,s&&(R.current=requestAnimationFrame(r))}}(0)}}),[g,k,I,G,W,H,Z]),Y=(0,i.useCallback)((function(){return R.current}),[]),q=(0,i.useCallback)((function(){F.current="paused"}),[]),Q=(0,i.useCallback)((function(){F.current="scrolling"}),[]),J=(0,i.useCallback)((function(){cancelAnimationFrame(R.current),F.current="paused",R.current=0}),[]),X=(0,i.useCallback)((function(){Object.values(V.current).forEach((function(e){return e&&clearTimeout(e)}))}),[]),$=(0,i.useCallback)((function(e){Y()?q():"focus"!==e&&(V.current.initialMouseInteraction=setTimeout(K,b))}),[K,q,b,Y]),ee=(0,i.useCallback)((function(){V.current.initialMouseInteraction&&clearTimeout(V.current.initialMouseInteraction),Y()&&Q()}),[Q,Y]);return(0,i.useEffect)((function(){x&&(V.current.animationOnMount&&clearTimeout(V.current.animationOnMount),V.current.animationOnMount=setTimeout(K,w))}),[K,w,x]),(0,i.useEffect)((function(){return function(){J(),X(),z()}}),[J,X,z]),(0,i.useEffect)((function(){var e,t,n=null===(e=D.current)||void 0===e?void 0:e.children[0];n&&(M.current=getComputedStyle(n).direction,"rtl"===M.current&&(null===(t=A.current)||void 0===t||t.classList.add(d)));z()}),[L,W,z]),(0,c.y)({onResize:function(){J(),z()},refOrElement:A,observeOnly:"width"}),(0,i.useEffect)((function(){B&&(U.current=C)}),[B,C]),(0,v.jsx)("div",{ref:A,className:a()(u,j&&p),onMouseOver:function(){return $("mouse")},onFocus:function(){return $("focus")},onMouseOut:ee,onBlur:ee,title:Z&&n?n:void 0,children:(0,v.jsx)("div",{ref:T,className:m,children:(0,v.jsx)("div",{ref:D,className:a()(f,j&&p),children:t})})})}},20346:(e,t,n)=>{"use strict";n.d(t,{D:()=>d,V:()=>c});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(17249),a=n(38156),o=n(4637);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c="createPlaylist",u={getTitle:function(){return r.ag.get("action-trigger.create-playlist")},getDescription:function(){return r.ag.get("action-trigger.login-playlist")}},d=function(e){var t=e.children,n=e.renderInline;return(0,o.jsx)(a.P,{id:c,options:l(l({},u),{},{renderInline:n}),children:t})}},34148:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_e});n(83001),n(22369),n(8760),n(27639),n(71756);var i=n(59496),r=n(61740),a=n(38674),o=n(84377),s=n(96692),l=n(54691),c=n(93867),u=n(50099),d=n(37557),p=n(64848),m=n(16034),f=n(75081),v=n(76436),g=n(43709),h=n(5967),k=n(4637),y=o.NQ[0][1],b=function(){var e,t=(0,g.o)().expandedState,n=(0,h.x)(),i=(0,s.O)();if(null===n)return null;var r=t===c.NowPlayingCoverStateEnum.expanded,a=n.context,o=n.item,b=n.index;return(0,k.jsx)(l._,{menu:(0,k.jsx)(d.$,{context:a,item:o}),children:(0,k.jsx)("div",{draggable:(0,v.Q)(o),onDragStart:function(e){i(e,[o.uri],(0,f.R)(o))},children:(0,k.jsx)(m.y,{uri:a.uri,owner:null===(e=a.metadata)||void 0===e?void 0:e.context_owner,children:(0,k.jsx)(p.R,{referrer:"now_playing_bar",context:a,item:o,index:b,isVisible:r,adEventReason:"cover_art_expanded",children:(0,k.jsx)(u.T,{item:o,maxSize:y,desiredLabel:"xlarge"})})})})})},S=n(49823),x=n(10785),O=n(9271),w=n(24122),N=n(76788),_=n(37297);const E="main-coverSlotExpanded-container",C="main-coverSlotExpanded-containerExpanding",P="main-coverSlotExpanded-enter",I="main-coverSlotExpanded-enterActive",j="main-coverSlotExpanded-expanding",A="main-coverSlotExpanded-exitActive";var T=function(e){var t=e.children,n=e.renderActionButton,r=(0,g.o)(),o=r.expandedState,s=r.setTransientForcedExpandedState,l=(0,a.W6)(x.yA,{loadingValue:!1}),u=o===c.NowPlayingCoverStateEnum.expanded,d=(0,O.Y)((function(e){var t;return{hasContext:null==e?void 0:e.hasContext,isPlayingAd:(0,w.k6)(null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0)}})),p=d.hasContext,m=d.isPlayingAd;(0,i.useEffect)((function(){s(m?c.NowPlayingCoverStateEnum.expanded:c.NowPlayingCoverStateEnum.none)}),[m,s]);var f=u&&p,v=(0,a.W6)(x.JI),h=(0,_.m)();return v&&h===N.s.NowPlayingView?null:(0,k.jsx)(S.Z,{in:f,timeout:250,unmountOnExit:!0,classNames:{enter:P,enterActive:l?j:I,exitActive:A},children:(0,k.jsxs)("div",{"":"CoverSlotExpanded__container",className:l?C:E,children:[t,n()]})})},D=n(84875),R=n.n(D),F=n(48855),L=n(17249),M=n(71062);const U="main-coverSlotExpandedCollapseButton-collapseButton";var Z=function(){var e=(0,g.o)().setLocalStorageExpandedState;return(0,k.jsx)(M.w,{label:L.ag.get("npb.collapseCoverArt"),children:(0,k.jsx)("button",{className:R()("CoverSlotExpanded__actionButton",U),onClick:function(){e(c.NowPlayingCoverStateEnum.collapsed)},"aria-label":L.ag.get("npb.collapseCoverArt"),children:(0,k.jsx)(F.C,{iconSize:16})})})},B=n(78142),V=n(45389),H=n(29617),G=n(10506),W=(n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(39130)),z=n(90775);const K="KgjFD1C8GPOqiAMEI4Wl",Y="Yw9u5QqYvW1sY8hr729O",q="UrxMTgMjpBSI1WOXf2wV";var Q=i.memo((function(e){var t=e.onClick,n=(0,z.o)(),r=(0,i.useCallback)((function(e){n({intent:"install-app",type:"click",targetUri:"/install-pwa"}),t(e)}),[n,t]);return(0,k.jsxs)("button",{onClick:r,className:K,children:[(0,k.jsx)("div",{className:Y,children:(0,k.jsx)("svg",{viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",children:(0,k.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M50.9288482,28.3686995 C40.6139223,22.2429099 23.5996824,21.6796628 13.7528525,24.668235 C12.1712611,25.1477974 10.4991074,24.2551616 10.020312,22.674325 C9.54075242,21.0919599 10.4326187,19.4209426 12.0153564,18.9402338 C23.3188247,15.5091649 42.1091547,16.1717636 53.9838913,23.2207587 C55.4065211,24.0648651 55.8727065,25.9021053 55.0297516,27.3220687 C54.1860323,28.7439428 52.3476568,29.213188 50.9288482,28.3686995 M50.5910548,37.4417921 C49.8677032,38.6160515 48.3323482,38.9840345 47.1592422,38.2633534 C38.5600315,32.9774668 25.4464645,31.4459238 15.2725406,34.5342297 C13.953465,34.9331646 12.5598763,34.1887919 12.1594154,32.8720012 C11.7616293,31.5529179 12.5056154,30.1616135 13.8227803,29.7607681 C25.4453181,26.2337867 39.8932454,27.9418698 49.7702628,34.0118696 C50.9429866,34.7340793 51.3121138,36.2702077 50.5910548,37.4417921 M46.6754793,46.1553085 C46.1003899,47.0983843 44.8726409,47.3937643 43.9330097,46.8190535 C36.4186355,42.2263353 26.9604208,41.1892576 15.8216459,43.7334225 C14.748273,43.9798909 13.6787213,43.3069749 13.4337829,42.2335956 C13.1876981,41.1605985 13.8579352,40.0906583 14.9336008,39.8457184 C27.1232036,37.0589064 37.5791315,38.2583858 46.0140309,43.4124404 C46.9544263,43.986769 47.2505687,45.2152896 46.6754793,46.1553085 M31.9998089,0 C14.3271776,0 0,14.3268811 0,31.9996179 C0,49.6742653 14.3271776,64 31.9998089,64 C49.6732045,64 64,49.6742653 64,31.9996179 C64,14.3268811 49.6732045,0 31.9998089,0"})})}),(0,k.jsx)(G.D,{variant:"ballad",as:"div",weight:"bold",className:q,children:L.ag.get("pwa.download-app")})]})})),J=n(88979);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,V.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t){switch(t.type){case"installed":return $($({},e),{},{installed:!0});case"before-install":return $($({},e),{},{deferredPrompt:t.prompt,canBeInstalled:!0});default:return e}}const te=i.memo((function(){var e=(0,r.I0)(),t=(0,z.o)(),n=(0,i.useReducer)(ee,{deferredPrompt:void 0,installed:!1,canBeInstalled:!1}),a=(0,W.Z)(n,2),o=a[0],s=a[1];(0,i.useEffect)((function(){var t=function(){s({type:"installed"}),e((0,J.oT)())},n=function(e){e.preventDefault(),s({type:"before-install",prompt:e})};return window.addEventListener("beforeinstallprompt",n),window.addEventListener("appinstalled",t),function(){window.removeEventListener("beforeinstallprompt",n),window.removeEventListener("appinstalled",t)}}),[e]);var l=(0,i.useCallback)((function(e){e.preventDefault(),t({intent:"install-app",type:"click",targetUri:"/install-pwa"}),o.deferredPrompt&&o.deferredPrompt.prompt()}),[o.deferredPrompt,t]),c=o.canBeInstalled,u=o.installed;return!c||u?null:(0,k.jsx)(Q,{onClick:l})}));var ne=n(46747),ie=n(84371),re=i.memo((function(e){var t=e.isDesktop,n=e.isPWA,i=e.shouldCalloutPWA;return t||n?null:i?(0,k.jsx)(te,{}):(0,k.jsx)("div",{className:R()(ie.Z.navBarItem),children:(0,k.jsxs)(ne.O,{to:"/download",className:function(e){var t=e.isActive;return R()("link-subtle",ie.Z.navBarLink,(0,V.Z)({},ie.Z.navBarLinkActive,t))},children:[(0,k.jsx)(H.D,{"aria-hidden":"true"}),(0,k.jsx)(G.D,{variant:"mestoBold",className:"ellipsis-one-line",children:L.ag.get("navbar.install-app")})]})})})),ae=(n(94562),n(44185)),oe=n(76022),se=n(6034),le=n(1017);const ce="y3Viek5nBe0L3DqQDLqW",ue="iAjWsvBt2sbhwc6DwEaW";var de=function(){var e=(0,i.useState)(!1),t=(0,W.Z)(e,2),n=t[0],a=t[1],o=(0,se.g)(),s=(0,r.v9)(le.rZ);(0,i.useEffect)((function(){var e=setTimeout((function(){a(!0)}),1100);return function(){a(!1),clearTimeout(e)}}),[]);var l=(0,r.v9)(le.Vd);return o&&n?(0,k.jsx)(ae.VB,{language:L.ag.getSmartlingLocale(),market:s.toLowerCase(),children:(0,k.jsxs)("div",{className:ce,"":"left-sidebar-legal-links",children:[(0,k.jsx)(ae.Po,{}),(0,k.jsx)("a",{draggable:!1,href:oe.z4,target:"_blank",rel:"noopener",className:ue,children:(0,k.jsx)(G.D,{variant:"finale",children:L.ag.get("cookies")})}),l&&(0,k.jsx)("a",{draggable:!1,href:oe.iz,target:"_blank",rel:"noopener",className:ue,children:(0,k.jsx)(G.D,{variant:"finale",children:"Форма для Ваших обращений"})})]})}):null},pe=n(19281),me=n(51238);const fe="xaIJCzLBUjT3v2jC36P3",ve="NjzdxgK9pQx2Yj04CKzr",ge="X7gEj3fPmPfF7t28pPht";var he=(0,i.forwardRef)((function(e,t){var n,o,s=(0,r.I0)(),l=(0,O.Y)((function(e){var t;return null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),c=(0,w.k6)(l)&&null!==(n=l.url)&&void 0!==n?n:void 0,u=(0,i.useState)(!1),d=(0,W.Z)(u,2),p=d[0],m=d[1],f=(0,r.v9)((function(e){var t;return null===(t=e.ads.vto)||void 0===t?void 0:t.isMinimized})),v=(0,a.W6)(x.yA,{loadingValue:!1});return(0,i.useEffect)((function(){f?setTimeout((function(){m(!0)}),pe.K):m(!1)}),[f]),(0,k.jsx)("a",{onClick:function(){s((0,me.nX)("minimized_video_takeover"))},hidden:!p,href:c||void 0,ref:t,className:R()(fe,(o={},(0,V.Z)(o,ve,p),(0,V.Z)(o,ge,v),o))})})),ke=n(75938),ye=n(7543),be=n(45649);const Se="nkfuv1hrhxglxpnokpv7";var xe=function(){var e=(0,r.I0)();return(0,k.jsx)("button",{className:R()("CoverSlotExpanded__actionButton",Se),onClick:function(){e((0,ye.Zc)()),e((0,ye.kh)(be.W9.EXPANDED))},"aria-label":L.ag.get("npb.expandVideo"),children:(0,k.jsx)(ke.V,{iconSize:24})})},Oe=n(98141);const we="main-downloadClient-container";var Ne=(0,i.lazy)((function(){return n.e(5364).then(n.bind(n,85364))}));Spicetify.React=i;var _e=(0,i.memo)((0,i.forwardRef)((function(e,t){var n=e.isAnonymous,o=e.EpisodeSponsorNowPlayingBarHat,s=void 0===o?Ne:o,l=e.CoverSlotExpanded,u=void 0===l?T:l,d=(0,r.v9)((function(e){return e.platform})),p=d.isDesktop,m=d.isPWA,f=d.shouldCalloutPWA,v=(0,r.v9)((function(e){return e.ads.vto})),g=(0,a.W6)(x.JI),h=!(null!=v&&v.isHidden)&&(null==v?void 0:v.isMinimized)&&!g,y=(0,r.v9)((function(e){return e.ui})).nowPlayingCover,S=(0,r.v9)(le.C7),O=y.forcedExpandedState===c.NowPlayingCoverStateEnum.expanded,w=(0,a.W6)(x.yA),N=(0,i.useCallback)((function(){return h?(0,k.jsx)(xe,{}):O?null:(0,k.jsx)(Z,{})}),[h,O]);return(0,k.jsxs)("div",{className:we,children:[!n&&!S&&!w&&(0,k.jsx)(B.ZP,{value:"download",children:(0,k.jsx)(re,{isDesktop:p,isPWA:m,shouldCalloutPWA:f})}),n&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(de,{}),(0,k.jsx)(Oe.x,{})]}),p&&(0,k.jsx)(s,{}),(0,k.jsxs)(u,{renderActionButton:N,children:[(0,k.jsx)(b,{}),h&&(0,k.jsx)(he,{ref:t})]})]})})))},58077:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var i=n(59496),r=n(38674),a=n(4637),o=function(e){var t=e.renderOldExperience,n=void 0===t?function(){return null}:t,i=e.renderNewExperience,a=void 0===i?function(){return null}:i,o=e.forceNewExperience,s=e.property;return(0,r.W6)(s)||o?a():n()},s=function(e){var t=e.suspenseFallback,n=void 0===t?null:t,r=e.renderNewExperience,s=e.renderOldExperience,l=e.forceNewExperience,c=void 0!==l&&l,u=e.property;return(0,a.jsx)(i.Suspense,{fallback:n,children:(0,a.jsx)(o,{renderNewExperience:r,renderOldExperience:s,forceNewExperience:c,property:u})})}},92755:(e,t,n)=>{"use strict";n.d(t,{U:()=>u});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(98911),o=n(72102),s=n(4637);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=r.memo(r.forwardRef((function(e,t){var n=e.className,i=e.children,r=e.options,l=(0,o.NY)((function(){return c({className:"os-theme-spotify",sizeAutoCapable:!0,scrollbars:c({clickScrolling:!0,autoHide:"leave"},null==r?void 0:r.scrollbars),updateOnLoad:null},r)}),[r]);return(0,s.jsx)(a.E,{className:n,options:l,ref:t,children:i})})))},60873:(e,t,n)=>{"use strict";n.d(t,{p:()=>g});var i=n(59496),r=n(41177),a=n(42751),o=n(71218),s=n(76702),l=n(82504),c=n(63892),u=n(32007),d=n(17249),p=n(20188);const m="main-pageErrorTemplate-errorBody";var f=n(4637),v={"/":a.A,"/search":o.j,"/collection":s.$},g=i.memo((function(){var e,t=(0,r.TH)(),n=(e=t.pathname,v[e]||l.l),a=(0,p.fU)(u.createDesktopErrorPageEventFactory,{data:{uri:t.pathname}}),o=a.spec,s=a.logger,g=(0,p.Wi)(o),h=(0,i.useCallback)((function(){var e=o.reloadPageButtonFactory().hitRefreshContent();s.logInteraction(e),window.location.reload()}),[o,s]);return(0,f.jsxs)("div",{className:m,ref:g,children:[(0,f.jsx)(n,{width:46,height:46}),(0,f.jsx)("h1",{children:d.ag.get("error-dialog.generic.header")}),(0,f.jsx)("p",{children:d.ag.get("error-dialog.generic.body")}),(0,f.jsx)(c.D,{onClick:h,children:d.ag.get("fatal-error.button-label")})]})}))},27483:(e,t,n)=>{"use strict";n.d(t,{v:()=>k});var i=n(39130),r=n(59496),a=n(44463),o=n(28146),s=n(98148),l=n(68058),c=n(63892),u=n(17249),d=n(32080),p=n(76022),m=n(70097),f=n(871);const v="wTtSN5qCRogLw_ONPzid",g="Zp4roOZZCr2D0jkQgTwW";var h=n(4637),k=function(e){var t=e.title,n=e.placement,k=e.arrow,y=e.children,b=(0,f.Y)(),S=(0,m.e)().openURLWithSessionTransfer,x=(0,r.useState)(!1),O=(0,i.Z)(x,2),w=O[0],N=O[1],_=(0,r.useCallback)((function(){N(!1),S(p.IT,"_blank")}),[S]);return b?(0,h.jsx)(a.x,{onShow:function(){return N(!0)},onHide:function(){return N(!1)},placement:n,overlay:w&&(0,h.jsx)(d.i,{children:(0,h.jsx)("div",{children:(0,h.jsxs)(o.J,{role:"alertdialog",popoverTitle:t,arrow:k,colorSet:"announcement",className:v,children:[u.ag.get("pick-and-shuffle.upsell.message"),(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)(s.o,{buttonSize:l.z.sm,onClick:function(){return N(!1)},children:u.ag.get("pick-and-shuffle.upsell.dismiss")}),(0,h.jsx)(c.D,{buttonSize:l.z.sm,onClick:_,colorSet:"invertedLight",children:u.ag.get("pick-and-shuffle.upsell.explore-premium")})]})]})})}),children:y}):y}},64371:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(59496),o=n(76490),s=n(90775),l=n(4637),c=["uri","ariaPlayLabel","ariaPauseLabel","onClick","isPlaying","size","locked"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var d=a.memo((function(e){var t=e.uri,n=e.ariaPlayLabel,a=e.ariaPauseLabel,d=e.onClick,p=e.isPlaying,m=e.size,f=e.locked,v=(0,r.Z)(e,c),g=(0,s.o)();return(0,l.jsx)(o.f,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ariaPlayLabel:n,ariaPauseLabel:a,isPlaying:p,onClick:function(e){f||g({targetUri:t,intent:p?"pause":"play",type:"click",itemIdSuffix:"button"}),d(e)},size:m,locked:f},v))}))},66275:(e,t,n)=>{"use strict";n.d(t,{I:()=>u});var i=n(59496),r=n(47453),a=n(62523),o=n(30597),s=n(17249),l=n(71062),c=n(4637),u=i.forwardRef((function(e,t){var n=e.className,i=e.iconClassName,u=e.isPlaying,d=e.isLocked,p=e.onClick,m=void 0===p?function(){}:p,f=e.playAriaLabel,v=void 0===f?s.ag.get("play"):f,g=(0,c.jsx)(r.J,{className:i});d?g=(0,c.jsx)(a.Z,{iconSize:32}):u&&(g=(0,c.jsx)(o.k,{className:i}));var h=s.ag.get("play");return h=d?s.ag.get("mwp.header.content.unavailable"):u?s.ag.get("pause"):v,(0,c.jsx)(l.w,{label:h,children:(0,c.jsx)("button",{onClick:function(e){m(e,u?"pause":"play")},className:n,"aria-label":h,ref:t,children:g})})}))},60377:(e,t,n)=>{"use strict";n.d(t,{B1:()=>C,RG:()=>S,VH:()=>O,VK:()=>_,Vd:()=>d,_j:()=>N,aK:()=>E,b3:()=>x,cB:()=>w,hI:()=>u});var i,r,a,o=n(45389),s=(n(62780),n(22369),n(4302),n(66469),n(69109),n(5538),n(16366),n(74553),n(3270),n(14863),n(41337),n(46743),n(71541),n(17249)),l=n(36841),c=n(51069),u=function(e){return e.TITLE="TITLE",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.ARTIST="ARTIST",e.ALBUM="ALBUM",e.SHOW="SHOW",e.DURATION="DURATION",e}({}),d=(i={},(0,o.Z)(i,u.TITLE,["title"]),(0,o.Z)(i,u.ADDED_BY,["added_by"]),(0,o.Z)(i,u.ADDED_AT,["added_at"]),(0,o.Z)(i,u.ARTIST,["artist_name","album_title","album_track_number"]),(0,o.Z)(i,u.ALBUM,["album_title","album_track_number"]),(0,o.Z)(i,u.SHOW,["album_title","added_at"]),(0,o.Z)(i,u.DURATION,["duration"]),i),p=(r={},(0,o.Z)(r,l.Q.TITLE,c.bD.TITLE),(0,o.Z)(r,l.Q.ADDED_BY,c.bD.ADDED_BY),(0,o.Z)(r,l.Q.ADDED_AT,c.bD.ADDED_AT),(0,o.Z)(r,l.Q.DURATION,c.bD.DURATION),(0,o.Z)(r,l.Q.ALBUM,c.bD.ALBUM),(0,o.Z)(r,l.Q.ALBUM_OR_PODCAST,c.bD.ALBUM),(0,o.Z)(r,l.Q.ALBUM_OR_SHOW,null),(0,o.Z)(r,l.Q.ARTIST,null),(0,o.Z)(r,l.Q.ACTIONS,null),(0,o.Z)(r,l.Q.RELEASE_DATE,null),(0,o.Z)(r,l.Q.INDEX,null),(0,o.Z)(r,l.Q.PLAYS,null),(0,o.Z)(r,l.Q.ADD,null),(0,o.Z)(r,l.Q.EVENT_DATE,null),r),m=[l.Q.INDEX,l.Q.TITLE,l.Q.ALBUM,l.Q.ADDED_AT,l.Q.DURATION],f=[l.Q.INDEX,l.Q.TITLE,l.Q.ALBUM,l.Q.ADDED_BY,l.Q.ADDED_AT,l.Q.DURATION],v=[l.Q.INDEX,l.Q.TITLE,l.Q.ALBUM_OR_PODCAST,l.Q.RELEASE_DATE,l.Q.ADDED_AT,l.Q.DURATION],g=[l.Q.INDEX,l.Q.TITLE,l.Q.ALBUM_OR_PODCAST,l.Q.ADDED_BY,l.Q.RELEASE_DATE,l.Q.ADDED_AT,l.Q.DURATION],h=[l.Q.INDEX,l.Q.TITLE,l.Q.ALBUM,l.Q.EVENT_DATE,l.Q.DURATION],k=[l.Q.INDEX,l.Q.TITLE,l.Q.ALBUM,l.Q.EVENT_DATE,l.Q.DURATION],y=[l.Q.INDEX,l.Q.TITLE,l.Q.ALBUM,l.Q.ADDED_BY,l.Q.DURATION],b=(a={},(0,o.Z)(a,l.k.NONE,void 0),(0,o.Z)(a,l.k.DESC,c.As.DESC),(0,o.Z)(a,l.k.ASC,c.As.ASC),(0,o.Z)(a,l.k.SECONDARY_DESC,c.As.DESC),(0,o.Z)(a,l.k.SECONDARY_ASC,c.As.ASC),a),S=function(e,t,n,i,r,a,o){var s=m,c=e||o>1;return a?s=y:c&&t?s=g:t?s=v:c?s=f:i?s=h:r&&(s=k),n?s:s.filter((function(e){return e!==l.Q.ADDED_AT}))},x=function(e){return[l.k.ASC,l.k.SECONDARY_ASC].includes(e)},O=function(e){return[l.k.DESC,l.k.SECONDARY_DESC].includes(e)},w=function(e,t){return e===l.Q.TITLE&&function(e){return[l.k.SECONDARY_ASC,l.k.SECONDARY_DESC].includes(e)}(t)},N=function(e){if(e.order&&e.column)return w(e.column,e.order)?{field:c.bD.ARTIST,order:b[e.order]}:{field:p[e.column],order:b[e.order]}},_=function(e,t){var n=e===l.Q.TITLE?5:3,i=(t.order+1)%n;return t.column===e?{column:i?t.column:null,order:i}:{column:e,order:l.k.ASC}},E=function(e){if(e){return"".concat("text"," ").concat("=^#",' "').concat(e,'"')}},C=function(e){var t,n=e||s.ag.get("playlist.similar-playlist"),i=n.match(new RegExp("(.*)\\((\\d+)\\)$"));return i?"".concat(i[1].trim()," (").concat((t=i[2],parseInt(t,10)+1),")"):"".concat(n," (2)")}},15368:(e,t,n)=>{"use strict";n.d(t,{ME:()=>f,_U:()=>p,w:()=>c,zy:()=>d});var i=n(39130),r=n(45389),a=(n(59538),n(79611),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(4637);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return e.TITLE="title",e.DESCRIPTION="description",e.NONE="NONE",e}({}),u={isOpen:!1,isImagePickerOpen:!1,playlistDetails:{uri:"",name:"",description:"",image:void 0},focusedElement:c.NONE},d=(0,a.createContext)(void 0),p=(0,a.createContext)(u);function m(e,t){switch(t.type){case"open":return l(l({},e),{},{isOpen:!0,playlistDetails:t.playlistDetails,focusedElement:t.focusedElement||c.NONE});case"close":return l({},u);case"openWithImagePicker":return l(l({},e),{},{isOpen:!0,isImagePickerOpen:!0,playlistDetails:t.playlistDetails,focusedElement:c.NONE});default:throw new Error("Unknown action received!")}}var f=function(e){var t=e.children,n=(0,a.useReducer)(m,u),r=(0,i.Z)(n,2),s=r[0],l=r[1];return(0,o.jsx)(d.Provider,{value:l,children:(0,o.jsx)(p.Provider,{value:s,children:t})})}},32701:(e,t,n)=>{"use strict";n.d(t,{x:()=>v,L:()=>f});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(39130),a=n(59496),o=n(29049),s=n(84875),l=n.n(s),c=n(90135);const u="main-contextMenu-tippyWrapper";var d=n(4637);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={top:"top",topRight:"top-end",topLeft:"top-start",left:"left",leftTop:"left-start",leftBottom:"left-end",bottom:"bottom",bottomLeft:"bottom-start",bottomRight:"bottom-end",right:"right",rightTop:"right-start",rightBottom:"right-end",auto:"auto"},v=function(e){var t=e.visible,n=e.overlay,i=e.placement,s=e.children,p=e.childRef,f=e.maxWidth,v=void 0===f?336:f,g=e.hideArrow,h=void 0!==g&&g,k=e.className,y=void 0===k?"":k,b=e.tippyWrapperClassName,S=e.popperOptions,x=void 0===S?{}:S,O=e.onHide,w=e.zIndex,N=e.fadeOut,_=void 0!==N&&N,E=e.useLazyMounting,C=void 0!==E&&E,P=e.renderInline,I=void 0===P||P,j=(0,a.useState)(!1),A=(0,r.Z)(j,2),T=A[0],D=A[1],R=(0,a.useMemo)((function(){return{onMount:function(){return D(!0)},onHidden:function(){return D(!1)}}}),[]),F=(0,a.useCallback)((function(e,t){return null==O?void 0:O(t)}),[O]),L=(0,c.ky)();return t||_?(0,d.jsx)(a.Suspense,{fallback:s,children:(0,d.jsx)(o.ZP,m(m({animation:"shift-toward-subtle",maxWidth:v,visible:t,theme:"activation",placement:i||"auto",interactive:!0,arrow:!h,content:T||!C?n:"",className:y,onClickOutside:F,popperOptions:x,zIndex:w,offset:[0,14],reference:p},C&&R),{},{appendTo:!L||I?void 0:function(){return L.body},children:(0,d.jsx)("div",{className:l()(u,b),children:s})}))}):s}},5497:(e,t,n)=>{"use strict";n.d(t,{k:()=>d});var i=n(39130),r=(n(30246),n(59496)),a=n(10506),o=n(17249),s=n(11794),l=n(78142);const c="artist-popularTrackList-seeMore";var u=n(4637),d=function(e){var t=e.nrTracks,n=e.initialTracks,d=e.usePlayContextItem,p=(0,r.useState)(!1),m=(0,i.Z)(p,2),f=m[0],v=m[1],g=(0,r.useCallback)((function(){v(!f)}),[f]),h=(0,r.useCallback)((function(e,t){var n=e.uri,i=e.contextUri,r=e.totalMilliseconds,a=e.name,o=e.artists,l=e.contentRating,c=e.isPlayable,p=e.playcount,m=e.imageUrl,f=e.albumUri;return(0,u.jsx)(s.l0,{index:t,uri:n,contextUri:i,totalMilliseconds:r,name:a,artists:o,isPlayable:c,contentRating:l,playcount:p||0,imageUrl:m,albumUri:f,usePlayContextItem:d},n)}),[d]),k=(0,r.useCallback)((function(e){return e.uri}),[]),y=(0,r.useMemo)((function(){return[s.QD.INDEX,s.QD.TITLE,s.QD.PLAYS,s.QD.DURATION]}),[]);return(0,u.jsxs)(l.ZP,{value:"artist-popular-tracks-list",children:[(0,u.jsx)(s.Pv,{ariaLabel:o.ag.get("tracklist.popular-tracks"),renderRow:h,nrTracks:Math.min(t,f?10:5),tracks:n,resolveUri:k,columns:y}),t>5?(0,u.jsx)("button",{"aria-expanded":f,className:c,onClick:g,children:(0,u.jsx)(a.D,{as:"div",variant:"mestoBold",children:f?o.ag.get("artist-page.tracks.showless"):o.ag.get("artist-page.tracks.seemore")})}):null]})}},23794:(e,t,n)=>{"use strict";n.d(t,{Q:()=>_,x:()=>w});var i=n(980),r=n(59496),a=n(38674),o=n(55590),s=n(59272),l=n(73923),c=n(39630),u=n(60458),d=n(58976),p=n(50200),m=n(56394),f=function(e){var t=(0,p.Vu)(e,m.HI),n=(0,d.d)(t,""),i=n.metadataOptions,r=n.contentsOptions;return(0,u.s)(e,i,r)},v=(n(94562),function(e){var t=e.children,n=e.callback,i=e.hoverDelayMs,a=void 0===i?200:i,o=(0,r.useRef)();return r.cloneElement(t,{onMouseEnter:function(e){var i,r;o.current=setTimeout(n,a),null===(i=(r=t.props).onMouseEnter)||void 0===i||i.call(r,e)},onMouseLeave:function(e){var n,i;clearTimeout(o.current),null===(n=(i=t.props).onMouseLeave)||void 0===n||n.call(i,e)}})}),g=(n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(45389)),h=["children","callback"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var y=function(e){var t=e.children,n=e.callback,a=(0,i.Z)(e,h);return r.cloneElement(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onMouseDown:function(e){var i,r;n(),null===(i=(r=t.props).onMouseDown)||void 0===i||i.call(r,e)}},a))},b=function(e){var t=e.children,n=e.callback,i=(0,r.useRef)(n);return(0,r.useMemo)((function(){i.current()}),[]),t},S=n(10785),x=n(4637),O=["uri","trigger","children"],w=function(e){return e[e.OnMouseDown=0]="OnMouseDown",e[e.OnHover=1]="OnHover",e[e.OnRender=2]="OnRender",e}({}),N=function(e){var t=function(e){var t=(0,s.EC)(e);switch(null==t?void 0:t.type){case s.JM.ALBUM:return l.i;case s.JM.PLAYLIST:case s.JM.PLAYLIST_V2:return f;case s.JM.ARTIST:return c.Z;default:return function(){return function(){}}}}(e.uri)(e.uri);switch(e.trigger){case w.OnMouseDown:return(0,x.jsx)(y,{callback:t,children:e.children});case w.OnHover:return(0,x.jsx)(v,{callback:t,hoverDelayMs:e.hoverDelayMs,children:e.children});case w.OnRender:return(0,x.jsx)(b,{callback:t,children:e.children});default:return(0,o.U)(e)}},_=function(e){var t=e.uri,n=e.trigger,o=e.children,s=(0,i.Z)(e,O),l=(0,a.W6)(S.KL,{loadingValue:!1}),c=r.cloneElement(o,s);return l?(0,x.jsx)(r.Fragment,{children:(0,x.jsx)(N,{uri:t,trigger:n,children:c})},t):c}},37029:(e,t,n)=>{"use strict";n.d(t,{ko:()=>te});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(59496),o=n(84875),s=n.n(o),l=n(7906),c=n(49210),u=n(39130),d=n(85830),p=n(90135);function m(e,t){var n=e.current;if(null===n)return 0;var i=n.getBoundingClientRect();return Math.max(0,Math.min((t-i.left)/i.width,1))}n(25710);var f=n(38674),v=(n(96807),n(30246),n(81844),n(46868));var g=20,h=[{name:"dark",frames:g},{name:"normal",frames:g},{name:"dark",frames:g},{name:"normal",frames:g},{name:"dark",frames:320},{name:"dark",frames:80,isStartOfFlashlightEnter:!0},{name:"flashlight-on",frames:g},{name:"dark",frames:g},{name:"flashlight-on",frames:g},{name:"dark",frames:40},{name:"flashlight-on",isInfinite:!0},{name:"dark",frames:g,isStartOfExit:!0},{name:"flashlight-on",frames:g},{name:"dark",frames:g},{name:"flashlight-on",frames:g},{name:"dark",frames:g},{name:"normal",isInfinite:!0,isEndOfExit:!0}],k=200;function y(e,t){var n=document.createElement("canvas"),i=n.getContext("2d");if(null===i)return null;var r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),a=k;return n.width=r/1.5+2*a,n.height=r+2*a,i.translate(a,a),{canvas:n,context:i,width:n.width-2*a,height:n.height-2*a,padding:a}}function b(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=i/2*Math.PI/180,o=n/Math.cos(a),s=Math.sin(a)*o*2;e.beginPath(),e.moveTo((t-s)/2,r),e.lineTo(t/2,r+n),e.lineTo((t-s)/2+s,r),e.closePath()}function S(e,t){var n=function(e,t){var n=(0,a.useMemo)((function(){var e=new Image;return e.src=(0,v.g)("images/stranger-things-nether-bottom-left.png"),e}),[]),i=(0,a.useMemo)((function(){var e=new Image;return e.src=(0,v.g)("images/stranger-things-nether-bottom-right.png"),e}),[]);return function(r){if(i){var a=e-i.naturalWidth,o=t-i.naturalHeight;r.drawImage(i,0,0,i.naturalWidth,i.naturalHeight,a,o,i.naturalWidth,i.naturalHeight)}if(n){var s=t-n.naturalHeight;r.drawImage(n,0,0,n.naturalWidth,n.naturalHeight,0,s,n.naturalWidth,n.naturalHeight)}}}(e,t),i=(0,a.useState)(x(e,t)),r=(0,u.Z)(i,2),o=r[0],s=r[1],l=(0,a.useState)(O(e,t)),c=(0,u.Z)(l,2),d=c[0],p=c[1];return(0,a.useEffect)((function(){s(x(e,t)),p(O(e,t))}),[e,t]),function(i,r,a,s){if(o&&d){var l=a/100,c=r.left+r.width*l,u=r.top+r.height/2,p=0;p=l>.5?(l-.5)/.5*-60:60-l/.5*60;var m=o.width,f=o.height,v=-o.width/2,g=-o.height,k=m,y=f;i.save(),i.fillStyle="rgba(0, 0, 0, 0.85)",i.fillRect(0,0,e,t);var b=i.createLinearGradient(e/2,0,e/2,t);b.addColorStop(0,"rgba(57, 139, 216, 0.3)"),b.addColorStop(1,"rgba(0, 29, 62, 0.15)"),i.fillStyle=b,i.fillRect(0,0,e,t),"flashlight-on"===h[s].name?(i.save(),i.translate(c,u),i.rotate(p*Math.PI/180),i.globalCompositeOperation="destination-out",i.drawImage(o,0,0,m,f,v,g+100,k,y),i.restore(),n(i),i.save(),i.translate(c,u),i.rotate(p*Math.PI/180),i.globalCompositeOperation="source-over",i.drawImage(d,0,0,m,f,v,g+100,k,y),i.restore()):n(i),i.restore()}}}function x(e,t){var n=y(e,t);if(!n)return null;var i=n.canvas,r=n.context,a=n.width,o=n.height,s=n.padding,l=r.createLinearGradient(a/2,0,a/2,o);l.addColorStop(0,"rgba(0, 0, 0, 1)"),l.addColorStop(1,"rgba(0, 0, 0, 0)");var c=r.createLinearGradient(a/2,0,a/2,o);return c.addColorStop(.7,"rgba(0, 0, 0, 1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),r.save(),r.fillStyle="rgba(0, 0, 0, 1)",b(r,a,o,30,120),r.filter="blur(10px)",r.fill(),r.restore(),r.globalCompositeOperation="destination-out",r.fillStyle=c,r.fillRect(-s,-s,a+2*s,o+2*s),r.globalCompositeOperation="source-over",r.fillStyle="rgba(0, 0, 0, 1)",b(r,a,o,5,40),r.filter="blur(30px)",r.fill(),r.fillStyle="rgba(0, 0, 0, 1)",b(r,a,o,30,80),r.filter="blur(40px)",r.fill(),r.restore(),r.globalCompositeOperation="destination-out",r.fillStyle=l,r.fillRect(-s,-s,a+2*s,o+2*s),i}function O(e,t){var n=y(e,t);if(!n)return null;var i=n.canvas,r=n.context,a=n.width,o=n.height,s=n.padding;r.save(),r.fillStyle="rgba(80, 170, 255, 0.6)",b(r,a,o,30,120),r.filter="blur(10px)",r.fill(),r.restore();var l=r.createLinearGradient(a/2,0,a/2,o);l.addColorStop(.7,"rgba(0, 0, 0, 1)"),l.addColorStop(1,"rgba(0, 0, 0, 0)"),r.globalCompositeOperation="destination-out",r.fillStyle=l,r.fillRect(-s,-s,a+2*s,o+2*s),r.globalCompositeOperation="source-over",r.fillStyle="rgba(80, 170, 255, 0.8)",b(r,a,o,5,40),r.filter="blur(30px)",r.fill(),r.fillStyle="rgba(80, 170, 255, 0.4)",b(r,a,o,30,150),r.filter="blur(40px)",r.fill(),r.restore(),r.save(),r.translate(a/2,o-140),r.scale(1,10),r.fillStyle="rgba(198, 238, 251, 0.2)",r.filter="blur(24px)",r.beginPath(),r.arc(0,0,22,0,2*Math.PI),r.fill(),r.fillStyle="rgba(234, 255, 255, 0.2)",r.filter="blur(18px)",r.beginPath(),r.arc(0,0,20,0,2*Math.PI),r.fill(),r.restore(),r.save(),r.translate(a/2,o-70),r.scale(1,5),r.fillStyle="rgba(198, 238, 251, 0.1)",r.filter="blur(14px)",r.beginPath(),r.arc(0,0,18,0,2*Math.PI),r.fill(),r.fillStyle="rgba(234, 255, 255, 0.1)",r.filter="blur(8px)",r.beginPath(),r.arc(0,0,20,0,2*Math.PI),r.fill(),r.restore(),r.fillStyle="rgba(100, 190, 255, 1)",r.filter="blur(22px)",r.beginPath(),r.arc(a/2,o+100,20,0,2*Math.PI),r.fill(),r.fillStyle="rgba(198, 238, 251, 1)",r.filter="blur(4px)",r.beginPath(),r.arc(a/2,o+100,14,0,2*Math.PI),r.fill(),r.fillStyle="rgba(234, 255, 255, 1)",r.filter="blur(1px)",r.beginPath(),r.arc(a/2,o+100,12,0,2*Math.PI),r.fill();var c=r.createLinearGradient(a/2,0,a/2,o);return c.addColorStop(0,"rgba(0, 0, 0, 1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),r.globalCompositeOperation="destination-out",r.fillStyle=c,r.fillRect(-s,-s,a+2*s,o+2*s),r.globalCompositeOperation="source-over",i}var w=100,N=[{size:6,alpha:.5},{size:6,alpha:.4},{size:12,alpha:.3},{size:12,alpha:.3},{size:12,alpha:.3},{size:14,alpha:.2},{size:20,alpha:.2},{size:30,alpha:.2},{size:40,alpha:.1}],_=64,E=8,C=2;function P(e,t){var n=(0,a.useMemo)((function(){var e=new Image;return e.src=(0,v.g)("images/stranger-things-spores.png"),e}),[]),i=(0,a.useState)(I(e,t)),r=(0,u.Z)(i,2),o=r[0],s=r[1];return(0,a.useEffect)((function(){o?function(e,t,n){e.forEach((function(e){e.x=Math.random()*t,e.y=Math.random()*n}))}(o,e,t):s(I(e,t))}),[e,t,o]),function(i){null!==n&&o.forEach((function(r){r.x-=r.directionX*r.velocityX,r.y-=r.directionY*r.velocityY,r.y>t+10?(r.x=Math.random()*e,r.y=-10):r.x<-10&&(r.x=e+10,r.y=Math.random()*t);var a=r.spriteSheetX,o=r.spriteSheetY,s=_,l=_,c=r.x-r.size/2,u=r.y-r.size/2,d=r.size,p=r.size;i.save(),i.globalAlpha*=r.alpha,i.drawImage(n,a,o,s,l,c,u,d,p),i.restore()}))}}function I(e,t){for(var n=[],i=0;i<w;i++){var r=Math.floor(Math.random()*N.length),a=Math.floor(Math.random()*E),o=Math.floor(Math.random()*C),s=N[r].size,l=N[r].alpha;n.push({alpha:l,size:s,spriteSheetX:a*_,spriteSheetY:o*_,x:Math.random()*e,y:Math.random()*t,directionX:Math.random()>.5?1:-1,directionY:Math.random()>.5?1:-1,velocityX:s/300,velocityY:s/400})}return n}var j=n(27915),A=n(92449),T=(n(94562),n(27535),function(){function e(){var t=this;(0,j.Z)(this,e),(0,i.Z)(this,"_subscribers",[]),(0,i.Z)(this,"_active",!1),(0,i.Z)(this,"_onActivity",(function(){t._subscribers.forEach((function(e){t._active||(t._active=!0,e.fn(t._active)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((function(){t._active=!1,e.fn(t._active)}),e.msInactive)}))}))}return(0,A.Z)(e,[{key:"unsubscribeToActivity",value:function(e){var t=this._subscribers.findIndex((function(t){return t.fn===e}));-1!==t&&(clearTimeout(this._subscribers[t].inactiveTimeout),this._subscribers.splice(t,1))}},{key:"subscribeToActivity",value:function(e,t){this._subscribers.push({fn:t,msInactive:e,isActive:!1})}},{key:"enableActivityMonitor",value:function(){window.addEventListener("mousemove",this._onActivity),window.addEventListener("mouseup",this._onActivity),window.addEventListener("keydown",this._onActivity),window.addEventListener("scroll",this._onActivity,!0)}},{key:"disableActivityMonitor",value:function(){window.removeEventListener("mousemove",this._onActivity),window.removeEventListener("mouseup",this._onActivity),window.removeEventListener("keydown",this._onActivity),window.removeEventListener("scroll",this._onActivity,!0),this._subscribers.forEach((function(e){return clearTimeout(e.inactiveTimeout)})),this._subscribers=[]}}]),e}()),D=function(){function e(){(0,j.Z)(this,e),(0,i.Z)(this,"frame",0),(0,i.Z)(this,"lastPhaseFrame",0),(0,i.Z)(this,"phase",0),(0,i.Z)(this,"animationFrameRequestId",null),(0,i.Z)(this,"flickerTimerId",null),(0,i.Z)(this,"isPlaying",!0)}return(0,A.Z)(e,[{key:"start",value:function(){var e=this;this.lastPhaseFrame=this.frame,this.phase=0;this.flickerTimerId=function t(){return setTimeout((function(){e.flickerTimerId=t(),e.isPlaying&&h[e.phase].isInfinite&&e.setPhase(h.findIndex((function(e){return e.isStartOfFlashlightEnter})))}),15e3*Math.random()+5e3)}()}},{key:"stop",value:function(){var e=h.findIndex((function(e){return e.isStartOfExit}));this.phase<e&&this.setPhase(e),null!==this.flickerTimerId&&clearTimeout(this.flickerTimerId)}},{key:"setPhase",value:function(e){this.lastPhaseFrame=this.frame,this.phase=e}}]),e}();const R="L3fGAKcaGZCw9diio8aV";var F=n(4637),L=function(e){var t=e.getPercentage,n=e.isDragging,i=void 0!==n&&n,r=e.isPlayingStrangerThings,o=void 0!==r&&r,s=e.progressBar,l=(0,a.useMemo)((function(){return new T}),[]),c=(0,a.useMemo)((function(){return new D}),[]),d=(0,a.useRef)(null),p=(0,a.useState)(null),m=(0,u.Z)(p,2),f=m[0],v=m[1],g=(0,a.useState)(window.innerHeight),k=(0,u.Z)(g,2),y=k[0],b=k[1],x=(0,a.useState)(window.innerWidth),O=(0,u.Z)(x,2),w=O[0],N=O[1],_=(0,a.useState)(!1),E=(0,u.Z)(_,2),C=E[0],I=E[1],j=(0,a.useState)(!1),A=(0,u.Z)(j,2),L=A[0],M=A[1],U=P(w,y),Z=S(w,y),B=(0,a.useCallback)((function(e){!i&&o&&(e?c.stop():(c.start(),M(!0)))}),[i,o,c]),V=(0,a.useCallback)((function(){o&&(c.setPhase(h.findIndex((function(e){return e.isStartOfFlashlightEnter}))),M(!0))}),[o,c]),H=(0,a.useCallback)((function(){c.stop()}),[c]),G=(0,a.useCallback)((function(){if(L){I(!1);var e=window.innerHeight,t=window.innerWidth;N(t),b(e)}else I(!0)}),[L]),W=(0,a.useCallback)((function(){if(d.current){var e=c.frame,n=c.lastPhaseFrame,i=c.phase;if(c.frame=e+1,h[i].isEndOfExit)M(!1);else{if(h[i].isInfinite||e-n===h[i].frames&&c.setPhase(i+1),d.current.width=w,d.current.height=y,"normal"!==h[i].name){var r=d.current.getContext("2d");if(!r||!f)return;var a=t();Z(r,f,a,i),U(r)}c.animationFrameRequestId=requestAnimationFrame(W)}}}),[y,w,Z,U,t,f,c]);return(0,a.useEffect)((function(){window.addEventListener("resize",G);var e=l;return e.enableActivityMonitor(),e.subscribeToActivity(5e3,B),function(){window.removeEventListener("resize",G),e.disableActivityMonitor(),e.unsubscribeToActivity(B)}}),[l,B,G]),(0,a.useEffect)((function(){o||c.stop()}),[o,c]),(0,a.useEffect)((function(){i?V():i||H()}),[i,V,H]),(0,a.useEffect)((function(){L?(C&&G(),c.animationFrameRequestId=requestAnimationFrame(W)):c.animationFrameRequestId&&cancelAnimationFrame(c.animationFrameRequestId)}),[L,W,G,C,c]),(0,a.useEffect)((function(){s.current&&v(s.current.getBoundingClientRect())}),[w,y,s]),L?(0,F.jsx)("canvas",{className:R,ref:d,width:w,height:y}):null},M=n(10785);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Z=function(e){return(0,f.W6)(M.kI,{loadingValue:!1})&&e.isPlayingStrangerThings?(0,F.jsx)(L,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):null},B=n(24590);const V="playback-progressbar",H="playback-progressbar-isInteractive",G="progress-bar",W="x-progressBar-progressBarBg",z="x-progressBar-sliderArea",K="x-progressBar-fillColor",Y="VI_bMRxDl9fS6qksct7W",q="sW0M_K97doEB3B4Ts58i",Q="DuvrswZugGajIFNXObAr",J="progress-bar__slider";var X=["value","max","step","labelText","isInteractive","forceActiveStyles","onDragStart","onDragMove","onDragEnd","onStepForward","onStepBackward","saberConfig","isPlayingStrangerThings","isAttackOnTitanEasterEggActive"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){var t,n=e.value,o=e.max,f=e.step,v=e.labelText,g=e.isInteractive,h=void 0===g||g,k=e.forceActiveStyles,y=void 0!==k&&k,b=e.onDragStart,S=e.onDragMove,x=e.onDragEnd,O=e.onStepForward,w=e.onStepBackward,N=e.saberConfig,_=void 0===N?null:N,E=e.isPlayingStrangerThings,C=void 0!==E&&E,P=e.isAttackOnTitanEasterEggActive,I=(0,r.Z)(e,X),j=(0,a.useRef)(null),A=function(e){var t=e.progressBarRef,n=e.onDragStart,i=e.onDragMove,r=e.onDragEnd,o=(0,a.useState)(!1),s=(0,u.Z)(o,2),l=s[0],c=s[1],f=(0,a.useRef)(!1),v=(0,p.ky)(),g=(0,a.useRef)(n),h=(0,a.useRef)(i),k=(0,a.useRef)(r);g.current=n,h.current=i,k.current=r;var y=(0,d.y1)((function(e){h.current(m(t,e.clientX)),f.current=!0}),20,{leading:!0,maxWait:20});return{isDragging:l,onMouseDown:(0,a.useCallback)((function(e){0===e.button&&(g.current(m(t,e.clientX)),c(!0),null==v||v.addEventListener("mousemove",y),null==v||v.addEventListener("mouseup",(function(e){c(!1),y.cancel(),k.current(m(t,e.clientX),{wasDraggedBeforeReleased:f.current}),null==v||v.removeEventListener("mousemove",y),f.current=!1}),{once:!0}),f.current=!1)}),[v,t,c,y])}}({progressBarRef:j,onDragStart:b,onDragMove:S,onDragEnd:x}),T=A.isDragging,D=A.onMouseDown,R=h?100*Math.max(0,Math.min(1,n/o)):0,L=y||T,M=h&&null!==_,U=h&&!(0,c.G)(),$=function(e){var t=e.onStepForward,n=e.onStepBackward,i=e.value;return(0,d.y1)((function(e){parseFloat(e.target.value)>i?null==t||t():null==n||n()}),100,{trailing:!1,leading:!0,maxWait:200})}({onStepForward:O,onStepBackward:w,value:n}),te=(0,a.useCallback)((function(){return R}),[R]);return(0,F.jsxs)("div",{className:s()(V,(0,i.Z)({},H,h)),"":I["data-testid"],children:[(0,F.jsx)(B.q,{disabled:!h,type:"range",min:0,max:o,value:n,step:f,onChange:$,"aria-valuetext":I["aria-valuetext"],children:v}),(0,F.jsxs)("div",{className:s()(G,(t={},(0,i.Z)(t,Y,null!==_),(0,i.Z)(t,Q,L),t)),style:ee(ee({},M?_:null),{},{"--progress-bar-transform":"".concat(R,"%")},P?{"--fg-color":l.G,"--is-active-fg-color":l.G}:null),onMouseDown:D,"":"progress-bar",children:[M?(0,F.jsx)("div",{className:q,"":"progress-bar-saber-overlay"}):null,(0,F.jsxs)("div",{ref:j,className:W,"":"progress-bar-background",children:[(0,F.jsx)("div",{className:z,children:(0,F.jsx)("div",{className:K})}),(0,F.jsx)("div",{className:J})]}),U&&(0,F.jsx)("div",{style:{width:"100%"},children:(0,F.jsx)(Z,{getPercentage:te,progressBar:j,isPlayingStrangerThings:C,isDragging:T})})]})]})}},56766:(e,t,n)=>{"use strict";n.d(t,{e:()=>d});var i=n(45389),r=(n(69109),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496));const a="main-progressRing-circleShadow",o="main-progressRing-circleColor";var s=n(4637);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=20*Math.PI,d=r.memo((function(e,t){var n=e.percentage,r=e.size,l=e.ariaValueText,d=u-n/100*u;return(0,s.jsxs)("svg",c(c(c({height:r,width:r,viewBox:"0 0 24 24",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(n)},l?(0,i.Z)({},"aria-valuetext",l):{}),t),{},{children:[(0,s.jsx)("circle",{className:a,r:"".concat(10),cx:"12",cy:"12"}),(0,s.jsx)("circle",{"":"circleColor",className:o,strokeDasharray:"".concat(u," ").concat(u),strokeDashoffset:"".concat(d),r:"".concat(10),cx:"12",cy:"12"}),(0,s.jsx)("rect",{width:"6",height:"6",fill:"white",x:"9",y:"9"})]}))}))},83656:(e,t,n)=>{"use strict";n.d(t,{h:()=>h});n(61235),n(69724);var i=n(59496),r=n(84875),a=n.n(r),o=n(10506),s=n(3269),l=n(98148),c=n(63892),u=n(17249),d=n(63461);const p="main-playlistRemoveMultipleModal-container",m="main-playlistRemoveMultipleModal-title",f="main-playlistRemoveMultipleModal-description",v="main-playlistRemoveMultipleModal-buttonContainer";var g=n(4637),h=i.memo((function(e){var t=e.onClose,n=e.onRemove,r=e.isOpen,h=e.tracks,k=e.title,y=(0,i.useCallback)((function(e){n(h),t(e)}),[n,t,h]);return(0,g.jsx)(d.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:t,contentLabel:k,isOpen:r,children:(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)(o.D,{as:"h2",variant:"cello",className:m,children:k}),(0,g.jsx)(o.D,{as:"p",variant:"mesto",className:f,paddingBottom:s.g4V,children:u.ag.get("playlist.remove_multiple_description")}),(0,g.jsxs)("div",{className:a()("encore-light-theme",v),children:[(0,g.jsx)(l.o,{onClick:t,children:u.ag.get("playlist.delete-cancel")}),(0,g.jsx)(c.D,{onClick:y,children:u.ag.get("remove")})]})]})})}))},76924:(e,t,n)=>{"use strict";n.d(t,{Ci:()=>o,m1:()=>l,r7:()=>s});var i=n(39130),r=n(59496),a=n(4637),o=(0,r.createContext)({uris:[],setUris:function(){},dropOriginUri:void 0,setDropOriginUri:function(){},sectionId:0,setSectionId:function(){},draggingIsInProgress:!1,setDraggingIsInProgress:function(){}}),s=function(e){var t=e.children,n=(0,r.useState)([]),s=(0,i.Z)(n,2),l=s[0],c=s[1],u=(0,r.useState)(void 0),d=(0,i.Z)(u,2),p=d[0],m=d[1],f=(0,r.useState)(0),v=(0,i.Z)(f,2),g=v[0],h=v[1],k=(0,r.useState)(!1),y=(0,i.Z)(k,2),b=y[0],S=y[1];return(0,a.jsx)(o.Provider,{value:{uris:l,setUris:c,dropOriginUri:p,setDropOriginUri:m,sectionId:g,setSectionId:h,draggingIsInProgress:b,setDraggingIsInProgress:S},children:t})};function l(){return(0,r.useContext)(o).uris}},58134:(e,t,n)=>{"use strict";n.d(t,{Oh:()=>s,aC:()=>o});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.children,n=e.mainLandmarkRef,i=e.lyricsCinemaRef,o=e.topbarRef,s=e.leftSidebarRef,l=e.nowPlayingBarRef;return(0,r.jsx)(a.Provider,{value:{mainLandmarkRef:n,lyricsCinemaRef:i,topbarRef:o,leftSidebarRef:s,nowPlayingBarRef:l},children:t})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("GlobalElementRefsContext used without being initialized.");return e}},35526:(e,t,n)=>{"use strict";n.d(t,{P:()=>u,i:()=>c});n(5538),n(37193),n(40265);var i=n(59496),r=n(85830),a=n(87164),o=n(10146),s=n(60492),l=30;function c(){var e=parseInt(s.Z.TRACKLIST_HEADER_HEIGHT,10),t=o.K1+e;u((0,i.useContext)(a.VX).scrollNodeRef,t,30)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:200,s=(0,r.y1)((function(t){if(e.current){var n=t<0?-1:1,i=100*t*t;e.current.scrollTop=e.current.scrollTop+n*i}}),50,{leading:!0,trailing:!1,maxWait:50}),c=(0,i.useCallback)((function(){if(e.current){var i=0,r=0,l=null,c=Date.now(),u=0,d=e.current.getBoundingClientRect(),p=function(){l&&window.cancelAnimationFrame(l),l=null,s.cancel()},m=function e(){s(u),l=window.requestAnimationFrame(e)},f=function(e){var s;(i=e.clientY,r=e.clientX,0!==(u=function(){var e=d.top,s=d.right,l=d.bottom,u=d.left;if(!(r>=u&&r<=s))return 0;var p=e,m=e+t+a,f=l-n-a,v=l,g=0,h=i>=p&&i<=m,k=i>=f&&i<=v,y=Date.now()-c;if(h&&y>o)if(i<m-a)g=-1;else{var b=p+t;g=(i-b)/(m-b)-1}else k&&y>o&&(g=i>v-a?1:(i-f)/(v-n-f));return h||k||(c=Date.now()),g}()))?null!==(s=l)&&void 0!==s||(l=window.requestAnimationFrame(m)):p()},v=function(){p(),document.removeEventListener("dragover",f)};document.addEventListener("dragend",v,{once:!0}),document.addEventListener("drop",v,{once:!0}),document.addEventListener("pointerup",v,{once:!0}),document.addEventListener("dragover",f)}}),[a,n,t,o,e,s]);(0,i.useEffect)((function(){return document.addEventListener("dragstart",c),function(){document.removeEventListener("dragstart",c)}}),[c])}},84377:(e,t,n)=>{"use strict";n.d(t,{LP:()=>k,NQ:()=>h,RZ:()=>f});var i=n(39130),r=(n(72649),n(162),n(62780),n(22369),n(59496)),a=n(72102),o=n(38674),s=n(88788),l=n(10146),c=n(86015),u=n(10785),d=n(20899),p=n(55590),m=n(51598),f=function(e){return e[e.COLLAPSED=72]="COLLAPSED",e[e.DEFAULT_MIN=280]="DEFAULT_MIN",e[e.DEFAULT_MAX=420]="DEFAULT_MAX",e[e.EXPANDED_MIN=584]="EXPANDED_MIN",e[e.EXPANDED_MAX=Number.POSITIVE_INFINITY]="EXPANDED_MAX",e}({}),v=function(e){return e[e.MIN=120]="MIN",e[e.DEFAULT=232]="DEFAULT",e[e.MAX=384]="MAX",e}(v||{}),g=[[f.COLLAPSED,f.COLLAPSED],[f.DEFAULT_MIN,f.DEFAULT_MAX],[f.EXPANDED_MIN,f.EXPANDED_MAX]],h=[[v.MIN,v.MAX]],k=function(){var e,t=(0,s.Y)(),n=(0,d.z)("left-sidebar-width",v.DEFAULT),k=(0,i.Z)(n,2),y=k[0],b=k[1],S=(0,o.W6)(u.yA,{loadingValue:!1}),x=(0,o.W6)(u._c,{loadingValue:!1}),O=(0,c.U)(),w=O.ylxSidebarState,N=O.setYlxSidebarState,_=(0,d.z)("ylx-default-state-nav-bar-width",Math.max(f.DEFAULT_MIN,Math.min(Math.round(.23*innerWidth),f.DEFAULT_MAX))),E=(0,i.Z)(_,2),C=E[0],P=E[1],I=(0,d.z)("ylx-expanded-state-nav-bar-width",Math.max(f.EXPANDED_MIN,Math.min(Math.round(.55*innerWidth),f.EXPANDED_MAX))),j=(0,i.Z)(I,2),A=j[0],T=j[1];switch(w){case c.c.COLLAPSED:e=f.COLLAPSED;break;case c.c.DEFAULT:e=C;break;case c.c.EXPANDED:e=A;break;case null:e=y;break;default:(0,p._)(w),e=y}var D,R,F=(0,r.useCallback)((function(e){S?e<f.DEFAULT_MIN?N(c.c.COLLAPSED):f.DEFAULT_MIN<=e&&e<=f.DEFAULT_MAX?(N(c.c.DEFAULT),P(e)):f.EXPANDED_MIN<=e&&e<=f.EXPANDED_MAX?(N(c.c.EXPANDED),T(e)):console.warn("`LeftSidebar.setSize` call out of bounds"):b(e)}),[S,N,P,b,T]),L=(0,m.T)(),M=(0,a.NY)((function(){var e=L-l.IW-3*t;return S?x?g.filter((function(t){return(0,i.Z)(t,1)[0]<=e})).map((function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return[r,Math.min(a,e)]})):g:h}),[S,L,x]);if(S)switch(w){case c.c.COLLAPSED:D=R=f.COLLAPSED;break;case c.c.DEFAULT:D=f.DEFAULT_MIN,R=f.DEFAULT_MAX;break;case c.c.EXPANDED:D=f.EXPANDED_MIN,R=f.EXPANDED_MAX;break;case null:D=0,R=0;break;default:D=0,R=0,(0,p._)(w)}else D=v.MIN,R=v.MAX;return{size:e,setSize:F,minMaxRanges:M,minWidth:D,maxWidth:R,ylxCollapsedStateNavbarWidth:f.COLLAPSED,ylxDefaultStateNavbarWidth:C,ylxExpandedStateNavbarWidth:A}}},88788:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var i=n(86015),r=8;function a(){return null!==(0,i.U)().ylxSidebarState?r:0}},11880:(e,t,n)=>{"use strict";n.d(t,{V:()=>p,r:()=>d});var i=n(45389),r=n(39130),a=(n(89620),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(20899),s=n(4637);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return Boolean(e)};function d(e){var t=e.uri,n=e.children,l=e.defaultState,d=e.sortContext,p=e.localStorageKey,m=void 0===p?"sortedState":p,f=e.validator,v=void 0===f?u:f,g=(0,o.z)(m,{}),h=(0,r.Z)(g,2),k=h[0],y=void 0===k?{}:k,b=h[1],S=(0,a.useRef)(y);(0,a.useEffect)((function(){S.current=y}));var x=(0,a.useCallback)((function(e){if(JSON.stringify(e)===JSON.stringify(l)){var n=c({},S.current);delete n[t],b(n)}else b(c(c({},S.current),{},(0,i.Z)({},t,e)))}),[l,b,t]),O=(0,a.useMemo)((function(){var e=y[t];return{sortState:v(e)?e:l,setSortState:x}}),[y,t,v,l,x]);return(0,s.jsx)(d.Provider,{value:O,children:n})}var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sortedState",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u,a=(0,o.z)(n,{}),s=(0,r.Z)(a,1)[0],l=(void 0===s?{}:s)[e];return i(l)?l:t}},50200:(e,t,n)=>{"use strict";n.d(t,{fo:()=>l,hz:()=>c,Vu:()=>u.V});var i=n(39130),r=(n(59538),n(79611),n(59496)),a=n(68267),o=n(4637),s=(0,a.Ue)((function(e){return{lastFilterState:"",lastFilteredUri:"",setLastState:function(t,n){e({lastFilterState:t,lastFilteredUri:n})}}})),l=(0,r.createContext)({setFilter:function(){throw new Error("setFilter must be used within a FilterProvider")},filter:""}),c=function(e){var t=e.uri,n=e.children,a=s.getState(),c=a.lastFilterState,u=a.lastFilteredUri,d=a.setLastState,p=(0,r.useState)(u===t?c:""),m=(0,i.Z)(p,2),f=m[0],v=m[1],g=(0,r.useCallback)((function(e){v(e),d(e,t)}),[d,t]),h=(0,r.useMemo)((function(){return{filter:f,setFilter:g}}),[f,g]);return(0,o.jsx)(l.Provider,{value:h,children:n})},u=n(11880)},9278:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SeeAll:()=>d,default:()=>p});n(51735);var i=n(59496),r=n(84875),a=n.n(r),o=n(10506),s=n(17249),l=n(88843);const c="search-recentSearches-seeAll";var u=n(4637),d=(0,i.memo)((function(e){var t=e.link,n=e.pageId,i=e.className,r=e.label,d=e.state,p=e.pathname,m=e.onClick;return(0,u.jsx)(l.default,{to:t,className:a()(c,i),pageId:n,state:d,pathname:p,"":e["data-testid"],onClick:m,children:(0,u.jsx)(o.D,{variant:"mestoBold",children:r||s.ag.get("search.see-all")})})}));const p=d},33582:(e,t,n)=>{"use strict";n.d(t,{N:()=>M});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(20188),o=n(39130),s=(n(39975),n(59496)),l=n(84875),c=n.n(l),u=n(30406),d=n(84340),p=n(78302),m=n(42336),f=n(75938),v=n(17249),g=n(27257),h=n(71062);const k="pdLDCowVOiUIfeu9hihi",y="yuNKB15IIjFkFJbXil2H",b="zjhp3VC76BipaXjVHuGx",S="x-carousel-carousel",x="x-carousel-button";var O=n(4637),w=function(e){var t=e.canScrollLeft,n=e.canScrollRight,i=e.onClick;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(h.w,{label:v.ag.get("carousel.left"),children:(0,O.jsx)(g.E,{disabled:!t,size:"sm",onClick:function(){i("previous")},icon:m.e,ariaLabel:v.ag.get("carousel.left"),tabIndex:-1,className:x})}),(0,O.jsx)(h.w,{label:v.ag.get("carousel.right"),children:(0,O.jsx)(g.E,{disabled:!n,size:"sm",onClick:function(){i("next")},icon:f.V,ariaLabel:v.ag.get("carousel.right"),tabIndex:-1,className:x})})]})},N=n(64038),_=n(85830),E=n(3643),C=function(e){var t=e.containerRef,n=e.onScrollEnd,i=(0,E.S)(),r=(0,s.useState)({canScrollLeft:!1,canScrollRight:!0}),a=(0,o.Z)(r,2),l=a[0],c=a[1],u=l.canScrollLeft,d=l.canScrollRight,p=(0,_.y1)((function(){c(function(e){var t=!1,n=!1;if(e.current){var i=e.current,r=i.scrollLeft,a=i.offsetWidth,o=i.scrollWidth,s=Math.ceil(Math.abs(r));t=s>0,n=s+a<o}return{canScrollLeft:t,canScrollRight:n}}(t)),null==n||n()}),50);return(0,s.useEffect)((function(){var e=t.current;return null==e||e.addEventListener("scroll",p),function(){null==e||e.removeEventListener("scroll",p)}}),[t,p]),{canScrollLeft:u,canScrollRight:d,scroll:(0,s.useCallback)((function(e,n){var r,a="previous"===e?-1:1;i&&(a*=-1),a*=n.columnCount*n.columnWidth+n.gridGap,null===(r=t.current)||void 0===r||r.scrollBy({top:0,left:a})}),[t,i])}};var P=n(55475);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=s.memo((function(e){var t=e.children,n=e.title,i=e.seeAllUri,r=e.pageId,a=e.total,l=e.onClickShelfTitle,u=e.onClickShelfSeeAll,p=e.onSwipe,m=e.onClickCarouselControls,f=e.elementRef,v=(0,s.useRef)(null),g=(0,s.useRef)(!1),h=(0,s.useState)({columnCount:-1,columnWidth:-1,minContainerWidth:-1,gridGap:0}),x=(0,o.Z)(h,2),_=x[0],E=x[1],I=_.columnCount,j=(0,s.useCallback)((function(e){return e.columnCount>0?t:null}),[t]),A=C({containerRef:v,onScrollEnd:function(){!1===g.current&&(null==p||p()),g.current=!1}}),T=A.canScrollLeft,D=A.canScrollRight,R=A.scroll,F=(0,s.useCallback)((function(e){g.current=!0,R(e,_),null==m||m(e)}),[_,m,R]),L=(0,s.useCallback)((function(e){E(e)}),[]);if(!Array.isArray(t)||0===t.length)return null;var M=t.length>I&&I>0,U=a>I,Z={"--carousel-number-of-items":t.length,"--min-container-width":"".concat(_.minContainerWidth,"px")};return(0,O.jsxs)("section",{ref:f,style:Z,className:c()(P.Z.shelf,"Shelf"),"aria-label":n,children:[(0,O.jsxs)("div",{className:c()(P.Z.header,y),children:[(0,O.jsx)(N.r,{title:n,seeAllUri:i,pageId:r,hasMoreElements:U,onClickTitle:l,onClickSeeAll:u,className:b}),M&&(0,O.jsx)("div",{className:S,children:(0,O.jsx)(w,{canScrollLeft:T,canScrollRight:D,onClick:F})})]}),(0,O.jsx)(d.T,{className:c()(P.Z.shelfGrid,k),render:j,onLayoutChange:L,ref:v})]})}));A.displayName="BaseCarouselShelf";var T=function(e){return(0,O.jsx)(u.L,{onError:function(e){(0,p.vK)(e,"Carousel")},children:(0,O.jsx)(A,j({},e))})};T.displayName="Carousel";var D=n(28520),R=["index","id"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){var t=e.index,n=e.id,i=(0,r.Z)(e,R),o=i.seeAllUri,s=(0,D.e)({seeAllUri:o,index:t,id:n}),l=s.onClickShelfTitle,c=s.onClickShelfSeeAll,u=s.onSwipe,d=s.onClickCarouselControls,p=s.elementRef,m=s.spec;return(0,O.jsx)(a.Nh,{spec:m,children:(0,O.jsx)(T,L(L({},i),{},{onClickShelfTitle:l,onClickShelfSeeAll:c,onSwipe:u,onClickCarouselControls:d,elementRef:p}))})}},3594:(e,t,n)=>{"use strict";n.d(t,{q:()=>p});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(20188),o=n(54658),s=n(28520),l=n(4637),c=["index","id"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t=e.index,n=e.id,i=(0,r.Z)(e,c),u=i.seeAllUri,p=(0,s.e)({seeAllUri:u,index:t,id:n}),m=p.onClickShelfTitle,f=p.onClickShelfSeeAll,v=p.elementRef,g=p.spec;return(0,l.jsx)(a.Nh,{spec:g,children:(0,l.jsx)(o.P,d(d({},i),{},{onClickShelfTitle:m,onClickShelfSeeAll:f,elementRef:v}))})}},54658:(e,t,n)=>{"use strict";n.d(t,{P:()=>I});var i=n(45389),r=n(39130),a=(n(39975),n(62780),n(22369),n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(84875),s=n.n(o),l=n(30406),c=n(84340),u=n(78302),d=(n(83001),n(8760),n(27639),n(71756),n(12535)),p=n(10506),m=n(4982),f=n(40467),v=n(17249),g=n(88843);const h="wPxPHYvMnLIjAdubiOBB",k="VFhWb3KBXEqkAi9XtTEQ",y="_HnlZlDZv0UbjotlEX6P";var b=n(4637);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=(0,a.lazy)((function(){return Promise.resolve().then(n.bind(n,9278))})),w=a.memo((function(e){var t=e.pretitle,n=e.title,i=e.media,r=e.titleVariant,o=void 0===r?"canon":r,l=e.seeAllUri,c=e.pageId,u=e.hasMoreElements,S=e.seeAllLabel,w=void 0===S?v.ag.get("shelf.see-all"):S,N=e.className,_=e.seeAllProps,E=e.onClickTitle,C=e.onClickSeeAll;return(0,b.jsx)(m.w,{"":"list-row-shelf-header",id:"header-only",pretitle:(0,b.jsx)(d.g,{variant:"mesto",semanticColor:"textSubdued",children:t}),className:s()(h,N),title:(0,b.jsx)(d.g,{variant:o,semanticColor:"textBase",children:u?(0,b.jsx)(g.Link,x(x({"":"see-all-link",to:l||"",pageId:c,onClick:E},"boolean"==typeof u?void 0:u),{},{children:n})):(0,b.jsx)(p.D,{variant:o,semanticColor:"textBase",tabIndex:-1,children:n})}),media:(0,b.jsx)(f.d,{className:y,src:i,circle:!0}),trailing:u&&(0,b.jsx)(a.Suspense,{fallback:!0,children:(0,b.jsx)(O,x(x({link:l||"",className:k,pageId:c,onClick:C,label:w},"boolean"==typeof u?void 0:u),_))})})})),N=n(64038),_=n(55475);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=a.memo((function(e){var t=e.title,n=e.tagline,o=e.children,l=e.seeAllUri,u=e.showAll,d=e.className,p=void 0===d?"":d,m=e.total,f=e.testId,v=void 0===f?"component":f,g=e.pageId,h=e.seeAllLabel,k=e.alwaysShowSeeAll,y=void 0!==k&&k,S=e.showSeeAll,x=void 0===S||S,O=e.onClickShelfTitle,E=e.onClickShelfSeeAll,P=e.elementRef,I=e.renderSubHeader,j=e.listRowHeaderProps,A=(0,a.useState)(0),T=(0,r.Z)(A,2),D=T[0],R=T[1],F=(0,a.useCallback)((function(e){var t=e.columnCount;R(t)}),[]),L=(0,a.useCallback)((function(e){var t=e.columnCount;return(0,b.jsx)(b.Fragment,{children:u?o:Array.isArray(o)&&o.filter((function(e,n){return n<t}))})}),[u,o]);if(Array.isArray(o)&&0===o.length)return null;var M=!!x&&((m&&m>D||y)&&!!l&&!u);return(0,b.jsxs)("section",{ref:P,className:s()(p,_.Z.shelf,"Shelf"),"":"".concat(v,"-shelf"),"aria-label":t,children:[(0,b.jsx)("div",{className:_.Z.header,children:j?(0,b.jsx)(w,C({seeAllUri:l,seeAllLabel:h,pageId:g,hasMoreElements:M,onClickTitle:O,onClickSeeAll:E},j)):(0,b.jsx)(N.r,{title:t,tagline:n,seeAllUri:l,seeAllLabel:h,pageId:g,hasMoreElements:M,onClickTitle:O,onClickSeeAll:E})}),I&&(0,b.jsx)("div",{className:_.Z.subHeader,children:I()}),(0,b.jsx)(c.T,{className:s()(_.Z.shelfGrid,(0,i.Z)({},_.Z.showAll,u)),render:L,onLayoutChange:F})]})}));P.displayName="BaseShelf";var I=function(e){return(0,b.jsx)(l.L,{onError:function(e){(0,u.vK)(e,"Shelf")},children:(0,b.jsx)(P,C({},e))})}},64038:(e,t,n)=>{"use strict";n.d(t,{r:()=>v});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(10506),l=n(17249),c=n(9278),u=n(88843),d=n(55475),p=n(4637);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=r.memo((function(e){var t=e.title,n=e.titleVariant,i=void 0===n?"canon":n,r=e.tagline,a=e.seeAllUri,m=e.pageId,v=e.hasMoreElements,g=e.seeAllLabel,h=void 0===g?l.ag.get("shelf.see-all"):g,k=e.className,y=e.seeAllProps,b=e.onClickTitle,S=e.onClickSeeAll;return(0,p.jsxs)("div",{className:o()(d.Z.topRow,k),children:[(0,p.jsxs)("div",{className:d.Z.titleWrapper,children:[v?(0,p.jsx)(s.D,{as:"h2",variant:i,semanticColor:"textBase",children:(0,p.jsx)(u.Link,f(f({"":"see-all-link",to:a||"",pageId:m,className:d.Z.title,onClick:b},"boolean"==typeof v?void 0:v),{},{children:t}))}):(0,p.jsx)(s.D,{as:"h2",variant:i,semanticColor:"textBase",className:d.Z.title,tabIndex:-1,children:t}),r&&(0,p.jsx)(s.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",children:r})]}),v&&(0,p.jsx)(c.default,f(f({link:a||"",className:d.Z.seeAll,pageId:m,onClick:S,label:h},"boolean"==typeof v?void 0:v),y))]})}))},28520:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var i=n(59496),r=n(93279),a=n(20188),o=function(e){var t=e.seeAllUri,n=e.index,o=e.id,s=(0,a.fU)(r.createDesktopShelfEventFactory,{data:{identifier:o,position:n}}),l=s.spec,c=s.logger,u=(0,i.useCallback)((function(){var e=l.swipeUiReveal();c.logInteraction(e)}),[c,l]),d=(0,i.useCallback)((function(e){var t=l.shelfHeaderFactory().shelfCarouselControlsFactory(),n="next"===e?t.shelfCarouselControlsNextFactory():t.shelfCarouselControlsPreviousFactory();c.logInteraction(n.hitUiReveal())}),[c,l]);return{onClickShelfTitle:(0,i.useCallback)((function(){var e=l.shelfHeaderFactory().shelfHeaderTitleFactory().hitUiNavigate({destination:null!=t?t:""});c.logInteraction(e)}),[c,t,l]),onClickShelfSeeAll:(0,i.useCallback)((function(){var e=l.shelfHeaderFactory().shelfHeaderSeeAllFactory().hitUiNavigate({destination:null!=t?t:""});c.logInteraction(e)}),[c,t,l]),onSwipe:u,onClickCarouselControls:d,elementRef:(0,a.Wi)(l),spec:l}}},62200:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var i=n(45389),r=n(84875),a=n.n(r),o=n(10506),s=n(96454);const l="dxnMpEuxRQ5Ml60ftDcz",c="jFPYamKaGvZv7JA45KCu";var u=n(4637),d=function(e){var t=e.as,n=e.variant,r=e.className,d=e.charCount,p=e.isLoading,m=(0,s.h)("shimmer");return(0,u.jsx)(o.D,{ref:m,as:t,variant:n,className:a()(l,r,(0,i.Z)({},c,p)),style:{width:d?"".concat(d,"ch"):void 0},tabIndex:-1,"aria-hidden":!0})}},4159:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var i=n(39130),r=n(59496),a=n(55530),o=n.n(a),s=n(70802),l=n(94782),c=n(10506),u=n(92722),d=n(45389),p=n(980),m=(n(162),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(95708)),f=n(27969),v=n(14255),g=n(15134),h=n(19224),k=n(11794),y=n(4637),b=["heading","selected","onSelect","options","sortOrder"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t,n=e.heading,i=e.selected,r=e.onSelect,a=e.options,o=e.sortOrder,s=(0,p.Z)(e,b);o&&(o===k.kn.ASC||o===k.kn.SECONDARY_ASC?t=m.C:o!==k.kn.DESC&&o!==k.kn.SECONDARY_DESC||(t=f.B));return(0,y.jsxs)(v.v,x(x({getInitialFocusElement:function(e){return null==e?void 0:e.querySelector('[aria-checked="true"]')}},s),{},{children:[n?(0,y.jsx)(g.F,{children:n}):null,a.map((function(e,n){var a=e.key,o=e.value;return(0,y.jsx)(h.s,{role:"menuitemradio","aria-checked":a===i.key,CheckedIcon:t,onClick:function(){return r(a,n)},children:o},a)}))]}))};const w="x-sortBox-sortDropdown",N="cvTLPmjt6T7M85EKcB8w",_="SbDHY3fVADNJ4l9qOLQ2";var E=function(e){var t=e.isOpen,n=e.className;return t?(0,y.jsx)(s.U,{iconSize:16,"aria-hidden":"true",className:n}):(0,y.jsx)(l.i,{iconSize:16,"aria-hidden":"true",className:n})},C=function(e){var t=e.heading,n=e.options,a=e.selected,s=e.onSelect,l=e.sortOrder,d=e.variant,p=void 0===d?"mesto":d,m=e.semanticColor,f=e.disabled,v=e.onClick,g=e.ariaLabel,h=(0,i.Z)(n,1)[0];a||(a=h);var k=(0,r.useMemo)((function(){return"sortboxlist-".concat(o().create().hex)}),[]);return(0,y.jsx)(u.y,{menu:(0,y.jsx)(O,{selected:a,options:n,onSelect:s,sortOrder:l,heading:t,id:k}),children:function(e,t,n){return(0,y.jsxs)("button",{className:w,onClick:function(e){f||(null==v||v(e),t(e))},ref:n,type:"button","aria-label":g,role:"combobox","aria-controls":k,"aria-expanded":e,children:[(0,y.jsx)(c.D,{semanticColor:m,variant:p,className:N,children:a.value}),(0,y.jsx)(E,{isOpen:e,className:_})]})}})}},35996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(47921);const i="liKqY2CEkAKTwX2SfNCu",r="fwTMCeAaUoWDj9WcQbgy",a="bEEDwYBSsninmQ7a4QK9";var o=n(84875),s=n.n(o),l=n(46747),c=n(4637);const u=function(e){var t=e.className,n=e.noLink,o=void 0!==n&&n,u=e.customLink,d=void 0===u?"/":u,p=e.hasText,m=void 0!==p&&p,f=(0,c.jsxs)("svg",{viewBox:"0 0 167.5 167.5",className:s()(a),children:[(0,c.jsx)("title",{children:"Spotify"}),(0,c.jsx)("path",{fill:"currentColor",d:"M83.7 0C37.5 0 0 37.5 0 83.7c0 46.3 37.5 83.7 83.7 83.7 46.3 0 83.7-37.5 83.7-83.7S130 0 83.7 0zM122 120.8c-1.4 2.5-4.6 3.2-7 1.7-19.8-12-44.5-14.7-73.7-8-2.8.5-5.6-1.2-6.2-4-.2-2.8 1.5-5.6 4-6.2 32-7.3 59.6-4.2 81.6 9.3 2.6 1.5 3.4 4.7 1.8 7.2zM132.5 98c-2 3-6 4-9 2.2-22.5-14-56.8-18-83.4-9.8-3.2 1-7-1-8-4.3s1-7 4.6-8c30.4-9 68.2-4.5 94 11 3 2 4 6 2 9zm1-23.8c-27-16-71.6-17.5-97.4-9.7-4 1.3-8.2-1-9.5-5.2-1.3-4 1-8.5 5.2-9.8 29.6-9 78.8-7.2 109.8 11.2 3.7 2.2 5 7 2.7 10.7-2 3.8-7 5-10.6 2.8z"})]}),v=(0,c.jsxs)("svg",{viewBox:"0 0 1134 340",className:s()(r),children:[(0,c.jsx)("title",{children:"Spotify"}),(0,c.jsx)("path",{fill:"currentColor",d:"M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z"})]}),g=m?v:f;return o?(0,c.jsx)("div",{className:s()(i,t),children:g}):d.startsWith("https://")?(0,c.jsx)("a",{href:d,className:s()(i,t),children:g}):(0,c.jsx)(l.O,{to:d,className:s()(i,t),children:g})}},6377:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(84875),r=n.n(i);const a="x-toggle-wrapper",o="x-toggle-indicatorWrapper",s="x-toggle-input",l="x-toggle-indicator";var c=n(4637),u=function(e){var t=e.value,n=e.disabled,i=e.onSelected,u=e.id,d=e.className;return(0,c.jsxs)("label",{className:r()(a,d),children:[(0,c.jsx)("input",{id:u,className:s,type:"checkbox",disabled:n,checked:t,onChange:function(e){var t=e.target.checked;i(t)}}),(0,c.jsx)("span",{className:o,children:(0,c.jsx)("span",{className:l})})]})}},20522:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});var i=n(59496),r=n(84875),a=n.n(r),o=n(87995),s=n(96084),l=n(91255),c=n(4637),u=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,u=i.useContext(s.E).elementRef,d=a()(l.Z.topbarContent,r);return u?(0,o.createPortal)((0,c.jsx)("div",{"":"topbar-content",className:d,children:t}),u):null}},96084:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,y:()=>s});var i=n(39130),r=n(59496),a=n(4637),o=r.createContext({}),s=function(e){var t=e.children,n=r.useState(),s=(0,i.Z)(n,2),l=s[0],c=s[1];return(0,a.jsx)(o.Provider,{value:{elementRef:l,setElementRef:c},children:t})}},82526:(e,t,n)=>{"use strict";n.d(t,{v:()=>f,J:()=>m});n(162),n(62780),n(22369);var i=n(84875),r=n.n(i),a=n(59496),o=n(70420),s=n(88843);const l="nLNTsyonBwoRIzAv1AME",c="E4I5I7G2CfW32hLWZaqE",u="w4ZoklZWkrsyrVA34vI8";var d=n(4637),p=function(e){var t=e.title,n=e.uri,i=e.className,l=e.onClick,p=e.position,m=(0,a.useCallback)((function(e){null==l||l(e,{uri:n,position:p})}),[l,p,n]);return(0,d.jsx)(s.Link,{"aria-label":t,className:r()(c,u,i),to:n,onClick:m,children:(0,d.jsx)(o.A,{as:"span",children:t})})};function m(e){return!!e.uri&&!!e.title}var f=function(e){var t=e.topics,n=e.className,i=e.onClick;return(0,d.jsx)("div",{className:r()(l,n),children:t.filter(m).map((function(e,t){return(0,d.jsx)(p,{title:e.title,uri:e.uri,position:t,onClick:i},e.uri)}))})}},65664:(e,t,n)=>{"use strict";n.d(t,{i:()=>u,o:()=>d});n(61235),n(62780),n(7845),n(66715),n(30479),n(75341);var i=n(45389),r=n(39130),a=(n(95675),n(29543),n(22369),n(70969),n(92346),n(31594),n(43125),n(27639),n(83001),n(71756),n(59496)),o=n(49756),s=n(4637);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,a.createContext)({toggleSelected:function(){return!1},isSelected:function(){return!1},getSelected:function(){return[]},clearSelected:function(){},selectAll:function(){},pushPopSelected:function(){}});function d(e){var t=e.resolveUri,n=e.resolveUid,l=e.getItems,d=e.nrTracks,p=e.children,m=(0,a.useState)({}),f=(0,r.Z)(m,2),v=f[0],g=f[1],h=(0,a.useRef)([{index:0,range:[]}]),k=(0,a.useContext)(o.ZF).getCapabilities().canMoveMultipleItems,y=function(e){return l(e,e,{cachedOnly:!0})[0]},b=function(){Object.keys(v).length>0&&g({}),h.current=[{index:0,range:[]}]},S=function(e){var t=y(e);return Boolean(t&&v[n(t,e)])},x=function(e){S(e)?function(e){var t=y(e),i=n(t,e);g((function(e){return delete e[i],c({},e)})),h.current.length>1&&h.current.pop()}(e):function(e){var r=y(e);if(r){var a=t(r),o=n(r,e);a&&o&&(g((function(t){return c(c({},t),{},(0,i.Z)({},o,{uid:o,uri:a,index:e}))})),h.current.push({index:e,range:[]}))}}(e)};return(0,s.jsx)(u.Provider,{value:{toggleSelected:function(e,i,r){k&&(i||r)||b(),k&&i?function(e){var i=c({},v),r=h.current[h.current.length-1];r.range.forEach((function(e){delete i[e]})),r.range=[];for(var a=Math.min(r.index,e),o=Math.max(r.index,e),s=a;s<=o;s++){var l=y(s);if(l){var u=t(l),d=n(l,s);u&&d&&(i[d]={uid:d,uri:u,index:s},r.range.push(s))}}g(i)}(e):x(e)},isSelected:S,getSelected:function(){return Object.values(v).sort((function(e,t){return e.index-t.index}))},clearSelected:b,selectAll:function(){for(var e=l(0,d,{cachedOnly:!0}),i={},r=Array.from(Array(d).keys()),a=0;a<=d;a++){var o=e[a];if(o){var s=t(o),c=n(o,a);s&&c&&(i[c]={uid:c,uri:s,index:a})}}g(i),h.current=[{index:0,range:r}]},pushPopSelected:function(e,t){k||b();var n=e+t,i=S(e),r=S(n);r?x(e):i&&!r?x(n):i||r||(x(n),x(e))}},children:p})}},14699:(e,t,n)=>{"use strict";n.d(t,{W:()=>j,c:()=>A});var i=n(45389),r=n(39130),a=(n(40274),n(22369),n(4302),n(66469),n(162),n(30246),n(69109),n(43125),n(27639),n(5538),n(29543),n(70969),n(59496)),o=n(84875),s=n.n(o),l=n(61740),c=n(85830),u=n(59272),d=n(17249),p=n(1646),m=n(45628),f=n(17006),v=n(18830),g=n(76022),h=n(20188),k=n(65664),y=n(4783),b=n(96692),S=n(90775),x=n(29893),O=(n(62780),n(14255)),w=n(78142),N=n(46700),_=n(36502),E=n(3285),C=n(4637),P=a.memo((function(e){var t=e.uris,n=e.uids,i=e.contextUri,r=e.removePlaylistItems,a=(0,N.T)(t[0]).spec;return(0,C.jsx)(w.ZP,{value:"multi-select",children:(0,C.jsxs)(O.v,{children:[(0,C.jsx)(E.x9,{spec:a,uris:t}),(0,C.jsx)(E.Qf,{spec:a,uids:n,uris:t,contextUri:i}),(0,C.jsx)(E.ZX,{trackUris:t.filter((function(e){return(0,u.wj)(e)}))}),i&&(0,u.nK)(i)?(0,C.jsx)(E.Xu,{uris:t,uids:n,playlistUri:i||"",removePlaylistItems:r}):null,(0,C.jsx)(_.p,{spec:a,uris:t})]})})})),I=n(81386),j=function(e){return e[e.None=0]="None",e[e.Before=1]="Before",e[e.After=2]="After",e}({}),A=function(e){var t,n,o=e.children,O=e.uri,w=e.index,N=e.ariaRowIndex,_=e.dragMetadata,E=e.contextUri,A=e.isPlayable,T=e.ageRestricted,D=e.showUnplayableAsEnabled,R=void 0!==D&&D,F=e.onTriggerPlay,L=e.onTriggerPaywall,M=e.isActive,U=e.onMove,Z=e.onContextMenu,B=e.onInsert,V=e.allowedDropTypes,H=void 0===V?[]:V,G=e.initialSelectedState,W=void 0!==G&&G,z=e.spec,K=e.removePlaylistItems,Y=e.isLocked,q=e.onDoubleClick,Q=(0,a.useContext)(k.i),J=Q.pushPopSelected,X=Q.toggleSelected,$=Q.isSelected,ee=Q.getSelected,te=Q.clearSelected,ne=(0,l.I0)(),ie=(0,l.v9)(x.QT),re=(0,b.O)(),ae=(0,a.useRef)(null),oe=_.sectionId,se=void 0===oe?0:oe,le=(0,a.useState)(j.None),ce=(0,r.Z)(le,2),ue=ce[0],de=ce[1],pe=(0,v.c)({action:"open"});(0,a.useEffect)((function(){W&&ae.current&&(X(w,!1,!1),(0,f.Jp)(ae.current))}),[]);var me=(0,a.useCallback)((function(e){return e.find((function(e){return null==H?void 0:H.includes(e)}))}),[null==H?void 0:H.includes]),fe=(0,a.useCallback)((function(e){if(e.target===e.currentTarget){var t=[];$(w)?t=ee().map((function(e){return e.uri})):(X(w,!1,!1),t=[O]);var n=_.name,i=_.createdBy,r=_.sectionId,a="".concat(n," • ").concat(i);t.length>1&&(a=d.ag.get("tracklist.drag.multiple.label",t.length)),re(e,t,a,E,r)}}),[re,_,ee,$,X,w,O,E]),ve=(0,a.useCallback)((function(e){if(me(Array.from(e.dataTransfer.types))&&ae.current){e.preventDefault();var t=ae.current.getBoundingClientRect(),n=t.top,i=t.height,r=e.clientY<n+i/2;e.dataTransfer.dropEffect="copy",r&&ue!==j.Before&&de(j.Before),r||ue===j.After||de(j.After)}}),[ue,me]),ge=(0,a.useCallback)((function(){de(j.None)}),[]),he=(0,a.useCallback)((function(e){if(H.length>0){e.preventDefault();var t=e.dataTransfer.getData("text/x-spotify-context"),n=parseInt(e.dataTransfer.getData("text/x-spotify-section"),10)||0,i=ee();if(U&&t===E&&se===n&&i.length>0)U(i,w,ue,{section:n,origin:n});else if(B){var r=[];H.forEach((function(t){var n=e.dataTransfer.getData(t);n&&(r=r.concat(n.split("\n").map((function(e){var t=(0,u.EC)(e);return t?t.toURI():e}))))})),r.length>0&&B(r,w,ue,t,{section:se,origin:n})}}de(j.None),te()}),[H,U,B,E,w,ue,ee,te,se]),ke=(0,S.o)(),ye=(0,h.$P)(),be=(0,c.y1)((function(e){ke({intent:"play",type:"double-click"});var t=z?ye.logInteraction(z.doubleHitPlay({itemToBePlayed:O})):void 0;F(e,t)}),g.s_,{leading:!0,trailing:!1}),Se=(0,a.useCallback)((function(e){z&&L&&ye.logInteraction(z.doubleHitShowPaywall({paywalledItem:O})),null==L||L(e)}),[ye,L,z,O]),xe=(0,a.useCallback)((function(){return ne((0,p.e2)())}),[ne]),Oe=(0,a.useCallback)((function(){return ne((0,y.RM)(O))}),[O,ne]);Y?n=Se:A?n=be:(T&&!ie&&(n=Oe),n=q||xe);var we=(0,a.useCallback)((function(e){X(w,e.shiftKey,e.ctrlKey||e.metaKey)}),[X,w]),Ne=(0,a.useCallback)((function(e){var t=$(w);if(t||X(w,e.shiftKey,e.ctrlKey||e.metaKey),Z){var n=ee().map((function(e){return e.uri})),i=ee().map((function(e){return e.uid}));n.length>1&&t?pe(e,(0,C.jsx)(P,{uris:n,uids:i,contextUri:E,removePlaylistItems:K})):Z(e)}}),[$,w,Z,ee,X,pe,E,K]),_e=(0,a.useCallback)((function(e){var t;if(null!==(t=ae.current)&&void 0!==t&&t.contains(e.target)){var n="ArrowUp"===e.key?-1:1;["ArrowUp","ArrowDown"].includes(e.key)&&(e.shiftKey?J(w,n):X(w+n,!1,!1))}}),[J,X,w]),Ee=(0,h.Wi)(z),Ce=(0,a.useCallback)((function(e){ae.current=e,null==Ee||Ee(e)}),[Ee]),Pe=$(w),Ie=Pe&&$(w-1),je=Pe&&$(w+1);return(0,C.jsx)(m.RX,{rowIndex:N,"aria-selected":Pe,children:(0,C.jsx)("div",{"":"tracklist-row",className:s()(I.Z.trackListRow,I.Z.trackListRowGrid,(t={},(0,i.Z)(t,I.Z.active,M),(0,i.Z)(t,I.Z.disabled,!A),(0,i.Z)(t,I.Z.showDisabledAsEnabled,R),(0,i.Z)(t,I.Z.selected,Pe),(0,i.Z)(t,I.Z.isPreviousRowSelected,Ie),(0,i.Z)(t,I.Z.isNextRowSelected,je),(0,i.Z)(t,I.Z.dropTargetBefore,ue===j.Before),(0,i.Z)(t,I.Z.dropTargetAfter,ue===j.After),t)),onDoubleClick:n,onClick:we,onContextMenu:Ne,draggable:!0,onKeyDown:_e,onDragStart:fe,onDragOver:ve,onDragLeave:ge,onDrop:he,ref:Ce,children:o})})}},66961:(e,t,n)=>{"use strict";n.d(t,{T:()=>u});n(30246);var i=n(59496),r=n(96692),a=n(1059),o=n(54691),s=n(60221),l=n(88843),c=n(4637),u=function(e){var t=e.children,n=e.uri,u=e.name,d=e.onClick,p=e.index,m=(0,r.O)([n],u),f=(0,i.useCallback)((function(){null==d||d(n,p)}),[d,n,p]);return(0,a.i)({uri:n})?(0,c.jsx)(o._,{menu:(0,c.jsx)(s.m,{uri:n}),children:(0,c.jsx)(l.Link,{draggable:!0,to:n,onDragStart:m,dir:"auto",onClick:f,children:t})}):(0,c.jsx)(c.Fragment,{children:t})}},11864:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});n(69109);var i=n(10506),r=n(17249),a=n(4637),o=function(e){var t=e.dateAdded,n=e.prefix,o=t.getTime()>0&&r.ag.formatRelativeDate(t,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"});return o&&n&&(o="".concat(n," ").concat(o)),(0,a.jsx)(i.D,{variant:"mesto",semanticColor:"textSubdued",children:o})}},98659:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(59496),r=n(84875),a=n.n(r),o=n(10506),s=n(39106),l=n(81386),c=n(4637),u=(0,i.memo)((function(e){var t=e.duration,n=e.className;return(0,c.jsx)(o.D,{as:"div",variant:"mesto",className:a()(n,l.Z.rowDuration),semanticColor:"textSubdued",children:(0,s.m)(t)})}))},85520:(e,t,n)=>{"use strict";n.d(t,{D:()=>g});var i=n(39130),r=n(59496),a=n(84875),o=n.n(a),s=n(85830),l=n(46868),c=n(76022),u=n(939),d=n(20188),p=n(90775),m=n(66275),f=n(81386),v=n(4637),g=r.forwardRef((function(e,t){var n=e.className,a=void 0===n?"":n,g=e.children,h=e.onClick,k=e.isPlaying,y=e.isActive,b=e.isLocked,S=void 0!==b&&b,x=e.playAriaLabel,O=e.uri,w=e.spec,N=(0,p.o)(),_=(0,r.useState)(!1),E=(0,i.Z)(_,2),C=E[0],P=E[1],I=(0,d.$P)(),j=(0,s.y1)((function(e){var t,n=e.currentTarget,i=e.detail;if(e.stopPropagation(),i>0&&n&&n.blur(),N({intent:k?"pause":"play",type:"click"}),w&&!S){var r,a=w.playbackButtonFactory();r=y&&k?a.hitPause({itemToBePaused:O}):y&&!k?a.hitResume({itemToBeResumed:O}):a.hitPlay({itemToBePlayed:O}),t=I.logInteraction(r)}else w&&I.logInteraction(w.playbackButtonFactory().hitShowPaywall({paywalledItem:O}));h(e,t)}),c.s_,{leading:!0,trailing:!1});(0,r.useEffect)((function(){var e=function(){P(!0)},t=function(){P(!1)};return k&&(P(document.hasFocus()),window.addEventListener("focus",e),window.addEventListener("blur",t)),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}),[k]);var A=!(0,u.T)()&&C;return(0,v.jsxs)("div",{className:o()(f.Z.rowMarker,a),children:[k?(0,v.jsx)("img",{className:f.Z.playingIcon,width:"14",height:"14",alt:"",src:(0,l.g)(A?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")}):g,(0,v.jsx)(m.I,{className:f.Z.rowPlayPauseButton,iconClassName:f.Z.rowPlayPauseIcon,onClick:j,isPlaying:k,isLocked:S,playAriaLabel:x,ref:t})]})}))},42204:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var i=n(10506),r=n(81386),a=n(4637),o=function(e){var t=e.children;return t?"number"==typeof t?(0,a.jsx)(i.D,{variant:"ballad",className:r.Z.number,children:t}):(0,a.jsx)("span",{className:r.Z.icon,children:t}):null}},30174:(e,t,n)=>{"use strict";n.d(t,{Lb:()=>m,hU:()=>f,uD:()=>v});var i=n(59496),r=n(84875),a=n.n(r),o=n(81386),s=n(4637),l=i.memo((function(){return(0,s.jsx)("div",{className:a()(o.Z.placeholder,o.Z.rowSectionVariable,o.Z.placeholderVariable)})})),c=i.memo((function(){return(0,s.jsx)("div",{className:a()(o.Z.placeholder,o.Z.rowSectionEnd,o.Z.placeholderEnd)})})),u=i.memo((function(){return(0,s.jsx)("div",{className:a()(o.Z.placeholder,o.Z.rowSectionIndex,o.Z.placeholderIndex)})})),d=i.memo((function(){return(0,s.jsx)("div",{className:a()(o.Z.placeholder,o.Z.rowSectionStart,o.Z.placeholderStartWithCoverImage)})})),p=i.memo((function(){return(0,s.jsx)("div",{className:a()(o.Z.placeholder,o.Z.rowSectionStart,o.Z.placeholderStart)})})),m=i.memo((function(e){var t=e.height;return(0,s.jsxs)("div",{className:o.Z.trackListRowGrid,style:{height:t},"":"tracklist-row-placeholder",children:[(0,s.jsx)(u,{}),(0,s.jsx)(d,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(c,{})]})})),f=i.memo((function(e){var t=e.height;return(0,s.jsxs)("div",{className:o.Z.trackListRowGrid,style:{height:t},"":"tracklist-row-placeholder",children:[(0,s.jsx)(d,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(c,{})]})})),v=i.memo((function(e){var t=e.height;return(0,s.jsxs)("div",{className:o.Z.trackListRowGrid,style:{height:t},"":"tracklist-row-placeholder",children:[(0,s.jsx)(u,{}),(0,s.jsx)(p,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(l,{}),(0,s.jsx)(c,{})]})}))},41955:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var i=n(45628),r=n(81386),a=n(4637),o=function(e){var t=e.children,n=e.ariaColIndex,o=e.ariaSort,s=e.role;return"columnheader"===(void 0===s?"gridcell":s)?(0,a.jsx)(i.YU,{columnIndex:n,ariaSort:o,className:r.Z.rowSectionEnd,children:t}):(0,a.jsx)(i.id,{columnIndex:n,className:r.Z.rowSectionEnd,children:t})}},42143:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var i=n(45628),r=n(81386),a=n(4637),o=function(e){var t=e.children,n=e.ariaColIndex,o=e.ariaSort,s=e.role;return"columnheader"===(void 0===s?"gridcell":s)?(0,a.jsx)(i.YU,{columnIndex:n,ariaSort:o,className:r.Z.rowSectionVariable,children:t}):(0,a.jsx)(i.id,{columnIndex:n,className:r.Z.rowSectionVariable,children:t})}},32888:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var i=n(84875),r=n.n(i),a=n(10506),o=n(81386),s=n(4637),l=function(e){var t=e.children;return(0,s.jsx)(a.D,{className:r()(o.Z.rowSubTitle,"standalone-ellipsis-one-line"),variant:"mesto",semanticColor:"textSubdued",children:t})}},64789:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var i=n(84875),r=n.n(i),a=n(10506),o=n(71062),s=n(81386),l=n(4637),c=function(e){var t=e.titleText,n=e.children,i=(0,l.jsx)(a.D,{variant:"ballad",semanticColor:"textBase",dir:"auto",className:r()(s.Z.rowTitle,"standalone-ellipsis-one-line"),as:"div",children:n});return(0,l.jsx)(o.w,{label:t,children:i})}},56394:(e,t,n)=>{"use strict";n.d(t,{Gb:()=>p,HI:()=>d,MI:()=>l,P0:()=>s,RJ:()=>c,kz:()=>m,zq:()=>u});n(59538),n(79611);var i=n(59496),r=n(11880),a=n(36841),o=n(4637),s=[a.Q.ADDED_AT,a.Q.TITLE,a.Q.ALBUM],l=[a.Q.INDEX,a.Q.TITLE,a.Q.ALBUM,a.Q.DURATION],c=[a.Q.INDEX,a.Q.TITLE,a.Q.ALBUM,a.Q.DURATION],u=[a.Q.INDEX,a.Q.TITLE,a.Q.ALBUM,a.Q.ALBUM_OR_PODCAST,a.Q.ADDED_BY,a.Q.ADDED_AT,a.Q.DURATION],d={column:null,order:a.k.NONE},p=(0,i.createContext)({setSortState:function(){throw new Error("setSortState must be used within a TracksSortProvider")},sortState:d}),m=i.memo((function(e){var t=e.uri,n=e.children;return(0,o.jsx)(r.r,{uri:t,defaultState:d,sortContext:p,children:n})}))},70436:(e,t,n)=>{"use strict";n.d(t,{o:()=>d});n(30246),n(62780),n(22369),n(162);var i=n(59496),r=n(17249),a=n(20188),o=n(35742),s=n(66961),l=n(81386),c=n(4637),u=function(e){var t=e.name,n=e.uri,i=e.nonInteractive,r=e.children,a=e.onClick,o=e.index;return i?(0,c.jsx)("span",{className:l.Z.text,children:r}):(0,c.jsx)(s.T,{name:t,uri:n,onClick:a,index:o,children:r},n)},d=function(e){var t=e.artists,n=e.filter,s=e.nonInteractive,l=void 0!==s&&s,d=e.spec,p=(0,a.$P)(),m=(0,i.useCallback)((function(e,t){d&&p.logInteraction(d.artistLinkFactory({position:null!=t?t:0,uri:e}).hitUiNavigate({destination:e}))}),[p,d]);return(0,c.jsx)(c.Fragment,{children:t.map((function(e,t){var i=e.uri,a=e.name;return[t>0&&r.ag.getSeparator(),(0,c.jsx)(u,{uri:i,name:a,nonInteractive:l,onClick:m,index:t,children:(0,c.jsx)(o.o,{searchWords:[null!=n?n:""],textToHighlight:a})},i)]}))})}},69395:(e,t,n)=>{"use strict";n.d(t,{p_:()=>ie,BM:()=>F,dS:()=>ee,T6:()=>P,g3:()=>w,Op:()=>z.O,A$:()=>L.A,bt:()=>fe,qS:()=>Q,lD:()=>m,VG:()=>y,vm:()=>K,Du:()=>S.D,Zv:()=>$,km:()=>b.k,Lb:()=>H.Lb,JR:()=>ge,fx:()=>W,mU:()=>V.m,Dd:()=>U,vZ:()=>Z,UA:()=>B.U,K9:()=>N.K,Wh:()=>x.W});var i=n(45389),r=n(84875),a=n.n(r),o=n(75897),s=n(69413),l=n(35699),c=n(71440),u=n(81386),d=n(4637),p=function(e){var t=e.isVideo,n=e.isEpisode,i=s.F;t?i=l.O:n&&(i=c.J);var r=n&&!t?4:0;return(0,d.jsx)("div",{className:a()(u.Z.rowImage,u.Z.rowImageFallback),style:{borderRadius:r||void 0},children:(0,d.jsx)(i,{iconSize:16})})},m=function(e){var t=e.src,n=e.isVideo,r=void 0!==n&&n,s=e.isEpisode,l=void 0!==s&&s;return t?(0,d.jsx)(o.E,{className:a()(u.Z.rowImage,(0,i.Z)({},u.Z.rowImageVideo,r)),draggable:!1,src:t,loading:"eager",width:"40",height:"40",radius:l&&!r?4:0,children:(0,d.jsx)(p,{isVideo:r,isEpisode:l})}):(0,d.jsx)(p,{isVideo:r,isEpisode:l})},f=n(85830),v=n(76022),g=n(20188),h=n(90775),k=n(66275),y=function(e){var t=e.uri,n=e.src,r=e.playAriaLabel,o=e.onClick,s=e.isPlaying,l=e.isActive,c=e.isLocked,p=e.isEpisode,y=e.isVideo,b=e.spec,S=(0,h.o)(),x=(0,g.$P)(),O=(0,f.y1)((function(e){var n;if(S({type:"click",intent:s?"pause":"play"}),b){var i,r=b.playbackButtonFactory();i=l&&s?r.hitPause({itemToBePaused:t}):l&&!s?r.hitResume({itemToBeResumed:t}):r.hitPlay({itemToBePlayed:t}),n=x.logInteraction(i)}o(e,n)}),v.s_,{leading:!0,trailing:!1});return(0,d.jsxs)("div",{className:u.Z.rowImageWithPlay,children:[(0,d.jsx)(m,{src:n,isEpisode:p,isVideo:y}),(0,d.jsx)(k.I,{className:a()(u.Z.rowPlayPauseButton,u.Z.rowImagePlayPauseButton,(0,i.Z)({},u.Z.rowImagePlayPauseButtonPlaying,s)),iconClassName:u.Z.rowPlayPauseIcon,onClick:O,isPlaying:s,isLocked:c,playAriaLabel:r})]})},b=n(42204),S=n(85520),x=n(64789),O=n(10506),w=function(e){var t=e.children;return t?(0,d.jsx)(O.D,{variant:"ballad",className:u.Z.rowBadges,semanticColor:"textSubdued",children:t}):null},N=n(32888),_=(n(162),n(30246),n(59496)),E=n(17249),C=n(66961),P=function(e){var t=e.artists,n=e.spec,i=(0,g.$P)(),r=(0,_.useCallback)((function(e,t){n&&i.logInteraction(n.artistLinkFactory({position:null!=t?t:0,uri:e}).hitUiNavigate({destination:e}))}),[i,n]);return t?(0,d.jsx)(d.Fragment,{children:t.map((function(e,t){var n=e.uri,i=e.name;return[t>0&&E.ag.getSeparator(),(0,d.jsx)(C.T,{name:i,uri:n,onClick:r,index:t,children:i},n)]}))}):null},I=n(59272),j=n(96692),A=n(54691),T=n(76561),D=n(32563),R=n(88843),F=function(e){var t=e.children,n=e.uri,i=e.name,r=e.nonInteractive,o=void 0!==r&&r,s=e.creatorUri,l=e.spec,c=null,p=(0,j.O)([n],i),m=(0,g.$P)(),f=(0,_.useCallback)((function(){l&&m.logInteraction(l.albumLinkFactory({uri:n}).hitUiNavigate({destination:n}))}),[m,l,n]);return o?(0,d.jsx)("span",{className:a()("standalone-ellipsis-one-line",u.Z.text),children:t}):((0,I.YF)(n)&&(c=(0,d.jsx)(T.Y,{uri:n,artistUri:s})),(0,I.RS)(n)&&(c=(0,d.jsx)(D.M,{uri:n})),(0,d.jsx)(A._,{menu:c,children:(0,d.jsx)(O.D,{variant:"mesto",children:(0,d.jsx)(R.Link,{draggable:!0,onDragStart:p,className:a()("standalone-ellipsis-one-line"),to:n,dir:"auto",onClick:f,children:t})})}))},L=n(98659),M=n(45628),U=function(e){var t=e.children,n=e.ariaColIndex,i=e.ariaSort,r=e.role;return"columnheader"===(void 0===r?"gridcell":r)?(0,d.jsx)(M.YU,{columnIndex:n,ariaSort:i,className:u.Z.rowSectionIndex,children:t}):(0,d.jsx)(M.id,{columnIndex:n,className:u.Z.rowSectionIndex,children:t})},Z=function(e){var t=e.children,n=e.ariaColIndex,i=e.ariaSort,r=e.role;return"columnheader"===(void 0===r?"gridcell":r)?(0,d.jsx)(M.YU,{columnIndex:n,ariaSort:i,className:u.Z.rowSectionStart,children:t}):(0,d.jsx)(M.id,{columnIndex:n,className:u.Z.rowSectionStart,children:t})},B=n(42143),V=n(41955),H=n(30174),G=n(32572),W=function(e){var t=e.releaseDate;return(0,d.jsx)(O.D,{variant:"mesto",children:(0,G.rL)((0,G.RX)(t))})},z=n(11864),K=function(e){var t=e.children;return(0,d.jsx)("div",{className:u.Z.rowMainContent,children:t})},Y=n(824),q=n(18822),Q=function(e){var t=e.uri,n=e.type,i=e.spec,r=(0,g.$P)(),a=(0,_.useCallback)((function(e){if(i){var n=e?i.heartButtonFactory().hitLike({itemToBeLiked:t}):i.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:t});r.logInteraction(n)}}),[i,r,t]);return"episode"===n?(0,d.jsx)(Y.w,{uri:t,className:u.Z.rowHeartButton,onClick:a}):(0,d.jsx)(q.B,{uri:t,className:u.Z.rowHeartButton,onClick:a})},J=n(92722),X=n(56075),$=function(e){var t=e.menu,n=e.label,i=e.spec,r=(0,g.$P)(),a=(0,_.useCallback)((function(){i&&r.logInteraction(i.contextButtonFactory().hitUiReveal())}),[r,i]);return(0,d.jsx)(J.y,{menu:t,onShow:a,children:(0,d.jsx)(X.z,{className:u.Z.rowMoreButton,size:16,label:n})})},ee=function(e){var t=e.children;return(0,d.jsx)(O.D,{dir:"auto",className:a()(u.Z.rowTitle,u.Z.discTitle,"standalone-ellipsis-one-line"),as:"div",variant:"balladBold",children:t})},te=n(39447),ne=n(89418),ie=function(e){var t=e.uri,n=e.imageUrl,i=e.name,r=e.showAvatar,a=e.spec,o=(0,g.$P)(),s=(0,_.useCallback)((function(){a&&o.logInteraction(a.addedByLinkFactory({position:0,uri:t}).hitUiNavigate({destination:t}))}),[o,a,t]);return(0,d.jsx)(A._,{menu:(0,d.jsx)(ne.I,{uri:t}),children:(0,d.jsxs)(R.Link,{className:u.Z.addedBy,to:t,onClick:s,children:[r&&(0,d.jsx)(te.q,{images:[{url:n,width:null,height:null}],label:i,width:24,userIconSize:16}),(0,d.jsx)(O.D,{variant:"mesto",className:"standalone-ellipsis-one-line",children:i})]})})},re=n(8850),ae=n(10995),oe=n.n(ae),se=n(61740),le=n(60808),ce=n(1074),ue=n(78742),de=n(9271),pe=n(48472),me=n(5881),fe=function(e){var t=e.isDisliked,n=e.feedbackPath,i=e.feedbackUri,r=e.deleteFeedbackPath,a=e.spec,o=e.onClick,s=e.name,l=e.contextUri,c=(0,g.$P)(),p=(0,ue.g)(),m=(0,se.I0)(),f=(0,de.Y)((function(e){var t;return{uri:null==e||null===(t=e.item)||void 0===t?void 0:t.uri}}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})).uri,v=(0,_.useCallback)((0,re.Z)(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ce.x2.deleteFeedback(le.b.getInstance(),r,i);case 4:null==o||o(),a&&l&&c.logInteraction(a.addRecommendationButtonFactory().hitAddToPlaylist({playlist:l,itemToBeAdded:i}));case 6:case"end":return e.stop()}}),e)}))),[r,i,o,c,l,a]),h=(0,_.useCallback)((0,re.Z)(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ce.x2.setFeedback(le.b.getInstance(),n,i);case 4:f===i&&p.skipToNext(),null==o||o(),m((0,pe.Oh)(s)),a&&l&&c.logInteraction(a.removeRecommendationButtonFactory().hitRemoveRecommendation({recommendedItemUri:i,contextUri:l}));case 8:case"end":return e.stop()}}),e)}))),[i,n,f,o,m,s,a,l,p,c]);return(0,d.jsx)(me.s,{className:u.Z.rowFeedbackButton,size:16,onClick:t?v:h,isDisliked:t})},ve=n(98491),ge=function(e){var t=e.stationURI,n=e.trackURI,i=(0,ve.j)(t,n);return(0,d.jsx)(me.s,{className:u.Z.rowFeedbackButton,size:16,onClick:i})}},11794:(e,t,n)=>{"use strict";n.d(t,{Ym:()=>ie.Ym,h_:()=>ie.h_,kn:()=>R.k,QD:()=>R.Q,UT:()=>ie.UT,dx:()=>ie.dx,l0:()=>ie.l0,dN:()=>Q,rc:()=>J,iJ:()=>ie.iJ,YK:()=>ie.YK,cp:()=>ie.cp,Lb:()=>re.Lb,uD:()=>re.uD,hU:()=>re.hU,e9:()=>ie.e9,pt:()=>ie.pt,Pv:()=>ne});var i,r=n(39130),a=n(45389),o=n(980),s=(n(79611),n(40265),n(22369),n(46743),n(83001),n(82),n(27639),n(71756),n(62780),n(4302),n(66469),n(29543),n(70969),n(72304),n(162),n(87859),n(72649),n(95675),n(61235),n(7845),n(66715),n(30479),n(75341),n(59496)),l=n(84875),c=n.n(l),u=n(17249),d=n(45628),p=n(89880),m=n(13752),f=n(87164),v=n(23066),g=n(69395),h=(n(94562),n(50200)),k=function(e){var t=(0,s.useContext)(h.fo).filter,n=(0,s.useRef)(!1);(0,s.useEffect)((function(){n.current=!0;var e=setTimeout((function(){n.current=!1}),1e3);return function(){clearTimeout(e)}}),[t]),(0,s.useEffect)((function(){""===t&&n.current&&e()}))},y=n(8850),b=n(10995),S=n.n(b),x=(n(90511),n(59272)),O=n(7431),w=n(4626),N=n(65664),_=n(81386),E=function(e,t,n,i){var r=(0,s.useContext)(N.i),a=r.clearSelected,o=r.selectAll,l=r.getSelected,c=(0,s.useCallback)((function(){var i;if(e.current){var r=document.querySelector(".".concat(_.Z.trackList)),a=(null==r?void 0:r.isEqualNode(e.current))||!1,s=null===(i=document.activeElement)||void 0===i?void 0:i.closest(".".concat(_.Z.trackList));((null==s?void 0:s.isEqualNode(e.current))||!1||a&&!s)&&(t?n().then((function(){o()})):o())}}),[e,t,n,o]),u=(0,s.useCallback)(function(){var e=(0,y.Z)(S().mark((function e(t,n){var i,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l(),!(r=i.map((function(e){var t,i=e.uri;return n?i:null===(t=(0,x.EC)(i))||void 0===t?void 0:t.toURL()})).join("\n")).length){e.next=5;break}return e.next=5,t(r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[l]),d=(0,s.useCallback)((function(t){var n;if(null!==(n=e.current)&&void 0!==n&&n.contains(document.activeElement)){var r=l();if(0===r.length)return;i(r,(function(){a()}),t)}}),[a,l,i,e]),p=(0,s.useCallback)(function(){var e=(0,y.Z)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,!1);case 2:d(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,d]);return(0,O.gs)(p),(0,O.TQ)(u),(0,w.eY)(w.O4.SELECT_ALL,c),(0,w.eY)(w.O4.DELETE,(function(){return d()})),{handleDelete:d}},C=(n(59538),n(5538),n(69109),n(91929)),P=n(94782),I=n(70802),j=n(60377),A=n(10506),T=n(83993),D=n(71062),R=n(36841),F=n(4637),L=n(10146),M=n(60492);function U(e,t,n,i){var r={configurable:!0,enumerable:!0};return r[e]=i,Object.defineProperty(t,n,r)}var Z=function(){},B=(i={},(0,a.Z)(i,R.Q.INDEX,(function(){return(0,F.jsx)(F.Fragment,{children:"#"})})),(0,a.Z)(i,R.Q.TITLE,(function(e){var t=e.className,n=e.children,i=e.onSort,r=e.as,a=void 0===r?"div":r,o=e.alternativeText,s=e.columnIndex;return(0,F.jsxs)(a,{className:c()(_.Z.column,t),onClick:function(){return i(R.Q.TITLE,s)},children:[(0,F.jsx)(A.D,{variant:"mesto",className:"standalone-ellipsis-one-line",children:o||u.ag.get("tracklist.header.title")}),n]})})),(0,a.Z)(i,R.Q.PLAYS,(function(){return(0,F.jsx)(A.D,{variant:"mesto",className:_.Z.playsHeader,children:u.ag.get("tracklist.header.plays")})})),(0,a.Z)(i,R.Q.ADDED_BY,(function(e){var t=e.className,n=e.children,i=e.onSort,r=e.as,a=void 0===r?"div":r,o=e.columnIndex;return(0,F.jsxs)(a,{className:c()(_.Z.column,t),onClick:function(){return i(R.Q.ADDED_BY,o)},children:[(0,F.jsx)(A.D,{variant:"mesto",className:"standalone-ellipsis-one-line",children:u.ag.get("tracklist.header.added-by")}),n]})})),(0,a.Z)(i,R.Q.ADDED_AT,(function(e){var t=e.className,n=e.children,i=e.onSort,r=e.as,a=void 0===r?"div":r,o=e.columnIndex;return(0,F.jsxs)(a,{className:c()(_.Z.column,t),onClick:function(){return i(R.Q.ADDED_AT,o)},children:[(0,F.jsx)(A.D,{variant:"mesto",className:"standalone-ellipsis-one-line",children:u.ag.get("tracklist.header.date-added")}),n]})})),(0,a.Z)(i,R.Q.RELEASE_DATE,(function(e){var t=e.className,n=e.children,i=e.as,r=void 0===i?"div":i;return(0,F.jsxs)(r,{className:c()(_.Z.column,t),children:[(0,F.jsx)(A.D,{variant:"mesto",className:c()("standalone-ellipsis-one-line",t),children:u.ag.get("tracklist.header.release-date")}),n]})})),(0,a.Z)(i,R.Q.DURATION,(function(e){var t=e.className,n=e.children,i=e.onSort,r=e.as,a=void 0===r?"div":r,o=e.columnIndex;return(0,F.jsx)(D.w,{label:u.ag.get("tracklist.header.duration"),children:(0,F.jsxs)(a,{"aria-label":u.ag.get("tracklist.header.duration"),className:c()(_.Z.column,_.Z.durationHeader,t),onClick:function(){return i(R.Q.DURATION,o)},children:[n,(0,F.jsx)(T.q,{iconSize:16})]})})})),(0,a.Z)(i,R.Q.EVENT_DATE,(function(e){var t=e.className,n=e.children,i=e.as,r=void 0===i?"div":i;return(0,F.jsxs)(r,{className:c()(_.Z.column,t),children:[(0,F.jsx)(A.D,{variant:"mesto",className:c()("standalone-ellipsis-one-line",t),children:u.ag.get("tracklist.header.event")}),n]})})),(0,a.Z)(i,R.Q.ACTIONS,(function(e){var t=e.className;return(0,F.jsx)("div",{"aria-label":u.ag.get("tracklist.header.actions"),className:c()(_.Z.column,_.Z.actionsHeader,t)})})),(0,a.Z)(i,R.Q.ALBUM,(function(e){var t=e.className,n=e.children,i=e.onSort,r=e.as,a=void 0===r?"div":r,o=e.columnIndex;return(0,F.jsxs)(a,{className:c()(_.Z.column,t),onClick:function(){return i(R.Q.ALBUM,o)},children:[(0,F.jsx)(A.D,{variant:"mesto",className:"standalone-ellipsis-one-line",children:u.ag.get("tracklist.header.album")}),n]})})),(0,a.Z)(i,R.Q.ALBUM_OR_PODCAST,(function(e){var t=e.className,n=e.children,i=e.onSort,r=e.as,a=void 0===r?"div":r,o=e.columnIndex;return(0,F.jsxs)(a,{className:c()(_.Z.column,t),onClick:function(){return i(R.Q.ALBUM_OR_PODCAST,o)},children:[(0,F.jsx)(A.D,{variant:"mesto",className:c()("standalone-ellipsis-one-line",t),children:u.ag.get("tracklist.header.album-or-podcast")}),n]})})),(0,a.Z)(i,R.Q.ALBUM_OR_SHOW,(function(e){var t=e.className,n=e.children,i=e.onSort,r=e.as,a=void 0===r?"div":r,o=e.columnIndex;return(0,F.jsxs)(a,{className:c()(_.Z.column,t),onClick:function(){return i(R.Q.ALBUM_OR_SHOW,o)},children:[(0,F.jsx)(A.D,{variant:"mesto",className:c()("standalone-ellipsis-one-line",t),children:u.ag.get("music_and_talk.album_or_show")}),n]})})),U("get",i,R.Q.ADD,(function(){throw Error("Add has no corresponding column header component")})),U("get",i,R.Q.ARTIST,(function(){throw Error("Artist has no corresponding column header component")})),i),V=function(e,t,n){return function(i,r,o){var s=g.UA,l=function(e,t,n){return n.has(e)?t.column!==e?R.k.NONE:t.order:R.k.NONE}(i,t,e),d=B[i];0===r&&i===R.Q.INDEX?s=g.Dd:1===r&&o[0]===R.Q.INDEX||0===r?s=g.vZ:r===o.length-1&&(s=g.mU);var p=e.has(i),m=p?n:Z,f=(0,j.b3)(l),v=(0,j.VH)(l),h=void 0;f&&(h="ascending"),v&&(h="descending"),l===R.k.NONE&&(h="none");var k=(0,j.cB)(i,l)?u.ag.get("card.tag.artist"):void 0;return(0,F.jsx)(s,{role:"columnheader",ariaColIndex:r,ariaSort:h,children:(0,F.jsxs)(d,{className:c()((0,a.Z)({},_.Z.sortable,p)),onSort:m,alternativeText:k,as:p?"button":"div",columnIndex:r,children:[v&&(0,F.jsx)(P.i,{iconSize:16,semanticColor:"textBrightAccent",className:_.Z.arrow,"aria-hidden":"true"}),f&&(0,F.jsx)(I.U,{iconSize:16,className:_.Z.arrow,semanticColor:"textBrightAccent","aria-hidden":"true"})]})},i)}},H=parseInt(M.Z.TRACKLIST_HEADER_HEIGHT,10),G=function(e){var t=e.columns,n=e.sortableColumns,i=e.onSort,r=e.sortState,o=e.top,l=void 0===o?L.K1:o,u=s.useContext(f.VX).scrollNodeRef,p=isNaN(H)?100:H,m=(0,C.YD)({threshold:[1],root:u.current,rootMargin:"-".concat(l+1,"px 100000px ").concat(p,"px 100000px"),initialInView:!0}),v=m.ref,g=m.inView;return(0,F.jsx)("div",{className:c()(_.Z.trackListHeader,(0,a.Z)({},_.Z.trackListHeaderStuck,!g)),ref:v,style:{top:l},children:(0,F.jsx)(d.RX,{rowIndex:0,className:c()(_.Z.trackListHeaderRow,_.Z.trackListRowGrid),children:t.map(V(n,r,i))})})},W=["resolveUri","resolveUid","tracks","nrTracks","fetchTracks","limit"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={column:null,order:R.k.NONE},q=20,Q=56,J=64,X=function(e,t,n){var i=t?1:0;return e<504?Math.min(2+i,n):e<728?Math.min(3+i,n):e<984?Math.min(4+i,n):e<1208?Math.min(5+i,n):Math.min(6+i,n)},$=function(e,t){return t.toString()};function ee(e){var t=e.resolveUri,n=e.resolveUid,i=void 0===n?$:n,r=e.tracks,a=e.nrTracks,s=e.fetchTracks,l=e.limit,c=void 0===l?100:l,u=(0,o.Z)(e,W),d=(0,p.Q)({nrItems:a,fetch:s,limit:c,initialItems:r}),m=d.getItems,f=d.nrValidItems,v=d.invalidateCache,g=d.cacheAll,h=d.hasItems;return(0,F.jsx)(N.o,{resolveUri:t,resolveUid:i,getItems:m,nrTracks:f,children:(0,F.jsx)(te,K(K({},u),{},{resolveUri:t,resolveUid:i,getItems:m,nrTracks:f,invalidateCache:v,cacheAll:g,hasItems:h}))})}function te(e){var t,n=e.nrTracks,i=e.renderRow,o=e.sortableColumns,l=void 0===o?new Set:o,p=e.sortState,y=void 0===p?Y:p,b=e.onSort,S=void 0===b?function(){}:b,x=e.onRemove,O=void 0===x?function(){}:x,w=e.canFetchAllTracks,C=void 0!==w&&w,P=e.rowPlaceholder,I=void 0===P?g.Lb:P,j=e.hasHeaderRow,A=void 0!==j&&j,T=e.columns,D=e.outerRef,L=e.outerDomRef,M=e.ariaLabel,U=e.testID,Z=void 0===U?"track-list":U,B=e.resolveUid,V=e.resolveUri,H=e.headerTop,W=e.getItems,z=e.invalidateCache,K=e.cacheAll,$=e.hasItems,ee=e.isConcertPlaylist,te=(0,s.useContext)(f.VX).scrollNodeRef,ne=(0,s.useContext)(N.i),ie=ne.clearSelected,re=ne.getSelected,ae=(0,s.useContext)(h.fo).filter,oe=(0,s.useRef)(null),se=(0,s.useRef)({firstIndex:-1,lastIndex:-1}),le=(0,s.useState)(T.length),ce=(0,r.Z)(le,2),ue=ce[0],de=ce[1],pe=null!=L?L:oe,me=T.includes(R.Q.INDEX),fe=u.ag.getLocale()===u.go.ar?J:Q,ve=E(pe,C,K,O).handleDelete,ge=(0,s.useCallback)((function(){if(pe.current){var e=pe.current.offsetWidth,t=X(e,me,T.length);de(t)}}),[T,me,pe]);(0,v.y)({refOrElement:pe,observeOnly:"width",onResize:ge}),(0,s.useEffect)((function(){ge()}),[ge]),(0,s.useEffect)((function(){var e=function(e){pe.current&&e.target instanceof Node&&(pe.current.contains(e.target)||"INPUT"!==e.target.tagName&&ie())};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[ie,pe]);var he=(0,s.useCallback)((function(e){te.current&&(te.current.scrollTop=e*fe)}),[te,fe]),ke=(0,s.useCallback)((function(e){if(C&&e.length>0){var t=[];K().then((function(){W(0,n).forEach((function(n,i){n&&e.some((function(e){return e.uid===B(n,i)||e.uri===V(n)}))&&t.push(i)})),t.length>0&&he(Math.min.apply(Math,t))})).catch((function(e){console.error(e)}))}}),[K,C,W,n,B,V,he]),ye=(0,s.useCallback)((function(){var e=re();ke(e.map((function(e){return{uid:e.uid}})))}),[re,ke]);k(ye);var be=(0,s.useCallback)((function(){return se.current}),[]);(0,s.useImperativeHandle)(D,(function(){return{update:function(){return z()},getRows:function(){return W(0,n,{cachedOnly:!0})},scrollToItem:function(e){return ke([e])},getSelected:re,scrollToIndex:he,getVisibleTrackWindow:be}}));var Se=(0,s.useCallback)((function(e){if("Escape"===e.key&&!e.repeat){if(ae)return;ie()}"Backspace"!==e.key&&"Delete"!==e.key||e.repeat||ve()}),[ie,ve,ae]),xe=(0,s.useCallback)((function(e,t){return(0,F.jsx)(I,{height:e},t)}),[I]);return(0,F.jsxs)(d.j,{"aria-rowcount":n+Number(A),"aria-colcount":ue,"aria-label":M,ref:pe,className:c()((t={},(0,a.Z)(t,_.Z.trackList,!ee),(0,a.Z)(t,_.Z.indexable,me),(0,a.Z)(t,_.Z.delayedVisibility,!$),(0,a.Z)(t,_.Z.concertTrackList,ee),t)),onKeyDown:Se,"":Z,children:[A&&(0,F.jsx)(G,{columns:T,sortableColumns:l,sortState:y,onSort:S,top:H}),(0,F.jsx)(m.V,{renderRows:function(e,t){return Math.max(t-e+1,0)>0&&(se.current={firstIndex:e,lastIndex:t}),W(e,t).map((function(t,n){return t?i(t,e+n):xe("".concat(fe,"px"),"".concat(e+n))}))},nrRows:n,rowHeight:fe,scrollNodeRef:te,nrRowsOverscan:q,renderPlaceholder:xe})]})}var ne=s.memo(ee),ie=n(22454),re=n(30174)},17748:(e,t,n)=>{"use strict";n.d(t,{t:()=>P});var i=n(59496),r=n(78281),a=n(15206),o=n(17249),s=n(48215),l=n(78142),c=n(20188),u=n(45389),d=(n(4302),n(84875)),p=n.n(d),m=n(85830),f=n(45628),v=n(76022),g=n(90775),h=n(65664),k=n(81386),y=n(4637),b=function(e){var t,n=e.children,r=e.index,a=e.ariaRowIndex,o=e.onTriggerPlay,s=e.isActive,l=e.uri,d=e.spec,b=(0,c.$P)(),S=(0,i.useContext)(h.i),x=S.pushPopSelected,O=S.toggleSelected,w=S.isSelected,N=(0,i.useRef)(null),_=(0,g.o)(),E=(0,m.y1)((function(e){_({intent:"play",type:"double-click"});var t=b.logInteraction(d.doubleHitPlay({itemToBePlayed:l}));o(e,t)}),v.s_,{leading:!0,trailing:!1}),C=(0,i.useCallback)((function(e){O(r,e.shiftKey,e.ctrlKey||e.metaKey)}),[O,r]),P=(0,i.useCallback)((function(e){var t;if(null!==(t=N.current)&&void 0!==t&&t.contains(e.target)){var n="ArrowUp"===e.key?-1:1;["ArrowUp","ArrowDown"].includes(e.key)&&(e.shiftKey?x(r,n):O(r+n,!1,!1))}}),[x,O,r]),I=w(r),j=I&&w(r-1),A=I&&w(r+1),T=(0,c.Wi)(d),D=(0,i.useCallback)((function(e){N.current=e,null==T||T(e)}),[T]);return(0,y.jsx)(f.RX,{rowIndex:a,"aria-selected":I,children:(0,y.jsx)("div",{"":"tracklist-row",className:p()(k.Z.trackListRow,k.Z.trackListRowGrid,(t={},(0,u.Z)(t,k.Z.active,s),(0,u.Z)(t,k.Z.selected,I),(0,u.Z)(t,k.Z.isPreviousRowSelected,j),(0,u.Z)(t,k.Z.isNextRowSelected,A),t)),onDoubleClick:E,onClick:C,onKeyDown:P,ref:D,children:n})})},S=n(69395),x=n(98659),O=n(85520),w=n(42204),N=n(41955),_=n(42143),E=n(32888),C=n(64789),P=function(e){var t=e.uri,n=e.title,u=void 0===n?"":n,d=e.index,p=e.subtitle,m=void 0===p?"":p,f=e.showName,v=void 0===f?"":f,g=e.showUri,h=void 0===g?"":g,P=e.duration,I=void 0===P?0:P,j=e.start,A=e.stop,T=(0,s.k)({episodeUri:t,start:j,stop:A}),D=T.isActive,R=T.isPlaying,F=T.onClick,L=(0,i.useCallback)((function(e,t){F(t)}),[F]),M=(0,c.fU)(a.r,{data:{position:d,reason:"",uri:t}}).spec;return(0,y.jsx)(l.ZP,{value:"row",index:d,children:(0,y.jsxs)(b,{index:d,ariaRowIndex:d+1,onTriggerPlay:L,isActive:D,spec:M,uri:t,children:[(0,y.jsxs)(S.vZ,{ariaColIndex:0,children:[(0,y.jsx)(O.D,{uri:t,playAriaLabel:o.ag.get("tracklist.a11y.play",m,v),onClick:L,isPlaying:R,isActive:D,spec:M,children:(0,y.jsx)(w.k,{children:(0,y.jsx)(r.l,{className:k.Z.talkIcon,"aria-hidden":!0})})}),(0,y.jsxs)(S.vm,{children:[(0,y.jsx)(C.W,{titleText:u,children:u}),(0,y.jsx)(E.K,{children:m})]})]}),(0,y.jsx)(_.U,{ariaColIndex:1,children:(0,y.jsx)(S.BM,{uri:h,name:v,spec:M,children:(0,y.jsx)("span",{dir:"auto",children:v})})}),(0,y.jsx)(N.m,{ariaColIndex:2,children:(0,y.jsx)(x.A,{duration:I,className:k.Z.talkSegmentDuration})})]})})}},22454:(e,t,n)=>{"use strict";n.d(t,{Ym:()=>C,h_:()=>re,UT:()=>ye,dx:()=>J,l0:()=>de,iJ:()=>xe,YK:()=>ve,cp:()=>fe,e9:()=>ce,pt:()=>le,SS:()=>be});var i=n(45389),r=(n(30246),n(90511),n(162),n(72649),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),a=n(15206),o=n(17249),s=n(47982),l=n(56200),c=n(6336),u=n(90902),d=n(78142),p=n(71163),m=n(20188),f=n(1962),v=n(8990),g=n(19174),h=n(98235),k=n(88843),y=n(69395),b=n(10506),S=n(81386),x=n(4637),O=(0,r.memo)((function(e){var t=e.playcount;return t<1?null:(0,x.jsx)(b.D,{as:"div",variant:"mesto",className:S.Z.rowPlayCount,children:o.ag.formatNumber(t)})})),w=n(14699);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E,C=r.memo((function(e){var t=e.uri,n=e.name,i=e.isPlayable,r=e.duration_ms,b=e.artists,N=e.isExplicit,E=e.isMOGEFRestricted,C=e.index,P=e.trackNumber,I=e.playcount,j=e.shouldRenderPlayCount,A=e.shouldHighLight,T=void 0!==A&&A,D=e.contextUri,R=e.uid,F=e.usePlayContextItem,L=(0,m.fU)(a.r,{data:{position:C,reason:"",uri:t}}).spec,M=(0,p._)(t),U=(0,g.k)(t,i),Z=(0,f.r)({downloadAvailability:M,isExplicit:N,isMOGEFRestricted:E}),B=Z.badges,V=Z.hasBadges,H=b.map((function(e){return e.name})).join(o.ag.getSeparator()),G=function(e){return e.map((function(e){return _(_({},e),{},{key:e.uri})}))},W=F({uid:R,uri:t,index:C}),z=W.isActive,K=W.isPlaying,Y=W.triggerPlay,q=W.togglePlay,Q=(0,v.E)();return(0,x.jsx)(d.ZP,{value:"row",index:C,children:(0,x.jsx)(s.xV,{trigger:"right-click",action:"open",menu:(0,x.jsx)(h.$,{uri:t,albumUri:D,artists:G(b),contextUri:D}),children:(0,x.jsxs)(w.c,{uri:t,contextUri:D,isPlayable:U,index:C,isActive:z,onTriggerPlay:function(e,t){Y({loggingParams:t})},ageRestricted:E,ariaRowIndex:C+1,dragMetadata:{name:n,createdBy:H},initialSelectedState:T,spec:L,children:[(0,x.jsx)(y.Dd,{ariaColIndex:0,children:(0,x.jsx)(y.Du,{uri:t,playAriaLabel:o.ag.get("tracklist.a11y.play",n,H),onClick:function(e,t){q({loggingParams:t})},isPlaying:K,isActive:z,spec:L,children:(0,x.jsx)(y.km,{children:P})})}),(0,x.jsx)(y.vZ,{ariaColIndex:1,children:(0,x.jsxs)(y.vm,{children:[Q?(0,x.jsx)(k.Link,{to:t,className:S.Z.rowTitle,"":"internal-track-link",children:(0,x.jsx)(y.Wh,{titleText:n,children:n})}):(0,x.jsx)(y.Wh,{titleText:n,children:n}),V&&(0,x.jsxs)(y.g3,{children:[B.download&&(0,x.jsx)(l.G,{size:16}),B.explicit&&(0,x.jsx)(c.N,{}),B.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]}),(0,x.jsx)(y.K9,{children:(0,x.jsx)(y.T6,{artists:b.map((function(e){return{uri:e.uri,name:e.name}})),spec:L})})]})}),j&&(0,x.jsx)(y.UA,{ariaColIndex:1+Number(j),children:(0,x.jsx)(O,{playcount:I})}),(0,x.jsxs)(y.mU,{ariaColIndex:2+Number(j),children:[(0,x.jsx)(y.qS,{uri:t,spec:L}),(0,x.jsx)(y.A$,{duration:r}),(0,x.jsx)(y.Zv,{menu:(0,x.jsx)(h.$,{uri:t,albumUri:D,artists:G(b)}),label:o.ag.get("more.label.track",n,H),spec:L})]})]})})})}),(function(e,t){return e.uri===t.uri})),P=(n(40265),n(35699)),I=n(71440),j=n(69413),A=n(69670),T=n(97427),D=n(79262),R=n(12033),F=n(22355),L=n(77728),M=n(35589),U=n(35742),Z=n(50200),B=n(70436),V=(n(69109),n(32572)),H=n(90775),G=function(e){var t=e.eventDate,n=e.ticketingSiteURL,i=(0,H.o)(),r=o.ag.formatDate((0,V.RX)(t),{year:"numeric",month:"short",day:"numeric"}),a=o.ag.get("tracklist.livestream");return(0,V.RX)(t)<new Date?(0,x.jsx)(b.D,{className:S.Z.eventDate,variant:"mesto",semanticColor:"textSubdued",children:"".concat(a," • ").concat(r)}):(0,x.jsx)(b.D,{className:S.Z.eventDate,variant:"mesto",semanticColor:"textSubdued",children:(0,x.jsxs)("a",{href:n,onClick:function(){i({targetUri:n,intent:"navigate",type:"click"})},children:[(0,x.jsx)(A.i,{className:S.Z.eventTicketIcon,height:19}),"".concat(a," • ").concat(r)]})})},W=function(e){var t=e.concertDate,n=e.concertVenue,i=e.concertURL,r=e.index,a=e.spec,o=(0,m.$P)(),s=n?"".concat(t," •  ").concat(n," "):"".concat(t," ");return(0,x.jsx)(b.D,{className:S.Z.eventDate,variant:"mesto",semanticColor:"textSubdued",children:(0,x.jsx)(k.default,{to:i,onClick:function(){var e=a.eventLinkFactory({position:r,uri:i,reason:"Concerts Near You Employee test"}).hitUiNavigate({destination:i});o.logInteraction(e)},children:s})})},z=(n(82088),n(39447)),K=n(54691),Y=n(89418),q=function(e){var t=e.uri,n=e.imageUrl,i=e.displayName,r=e.username,a=e.piled,o=e.onClick,s=(0,x.jsx)(z.q,{images:[{url:n,width:null,height:null}],label:i,width:24,userIconSize:16,piled:a,displayName:i,username:r,className:S.Z.facepileAvatar});return t?(0,x.jsx)(K._,{menu:(0,x.jsx)(Y.I,{uri:t}),children:(0,x.jsx)(k.Link,{className:S.Z.facepile,to:t,onClick:o,children:s})}):(0,x.jsx)("span",{className:S.Z.facepile,children:s})},Q=function(e){var t=e.users,n=e.spec,i=(0,m.$P)();return(0,x.jsx)(r.Fragment,{children:t.slice(0,5).map((function(e,t){var r;return(0,x.jsx)(q,{uri:e.uri,imageUrl:(null===(r=(0,R.X)(e.images))||void 0===r?void 0:r.url)||"",displayName:e.displayName,username:e.username,piled:t>0,onClick:function(){if(n&&e.uri){var r=n.addedByLinkFactory({position:t,uri:e.uri}).hitUiNavigate({destination:e.uri});i.logInteraction(r)}}},e.uri||e.displayName)}))})},J=r.memo((function(e){var t=e.uri,n=e.uid,i=e.name,b=e.duration_ms,O=e.artists,N=e.albumOrShow,_=e.isMOGEFRestricted,E=e.isExplicit,C=e.isPlayable,V=e.isLocal,H=void 0!==V&&V,z=e.isPaywalled,K=e.isUserSubscribed,Y=e.index,q=e.playIndex,J=void 0===q?null:q,X=e.isCollaborative,$=e.nrCollaborators,ee=void 0===$?1:$,te=e.isMixedMedia,ne=e.addedBy,ie=e.hasDecoratedAddedBy,re=e.dateAdded,ae=e.release_date,oe=e.type,se=e.imgUrl,le=e.contextUri,ce=e.onMove,ue=e.onInsert,de=e.usePlayContextItem,pe=e.allowedDropTypes,me=e.feedbackPath,fe=e.feedbackUri,ve=e.deleteFeedbackPath,ge=e.isDisliked,he=e.ticketingSiteURL,ke=void 0===he?"":he,ye=e.eventDate,be=e.concertDate,Se=e.concertURL,xe=void 0===Se?"":Se,Oe=e.concertVenue,we=e.isConcert,Ne=e.isLive,_e=e.isBlend,Ee=void 0!==_e&&_e,Ce=e.canRemove,Pe=e.onFeedbackClick,Ie=e.playlistName,je=(0,m.$P)(),Ae=(0,m.fU)(a.r,{data:{position:Y,reason:"",uri:t}}).spec,Te=(0,r.useContext)(Z.fo).filter,De=(0,p._)(t),Re=(0,g.k)(t,C,H),Fe="episode"===oe,Le="track"!==oe&&(null==N?void 0:N.mediaType)===D.E.VIDEO,Me=z&&!K,Ue=(0,f.r)({downloadAvailability:De,isExplicit:E,isMOGEFRestricted:_,isPaywalled:z}),Ze=Ue.badges,Be=Ue.hasBadges,Ve=(0,v.E)(),He=function(){var e=Ae.eventLinkFactory({position:Y,uri:xe,reason:"Concerts Near You Employee test"}).hitUiNavigate({destination:xe});je.logInteraction(e)},Ge=Y+1;te&&(Ge=Le?(0,x.jsx)(P.O,{"":"video-icon",iconSize:16,"aria-hidden":"true"}):Fe?(0,x.jsx)(I.J,{"":"podcast-icon",iconSize:16,"aria-hidden":"true"}):(0,x.jsx)(j.F,{"":"track-icon",iconSize:16,"aria-hidden":"true"}));var We=(0,x.jsx)(h.$,{uri:t,uid:n,albumUri:null==N?void 0:N.uri,artists:O,contextUri:le,canBeRemovedFromPlaylist:Ce});Fe?We=(0,x.jsx)(F.k,{uri:t,uid:n,showUri:null==N?void 0:N.uri,contextUri:le,canBeRemovedFromPlaylist:Ce}):H&&(We=(0,x.jsx)(L.N,{uri:t,uid:n,contextUri:le,canBeRemovedFromPlaylist:Ce}));var ze=Fe?N.publisher:(null==O?void 0:O.map((function(e){return e.name})).join(o.ag.getSeparator()))||"",Ke=null==ne?void 0:ne[0],Ye=(0,R.X)(null==Ke?void 0:Ke.images,{desiredWidth:24,desiredLabel:"small"}),qe=de({uid:n,uri:t,index:null!=J?J:Y}),Qe=qe.isActive,Je=qe.isPlaying,Xe=qe.triggerPlay,$e=qe.togglePlay,et=X||ee>1||Ee,tt=function(){return(0,x.jsx)(y.Wh,{titleText:i,children:(0,x.jsx)(U.o,{searchWords:[Te],textToHighlight:i})})};return(0,x.jsx)(d.ZP,{value:"row",index:Y,children:(0,x.jsx)(M.l,{renderInline:!1,enabled:!0,showUri:N.uri,children:function(e,n){var r;return(0,x.jsx)(s._P,{menu:We,children:(0,x.jsxs)(w.c,{uri:t,contextUri:le,index:Y,onTriggerPlay:function(e,t){Xe({loggingParams:t})},onTriggerPaywall:function(e){n(e)},isLocked:Me,isActive:Qe,ariaRowIndex:Y+1,isPlayable:Re,ageRestricted:_,dragMetadata:{name:i,createdBy:ze},onMove:ce,onInsert:ue,allowedDropTypes:pe,spec:Ae,children:[(0,x.jsx)(y.Dd,{ariaColIndex:0,children:(0,x.jsx)(M.l,{showUri:N.uri,renderInline:!1,enabled:Me,children:(0,x.jsx)(y.Du,{uri:t,playAriaLabel:o.ag.get("tracklist.a11y.play",i,ze),onClick:function(e,t){Me||$e({loggingParams:t})},isPlaying:Je,isActive:Qe,isLocked:Me,spec:Ae,children:(0,x.jsx)(y.km,{children:Ge})})})}),(0,x.jsxs)(y.vZ,{ariaColIndex:1,children:[(0,x.jsx)(y.lD,{src:se,isVideo:Le,isEpisode:Fe}),(0,x.jsxs)(y.vm,{children:[Ve?(0,x.jsx)(k.Link,{to:t,className:S.Z.rowTitle,"":"internal-track-link",children:tt()}):tt(),Be&&(0,x.jsxs)(y.g3,{children:[Ze.download&&(0,x.jsx)(l.G,{size:16}),Ze.explicit&&(0,x.jsx)(c.N,{}),Ze.paid&&(0,x.jsx)(T.g,{}),Ze.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]}),(0,x.jsxs)(y.K9,{children:[!Fe&&!Le&&O&&(0,x.jsx)(B.o,{nonInteractive:H,artists:O,filter:Te,spec:Ae}),Fe&&!Le&&ze]})]})]}),(0,x.jsx)(y.UA,{ariaColIndex:2,children:(0,x.jsx)(y.BM,{nonInteractive:H,uri:N.uri,name:N.name,creatorUri:null==O||null===(r=O[0])||void 0===r?void 0:r.uri,spec:Ae,children:(0,x.jsx)(U.o,{searchWords:[Te],textToHighlight:N.name})})}),et&&(0,x.jsx)(y.UA,{ariaColIndex:3,children:Ee?(0,x.jsx)(Q,{users:ne,spec:Ae}):(0,x.jsx)(y.p_,{name:(null==Ke?void 0:Ke.displayName)||(null==Ke?void 0:Ke.username)||"",uri:(null==Ke?void 0:Ke.uri)||"",imageUrl:(null==Ye?void 0:Ye.url)||"",showAvatar:ie,spec:Ae})}),te&&(0,x.jsx)(y.UA,{ariaColIndex:3+Number(et),children:Fe&&(0,x.jsx)(y.fx,{releaseDate:ae})}),Ne&&(0,x.jsx)(y.UA,{ariaColIndex:3+Number(et)+Number(te),children:ye&&ke?(0,x.jsx)(d.ZP,{value:"ticket-link",children:(0,x.jsx)(G,{eventDate:ye,ticketingSiteURL:ke})}):null}),we&&(0,x.jsx)(y.UA,{ariaColIndex:3+Number(et)+Number(te),children:be&&xe?(0,x.jsx)(d.ZP,{value:"ticket-link",children:(0,x.jsx)(W,{concertDate:be,concertVenue:Oe,concertURL:xe,index:Y,spec:Ae})}):null}),!Ne&&!we&&(0,x.jsx)(y.UA,{ariaColIndex:3+Number(et)+Number(te),children:re?(0,x.jsx)(y.Op,{dateAdded:new Date(re)}):null}),(0,x.jsxs)(y.mU,{ariaColIndex:4+Number(et)+Number(te),children:[!Le&&!H&&(0,x.jsx)(y.qS,{uri:t,type:oe,spec:Ae}),we&&(0,x.jsx)(k.Link,{to:xe,onClick:He,children:(0,x.jsx)(A.i,{className:S.Z.eventTicketIcon,height:19})}),me&&ve&&(0,x.jsx)(y.bt,{isDisliked:ge,feedbackPath:me,deleteFeedbackPath:ve,feedbackUri:fe||t,onClick:Pe,name:Ie,contextUri:le}),(0,x.jsx)(y.A$,{duration:b}),(0,x.jsx)(y.Zv,{menu:We,label:o.ag.get("more.label.track",i,ze),spec:Ae})]})]})})}})})}),(function(e,t){return e.uri===t.uri&&e.allowedDropTypes.length===t.allowedDropTypes.length&&e.isCollaborative===t.isCollaborative&&e.nrCollaborators===t.nrCollaborators&&e.isPlayable===t.isPlayable&&e.isMixedMedia===t.isMixedMedia})),X=n(94782),$=n(70802),ee=n(54221),te=n(51069),ne=(E={},(0,i.Z)(E,te.tl.DOWN,(function(){return(0,x.jsx)(X.i,{iconSize:16,className:S.Z.statusChangeDown})})),(0,i.Z)(E,te.tl.UP,(function(){return(0,x.jsx)($.U,{iconSize:16,className:S.Z.statusChangeUp})})),(0,i.Z)(E,te.tl.NEW,(function(){return(0,x.jsx)(ee.Z,{className:S.Z.notificationDot})})),(0,i.Z)(E,te.tl.EQUAL,(function(){return null})),E),ie=function(e){var t=e.status,n=e.number,i=ne[t];return(0,x.jsxs)("div",{className:S.Z.rowChartStatus,children:[(0,x.jsx)(b.D,{variant:"ballad",children:n}),(0,x.jsx)(i,{})]})},re=r.memo((function(e){var t,n=e.uri,i=e.name,r=e.duration_ms,s=e.artists,v=e.album,k=e.isMOGEFRestricted,b=e.isExplicit,N=e.isPlayable,_=e.uid,E=e.index,C=e.contextUri,P=e.imgUrl,I=e.statusChange,j=e.showPlayCount,A=e.playCount,T=e.usePlayContextItem,D=(0,m.fU)(a.r,{data:{position:E,reason:"",uri:n}}).spec,R=T({uid:_,uri:n,index:E}),F=R.isActive,L=R.isPlaying,M=R.triggerPlay,U=R.togglePlay,Z=(0,p._)(n),B=(0,g.k)(n,N),V=(0,f.r)({downloadAvailability:Z,isExplicit:b,isMOGEFRestricted:k}),H=V.badges,G=V.hasBadges,W=(null==s?void 0:s.map((function(e){return e.name})).join(o.ag.getSeparator()))||"";return(0,x.jsx)(d.ZP,{value:"row",index:E,children:(0,x.jsx)(K._,{menu:(0,x.jsx)(h.$,{uri:n,albumUri:null==v?void 0:v.uri,artists:s}),children:(0,x.jsxs)(w.c,{uri:n,contextUri:C,index:E,onTriggerPlay:function(e,t){M({loggingParams:t})},isActive:F,ariaRowIndex:E+1,isPlayable:B,ageRestricted:k,dragMetadata:{name:i,createdBy:W},allowedDropTypes:[],spec:D,children:[(0,x.jsx)(y.Dd,{ariaColIndex:0,children:(0,x.jsx)(y.Du,{uri:n,className:S.Z.rowMarkerChartStatus,playAriaLabel:o.ag.get("tracklist.a11y.play",i,W),onClick:function(e,t){U({loggingParams:t})},isPlaying:L,isActive:F,spec:D,children:I?(0,x.jsx)(ie,{number:E+1,status:I}):(0,x.jsx)(y.km,{children:E+1})})}),(0,x.jsxs)(y.vZ,{ariaColIndex:1,children:[(0,x.jsx)(y.lD,{src:P}),(0,x.jsxs)(y.vm,{children:[(0,x.jsx)(y.Wh,{titleText:i,children:i}),G&&(0,x.jsxs)(y.g3,{children:[H.download&&(0,x.jsx)(l.G,{size:16}),H.explicit&&(0,x.jsx)(c.N,{}),H.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]}),(0,x.jsx)(y.K9,{children:(0,x.jsx)(y.T6,{artists:s,spec:D})})]})]}),j&&(0,x.jsx)(y.UA,{ariaColIndex:2,children:(0,x.jsx)(O,{playcount:A})}),(0,x.jsx)(y.UA,{ariaColIndex:2+Number(j),children:(0,x.jsx)(y.BM,{uri:v.uri,name:v.name,creatorUri:null==s||null===(t=s[0])||void 0===t?void 0:t.uri,spec:D,children:v.name})}),(0,x.jsxs)(y.mU,{ariaColIndex:3+Number(j),children:[(0,x.jsx)(y.qS,{uri:n,spec:D}),(0,x.jsx)(y.A$,{duration:r}),(0,x.jsx)(y.Zv,{menu:(0,x.jsx)(h.$,{uri:n,albumUri:null==v?void 0:v.uri,artists:s}),label:o.ag.get("more.label.track",i,W),spec:D})]})]})})})}),(function(e,t){return e.uri===t.uri})),ae=n(11178),oe=n(1003),se=n(67720),le=r.memo((function(e){var t=e.uri,n=e.name,i=e.duration,r=e.album,s=e.artists,v=e.index,k=e.imgUrl,b=e.isPlayable,O=e.isExplicit,N=e.is19PlusOnly,_=e.requestId,E=e.isLyricsMatch,C=(0,oe.n)({uri:t},{featureIdentifier:"search",referrerIdentifier:"search"}),P=C.isActive,I=C.isPlaying,j=C.triggerPlay,A=C.togglePlay,T=(0,m.fU)(a.r,{data:{position:v,reason:null!=_?_:"",uri:t}}).spec,D=(0,p._)(t),R=(0,g.k)(t,b),F=(0,f.r)({downloadAvailability:D,isExplicit:O,isMOGEFRestricted:N}),L=F.badges,M=F.hasBadges,U=(s||[]).map((function(e){return e.name})).join(o.ag.getSeparator());return(0,x.jsx)(d.ZP,{value:"row",index:v,children:(0,x.jsx)(K._,{menu:(0,x.jsx)(h.$,{uri:t,artists:s,contextUri:t,albumUri:null==r?void 0:r.uri}),children:(0,x.jsxs)(w.c,{uri:t,contextUri:t,index:v,ariaRowIndex:v,onTriggerPlay:function(e,t){j({loggingParams:t})},isActive:P,isPlayable:R,ageRestricted:N,dragMetadata:{name:n,createdBy:U},spec:T,children:[(0,x.jsxs)(y.vZ,{ariaColIndex:0,children:[(0,x.jsx)(y.VG,{uri:t,src:k,onClick:function(e,t){A({loggingParams:t})},isLocked:!1,isPlaying:I,isActive:P,playAriaLabel:o.ag.get("tracklist.a11y.play",n,U),spec:T}),(0,x.jsxs)(y.vm,{children:[(0,x.jsx)(se.G,{enabled:!0,uri:t,className:S.Z.rowTitle,children:(0,x.jsx)(y.Wh,{titleText:n,children:n})}),M&&(0,x.jsxs)(y.g3,{children:[L.download&&(0,x.jsx)(l.G,{size:16}),L.explicit&&(0,x.jsx)(c.N,{}),L.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]}),(0,x.jsxs)(y.K9,{children:[(0,x.jsx)(y.T6,{artists:s,spec:T}),E&&(0,x.jsx)(ae.q,{})]})]})]}),(0,x.jsxs)(y.mU,{ariaColIndex:1,children:[(0,x.jsx)(y.qS,{uri:t,spec:T}),(0,x.jsx)(y.A$,{duration:i.milliseconds}),(0,x.jsx)(y.Zv,{menu:(0,x.jsx)(h.$,{uri:t,artists:s,contextUri:t,albumUri:null==r?void 0:r.uri}),label:o.ag.get("more.label.track",n,U),spec:T})]})]})})})}),(function(e,t){return e.uri===t.uri&&e.index===t.index})),ce=r.memo((function(e){var t,n=e.uri,i=e.name,r=e.duration,s=e.artists,v=e.album,k=e.isExplicit,b=e.is19PlusOnly,O=e.isPlayable,N=e.index,_=e.imgUrl,E=e.requestId,C=e.isLyricsMatch,P=(0,oe.n)({uri:n},{featureIdentifier:"search",referrerIdentifier:"search"}),I=P.isActive,j=P.isPlaying,A=P.triggerPlay,T=P.togglePlay,D=(0,m.fU)(a.r,{data:{position:N,reason:null!=E?E:"",uri:n}}).spec,R=(0,p._)(n),F=(0,g.k)(n,O),L=(0,f.r)({downloadAvailability:R,isExplicit:k,isMOGEFRestricted:b}),M=L.badges,U=L.hasBadges,Z=(null==s?void 0:s.map((function(e){return e.name})).join(o.ag.getSeparator()))||"";return(0,x.jsx)(d.ZP,{value:"row",index:N,children:(0,x.jsx)(K._,{menu:(0,x.jsx)(h.$,{uri:n,albumUri:null==v?void 0:v.uri,artists:s,contextUri:n}),children:(0,x.jsxs)(w.c,{uri:n,contextUri:n,onTriggerPlay:function(e,t){A({loggingParams:t})},isActive:I,index:N,ariaRowIndex:N+1,isPlayable:F,ageRestricted:b,dragMetadata:{name:i,createdBy:Z},spec:D,children:[(0,x.jsx)(y.Dd,{ariaColIndex:0,children:(0,x.jsx)(y.Du,{uri:n,playAriaLabel:o.ag.get("tracklist.a11y.play",i,Z),onClick:function(e,t){T({loggingParams:t})},isPlaying:j,isActive:I,spec:D,children:(0,x.jsx)(y.km,{children:N+1})})}),(0,x.jsxs)(y.vZ,{ariaColIndex:1,children:[(0,x.jsx)(y.lD,{src:_}),(0,x.jsxs)(y.vm,{children:[(0,x.jsx)(se.G,{enabled:!0,uri:n,className:S.Z.rowTitle,children:(0,x.jsx)(y.Wh,{titleText:i,children:i})}),U&&(0,x.jsxs)(y.g3,{children:[M.download&&(0,x.jsx)(l.G,{size:16}),M.explicit&&(0,x.jsx)(c.N,{}),M.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]}),(0,x.jsxs)(y.K9,{children:[(0,x.jsx)(y.T6,{artists:s,spec:D}),C&&(0,x.jsx)(ae.q,{})]})]})]}),(0,x.jsx)(y.UA,{ariaColIndex:2,children:(0,x.jsx)(y.BM,{uri:(null==v?void 0:v.uri)||"",name:(null==v?void 0:v.name)||"",creatorUri:null==s||null===(t=s[0])||void 0===t?void 0:t.uri,spec:D,children:null==v?void 0:v.name})}),(0,x.jsxs)(y.mU,{ariaColIndex:3,children:[(0,x.jsx)(y.qS,{uri:n,spec:D}),(0,x.jsx)(y.A$,{duration:r.milliseconds}),(0,x.jsx)(y.Zv,{menu:(0,x.jsx)(h.$,{uri:n,albumUri:null==v?void 0:v.uri,artists:s,contextUri:n}),label:o.ag.get("more.label.track",i,Z),spec:D})]})]})})})}),(function(e,t){return e.uri===t.uri})),ue=n(24511),de=r.memo((function(e){var t=e.uri,n=e.name,i=e.totalMilliseconds,r=e.artists,s=e.isPlayable,b=e.contentRating,N=e.imageUrl,_=e.albumUri,E=e.contextUri,C=e.index,P=e.playcount,I=e.usePlayContextItem,j=(0,m.fU)(a.r,{data:{position:C,reason:"",uri:t}}).spec,A=I({uri:t,index:C}),T=A.isActive,D=A.isPlaying,R=A.triggerPlay,F=A.togglePlay,L=(0,p._)(t),M=(0,g.k)(t,s),U=(0,f.r)({downloadAvailability:L,contentRating:b}),Z=U.badges,B=U.hasBadges,V=b===ue.KS.NineteenPlus,H=r.map((function(e){return e.name})).join(o.ag.getSeparator()),G=(0,v.E)();return(0,x.jsx)(d.ZP,{value:"row",index:C,children:(0,x.jsx)(K._,{menu:(0,x.jsx)(h.$,{uri:t,contextUri:E,albumUri:_}),children:(0,x.jsxs)(w.c,{uri:t,onTriggerPlay:function(e,t){R({loggingParams:t})},isActive:T,contextUri:E,isPlayable:M,ageRestricted:V,dragMetadata:{name:n,createdBy:H},index:C,ariaRowIndex:C,spec:j,children:[(0,x.jsx)(y.Dd,{ariaColIndex:0,children:(0,x.jsx)(y.Du,{uri:t,playAriaLabel:o.ag.get("tracklist.a11y.play",n,H),isPlaying:D,isActive:T,onClick:function(e,t){F({loggingParams:t})},spec:j,children:(0,x.jsx)(y.km,{children:C+1})})}),(0,x.jsxs)(y.vZ,{ariaColIndex:1,children:[(0,x.jsx)(y.lD,{src:N}),(0,x.jsxs)(y.vm,{children:[G?(0,x.jsx)(k.Link,{to:t,className:S.Z.rowTitle,"":"internal-track-link",children:(0,x.jsx)(y.Wh,{titleText:n,children:n})}):(0,x.jsx)(y.Wh,{titleText:n,children:n}),B&&(0,x.jsxs)(y.g3,{children:[Z.download&&(0,x.jsx)(l.G,{size:16}),Z.explicit&&(0,x.jsx)(c.N,{}),Z.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]})]})]}),(0,x.jsx)(y.UA,{ariaColIndex:2,children:(0,x.jsx)(O,{playcount:P})}),(0,x.jsxs)(y.mU,{ariaColIndex:3,children:[(0,x.jsx)(y.qS,{uri:t,spec:j}),(0,x.jsx)(y.A$,{duration:i}),(0,x.jsx)(y.Zv,{menu:(0,x.jsx)(h.$,{uri:t,albumUri:_,contextUri:E,artists:r}),label:o.ag.get("more.label.track",n,H),spec:j})]})]})})})}),(function(e,t){return e.uri===t.uri})),pe=(n(16366),n(31781),n(94320)),me=n(49756),fe=r.memo((function(e){var t,n=e.uid,i=e.uri,s=e.name,v=e.imgUrl,k=e.artists,b=e.isExplicit,O=e.index,N=e.album,_=e.contextUri,E=e.isPlayable,C=e.isMOGEFRestricted,P=e.usePlayContextItem,I=(0,m.fU)(a.r,{data:{position:O,reason:"",uri:i}}),j=I.spec,A=I.logger,T=(0,r.useMemo)((function(){return _.replace("internal:recs:","")}),[_]),D=(0,H.o)(),R=(0,me.Yv)(T).addItems,F=P({uid:n,uri:i,index:O}),L=F.isActive,M=F.isPlaying,U=F.triggerPlay,Z=F.togglePlay,B=(0,r.useCallback)((function(){A.logInteraction(j.addButtonFactory().hitAddToPlaylist({playlist:T,itemToBeAdded:i})),R([i],{after:"end"}),D({type:"click",intent:"add-to-playlist",itemIdSuffix:"playlist/add",targetUri:T})}),[A,j,T,i,R,D]),V=(0,p._)(i),G=(0,g.k)(i,E),W=k.map((function(e){return e.name})).join(o.ag.getSeparator()),z=(0,f.r)({downloadAvailability:V,isExplicit:b,isMOGEFRestricted:C}),Y=z.badges,q=z.hasBadges;return(0,x.jsx)(d.ZP,{value:"row",index:O,children:(0,x.jsx)(K._,{menu:(0,x.jsx)(h.$,{uri:i,albumUri:N.uri,artists:k,contextUri:_}),children:(0,x.jsxs)(w.c,{uri:i,contextUri:_,isPlayable:G,onTriggerPlay:function(e,t){U({loggingParams:t})},isActive:L,ageRestricted:C,index:O,ariaRowIndex:O,dragMetadata:{name:s,createdBy:W},spec:j,children:[(0,x.jsxs)(y.vZ,{ariaColIndex:0,children:[(0,x.jsx)(y.VG,{uri:i,src:v,onClick:function(e,t){Z({loggingParams:t})},isLocked:!1,isPlaying:M,isActive:L,playAriaLabel:o.ag.get("tracklist.a11y.play",s,W),spec:j}),(0,x.jsxs)(y.vm,{children:[(0,x.jsx)(y.Wh,{titleText:s,children:s}),q&&(0,x.jsxs)(y.g3,{children:[Y.download&&(0,x.jsx)(l.G,{size:16}),Y.explicit&&(0,x.jsx)(c.N,{}),Y.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]}),(0,x.jsx)(y.K9,{children:(0,x.jsx)(y.T6,{artists:k,spec:j})})]})]}),(0,x.jsx)(y.UA,{ariaColIndex:1,children:(0,x.jsx)(y.BM,{uri:N.uri,name:N.name,creatorUri:null==k||null===(t=k[0])||void 0===t?void 0:t.uri,spec:j,children:N.name})}),(0,x.jsx)(y.mU,{ariaColIndex:2,children:(0,x.jsx)(pe.P,{buttonSize:"sm",onClick:B,"aria-label":o.ag.get("addToPlaylist-icon.label"),"":"add-to-playlist-button",children:o.ag.get("playlist.extender.button.add")})})]})})})}),(function(e,t){return e.uid===t.uid&&e.uri===t.uri&&e.index===t.index})),ve=r.memo((function(e){var t=e.uid,n=e.uri,i=e.isPlayable,a=e.isMOGEFRestricted,s=e.isExplicit,m=e.contextUri,v=e.name,h=e.imgUrl,k=e.index,b=e.podcast,O=e.usePlayContextItem,N=(0,r.useMemo)((function(){return m.replace("internal:recs:","")}),[m]),_=(0,H.o)(),E=(0,me.Yv)(N).addItems,C=O({uid:t,uri:n,index:k}),P=C.isActive,I=C.isPlaying,j=C.triggerPlay,A=C.togglePlay,T=(0,r.useCallback)((function(){E([n],{after:"end"}),_({type:"click",intent:"add-to-playlist",itemIdSuffix:"playlist/add",targetUri:N})}),[E,n,_,N]),D=(0,p._)(n),R=(0,g.k)(n,i),L=(0,f.r)({downloadAvailability:D,isExplicit:s,isMOGEFRestricted:a}),M=L.badges,U=L.hasBadges;return(0,x.jsx)(d.ZP,{value:"row",index:k,children:(0,x.jsx)(K._,{menu:(0,x.jsx)(F.k,{uri:n,contextUri:m}),children:(0,x.jsxs)(w.c,{uri:n,contextUri:n,isPlayable:R,onTriggerPlay:function(){j()},isActive:P,ageRestricted:a,index:k,ariaRowIndex:k,dragMetadata:{name:v,createdBy:b.name},children:[(0,x.jsxs)(y.vZ,{ariaColIndex:0,children:[(0,x.jsx)(y.VG,{uri:n,src:h,onClick:function(){A()},isLocked:!1,isPlaying:I,isActive:P,isEpisode:!0,playAriaLabel:o.ag.get("tracklist.a11y.play",v,b.name)}),(0,x.jsxs)(y.vm,{children:[(0,x.jsx)(y.Wh,{titleText:v,children:v}),U&&(0,x.jsxs)(y.g3,{children:[M.download&&(0,x.jsx)(l.G,{size:16}),M.explicit&&(0,x.jsx)(c.N,{}),M.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]})]})]}),(0,x.jsx)(y.UA,{ariaColIndex:1,children:(0,x.jsx)(y.BM,{uri:b.uri,name:b.name,children:b.name})}),(0,x.jsx)(y.mU,{ariaColIndex:2,children:(0,x.jsx)(pe.P,{buttonSize:"sm",onClick:T,children:o.ag.get("playlist.extender.button.add")})})]})})})}),(function(e,t){return e.uid===t.uid&&e.uri===t.uri&&e.index===t.index})),ge=n(84875),he=n.n(ge),ke=n(248),ye=function(e){var t=e.discNumber;return(0,x.jsxs)("div",{className:he()(S.Z.trackListRowGrid,S.Z.discRow),children:[(0,x.jsx)(y.Dd,{ariaColIndex:0,children:(0,x.jsx)("div",{className:S.Z.rowMarker,children:(0,x.jsx)(y.km,{children:(0,x.jsx)(ke.c,{iconSize:16})})})}),(0,x.jsx)(y.vZ,{ariaColIndex:1,children:(0,x.jsx)(y.vm,{children:(0,x.jsx)(y.dS,{children:o.ag.get("tracklist.disc-sperator.title",t)})})})]})},be=r.memo((function(e){var t,n=e.uri,i=e.name,r=e.duration_ms,s=e.artists,v=e.album,k=e.contextUri,b=e.isExplicit,O=e.isMOGEFRestricted,N=e.isPlayable,_=e.index,E=e.imgUrl,C=e.usePlayContextItem,P=(0,m.fU)(a.r,{data:{position:_,reason:"",uri:n}}).spec,I=C({uri:n,index:_}),j=I.isActive,A=I.isPlaying,T=I.triggerPlay,D=I.togglePlay,R=(0,p._)(n),F=(0,g.k)(n,N),L=(0,f.r)({downloadAvailability:R,isExplicit:b,isMOGEFRestricted:O}),M=L.badges,U=L.hasBadges,Z=(null==s?void 0:s.map((function(e){return e.name})).join(o.ag.getSeparator()))||"";return(0,x.jsx)(d.ZP,{value:"row",index:_,children:(0,x.jsx)(K._,{menu:(0,x.jsx)(h.$,{uri:n,albumUri:v.uri,artists:s,contextUri:k}),children:(0,x.jsxs)(w.c,{uri:n,contextUri:k,onTriggerPlay:function(e,t){T({loggingParams:t})},isActive:j,index:_,ariaRowIndex:_+1,isPlayable:F,ageRestricted:O,dragMetadata:{name:i,createdBy:Z},spec:P,children:[(0,x.jsx)(y.Dd,{ariaColIndex:0,children:(0,x.jsx)(y.Du,{uri:n,playAriaLabel:o.ag.get("tracklist.a11y.play",i,Z),isPlaying:A,isActive:j,onClick:function(e,t){D({loggingParams:t})},spec:P,children:(0,x.jsx)(y.km,{children:_+1})})}),(0,x.jsxs)(y.vZ,{ariaColIndex:1,children:[(0,x.jsx)(y.lD,{src:E}),(0,x.jsxs)(y.vm,{children:[(0,x.jsx)(y.Wh,{titleText:i,children:i}),U&&(0,x.jsxs)(y.g3,{children:[M.download&&(0,x.jsx)(l.G,{size:16}),M.explicit&&(0,x.jsx)(c.N,{}),M.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]}),(0,x.jsx)(y.K9,{children:(0,x.jsx)(y.T6,{artists:s,spec:P})})]})]}),(0,x.jsx)(y.UA,{ariaColIndex:2,children:(0,x.jsx)(y.BM,{uri:v.uri,name:v.name,creatorUri:null==s||null===(t=s[0])||void 0===t?void 0:t.uri,spec:P,children:v.name})}),(0,x.jsxs)(y.mU,{ariaColIndex:3,children:[(0,x.jsx)(y.qS,{uri:n,spec:P}),(0,x.jsx)(y.A$,{duration:r}),(0,x.jsx)(y.Zv,{menu:(0,x.jsx)(h.$,{uri:n,albumUri:v.uri,artists:s,contextUri:k}),label:o.ag.get("more.label.track",i,Z),spec:P})]})]})})})}),(function(e,t){return e.uri===t.uri})),Se=n(78742),xe=r.memo((function(e){var t,n,i,s=e.uri,v=e.name,k=e.isPlayable,b=e.artists,O=e.album,N=e.contentRating,_=e.index,E=e.trackNumber,C=e.durationMs,P=e.shouldHighLight,I=void 0!==P&&P,j=e.contextUri,A=e.uid,T=e.usePlayContextItem,D=e.isContextActive,R=(0,m.fU)(a.r,{data:{position:_,reason:"",uri:s}}).spec,F=(0,Se.g)(),L=T({uri:s}),M=L.togglePlay,U=L.triggerPlay,Z=L.isPlaying,B=L.isActive,V=(0,r.useCallback)((function(e,t){D&&!Z?F.skipToNext({uri:s,uid:A}):M({loggingParams:t})}),[D,Z,F,M,A,s]),H=(0,p._)(s),G=(0,g.k)(s,k),W=(0,f.r)({downloadAvailability:H,contentRating:N}),z=W.badges,Y=W.hasBadges,q=N===ue.KS.NineteenPlus,Q=b.map((function(e){return e.name})).join(o.ag.getSeparator()),J=function(e){return e.map((function(e){return{name:e.name||"",uri:e.uri,key:e.uri}}))};return(0,x.jsx)(d.ZP,{value:"row",index:_,children:(0,x.jsx)(K._,{menu:(0,x.jsx)(h.$,{uri:s,albumUri:O.uri,artists:J(b),contextUri:j}),children:(0,x.jsxs)(w.c,{uri:s,contextUri:j,isPlayable:G,index:_,onTriggerPlay:function(e,t){U({loggingParams:t})},isActive:B,ageRestricted:q,ariaRowIndex:_+1,dragMetadata:{name:v,createdBy:Q},initialSelectedState:I,spec:R,children:[(0,x.jsx)(y.Dd,{ariaColIndex:0,children:(0,x.jsx)(y.Du,{uri:s,playAriaLabel:o.ag.get("tracklist.a11y.play",v,Q),isPlaying:Z,isActive:B,onClick:V,spec:R,children:(0,x.jsx)(y.km,{children:E})})}),(0,x.jsxs)(y.vZ,{ariaColIndex:1,children:[(0,x.jsx)(y.lD,{src:null===(t=O.images)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.url}),(0,x.jsxs)(y.vm,{children:[(0,x.jsx)(y.Wh,{titleText:v,children:v}),Y&&(0,x.jsxs)(y.g3,{children:[z.download&&(0,x.jsx)(l.G,{size:16}),z.explicit&&(0,x.jsx)(c.N,{}),z.nineteen&&(0,x.jsx)(u.X,{className:S.Z.nineteen,size:16})]}),(0,x.jsx)(y.K9,{children:(0,x.jsx)(y.T6,{artists:b.map((function(e){return{uri:e.uri,name:e.name||""}})),spec:R})})]})]}),(0,x.jsx)(y.UA,{ariaColIndex:2,children:(0,x.jsx)(y.BM,{uri:O.uri,name:O.name,creatorUri:null==b||null===(i=b[0])||void 0===i?void 0:i.uri,children:O.name})}),(0,x.jsxs)(y.mU,{ariaColIndex:3,children:[(0,x.jsx)(y.qS,{uri:s,spec:R}),(0,x.jsx)(y.JR,{stationURI:j,trackURI:s}),(0,x.jsx)(y.A$,{duration:C}),(0,x.jsx)(y.Zv,{spec:R,menu:(0,x.jsx)(h.$,{uri:s,albumUri:j,artists:J(b)}),label:o.ag.get("more.label.track",v,Q)})]})]})})})}),(function(e,t){return e.uri===t.uri&&e.name===t.name}));n(17748)},36841:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i,k:()=>r});var i=function(e){return e.INDEX="INDEX",e.TITLE="TITLE",e.ARTIST="ARTIST",e.PLAYS="PLAYS",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.RELEASE_DATE="RELEASE_DATE",e.ACTIONS="ACTIONS",e.DURATION="DURATION",e.ALBUM="ALBUM",e.ALBUM_OR_PODCAST="ALBUM_OR_PODCAST",e.ALBUM_OR_SHOW="ALBUM_OR_SHOW",e.EVENT_DATE="EVENT_DATE",e.ADD="ADD",e}({}),r=function(e){return e[e.NONE=0]="NONE",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC",e[e.SECONDARY_ASC=3]="SECONDARY_ASC",e[e.SECONDARY_DESC=4]="SECONDARY_DESC",e}({})},69529:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var i=n(59496);n(16366),n(96669),n(95675),n(47921);var r=function(){if(navigator.webdriver)return!1;var e,t,n=navigator,i=n.userAgent,r=n.appVersion;if(function(e,t){return/headless/i.test(e)||/headless/i.test(t)}(i,null!=r?r:""))return!1;if(function(e){return/chrome/i.test(e)}(i)&&!(window.chrome&&null!==(e=navigator.plugins)&&void 0!==e&&e.length&&""!==navigator.languages&&null!==(t=navigator.connection)&&void 0!==t&&t.rtt))return!1;for(var a=0,o=Object.keys(document);a<o.length;a++){if(o[a].startsWith("$cdc_"))return!1}return!0},a=void 0;const o=function(){var e;return a=null!==(e=a)&&void 0!==e?e:r()};function s(){var e=(0,i.useRef)(void 0),t=(0,i.useRef)(!1),n=(0,i.useRef)(!1),r=o(),a=(0,i.useCallback)((function(i){r&&i.isTrusted?"click"!==i.type?e.current=!0:n.current?e.current=t.current:e.current=!0:e.current=!1}),[r]);return(0,i.useEffect)((function(){function e(){t.current=!0}function i(e){n.current="mouse"===e.pointerType}return document.addEventListener("mousemove",e),document.addEventListener("pointerdown",i),function(){document.removeEventListener("mousemove",e),document.removeEventListener("pointerdown",i)}}),[]),[e,a]}},17006:(e,t,n)=>{"use strict";n.d(t,{Jp:()=>s,pr:()=>o,uK:()=>l});var i=n(83014),r=(n(43125),n(27639),n(63691),n(96807),n(162),n(5538),n(69109),n(91048)),a=n(8608);function o(e,t,n){if(e){if((0,a.lK)(e)){var i=e.querySelector('[tabindex="0"]'),o=n?p:d;if(t===r.N.UP){var s=o(e,i,r.N.UP);if(!s)return;(0,a.Bu)(i,c(i,s))}if(t===r.N.DOWN){var l=o(e,i,r.N.DOWN);if(!l)return;(0,a.Bu)(i,c(i,l))}if(t===r.N.LEFT){var m=u(i,-1);if(m)return void(0,a.Bu)(i,m);var f=o(e,i,r.N.LEFT);if(!f)return;var v=f.querySelectorAll("a, button"),g=v[v.length-1];(0,a.Bu)(i,g)}if(t===r.N.RIGHT){var h=u(i,1);if(h)return void(0,a.Bu)(i,h);var k=o(e,i,r.N.RIGHT);if(!k)return;var y=k.querySelectorAll("a, button")[0];(0,a.Bu)(i,y)}}}else console.error("No grid element found. Canceling moving focus")}function s(e){var t=e.closest('[role="grid"]');if(t){var n=e.querySelectorAll("a, button")[0],i=t.querySelector('[tabindex="0"]');(0,a.Bu)(i,n)}}function l(e,t,n){var i=e.querySelector('[aria-rowindex="'.concat(t,'"]'));if(i){var r=i.querySelector('[aria-colindex="'.concat(n,'"]'));if(r){var o=r.querySelectorAll("a, button")[0],l=e.querySelector('[tabindex="0"]');(0,a.Bu)(l,o)}else s(i)}else e.focus({preventScroll:!0})}function c(e,t){var n=e.closest("[aria-colindex]"),i=Array.from(n.querySelectorAll("a, button")).indexOf(e),r=t.querySelectorAll("a, button");return r[i]||r[0]}function u(e,t){var n=Array.from(e.closest("[aria-colindex]").querySelectorAll("a, button")),i=n.findIndex((function(t){return t===e}))+t;return n[i]}function d(e,t,n){var i=t.closest("[aria-rowindex]");if(n===r.N.DOWN)for(var o=Array.from(e.querySelectorAll("[aria-rowindex]")),s=t.closest("[aria-colindex]").getAttribute("aria-colindex"),l=o.indexOf(i)+1;l<o.length;l++){var c=o[l].querySelector('[aria-colindex="'.concat(s,'"]'));if((0,a.KX)(c))return c}if(n===r.N.UP)for(var u=Array.from(e.querySelectorAll("[aria-rowindex]")),d=u.indexOf(i),p=t.closest("[aria-colindex]").getAttribute("aria-colindex"),m=d-1;m>=0;m--){var f=u[m].querySelector('[aria-colindex="'.concat(p,'"]'));if((0,a.KX)(f))return f}if(n===r.N.LEFT)for(var v=Array.from(i.querySelectorAll("[aria-colindex]")),g=t.closest("[aria-colindex]"),h=v.indexOf(g)-1;h>=0;h--){var k=v[h];if((0,a.KX)(k))return k}if(n===r.N.RIGHT)for(var y=Array.from(i.querySelectorAll("[aria-colindex]")),b=t.closest("[aria-colindex]"),S=y.indexOf(b)+1;S<y.length;S++){var x=y[S];if((0,a.KX)(x))return x}return null}function p(e,t,n){if(n===r.N.DOWN)for(var o=t.closest("[aria-colindex]").getAttribute("aria-colindex"),s=t.closest("[aria-rowindex]").getAttribute("aria-rowindex"),l=Array.from(t.closest('[role="grid"]').querySelectorAll("[aria-rowindex]")).map((function(e){var t;return parseInt(null!==(t=e.getAttribute("aria-rowindex"))&&void 0!==t?t:"0",10)})),c=parseInt(s,10),u=Math.max.apply(Math,(0,i.Z)(l)),d=c+1;d<=u;d+=1){var p=d,m=e.querySelector('[aria-colindex="'.concat(o,'"][aria-rowindex="').concat(p,'"]'));if((0,a.KX)(m))return m}if(n===r.N.UP)for(var f=t.closest("[aria-colindex]").getAttribute("aria-colindex"),v=t.closest("[aria-rowindex]").getAttribute("aria-rowindex"),g=parseInt(v,10)-1;g>=0;g-=1){var h=g,k=e.querySelector('[aria-colindex="'.concat(f,'"][aria-rowindex="').concat(h,'"]'));if((0,a.KX)(k))return k}if(n===r.N.LEFT)for(var y=t.closest("[aria-colindex]"),b=parseInt(y.getAttribute("aria-rowindex"),10),S=parseInt(y.getAttribute("aria-colindex"),10),x=Array.from(e.querySelectorAll('[aria-rowindex="'.concat(b,'"]'))),O=S-2;O>=0;O--){var w=x[O];if((0,a.KX)(w))return w}if(n===r.N.RIGHT)for(var N=t.closest("[aria-colindex]"),_=parseInt(N.getAttribute("aria-rowindex"),10),E=parseInt(N.getAttribute("aria-colindex"),10),C=Array.from(e.querySelectorAll('[aria-rowindex="'.concat(_,'"]'))),P=E;P<C.length;P++){var I=C[P];if((0,a.KX)(I))return I}return null}},45628:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,id:()=>g,YU:()=>b,RX:()=>h});var i=n(980),r=n(59496),a=n(91048),o=n(17006),s=(n(5538),n(61391),n(72649),n(4637)),l=["children","className","onKeyDown","isFluid"],c=r.forwardRef((function(e,t){var n=e.children,c=e.className,u=e.onKeyDown,d=void 0===u?function(){}:u,p=e.isFluid,m=void 0!==p&&p,f=(0,i.Z)(e,l),v=(0,r.useRef)(null);!function(e){var t=(0,r.useRef)(null);(0,r.useEffect)((function(){var n=e.current;if(!n)return function(){};var i=function(e){var n=e.target;if(n instanceof HTMLElement){var i,r,a,o,s=parseInt(null!==(i=null===(r=n.closest("[aria-rowindex]"))||void 0===r?void 0:r.getAttribute("aria-rowindex"))&&void 0!==i?i:"",10),l=parseInt(null!==(a=null===(o=n.closest("[aria-colindex]"))||void 0===o?void 0:o.getAttribute("aria-colindex"))&&void 0!==a?a:"",10);t.current={target:n,rowIndex:s,colIndex:l}}};return n.addEventListener("focusout",i),function(){n.removeEventListener("focusout",i)}}),[e]),(0,r.useEffect)((function(){if(t.current&&e.current){var n,i=t.current,r=i.target,a=i.rowIndex,s=i.colIndex;!(null===(n=e.current)||void 0===n?void 0:n.contains(r))&&Number.isInteger(a)&&Number.isInteger(s)&&(0,o.uK)(e.current,a,s),t.current=null}}))}(v),(0,r.useImperativeHandle)(t,(function(){return v.current}));var g=(0,r.useCallback)((function(e){var t;null!==(t=v.current)&&void 0!==t&&t.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault(),"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===e.key&&(0,o.pr)(v.current,a.N.UP,m),"ArrowDown"===e.key&&(0,o.pr)(v.current,a.N.DOWN,m),"ArrowLeft"===e.key&&(0,o.pr)(v.current,a.N.LEFT,m),"ArrowRight"===e.key&&(0,o.pr)(v.current,a.N.RIGHT,m),d(e))}),[d,m]);return(0,s.jsx)("div",{ref:v,role:"grid","aria-rowcount":f["aria-rowcount"],"aria-colcount":f["aria-colcount"],"aria-label":f["aria-label"],className:c,onKeyDown:g,tabIndex:0,"":f["data-testid"],children:n})})),u=(n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(45389)),d=n(38351),p=function(e){(0,r.useEffect)((function(){if(e.current){var t=e.current.parentElement;do{var n;if(!t)return;t.getAttribute("role")||t.setAttribute("role","presentation"),t=t.parentElement}while("grid"!==(null===(n=t)||void 0===n?void 0:n.getAttribute("role")))}}),[e])},m=["children","columnIndex","className"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.children,n=e.columnIndex,a=e.className,o=(0,i.Z)(e,m),l=(0,r.useRef)(null);return(0,d.O)(l),p(l),(0,s.jsx)("div",v(v({ref:l,className:a,role:"gridcell","aria-colindex":n+1,tabIndex:-1},o),{},{children:t}))},h=function(e){var t=e.children,n=e.rowIndex,i=e.className,a=e["aria-selected"],l=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=l.current,t=function(e){var t=e.currentTarget;t.contains(document.activeElement)||(0,o.Jp)(t)};return e&&e.addEventListener("click",t),function(){e&&e.removeEventListener("click",t)}}),[]),(0,s.jsx)("div",{ref:l,className:i,role:"row","aria-rowindex":n+1,"aria-selected":a,children:t})};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.children,n=e.ariaSort,i=e.columnIndex,a=e.className,o=(0,r.useRef)(null);return(0,d.O)(o),p(o),(0,s.jsx)("div",y(y({ref:o,className:a,role:"columnheader","aria-colindex":i+1},n?(0,u.Z)({},"aria-sort",n):{}),{},{tabIndex:-1,children:t}))}},53720:(e,t,n)=>{"use strict";n.d(t,{A:()=>v,E:()=>b});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(59496),o=n(91048),s=n(8608);n(43125),n(27639),n(63691);function l(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){if((0,s.lK)(e)){var r=e.querySelector('[tabindex="0"]');t===o.N.UP&&(0,s.Bu)(r,c(e,r,o.N.UP,n,i)),t===o.N.DOWN&&(0,s.Bu)(r,c(e,r,o.N.DOWN,n,i))}}else console.error("No list element found. Canceling moving focus")}function c(e,t,n,i,r){var a=t.closest('li[role="listitem"]');if(!a)return t;var s,l=a,c=t,u=Array.from(e.querySelectorAll('li[role="listitem"]')),d=u.indexOf(a);if(d<0)return t;if(n===o.N.UP){if(document.activeElement===e){var p;if(l=u[u.length-1],r){var m,f=null===(m=l)||void 0===m?void 0:m.querySelectorAll('a[href], button, div[role="button"]');c=f[f.length-1]}else{var v;c=null===(v=l)||void 0===v?void 0:v.querySelector('a[href], button, div[role="button"]')}return null!==(p=c)&&void 0!==p?p:t}if(r){var g=Array.from(a.querySelectorAll('a[href], button, div[role="button"]')),h=g.indexOf(t)-1;if(h>=0)return g[h]}var k=d-1;do{if(l=u[k],i&&!l&&(k=u.length-1,l=u[k]),r){var y,b=null===(y=l)||void 0===y?void 0:y.querySelectorAll('a[href], button, div[role="button"]');c=b?b[b.length-1]:null}else{var S;c=null===(S=l)||void 0===S?void 0:S.querySelector('a[href], button, div[role="button"]')}k-=1}while(!c&&(!i&&k>=0||i&&d!==k))}else if(n===o.N.DOWN){var x,O;if(document.activeElement===e)return l=u[0],null!==(O=c=null===(x=l)||void 0===x?void 0:x.querySelector('a[href], button, div[role="button"]'))&&void 0!==O?O:t;if(r){var w=Array.from(a.querySelectorAll('a[href], button, div[role="button"]')),N=w.indexOf(t)+1;if(N<w.length)return w[N]}var _=d+1;do{var E;l=u[_],i&&!l&&(l=u[_=0]),c=null===(E=l)||void 0===E?void 0:E.querySelector('a[href], button, div[role="button"]'),_+=1}while(s=void 0,s=!i&&_<=u.length,!c&&(s||i&&d!==_))}return c||t}var u=n(23439),d=n(4637),p=["onKeyDown","children","circular","allowsMultipleInteractiveChildrenInItem"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.onKeyDown,n=e.children,i=e.circular,c=void 0===i||i,m=e.allowsMultipleInteractiveChildrenInItem,v=void 0!==m&&m,g=(0,r.Z)(e,p),h=(0,a.useRef)(null);(0,u.W)(h);var k=(0,a.useCallback)((function(e){var n;null!==(n=h.current)&&void 0!==n&&n.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),document.documentElement.classList.remove("no-focus-outline")),"ArrowUp"===e.key&&l(h.current,o.N.UP,c,v),"ArrowDown"===e.key&&l(h.current,o.N.DOWN,c,v),null==t||t(e))}),[c,v,t]),y=(0,a.useCallback)((function(e){if(h.current){var t=e.target,n=h.current.querySelector('[tabindex="0"]');t.closest('li[role="listitem"]')&&t!==n&&(0,s.Bu)(n,t,{preventScroll:!0})}}),[]);return(0,d.jsx)("ul",f(f({role:"list",ref:h,onKeyDown:k,onFocus:y,tabIndex:0},g),{},{children:n}))},g=n(38351),h=["children","innerRef"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.children,n=e.innerRef,i=(0,r.Z)(e,h),o=(0,a.useRef)(null),s=null!=n?n:o;return(0,g.O)(s),(0,d.jsx)("li",y(y({ref:s,role:"listitem"},i),{},{children:t}))}},24590:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(4637),o=["children"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){var t=e.children,n=(0,r.Z)(e,o);return(0,a.jsxs)("label",{className:"hidden-visually",children:[t,(0,a.jsx)("input",l({},n))]})}},82065:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var i=n(59496),r=n(27915),a=n(92449),o=(n(94562),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.settings={level:t.level||"polite",parent:t.parent||document.body,idPrefix:t.idPrefix||"live-region-",delay:t.delay||0},this.currentRegion=document.createElement("span")}return(0,a.Z)(e,[{key:"say",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.delay;this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());var i="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",i),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((function(){t.currentRegion.textContent=e}),n)}},{key:"clearNode",value:function(){var e=this.settings.parent.querySelector('[id^="'.concat(this.settings.idPrefix,'"]'));e&&this.settings.parent.removeChild(e)}}]),e}()),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.delay,n=e.idPrefix,r=e.level,a=e.parent,s=(0,i.useMemo)((function(){return new o({delay:t,idPrefix:n,level:r,parent:a})}),[t,n,r,a]);return(0,i.useEffect)((function(){return function(){s.clearNode()}}),[s]),s}},23439:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var i=n(39130),r=n(59496),a=function(e){var t=(0,r.useState)(null),n=(0,i.Z)(t,2),a=n[0],o=n[1];(0,r.useEffect)((function(){var t=e.current;if(!t)return function(){};var n=function(e){var t=e.target;t instanceof HTMLElement&&o(t)};return t.addEventListener("focusout",n),function(){t.removeEventListener("focusout",n)}}),[e]),(0,r.useEffect)((function(){var t=e.current;if(a&&t){var n=t.contains(a),i=t.contains(document.activeElement);!n&&!i&&t.focus({preventScroll:!0}),o(null)}}),[e,a])}},35589:(e,t,n)=>{"use strict";n.d(t,{l:()=>h});var i=n(10506),r=n(63892),a=n(98148),o=n(17249),s=n(88652),l=n(36157),c=n(27021),u=n(56406);const d="a_fhw77sDAmUWT0DjcLz",p="IVCTj3T2ms7JvLUiF4hZ",m="_vX7nRSblUeXv4DTYkKu",f="ST9Bhw7AdmFCTZDIKw3n";var v=n(4637),g=function(e){var t,n,l,c=e.showUri,g=(0,s.qT)(),h=(0,u.ye)(c);return null===h?null:null!=h&&h.basic?(t=h.basic,n=t.title,l=t.body,(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)(i.D,{as:"div",variant:"cello",className:p,children:n}),(0,v.jsx)(i.D,{as:"div",variant:"mesto",className:m,children:l}),(0,v.jsx)("div",{className:f,children:(0,v.jsx)(r.D,{buttonSize:"sm",colorSet:"invertedLight",onClick:function(){g({type:"close"})},children:t.cta})})]})):null!=h&&h.upsellLink?function(e){var t=e.title,n=e.body;return(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)(i.D,{as:"div",variant:"cello",className:p,children:t}),(0,v.jsx)(i.D,{as:"div",variant:"mesto",className:m,children:n}),(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)(a.o,{buttonSize:"sm",semanticColor:"textBase",onClick:function(){g({type:"close"})},children:o.ag.get("close")}),(0,v.jsx)(r.D,{buttonSize:"sm",colorSet:"invertedLight",href:e.url,children:e.cta})]})]})}(h.upsellLink):function(){var e=o.ag.get("paywalls.modal-heading"),t=(0,v.jsxs)(v.Fragment,{children:[o.ag.get("paywalls.modal-body-p1"),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),o.ag.get("paywalls.modal-body-p2"),(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),o.ag.get("paywalls.modal-body-p3")]});return(0,v.jsxs)("div",{className:d,children:[(0,v.jsx)(i.D,{as:"div",variant:"cello",className:p,children:e}),(0,v.jsx)(i.D,{as:"div",variant:"mesto",className:m,children:t}),(0,v.jsx)("div",{className:f,children:(0,v.jsx)(a.o,{buttonSize:"sm",semanticColor:"textBase",onClick:function(){g({type:"close"})},children:o.ag.get("close")})})]})}()},h=function(e){var t=e.children,n=e.enabled,i=e.showUri,r=e.renderInline,a=void 0===r||r;return n&&i?(0,v.jsx)(c.Nt,{trigger:"click",action:"toggle",offset:[-2,20],renderInline:a,content:(0,v.jsx)(c.yv,{children:(0,v.jsx)(g,{showUri:i})}),children:t}):(0,l.x)(t)?t(!1,(function(){}),{current:null}):t}},7145:e=>{e.exports={cast:{appId:"CC32E753"}}},10146:(e,t,n)=>{"use strict";n.d(t,{IW:()=>s,JP:()=>a,K1:()=>o,cr:()=>r,zH:()=>i});var i="web_player",r="nowPlayingCoverExpandedState",a="isPlaybackBarRemainingTimeToggled",o=64,s=416},31193:(e,t,n)=>{"use strict";n.d(t,{L:()=>b});var i=n(8850),r=n(39130),a=n(10995),o=n.n(a),s=(n(96807),n(5538),n(30246),n(59496)),l=n(11794),c=n(47900),u=n(33863),d=n(78142),p=n(83474),m=(n(81289),n(22369),n(69109),n(81844),n(72102)),f=n(26352),v=n(82568),g=n(5580),h=n(31675);var k=function(e,t){var n=(0,s.useContext)(f.Ax).request,r=(0,m.NY)((function(){return t}),[t]),a=(0,s.useMemo)((function(){return function(e){return(0,h.y)(e)?e.items.reduce((function(e,t){var n;return e.push(t.discNumber-1),e.concat(Array(null!==(n=t.nrTracks)&&void 0!==n?n:0).fill(t.discNumber))}),[]):null}(r)}),[r]),l=(0,s.useCallback)(function(){var t=(0,i.Z)(o().mark((function t(i,s){var l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(v.qe,{uri:e,offset:null!==a?i-a[i]:i,limit:s});case 2:return l=t.sent,t.abrupt("return",(0,g.fy)(null==l?void 0:l.data,r));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[r,a,n,e]);return l},y=n(4637),b=s.memo((function(e){var t=e.ariaLabel,n=e.nrTracks,a=e.discs,m=e.albumUri,f=e.highlightUri,v=e.scrollToIndex,g=e.usePlayContextItem,h=e.hasHeaderRow,b=void 0===h||h,S=e.initalTracks,x=(0,c.ZO)()===u.W.Web,O=k(m,a),w=(0,s.useRef)(null),N=(0,s.useRef)(!1),_=(0,s.useState)(null),E=(0,r.Z)(_,2),C=E[0],P=E[1];(0,s.useEffect)((function(){w.current&&(C?w.current.scrollToIndex(C):v&&w.current.scrollToIndex(v))}),[C,v]);var I=(0,s.useCallback)(function(){var e=(0,i.Z)(o().mark((function e(t,n){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t,n);case 2:return i=e.sent,f&&!C&&(a=null===(r=i.items)||void 0===r?void 0:r.findIndex((function(e){return e.type===p.p.TRACK&&(null==e?void 0:e.uri)===f})),P(a||-1)),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[O,f,C]),j=(0,s.useCallback)((function(e,t){var n;if("AlbumDisc"===e.type)return(0,y.jsx)(l.UT,{discNumber:e.discNumber},t+e.discNumber);var i=null!==(n=e.linkedUri)&&void 0!==n?n:e.uri,r=e.playcount?parseInt(e.playcount,10):0,a=!(N.current||!f||f!==e.uri&&f!==i);return a&&(N.current=!0),(0,y.jsx)(l.Ym,{index:t,trackNumber:e.trackNumber,contextUri:m,uri:i,uid:e.uid,duration_ms:e.duration.milliseconds,name:e.name,isPlayable:e.isPlayable,artists:e.artists,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,playcount:r,shouldRenderPlayCount:!x,shouldHighLight:a,usePlayContextItem:g},t+e.uri)}),[f,m,x,g]),A=(0,s.useMemo)((function(){return function(e){return e?[l.QD.INDEX,l.QD.TITLE,l.QD.DURATION]:[l.QD.INDEX,l.QD.TITLE,l.QD.PLAYS,l.QD.DURATION]}(x)}),[x]),T=(0,s.useCallback)((function(e){return e.type===p.p.TRACK?e.uri:""}),[]);return(0,y.jsx)(d.ZP,{value:"album-tracklist",children:(0,y.jsx)(l.Pv,{ariaLabel:t,hasHeaderRow:b,rowPlaceholder:l.uD,columns:A,renderRow:j,resolveUri:T,nrTracks:n,fetchTracks:I,limit:300,outerRef:w,tracks:S},m)})}))},82568:(e,t,n)=>{"use strict";n.d(t,{hi:()=>a,qe:()=>o});var i=n(83014),r=(n(69109),n(9294),[{kind:"FragmentDefinition",name:{kind:"Name",value:"albumTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"relinkingInformation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkedTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]),a=Spicetify.GraphQL.Definitions["getAlbum"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumMetadataFull"}}]}}]}}]}}].concat((0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumMetadataFull"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumCoverArt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumDiscs"}},{kind:"FragmentSpread",name:{kind:"Name",value:"albumReleases"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"courtesyLine"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumTrack"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"moreAlbumsByArtist"}}]}}]),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}},{kind:"Field",name:{kind:"Name",value:"colorLight"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}},{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumDiscs"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"albumReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]),(0,i.Z)(r),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"moreAlbumsByArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"moreAlbumsByArtist"},name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}}]}}]}}]}}]}}]))},o=Spicetify.GraphQL.Definitions["queryAlbumTracks"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryAlbumTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumTrack"}}]}}]}}]}}]}}]}}].concat((0,i.Z)(r))}},73923:(e,t,n)=>{"use strict";n.d(t,{j:()=>A,i:()=>T});var i=n(39130),r=n(8850),a=n(10995),o=n.n(a),s=(n(30246),n(69109),n(59496)),l=n(9102),c=n(17249),u=n(76022),d=n(26352),p=n(52427),m=n(31636),f=n(9294),v=n(62179),g=n(48850),h=n(71163),k=n(82568),y=n(98335),b=n(76956),S=n(45389),x=(n(162),n(72304),n(22369),n(81289),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(83474)),O=n(55590),w=n(17452);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return _(_({},e),{},{uid:void 0,isSaved:!1,playcount:"0",linkedUri:e.uri})},C=function(e){switch(e){case"album":return w.V.Album;case"ep":return w.V.Ep;case"single":return w.V.Single;case"compilation":return w.V.Compilation;default:return(0,O.U)(e)}},P=n(5580),I=function(e,t,n){var i,a=(0,p.Y)(k.hi).name,s={uri:e,locale:t,offset:0,limit:50};return{key:[a,s],fn:(i=(0,r.Z)(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.J)(n,k.hi,s);case 2:return i=e.sent,e.abrupt("return","Album"===(null==i||null===(t=i.data)||void 0===t?void 0:t.albumUnion.__typename)?(0,P.fe)(null==i?void 0:i.data.albumUnion):null);case 4:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})}},j=function(e){var t=c.ag.getUrlLocale();return(0,y.k)({type:"link",uri:e})?"".concat(u.F0).concat(t):""},A=function(e){var t=!(0,b.k)(),n=(0,h._)(e),r=(0,s.useContext)(v.H),a=(0,s.useState)(null),o=(0,i.Z)(a,2),c=o[0],u=o[1],p=(0,s.useContext)(d.Ax).request,m=j(e),k=I(e,m,p),y=(0,l.useQuery)(k.key,k.fn,{cacheTime:15*f.y,staleTime:5e3}),S=y.data,O=y.isLoading,w=y.error,N=t&&n===g.Om.YES;return(0,s.useEffect)((function(){N&&r.getAlbum(e).then((function(e){return u(e?function(e){return{type:x.p.ALBUM,uri:e.uri,name:e.name,artists:(n=e.artists,n.map((function(e){return{type:x.p.ARTIST,name:e.name,images:[],uri:e.uri,id:e.uri}}))),images:e.images,moreAlbumsByArtist:[],nrTracks:e.items.length,isPlayable:e.items.some((function(e){return e.isPlayable})),isCatalogueRestricted:!1,discs:{totalCount:0,items:[]},copyright:(t=e.copyrights,{totalCount:t.length,items:t}),albumType:C(e.albumType),duration:{durationMs:e.items.reduce((function(e,t){return e+t.duration.milliseconds}),0),isEstimate:!1},releases:{totalCount:0,items:[]},extractedColors:null,courtesyLine:null,sharingInfo:null,items:e.items.map(E)};var t,n}(e):null)}))}),[N,r,e]),{loading:N?!c:O,error:w,data:N?c:null!=S?S:null,canLoadOffline:N}},T=function(e){var t=(0,s.useContext)(d.Ax).request,n=(0,l.useQueryClient)(),i=j(e);return(0,s.useCallback)((function(){var r=I(e,i,t);n.prefetchQuery(r.key,r.fn)}),[n,t,i,e])}},22077:(e,t,n)=>{"use strict";n.d(t,{L:()=>i.L});var i=n(31193)},17452:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var i=function(e){return e.Album="ALBUM",e.Audiobook="AUDIOBOOK",e.Compilation="COMPILATION",e.Ep="EP",e.Podcast="PODCAST",e.Single="SINGLE",e.Unknown="UNKNOWN",e}({})},5580:(e,t,n)=>{"use strict";n.d(t,{fe:()=>d,fy:()=>p});n(30246),n(5538),n(162),n(81289),n(22369),n(72304);var i=n(24511),r=n(83474),a=n(55590),o=n(31675),s=function(e){return(e||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}}))},l=function(e){switch(e){case i.VQ.Minute:case i.VQ.Hour:case i.VQ.Day:return"day";case i.VQ.Month:return"month";case i.VQ.Year:case void 0:return"year";default:return(0,a.U)(e)}},c=function(e){if(null!==e)return{date:e.isoString,precision:l(e.precision)}},u=function(e){var t,n,a,o,s,l;return{type:r.p.TRACK,uid:e.uid,uri:e.track.uri,name:e.track.name,artists:(l=e.track.artists,l.items.map((function(e){return{uri:e.uri,name:e.profile.name}}))),duration:{milliseconds:e.track.duration.totalMilliseconds},album:null,discNumber:e.track.discNumber,trackNumber:e.track.trackNumber,isPlayable:e.track.playability.playable,isLocal:!1,isExplicit:(null===(t=e.track.contentRating)||void 0===t?void 0:t.label)===i.KS.Explicit,is19PlusOnly:(null===(n=e.track.contentRating)||void 0===n?void 0:n.label)===i.KS.NineteenPlus,isSaved:e.track.saved,playcount:null!==(a=e.track.playcount)&&void 0!==a?a:"",linkedUri:"Track"===(null===(o=e.track.relinkingInformation)||void 0===o?void 0:o.linkedTrack.__typename)?null===(s=e.track.relinkingInformation)||void 0===s?void 0:s.linkedTrack.uri:null}},d=function(e){var t,n,a,l,d,p,m,f,v,g,h,k={totalCount:e.discs.totalCount,items:e.discs.items.map((function(e){return{type:"AlbumDisc",discNumber:e.number,nrTracks:e.tracks.totalCount}}))},y=e.tracks.items.map(u),b=(0,o.X)(y,k)||[];return{type:r.p.ALBUM,uri:e.uri,name:e.name,artists:(h=e.artists,h.items.map((function(e){var t;return{type:r.p.ARTIST,name:e.profile.name,images:s(null===(t=e.visuals.avatarImage)||void 0===t?void 0:t.sources),uri:e.uri,id:e.id}}))),images:s(null===(t=e.coverArt)||void 0===t?void 0:t.sources),moreAlbumsByArtist:(m=e.moreAlbumsByArtist,null==m||null===(f=m.items[0])||void 0===f||null===(v=f.discography)||void 0===v||null===(g=v.popularReleasesAlbums)||void 0===g?void 0:g.items.map((function(e){var t,n;return{type:r.p.ALBUM,uri:e.uri,albumType:e.type,name:e.name,images:s(null===(t=e.coverArt)||void 0===t?void 0:t.sources),artists:[],sharingInfo:e.sharingInfo,year:null===(n=e.date)||void 0===n?void 0:n.year}}))),nrTracks:e.tracks.totalCount,isPlayable:e.tracks.items.some((function(e){return e.track.playability.playable})),isCatalogueRestricted:e.playability.reason===i.Ku.CatalogueRestricted,discs:k,copyright:e.copyright,albumType:e.type,duration:(p=e.tracks,{durationMs:p.items.length>0?p.items.reduce((function(e,t){return e+t.track.duration.totalMilliseconds}),0)/p.items.length*p.totalCount:0,isEstimate:p.items.length<p.totalCount}),releases:e.releases,extractedColors:null!==(n=null===(a=e.coverArt)||void 0===a?void 0:a.extractedColors)&&void 0!==n?n:null,courtesyLine:null!==(l=e.courtesyLine)&&void 0!==l?l:null,sharingInfo:null!==(d=e.sharingInfo)&&void 0!==d?d:null,release:c(e.date),items:b}},p=function(e,t){var n;if("Album"!==(null==e||null===(n=e.albumUnion)||void 0===n?void 0:n.__typename))return{items:[],totalLength:0};var i=e.albumUnion.tracks.items.map(u);return{items:(0,o.X)(i,t)||[],totalLength:(0,o.y)(t)?t.totalCount+e.albumUnion.tracks.totalCount:e.albumUnion.tracks.totalCount}}},31675:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,y:()=>i});n(81289),n(22369);var i=function(e){return e.totalCount>=2&&e.totalCount<=10},r=function(e,t){if(!i(t)||!e)return e;var n=0;return e.reduce((function(e,t){return(t.trackNumber<n||1===t.trackNumber)&&e.push({type:"AlbumDisc",discNumber:t.discNumber,nrTracks:null}),e.push(t),n=t.trackNumber,e}),[])}},4762:(e,t,n)=>{"use strict";n.d(t,{W:()=>z});n(30246),n(162);var i=n(59496),r=n(14268),a=n(10506),o=n(39833),s=n(17249),l=n(39447),c=n(39130),u=n(84875),d=n.n(u),p=n(42336),m=n(75938),f=n(75897),v=n(69912);const g="od_kF1rLZbir8kM_F607",h="qyKJPLjz8o4jnbk92JOn",k="zsVdTdACMZA_MWB3HlEW",y="nsakAYOtgZOAcEO4ObrM",b="uJjmxe0T11dUVeW6Biz8",S="F1K3uW1jqwG0wxFHO5gl",x="Ii9XdJaXIuKbmR1zC4Rt";var O=n(4637),w=i.memo((function(e){var t=e.images,n=e.initialSelected,r=void 0===n?0:n,a=(0,i.useState)(r),o=(0,c.Z)(a,2),l=o[0],u=o[1],w=(0,i.useState)(0),N=(0,c.Z)(w,2),_=N[0],E=N[1],C=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=C.current;e&&E(e.clientWidth)}),[]),(0,v.a)((function(){var e=C.current;e&&E(e.clientWidth)})),0===t.length?null:(0,O.jsxs)("div",{className:g,children:[t.length>1&&(0,O.jsxs)(O.Fragment,{children:[0!==l&&(0,O.jsx)("button",{type:"button","aria-label":s.ag.get("gallery.prev"),onClick:function(){return u(l-1)},className:d()(h,k),children:(0,O.jsx)(p.e,{})}),l!==t.length-1&&(0,O.jsx)("button",{type:"button","aria-label":s.ag.get("gallery.next"),onClick:function(){return u(l+1)},className:d()(h,y),children:(0,O.jsx)(m.V,{})})]}),(0,O.jsx)("ul",{className:b,ref:C,dir:"auto",children:t.map((function(e,t){return(0,O.jsx)("li",{"aria-hidden":l!==t,className:S,style:{transform:"translateX(-".concat(l*_,"px)")},children:(0,O.jsx)(f.E,{loading:"lazy",src:e.url,width:e.width,height:e.height,className:x})},t)}))})]})})),N=n(63461),_=n(88843),E=n(92755),C=n(55961),P=n(20188),I=n(24511),j=(n(83001),n(22369),n(27639),n(71756),n(70238),n(45880),n(62780),n(51735),n(8873)),A=n(53264),T=n(17862),D=n(5216),R=n(38674),F=n(10785),L=n(77451);const M="i4D2KoD4VsgqCciKSU23",U="zuzEUQ73xaDpNkHRu4Q4",Z="oe0FHRJU7PvjoTnXJmfr";function B(e){switch(e){case I.bm.Facebook:return(0,O.jsx)(j.z,{className:U});case I.bm.Twitter:return(0,O.jsx)(A.J,{className:U});case I.bm.Instagram:return(0,O.jsx)(T.R,{className:U});case I.bm.Wikipedia:return(0,O.jsx)(L.h,{className:U});case I.bm.Soundbetter:return(0,O.jsx)(D.e,{className:U});case I.bm.Other:default:return null}}function V(e){if(e.name===I.bm.Soundbetter){var t=new URL(e.url);return t.searchParams.append("utm_source","open.spotify.com"),t.searchParams.append("utm_medium","referral"),t.searchParams.append("utm_campaign","hireme_link_spotify"),t.href}return e.url}function H(e){switch(e){case I.bm.Facebook:return"Facebook";case I.bm.Twitter:return"Twitter";case I.bm.Instagram:return"Instagram";case I.bm.Wikipedia:return"Wikipedia";case I.bm.Soundbetter:return"Hire Me on SoundBetter";case I.bm.Other:default:return"Other"}}var G=function(e){var t=e.links,n=(0,R.W6)(F.QC)?t:t.filter((function(e){return e.name!==I.bm.Soundbetter}));return 0===n.length?null:(0,O.jsx)("div",{className:M,children:n.map((function(e){return(0,O.jsxs)("a",{rel:"noopener noreferrer",target:"_blank",href:V(e),className:Z,children:[B(e.name),(0,O.jsx)(a.D,{variant:"mesto",children:H(e.name)})]},e.url)}))})},W=n(24822),z=i.memo((function(e){var t=e.artistUri,n=e.name,c=e.bio,u=e.bioSource,d=e.images,p=void 0===d?[]:d,m=e.avatarImages,f=void 0===m?[]:m,v=e.worldRank,g=e.monthlyListeners,h=e.topCities,k=e.followers,y=e.externalLinks,b=void 0===y?[]:y,S=e.isOpen,x=e.closeModal,j=(0,P.fU)(o.p,{data:{identifier:"",uri:t}}).spec,A=(0,i.useCallback)((function(){j.closeButtonFactory().hitUiHide(),x()}),[x,j]),T=(0,P.Wi)(j);return(0,O.jsxs)(N.Z,{contentLabel:n,className:W.Z.modal,isOpen:S,onRequestClose:A,animation:{modal:{base:W.Z.modalBase,afterOpen:W.Z.modalAfterOpen,beforeClose:W.Z.modalBeforeClose}},animated:!0,children:[(0,O.jsx)("button",{type:"button","aria-label":s.ag.get("close"),onClick:A,className:W.Z.close,children:(0,O.jsx)(r.k,{iconSize:16})}),(0,O.jsxs)(E.U,{className:W.Z.scrollbars,children:[(0,O.jsx)(w,{images:p}),(0,O.jsx)("div",{className:W.Z.content,ref:T,children:(0,O.jsxs)("div",{className:W.Z.columnContainer,children:[(0,O.jsxs)("div",{className:W.Z.statsContainer,children:[v>0?(0,O.jsxs)("div",{className:W.Z.rank,children:[(0,O.jsxs)(a.D,{as:"div",variant:"canon",children:["#",v]}),(0,O.jsx)(a.D,{as:"div",variant:"finale",children:s.ag.get("artist-page.world_rank")})]}):null,"number"==typeof k?(0,O.jsxs)("div",{className:W.Z.stats,children:[(0,O.jsx)(a.D,{as:"div",variant:"alto",semanticColor:"textBase",children:s.ag.formatNumber(k)}),(0,O.jsx)(a.D,{as:"div",variant:"mesto",children:s.ag.get("followers")})]}):null,"number"==typeof g?(0,O.jsxs)("div",{className:W.Z.stats,children:[(0,O.jsx)(a.D,{as:"div",variant:"alto",semanticColor:"textBase",children:s.ag.formatNumber(g)}),(0,O.jsx)(a.D,{as:"div",variant:"mesto",children:s.ag.get("monthly_listeners")})]}):null,h&&h.length?h.map((function(e,t){var n=e.city,i=e.numberOfListeners,r=e.country;return(0,O.jsxs)("div",{className:W.Z.cityBlock,children:[(0,O.jsx)(a.D,{as:"div",variant:"mestoBold",semanticColor:"textBase",children:s.ag.get("artist-page.where-people-listen-from",n||"",r||"")}),(0,O.jsx)(a.D,{as:"div",variant:"mesto",children:s.ag.get("artist-page.how-many-listeners",i||0)})]},t)})):null,(0,O.jsx)(i.Suspense,{fallback:null,children:(0,O.jsx)(G,{links:b})})]}),(0,O.jsx)("div",{className:W.Z.bioContainer,children:c?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(a.D,{as:"div",variant:"ballad",className:W.Z.bio,dir:"auto",children:(0,O.jsx)(C.k,{source:c,LinkComponent:_.Link,onLinkClick:A})}),u===I.Yk.Autobiography&&(0,O.jsxs)("div",{className:W.Z.postedBy,children:[(0,O.jsx)(l.q,{images:f,label:n,width:32,userIconSize:16,className:W.Z.postedByAvatar}),(0,O.jsx)(a.D,{as:"div",variant:"mesto",children:s.ag.get("acq.artist.about.attribution",{artist:n})})]})]}):null})]})})]})]})}))},39630:(e,t,n)=>{"use strict";n.d(t,{z:()=>S,Z:()=>x});var i=n(8850),r=n(10995),a=n.n(r),o=(n(69109),n(59496)),s=n(9102),l=n(38674),c=n(17249),u=n(76022),d=n(26352),p=n(31636),m=n(9294),f=n(83014),v=Spicetify.GraphQL.Definitions["queryArtistOverview"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistOverview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrerelease"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"preRelease"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includePrerelease"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistOverviewPrerelease"}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"verified"}},{kind:"Field",name:{kind:"Name",value:"pinnedItem"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"itemV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MerchResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[{kind:"Argument",name:{kind:"Name",value:"utmContent"},value:{kind:"StringValue",value:"direct",block:!1}},{kind:"Argument",name:{kind:"Name",value:"utmMedium"},value:{kind:"StringValue",value:"app-artistpick",block:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Merch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"price"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExclusiveMerch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"subtitle"}},{kind:"Field",name:{kind:"Name",value:"checkoutUrl"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Concert"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"venue"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"biography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"Field",name:{kind:"Name",value:"externalLinks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistExternalLinkItem"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlistsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gallery"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"25"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}},{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headerImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}},{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistDiscography"}}]}},{kind:"Field",name:{kind:"Name",value:"stats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followers"}},{kind:"Field",name:{kind:"Name",value:"monthlyListeners"}},{kind:"Field",name:{kind:"Name",value:"worldRank"}},{kind:"Field",name:{kind:"Name",value:"topCities"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistTopCity"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"appearsOn"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"featuringV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discoveredOnV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"relatedArtists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"goods"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"events"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userLocation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"concerts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"category"}},{kind:"Field",name:{kind:"Name",value:"festival"}},{kind:"Field",name:{kind:"Name",value:"nearUser"}},{kind:"Field",name:{kind:"Name",value:"venue"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coordinates"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latitude"}},{kind:"Field",name:{kind:"Name",value:"longitude"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"partnerLinks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"partnerName"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"day"}},{kind:"Field",name:{kind:"Name",value:"hour"}},{kind:"Field",name:{kind:"Name",value:"minute"}},{kind:"Field",name:{kind:"Name",value:"second"}},{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"merch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistMerchItem"}}]}}]}}]}}]}}]}}]}}].concat((0,f.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"artistOverviewPrerelease"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PreRelease"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"preReleaseContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"width"}}]}}]}}]}}]}}]),(0,f.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"artistExternalLinkItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Link"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]),(0,f.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"artistDiscography"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistDiscography"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latest"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"day"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"day"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"singles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"day"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"day"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"compilations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"month"}},{kind:"Field",name:{kind:"Name",value:"day"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customData"},value:{kind:"ListValue",values:[{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"key"},value:{kind:"StringValue",value:"wpi",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"value"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}]}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]}}]),(0,f.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"artistTopCity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CityListenerStats"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numberOfListeners"}},{kind:"Field",name:{kind:"Name",value:"city"}},{kind:"Field",name:{kind:"Name",value:"country"}},{kind:"Field",name:{kind:"Name",value:"region"}}]}}]),(0,f.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"artistMerchItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Merch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"price"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]))},g=n(98335),h=n(10785),k=function(e){var t=c.ag.getUrlLocale();return(0,g.k)({type:"link",uri:e})?"".concat(u.F0).concat(t):""},y=function(e,t){return[e,t]},b=function(e,t,n,r){return(0,i.Z)(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.J)(r,v,{uri:e,locale:t,includePrerelease:n}));case 1:case"end":return i.stop()}}),i)})))},S=function(e){var t,n=k(e),i=(0,o.useContext)(d.Ax).request,r=(0,l.W6)(h.eQ),a=(0,s.useQuery)(y(e,n),b(e,n,r,i),{cacheTime:5*m.y,staleTime:5*m.y}),c=a.data,u=a.isLoading,p=a.error;return{data:null!==(t=null==c?void 0:c.data)&&void 0!==t?t:null,extensions:null==c?void 0:c.extensions,error:null!=p?p:null,loading:u}},x=function(e){var t=(0,o.useContext)(d.Ax).request,n=(0,l.W6)(h.eQ),i=(0,s.useQueryClient)(),r=k(e);return(0,o.useCallback)((function(){i.prefetchQuery(y(e,r),b(e,r,n,t),{staleTime:5*m.y})}),[n,i,t,r,e])}},6486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArtistOffers:()=>Sn,default:()=>Kr});n(16366),n(70785),n(83001),n(22369),n(27639),n(71756),n(45880);var i=n(59496),r=n(41177),a=n(53361),o=n(59272),s=n(39130),l=n(17249),c=n(68833),u=(n(29543),n(70969),n(30246),n(61740)),d=n(10506),p=n(15764),m=n(88843),f=n(71700),v=n(20188),g=n(44888),h=n(70420),k=n(9102),y=n(8850),b=n(10995),S=n.n(b),x=n(60808),O=n(31185),w=function(){var e=(0,y.Z)(S().mark((function e(t,n){var i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.getConcertsForArtist)(x.b.getInstance(),n,t);case 2:return i=e.sent,e.abrupt("return",i.body);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=(0,y.Z)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.getPromoRow)(x.b.getInstance());case 2:return t=e.sent,e.abrupt("return",t.body);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=(0,s.Z)(e.queryKey,2),n=(t[0],t[1]),i=n.artistId,r=n.geonameId;return w(i,r)},E=6e5;const C="EPBWBmUPyLEpl4VJflaL",P="JFiowuVIURESjJJznyZx",I="P6CL1uHz_zTqst4gaAXQ",j="JEd1tp9FdtDLBOCRSVe0";var A=n(4637);const T=function(e){var t=(0,v.$P)(),n=(0,i.useMemo)((function(){return e.spec.promoRowFactory()}),[e.spec]),r=(0,v.Wi)(n),a=(0,k.useQuery)("artistConcertsPromoRow",N,{staleTime:E}),o=a.data,s=a.isLoading;if(a.isError)return null;if(s)return(0,A.jsx)("div",{className:C});if(!o)return null;return(0,A.jsxs)("div",{className:C,style:{backgroundColor:o.backgroundColor},ref:r,children:[(0,A.jsx)(d.D.h2,{variant:"cello",className:P,children:o.title}),(0,A.jsx)(m.default,{to:o.destinationURI,className:I,onClick:function(){var e=n.hitUiNavigate({destination:o.destinationURI});t.logInteraction(e)},children:(0,A.jsx)(h.A,{as:"span",selected:!0,children:o.ctaText})}),(0,A.jsx)("img",{className:j,alt:"",src:o.imageURL})]})};n(162),n(69109);var D=n(69952),R=n(48450);const F="xpUBYro3YQTRrHlOtDUG",L="RqzE7votb8N93rc_jcM1",M="FNDlk94hIuzTU46SX9XI",U="vy9zjnjiY17LMoE8NIXU",Z="McNZLhuWvDVET5VU3isa",B="Y7ipyLdgXswfEfkyakDd",V="fPraNia968RT4uPMTi3A",H="us2rJWb_948b7dlVgBOe",G="GqNQN9feHja7Au6wOdLG",W="LkCU9WXlxfddrPDZZZ4J",z="LtyyKmwxLSSxcYCrRZJh";const K=(0,i.memo)((function(e){var t=e.concert,n=e.onClick,i=(0,D.CH)(t.startDate.localDate),r="ONLINE"===t.category,a=t.venue,o=t.location,s=r?a:"".concat(a," • ").concat(o);return(0,A.jsxs)(m.Link,{to:"/concert/".concat(t.id),className:U,onClick:n,children:[(0,A.jsxs)("div",{className:Z,"aria-hidden":!0,children:[(0,A.jsx)(d.D.span,{variant:"mestoBold",className:B,children:(0,D.jw)(i)}),(0,A.jsx)(d.D.span,{variant:"canon",className:V,children:(0,D.wf)(i)})]}),(0,A.jsxs)("div",{className:H,children:[(0,A.jsx)(d.D.span,{variant:"cello",className:G,"":"event-title",children:(0,R.Yl)(t)}),(0,A.jsxs)(d.D.span,{variant:"ballad",className:W,children:[(0,D.xE)(i)," • ",(0,D.hK)(i)]}),(0,A.jsx)(d.D.span,{variant:"ballad",className:z,"":"event-venue",children:s})]})]})}));var Y=(0,i.memo)((function(e){var t=e.concerts,n=e.spec,i=e.locationName,r=(0,v.$P)(),a=(0,v.Wi)(n);return 0===t.length?(0,A.jsx)(d.D.p,{variant:"ballad",ref:a,children:i?l.ag.get("artist.concerts.error.not_found_near_location",i):l.ag.get("artist.concerts.error.not_found")}):(0,A.jsx)("div",{ref:a,children:t.map((function(e,t){var i="spotify:concert:".concat(e.id);return(0,A.jsx)(K,{concert:e,onClick:function(){var e=n.eventRowFactory({position:t,uri:i}).hitUiNavigate({destination:i});r.logInteraction(e)}},e.id)}))})}));const q=Y;var Q=n(63789),J=function(e){var t=l.ag.get("artist.concerts.artist_tour_dates").split("{0}"),n=(0,s.Z)(t,2),i=n[0],r=n[1];return(0,A.jsxs)(A.Fragment,{children:[i,(0,A.jsx)(m.Link,{to:e.uri,className:F,children:e.name}),r]})},X=(0,i.memo)((function(e){var t=e.data,n=e.locationName,r=e.onSetLocation,a=t.artist,o=t.concerts,s=(0,v.fU)(p.createDesktopConcertsArtistConcertsEventFactory,{data:{uri:a.uri,identifier:a.id}}).spec,c=(0,v.Wi)(s),m=(0,i.useMemo)((function(){return s.headerFactory()}),[s]),h=(0,i.useMemo)((function(){return s.locationEventsFactory({identifier:n})}),[s,n]),k=(0,i.useMemo)((function(){return s.otherEventsFactory()}),[s]),y=(0,u.v9)(f.d),b=(0,g.q)(y,a.id),S=function(e){var t={nearUser:[],otherLocations:[]};return e.forEach((function(e){e.nearUser?t.nearUser.push(e.concert):t.otherLocations.push(e.concert)})),t}(o),x=S.nearUser,O=S.otherLocations;return(0,A.jsxs)("section",{ref:c,className:M,children:[(0,A.jsx)(d.D,{as:"h1",className:L,variant:"brio",semanticColor:"textBase",children:b?J(a):a.name}),(0,A.jsxs)("section",{children:[(0,A.jsx)(Q.Z,{handleLocationChange:function(e){e&&r(e)},locationStr:n,headerSpec:m}),(0,A.jsx)(q,{concerts:x,spec:h,locationName:n})]}),(0,A.jsx)("section",{children:(0,A.jsx)(T,{spec:s})}),(0,A.jsxs)("section",{children:[(0,A.jsx)(d.D,{as:"h2",className:L,variant:"alto",semanticColor:"textBase",children:l.ag.get("concerts.header.other")}),(0,A.jsx)(q,{concerts:O,spec:k})]})]})}));const $=X;const ee=function(){var e,t,n=(0,r.UO)().artistId,a=void 0===n?"":n,o=(0,i.useState)(),u=(0,s.Z)(o,2),d=u[0],p=u[1],m=(e={artistId:a,geonameId:null==d?void 0:d.geohash},t=["artistConcerts",e],(0,k.useQuery)(t,_,{staleTime:E,keepPreviousData:!0,retry:!1})),f=m.data;return m.isLoading?(0,A.jsx)(c.h,{hasError:!1,errorMessage:""}):f?(0,A.jsx)($,{data:f,locationName:(null==d?void 0:d.location)||f.userLocation||l.ag.get("concerts.default_location"),onSetLocation:p}):(0,A.jsx)(c.h,{hasError:!0,errorMessage:l.ag.get("concert.error.concert_not_found_title")})};var te=n(710),ne=n(45389),ie=(n(95675),n(61235),n(62780),n(7845),n(66715),n(30479),n(75341),n(84875)),re=n.n(ie),ae=n(36299),oe=n(60817),se=n(54658);const le="ZLNNoB2n5gQpMPa2h2NC";var ce=n(9294),ue=n(83014),de=Spicetify.GraphQL.Definitions["queryArtistAppearsOn"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistAppearsOn"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"appearsOn"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"relatedAlbumGroup"}}]}}]}}]}}]}}]}}]}}].concat((0,ue.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedAlbumGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"relatedAlbum"}}]}}]}}]}}]),(0,ue.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"relatedAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"2"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}]))},pe=n(17150);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var fe=i.memo((function(){var e,t,n=(0,r.UO)().artistId,i=void 0===n?"":n,a=(0,pe.qo)(i),o=(e={uri:a},t={cacheTime:15*ce.y},(0,ce.a)(de,e,t)),s=o.loading,u=o.error,d=o.data,p="Artist"===(null==d?void 0:d.artistUnion.__typename)?d.artistUnion:null;if(null===p||u||s)return(0,A.jsx)(c.h,{hasError:null!==u,errorMessage:l.ag.get("error.request-artist-appears-on")});var m=p.profile.name,f=(0,pe.uW)(p.relatedContent.appearsOn.items);return(0,A.jsxs)("div",{className:re()("contentSpacing",le),children:[m?(0,A.jsx)(oe.$,{children:l.ag.get("artist-page.appearson.seo.title",m)}):null,(0,A.jsx)(se.P,{title:l.ag.get("artist.appears-on"),total:f.length,showAll:!0,children:f.map((function(e,t){return(0,A.jsx)(ae.r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({index:t},(0,pe.bC)(e)),e.uri)}))})]})})),ve=(n(40274),n(31781),n(38674)),ge=[{kind:"FragmentDefinition",name:{kind:"Name",value:"discographyAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}},{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareId"}},{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}],he=[{kind:"FragmentDefinition",name:{kind:"Name",value:"albumMetadataReleases"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumGroup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"discographyAlbum"}}]}}]}}]}}],ke=[{kind:"FragmentDefinition",name:{kind:"Name",value:"albumMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumGroupPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumMetadataReleases"}}]}}]}}],ye=Spicetify.GraphQL.Definitions["queryArtistDiscographyAlbums"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistDiscographyAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumMetadata"}}]}}]}}]}}]}}]}}].concat((0,ue.Z)(ke),(0,ue.Z)(he),(0,ue.Z)(ge))},be=Spicetify.GraphQL.Definitions["queryArtistDiscographySingles"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistDiscographySingles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"singles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumMetadata"}}]}}]}}]}}]}}]}}].concat((0,ue.Z)(ke),(0,ue.Z)(he),(0,ue.Z)(ge))},Se=Spicetify.GraphQL.Definitions["queryArtistDiscographyCompilations"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistDiscographyCompilations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"compilations"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumMetadata"}}]}}]}}]}}]}}]}}].concat((0,ue.Z)(ke),(0,ue.Z)(he),(0,ue.Z)(ge))},xe=Spicetify.GraphQL.Definitions["queryArtistDiscographyAll"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistDiscographyAll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"all"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albumMetadata"}}]}}]}}]}}]}}]}}].concat((0,ue.Z)(ke),(0,ue.Z)(he),(0,ue.Z)(ge))},Oe=Spicetify.GraphQL.Definitions["queryArtistDiscographyOverview"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistDiscographyOverview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"singles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"compilations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"all"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}]},we=n(26352),Ne=n(10785),_e=n(84340),Ee=n(67262),Ce=n(20899),Pe=n(1003),Ie=n(24511),je=n(48547),Ae=n(71767),Te=n(54669),De=n(56075),Re=n(76561),Fe=n(23006),Le=n(61996),Me=n(64371),Ue=n(22077),Ze=n(96692),Be=n(90775),Ve=n(51882),He=n(56143),Ge=n(92722),We=n(19873);const ze="artist-artistDiscography-topBar",Ke="artist-artistDiscography-topBarScrolled",Ye="artist-artistDiscography-artistName",qe="artist-artistDiscography-button",Qe="artist-artistDiscography-active",Je="artist-artistDiscography-tracklist",Xe="artist-artistDiscography-cardGrid",$e="artist-artistDiscography-headerContainer",et="artist-artistDiscography-firstAlbum",tt="artist-artistDiscography-headerImage",nt="artist-artistDiscography-headerMetadata",it="artist-artistDiscography-headerButtons",rt="artist-artistDiscography-headerTitle";function at(e){switch(e){case Ie.VZ.Single:return l.ag.get("single");case Ie.VZ.Ep:return l.ag.get("ep");case Ie.VZ.Compilation:return l.ag.get("compilation");case Ie.VZ.Album:default:return l.ag.get("album")}}var ot=i.memo((function(e){var t,n,r=e.album,a=e.artistUri,o=e.usePlayContextPage,c=e.pageIndex,u=e.setTopBarContent,p=(0,Be.o)(),f=(0,We.Z)(r.uri),v=(0,s.Z)(f,2),g=v[0],h=v[1],k=(0,Ve.W)(),b=k.titleRef,x=k.tracklistRef,O=k.displayTopBar,w=(0,i.useCallback)((0,y.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({targetUri:r.uri,intent:g?"unsave":"save",type:"click"}),e.prev=1,e.next=4,h(!g);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])}))),[p,r.uri,g,h]),N=o({pageURI:r.uri,pageIndex:c}),_=N.isPlaying,E=N.togglePlay,C=N.usePlayContextItem,P=(0,Ze.O)(r.uri?[r.uri]:[],r.name),I=(0,i.useMemo)((function(){return{items:[],totalCount:0}}),[]),j=(0,i.useMemo)((function(){if(O)return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Me.$,{size:"md",onClick:function(){return E()},disabled:!r.playability.playable,isPlaying:_,uri:r.uri}),(0,A.jsx)(Le.i,{text:r.name,dragUri:r.uri,dragLabel:r.name})]})}),[r.name,r.playability.playable,r.uri,O,_,E]);return(0,i.useEffect)((function(){u(j)}),[u,j]),(0,A.jsxs)(te.fd,{surface:te.Tg.ALBUM,uris:[r.uri],children:[(0,A.jsxs)("div",{className:re()($e,(0,ne.Z)({},et,0===c)),children:[(0,A.jsx)(Fe.Oe,{className:tt,images:(null===(t=r.coverArt)||void 0===t?void 0:t.sources)||[],name:r.name,placeholderType:"album",dragUri:r.uri}),(0,A.jsxs)("div",{className:nt,children:[(0,A.jsx)(d.D,{variant:"alto",semanticColor:"textBase",className:rt,draggable:!!r.uri,onDragStart:P,children:(0,A.jsx)(m.Link,{to:r.uri,children:r.name})}),(0,A.jsx)("div",{ref:b}),(0,A.jsx)(Fe.QS,{releaseDate:null===(n=r.date)||void 0===n?void 0:n.isoString,totalTracks:r.tracks.totalCount,albumType:at(r.type)}),(0,A.jsxs)("div",{className:it,children:[(0,A.jsx)(Me.$,{onClick:function(){return E()},disabled:!r.playability.playable,isPlaying:_,size:"sm",uri:r.uri,version:He.ul.secondary}),(0,A.jsx)(Fe.rn,{children:(0,A.jsx)(Ae.H,{isAdded:!!g,onClick:w,disabled:!1,size:Ae.q.sm})}),(0,A.jsx)(Te.o,{uri:r.uri,isFollowing:!!g,onFollow:w,size:Te.q.sm}),(0,A.jsx)(Ge.y,{menu:(0,A.jsx)(Re.Y,{uri:r.uri,artistUri:a,sharingInfo:r.sharingInfo}),children:(0,A.jsx)(De.z,{size:De.q.sm,label:l.ag.get("more.label.context",r.name)})})]})]})]}),(0,A.jsx)("div",{ref:x,className:re()("contentSpacing",Je),children:(0,A.jsx)(Ue.L,{ariaLabel:r.name,nrTracks:r.tracks.totalCount,albumUri:r.uri,discs:I,usePlayContextItem:C})})]})})),st=n(52300);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=i.memo((function(e){var t=e.usePlayContextPage,n=e.pageIndex,i=t({pageURI:e.uri,pageIndex:n}),r=i.isPlaying,a=i.togglePlay;return(0,A.jsx)(st.i,ct(ct({index:n,showType:!0},e),{},{delegatePlayback:!0,isPlaying:r,onPlay:function(){return a()}}))})),dt=n(98961),pt=n(2865),mt=n(4159),ft=n(20522),vt=n(97846),gt=function(e){return e.GRID="grid",e.LIST="list",e}({}),ht=i.memo((function(e){var t=e.artistName,n=e.artistUri,r=e.albumType,a=e.dropDownOptions,o=e.onTypeChange,l=e.displayMode,c=e.onDisplayModeChange,u=e.topBarContent,p=(0,i.useState)(!1),f=(0,s.Z)(p,2),v=f[0],g=f[1],h=(0,i.useCallback)((function(e){var t=e.target.scrollTop;t>0&&!v?g(!0):0===t&&v&&g(!1)}),[v]);return(0,vt.c)(h,{executeOnceOnStart:!0}),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ft.w,{children:l!==gt.GRID?u:void 0}),(0,A.jsxs)("div",{className:re()(ze,"contentSpacing",(0,ne.Z)({},Ke,v)),children:[(0,A.jsx)(d.D,{as:"div",variant:"canon",className:Ye,children:(0,A.jsx)(m.Link,{to:n,children:t})}),(0,A.jsx)(mt.A,{options:a,onSelect:o,selected:r}),(0,A.jsx)("button",{type:"button",role:"switch","aria-checked":l===gt.LIST,"aria-label":gt.LIST,className:re()(qe,(0,ne.Z)({},Qe,l===gt.LIST)),onClick:function(){return c(gt.LIST)},children:(0,A.jsx)(dt.d,{iconSize:16})}),(0,A.jsx)("button",{type:"button",role:"switch","aria-checked":l===gt.GRID,"aria-label":gt.GRID,className:re()(qe,(0,ne.Z)({},Qe,l===gt.GRID)),onClick:function(){return c(gt.GRID)},children:(0,A.jsx)(pt.z,{iconSize:16})})]})]})}));function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=(0,i.memo)((function(e){var t,n=e.uri,a=e.name,l=e.dropDownOptions,c=e.nrAll,u=e.nrAlbums,d=e.nrSingles,p=e.nrCompilations,m=e.initialDropDownOption,f=(0,i.useState)(m),v=(0,s.Z)(f,2),g=v[0],h=v[1],k=(0,i.useState)(0),b=(0,s.Z)(k,2)[1],x=(0,r.TH)().pathname,O=(0,r.s0)(),w=(0,Ce.z)("discography-page-view-mode",gt.LIST),N=(0,s.Z)(w,2),_=N[0],E=void 0===_?gt.LIST:_,C=N[1],P=(0,i.useState)(void 0),I=(0,s.Z)(P,2),j=I[0],T=I[1],D=(0,i.useRef)((t={all:{items:[],currentOffset:0,totalCount:c}},(0,ne.Z)(t,Ie.VZ.Album,{items:[],currentOffset:0,totalCount:u}),(0,ne.Z)(t,Ie.VZ.Single,{items:[],currentOffset:0,totalCount:d}),(0,ne.Z)(t,Ie.VZ.Compilation,{items:[],currentOffset:0,totalCount:p}),t)),R=function(e){var t=(0,i.useContext)(we.Ax).request,n=(0,i.useCallback)(function(){var n=(0,y.Z)(S().mark((function n(i,r){var a,o,s;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,t(ye,{uri:e,offset:i,limit:r});case 4:if("Artist"===(null==(s=n.sent)||null===(a=s.data)||void 0===a||null===(o=a.artistUnion)||void 0===o?void 0:o.__typename)){n.next=7;break}return n.abrupt("return",[]);case 7:return n.abrupt("return",(0,pe.Pm)(s.data.artistUnion.discography.albums.items||[]));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[e,t]),r=(0,i.useCallback)(function(){var n=(0,y.Z)(S().mark((function n(i,r){var a,o,s;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,t(be,{uri:e,offset:i,limit:r});case 4:if("Artist"===(null==(s=n.sent)||null===(a=s.data)||void 0===a||null===(o=a.artistUnion)||void 0===o?void 0:o.__typename)){n.next=7;break}return n.abrupt("return",[]);case 7:return n.abrupt("return",(0,pe.Pm)(s.data.artistUnion.discography.singles.items||[]));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[e,t]),a=(0,i.useCallback)(function(){var n=(0,y.Z)(S().mark((function n(i,r){var a,o,s;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,t(Se,{uri:e,offset:i,limit:r});case 4:if("Artist"===(null==(s=n.sent)||null===(a=s.data)||void 0===a||null===(o=a.artistUnion)||void 0===o?void 0:o.__typename)){n.next=7;break}return n.abrupt("return",[]);case 7:return n.abrupt("return",(0,pe.Pm)(s.data.artistUnion.discography.compilations.items||[]));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[e,t]),o=(0,i.useCallback)(function(){var n=(0,y.Z)(S().mark((function n(i,r){var a,o,s;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",[]);case 2:return n.next=4,t(xe,{uri:e,offset:i,limit:r});case 4:if("Artist"===(null==(s=n.sent)||null===(a=s.data)||void 0===a||null===(o=a.artistUnion)||void 0===o?void 0:o.__typename)){n.next=7;break}return n.abrupt("return",[]);case 7:return n.abrupt("return",(0,pe.Pm)(s.data.artistUnion.discography.all.items||[]));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[e,t]);return{requestAlbums:n,requestSingles:r,requestCompilations:a,requestAll:o}}(n),F=R.requestAlbums,L=R.requestSingles,M=R.requestCompilations,U=R.requestAll,Z=(0,i.useCallback)((0,y.Z)(S().mark((function e(){var t,n,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F,g.key===Ie.VZ.Single&&(t=L),g.key===Ie.VZ.Compilation&&(t=M),"all"===g.key&&(t=U),n=D.current[g.key].totalCount-D.current[g.key].currentOffset,e.next=7,t(D.current[g.key].currentOffset,Math.min(50,n));case 7:(i=e.sent).length>0&&(D.current[g.key].items=D.current[g.key].items.concat(i),D.current[g.key].currentOffset+=i.length),b((function(e){return e+1}));case 10:case"end":return e.stop()}}),e)}))),[g.key,F,U,M,L]),B=(0,i.useCallback)((function(e){var t=l.find((function(t){return t.key===e}));t&&(O(x.replace(/discography.*/,"discography/".concat(t.key.toLowerCase())),{replace:!0}),h(t))}),[l,O,x]),V=(0,Pe.n)({uri:n,pages:D.current[g.key].items.filter((function(e){return(0,o.YF)(e.uri)})).map((function(e){var t=(0,o.EC)(e.uri).id;return{uri:e.uri,url:"hm://artistplaycontext/v1/page/spotify/album/".concat(t,"/km")}})),metadata:{"disable-autoplay":"true"}},{featureIdentifier:"artist"}).usePlayContextPage;return(0,A.jsxs)(Ee.C,{onReachBottom:Z,children:[(0,A.jsx)(ht,{artistName:a,artistUri:n,topBarContent:j,dropDownOptions:l,albumType:g,onTypeChange:B,displayMode:E,onDisplayModeChange:function(e){C(e)}}),E===gt.LIST?D.current[g.key].items.map((function(e,t){return(0,A.jsx)(ot,{album:e,artistUri:n,usePlayContextPage:V,pageIndex:t,setTopBarContent:T},e.uri)})):(0,A.jsx)(_e.T,{className:re()("contentSpacing",Xe),render:function(){return D.current[g.key].items.map((function(e,t){return(0,A.jsx)(ut,yt(yt({},(0,je.B$)(e,n,a)),{},{usePlayContextPage:V,pageIndex:t}),e.uri)}))}})]})})),St=(0,i.memo)((function(){var e,t,n=(0,r.UO)(),i=n.artistId,a=void 0===i?"":i,o=n.albumType,s=(0,ve.W6)(Ne.EW),u=(0,pe.qo)(a),d=(e={uri:u},t={cacheTime:15*ce.y},(0,ce.a)(Oe,e,t)),p=d.loading,m=d.error,f=d.data;if(null===f||null==f||!f.artistUnion||"Artist"!==(null==f?void 0:f.artistUnion.__typename)||m||p)return(0,A.jsx)(c.h,{hasError:null!==m,errorMessage:l.ag.get("error.request-artist-discography")});var v=f.artistUnion.profile.name,g=[];f.artistUnion.discography.all.totalCount>0&&s&&g.push({key:"all",value:l.ag.get("artist-page-discography.all")}),f.artistUnion.discography.albums.totalCount>0&&g.push({key:Ie.VZ.Album,value:l.ag.get("artist.albums")}),f.artistUnion.discography.singles.totalCount>0&&g.push({key:Ie.VZ.Single,value:l.ag.get("artist.singles")}),f.artistUnion.discography.compilations.totalCount>0&&g.push({key:Ie.VZ.Compilation,value:l.ag.get("artist.compilations")});var h=g.find((function(e){return!("all"!==e.key||"all"!==o||!s)||(e.key===Ie.VZ.Album&&o===Ie.VZ.Album.toLowerCase()||(e.key===Ie.VZ.Single&&o===Ie.VZ.Single.toLowerCase()||e.key===Ie.VZ.Compilation&&o===Ie.VZ.Compilation.toLowerCase()))}))||g[0];return(0,A.jsxs)(A.Fragment,{children:[v?(0,A.jsx)(oe.$,{children:l.ag.get("artist-page.discography.seo.title",v)}):null,(0,A.jsx)(bt,{uri:u,name:v||"",dropDownOptions:g,nrAll:f.artistUnion.discography.all.totalCount,nrAlbums:f.artistUnion.discography.albums.totalCount,nrSingles:f.artistUnion.discography.singles.totalCount,nrCompilations:f.artistUnion.discography.compilations.totalCount,initialDropDownOption:h})]})})),xt=(n(69724),n(15632)),Ot=[{kind:"FragmentDefinition",name:{kind:"Name",value:"artistPlaylist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}],wt=Spicetify.GraphQL.Definitions["queryArtistPlaylists"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playlistsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistPlaylists"}}]}}]}}]}}]}}]}}].concat((0,ue.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"artistPlaylists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistPageV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistPlaylist"}}]}}]}}]),(0,ue.Z)(Ot))},Nt=Spicetify.GraphQL.Definitions["queryArtistDiscoveredOn"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistDiscoveredOn"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discoveredOnV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistPlaylist"}}]}}]}}]}}]}}]}}]}}].concat((0,ue.Z)(Ot))},_t=i.memo((function(){var e,t,n=(0,r.UO)().artistId,i=void 0===n?"":n,a=(0,pe.qo)(i),o=(e={uri:a},t={cacheTime:15*ce.y},(0,ce.a)(Nt,e,t)),s=o.loading,u=o.error,d=o.data;if(null===d||"Artist"!==d.artistUnion.__typename||u||s)return(0,A.jsx)(c.h,{hasError:null!==u,errorMessage:l.ag.get("error.request-artist-featuring")});var p=d.artistUnion.relatedContent.discoveredOnV2.items;return(0,A.jsxs)("div",{className:re()("contentSpacing",le),children:[(0,A.jsx)(oe.$,{children:l.ag.get("artist-page.discovered-on")}),(0,A.jsx)(se.P,{title:l.ag.get("artist-page.discovered-on"),total:p.length,showAll:!0,children:p.map((function(e,t){var n,i,r;if("Playlist"!==e.data.__typename)return null;var a=e.data,o="User"===a.ownerV2.data.__typename&&a.ownerV2.data.name||a.name;return(0,A.jsx)(xt.Z,{index:t,uri:a.uri,name:a.name,authorName:o,description:a.description||"",images:(null===(n=a.images)||void 0===n||null===(i=n.items)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.sources)||[]},a.uri)}))})]})})),Et=Spicetify.GraphQL.Definitions["queryArtistFeaturing"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistFeaturing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"featuringV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistPlaylist"}}]}}]}}]}}]}}]}}]}}].concat((0,ue.Z)(Ot))},Ct=i.memo((function(){var e,t,n,i=(0,r.UO)().artistId,a=void 0===i?"":i,o=(0,pe.qo)(a),s=(t={uri:o},n={cacheTime:15*ce.y},(0,ce.a)(Et,t,n)),u=s.loading,d=s.error,p=s.data;if(null===p||"Artist"!==(null==p||null===(e=p.artistUnion)||void 0===e?void 0:e.__typename)||d||u)return(0,A.jsx)(c.h,{hasError:null!==d,errorMessage:l.ag.get("error.request-artist-featuring")});var m=p.artistUnion,f=m.profile.name,v=m.relatedContent.featuringV2.items;return(0,A.jsxs)("div",{className:re()("contentSpacing",le),children:[f?(0,A.jsx)(oe.$,{children:l.ag.get("artist-page.featuring.seo.title",f)}):null,(0,A.jsx)(se.P,{title:l.ag.get("artist-page.featuring",f),total:v.length,showAll:!0,children:v.map((function(e,t){var n,i,r;if("Playlist"!==e.data.__typename)return null;var a=e.data,o="User"===a.ownerV2.data.__typename&&a.ownerV2.data.name||a.name;return(0,A.jsx)(xt.Z,{index:t,uri:a.uri,name:a.name,authorName:o,description:a.description||"",images:(null===(n=a.images)||void 0===n||null===(i=n.items)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.sources)||[]},a.uri)}))})]})})),Pt=(n(63691),n(38185)),It=n(93553),jt=n(84737),At=n(60334),Tt=n(60221),Dt=n(14706),Rt=n(44594),Ft=n(58077),Lt=n(5497),Mt=n(3594),Ut=(n(82088),n(61366)),Zt=n(64038),Bt=n(81378),Vt=n(77682),Ht=i.memo((function(e){var t=e.concerts,n=e.artistId,r=(0,v.fU)(Ut.createDesktopOnTourSectionEventFactory,{data:{uri:"".concat((0,je.GJ)(n)),position:0,reason:"Elevated On Tour shelf"}}),a=r.spec,o=r.logger,s="".concat((0,je.GJ)(n),":concerts"),c=(0,v.Wi)(a);return(0,A.jsx)(i.Suspense,{fallback:null,children:(0,A.jsxs)("div",{ref:c,children:[(0,A.jsx)(Zt.r,{title:l.ag.get("artist-page.on-tour"),seeAllUri:s,onClickSeeAll:function(){var e=a.seeAllButtonFactory({uri:s}).hitUiNavigate({destination:s});o.logInteraction(e)},hasMoreElements:!0}),(0,A.jsx)("ul",{className:Vt.Z.onTourShelfGrid,children:t.slice(0,6).map((function(e,t){return(0,A.jsx)("li",{children:(0,A.jsx)(Bt.A,{concert:e,index:t,spec:a})},e.id)}))})]})})})),Gt=n(86120),Wt=n(58162),zt=n(78142),Kt=n(3385),Yt=n(8632),qt=n(41084),Qt=n(12033),Jt=n(3269),Xt=n(39447),$t=n(55961),en=n(70128),tn=n(4762),nn=n(24822),rn=i.memo((function(e){var t=e.artistUri,n=e.name,r=e.bio,a=e.bioSource,o=e.images,c=void 0===o?[]:o,u=e.avatarImages,p=void 0===u?[]:u,m=e.worldRank,f=e.monthlyListeners,v=e.topCities,g=e.followers,h=e.externalLinks,k=void 0===h?[]:h,y=e.showModal,b=void 0!==y&&y,S=e.className,x=void 0===S?"":S,O=e.spec,w=(0,i.useState)(b),N=(0,s.Z)(w,2),_=N[0],E=N[1],C=(0,en.$)(),P=(0,i.useCallback)((function(){var e=O.hitUiReveal();C.logInteraction(e),E(!0)}),[O,C]),I=(0,i.useCallback)((function(){E(!1)}),[]),j=c.find((function(e){return(e.width||0)>=(e.height||0)})),T=j&&{backgroundImage:"linear-gradient(".concat(Jt.X33," 0%, ").concat(Jt.ajA," 100%), url(").concat(j.url,")")};return(0,A.jsxs)("div",{className:x,children:[(0,A.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:nn.Z.heading,children:l.ag.get("artist.about")}),(0,A.jsx)("div",{className:re()(nn.Z.artistGridContainer),children:(0,A.jsxs)("button",{type:"button","aria-label":n,className:re()(nn.Z.container,(0,ne.Z)({},nn.Z.backgroundImage,T)),onClick:P,style:T,children:[m>0?(0,A.jsxs)("div",{className:nn.Z.rank,children:[(0,A.jsxs)(d.D,{as:"div",variant:"canon",children:["#",m]}),(0,A.jsx)(d.D,{as:"div",variant:"finale",children:l.ag.get("artist-page.world_rank")})]}):null,(0,A.jsxs)("div",{className:nn.Z.content,children:[!j&&(0,A.jsx)(Xt.q,{images:p,label:n,width:204,userIconSize:76,className:nn.Z.avatar}),"number"==typeof f?(0,A.jsx)(d.D,{as:"div",variant:"balladBold",semanticColor:"textBase",children:l.ag.get("artist.monthly-listeners-count",f)}):null,r?(0,A.jsx)(d.D,{as:"div",variant:"ballad",className:nn.Z.bio,semanticColor:"textBase",dir:"auto",children:(0,A.jsx)($t.N,{source:r})}):null]})]})}),(0,A.jsx)(tn.W,{artistUri:t,name:n,bio:r,bioSource:a,worldRank:m,images:c,topCities:v,followers:g,externalLinks:k,isOpen:_,closeModal:I,monthlyListeners:f})]})}));const an="Jr6tcq7gSdKFSqofza3T";var on=n(66508);function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn=function(e){var t=e.artistId,n=e.artistUri,r=e.artistName,a=e.discography,o=e.shelfIndex,c=e.spec,u=(0,i.useState)("popularReleasesAlbums"),d=(0,s.Z)(u,2),p=d[0],m=d[1],f=(0,i.useMemo)((function(){return c.discographyShelfFactory({position:o})}),[c,o]),g=(0,en.$)(),k=(0,i.useMemo)((function(){return[a.popularReleasesAlbums.totalCount>0?"popularReleasesAlbums":null,a.singles.totalCount>0?"singles":null,a.albums.totalCount>0?"albums":null,a.compilations.totalCount>0?"compilations":null].filter(Boolean)}),[a]),y=(0,i.useCallback)((function(e){var t=f.chipsFactory().chipFactory({identifier:e,position:k.indexOf(e)}).hitFilter();g.logInteraction(t),m(e)}),[f,k,g]),b=(0,i.useCallback)((function(){return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{className:an,children:[a.popularReleasesAlbums.totalCount>0&&(0,A.jsx)(h.A,{selected:"popularReleasesAlbums"===p,onClick:function(){return y("popularReleasesAlbums")},selectedColorSet:"invertedLight",children:l.ag.get("artist-page.popular")}),a.albums.totalCount>0&&(0,A.jsx)(h.A,{selected:"albums"===p,onClick:function(){return y("albums")},selectedColorSet:"invertedLight",children:l.ag.get("artist.albums")}),a.singles.totalCount>0&&(0,A.jsx)(h.A,{selected:"singles"===p,onClick:function(){return y("singles")},selectedColorSet:"invertedLight",children:l.ag.get("artist.singles")}),a.compilations.totalCount>0&&(0,A.jsx)(h.A,{selected:"compilations"===p,onClick:function(){return y("compilations")},selectedColorSet:"invertedLight",children:l.ag.get("artist.compilations")})]})})}),[a,p,y]),S=a[p];"popularReleasesAlbums"===p&&a.latest&&(S=ln(ln({},a[p]),{},{items:[a.latest].concat((0,ue.Z)(a[p].items.filter((function(e){var t;return e.uri!==(null===(t=a.latest)||void 0===t?void 0:t.uri)}))))}));var x="all";"albums"===p?x=Ie.VZ.Album.toLowerCase():"singles"===p?x=Ie.VZ.Single.toLowerCase():"compilations"===p&&(x=Ie.VZ.Compilation.toLowerCase());var O,w,N="".concat((0,je.GJ)(t),":discography:").concat(x),_=(0,i.useCallback)((function(){var e=f.shelfHeaderFactory().titleFactory().hitUiNavigate({destination:null!=N?N:""});g.logInteraction(e)}),[g,N,f]),E=(0,i.useCallback)((function(){var e=f.shelfHeaderFactory().seeAllButtonFactory().hitUiNavigate({destination:null!=N?N:""});g.logInteraction(e)}),[g,N,f]),C=(0,v.Wi)(f),P=S.items;return(0,A.jsx)(zt.JL,{value:"shelf/discography",children:(0,A.jsx)(se.P,{total:S.totalCount,title:l.ag.get("artist-page.discography"),seeAllUri:N,alwaysShowSeeAll:!0,className:on.Z.artistShelfSpacer,renderSubHeader:b,onClickShelfTitle:_,onClickShelfSeeAll:E,elementRef:C,children:(O=P,w=O[0],w&&"releases"in w?(0,je.Hr)(P):P).map((function(e,t){var i;return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(st.i,ln(ln({latest:e.uri===(null===(i=a.latest)||void 0===i?void 0:i.uri),showType:!0},(0,je.B$)(e,n,r)),{},{index:t}))},e.uri)}))})})},un=n(56014),dn=n(77600),pn=n(71062),mn=n(97422);const fn="artist-artistOffers-item",vn="artist-artistOffers-pic",gn="artist-artistOffers-info",hn="artist-artistOffers-name",kn="artist-artistOffers-description",yn="artist-artistOffers-icon";var bn=function(e){var t,n,r=e.offer,a=e.index,o=e.spec,s=e.titleVariant,l=r.name,c=r.uri,u=r.description,p=r.image,m=r.url,f=(0,v.$P)(),g=(0,i.useMemo)((function(){return o.merchCardFactory({identifier:c,uri:m||"",position:a})}),[m,c,o,a]),h=(0,v.Wi)(g);if(!l||!m)return null;var k=function(e){null==e||e.stopPropagation();var t=g.hitNavigateToExternalUri({destination:m});f.logInteraction(t)};return(0,A.jsxs)("div",{className:fn,ref:h,onClick:function(){k(),window.open(m,"_blank")},children:[(null==p||null===(t=p.sources)||void 0===t?void 0:t[0].url)&&(0,A.jsx)(mn.Ee,{src:null===(n=p.sources)||void 0===n?void 0:n[0].url,className:vn,alt:l,width:"48",height:"48",loading:"lazy"}),(0,A.jsxs)("div",{className:gn,children:[(0,A.jsx)(pn.w,{label:l,children:(0,A.jsx)(d.D,{as:"a",href:m,target:"_blank",onClick:k,variant:s,semanticColor:"textBase",className:hn,"":"offer-name",children:l})}),(0,A.jsx)(pn.w,{label:u,children:(0,A.jsx)(d.D,{as:"p",variant:"mesto",className:kn,children:u})})]}),(0,A.jsx)(dn.T,{iconSize:16,className:yn,"aria-hidden":"true"})]})},Sn=function(e){var t=e.items,n=e.className,i=e.merchVariant,r=e.artistId,a=void 0===r?"":r,o=e.variant,s=void 0===o?"balladBold":o,l=(0,v.fU)(un.createDesktopMerchShelfEventFactory,{data:{identifier:a,uri:(0,je.qo)(a),position:0,reason:i}}).spec;return(0,A.jsx)("ul",{className:n,children:t.map((function(e,t){return(0,A.jsx)("li",{children:(0,A.jsx)(bn,{offer:e,index:t,spec:l,titleVariant:s})},e.uri+t)}))})},xn=(n(40265),n(62823));const On="BxWZVeSkJYTZvJszQA00",wn="V7hhS29KAz1C2kTHrKd_";var Nn=function(e){var t=e.prerelease,n=t.coverArt[0],i=(0,xn.R)(t.albumType);return(0,A.jsxs)("div",{className:On,children:[(0,A.jsx)(m.Link,{to:t.uri,children:(0,A.jsx)(mn.Ee,{src:n.url,alt:t.title,width:"76",height:"76",loading:"eager"})}),(0,A.jsxs)("div",{className:wn,children:[(0,A.jsx)(m.Link,{to:t.uri,children:(0,A.jsx)(d.D,{as:"div",variant:"mestoBold",semanticColor:"textBase",children:t.title})}),(0,A.jsx)(d.D,{as:"div",variant:"mesto",children:i})]})]})},_n=function(e){var t=e.prerelease;return(0,A.jsxs)("div",{children:[(0,A.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:l.ag.get("web-player.artist.upcoming-release")}),(0,A.jsx)(Nn,{prerelease:t})]})};var En=n(35833),Cn=n(94715),Pn=n(8161),In=n(54691);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tn=i.memo((function(e){var t=e.uri,n=e.artist,r=n.name,a=n.sharingInfo,o=n.verified,s=n.monthlyListeners,c=n.headerImage,u=c.sources,d=c.extractedColors,p=n.avatarImage,m=p.sources,f=p.extractedColors,g=e.togglePlay,h=e.isPlaying,k=e.spec,y=e.isActive,b=(0,v.$P)(),S=(0,i.useMemo)((function(){return k.topBarFactory()}),[k]),x=(0,v.Wi)(S),O=(0,i.useMemo)((function(){return k.topBarFactory().playButtonFactory()}),[k]),w=i.useCallback((function(){var e=(0,Wt.aK)({isPlaying:h,isActive:y,spec:O,logger:b,uri:t});g({loggingParams:e})}),[g,h,y,t,O,b]),N={backgroundColor:(0,Pn.Y)((null==d?void 0:d.colorRaw.hex)||(null==f?void 0:f.colorRaw.hex)||null)},_=u.length>0;return _&&(N.backgroundImages=u),(0,A.jsxs)(Fe.gF,An(An({},N),{},{children:[(0,A.jsxs)(En.W,{ref:x,children:[(0,A.jsx)(Me.$,{size:"md",onClick:w,isPlaying:h,uri:t}),(0,A.jsx)(Le.i,{text:r,dragUri:t,dragLabel:r})]}),_?null:(0,A.jsx)(In._,{menu:(0,A.jsx)(Tt.m,{uri:t,sharingInfo:a}),children:(0,A.jsx)(Fe.Oz,{dragUri:t,images:(m||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),name:r,placeholderType:"artist",shape:Fe.Kc.CIRCLE})}),(0,A.jsxs)(Fe.sP,{children:[o&&(0,A.jsx)(Cn.S,{text:l.ag.get("artist.verified")}),(0,A.jsx)(In._,{menu:(0,A.jsx)(Tt.m,{uri:t,sharingInfo:a}),children:(0,A.jsx)(Fe.xd,{dragUri:t,dragLabel:r,children:r})}),(0,A.jsx)(Fe.T0,{children:l.ag.get("artist.monthly-listeners-count",s)})]})]}))})),Dn=(n(4302),n(66469),n(8021)),Rn=n(94320),Fn=n(12116);const Ln="yBfmq8hesL_kS3haPkhg",Mn="MFGqgrafYuIqkGao5tt8",Un="Bi8nGSg6ICOJ5Qewu_8C",Zn="lvYe0qVaINdDD2RsAWxQ",Bn="j5t55FylgHL6FVA_fHB5",Vn="vzq0mjreTX3_P6lc_ajx",Hn="wfn24cDtgkkPtlI6x0Rw",Gn="OMZpD7ZSVqraSXPYcpg6",Wn="CrtM2Dansd7c6zWmaWdc",zn="UDmh7e8IT4UIScR2CsmX",Kn="P9u2QJN2z8Jvj0tuHTCe",Yn="Q1KphyoGGEfPCkw9n3cB",qn="eYxyC8G88x1ZCS6lP4u4",Qn="JsATn2ej01PgXNeX_UV3";var Jn=function(){return(0,A.jsxs)("div",{className:Un,children:[(0,A.jsx)(Dn.y,{className:Vn}),(0,A.jsx)(d.D,{as:"div",variant:"balladBold",className:Hn,children:"Exclusive"})]})};var Xn=i.memo((function(e){var t,n=(0,v.$P)(),a=(0,r.UO)().artistId,o=void 0===a?"":a,l=(0,r.TH)().search,c=(0,pe.qo)(o),u=e.avatarImages,p=void 0===u?[]:u,m=e.name,f=e.spec,g=e.item,h=e.comment,k=e.backgroundImage,y=e.isExclusive,b=(0,We.Z)(c),S=(0,s.Z)(b,2),x=S[0],O=S[1],w=function(e,t){var n,i,r,a,o,s,l,c,u,d,p="checkoutUrl"in e;return{checkoutUrl:null!==(n=p?e.checkoutUrl:e.url)&&void 0!==n?n:"",title:null!==(i=p?e.title:e.name)&&void 0!==i?i:"",subtitle:null!==(r=p?e.subtitle:e.price)&&void 0!==r?r:"",backgroundImageUrl:p?null!==(a=null==t||null===(o=t.sources[0])||void 0===o?void 0:o.url)&&void 0!==a?a:"":(c=null!==(s=null===(l=e.image)||void 0===l?void 0:l.sources)&&void 0!==s?s:[],c.length&&null!==(u=null===(d=c.find((function(e){return 640===e.width})))||void 0===d?void 0:d.url)&&void 0!==u?u:"")}}(g,k),N=w.checkoutUrl,_=w.title,E=w.subtitle,C=w.backgroundImageUrl,P=null!==(t=new URLSearchParams(l).get("utm_medium"))&&void 0!==t?t:"",I=y?function(e,t){var n="social-artistpick-exclusive",i=t===n?n:"app-artistpick-exclusive";return"".concat(e,"?utm_medium=").concat(i)}(N,P):N,j=x?"View item":"Follow to view item",T=!!h,D=(0,i.useCallback)((function(){if(y&&!x){var e=f.artworkFactory().hitFollow({itemToBeFollowed:c});n.logInteraction(e),O(!0)}var t=f.artworkFactory().hitNavigateToExternalUri({destination:I});n.logInteraction(t),window.open(I,"_blank","noopener")}),[f,n,I,O,x,c,y]),R=(0,i.useCallback)((function(e){if(e.stopPropagation(),y&&!x){var t=f.linkFactory().hitFollow({itemToBeFollowed:c});n.logInteraction(t),O(!0)}var i=f.linkFactory().hitNavigateToExternalUri({destination:I});n.logInteraction(i)}),[f,n,I,O,x,c,y]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{className:Ln,onClick:D,"":"artist-pick-merch-container",children:[(0,A.jsx)("img",{className:re()(Zn,(0,ne.Z)({},Bn,y&&!x)),src:C,alt:"merch"}),(0,A.jsx)("div",{className:Mn}),(0,A.jsxs)("div",{children:[T&&(0,A.jsxs)("div",{className:re()(Qn,Yn),children:[(0,A.jsx)(Xt.q,{images:p,label:m,width:24,userIconSize:16,className:qn}),(0,A.jsx)(d.D,{variant:"mesto",className:"standalone-ellipsis-one-line",title:h,"":"merch-artist-pick-comment",children:h})]}),(0,A.jsxs)("div",{className:Gn,children:[y&&(0,A.jsx)(Jn,{}),(0,A.jsx)(d.D,{as:"h1",variant:"canon",className:Wn,children:_}),(0,A.jsx)(d.D,{as:"p",variant:"mestoBold",className:zn,children:E}),(0,A.jsx)(Rn.P,{buttonSize:"sm",className:Kn,onClick:R,href:I,component:Fn.Z,"":"artist-pick-merch-button-link",children:y?j:"Go to item"})]})]})]})})})),$n=n(77617),ei=n(75897);const ti="mYvNDps8FDVgHSCzpeqC",ni="KFkFH5Ne5Wmpi2CeJ04j",ii="_J01KVkIVWXWiD__tOsv",ri="DySXXNunbOQfLv1ZKezD",ai="OOmQiEAn7X_8Iy2FBVU2",oi="IMdvero47nmFe0shJfyW",si="bcQYU3hnhbKjQYonBprT",li="N2H1mslT6i_RSEIV_C9r";var ci=function(e){var t=e.artistName,n=e.avatarImages,i=e.backgroundImageUrl,r=e.itemImageUrl,a=e.itemName,o=e.itemType,s=e.itemUri,l=e.comment,c=e.handleLinkClick,u=e.handleArtistPickImageClick,p=e.onDragStart;return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("section",{className:ti,onClick:u,"":"artist-pick-with-background-container",draggable:!0,onDragStart:p,children:[(0,A.jsx)(ei.E,{src:i,alt:"merch",loading:"eager"}),(0,A.jsx)("div",{className:ni}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("section",{className:re()(li,oi),children:[(0,A.jsx)(Xt.q,{images:n,label:t,width:24,userIconSize:16,className:si}),(0,A.jsx)(d.D,{variant:"mesto",className:"standalone-ellipsis-one-line",title:null!=l?l:"",children:l})]}),(0,A.jsxs)("section",{className:ii,children:[(0,A.jsx)("div",{children:(0,A.jsx)(ei.E,{src:r,className:ri,alt:"",width:"76",height:"76",loading:"eager"})}),(0,A.jsxs)("div",{className:ai,children:[(0,A.jsx)(d.D,{as:"div",variant:"balladBold",children:(0,A.jsx)(m.default,{to:s,onClick:c,"":"artist-pick-link",children:a})}),(0,A.jsx)(d.D,{as:"div",variant:"mesto",children:o})]})]})]})]})})};const ui="_1CRNzNyAMFxnnS30JUo",di="shpD56313Kzaevyqt80w",pi="o6lOM3qmit24hWlOBbw0",mi="_GJZaoUD9ozPvCUDT2Mp",fi="wzbBvk50RY186L5jDZ8D",vi="M_ZRz3M4W6DAmrdtrzvT",gi="A2Wpa1NZBcZzFHgAy512",hi="ydlidzq2hSQrvGXn7yni";function ki(e,t){switch(t){case Ie.p2.Album:switch(e.type){case Ie.VZ.Album:return l.ag.get("album");case Ie.VZ.Single:return l.ag.get("single");case Ie.VZ.Compilation:return l.ag.get("compilation");case Ie.VZ.Ep:return l.ag.get("ep");default:return l.ag.get("album")}case Ie.p2.Artist:return l.ag.get("artist");case Ie.p2.Playlist:return l.ag.get("playlist");case Ie.p2.Track:return l.ag.get("song");case Ie.p2.Episode:return l.ag.get("card.tag.episode");default:return""}}function yi(e,t){switch(t){case Ie.p2.Album:case Ie.p2.Playlist:case Ie.p2.Track:case Ie.p2.Episode:return e.name||"";case Ie.p2.Artist:return e.profile.name||"";default:return""}}var bi=[Ie.p2.Album,Ie.p2.Artist,Ie.p2.Concert,Ie.p2.Playlist,Ie.p2.Track,Ie.p2.ExclusiveMerch,Ie.p2.Merch,Ie.p2.Episode];function Si(e,t){return bi.includes(t)}var xi=i.memo((function(e){var t,n=e.avatarImages,a=void 0===n?[]:n,s=e.name,c=e.pinnedItem,u=e.className,p=void 0===u?"":u,f=e.spec,g=c.comment,h=c.type,k=c.item,y=(0,v.$P)(),b=(0,r.s0)(),S=(0,Ze.O)([Si(0,h)?k.uri:""],Si(0,h)?yi(k,h):""),x=(0,i.useCallback)((function(){if(Si(0,h)){var e=f.artworkFactory().hitUiNavigate({destination:(0,o.EC)(k.uri).toURLPath(!0)});y.logInteraction(e),b((0,o.EC)(k.uri).toURLPath(!0))}}),[k,h,f,y,b]),O=(0,i.useCallback)((function(){if(Si(0,h)){var e=f.linkFactory().hitUiNavigate({destination:(0,o.EC)(k.uri).toURLPath(!0)});y.logInteraction(e),b((0,o.EC)(k.uri).toURLPath(!0))}}),[k,h,f,y,b]);if(!Si(0,h))return null;var w=function(e,t){var n;switch(t){case Ie.p2.Album:return e.coverArt;case Ie.p2.Artist:return e.visuals.avatarImage;case Ie.p2.Playlist:return e.images.items[0]||null;case Ie.p2.Track:return(null==e||null===(n=e.album)||void 0===n?void 0:n.coverArt)||null;case Ie.p2.Episode:var i,r=(0,Qt.X)(null==e||null===(i=e.coverArt)||void 0===i?void 0:i.sources,{desiredHeight:300});return r?{sources:[r]}:null;default:return null}}(k,h),N=null==w||null===(t=w.sources[0])||void 0===t?void 0:t.url,_=!!g,E=g||l.ag.get("acq.artist.about.attribution",{artist:s}),C=(0,Ut.createDesktopOnTourSectionEventFactory)({data:{uri:k.uri,position:0,reason:"Artist pick: Concert"}});var P=function(){var e,t;if([Ie.p2.Merch,Ie.p2.ExclusiveMerch].includes(h)&&("checkoutUrl"in k||"url"in k))return(0,A.jsx)(Xn,{name:s,item:k,comment:g,backgroundImage:c.backgroundImage,avatarImages:a,spec:f,isExclusive:h===Ie.p2.ExclusiveMerch});if(Ie.p2.Concert===h&&"venue"in k)return(0,A.jsx)($n.A,{concert:k,spec:C});var n,i="uri"in k?k.uri:"";return null!==(e=c.backgroundImage)&&void 0!==e&&e.sources[0].url?(0,A.jsx)(ci,{avatarImages:a,artistName:s,itemName:yi(k,h),itemType:ki(k,h),itemUri:i,itemImageUrl:null!=N?N:"",comment:E,backgroundImageUrl:null==c||null===(n=c.backgroundImage)||void 0===n?void 0:n.sources[0].url,handleArtistPickImageClick:x,handleLinkClick:O,onDragStart:S}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{onClick:x,className:pi,onDragStart:S,draggable:!0,"":"artist-pick-image-container",children:(0,A.jsx)(ei.E,{src:N,className:mi,alt:"",width:"76",height:"76",loading:"eager"})}),(0,A.jsxs)("div",{onDragStart:S,draggable:!0,children:[(0,A.jsxs)("div",{className:re()((t={},(0,ne.Z)(t,fi,!0),(0,ne.Z)(t,hi,_),t)),children:[(0,A.jsx)(Xt.q,{images:a,label:s,width:24,userIconSize:16,className:vi}),(0,A.jsx)(d.D,{variant:"mesto",className:"standalone-ellipsis-one-line",title:E,children:E})]}),(0,A.jsx)(d.D,{as:"div",variant:"balladBold",children:(0,A.jsx)(m.default,{to:i,onClick:O,"":"artist-pick-link",children:yi(k,h)})}),(0,A.jsx)(d.D,{as:"div",variant:"mesto",className:gi,children:ki(k,h)})]})]})}();return(0,A.jsxs)("div",{className:p,children:[(0,A.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:ui,children:l.ag.get("artist-page.artists-pick")}),(0,A.jsx)("div",{className:di,children:P})]})})),Oi=n(44738);const wi="QWAQMuWlIwVfc5Cv7hXp",Ni="GTVQoci5Dn2bPcwcH0Np",_i="ljuooUtXELNQsWeYrMT2",Ei="SxHlW6byhoJSUJNugaE1",Ci="Kujbn0F68QOf_o44cNxw",Pi="k6Nq7pavAmiyJlxj52QA";var Ii=function(e){var t=e.uri,n=e.name,a=e.nrTracks,s=e.avatarImages,c=void 0===s?[]:s,u=e.className,p=void 0===u?"":u,f=e.spec,g=(0,v.$P)(),h=(0,r.s0)(),k=(0,i.useCallback)((function(){var e=f.artistFactory().hitUiNavigate({destination:(0,o.EC)(t).toURLPath(!0)});g.logInteraction(e),h((0,o.EC)(t).toURLPath(!0))}),[f,t,g,h]),y=(0,i.useCallback)((function(){var e=f.linkFactory().hitUiNavigate({destination:(0,o.EC)(t).toURLPath(!0)});g.logInteraction(e)}),[f,g,t]);return(0,A.jsxs)("div",{className:p,children:[(0,A.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:wi,children:l.ag.get("artist-page.saved-header")}),(0,A.jsxs)("div",{className:Ni,children:[(0,A.jsxs)("div",{onClick:k,className:Ei,"":"saved-tracks-avatar",children:[(0,A.jsx)(Xt.q,{images:c,label:n,width:76,userIconSize:76}),(0,A.jsx)("div",{className:Ci,children:(0,A.jsx)(Oi.a,{iconSize:14,className:Pi})})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)(d.D,{as:"div",variant:"balladBold",children:(0,A.jsx)(m.default,{to:t,onClick:y,"":"saved-tracks-link",children:l.ag.get("artist-page.saved-tracks-amount",a)})}),(0,A.jsx)(d.D,{as:"div",variant:"mesto",className:_i,children:l.ag.get("artist-page.saved-by-artist",n)})]})]})]})},ji=n(14338),Ai=n(2472),Ti=n(43409),Di=n(98148),Ri=n(14268),Fi=n(31386),Li=n(54138),Mi=n(51984),Ui=n(31334);const Zi="WurdECaSIWEDCAelx7w5",Bi="tt98tU3O5e2jDDowFL6z",Vi="APTePLeQgkNrGdSs2Alg",Hi="HvcHz2IVNHf5ZbDl51cs",Gi="L5eh0Met537t6kO60mNQ",Wi="clPmbX_PddNTEskYgCmD",zi="mMy1f_odFmYIRsmkfypf",Ki="MXwdYKAc77WRko8xteYw",Yi="VNuCxmZmIgPXKjfLYWpc",qi="LNdxeogS1DTFRF8I4a4K",Qi="YkN2KPIwz6Dp7MQWiWkS",Ji="rsKWAzku_ny3zrfnZ5Dy",Xi="iIyvKzoN1NVJlt_gtzRg",$i="Am_X_wIkQA2_gcMHrhXb",er="nVLjPE6F7eG6vGRUizPo",tr="e9BLOqb7gQobVLk7kMX2";var nr=function(e){var t=e.userStats.map((function(e,t){return(0,A.jsx)(Li.S,{className:Xi,children:(0,A.jsx)(Mi.p,{colSpan:4,className:$i,children:(0,A.jsxs)("div",{className:qi,children:[(0,A.jsx)("div",{className:Qi,children:t+=1}),(0,A.jsx)(Ti.E,{src:e.profileImg,circle:!0,imageHeight:"50px",imageWidth:"50px"}),(0,A.jsxs)("div",{className:Ji,children:[(0,A.jsx)(d.D,{as:"p",children:e.displayName}),(0,A.jsxs)(d.D,{as:"p",className:er,children:[e.minutesPlayed,"m"]})]})]})})},t)}));return(0,A.jsxs)(Ui.i,{className:Yi,children:[(0,A.jsxs)("colgroup",{children:[(0,A.jsx)("col",{}),(0,A.jsx)("col",{width:"50%"}),(0,A.jsx)("col",{width:"50%"})]}),(0,A.jsx)("tbody",{children:t})]})},ir=n(69106),rr=n(42336),ar=n(94064),or=n(63892);const sr="YeGMtF6vRIbGdEJu4MIu",lr="tUGhhVg39aIVc8QBnyNI",cr="dRW8iJPl0gFGFpInjRqq",ur="HzIF8d4fZBYLPFtcRoZm",dr="cIScgQhFRNDKZCkEvnpz",pr="upvnuAPOXH03rJqCkufN",mr="rZaBsXwddIq7T58BZgQ0",fr="a7a06RGAUbQV0JT_omh_",vr="oaV8DrzmGf70bXqNyPAd",gr="ErPUlvL_0ZqhBOWnp9EZ",hr="QhodJD5vJTcQNtg4wCAU";var kr=function(e){var t=e.setShowLeaderboard,n=e.setShowLeaderboardShareCard,i=e.artistInfo,r=e.currentUserInfo,a=r.minutesPlayed,o=r.percentile,s=r.profileImg;return(0,A.jsx)(ir.l,{"aria-label":"Title",id:"dialogAlert",colorSet:"mutedAccent",className:sr,body:(0,A.jsxs)("div",{className:lr,children:[(0,A.jsx)("div",{className:cr,children:(0,A.jsx)(Di.o,{"aria-label":"close-share-card",iconOnly:rr.e,onClick:function(){return n(!1)}})}),(0,A.jsx)("div",{className:ur,children:(0,A.jsx)(Di.o,{"aria-label":"close-leaderboard-dialog",iconOnly:Ri.k,onClick:function(){return t(!1)},buttonSize:"sm"})}),(0,A.jsxs)("div",{className:dr,children:[(0,A.jsxs)("div",{className:pr,children:[(0,A.jsxs)("div",{className:mr,children:[(0,A.jsx)(Ti.E,{circle:!0,imageHeight:"100px",imageWidth:"100px",src:s,className:fr,style:{gridColumnStart:1,zIndex:1}}),(0,A.jsx)(Ti.E,{circle:!0,imageHeight:"100px",imageWidth:"100px",src:i.profileImg,className:fr,style:{gridColumnStart:4}})]}),(0,A.jsxs)(d.D,{as:"p",variant:"finale",children:[(0,A.jsxs)("span",{className:vr,children:[a,"M"]})," ","STREAMED THIS WEEK"]}),(0,A.jsxs)(d.D,{as:"p",variant:"alto",className:gr,children:["I'M IN THE",(0,A.jsxs)("span",{className:vr,children:[o,"%"]})," ","OF ",(0,A.jsx)("span",{children:i.displayName.toUpperCase()})," LISTENERS THIS WEEK."]}),(0,A.jsx)("div",{className:hr,children:(0,A.jsx)(ar.V,{iconSize:32})})]}),(0,A.jsx)(or.D,{"aria-label":"share-button",colorSet:"invertedLight",children:"Share this"})]})]})})},yr=function(e){var t=e.setShowLeaderboard,n=e.artistInfo,r=e.currentUserInfo,a=e.userStats,o=(0,i.useState)(!1),l=(0,s.Z)(o,2),c=l[0],u=l[1];return(0,A.jsx)(ji.Y,{center:!0,withPortal:!0,children:c?(0,A.jsx)(kr,{setShowLeaderboard:t,setShowLeaderboardShareCard:u,artistInfo:n,currentUserInfo:r}):(0,A.jsx)(Ai.d,{className:Zi,dialogTitle:(0,A.jsxs)("div",{className:Bi,children:[(0,A.jsx)(Ti.E,{src:"https://i.scdn.co/image/a8f3fe2c87edf4f67acb629d832e65846c451afc",className:Vi,circle:!0,imageHeight:"40px",imageWidth:"40px"}),(0,A.jsx)(Ti.E,{src:n.profileImg,className:Hi,circle:!0,imageHeight:"60px",imageWidth:"60px"}),(0,A.jsx)("div",{className:Gi,children:(0,A.jsx)(d.D,{as:"p",children:n.displayName})}),(0,A.jsx)("div",{className:Wi,children:(0,A.jsxs)(d.D,{as:"p",children:["You listened to ",n.displayName," for"," ",(0,A.jsxs)("span",{className:tr,children:[r.minutesPlayed,"m"]})," ","this week, putting you in the top"," ",(0,A.jsxs)("span",{className:tr,children:[r.percentile,"%"]})," ","of spotify employees."]})}),(0,A.jsx)("div",{className:zi,children:(0,A.jsx)(Di.o,{iconOnly:Ri.k,buttonSize:"sm",semanticColor:"textSubdued",onClick:function(){return t(!1)}})}),(0,A.jsx)("div",{className:Ki,children:(0,A.jsx)(Di.o,{iconOnly:Fi.o,buttonSize:"lg",onClick:function(){return u(!0)}})})]}),"aria-label":"Title",id:"dialogAlert",colorSet:"mutedAccent",footer:(0,A.jsx)(nr,{userStats:a})})})},br=n(72032),Sr=n(66388),xr=n(74620);const Or="a3Nne2VCH_BelS2gV1JL",wr="CBCh09tJlDipZ5KZejwv",Nr="E13YocWAYgBQAfXg7Ulb",_r="BFzOQ2NMM5vmz4jwkWcG";var Er=(0,i.memo)((function(e){var t=e.artistId,n=(0,xr.v)(),r=(0,i.useState)(!1),a=(0,s.Z)(r,2),o=a[0],l=a[1],c=(0,i.useState)(),u=(0,s.Z)(c,2),p=u[0],m=u[1];if((0,i.useEffect)((function(){(0,y.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get("https://spclient.wg.spotify.com/leaderboard-artist-service/v1/leaderboardartist/".concat(t)).then(m);case 2:case"end":return e.stop()}}),e)})))()}),[t,n]),!p)return(0,A.jsx)(br.T,{});var f=p.artistInfo,v=p.currentUserInfo,g=p.userStats,h=g.slice(0,3).map((function(e,t){return(0,A.jsx)(i.Fragment,{children:e.profileImg?(0,A.jsx)(Ti.E,{circle:!0,imageHeight:"50px",imageWidth:"50px",src:e.profileImg,className:Nr,style:{gridColumnStart:t+1}}):(0,A.jsx)(Sr.f,{iconSize:32,className:Nr,style:{gridColumnStart:t+1}})},t)}));return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("button",{onClick:function(){l(!0)},className:Or,children:[(0,A.jsx)("div",{className:wr,children:h}),(0,A.jsxs)("div",{className:_r,children:[(0,A.jsx)(d.D,{as:"p",variant:"violaBold",semanticColor:"textBase",children:"View Employee Leaderboard"}),(0,A.jsxs)(d.D,{as:"p",children:["You're in the top ",v.percentile,"% of Listeners"]})]})]}),o?(0,A.jsx)(yr,{setShowLeaderboard:l,artistInfo:f,currentUserInfo:v,userStats:g}):null]})})),Cr=n(39630);function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(e){return null!=e}var Ar=i.memo((function(){var e,t,n,a,o=(0,r.UO)().artistId,u=void 0===o?"":o,p=(0,ve.W6)(Ne.CM),m=(0,je.qo)(u),f=(0,We.Z)(m),g=(0,s.Z)(f,2),h=g[0],k=g[1],b=(0,Be.o)(),x=(0,ve.W6)(Ne.EW),O=(0,ve.W6)(Ne.eQ),w=(0,ve.W6)(Ne.yr),N=(0,ve.W6)(Ne.XF),_=(0,v.fU)(It.V,{data:{identifier:u,uri:m}}),E=_.spec,C=_.logger,P=_.UBIFragment,I=i.useMemo((function(){return E.headerFactory()}),[E]),j=i.useMemo((function(){return E.actionBarFactory()}),[E]),T=i.useMemo((function(){return E.featuredFactory().popularTracksFactory()}),[E]),D=i.useMemo((function(){return E.offersFactory()}),[E]),R=(0,Cr.z)(m),F=R.loading,L=R.error,M=R.data,U=(0,Pe.n)({uri:m},{featureIdentifier:"artist"}),Z=U.isPlaying,B=U.togglePlay,V=U.usePlayContextItem,H=U.isActive,G=i.useCallback((function(){var e=(0,Wt.aK)({isPlaying:Z,isActive:H,spec:j.playButtonFactory(),logger:C,uri:m});B({loggingParams:e})}),[B,H,Z,m,j,C]),W=(0,Kt.MY)({offset:0,limit:1,uri:m}),z=(0,i.useCallback)((0,y.Z)(S().mark((function e(){var t,n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({targetUri:m,intent:h?"unsave":"save",type:"click"}),t=E.actionBarFactory().followButtonFactory().hitFollow({itemToBeFollowed:m}),n=E.actionBarFactory().followButtonFactory().hitUnfollow({itemToBeUnfollowed:m}),C.logInteraction(h?n:t),e.prev=4,e.next=7,k(!h);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:case"end":return e.stop()}}),e,null,[[4,9]])}))),[b,m,h,k,E,C]);if(null===M||null===M.artistUnion||"Artist"!==(null===(e=M.artistUnion)||void 0===e?void 0:e.__typename)||L||F)return(0,A.jsx)(c.h,{hasError:null!==L,errorMessage:l.ag.get("error.request-artist-failure")});var K,Y,q,Q=null==M||null===(t=M.artistUnion)||void 0===t?void 0:t.profile.name,J=M.artistUnion,X=J.relatedContent.relatedArtists.items,$=J.sharingInfo,ee=J.relatedContent.featuringV2.items,te=J.discography.latest,ie=J.discography.popularReleasesAlbums,ae=ie.totalCount,se=ie.items,le=ae||se.length,ce=(0,je.Hr)(J.relatedContent.appearsOn.items),de=J.discography.topTracks.items.map((function(e){return(0,pe.X7)(e,m)})),me=J.relatedContent.discoveredOnV2.items,fe=J.stats,ge=fe.monthlyListeners,he=fe.followers,ke=fe.worldRank,ye=fe.topCities,be=J.preRelease,Se=J.profile,xe=Se.name,Oe=Se.verified,we=Se.pinnedItem,Ee=Se.biography,Ce=Se.externalLinks,Ae=Se.playlistsV2,Te=J.visuals,Re=Te.headerImage,Fe=Te.avatarImage,Le=Te.gallery,Ue=J.goods,Ze=Ue.events,Ve=Ue.merch,He=(K=be)&&null!==(Y=K.releaseDate)&&void 0!==Y&&Y.isoString&&K.preReleaseContent&&K.preReleaseContent.name&&null!==(q=K.preReleaseContent.coverArt)&&void 0!==q&&q.sources?0===K.preReleaseContent.coverArt.sources.length?null:{albumType:K.preReleaseContent.type,title:K.preReleaseContent.name,uri:K.uri,releaseDate:new Date(K.releaseDate.isoString),coverArt:K.preReleaseContent.coverArt.sources}:null,ze=O&&He,Ke=w&&(null==W?void 0:W.totalLength)||ze||!!we,Ye=we?Ir(Ir({},we),{},{item:(0,pe.MF)(we)}):null,qe=(te?[te].concat((0,ue.Z)(se)):se).filter(jr).filter((function(e,t,n){return n.map((function(e){return e.uri})).indexOf(e.uri)===t})),Qe=(null==Re||null===(n=Re.extractedColors)||void 0===n?void 0:n.colorRaw.hex)||(null==Fe||null===(a=Fe.extractedColors)||void 0===a?void 0:a.colorRaw.hex)||Pt.Sns;return(0,A.jsxs)("div",{className:on.Z.overview,children:[(0,A.jsx)(oe.$,{children:(0,Yt.Kw)({artistName:Q})}),(0,A.jsx)(Tn,{uri:m,artist:{sharingInfo:$,monthlyListeners:ge||0,name:xe,verified:Oe||!1,headerImage:Re||{sources:[],extractedColors:null},avatarImage:Fe||{sources:[],extractedColors:null}},togglePlay:B,isPlaying:Z,isActive:H,spec:I}),(0,A.jsxs)("div",{className:on.Z.artistOverviewContent,children:[(0,A.jsxs)(jt.o,{backgroundColor:Qe,children:[(0,A.jsxs)(jt.F,{children:[(0,A.jsx)(Me.$,{size:"lg",onClick:G,isPlaying:Z,uri:m}),(0,A.jsx)(Dt.r,{children:(0,A.jsx)(Rt.e,{isFollowing:h,onClick:z})}),(0,A.jsx)(Ge.y,{menu:(0,A.jsx)(Tt.m,{uri:m,sharingInfo:$}),children:(0,A.jsx)(De.z,{label:l.ag.get("more.label.context",xe)})})]}),p?(0,A.jsx)(Er,{artistId:u}):null]}),(0,A.jsxs)("div",{className:"contentSpacing",children:[(0,A.jsx)("div",{children:(0,A.jsx)(_e.T,{render:function(e){var t=e.columnCount,n={"--column-count":t};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:re()(on.Z.popularTracks,(0,ne.Z)({},on.Z.popularTracksBlock,t<5||!Ke)),style:Ir({},n),children:[(0,A.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:on.Z.heading,children:l.ag.get("artist.popular-tracks")}),de.length?(0,A.jsx)(P,{spec:T,children:(0,A.jsx)(Lt.k,{nrTracks:de.length,initialTracks:de,usePlayContextItem:V})}):null]}),ze&&be?(0,A.jsx)(_n,{prerelease:He}):null,w&&null!=W&&W.totalLength?(0,A.jsx)(Ii,{className:re()(on.Z.sideBlock),uri:"".concat((0,je.GJ)(u),":saved"),name:xe,nrTracks:W.totalLength,avatarImages:null==Fe?void 0:Fe.sources,spec:E.featuredFactory().likedSongsFactory()}):null,Ye?(0,A.jsx)(xi,{className:re()(on.Z.sideBlock),avatarImages:null==Fe?void 0:Fe.sources,name:xe,pinnedItem:Ye,spec:E.featuredFactory().pickedFactory()}):null]})},className:on.Z.artistOverviewContainer})}),(0,A.jsxs)(P,{spec:E,children:[(0,A.jsx)(Ft.F,{property:Ne.EW,renderOldExperience:function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(zt.JL,{value:"shelf/popular-releases",children:(0,A.jsx)(Mt.q,{total:le+(te?1:0),title:l.ag.get("artist-page.popular"),className:on.Z.artistShelfSpacer,index:0,id:"popular-releases",children:qe.map((function(e,t){return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(st.i,Ir({index:t,latest:e.uri===(null==te?void 0:te.uri),showType:!0},(0,je.B$)(e,m,xe)))},e.uri)}))})}),(0,A.jsx)(zt.JL,{value:"shelf/albums",children:(0,A.jsx)(Mt.q,{total:J.discography.albums.totalCount,title:l.ag.get("artist.albums"),seeAllUri:"".concat((0,je.GJ)(u),":discography:").concat(Ie.VZ.Album.toLowerCase()),seeAllLabel:l.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:on.Z.artistShelfSpacer,index:1,id:"albums",children:(0,je.Hr)(J.discography.albums.items).map((function(e,t){return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(st.i,Ir({index:t,latest:e.uri===(null==te?void 0:te.uri),showType:!0},(0,je.B$)(e,m,xe)))},e.uri)}))})}),(0,A.jsx)(zt.JL,{value:"shelf/singles-and-eps",children:(0,A.jsx)(Mt.q,{total:J.discography.singles.totalCount,title:l.ag.get("artist.singles"),seeAllUri:"".concat((0,je.GJ)(u),":discography:").concat(Ie.VZ.Single.toLowerCase()),seeAllLabel:l.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:on.Z.artistShelfSpacer,index:2,id:"singles-and-eps",children:(0,je.Hr)(J.discography.singles.items).map((function(e,t){return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(st.i,Ir({index:t,latest:e.uri===(null==te?void 0:te.uri),showType:!0},(0,je.B$)(e,m,xe)))},e.uri)}))})}),(0,A.jsx)(zt.JL,{value:"shelf/compilations",children:(0,A.jsx)(Mt.q,{total:J.discography.compilations.totalCount,title:l.ag.get("artist.compilations"),seeAllUri:"".concat((0,je.GJ)(u),":discography:").concat(Ie.VZ.Compilation.toLowerCase()),seeAllLabel:l.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:on.Z.artistShelfSpacer,index:3,id:"compilations",children:(0,je.Hr)(J.discography.compilations.items).map((function(e,t){return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(st.i,Ir({index:t,latest:e.uri===(null==te?void 0:te.uri),showType:!0},(0,je.B$)(e,m,xe)))},e.uri)}))})})]})},renderNewExperience:function(){return(0,A.jsx)(cn,{discography:J.discography,artistId:u,artistUri:m,artistName:xe,shelfIndex:0,spec:E})}}),(0,A.jsx)(zt.JL,{value:"shelf/featuring",children:(0,A.jsx)(Mt.q,{total:ee.length,title:l.ag.get("artist-page.featuring",xe),seeAllUri:"".concat((0,je.GJ)(u),":featuring"),className:on.Z.artistShelfSpacer,index:x?1:4,id:"featuring",children:ee.map((function(e,t){if("Playlist"===e.data.__typename){var n,i,r,a=e.data,o="User"===a.ownerV2.data.__typename&&a.ownerV2.data.name||a.name;return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(xt.Z,{index:t,uri:a.uri,name:a.name,authorName:o,description:a.description||"",images:(null===(n=a.images)||void 0===n||null===(i=n.items)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.sources)||[]},a.uri)},a.uri)}return null}))})}),Ze.concerts.items&&Ze.concerts.items.length>0&&(0,A.jsx)(Ht,{artistId:u,total:Ze.concerts.totalCount,concerts:Ze.concerts.items}),N===Ne.sM.VARIANTB&&Ve.items.length>0&&(0,A.jsx)(P,{spec:D,children:(0,A.jsx)(Gt.s,{id:u,uri:(0,je.qo)(u),merchItems:Ve.items,merchVariant:N})}),(0,A.jsx)(zt.JL,{value:"shelf/fans-also-like",children:(0,A.jsx)(Mt.q,{total:X.length,title:l.ag.get("artist-page.fansalsolike"),seeAllUri:"".concat((0,je.GJ)(u),":related"),className:on.Z.artistShelfSpacer,index:x?2:5,id:"fans-also-like",children:X.map((function(e,t){var n;return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(At.I,{index:t,uri:e.uri,name:e.profile.name,images:(null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources)||[]})},e.uri)}))})}),(0,A.jsx)(zt.JL,{value:"shelf/appears-on",children:(0,A.jsx)(Mt.q,{total:ce.length,title:l.ag.get("artist.appears-on"),seeAllUri:"".concat((0,je.GJ)(u),":appears-on"),className:on.Z.artistShelfSpacer,index:x?3:6,id:"appears-on",children:ce.map((function(e,t){return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(st.i,Ir({index:t,showType:!0},(0,pe.pf)(e)))},e.uri)}))})}),Ae.items.length?(0,A.jsx)(zt.JL,{value:"shelf/artist-playlists",children:(0,A.jsx)(Mt.q,{total:Ae.totalCount,title:l.ag.get("artist-page.artist-playlists"),seeAllUri:"".concat((0,je.GJ)(u),":playlists"),className:on.Z.artistShelfSpacer,index:x?4:7,id:"artist-playlists",children:Ae.items.map((function(e,t){if("Playlist"===e.data.__typename){var n,i,r,a=e.data,o="User"===a.ownerV2.data.__typename&&a.ownerV2.data.name||a.name;return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(xt.Z,{index:t,uri:a.uri,name:a.name,authorName:o,description:a.description||"",images:(null===(n=a.images)||void 0===n||null===(i=n.items)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.sources)||[]},a.uri)},a.uri)}return null}))})}):null,(0,A.jsx)(zt.JL,{value:"shelf/discovered-on",children:(0,A.jsx)(Mt.q,{total:me.length,title:l.ag.get("artist-page.discovered-on",xe),seeAllUri:"".concat((0,je.GJ)(u),":discovered-on"),className:on.Z.artistShelfSpacer,index:x?5:8,id:"discovered-on",children:me.map((function(e,t){if("Playlist"===e.data.__typename){var n,i,r,a=e.data,o="User"===a.ownerV2.data.__typename&&a.ownerV2.data.name||a.name;return(0,A.jsx)(zt.JL,{value:"card",index:t,children:(0,A.jsx)(xt.Z,{index:t,uri:a.uri,name:a.name,authorName:o,description:a.description||"",images:(null===(n=a.images)||void 0===n||null===(i=n.items)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.sources)||[]},a.uri)},a.uri)}return null}))})})]}),(0,A.jsx)(_e.T,{render:function(e){var t=e.columnCount;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(rn,{className:on.Z.about,artistUri:J.uri,name:xe,avatarImages:null==Fe?void 0:Fe.sources.map(qt.Bi),bio:(null==Ee?void 0:Ee.text)||"",bioSource:(null==Ee?void 0:Ee.type)||Ie.Yk.Biography,images:Le.items.map((function(e){var t=e.sources.map(qt.Bi);return(0,Qt.X)(t,{desiredLabel:"large",desiredSize:600})})).filter(jr),worldRank:ke||0,monthlyListeners:ge,topCities:ye.items||[],followers:he,externalLinks:null==Ce?void 0:Ce.items,spec:E.aboutFactory()}),N===Ne.sM.DEFAULT&&Ve.items.length?(0,A.jsxs)("div",{className:re()(on.Z.merch,(0,ne.Z)({},on.Z.merchSmall,t<4)),children:[(0,A.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:on.Z.heading,children:l.ag.get("artist-page.merch")}),(0,A.jsx)(P,{spec:D,children:(0,A.jsx)(Sn,{items:Ve.items,artistId:u,merchVariant:N})})]}):null]})}}),N===Ne.sM.VARIANTA&&Ve.items.length>0&&(0,A.jsx)(P,{spec:D,children:(0,A.jsx)("div",{className:on.Z.merchShelfContent,children:(0,A.jsx)(Gt.s,{id:u,uri:(0,je.qo)(u),merchItems:Ve.items,merchVariant:N})})})]})]})]})})),Tr=i.memo((function(){return(0,A.jsx)(i.Suspense,{fallback:null,children:(0,A.jsx)(Ar,{})})})),Dr=i.memo((function(){var e,t,n=(0,r.UO)().artistId,i=void 0===n?"":n,a=(0,pe.qo)(i),o=(e={uri:a},t={cacheTime:15*ce.y},(0,ce.a)(wt,e,t)),s=o.loading,u=o.error,d=o.data,p="Artist"===(null==d?void 0:d.artistUnion.__typename)?d.artistUnion:null;if(null===p||u||s)return(0,A.jsx)(c.h,{hasError:null!==u,errorMessage:l.ag.get("error.request-artist-playlists")});var m=p.profile.name,f=p.profile.playlistsV2.items,v=(0,pe.pj)(f);return(0,A.jsxs)("div",{className:re()("contentSpacing",le),children:[m?(0,A.jsx)(oe.$,{children:l.ag.get("artist-page.artist-playlists.seo.title",m)}):null,(0,A.jsx)(se.P,{total:v.length,title:l.ag.get("artist-page.artist-playlists"),showAll:!0,children:v.map((function(e,t){return(0,A.jsx)(xt.Z,{index:t,uri:e.uri,name:e.name,authorName:e.authorName||e.name,description:e.description,images:e.images},e.uri)}))})]})})),Rr=Spicetify.GraphQL.Definitions["queryArtistRelated"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistRelated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedArtists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]},Fr=i.memo((function(){var e,t,n=(0,r.UO)().artistId,i=void 0===n?"":n,a=(0,pe.qo)(i),o=(e={uri:a},t={cacheTime:15*ce.y},(0,ce.a)(Rr,e,t)),s=o.loading,u=o.error,d=o.data,p="Artist"===(null==d?void 0:d.artistUnion.__typename)?d.artistUnion:null;if(null===p||u||s)return(0,A.jsx)(c.h,{hasError:null!==u,errorMessage:l.ag.get("error.request-related-artists")});var m=p.profile.name,f=p.relatedContent.relatedArtists.items;return(0,A.jsxs)("div",{className:re()("contentSpacing",le),children:[m?(0,A.jsx)(oe.$,{children:l.ag.get("artist-page.fansalsolike.seo.title",m)}):null,(0,A.jsx)(se.P,{title:l.ag.get("artist-page.fansalsolike"),total:f.length,showAll:!0,children:f.map((function(e,t){var n;return(0,A.jsx)(At.I,{index:t,uri:e.uri,name:e.profile.name,images:(null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources)||[]},e.uri)}))})]})})),Lr=n(11794),Mr=n(93089),Ur=Spicetify.GraphQL.Definitions["queryArtistMinimal"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryArtistMinimal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]};const Zr="Etjqlb2I2wFLmS0idcnV";var Br=[Lr.QD.INDEX,Lr.QD.TITLE,Lr.QD.ALBUM,Lr.QD.ADDED_AT,Lr.QD.DURATION],Vr=function(e){var t,n,r=e.artistUri,a=e.collectionUri,o=(0,Kt.MY)({offset:0,limit:1,uri:r}),s=(t={uri:r},(0,ce.a)(Ur,t,n)),u=s.error,d=s.data,p=(0,Pe.n)({uri:a},{featureIdentifier:"your_library"}),m=p.usePlayContextItem,f=p.togglePlay,v=p.isPlaying,g="Artist"===(null==d?void 0:d.artistUnion.__typename)?d.artistUnion:null;return o&&g&&!u?(0,A.jsxs)("div",{className:re()("contentSpacing",Zr),children:[(0,A.jsxs)(ft.w,{children:[(0,A.jsx)(Me.$,{size:"md",onClick:function(){return f()},isPlaying:v,uri:a}),(0,A.jsx)(Le.i,{text:l.ag.get("artist-page.liked-songs-by-artist-title",g.profile.name)})]}),o.totalLength>0&&(0,A.jsx)(i.Suspense,{fallback:(0,A.jsx)(c.h,{hasError:null!==u,errorMessage:l.ag.get("error.request-collection-tracks-failure")}),children:(0,A.jsx)(Mr.p,{nrTracks:o.totalLength,columns:Br,collectionUri:a,uri:r,usePlayContextItem:m,initialItems:[]})})]}):null},Hr=function(){var e=(0,r.UO)().artistId,t=void 0===e?"":e,n=(0,pe.qo)(t),i=(0,u.v9)((function(e){var t,n=e.session;return null==n||null===(t=n.user)||void 0===t?void 0:t.id}))||null,a=i?(0,o.g8)(i,t).toURI():null;return i&&a?(0,A.jsx)(Vr,{artistUri:n,collectionUri:a}):null},Gr=n(54334),Wr=n(78960),zr=(0,i.memo)((function(){var e=(0,r.UO)().artistId,t=void 0===e?"":e,n=(0,pe.qo)(t),i=(0,r.TH)().search,s=new URLSearchParams(i).get("pageUri"),l=(0,o.EC)(s)?s:null;return(0,A.jsx)(te.fd,{surface:te.Tg.ARTIST,uris:[n],children:(0,A.jsx)("section",{"":"artist-page","data-test-uri":n,children:(0,A.jsxs)(r.Z5,{children:[(0,A.jsx)(r.AW,{path:"discography",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_ALBUMS,children:(0,A.jsx)(St,{})})}),(0,A.jsx)(r.AW,{path:"discography/:albumType",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_ALBUMS,children:(0,A.jsx)(St,{})})}),(0,A.jsx)(r.AW,{path:"featuring",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_FEATURING,children:(0,A.jsx)(Ct,{})})}),(0,A.jsx)(r.AW,{path:"related",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_RELATED,children:(0,A.jsx)(Fr,{})})}),(0,A.jsx)(r.AW,{path:"appears-on",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_APPEARS_ON,children:(0,A.jsx)(fe,{})})}),(0,A.jsx)(r.AW,{path:"playlists",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_PLAYLISTS,children:(0,A.jsx)(Dr,{})})}),(0,A.jsx)(r.AW,{path:"discovered-on",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_DISCOVERED_ON,children:(0,A.jsx)(_t,{})})}),(0,A.jsx)(r.AW,{path:"saved",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_SAVED_TRACKS,children:(0,A.jsx)(Hr,{})})}),(0,A.jsx)(r.AW,{path:"/",element:l?(0,A.jsx)(Wr.InstrumentedRedirect,{to:{search:i,pathname:"/artist/:artistId/discography"}}):(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST,children:(0,A.jsx)(Tr,{})})}),(0,A.jsx)(r.AW,{path:"concerts",element:(0,A.jsx)(Gr.K,{pageId:a.Wg.ARTIST_CONCERTS,children:(0,A.jsx)(ee,{})})})]})})})}));zr.displayName="ArtistPage";const Kr=zr},17150:(e,t,n)=>{"use strict";n.d(t,{MF:()=>m,Pm:()=>d,X7:()=>c,bC:()=>s,pf:()=>l,pj:()=>p,qo:()=>o,uW:()=>u});var i=n(96268),r=(n(162),n(30246),n(5538),n(81289),n(22369),n(62780),n(61235),n(69724),n(24511)),a=n(98328),o=function(e){return"spotify:artist:".concat(e)},s=function(e){var t,n,i;return{artists:e.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}})),images:null!==(t=null===(n=e.coverArt)||void 0===n?void 0:n.sources)&&void 0!==t?t:[],name:e.name,uri:e.uri,sharingInfo:null!==(i=e.sharingInfo)&&void 0!==i?i:null}},l=function(e){var t,n,i,r;return{artists:(null===(t=e.artists)||void 0===t?void 0:t.items.map((function(e){var t;return{uri:e.uri,name:(null===(t=e.profile)||void 0===t?void 0:t.name)||""}})))||[],images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],name:e.name,uri:e.uri,year:null===(i=e.date)||void 0===i?void 0:i.year,type:e.type,sharingInfo:null!==(r=e.sharingInfo)&&void 0!==r?r:null}},c=function(e,t){var n,i,a=e.track,o=a.uri,s=a.name,l=a.playcount,c=a.duration.totalMilliseconds,u=a.contentRating,d=a.artists.items,p=a.albumOfTrack,m=a.playability.playable;return{uri:o,contextUri:t,totalMilliseconds:c,name:s,contentRating:(null==u?void 0:u.label)||r.KS.None,isPlayable:m,playcount:parseInt(l||"0",10),artists:d.map((function(e){return{uri:e.uri,name:e.profile.name}})),imageUrl:null!=p&&null!==(n=p.coverArt)&&void 0!==n&&null!==(i=n.sources)&&void 0!==i&&i.length?null==p?void 0:p.coverArt.sources[0].url:"",albumUri:(null==p?void 0:p.uri)||""}},u=function(e){return e?e.reduce((function(e,t){return e.push(t.releases.items[0]),e}),[]):[]},d=function(e){return e?e.reduce((function(e,t){return e.push(t.releases.items[0]),e}),[]):[]},p=function(e){return e.map((function(e){var t,n,i,r,a,o;return"Playlist"!==(null===(t=e.data)||void 0===t?void 0:t.__typename)?null:{uri:e.data.uri,name:e.data.name,description:null!==(n=e.data.description)&&void 0!==n?n:"",images:null!==(i=null===(r=e.data.images)||void 0===r||null===(a=r.items)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.sources)&&void 0!==i?i:[],authorName:"User"===e.data.ownerV2.data.__typename?e.data.ownerV2.data.name:null}})).filter(a.K)},m=function(e){return"itemV2"in e&&"object"===(0,i.Z)(e.itemV2)&&e.itemV2&&"data"in e.itemV2?e.itemV2.data:"item"in e&&"object"===(0,i.Z)(e.item)&&e.item?e.item:{}}},7906:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,H:()=>l});var i=n(38674),r=n(10785),a=n(40787),o="spotify:playlist:37i9dQZF1DWXkVfVmXHa7l",s="#D4000E";function l(){var e=(0,i.W6)(r.A$,{loadingValue:!1}),t=(0,a.cR)(o).isActive;return e&&t}},20126:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var i=n(38674),r=n(10785);function a(e){return(0,i.W6)(r.vW,{loadingValue:!1})&&"ABP"===e}},32831:(e,t,n)=>{"use strict";n.d(t,{_0:()=>i,_p:()=>o,eP:()=>r,ws:()=>a});var i=s(120),r=s(30),a=s(60),o=s(15);function s(e){return 60*e*1e3}},17068:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>a,Np:()=>r,_k:()=>o});n(162);var i=n(55590);function r(e){return{url:e.url,width:e.width,height:e.height}}function a(e){if("Episode"===e.__typename){var t,n,i=e.podcastV2.data;return"Podcast"!==i.__typename?[]:null!==(t=null===(n=i.coverArt)||void 0===n?void 0:n.sources.map(r))&&void 0!==t?t:[]}return[]}function o(e){var t,n,a,o,s,l,c,u,d,p,m,f,v,g,h,k,y,b,S,x,O,w,N;switch(e.__typename){case"Artist":return null!==(t=null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources.map(r))&&void 0!==t?t:[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return null!==(a=null===(o=e.coverArt)||void 0===o?void 0:o.sources.map(r))&&void 0!==a?a:[];case"Track":return null!==(s=null===(l=e.albumOfTrack)||void 0===l||null===(c=l.coverArt)||void 0===c?void 0:c.sources.map(r))&&void 0!==s?s:[];case"Playlist":return null!==(u=null===(d=e.images.items[0])||void 0===d?void 0:d.sources.map(r))&&void 0!==u?u:[];case"User":return null!==(p=null===(m=e.avatar)||void 0===m?void 0:m.sources.map(r))&&void 0!==p?p:[];case"Merch":return null!==(f=null===(v=e.image)||void 0===v?void 0:v.sources.map(r))&&void 0!==f?f:[];case"ArtistConcerts":var _,E,C=e.mainArtist.data;return"Artist"!==C.__typename?[]:null!==(_=null===(E=C.visuals.avatarImage)||void 0===E?void 0:E.sources.map(r))&&void 0!==_?_:[];case"GenericError":case"NotFound":case"RestrictedContent":case"BrowseExternalHref":return[];case"BrowseSectionContainer":return null!==(g=null===(h=e.data)||void 0===h||null===(k=h.cardRepresentation)||void 0===k||null===(y=k.artwork)||void 0===y?void 0:y.sources.map(r))&&void 0!==g?g:[];case"BrowseSpacesHub":return null!==(b=null===(S=e.artwork)||void 0===S?void 0:S.sources.map(r))&&void 0!==b?b:[];case"BrowseClientFeature":return null!==(x=null!==(O=null===(w=e.artwork)||void 0===w?void 0:w.sources.map(r))&&void 0!==O?O:null===(N=e.iconOverlay)||void 0===N?void 0:N.sources.map(r))&&void 0!==x?x:[];default:return(0,i._)(e),[]}}},78689:(e,t,n)=>{"use strict";n.d(t,{Tn:()=>y,w2:()=>i.w2,Xh:()=>i.Xh});var i=n(91683),r=(n(162),n(20188)),a=n(55590),o=n(17068),s=n(84996),l=n(4637);function c(e){var t=(0,o._k)(e);if(t.length>0)return t[0].url}function u(e,t){switch(e.content.__typename){case"BrowseXlinkResponseWrapper":case"BrowseSectionContainerWrapper":return function(e,t,n){var r,o,u;switch(e.__typename){case"BrowseClientFeature":return(0,l.jsx)(s.p,{title:null!==(r=null===(o=e.title)||void 0===o?void 0:o.transformedLabel)&&void 0!==r?r:"",pageId:"search",href:e.featureUri,color:null===(u=e.backgroundColor)||void 0===u?void 0:u.hex,imageUrl:c(e),ubiId:e.featureUri,index:t},e.featureUri);case"BrowseSectionContainer":var d,p,m,f;return null!==(d=e.data)&&void 0!==d&&d.cardRepresentation?(0,l.jsx)(s.p,{title:null!==(p=null===(m=e.data.cardRepresentation.title)||void 0===m?void 0:m.transformedLabel)&&void 0!==p?p:"",pageId:"search",href:(0,i.t1)(n),color:null===(f=e.data.cardRepresentation.backgroundColor)||void 0===f?void 0:f.hex,imageUrl:c(e),ubiId:n,index:t},n):null;case"BrowseSpacesHub":var v,g,h,k=(0,i.wJ)(e.spaceId);return(0,l.jsx)(s.p,{title:null!==(v=null===(g=e.title)||void 0===g?void 0:g.transformedLabel)&&void 0!==v?v:"",pageId:"search",href:k,color:null===(h=e.backgroundColor)||void 0===h?void 0:h.hex,imageUrl:c(e),ubiId:k,index:t},k);case"GenericError":case"NotFound":case"BrowseExternalHref":return null;default:return(0,a._)(e),null}}(e.content.data,t,e.uri);case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":case"ConcertResponseWrapper":case"MerchResponseWrapper":case"ArtistConcertsResponseWrapper":case"NoContent":case"UnknownType":return null;default:return(0,a._)(e.content),null}}var d=n(3594),p=n(32831),m=n(83014),f=(n(69109),n(9294)),v=n(19246),g=Spicetify.GraphQL.Definitions["browseAll"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"browseAll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pagePagination"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaginationInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sectionPagination"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaginationInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"browseStart"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"kind"},value:{kind:"EnumValue",value:"MAIN_BROWSE"}},{kind:"ObjectField",name:{kind:"Name",value:"pagePagination"},value:{kind:"Variable",name:{kind:"Name",value:"pagePagination"}}},{kind:"ObjectField",name:{kind:"Name",value:"sectionPagination"},value:{kind:"Variable",name:{kind:"Name",value:"sectionPagination"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSectionContainer"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseAllSectionItem"}}]}}]}}]}}]}}]}}].concat((0,m.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAllSectionItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transformedLabel"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sectionItems"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseAllItem"}}]}}]}}]}}]),(0,m.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAllItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseAllItemContent"}}]}}]}}]),(0,m.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAllItemContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseItemContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseSectionContainer"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseClientFeature"}}]}}]),(0,m.Z)(v.dK.definitions),(0,m.Z)(v.N9.definitions),(0,m.Z)(v.K1.definitions),(0,m.Z)(v.$z.definitions))},h=function(){var e,t,n,i=function(e,t){return(0,f.a)(g,e,t)}({pagePagination:{offset:0,limit:10},sectionPagination:{offset:0,limit:99}},{cacheTime:p._0,staleTime:p.eP}),r=i.data;return"BrowseSectionContainer"!==(null==r||null===(e=r.browseStart)||void 0===e?void 0:e.__typename)?[]:null!==(t=null===(n=r.browseStart.sections)||void 0===n?void 0:n.items)&&void 0!==t?t:[]};const k="M7LKuAFiIKaigK0fVguF";var y=function(e){var t=e.browseAllSpec,n=h();return(0,l.jsx)("div",{className:k,children:n.map((function(e,n){return function(e,t,n){var i,o,s,c;if(null===(i=e.data)||void 0===i||!i.__typename)return null;switch(e.data.__typename){case"BrowseGridSectionData":return(0,l.jsx)(r.Nh,{spec:t,children:(0,l.jsx)(d.q,{title:null!==(o=null===(s=e.data)||void 0===s||null===(c=s.title)||void 0===c?void 0:c.transformedLabel)&&void 0!==o?o:"",index:n,id:e.uri,showAll:!0,children:e.sectionItems.items.map((function(e,t){return u(e,t)}))})},e.uri);case"BrowseSingleItemSectionData":case"BrowseGenericSectionData":case"BrowseRelatedSectionData":case"BrowseUnsupportedSectionData":return null;default:return(0,a._)(e.data),null}}(e,t,n)}))})}},19246:(e,t,n)=>{"use strict";n.d(t,{$z:()=>k,Fk:()=>f,Go:()=>v,H5:()=>y,K1:()=>i,N9:()=>r,RL:()=>g,Tf:()=>l,X6:()=>a,YJ:()=>p,_C:()=>s,dK:()=>h,dV:()=>u,nE:()=>o,qJ:()=>d,tl:()=>c,zZ:()=>m});var i=Spicetify.GraphQL.Definitions["browseImageURLAndSize"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseImageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]},r=Spicetify.GraphQL.Definitions["browseImageSources"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageURLAndSize"}}]}}]}}]},a=Spicetify.GraphQL.Definitions["browseAlbum"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}}]}}]}}]},o=Spicetify.GraphQL.Definitions["browseArtist"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}}]}}]}}]}}]},s=Spicetify.GraphQL.Definitions["browseEpisode"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}}]}}]}}]}}]}}]}}]},l=Spicetify.GraphQL.Definitions["browseChapter"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"audiobookV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]},c=Spicetify.GraphQL.Definitions["browsePlaylist"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browsePlaylist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]},u=Spicetify.GraphQL.Definitions["browsePodcast"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browsePodcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},d=Spicetify.GraphQL.Definitions["browseAudiobook"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},p=Spicetify.GraphQL.Definitions["browseTrack"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]},m=Spicetify.GraphQL.Definitions["browseUser"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}}]}}]}}]}}]},f=Spicetify.GraphQL.Definitions["browseMerch"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseMerch"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MerchResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},arguments:[{kind:"Argument",name:{kind:"Name",value:"utmMedium"},value:{kind:"StringValue",value:"app-browse",block:!1}},{kind:"Argument",name:{kind:"Name",value:"utmContent"},value:{kind:"StringValue",value:"direct",block:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Merch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"price"}}]}}]}}]}}]},v=Spicetify.GraphQL.Definitions["browseArtistConcerts"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseArtistConcerts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistConcertsResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistConcerts"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mainArtist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"concerts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]},g=Spicetify.GraphQL.Definitions["browseContent"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseItemContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseAlbum"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseArtist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseEpisode"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseChapter"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browsePlaylist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browsePodcast"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseAudiobook"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseTrack"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseUser"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseMerch"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseArtistConcerts"}}]}}]},h=Spicetify.GraphQL.Definitions["browseSectionContainer"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseSectionContainer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSectionContainerWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSectionContainer"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardRepresentation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transformedLabel"}}]}},{kind:"Field",name:{kind:"Name",value:"artwork"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}}]}}]}}]}}]}}]},k=Spicetify.GraphQL.Definitions["browseClientFeature"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseClientFeature"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseXlinkResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseSpacesHub"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transformedLabel"}}]}},{kind:"Field",name:{kind:"Name",value:"spaceId"}},{kind:"Field",name:{kind:"Name",value:"artwork"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseClientFeature"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"transformedLabel"}}]}},{kind:"Field",name:{kind:"Name",value:"featureUri"}},{kind:"Field",name:{kind:"Name",value:"artwork"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"browseImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}},{kind:"Field",name:{kind:"Name",value:"iconOverlay"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]},y=Spicetify.GraphQL.Definitions["browseItem"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"browseItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BrowseItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseContent"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseSectionContainer"}},{kind:"FragmentSpread",name:{kind:"Name",value:"browseClientFeature"}}]}}]}}]}},91683:(e,t,n)=>{"use strict";n.d(t,{Xh:()=>p,px:()=>f,t1:()=>m,w2:()=>d,wJ:()=>h});var i=n(39130),r=(n(83001),n(22369),n(8760),n(27639),n(71756),n(47921),n(16366),n(96669),n(31781),n(59496)),a=n(38674),o=n(59272),s=n(10785),l=n(4637),c=(0,r.lazy)((function(){return Promise.all([n.e(1814),n.e(5103),n.e(3817)]).then(n.bind(n,53203)).then((function(e){return{default:e.BrowsePage}}))})),u=(0,r.lazy)((function(){return Promise.all([n.e(1814),n.e(5103),n.e(3817)]).then(n.bind(n,96760)).then((function(e){return{default:e.BrowseSection}}))})),d=function(e){var t=e.id;return t.startsWith("section")?(0,l.jsx)(u,{uri:g(t)}):(0,l.jsx)(c,{uri:v(t),id:t})},p=function(e){return(0,a.W6)(s.Oe,{loadingValue:!1})&&function(e){return/^(section)?[0-9A-Za-z_-]{22}$/.test(e)}(e)};function m(e){var t,n=(0,o.EC)(e,{parseUnknown:!0}),r=null!==(t=null==n?void 0:n.args)&&void 0!==t?t:[],a=(0,i.Z)(r,2),s=a[0],l=a[1];if(l&&"page"===s)return"/genre/".concat(l)}function f(e){var t,n=(0,o.EC)(e,{parseUnknown:!0}),r=null!==(t=null==n?void 0:n.args)&&void 0!==t?t:[],a=(0,i.Z)(r,2),s=a[0],l=a[1];if(l&&"section"===s)return"/genre/section".concat(l)}function v(e){return"spotify:page:".concat(e)}function g(e){var t=e.replace(/^section/,"");return"spotify:section:".concat(t)}function h(e){return"spotify:genre:".concat(e)}},62960:(e,t,n)=>{"use strict";n.d(t,{R$:()=>a,RD:()=>u,Vv:()=>d,ZR:()=>s,bb:()=>c,ot:()=>l,tk:()=>r,ul:()=>i,vj:()=>o});var i="BROWSE_REQUEST",r="BROWSE_REQUEST_SUCCESS",a="BROWSE_ITEMS_STYLE_REQUEST",o="BROWSE_ITEMS_STYLE_REQUEST_SUCCESS",s=function(e){return{type:i,isClientXConcertsHubEnabled:e}},l=function(e){return{type:r,data:e}},c=function(e){return{type:"BROWSE_REQUEST_FAILURE",error:e}},u=function(e){return{type:o,items:e}},d=function(e){return{type:"BROWSE_ITEMS_STYLE_REQUEST_FAILURE",error:e}}},84996:(e,t,n)=>{"use strict";n.d(t,{T:()=>X,p:()=>B});var i=n(59496),r=n(61740),a=n(38674),o=n(10785),s=(n(162),n(39130)),l=(n(39975),n(69109),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(84875)),c=n.n(l),u=n(85830),d=n(10506),p=n(63892),m=n(42336),f=n(75938),v=n(17249),g=n(84340),h=(n(78302),n(90775)),k=(n(30406),n(88843));const y="RqBX4yuCHgMNXtcJnxv5",b="nUgbAeYj4gkJ_tXlm_ck",S="I8HKKfSJDDPx7rwCatT2",x="v5TOXMimmpi0Ind7QLHC",O="gjJebeNMJQIjXZyOmINz",w="nuwPDs07FwDYc9TP9KWA",N="YYQh0cc9R7oKH5WmxBUP",_="D7SjPRxlJwibVXmL_BNN",E="un9ka9FQajcXmx1ncJIo",C="SdMIYvEJ5rA5V8t_gOnk";var P=n(4637);var I=function(e){var t=e.title,n=e.children,r=e.seeAllUri,a=e.pageId,o=e.className,l=void 0===o?"":o,I=e.childColumnSpan,j=void 0===I?1:I,A=(0,i.useState)(!1),T=(0,s.Z)(A,2),D=T[0],R=T[1],F=(0,i.useState)(!1),L=(0,s.Z)(F,2),M=L[0],U=L[1],Z=(0,i.useRef)(null),B=(0,h.o)(),V=(0,u.y1)((function(){!function(e,t,n,i,r){if(null!==r.current){var a=r.current,o=a.scrollLeft,s=o>0,l=o+a.offsetWidth<a.scrollWidth;e!==s&&n(s),t!==l&&i(l)}}(D,M,R,U,Z)}),200);if(Array.isArray(n)&&0===n.length)return null;var H=Array.isArray(n)?n.length:0;return(0,P.jsxs)("section",{className:c()(y,l),"aria-label":t,children:[(0,P.jsx)("div",{className:O,children:r?(0,P.jsx)(k.Link,{to:r,pageId:a,children:(0,P.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:x,children:t})}):(0,P.jsx)(d.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:x,children:t})}),(0,P.jsx)("div",{className:S,children:(0,P.jsx)("div",{"":"scroll-wrapper",className:b,ref:Z,onScroll:V,children:(0,P.jsx)(g.T,{className:C,fixedColumnCount:H*j,onUpdate:V,render:function(e){var t=e.columnCount,i=e.columnWidth,r=e.gridGap;return(0,P.jsxs)(P.Fragment,{children:[D&&(0,P.jsx)("div",{className:"".concat(w," ").concat(_),children:(0,P.jsx)(p.D,{title:v.ag.get("playback-control.skip-back"),className:E,onClick:function(){!function(e,t,n,i){null!==i.current&&(i.current.scrollLeft-=e*(t+n))}(t,i,r,Z),B({intent:"carousel-left",type:"click",itemIdSuffix:"carousel"})},tabIndex:-1,"aria-label":v.ag.get("playback-control.skip-back"),iconOnly:m.e,colorSet:"invertedLight"})}),M&&(0,P.jsx)("div",{className:"".concat(w," ").concat(N),children:(0,P.jsx)(p.D,{title:v.ag.get("playback-control.skip-forward"),className:E,onClick:function(){!function(e,t,n,i){null!==i.current&&(i.current.scrollLeft+=e*(t+n))}(t,i,r,Z),B({intent:"carousel-right",type:"click",itemIdSuffix:"carousel"})},tabIndex:-1,"aria-label":v.ag.get("playback-control.skip-forward"),iconOnly:f.V,colorSet:"invertedLight"})}),n]})}})})})]})},j=n(78142),A=n(20188),T=n(38185),D=n(29245),R=n(59272),F=n(75897);const L="x-categoryCard-CategoryCard",M="x-categoryCard-title",U="x-categoryCard-image";var Z=T.Sns,B=function(e){var t=e.title,n=e.imageUrl,r=e.viewId,a=e.pageId,o=e.color,s=void 0===o?Z:o,l=e.href,c=e.index,u=e.ubiId,p=r&&"/genre/".concat(r)||l||"#",m=(0,A.fU)(D.createDesktopCategoryCardEventFactory,{data:{position:c,identifier:u}}),f=m.spec,v=m.logger,g=(0,i.useCallback)((function(){var e,t=null===(e=(0,R.EC)(p))||void 0===e?void 0:e.toURI();t&&v.logInteraction(f.hitUiNavigate({destination:t}))}),[v,f,p]),h=(0,A.Wi)(f);return(0,P.jsx)(k.Link,{to:p,pageId:a,className:L,style:{backgroundColor:s},onClick:g,ref:h,children:(0,P.jsxs)("div",{children:[n?(0,P.jsx)(F.E,{loading:"lazy",src:n,className:U}):null,(0,P.jsx)(d.D,{variant:"canon",className:M,children:t})]})})};const V="a2ruVaZt_DdrdHz3GqgU",H="EfZJn6C1pA6BsRD5UpDR",G="xGVkSPi5IQWS8RjzeCmq";var W=function(e){var t=e.title,n=e.imageUrl,r=e.viewId,a=e.color,o=void 0===a?Z:a,s=e.pageId,l=e.index,c="/genre/".concat(r),u=(0,A.fU)(D.createDesktopCategoryCardEventFactory,{data:{position:l,identifier:r}}),p=u.spec,m=u.logger,f=(0,i.useCallback)((function(){var e,t=null===(e=(0,R.EC)(c))||void 0===e?void 0:e.toURI();t&&m.logInteraction(p.hitUiNavigate({destination:t}))}),[m,p,c]),v=(0,A.Wi)(p);return(0,P.jsx)(k.Link,{to:c,pageId:s,className:V,style:{backgroundColor:o},onClick:f,ref:v,children:(0,P.jsxs)("div",{children:[(0,P.jsx)(d.D,{variant:"altoBrio",className:H,children:t}),n?(0,P.jsx)(F.E,{loading:"lazy",className:G,src:n}):null]})})},z=n(54658);const K="search-searchBrowse-browseAllContainer",Y="search-searchBrowse-browseAllWrapper";const q=(0,r.$j)((function(e){return{topGenres:e.browse.topGenres,browseAll:e.browse.browseAll}}))((function(e){var t=e.topGenres,n=e.browseAll,i=e.topGenresSpec,r=e.browseAllSpec;return t||n?(0,P.jsxs)("div",{className:K,children:[t&&(0,P.jsx)(j.ZP,{value:"top-genre",children:(0,P.jsx)(A.Nh,{spec:i,children:(0,P.jsx)(I,{title:t.title,childColumnSpan:2,children:t.items.map((function(e,t){var n=e.viewId,i=e.color,r=e.title,a=e.imageUrl;return(0,P.jsx)(j.ZP,{index:t,value:"hero-category-card",children:(0,P.jsx)(W,{title:r,viewId:n,pageId:"search",color:i,imageUrl:a,index:t})},n)}))})})}),n&&(0,P.jsx)("div",{className:Y,"":"browse-all",children:(0,P.jsx)(A.Nh,{spec:r,children:(0,P.jsx)(z.P,{title:n.title,showAll:!0,children:n.items.map((function(e,t){var n=e.viewId,i=e.color,r=e.title,a=e.imageUrl,o=e.href,s=e.ubiId;return(0,P.jsx)(B,{title:r,viewId:n,pageId:"search",href:o,color:i,imageUrl:a,ubiId:s,index:t},n||o)}))})})})]}):null}));var Q=n(62960),J=function(e){var t=(0,a.W6)(o.dE),n=(0,r.I0)();return(0,i.useEffect)((function(){n((0,Q.ZR)(t))}),[t,n]),(0,P.jsx)(q,{topGenresSpec:e.topGenresSpec,browseAllSpec:e.browseAllSpec})},X=function(e){return(0,P.jsx)(i.Suspense,{fallback:null,children:(0,P.jsx)(J,{topGenresSpec:e.topGenresSpec,browseAllSpec:e.browseAllSpec})})}},88470:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,I:()=>a});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("useBuddyFeedContext() must be used within a BuddyFeedContext.Provider");return e}},63789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var i=n(39130),r=n(45389),a=(n(71541),n(79611),n(40265),n(22369),n(46743),n(63691),n(162),n(59496)),o=n(84875),s=n.n(o),l=n(71218),c=n(14268),u=n(10506),d=n(82504),p=n(17249),m=n(60808),f=n(1074),v=n(20188);const g="BQArksxcJg8rObx3WgoM",h="DHSo2PFYUume7wnQOok4",k="e7m85731K8PcdAPpY0_T",y="R45Db8HjecWWvYTtWruo",b="O29ZkehgRCpe4Io6FaiU",S="O1L1tbcQzBU4hFEXILkR",x="L36zsCia1Kz2AlUHD5AK",O="hbq5vdirqm7cXKmcBAi6",w="YUkRX7lY9vlYdgHxtLFX",N="gsZrVTOAUh2y9qRZ_7b1",_="L9Xuw2iBlGAweYBf3PW8",E="uFIqHwED5XuyDvejh8QB",C="krbh8BJtWizoq5QIXnhT";var P,I=n(4637),j="location_no_results",A="location_fetch_error",T=(P={},(0,r.Z)(P,j,(function(){return p.ag.get("concert.error.no_locations_found_subtitle")})),(0,r.Z)(P,A,(function(){return p.ag.get("concert.error.general_error_title")})),P),D=function(e){var t=(0,a.useRef)(null),n=(0,a.useRef)(null),r=(0,a.useState)(""),o=(0,i.Z)(r,2),g=o[0],h=o[1],P=(0,a.useState)(-1),D=(0,i.Z)(P,2),R=D[0],F=D[1],L=(0,a.useState)([]),M=(0,i.Z)(L,2),U=M[0],Z=M[1],B=(0,a.useState)(),V=(0,i.Z)(B,2),H=V[0],G=V[1],W=e.placeholder,z=e.onSelectLocation,K=e.hideLocationSelector,Y=e.spec,q=(0,a.useMemo)((function(){if(!Y)return{};var e=Y.changeLocationFormFactory();return{resultsSpec:Y.locationsResponseFactory(),inputSpec:e.changeLocationInputFactory(),clearSpec:e.changeLocationClearFactory()}}),[Y]),Q=q.resultsSpec,J=q.inputSpec,X=q.clearSpec,$=(0,v.$P)(),ee=g.trim();(0,a.useEffect)((function(){if(F(-1),G(void 0),ee.length<=1)return Z([]),void(J&&$.logInteraction(J.keyStrokeUiHide()));J&&$.logInteraction(J.keyStrokeTextEdit({fieldToBeChanged:"loction"}));var e=!0;return f.LH.fetchLocationQuery(m.b.getInstance(),ee).then((function(t){if(e){var n=t.body.results||[];Z(n),n.length?G(void 0):G(j)}}),(function(){e&&(Z([]),G(A))})),function(){e=!1}}),[J,$,ee]);var te=function(e,t){var n;if(z(e),Q){var i=Q.locationResultFactory({identifier:e.location||(null===(n=e.geonameId)||void 0===n?void 0:n.toString(10))||"",position:t}).hitUiHide();$.logInteraction(i)}},ne=s()(k,y);return(U&&U.length||H===j)&&(ne=k),(0,I.jsx)("div",{className:b,"data-interaction-context":"location-selector",children:(0,I.jsxs)("div",{className:S,onKeyDown:function(e){var i="ArrowUp",r="ArrowDown",a="Escape",o="Tab",s=e.key,l=R;switch([a,r,i,o].indexOf(s)>-1&&e.preventDefault(),s){default:return;case a:return void z(void 0);case i:l=Math.max(R-1,-1);break;case r:case o:l=Math.min(R+1,U.length-1);break;case"Enter":te(U[R],R)}if(l<0){var c;null===(c=t.current)||void 0===c||c.focus()}else{var u,d=null===(u=n.current)||void 0===u?void 0:u.childNodes[l];d&&d.focus()}F(l)},role:"searchbox",onBlur:function(e){e.relatedTarget||(h(""),K())},children:[(0,I.jsx)("div",{children:(0,I.jsxs)("div",{className:O,children:[(0,I.jsx)(l.j,{className:w,iconSize:16}),(0,I.jsx)("input",{className:x,type:"search",id:"change-location-input",placeholder:W,value:g,onChange:function(e){return h(e.target.value)},ref:t,"aria-label":W,autoFocus:!0}),(0,I.jsx)("button",{className:ne,"aria-label":p.ag.get("search.a11y.clear-input"),onClick:function(){h(""),X&&$.logInteraction(X.hitTextClear())},children:(0,I.jsx)(c.k,{iconSize:16})})]})}),(0,I.jsxs)("ol",{className:N,ref:n,children:[H&&(0,I.jsxs)(u.D,{as:"li",variant:"ballad",className:_,children:[(0,I.jsx)(d.l,{iconSize:16}),T[H]()]}),U&&U.length&&U.map((function(e,t){return(0,I.jsx)(u.D,{as:"li",variant:"ballad",weight:"book",className:C,tabIndex:t+1,children:(0,I.jsx)("a",{className:E,onClick:function(){return te(e,t)},role:"button",children:e.location})},t)}))||null]})]})})};const R=function(e){var t=e.handleLocationChange,n=e.locationStr,r=e.headerSpec,o=(0,a.useState)(!1),s=(0,i.Z)(o,2),l=s[0],c=s[1],d=(0,a.useMemo)((function(){return null==r?void 0:r.changeLocationButtonFactory()}),[r]),m=(0,a.useMemo)((function(){return null==r?void 0:r.changeLocationUiFactory({identifier:n})}),[r,n]),f=(0,v.$P)();return(0,I.jsxs)("div",{className:g,children:[(0,I.jsxs)(u.D,{as:"h2",variant:"alto",children:[p.ag.get("concerts_shows_in"),!l&&(0,I.jsx)("span",{className:h,dir:"auto",onClick:function(){c(!0),d&&f.logInteraction(d.hitUiReveal())},role:"button",children:n})]}),l&&(0,I.jsx)("span",{children:(0,I.jsx)(D,{placeholder:p.ag.get("concerts.input.search_placeholder"),onSelectLocation:function(e){t(e),c(!1)},hideLocationSelector:function(){return c(!1)},spec:m})})]})}},81378:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(45389),r=(n(30246),n(90511),n(62780),n(22369),n(59496)),a=n(84875),o=n.n(a),s=n(10506),l=n(38674),c=n(17249),u=n(88843),d=n(10785),p=n(20188),m=n(69952),f=n(48450),v=n(77682),g=n(4637);function h(e,t){var n;return"ONLINE"===t&&null!==e.name?e.name:[e.name,null===(n=e.location)||void 0===n?void 0:n.name].filter(Boolean).join(c.ag.getSeparator())}var k=function(e){var t=e.children,n=e.id,a=e.enableConcertEntityLinks,s=e.condensed,l=e.spec,c=e.index,d=(0,p.$P)(),m=(0,r.useMemo)((function(){return l.tourEntryFactory({identifier:n,uri:"spotify:concert:".concat(n),position:c||0,reason:""})}),[l,n,c]);return a?(0,g.jsx)(u.default,{to:"spotify:concert:".concat(n),className:o()(v.Z.item,(0,i.Z)({},v.Z.condensed,s)),onClick:function(){d.logInteraction(m.hitUiNavigate({destination:"spotify:concert:".concat(n)}))},children:t}):(0,g.jsx)("div",{className:v.Z.item,children:t})},y=r.memo((function(e){var t,n=e.concert,r=e.spec,a=e.index,c=e.condensed,u=e.elevatedDate,p=e.titleVariant,y=void 0===p?"balladBold":p,b=n.venue,S=n.id,x=n.category,O=(0,l.W6)(d.zO),w=(0,m.CH)(n.date.isoString);return(0,g.jsxs)(k,{id:S,enableConcertEntityLinks:O,condensed:c,spec:r,index:a,children:[(0,g.jsxs)("time",{className:o()(v.Z.date,(t={},(0,i.Z)(t,v.Z.condensed,c),(0,i.Z)(t,v.Z.elevated,u),t)),dateTime:n.date.isoString,children:[(0,g.jsx)(s.D,{as:"h5",variant:"mestoBold",className:v.Z.dateMonth,children:(0,m.jw)(w)}),(0,g.jsx)(s.D,{as:"h1",variant:"canon",className:v.Z.dateDay,children:(0,m.wf)(w)})]}),(0,g.jsxs)("div",{className:v.Z.info,children:[(0,g.jsx)(s.D,{as:"h3",variant:y,semanticColor:"textBase",className:o()(v.Z.title,(0,i.Z)({},v.Z.condensed,c)),children:(0,f.M3)(n)}),(0,g.jsxs)(s.D,{as:"p",variant:"mesto",className:o()(v.Z.timeAndVenue,(0,i.Z)({},v.Z.condensed,c)),children:[(0,g.jsx)("time",{className:v.Z.time,children:(0,m.dC)(w)}),h(b,x)]})]})]})}))},77617:(e,t,n)=>{"use strict";n.d(t,{A:()=>i.A});var i=n(81378)},69952:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>p,CH:()=>r,FO:()=>l,OF:()=>m,dC:()=>u,hK:()=>d,jw:()=>o,jx:()=>c,wf:()=>s,xE:()=>a});n(40265),n(69109);var i=n(17249),r=function(e){return 24===e.length?new Date(e.substring(0,19)):22===e.length?new Date(e.substring(0,16)):new Date(e)},a=function(e){return i.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"})},o=function(e){return i.ag.formatDate(e,{month:"short"})},s=function(e){return i.ag.formatDate(e,{day:"numeric"})},l=function(e){return i.ag.formatDate(e,{weekday:"short"})},c=function(e){return i.ag.formatDate(e,{month:"short",day:"numeric"})},u=function(e){return i.ag.formatDate(e,{weekday:"short",hour:"numeric",minute:"numeric"})},d=function(e){return i.ag.formatDate(e,{hour:"numeric",minute:"numeric"})},p=function(e,t){if(e.toDateString()===t.toDateString())return a(e);if(e.getMonth()===t.getMonth()){var n=i.ag.formatDate(e,{day:"numeric",month:"short"}),r=i.ag.formatDate(t,{day:"numeric"});return"".concat(n,"–").concat(r)}var o=i.ag.formatDate(e,{day:"numeric",month:"short"}),s=i.ag.formatDate(t,{day:"numeric",month:"short"});return"".concat(o,"–").concat(s)},m=function(e){var t=new Date(e);return new Date>t}},48450:(e,t,n)=>{"use strict";n.d(t,{M3:()=>u,Yl:()=>c,ij:()=>s});var i=n(83014),r=(n(162),n(30246),n(69109),n(17249)),a=function(e){return!!e.title&&(e.festival||!e.artists.length)},o=function(e){return e.artists.map((function(e){return e.name}))},s=function(e){if(a(e))return e.title;var t=o(e);return 1===t.length?r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_1"].concat((0,i.Z)(t))):2===t.length?r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_2"].concat((0,i.Z)(t))):3===t.length?r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_3"].concat((0,i.Z)(t))):4===t.length?r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_4"].concat((0,i.Z)(t))):t.length>4?r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_more"].concat((0,i.Z)(t))):""},l=function(e){return 1===e.length?r.ag.get.apply(r.ag,["concert.header.entity_title_1"].concat((0,i.Z)(e))):2===e.length?r.ag.get.apply(r.ag,["concert.header.entity_title_2"].concat((0,i.Z)(e))):3===e.length?r.ag.get.apply(r.ag,["concert.header.entity_title_3"].concat((0,i.Z)(e))):4===e.length?r.ag.get.apply(r.ag,["concert.header.entity_title_4"].concat((0,i.Z)(e))):e.length>4?r.ag.get.apply(r.ag,["concert.header.entity_title_more"].concat((0,i.Z)(e))):""},c=function(e){if(a(e))return e.title;var t=o(e);return l(t)},u=function(e){if(!e.artists||0===e.artists.items.length)return e.title;if(e.festival)return e.title;var t=e.artists.items.map((function(e){return e.profile.name}));return l(t)}},68716:(e,t,n)=>{"use strict";n.d(t,{j:()=>i.jc,z:()=>i.z$});var i=n(68554)},68554:(e,t,n)=>{"use strict";n.d(t,{eX:()=>O,j_:()=>x,jc:()=>y,p0:()=>S,s$:()=>w,z$:()=>b});n(4302),n(66469);var i=n(27626),r=n(46049),a=n(53357),o=n(84546),s=n(12653),l=n(58385),c=n(50923),u=n(44355),d=n(71016),p=n(40797),m=n(4027),f=n(24801),v=n(57683),g=n(92788),h=n(17249),k=n(68990);function y(e){return e===k.Yi.CAST_AUDIO||e===k.Yi.CAST_VIDEO}function b(e,t){var n=i.f;switch(t?"multispeaker":e){case k.Yi.COMPUTER:case k.Yi.CHROMEBOOK:n=r.g;break;case k.Yi.TABLET:n=a.y;break;case k.Yi.SMARTPHONE:n=o.B;break;case k.Yi.SPEAKER:case k.Yi.CAST_AUDIO:case k.Yi.AUDIO_DONGLE:case k.Yi.HomeThing:n=s.X;break;case k.Yi.TV:case k.Yi.STB:case k.Yi.CAST_VIDEO:n=l.x;break;case k.Yi.AVR:n=c.T;break;case k.Yi.GAME_CONSOLE:n=u.c;break;case k.Yi.SMARTWATCH:n=d.b;break;case k.Yi.CarThing:case k.Yi.AUTOMOBILE:n=p.C;break;case"multispeaker":n=m.r}return n}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disconnected";return y(e)?"connected"===t?f.d:v.O:g.W}function x(e,t){var n;switch(e){case k.uP.PREMIUM_REQUIRED:n=h.ag.get("web-player.connect.device-picker.get-premium");break;case k.uP.NOT_INSTALLED:n=h.ag.get("web-player.connect.device-picker.install-spotify");break;case k.uP.UNSUPPORTED_URI:n=h.ag.get("web-player.connect.device-picker.unsupported-uri");break;case k.uP.INCOMPATIBLE:n=h.ag.get("web-player.connect.device-picker.update-device");break;case k.uP.NOT_AUTHORIZED:n=t?h.ag.get("web-player.connect.device-picker.playstation-unauthorized"):h.ag.get("web-player.connect.device-picker.device-unavailable");break;case k.uP.UNAVAILABLE:n=h.ag.get("web-player.connect.device-picker.device-unavailable");break;case k.uP.AD_PLAYING:n=h.ag.get("web-player.connect.device-picker.ad-playing");break;case k.uP.NARRATION:n=h.ag.get("web-player.connect.device-picker.tts-playing");break;case k.uP.WAKING_UP:n=h.ag.get("web-player.connect.device-picker.wakingup-device");break;case k.uP.TIMED_OUT_WAKEUP:n=h.ag.get("web-player.connect.device-picker.wakeup-timeout");break;case k.uP.UNKNOWN:default:n=h.ag.get("web-player.connect.device-picker.restart-device")}return{helpText:n,tooltip:undefined}}function O(e){return void 0!==e&&2===e.available.length&&e.available.includes("cast")&&e.available.includes("connect")}function w(e,t){return e===k.Yi.GAME_CONSOLE&&("ps5"===t||"ps4"===t)}},83338:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});n(22369),n(8760);var i=n(59496),r=n(61740),a=n(73691),o=n(59430);function s(){var e=(0,o.c)(),t=(0,r.I0)();return(0,i.useCallback)((function(n,i){return new Promise((function(r){return t((0,a.n0)(n,(function(){return e.removeDownload(n,i).then((function(){return r(!0)}))}),(function(){return r(!1)}),i))}))}),[t,e])}},36429:(e,t,n)=>{"use strict";n.d(t,{c:()=>u,f:()=>d});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.ENHANCED="enhanced",e.DEHANCED="dehanced",e.ENHANCED_WITH_NUM_RECS="enhanced_with_num_recs",e.RECOMMENDATION_ADDED="recommendation_added",e.RECOMMENDATION_ADD_FAIL="recommendation_add_fail",e.RECOMMENDATION_REMOVED="recommendation_removed",e.RECOMMENDATION_REMOVE_FAIL="recommendation_remove_fail",e.ENHANCE_OFFLINE_FAILURE="enhance_offline_failure",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},20959:(e,t,n)=>{"use strict";n.d(t,{t:()=>D});var i=n(8850),r=n(27915),a=n(92449),o=n(45389),s=n(10995),l=n.n(s),c=(n(59538),n(79611),n(59272)),u=n(60377),d=n(58643),p=n(37253),m=n(11379),f=n(24122),v=n(8002),g=(n(72649),n(30246),n(40265),n(40274),n(22369),n(162),n(43125),n(27639),n(83001),n(82),n(71756),n(62780),n(69109),n(90511),n(42639),n(28933),n(29543),n(70969),n(9294),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"decorateItemsForEnhance"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackUris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userUris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"trackUris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"userUris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}),h=function(e){return"User"===(null==e?void 0:e.__typename)},k=function(e){return"Track"===(null==e?void 0:e.__typename)};function y(e,t,n){var i,r,a,o,s,l,c,u,d,p,m,f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],v=Number(e.itemAttributes.addedAt);return{__typename:"Track",uid:e.itemId,uri:e.uri,name:null!==(i=null==t?void 0:t.name)&&void 0!==i?i:"",albumOfTrack:{uri:null!==(r=null==t||null===(a=t.albumOfTrack)||void 0===a?void 0:a.uri)&&void 0!==r?r:"",name:null!==(o=null==t||null===(s=t.albumOfTrack)||void 0===s?void 0:s.name)&&void 0!==o?o:"",coverArt:null!==(l=null==t||null===(c=t.albumOfTrack)||void 0===c?void 0:c.coverArt)&&void 0!==l?l:null},artists:{items:null!==(u=null==t?void 0:t.artists.items)&&void 0!==u?u:[]},contentRating:null!==(d=null==t?void 0:t.contentRating)&&void 0!==d?d:null,duration:{totalMilliseconds:null!==(p=null==t?void 0:t.duration.totalMilliseconds)&&void 0!==p?p:0},playability:{playable:null!==(m=null==t?void 0:t.playability.playable)&&void 0!==m&&m},isEnhanced:e.itemAttributes.isRecommendation,isFirstRecommendationOfPage:f,addedBy:n,playContextPageIndex:e.itemAttributes.playerContextPage,addedAt:isNaN(v)?null:new Date(1e3*v)}}function b(e,t,n,i,r){return S.apply(this,arguments)}function S(){return(S=(0,i.Z)(l().mark((function e(t,n,i,r,a){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t,n,i,r,a);case 2:return o=a.find((function(e){return e.itemAttributes.isRecommendation})),e.abrupt("return",a.map((function(e){return y(e,i.get(e.uri),r.get(e.itemAttributes.addedBy),e===o)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n,i,r){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)(l().mark((function e(t,n,i,r,a){var o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Array.from(new Set(a.filter((function(e){return!k(i.get(e.uri))})).map((function(e){return e.uri})))),s=Array.from(new Set(a.filter((function(e){return e.itemAttributes.addedBy&&!h(r.get(e.itemAttributes.addedBy))})).map((function(e){return e.itemAttributes.addedBy})))),!o.length&&!s.length){e.next=5;break}return e.next=5,w(t,n,i,r,o,s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n,i,r,a){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)(l().mark((function e(t,n,i,r,a,o){var s,u,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.create("".concat(a.join(","),"|").concat(o.join("@")),(function(){return t(g,{trackUris:a,userUris:o.map((function(e){return(0,c.QK)(e).toURI()}))},["trackUris","userUris"])}));case 2:if(s=e.sent,u=s.flatMap((function(e){var t;return null!==(t=e.tracks)&&void 0!==t?t:[]})),d=s.flatMap((function(e){var t;return null!==(t=e.users)&&void 0!==t?t:[]})),(null==u?void 0:u.length)===a.length&&(null==d?void 0:d.length)===o.length){e.next=7;break}throw new Error("Error decorating tracks and users for enhance! Mismatch in array sizes.");case 7:null==u||u.forEach((function(e,t){k(e)&&i.set(a[t],e)})),null==d||d.forEach((function(e,t){h(e)&&r.set(o[t],e)}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(89620),n(95675),n(61235),n(7845),n(66715),n(30479),n(75341);var _=n(32953);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P="".concat(_.XA,"/enhanced-view/v1");function I(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return e.build().withHost(P).withPath("/context/".concat(encodeURIComponent(t))).withQueryParameters(C(C({},i?{sessionId:i}:{}),{},{iteration:n,offset:r,limit:a,format:"json"})).withEndpointIdentifier("/enhanced-view/v1/context/{contextUri}").send()}function j(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return e.build().withMethod("POST").withHost(P).withPath("/context/".concat(encodeURIComponent(t),"/add")).withQueryParameters({sessionId:n,offset:r,limit:a}).withHeaders([{key:"accept",value:"text/plain"}]).withBody(JSON.stringify({itemIds:i})).withoutMarket().withEndpointIdentifier("/enhanced-view/v1/context/{contextUri}/add").send()}function A(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return e.build().withMethod("POST").withHost(P).withPath("/context/".concat(encodeURIComponent(t),"/remove")).withQueryParameters({sessionId:n,offset:r,limit:a}).withBody(JSON.stringify({itemIds:i})).withoutMarket().withEndpointIdentifier("/enhanced-view/v1/context/{contextUri}/remove").send()}var T=n(36429),D=function(){function e(t,n,i){(0,r.Z)(this,e),(0,o.Z)(this,"TTL",36e5),(0,o.Z)(this,"CLEAN_INTERVAL",36e5),(0,o.Z)(this,"_events",new T.f),(0,o.Z)(this,"_getPageShouldEmitEnhancedWithRecs",!1),(0,o.Z)(this,"_inflightDecorationCache",new p.tL),(0,o.Z)(this,"_tracksCache",new p.tp(this.TTL,this.CLEAN_INTERVAL)),(0,o.Z)(this,"_userCache",new p.tp(this.TTL,this.CLEAN_INTERVAL)),(0,o.Z)(this,"MAX_PAGE_SIZE",300),this._builder=t,this._graphQLBatchedLoader=n,this._playerAPI=i}var t,n,s,g,h,k,y;return(0,a.Z)(e,[{key:"getEvents",value:function(){return this._events}},{key:"setIsEnhanced",value:(y=(0,i.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Setting enhanced state is not yet implemented");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return y.apply(this,arguments)})},{key:"getContextState",value:(k=(0,i.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Getting context state is not yet implemented");case 1:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})},{key:"subscribeToContextState",value:function(e,t){return t(new Error("Subscribing to context state is not yet implemented")),function(){}}},{key:"addRecommendation",value:(h=(0,i.Z)(l().mark((function e(t,n,i,r,a){var o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(this._builder,t,n,i,r,a);case 3:return o=e.sent,s=o.body,200===(c=o.status)&&this._events.emit(T.c.RECOMMENDATION_ADDED,{uri:t}),e.abrupt("return",{enhancePage:s,status:c});case 10:throw e.prev=10,e.t0=e.catch(0),this._events.emit(T.c.RECOMMENDATION_ADD_FAIL,{uri:t}),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,i,r){return h.apply(this,arguments)})},{key:"removeItems",value:(g=(0,i.Z)(l().mark((function e(t,n,i,r,a,o){var s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(this._builder,t,n,i,r,a);case 3:return s=e.sent,c=s.body,200===(u=s.status)&&o&&this.getEvents().emit(T.c.RECOMMENDATION_REMOVED,{uri:t}),e.abrupt("return",{enhancePage:c,status:u});case 10:throw e.prev=10,e.t0=e.catch(0),o&&this.getEvents().emit(T.c.RECOMMENDATION_REMOVE_FAIL,{uri:t}),e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,i,r,a){return g.apply(this,arguments)})},{key:"getPage",value:(s=(0,i.Z)(l().mark((function e(t,n,i,r,a){var o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(this._builder,t,n,i,r,a);case 2:return o=e.sent,s=o.body,c=o.status,this._getPageShouldEmitEnhancedWithRecs&&(this._events.emit(T.c.ENHANCED_WITH_NUM_RECS,{uri:t,numRecs:s.numTotalRecs}),this._getPageShouldEmitEnhancedWithRecs=!1),e.abrupt("return",{enhancePage:s,status:c});case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,n,i,r){return s.apply(this,arguments)})},{key:"decoratePageItems",value:(n=(0,i.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(this._graphQLBatchedLoader,this._inflightDecorationCache,this._tracksCache,this._userCache,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"updatePlayContextIfApplicable",value:(t=(0,i.Z)(l().mark((function e(t,n){var i,r,a,o,s,p,g,h,k,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(i=this._playerAPI.getState())||void 0===i?void 0:i.context.uri)===t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getContextState(t);case 4:if(a=e.sent,o=a.isEnhanced,s=a.iteration,!(0,c.nK)(t)){e.next=11;break}p=(0,v.U)(t,n&&(0,u._j)(n)),e.next=16;break;case 11:if(!(0,c.zO)(t)){e.next=15;break}p=(0,m.I)(t,n&&(0,d.w)(n)),e.next=16;break;case 15:return e.abrupt("return");case 16:if((r=p).metadata||(r.metadata={}),!o){e.next=28;break}if(s){e.next=20;break}return e.abrupt("return");case 20:return e.next=22,this.getPage(t,s,void 0,0,1);case 22:g=e.sent,h=g.enhancePage,p.url=null==h?void 0:h.dspContextUri,p.metadata[f.sb.SORTING_CRITERIA]="",e.next=30;break;case 28:p.url="context://".concat(t),p.metadata[f.sb.REPORTING_URI]=t;case 30:if(k=this._playerAPI.getState(),y=null==k?void 0:k.sessionId,(null==k?void 0:k.context.uri)===t&&y){e.next=35;break}return e.abrupt("return");case 35:this._playerAPI.updateContext(y,p);case 36:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}()},20805:(e,t,n)=>{"use strict";n.d(t,{O:()=>o,_:()=>s});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("useEnhanceAPI must be used within a EnhanceAPIProvider");return e}},6676:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var i=n(38674),r=n(59272),a=n(10785),o=function(e){var t,n=e.uri,o=e.renderEnabled,s=e.renderDisabled,l=(0,i.W6)(a.Up,{loadingValue:!1}),c=(0,i.W6)(a.We,{loadingValue:!1});return(0,r.nK)(n)&&l||(0,r.zO)(n)&&c?o():null!==(t=null==s?void 0:s())&&void 0!==t?t:null}},14050:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var i=n(39130),r=n(59496),a=n(56394),o=n(20805);function s(e){var t=(0,o._)(),n=(0,r.useState)(!1),s=(0,i.Z)(n,2),l=s[0],c=s[1],u=(0,r.useState)(),d=(0,i.Z)(u,2),p=d[0],m=d[1];(0,r.useEffect)((function(){var n=!1,i=t.subscribeToContextState(e,(function(e,t){e||n||(c(t.isEnhanced),m(t.iteration))}));return function(){i(),n=!0}}),[e,t]);var f=(0,r.useContext)(a.Gb).sortState,v=(0,r.useCallback)((function(n){return t.setIsEnhanced(e,n,f)}),[e,t,f]),g=(0,r.useCallback)((function(){return v(!l)}),[v,l]);return{isEnhanced:l,iteration:p,setIsEnhanced:v,toggleIsEnhanced:g}}},86517:(e,t,n)=>{"use strict";n.d(t,{g:()=>v});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(17249),o=n(76956),s=n(19224),l=n(20188),c=n(6676),u=n(14050),d=n(4637);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.uri,n=e.divider,i=e.spec,r=(0,u.U)(t),p=r.isEnhanced,m=r.toggleIsEnhanced,f=!(0,o.k)(),v=(0,l.$P)();return(0,d.jsx)(c.v,{uri:t,renderEnabled:function(){return(0,d.jsx)(s.s,{role:"menuitem",divider:n,disabled:f&&!p,onClick:function(){f&&!p||(i&&v.logInteraction(p?i.enhanceButtonFactory().hitUnenhanceContext({contextToBeUnenhanced:t}):i.enhanceButtonFactory().hitEnhanceContext({contextToBeEnhanced:t})),m())},children:p?a.ag.get("web-player.enhance.contextmenu.turn-off-enhance"):a.ag.get("web-player.enhance.contextmenu.turn-on-enhance")})}})},v=r.memo((function(e){return(0,d.jsx)(r.Suspense,{fallback:null,children:(0,d.jsx)(f,m({},e))})}))},58460:(e,t,n)=>{"use strict";n.d(t,{U:()=>i.U});var i=n(14050)},12734:(e,t,n)=>{"use strict";n.d(t,{hf:()=>v,jg:()=>m,nt:()=>f});var i=n(39130),r=n(45389),a=(n(59538),n(79611),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(55590),s=n(4637);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){switch(t.type){case"OPEN":return c(c({},e),{},{isOpen:!0});case"CLOSE":return c(c({},e),{},{isOpen:!1});default:(0,o.U)(t)}}var d=(0,a.createContext)(void 0),p=(0,a.createContext)((function(){})),m=function(e){var t=e.children,n=(0,a.useReducer)(u,{isOpen:!1}),r=(0,i.Z)(n,2),o=r[0],l=r[1];return(0,s.jsx)(p.Provider,{value:l,children:(0,s.jsx)(d.Provider,{value:o,children:t})})};function f(){var e=(0,a.useContext)(d);if(void 0===e)throw new Error("useLanguageSelectionModalState must be used within a LanguageSelectionModalContextProvider");return e}function v(){var e=(0,a.useContext)(p);if(void 0===e)throw new Error("useLanguageSelectionModalDispatch must be used within a LanguageSelectionModalDispatchContextProvider");return e}},98141:(e,t,n)=>{"use strict";n.d(t,{x:()=>d,K:()=>K});var i=n(59496),r=n(94320),a=n(64188),o=n(17249),s=n(40946),l=n(12734);const c="Ka2HOvFsfXcLu7He0nTD";var u=n(4637),d=function(){var e,t=o.ag.getLocale(),n=null!==(e=s.k1[t])&&void 0!==e?e:s.k1.en,d=(0,l.hf)(),p=(0,i.useCallback)((function(){d({type:"OPEN"})}),[d]);return(0,u.jsx)("div",{className:c,children:(0,u.jsx)(r.P,{iconLeading:a.z,buttonSize:"sm",onClick:p,"":"language-selection-button",children:n.displayName})})},p=n(45389),m=n(39130),f=(n(162),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(87995)),v=n(61740),g=n(10506),h=n(3269),k=n(32080),y=n(23066),b=n(1754),S=(n(63691),n(93381)),x=n(64),O=(n(48096),n(82088),n(83001),n(27639),n(71756),n(70238),n(45880),n(4302),n(66469),n(69109),n(59272)),w=n(76022),N=n(98335);const _="Gf_hXbIvfUvlnE_jnkw8";function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.children,n=e.locale,i=e.onClick,r=e.type,a=void 0===r?"button":r,o=n===w.ZW,s=(0,x.fd)(window.location.pathname),l=(0,O.EC)(window.location.pathname),c=(0,N.k)({type:"route",uri:s?"":null==l?void 0:l.toURI()}),d=function(e){if("button"===a){e.preventDefault();var t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}i(n)},p={className:_,id:n,onClick:function(e){return d(e)},"":"language-option-".concat(n)};if("link"===a){var m=(0,S.nT)(n),f=(0,S.ac)(window.location.pathname,!o),v=(0,S.is)(f,m),g=c?v:window.location.pathname,h=function(e){return e.endsWith("/")?e.slice(0,-1):e}("".concat(w.Lz).concat(g));return(0,u.jsx)("a",C(C({href:h},p),{},{children:t}))}return(0,u.jsx)("button",C(C({},p),{},{children:t}))};const I="QN6q7D8yep8_vpem9h9t";var j=function(e){var t=e.style,n=e.children;return(0,u.jsx)("div",{className:I,style:t,children:n})},A=n(84875),T=n.n(A);const D="zR8QNf_xkSN8l2nrr7qn",R="XOuJWoOqDoKhvu3tpsf1",F="VdanMHKK5Onw77cpKNJo",L="biCYmK3d8L8l7A_xC_Ge",M="uzrPPSY_Qq9u4Yos40TQ",U="VtOVn196CnZ8321SwK5W";var Z=function(e){var t=e.onClose,n=e.children,r=(0,i.useRef)(null),a=(0,l.nt)().isOpen;return(0,u.jsx)("div",{"":"language-selection-modal",className:T()(D,"encore-dark-theme",(0,p.Z)({},R,a)),onClick:function(e){e.target===r.current&&t()},role:"presentation",ref:r,children:n})},B=function(e){var t=e.ariaDescribedBy,n=e.ariaLabelledBy,i=e.children,r=(0,l.nt)().isOpen;return(0,u.jsx)("div",{className:F,role:"dialog",hidden:!r,"aria-modal":!0,"aria-labelledby":n,"aria-describedby":t,children:i})},V=n(14268),H=function(e){var t=e.onClose;return(0,u.jsx)("button",{"":"close-button",className:U,onClick:function(){t()},children:(0,u.jsx)(V.k,{iconSize:16,"aria-label":o.ag.get("close")})})},G=n(37146);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t,n=e.languageSelectionModalRef,r=(0,i.useRef)(null),a=(0,i.useState)("0"),c=(0,m.Z)(a,2),d=c[0],p=c[1],O=(0,l.hf)(),w=(0,v.v9)(G.br),N=(0,i.useCallback)((function(){O({type:"CLOSE"})}),[O]),_=(0,l.nt)().isOpen,E=(0,i.useCallback)((function(){r.current&&p("".concat(r.current.getBoundingClientRect().height,"px"))}),[p]),C=function(e){var t;(0,b.pC)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),N()};if(t=N,(0,i.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return window.addEventListener("keyup",e,!1),function(){return window.removeEventListener("keyup",e)}})),(0,y.y)({refOrElement:r,observeOnly:"height",onResize:E}),!n.current)return null;var I="language-selection-title",A="language-selection-subtitle",T={"--header-height":d};return(0,f.createPortal)((0,u.jsx)(k.i,{active:_,children:(0,u.jsx)("div",{children:(0,u.jsx)(Z,{onClose:N,children:(0,u.jsxs)(B,{ariaLabelledBy:I,ariaDescribedBy:A,children:[(0,u.jsxs)("div",{className:L,ref:r,children:[(0,u.jsxs)("div",{className:M,children:[(0,u.jsx)(g.D,{as:"h1",variant:"canon",semanticColor:"textBase",id:I,paddingBottom:h.dly,children:o.ag.get("i18n.language-selection.title")}),(0,u.jsx)(g.D,{as:"p",variant:"ballad",semanticColor:"textBase",id:A,paddingBottom:h.o78,children:o.ag.get("i18n.language-selection.subtitle")})]}),(0,u.jsx)(H,{onClose:N})]}),(0,u.jsx)(j,{style:z({},T),children:s.ge.map((function(e){var t=(0,S.nT)(e),n=(0,x.S9)({localeFeatureFlag:w,urlLocale:t,type:"locale"});return(0,u.jsxs)(P,{onClick:C,locale:e,type:n?"link":"button",children:[(0,u.jsx)(g.D,{semanticColor:"textBase",children:s.k1[e].displayName}),(0,u.jsx)(g.D,{children:s.k1[e].displayNameEn})]},e)}))})]})})})}),n.current)}},73025:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,r:()=>o});var i=n(59496),r=n(4637),a=(0,i.createContext)({onLibraryItemRemove:function(){}}),o=function(e){var t=e.onLibraryItemRemove,n=e.children;return(0,r.jsx)(a.Provider,{value:{onLibraryItemRemove:t},children:n})}},2257:(e,t,n)=>{"use strict";n.d(t,{H:()=>i.H});var i=n(73025)},93089:(e,t,n)=>{"use strict";n.d(t,{p:()=>O});var i=n(8850),r=n(83014),a=n(39130),o=n(10995),s=n.n(o),l=(n(83001),n(22369),n(82),n(27639),n(71756),n(62780),n(162),n(30246),n(59496)),c=n(17249),u=n(60377),d=n(83656),p=n(50200),m=n(11794),f=n(56394),v=n(78142),g=n(62179),h=n(20188),k=n(12033),y=n(58643),b=n(4637),S=new Set(f.P0),x=new Set([]),O=l.memo((function(e){var t=e.nrTracks,n=e.collectionUri,o=e.columns,O=e.initialItems,w=e.uri,N=e.sortable,_=void 0===N||N,E=e.scrollToUri,C=e.usePlayContextItem,P=e.outerDomRef,I=e.spec,j=(0,l.useContext)(g.H),A=(0,l.useRef)(null),T=(0,l.useContext)(p.fo).filter,D=(0,l.useRef)((function(){})),R=(0,l.useState)([]),F=(0,a.Z)(R,2),L=F[0],M=F[1],U=(0,l.useContext)(f.Gb),Z=U.sortState,B=U.setSortState,V=(0,h.$P)(),H=(0,l.useCallback)((function(e,t){e===m.QD.ADDED_AT?B({column:m.QD.ADDED_AT,order:Z.order===m.kn.ASC?m.kn.DESC:m.kn.ASC}):B((0,u.VK)(e,Z)),I&&V.logInteraction(I.columnHeaderFactory({identifier:e,position:t||0}).hitSort())}),[V,B,Z,I]);(0,l.useEffect)((function(){A.current&&E&&A.current.scrollToItem({uri:E})}),[E]);var G=(0,l.useCallback)((function(e){var t=e.map((function(e){return e.uri}));D.current(),null==j||j.remove.apply(j,(0,r.Z)(t))}),[j]),W=(0,l.useCallback)((function(e,t){D.current=t,e.length>1?M(e):G(e)}),[G]),z=(0,l.useCallback)(function(){var e=(0,i.Z)(s().mark((function e(t,n){var i,r,a,o,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==j?void 0:j.getTracks({offset:t,limit:n,uri:w,sort:(0,y.w)(Z),filter:T});case 2:return a=e.sent,o=null!==(i=null==a?void 0:a.totalLength)&&void 0!==i?i:0,l=null!==(r=null==a?void 0:a.items)&&void 0!==r?r:[],e.abrupt("return",{items:l,totalLength:o});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[T,j,Z,w]),K=(0,l.useCallback)((function(e,t){var i,r=(0,k.X)(null===(i=e.album)||void 0===i?void 0:i.images,{desiredSize:40,desiredLabel:"small"});return(0,b.jsx)(m.dx,{index:t,contextUri:n,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isCollaborative:!1,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:[],dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==r?void 0:r.url)||"",onMove:function(){},onInsert:function(){},usePlayContextItem:C,allowedDropTypes:[],isDisliked:!1,playlistName:c.ag.get("sidebar.liked_songs")},t+e.uri)}),[n,C]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.ZP,{value:"liked-songs-tracklist",children:(0,b.jsx)(m.Pv,{ariaLabel:c.ag.get("sidebar.liked_songs"),hasHeaderRow:!0,columns:o,sortableColumns:null!=j&&j.getCapabilities().canSortTracksAndEpisodes&&_?S:x,sortState:Z,onSort:H,renderRow:K,resolveUri:function(e){return e.uri},resolveUid:function(e){return e.uri},onRemove:W,nrTracks:t,fetchTracks:z,limit:50,canFetchAllTracks:null==j?void 0:j.getCapabilities().canFetchAllItems,outerRef:A,outerDomRef:P,tracks:O},n)}),(0,b.jsx)(d.h,{title:c.ag.get("remove_from_your_liked_songs"),isOpen:L.length>0,tracks:L,onClose:function(e){e.stopPropagation(),M([])},onRemove:G})]})}))},58643:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var i,r=n(45389),a=n(60377),o=n(54828),s=n(51069),l=(i={},(0,r.Z)(i,s.bD.ADDED_AT,o._1.ADDED_AT),(0,r.Z)(i,s.bD.ADDED_BY,null),(0,r.Z)(i,s.bD.ALBUM,o._1.ALBUM_NAME),(0,r.Z)(i,s.bD.ARTIST,o._1.ARTIST_NAME),(0,r.Z)(i,s.bD.DURATION,null),(0,r.Z)(i,s.bD.TITLE,o._1.NAME),i),c=function(e){var t=(0,a._j)(e);if(t){var n=l[t.field],i=t.order;if(n&&i)return{field:n,order:i}}}},4517:(e,t,n)=>{"use strict";n.d(t,{p:()=>v});n(30246);var i=n(17249),r=n(23498),a=n(72030),o=n(1003),s=n(35051),l=n(59672),c=n(61740),u=n(29893),d=n(3385),p=n(834);var m=n(4637),f=function(e){var t=e.metadata,n=e.index,s=(0,o.n)({uri:t.uri},{featureIdentifier:"your_library"}),l=s.isPlaying,c=s.togglePlay,u=t.name,d=t.images;return(0,m.jsx)(r.Z,{index:n,delegatePlayback:!0,delegateLogging:!0,isPlaying:l,featureIdentifier:"your_library",onPlay:function(e,t){return c({loggingParams:t})},headerText:u,uri:t.uri,renderCardImage:function(){return(0,m.jsx)(a.x,{images:d})},renderSubHeaderContent:function(){return(0,m.jsx)("span",{children:i.ag.get("tracklist-header.songs-counter",t.totalLength)})}})},v=function(e){var t=e.index,n=function(){var e=(0,d.MY)({offset:0,limit:1}),t=(0,c.v9)(u.Gg).user;if(null===e||null===t)return null;var n=(0,l.I2)(t.id);return n?{uri:n.uri,name:n.name,images:n.images,totalLength:null==e?void 0:e.totalLength,unfilteredTotalLength:e.unfilteredTotalLength,owner:(0,p.V)(t)}:null}();return n?(0,m.jsx)(f,{metadata:n,index:t}):(0,m.jsx)(s.A,{cardImage:(0,m.jsx)(a.x,{images:[l.Ds]}),isLoading:!0})}},79883:(e,t,n)=>{"use strict";n.d(t,{S:()=>d});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(24478);const o="fRZRXRIV2YBCFLYgwDAr";var s=n(4637),l=["iconSize"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.iconSize,n=void 0===t?64:t,i=(0,r.Z)(e,l);return(0,s.jsx)("div",{className:o,children:(0,s.jsx)(a._,u(u({iconSize:n},i),{},{semanticColor:"textBrightAccent","aria-hidden":!0}))})}},28141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});n(162);var i=n(59496),r=n(10506),a=n(17249),o=n(45389),s=n(84875),l=n.n(s),c=n(91929);const u="lyrics-lyricsContent-lyric",d="lyrics-lyricsContent-active",p="lyrics-lyricsContent-highlight",m="lyrics-lyricsContent-unsynced",f="lyrics-lyricsContent-isInteractive",v="lyrics-lyricsContent-provider";var g=n(4637),h=i.memo((function(e){var t,n=e.onObserve,r=e.text,a=e.lineNumber,s=e.activeLineIndex,v=e.isTimeSynced,h=e.onClick,k=e.onActiveLineChange,y=(0,c.YD)({threshold:0,triggerOnce:!0}),b=y.ref,S=y.inView;(0,i.useEffect)((function(){S&&n(r)}),[S,n,r]);var x=(0,i.useRef)(),O=(0,i.useRef)(!0);(0,i.useEffect)((function(){k(x,O.current),O.current=!1}),[s,k]);var w=(0,i.useCallback)((function(e){b(e),x.current=e||void 0}),[b]);return(0,g.jsx)("div",{dir:"auto",className:l()(u,(t={},(0,o.Z)(t,f,!!h),(0,o.Z)(t,d,s===a),(0,o.Z)(t,p,s>a),(0,o.Z)(t,m,!v),t)),"":"fullscreen-lyric",ref:w,onClick:h,children:r})})),k=n(83014),y=n(39130),b=(n(69109),n(96807),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(68975));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={start:0,end:1,text:""},w=(n(94562),n(92454)),N=n(9271),_=n(94152);var E=i.memo((function(e){var t=e.trackUri,n=e.data,o=e.format,s=e.onLineClick,l=e.onActiveLineChange,c=n.provider,u=n.providerLyricsId,d=n.providerDisplayName,p=n.syncType,m=n.isTimeSynced,f=function(e,t){var n=(0,i.useRef)(0),r=t.lyrics,a=void 0===r?[]:r,o=t.isTimeSynced,s=(0,i.useRef)(0),l=(0,b.B)(500,(function(t){var n;return(null==t||null===(n=t.item)||void 0===n?void 0:n.uri)===e})),c=(0,y.Z)(l,1)[0],u=(0,i.useMemo)((function(){return[O,O].concat((0,k.Z)(a)).map((function(e,t){return x(x({},e),{},{lineNumber:t})}))}),[a]),d=o?u.findIndex((function(e){var t=e.start,n=e.end;return c>=t&&c<n})):-1,p=s.current;s.current=d;var m=Math.abs(d-p)<=4,f=Math.abs(c-n.current)>2e3;return n.current=c,{lyricWithEmptyLines:u,activeLineIndex:d,prevActiveLineIndex:p,lineIndexDiff:d-p,shouldAnimateScroll:m,hasSkipped:f}}(t,n),S=f.lyricWithEmptyLines,E=f.activeLineIndex,C=f.hasSkipped,P=f.shouldAnimateScroll,I=function(e){var t=e.trackUri,n=e.format,r=e.provider,a=e.providerLyricsId,o=e.syncType,s=(0,i.useState)(!1),l=(0,y.Z)(s,2),c=l[0],u=l[1],d=(0,i.useState)(0),p=(0,y.Z)(d,2),m=p[0],f=p[1],v=(0,i.useState)(!1),g=(0,y.Z)(v,2),h=g[0],k=g[1],b=(0,N.Y)((function(e){var t;return null!==(t=null==e?void 0:e.playbackId)&&void 0!==t?t:void 0})),S=(0,i.useMemo)((function(){return(0,w.N)({lyrics_format:n,track_uri:t,provider:r,provider_lyrics_id:a,sync_type:o,playback_id:b})}),[n,r,a,o,t,b]);(0,i.useEffect)((function(){u(!1),f(0),k(!1);var e=setTimeout((function(){k(!0)}),1500);return function(){clearTimeout(e)}}),[S]);var x=(0,_.s4)();return(0,i.useEffect)((function(){c||m>=140&&h&&(x.send(S),u(!0))}),[m,c,S,x,h]),(0,i.useCallback)((function(e){e.length>1&&f((function(t){return t+e.length}))}),[f])}({trackUri:t,format:o,provider:c,providerLyricsId:u,syncType:p});return(0,g.jsxs)(g.Fragment,{children:[S.map((function(e){var t=e.text,n=e.lineNumber;return(0,g.jsx)(h,{text:t,lineNumber:n,activeLineIndex:E,isTimeSynced:m,onObserve:I,onClick:s&&function(e){return s(e,S[n].start)},onActiveLineChange:function(e,t){return l({lineRef:e,firstUpdate:t,isFirstLine:m&&0===n,isActiveLine:m&&E===n,activeLineIndex:E,hasSkipped:C,shouldAnimateScroll:P})}},n)})),d&&(0,g.jsx)("div",{className:v,children:(0,g.jsx)(r.D,{as:"p",variant:"mesto",dir:"auto",children:a.ag.get("web-player.lyrics.providedBy",d)})})]})}))},57360:(e,t,n)=>{"use strict";n.d(t,{Z:()=>de});var i=n(45389),r=n(84875),a=n.n(r),o=n(61740),s=n(38185),l=n(59272),c=n(8161),u=n(3531),d=n(92987),p=n(9271),m=n(59496),f=n(10506),v=n(42888),g=n(17249),h=n(87164),k=n(78742),y=n(20188),b=n(28141);const S="lyrics-lyrics-contentContainer",x="lyrics-lyrics-contentWrapper",O="lyrics-lyricsContent-description";var w=n(4637),N=function(e){var t=e.trackUri,n=e.data,i=e.format,r=(0,y.fU)(v.createDesktopLyricsEventFactory,{data:{uri:t}}),a=r.spec,o=r.logger,s=(0,k.g)(),l=(0,m.useContext)(h.VX),c=(0,m.useCallback)((function(e,t){var n=a.lyricsLineFactory().hitSeekToTime({msToSeekTo:t});o.logInteraction(n),e.currentTarget.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),s.seekTo(t);var i=s.getState();i&&!i.isPaused||s.resume()}),[o,s,a]),u=(0,m.useCallback)((function(e){var t=e.lineRef,n=e.firstUpdate,i=e.isFirstLine,r=e.isActiveLine,a=e.activeLineIndex,o=e.hasSkipped,s=e.shouldAnimateScroll;if(t.current&&l.scrollNodeRef.current&&(r||i&&a<0)){var c,u=t.current.getBoundingClientRect().top,d=l.scrollNodeRef.current.getBoundingClientRect().height,p=d/4,m=u>=p&&u<=d-p;if(!m&&!(n||o))return;var f="visible"===document.visibilityState&&s&&m?"smooth":"auto";null===(c=t.current)||void 0===c||c.scrollIntoView({behavior:f,block:"center",inline:"center"})}}),[l.scrollNodeRef]);return(0,w.jsx)("div",{className:S,children:(0,w.jsxs)("div",{className:x,children:[!n.isTimeSynced&&(0,w.jsx)(f.D,{as:"p",variant:"mesto",className:O,dir:"auto",children:g.ag.get("web-player.lyrics.unsynced")}),(0,w.jsx)(b.Z,{trackUri:t,data:n,format:i,onLineClick:n.isTimeSynced?c:void 0,onActiveLineChange:u},t)]})})},_=n(55590);const E="oNqyFdyc0Z01aWTF8qtF",C="C3pBU1DsOUJJOAv89ZFT";var P=(0,m.memo)((function(e){var t,n=e.version,i=(t=[g.ag.get("web-player.lyrics.noLyrics0"),g.ag.get("web-player.lyrics.noLyrics1"),g.ag.get("web-player.lyrics.noLyrics2"),g.ag.get("web-player.lyrics.noLyrics3")],{getMessage:function(e){var n;switch(e){case"ad":n=g.ag.get("web-player.lyrics.ad");break;case"error":n=g.ag.get("web-player.lyrics.error");break;case"unavailable":n=t[Math.floor(Math.random()*t.length)];break;default:(0,_._)(e),n=""}return n}}),r=i.getMessage;return(0,w.jsx)("div",{className:E,children:(0,w.jsx)("span",{className:C,children:r(n)})})})),I=(n(40274),n(22369),n(162),n(7198)),j=n(88520),A=n(29395),T=n(98465),D=n(70802),R=n(94782),F=n(47982),L=n(14255),M=n(15134),U=n(19224),Z=n(8850),B=n(39130),V=n(10995),H=n.n(V),G=n(66687),W=n(737);const z="qnJd7AVNVGM33NxaibzG",K="tPJJwfJAQV0WDsE9Kfmd";var Y=[{volume:G.B.SING_ALONG_OFF,icon:(0,w.jsx)(I.D,{iconSize:16}),get label(){return g.ag.get("singalong.off")}},{volume:G.B.HIGH,icon:(0,w.jsx)(j.d,{iconSize:16}),get label(){return g.ag.get("singalong.more-vocal")}},{volume:G.B.LOW,icon:(0,w.jsx)(A.J,{iconSize:16}),get label(){return g.ag.get("singalong.less-vocal")}}],q=m.memo((function(e){var t=function(e){var t=(0,W.$)(),n=(0,m.useState)(G.B.SING_ALONG_OFF),i=(0,B.Z)(n,2),r=i[0],a=i[1],o=t.getCapabilities().isSupported;(0,m.useEffect)((function(){t.setStatus(G.q.DISABLED).then((function(){a(G.B.SING_ALONG_OFF)}))}),[e,t]),(0,m.useEffect)((function(){return function(){t.setStatus(G.q.DISABLED)}}),[t]);var s=(0,m.useCallback)(function(){var e=(0,Z.Z)(H().mark((function e(n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==G.B.SING_ALONG_OFF){e.next=5;break}return e.next=3,t.setStatus(G.q.DISABLED);case 3:e.next=7;break;case 5:return e.next=7,t.setStatus(G.q.ENABLED);case 7:return e.next=9,t.setVocalVolume(n);case 9:a(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return{isSupported:o,volume:r,setVocalVolume:s}}(e.currentTrackUri),n=t.isSupported,r=t.volume,o=t.setVocalVolume,s=(0,m.useCallback)((function(e){n&&o(e.volume)}),[n,o]);if(!n)return null;var l=Y.find((function(e){return e.volume===r})),c=(null==l?void 0:l.volume)===G.B.SING_ALONG_OFF;return(0,w.jsx)(F.yj,{menu:(0,w.jsxs)(L.v,{children:[(0,w.jsx)(M.F,{children:g.ag.get("singalong.title")}),Y.map((function(e){return(0,w.jsx)(U.s,{role:"menuitemradio","aria-checked":r===e.volume,"aria-label":e.label,onClick:function(){return s(e)},leadingIcon:e.icon,children:e.label},e.volume)}))]}),children:function(e,t,n){return(0,w.jsxs)("button",{onClick:t,ref:n,type:"button",className:a()(z,(0,i.Z)({},K,c)),children:[c?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(T.r,{iconSize:16}),(0,w.jsx)(f.D,{variant:"mesto",children:g.ag.get("singalong.button")})]}):(0,w.jsxs)(w.Fragment,{children:[l.icon,(0,w.jsx)(f.D,{variant:"mesto",children:l.label})]}),e?(0,w.jsx)(D.U,{iconSize:16}):(0,w.jsx)(R.i,{iconSize:16})]})}})})),Q=n(60817),J=n(54954),X=n(9182),$=n(19183);const ee="lyrics-lyrics-container",te="lyrics-lyrics-adLeaderboardIsEnabled",ne="lyrics-lyrics-coverTopBar",ie="DADZePCqi2OVZpayspK_",re="lyrics-lyrics-background",ae="lyrics-lyrics-vocalRemoval";var oe=(0,w.jsx)("div",{className:ie,children:(0,w.jsx)(J.H,{})}),se=(0,w.jsx)(P,{version:"error"}),le=(0,w.jsx)(P,{version:"ad"}),ce=(0,w.jsx)(P,{version:"unavailable"}),ue={active:s.ixZ,inactive:s.Snx,passed:s.Snx,background:s.tGJ,messaging:s.ixZ};const de=function(e){var t,n=e.coverTopBar,r=void 0!==n&&n,s=e.format,m=(0,$.A)(),f=(0,d.O)(),v=(0,p.Y)((function(e){return null==e?void 0:e.item}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),g=(null==v?void 0:v.uri)||"",h=(0,X.C)(g,null==v?void 0:v.images),k=h.data,y=h.loading,b=h.error,S=ue;null!=k&&k.hasLyrics&&(S={active:k.colors.activeText,inactive:k.colors.text,passed:u.Il.fromCSS(k.colors.activeText,.7).toCSS(u.jT.RGBA),background:k.colors.background,messaging:k.colors.text}),(0,c.Y)(S.background,ue.background);var x=(0,p.Y)((function(e){var t;return null==e||null===(t=e.nextItems)||void 0===t?void 0:t[0]}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)}));(0,X.C)(null==x?void 0:x.uri,null==x?void 0:x.images);var O=oe,_=!1;if(g)if((0,l.mg)(g))O=le;else if(b)O=se;else if(y)O=oe;else if(k)if(k.hasLyrics){var E,C,P=null!==(E=null===(C=f.activeDevice)||void 0===C?void 0:C.isLocal)&&void 0!==E&&E;_=m&&k.hasVocalRemoval&&P,O=(0,w.jsx)(N,{trackUri:g,data:k,format:s})}else O=ce;var I=(0,o.v9)((function(e){return e.ads.leaderboard.isEnabled})),j={"--lyrics-color-active":S.active,"--lyrics-color-inactive":S.inactive,"--lyrics-color-passed":S.passed,"--lyrics-color-background":S.background,"--lyrics-color-messaging":S.messaging};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Q.$,{usePlayingItem:!0,children:"Spotify"}),(0,w.jsxs)("div",{className:a()(ee,(t={},(0,i.Z)(t,te,I),(0,i.Z)(t,ne,!r),t)),style:j,children:[(0,w.jsx)("div",{className:re}),O,_?(0,w.jsx)("div",{className:ae,children:(0,w.jsx)(q,{currentTrackUri:g})}):null]})]})}},9182:(e,t,n)=>{"use strict";n.d(t,{C:()=>h});var i=n(8850),r=n(10995),a=n.n(r),o=n(9102),s=n(59272),l=n(39106),c=n(19183),u=(n(162),n(87132)),d=n(3531);var p=n(16202);function m(e,t,n){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a().mark((function e(t,n,i){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.S)(t,n,i);case 3:return o=e.sent,e.abrupt("return",{hasLyrics:!0,isTimeSynced:(s=o.lyrics.syncType,"LINE_SYNCED"===s||"SYLLABLE_SYNCED"===s),syncType:o.lyrics.syncType,lyrics:o.lyrics.lines.map(v),colors:(a=o.colors,{text:g(a.text),activeText:g(a.highlightText),background:g(a.background)}),provider:o.lyrics.provider,providerDisplayName:o.lyrics.providerDisplayName,providerLyricsId:o.lyrics.providerLyricsId,hasVocalRemoval:null!==(r=o.hasVocalRemoval)&&void 0!==r&&r});case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof u.m&&404===e.t0.status)){e.next=11;break}return e.abrupt("return",{hasLyrics:!1});case 11:throw e.t0;case 12:case"end":return e.stop()}var a,s}),e,null,[[0,7]])})))).apply(this,arguments)}function v(e,t,n){var i=e.startTimeMs,r=e.words,a=n[t+1];return{start:i||0,end:a&&a.startTimeMs?a.startTimeMs:1/0,text:r}}function g(e){var t=function(e){return{r:e>>16&255,g:e>>8&255,b:255&e}}(e);return d.Il.fromRGB(t).toCSS(d.jT.RGB)}var h=function(e,t){var n,r,u,d=null!==(n=null!==(r=(0,l.o)(t||void 0,{desiredLabel:"large",desiredSize:600}))&&void 0!==r?r:null==t||null===(u=t[0])||void 0===u?void 0:u.url)&&void 0!==n?n:"",p=(0,c.A)(),f=["lyrics",{uri:e,image:d,vocalRemoval:p}],v=(0,o.useQuery)(f,(0,i.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&d&&(0,s.wj)(e)){t.next=2;break}return t.abrupt("return",{hasLyrics:!1});case 2:return t.next=4,m(e,d,p);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),{cacheTime:18e5,staleTime:6e5}),g=v.data;return{data:null!=g?g:null,loading:v.isLoading,error:v.isError}}},19183:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(38674),r=n(10785),a=n(737),o=function(){var e=(0,a.$)().getCapabilities().isSupported;return(0,i.W6)(r.cp,{loadingValue:!1})&&e}},16202:(e,t,n)=>{"use strict";n.d(t,{S:()=>c,y:()=>u});var i=n(8850),r=n(10995),a=n.n(r),o=(n(69109),n(59272)),s=n(60808),l=n(32953),c=function(){var e=(0,i.Z)(a().mark((function e(t,n,i){var r,c,u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.EC)(t),c=r.id,u=s.b.getInstance(),e.next=5,u.build().withHost(l.f).withPath("/track/".concat(encodeURIComponent(c),"/image/").concat(encodeURIComponent(n))).withQueryParameters({format:"json",vocalRemoval:i}).withEndpointIdentifier("/track/{trackId}").send();case 5:return d=e.sent,e.abrupt("return",d.body);case 7:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)(a().mark((function e(t){var n,i,r,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,o.QS)(null===(n=(0,o.EC)(t))||void 0===n?void 0:n.id)){e.next=3;break}return e.abrupt("return",!1);case 3:return c=s.b.getInstance(),e.next=6,c.build().withHost(l.Z9).withPath("/track/".concat(encodeURIComponent(r))).withEndpointIdentifier("/track/{trackId}").send();case 6:return u=e.sent,e.abrupt("return",(null===(i=u.body)||void 0===i?void 0:i.has_lyrics)||!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},86120:(e,t,n)=>{"use strict";n.d(t,{s:()=>v});n(162),n(30246),n(61235),n(69724);var i=n(56014),r=n(17249),a=n(54658),o=n(78142),s=n(20188),l=n(59496),c=n(55961),u=n(23498),d=n(72030),p=n(4637),m=function(e){var t=e.merchId,n=e.spec,i=e.uri,r=e.url,a=e.images,o=e.description,m=e.merchName,f=void 0===m?"":m,v=e.testId,g=e.index,h=e.merchVariant,k=(0,s.$P)(),y=(0,l.useMemo)((function(){return n.merchCardFactory({identifier:t,uri:i,position:g})}),[t,i,n,g]),b=function(){window.open(r,"_blank");var e=y.hitNavigateToExternalUri({destination:r});k.logInteraction(e)},S=(0,s.Wi)(y);return(0,p.jsx)("div",{ref:S,children:(0,p.jsx)(u.C,{delegateNavigation:!0,index:g,onClick:b,headerText:f,featureIdentifier:"playlist",requestId:h,uri:i,isPlayable:!1,renderCardImage:function(){return(0,p.jsx)(d.x,{images:a})},renderSubHeaderContent:function(){return(0,p.jsx)(p.Fragment,{children:o?(0,p.jsx)(c.N,{source:o,onLinkClick:b}):f&&(0,p.jsxs)("span",{children:["Description: ",f]})})},testId:v})})},f=n(66508),v=function(e){var t=e.id,n=e.merchItems,l=e.merchVariant,c=e.uri,u=(0,s.fU)(i.createDesktopMerchShelfEventFactory,{data:{identifier:t,uri:c,position:0,reason:l}}).spec;return(0,p.jsx)(o.JL,{value:"shelf/offers","":"merch-shelf",children:(0,p.jsx)(a.P,{total:n.length,title:r.ag.get("web-player.merch.title"),className:f.Z.artistShelfSpacer,seeAllLabel:r.ag.get("web-player.merch.seeAllUri"),children:n.map((function(e,t){var n;return e.url&&e.name?(0,p.jsx)(o.JL,{value:"card",index:t,children:(0,p.jsx)(m,{index:t,url:e.url,uri:e.uri,merchName:e.name,description:e.description||"",images:(null===(n=e.image)||void 0===n?void 0:n.sources)||[],merchVariant:l,merchId:e.uri,spec:u},e.url)},e.url):null}))})})}},54334:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var i=n(96339),r=n(4637);function a(e){var t=e.children,n=e.pageId,a=e.navigationalRoot,o=e.entityUri;return(0,r.jsx)(i.e,{navigationalRoot:a,pageId:n,entityUri:o,children:t})}},78960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InstrumentedRedirect:()=>d});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(41177),a=n(21558),o=n(20188),s=n(84435);var l=n(4637);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.to,n=e.state,i=(0,r.UO)(),c=function(){var e,t=(0,r.TH)(),n=(0,o.$P)(),i=null===(e=t.state)||void 0===e?void 0:e.interactionId;return null!=i?i:n.getInteractionId((0,s.S)(t.pathname))}();return"string"==typeof t?(0,l.jsx)(r.Fg,{to:(0,a.Gn)(t,i),state:u(u({},n),{},{interactionId:c}),replace:!0}):(0,l.jsx)(r.Fg,{to:u(u({},t),{},{pathname:(0,a.Gn)(t.pathname,i)}),state:u(u({},n),{},{interactionId:c}),replace:!0})}},50099:(e,t,n)=>{"use strict";n.d(t,{T:()=>g});var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(83349),l=n(75897);const c="cover-art",u="cover-art-auto-height",d="cover-art-icon",p="cover-art-image";var m=n(4637),f=(0,r.memo)((function(e){var t=e.imgSrc,n=e.className,r=e.onClick,a=e.type,f=e.width,v=e.height,g=e.loading,h=void 0===g?"lazy":g,k=o()(c,n,(0,i.Z)({},u,!v));return(0,m.jsxs)("div",{className:k,style:{width:f||"auto",height:v||"auto"},onClick:r,"aria-hidden":"true",children:[(0,m.jsx)("div",{className:d,children:(0,m.jsx)(s.t,{type:a})}),(0,m.jsx)(l.E,{testid:"cover-art-image",loading:h,src:t,className:p})]})})),v=n(39106),g=function(e){var t,n=e.item,i=e.size,r=e.maxSize,a=void 0===r?i:r,o=e.desiredLabel,s=void 0===o?"":o,l=e.className,c=(0,v.o)(null!==(t=null==n?void 0:n.images)&&void 0!==t?t:void 0,{desiredSize:a,desiredLabel:s});return(0,m.jsx)("div",{className:l,children:(0,m.jsx)(f,{loading:"eager",imgSrc:c,width:i,height:i,type:null==n?void 0:n.type})})}},23514:(e,t,n)=>{"use strict";n.d(t,{_:()=>H});var i=n(84875),r=n.n(i),a=n(13833),o=n(17249);const s="main-trackInfo-container",l="main-trackInfo-name",c="main-trackInfo-artists",u="main-trackInfo-enhanced";var d=n(4637),p=function(e){var t,n=e.item;return(0,d.jsx)("div",{className:u,children:"enhanced_recommendation"===(null==n||null===(t=n.metadata)||void 0===t?void 0:t.provider)&&(0,d.jsx)(a._,{semanticColor:"textPositive",title:o.ag.get("web-player.enhance.button_text_enhanced"),iconSize:16,width:14,height:14,"":"enhance-badge"})})},m=(n(83001),n(22369),n(8760),n(27639),n(71756),n(30246),n(59496)),f=n(10506),v=n(79063),g=n(18713),h=n(24122),k=n(55590),y=n(59272),b=n(77812),S=n(88843),x=n(96692),O=n(47982),w=function(e){var t,n=e.item,i=e.onClick,r=n.book,a=null===(t=(0,y.EC)(r.uri))||void 0===t?void 0:t.toURLPath(!0),o=(0,x.O)([r.uri],n.book.name);return a?(0,d.jsx)(O._P,{menu:(0,d.jsx)(b.X,{uri:r.uri}),children:(0,d.jsx)(S.default,{to:a,draggable:!0,onDragStart:o,"":"context-item-info-book",dir:"auto",onClick:i,children:r.name})}):(0,d.jsx)("span",{dir:"auto",children:r.name})},N=n(32563),_=function(e){var t,n=e.item,i=e.onClick,r=n.show,a=null===(t=(0,y.EC)(r.uri))||void 0===t?void 0:t.toURLPath(!0),o=(0,x.O)([r.uri],r.name);return a?(0,d.jsx)(O._P,{menu:(0,d.jsx)(N.M,{uri:r.uri}),children:(0,d.jsx)("span",{draggable:!0,onDragStart:o,children:(0,d.jsx)(S.default,{to:a,"":"context-item-info-show",dir:"auto",onClick:i,children:r.name})})}):(0,d.jsx)("span",{dir:"auto",children:r.name})},E=(n(162),n(60221)),C=function(e){var t=e.item,n=e.onClick,i=(0,x.O)();return(0,d.jsx)(d.Fragment,{children:t.artists.map((function(e,t){var r,a=null===(r=(0,y.EC)(e.uri))||void 0===r?void 0:r.toURLPath(!0);return(0,d.jsxs)("span",{children:[t>0?o.ag.getSeparator():null,a?(0,d.jsx)(O._P,{menu:(0,d.jsx)(E.m,{uri:e.uri}),children:(0,d.jsx)(S.default,{to:a,"":"context-item-info-artist",dir:"auto",draggable:!0,onDragStart:function(t){i(t,[e.uri],e.name)},onClick:n,children:e.name})}):(0,d.jsx)("span",{dir:"auto",children:e.name})]},t)}))})},P=function(e){var t=e.item,n=e.onClick,i=(0,x.O)();return(0,d.jsx)(d.Fragment,{children:t.artists.map((function(e,t){var r,a=null===(r=(0,y.EC)(e.uri))||void 0===r?void 0:r.toURLPath(!0);return(0,d.jsxs)("span",{children:[t>0?o.ag.getSeparator():null,a?(0,d.jsx)(O._P,{menu:(0,d.jsx)(E.m,{uri:e.uri}),children:(0,d.jsx)(S.default,{to:a,"":"context-item-info-artist",dir:"auto",draggable:!0,onClick:n,onDragStart:function(t){i(t,[e.uri],e.name)},children:e.name})}):(0,d.jsx)("span",{dir:"auto",children:e.name})]},t)}))})},I=(0,m.lazy)((function(){return n.e(340).then(n.bind(n,40340))})),j=function(e){var t=e.item,n=e.isNowPlayingView,i=void 0!==n&&n,r=e.onClick,a=e.typeVariant,o=void 0===a?"finale":a,s=null,l=(0,v.Q)(t),u=(0,h.k6)(t)?null==l?void 0:l.title:t.name;if((0,h.G_)(t))s=(0,d.jsx)(C,{item:t,onClick:r});else if((0,h.iw)(t))s=(0,d.jsx)(_,{item:t,onClick:r});else if((0,h.G7)(t))s=(0,d.jsx)(w,{item:t,onClick:r});else if((0,h.k6)(t)){if(i)return null;s=(0,d.jsx)(m.Suspense,{fallback:!0,children:(0,d.jsx)(I,{item:t,onClick:r})})}else(0,h.RB)(t)?s=(0,d.jsx)(P,{item:t,onClick:r}):(0,k.U)(t);return(0,d.jsx)("div",{className:c,children:(0,d.jsx)(g.R,{title:u,children:(0,d.jsx)(f.D,{"":"context-item-info-subtitles",as:"div",variant:o,className:c,semanticColor:"textSubdued",children:s})},t.uri)})},A=n(61740),T=n(51238),D=function(e){var t=e.item,n=e.onClick,i=e.isNowPlayingView,r=void 0!==i&&i,a=(0,A.I0)(),o=(0,v.Q)(t),s=o.title,l=o.url,c="advertiser_title_".concat(r?"npv":"npb");return null!==l?(0,d.jsx)("a",{"":"context-item-info-ad-title",onClick:function(e){return null==n||n(e,l),a((0,T.nX)(c))},href:l,rel:"noopener noreferrer",target:"_blank",children:s}):(0,d.jsx)(d.Fragment,{children:s})},R=n(37557);var F=function(e){var t=e.item,n=e.children,i=e.onClick,r=function(e){var t,n,i,r,a,o;return(0,h.G_)(e)?null!==(t=null===(n=(0,y.EC)(e.album.uri))||void 0===n?void 0:n.toURLPath(!0))&&void 0!==t?t:"#":(0,h.iw)(e)?null!==(i=null===(r=(0,y.EC)(e.uri))||void 0===r?void 0:r.toURLPath(!0))&&void 0!==i?i:"#":(0,h.G7)(e)?null!==(a=null===(o=(0,y.EC)(e.uri))||void 0===o?void 0:o.toURLPath(!0))&&void 0!==a?a:"#":((0,h.k6)(e)||(0,h.RB)(e)||(0,k._)(e),"#")}(t);return(0,h.G_)(t)||(0,h.iw)(t)||(0,h.G7)(t)?(0,d.jsx)(S.default,{"":"context-item-link",style:{border:"none"},to:r,onClick:i,children:n}):(0,h.k6)(t)||(0,h.RB)(t)?(0,d.jsx)(d.Fragment,{children:n}):(0,k.U)(t)},L=function(e){var t=e.item,n=e.context,i=e.onClick;return(0,d.jsx)(O._P,{menu:(0,d.jsx)(R.$,{context:n,item:t}),children:(0,d.jsx)(F,{item:t,onClick:i,children:t.name})})},M=n(75081),U=function(e){var t=e.item,n=e.context,i=e.onClick,r=(0,x.O)([t.uri],(0,M.R)(t));return(0,d.jsx)(O._P,{menu:(0,d.jsx)(R.$,{context:n,item:t}),children:(0,d.jsx)("span",{draggable:!0,onDragStart:r,children:(0,d.jsx)(F,{item:t,onClick:i,children:t.name})})})},Z=function(e){var t=e.item,n=e.context,i=e.onClick,r=(0,x.O)();return(0,d.jsx)(O._P,{menu:(0,d.jsx)(R.$,{context:n,item:t}),children:(0,d.jsx)("span",{draggable:!0,onDragStart:function(e){r(e,[t.uri],(0,M.R)(t))},children:(0,d.jsx)(F,{item:t,onClick:i,children:t.name})})})},B=function(e){var t=e.item,n=e.context,i=e.onClick,r=(0,x.O)();return(0,d.jsx)(O._P,{menu:(0,d.jsx)(R.$,{context:n,item:t}),children:(0,d.jsx)("span",{draggable:!0,onDragStart:function(e){r(e,[t.uri],(0,M.R)(t))},children:(0,d.jsx)(F,{item:t,onClick:i,children:t.name})})})},V=function(e){var t=e.context,n=e.item,i=e.onClick,r=e.typeVariant,a=void 0===r?"mesto":r,o=e.isNowPlayingView,s=void 0!==o&&o,c=null,u=(0,v.Q)(n),p=(0,h.k6)(n)?null==u?void 0:u.title:n.name;return(0,h.G_)(n)&&n.isLocal?c=(0,d.jsx)(d.Fragment,{children:n.name}):(0,h.iw)(n)?c=(0,d.jsx)(U,{onClick:i,item:n,context:t}):(0,h.G_)(n)?c=(0,d.jsx)(Z,{onClick:i,item:n,context:t}):(0,h.G7)(n)?c=(0,d.jsx)(L,{onClick:i,item:n,context:t}):(0,h.k6)(n)?c=(0,d.jsx)(D,{onClick:i,item:n,isNowPlayingView:s}):(0,h.RB)(n)?c=(0,d.jsx)(B,{onClick:i,item:n,context:t}):(0,k.U)(n),(0,d.jsx)("div",{className:l,children:(0,d.jsx)(g.R,{title:p,children:(0,d.jsx)(f.D,{"":"context-item-info-title",as:"div",variant:a,className:l,dir:"auto",children:c})},n.uri)})},H=function(e){var t=e.context,n=e.item,i=e.isNowPlayingView,a=void 0!==i&&i,o=e.className,l=e.titleTypeVariant,c=e.subtitleTypeVariant,u=e.onTitleClick,m=e.onSubtitleClick;return(0,d.jsxs)("div",{className:r()(o,s),children:[(0,d.jsx)(V,{context:t,item:n,onClick:function(e,t){return null==u?void 0:u(t)},typeVariant:l,isNowPlayingView:a}),(0,d.jsx)(p,{item:n}),(0,d.jsx)(j,{item:n,onClick:function(e,t){return null==m?void 0:m(t)},typeVariant:c,isNowPlayingView:a})]})}},37557:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var i=n(9408),r=n(22355),a=n(98235),o=n(87360),s=n(24122),l=n(4637),c=function(e){var t,n,c,u,d,p,m,f,v=e.context,g=e.item;return(0,s.G_)(g)?(0,l.jsx)(a.$,{uid:null!==(t=g.uid)&&void 0!==t?t:"",uri:g.uri,albumUri:g.album.uri,artists:g.artists,contextUri:null!==(n=v.uri)&&void 0!==n?n:""}):(0,s.iw)(g)?(0,l.jsx)(r.k,{uri:g.uri,uid:null!==(c=g.uid)&&void 0!==c?c:"",contextUri:null!==(u=v.uri)&&void 0!==u?u:""}):(0,s.G7)(g)?(0,l.jsx)(i.r,{uri:g.uri,uid:null!==(d=g.uid)&&void 0!==d?d:"",contextUri:null!==(p=v.uri)&&void 0!==p?p:""}):(0,o.At)(g)?null:(0,s.RB)(g)?(0,l.jsx)(a.$,{uri:g.uri,uid:null!==(m=g.uid)&&void 0!==m?m:"",contextUri:null!==(f=v.uri)&&void 0!==f?f:""}):null}},64848:(e,t,n)=>{"use strict";n.d(t,{R:()=>f});n(83001),n(22369),n(8760),n(27639),n(71756),n(90511),n(162),n(62780),n(95675),n(69109),n(16366),n(70785);var i=n(59496),r=n(59272),a=n(43714),o=n(88843),s=n(81164),l=n(24122),c=n(55590),u=n(86557),d=n(4637),p=(0,i.lazy)((function(){return n.e(8283).then(n.bind(n,68283))}));function m(e,t,n){var i=(0,a.p)(e.uri),o=(0,r.wj)(i),c=i===s.b,u="queue"===t.provider;(o||u||c)&&((0,l.G_)(t)?i=t.album.uri:((0,l.iw)(t)||(0,l.G7)(t))&&(i=t.uri),c&&(i="spotify:collection:local-files"));var d,p,m,f,v=(0,r.EC)(i);return null===v?null:(0,l.G_)(t)||(0,l.iw)(t)||(0,l.G7)(t)?{to:v.toURLPath(!0),search:(f={uid:t.uid,uri:t.uri,page:null!==(d=null==n?void 0:n.pageIndex)&&void 0!==d?d:null,pageUri:null!==(p=null==n?void 0:n.pageURI)&&void 0!==p?p:null,index:null!==(m=null==n?void 0:n.itemIndex)&&void 0!==m?m:null,highlight:o?t.uri:null},Object.keys(f).filter((function(e){return null!==f[e]})).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(f[e]))})).join("&"))}:{to:v.toURLPath(!0)}}var f=function(e){var t=e.context,n=e.index,r=e.item,a=e.isVisible,s=e.children,f=e.className,v=e.referrer,g=e.onClick,h=e.adEventReason,k=(0,u.b)(r),y=r.type,b=a?void 0:-1;if((0,l.G_)(r)||(0,l.iw)(r)||(0,l.G7)(r)){var S=m(t,r,n);return S?(0,d.jsx)(o.default,{className:f,referrer:v,"":"context-link","data-context-item-type":y,style:{border:"none"},to:S.to,search:S.search,"aria-label":k,tabIndex:b,onClick:g,children:s}):(0,d.jsx)(d.Fragment,{children:s})}return(0,l.k6)(r)?(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)(d.Fragment,{children:s}),children:(0,d.jsx)(p,{item:r,"aria-label":k,tabIndex:b,adEventReason:h,children:s})}):(0,l.RB)(r)?(0,d.jsx)(d.Fragment,{children:s}):(0,c.U)(r)}},16034:(e,t,n)=>{"use strict";n.d(t,{y:()=>p});var i=n(83014),r=(n(69109),n(59496)),a=n(61740),o=n(59272),s=n(23621),l=n(25229),c=n(96692),u=n(90775),d=n(4637),p=function(e){var t=e.uri,n=e.owner,p=e.children,m=(0,a.I0)(),f=(0,u.o)(),v=(0,a.v9)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.id})),g=(0,o.nK)(t),h=(0,r.useCallback)((function(e,n){var r=[].concat((0,i.Z)(n[c.a[o.JM.ALBUM]]||[]),(0,i.Z)(n[c.a[o.JM.TRACK]]||[]),(0,i.Z)(n[c.a[o.JM.LOCAL_TRACK]]||[]),(0,i.Z)(n[c.a[o.JM.EPISODE]]||[]));r.length>0&&(m((0,s.jV)(t,r)),f({targetUri:t,intent:"add",type:"drop"}))}),[m,f,t]);return g&&n===v?(0,d.jsx)(l.Z,{types:[c.a[o.JM.ALBUM],c.a[o.JM.TRACK],c.a[o.JM.EPISODE],c.a[o.JM.LOCAL]],onDrop:h,testId:"cover-drop-target",children:p}):(0,d.jsx)(d.Fragment,{children:p})}},75081:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});n(30246),n(90511),n(162),n(69109);var i=n(17249),r=n(24122),a=n(55590);function o(e){if((0,r.G_)(e)||(0,r.RB)(e)){var t=e.name,n=e.artists.map((function(e){return e.name})).join(i.ag.getSeparator());return n&&(t="".concat(t," • ").concat(n," ")),t}return(0,r.iw)(e)?"".concat(e.name," • ").concat(e.show.name):(0,r.G7)(e)||(0,r.k6)(e)?(console.error(e.uri,"is not draggable"),""):(0,a.U)(e)}},86557:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});n(30246),n(90511),n(162);var i=n(17249),r=n(24122),a=n(55590);function o(e){return(0,r.G_)(e)?i.ag.get("playback-control.now-playing-label",e.name,e.artists.map((function(e){return e.name})).join(i.ag.getSeparator())):(0,r.iw)(e)?i.ag.get("playback-control.now-playing-label",e.name,e.show.name):(0,r.G7)(e)?i.ag.get("playback-control.now-playing-label",e.name,e.book.name):(0,r.k6)(e)?i.ag.get("ad-formats.advertisement"):(0,r.RB)(e)?i.ag.get("queue.now-playing"):(0,a.U)(e)}},76436:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var i=n(24122);function r(e){return(0,i.G_)(e)||(0,i.iw)(e)}},43709:(e,t,n)=>{"use strict";n.d(t,{o:()=>m});var i=n(39130),r=n(59496),a=n(61740),o=n(38674),s=n(73691),l=n(10146),c=n(10785),u=n(45287),d=n(20899),p=n(93867);function m(){var e,t=(0,a.I0)(),n=(0,a.v9)(u.Y),m=(0,r.useCallback)((function(e){t((0,s.EW)(e))}),[t]),f=(0,d.z)(l.cr,p.NowPlayingCoverStateEnum.collapsed),v=(0,i.Z)(f,2),g=v[0],h=v[1],k=!1;return(0,o.W6)(c.JI,{loadingValue:!1})?e=p.NowPlayingCoverStateEnum.none:(e=n!==p.NowPlayingCoverStateEnum.none?n:g,k=g===p.NowPlayingCoverStateEnum.expanded||n===p.NowPlayingCoverStateEnum.expanded),{isExpanded:k,expandedState:e,setLocalStorageExpandedState:h,setTransientForcedExpandedState:m}}},5967:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var i=n(9271),r=n(84306);function a(e,t){var n,i,a,o;return null===e||null===t?e===t:e.context.uri===t.context.uri&&(null===(n=e.item)||void 0===n?void 0:n.uri)===(null===(i=t.item)||void 0===i?void 0:i.uri)&&(0,r.V)(null===(a=e.item)||void 0===a?void 0:a.metadata,null===(o=t.item)||void 0===o?void 0:o.metadata)&&e.index.itemIndex===t.index.itemIndex&&e.index.pageIndex===t.index.pageIndex&&e.index.pageURI===t.index.pageURI}function o(){var e=(0,i.Y)((function(e){return e}),a);if(null===e)return null;var t=e.context,n=e.item,r=e.index;return null===n?null:{context:t,item:n,index:r}}},40454:(e,t,n)=>{"use strict";n.d(t,{_:()=>i._});var i=n(23514)},16053:(e,t,n)=>{"use strict";n.d(t,{o:()=>i.o});var i=n(43709)},46108:(e,t,n)=>{"use strict";n.d(t,{x:()=>i.x});var i=n(5967)},76997:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,M:()=>u});var i=n(59496),r=n(84875),a=n.n(r),o=n(10506);const s="main-nowPlayingView-section",l="main-nowPlayingView-sectionHeader";var c=n(4637),u=function(e){var t=e.children,n=e.className;return(0,c.jsx)(o.D,{as:"div",variant:"balladBold",semanticColor:"textBase",className:a()(l,n),children:t})},d=(0,i.forwardRef)((function(e,t){var n=e.children,i=e.className,r=e.style;return(0,c.jsx)("div",{ref:t,className:a()(s,i),style:r,children:n})}))},80924:(e,t,n)=>{"use strict";n.d(t,{n:()=>o,F:()=>s});var i=n(39130),r=n(59496),a=n(4637),o=(0,r.createContext)({online:!0}),s=function(e){var t=e.children,n=e.initialStatus,s=void 0===n||n,l=(0,r.useState)(s),c=(0,i.Z)(l,2),u=c[0],d=c[1];(0,r.useEffect)((function(){var e=function(){d(!0)},t=function(){d(!1)},n=function(){document.hidden||d(navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",t),window.addEventListener("visibilitychange",n),function(){window.removeEventListener("online",e),window.removeEventListener("offline",t),window.removeEventListener("visibilitychange",n)}}),[]);var p=(0,r.useMemo)((function(){return{online:u}}),[u]);return(0,a.jsx)(o.Provider,{value:p,children:t})}},56852:(e,t,n)=>{"use strict";n.d(t,{Jv:()=>o,Ol:()=>r,S$:()=>i,ux:()=>a});var i=280,r=420,a="panel-width",o="--panel-width"},704:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,W:()=>a});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(void 0);function a(){var e=(0,i.useContext)(r);if(!e)throw new Error("usePanelAPI() must be used within a PanelContext.Provider");return e}},77062:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var i=n(39130),r=n(59496),a=n(704),o=n(27706),s=function(){var e=(0,a.W)(),t=(0,r.useState)((function(){var t;return null!==(t=e.getLastCachedPanelState())&&void 0!==t?t:o.s.Disabled})),n=(0,i.Z)(t,2),s=n[0],l=n[1];return(0,r.useEffect)((function(){return e.subscribeToPanelState(l)}),[e]),s}},75316:(e,t,n)=>{"use strict";n.d(t,{r:()=>p});var i=n(39130),r=n(38674),a=n(84377),o=n(88788),s=n(10146),l=n(51598),c=n(20899),u=n(10785),d=n(56852);function p(){var e=(0,c.z)(d.ux,Math.max(d.S$,Math.min(Math.round(.23*innerWidth),d.Ol))),t=(0,i.Z)(e,2),n=t[0],p=t[1],m=(0,r.W6)(u._c,{loadingValue:!1}),f=(0,o.Y)(),v=(0,a.LP)().minWidth,g=(0,l.T)(),h=d.Ol;if(m){var k=g-v-s.IW-4*f;h=Math.min(Math.max(0,k),h)}return{size:n,setSize:p,min:d.S$,max:h}}},77598:(e,t,n)=>{"use strict";n.d(t,{T:()=>u});var i=n(59496),r=n(61740),a=n(704),o=n(77062),s=n(93041),l=n(25458),c=n(27706),u=function(e){var t=(0,r.I0)(),n=(0,o.m)(),u=(0,a.W)(),d=n===e,p=(0,i.useCallback)((function(){u.setPanelState(d?c.s.Disabled:e),(e===c.s.NowPlayingView&&d||e!==c.s.NowPlayingView)&&t((0,s.Bl)(l.B.mini))}),[d,e,u,t]);return{isActive:d,toggle:p}}},29515:(e,t,n)=>{"use strict";n.d(t,{l:()=>S});n(65477);var i=n(59496),r=n(84875),a=n.n(r),o=n(56852),s=n(15878),l=n(17249),c=n(10862),u=n(50339),d=n(23558),p=n(75316),m=n(4637),f=function(e){var t=e.elementRef,n=e.cssCustomProperty,i=e.itemUri,r=(0,c.f)(s.m,{data:{uri:i||""}}),a=r.spec,o=r.logger,f=(0,p.r)(),v=f.min,g=f.max,h=f.size,k=f.setSize,y=h;return(0,m.jsx)(d.A,{elementRef:t,placement:"inline-start",label:l.ag.get("resize.sidebar"),cssCustomProperty:n,onCSSPropertyChange:function(e){k(e),o.logInteraction(a.npvUiResizeFactory().dragUiResize({startSizePx:y,endSizePx:e}))},initialValue:y,min:v,max:g,decreaseSizeKeyboardCombination:u.lb.RIGHT_SIDEBAR_DECREASE_WIDTH,increaseSizeKeyboardCombination:u.lb.RIGHT_SIDEBAR_INCREASE_WIDTH})},v=n(38674),g=n(77062),h=n(10785),k=n(76788),y=n(42418),b=n(87690);var S=Spicetify.ReactComponent.PanelSkeleton=function(e){var t,n,r,s,l=e.label,c=e.itemUri,u=e.style,d=e.children,p=(0,i.useRef)(null),S=(t=(0,v.W6)(h.C1),n=(0,g.m)(),r=(0,y.r)().size,s=n===k.s.Disabled?{width:0,opacity:0}:{width:r,opacity:1},t?{animatedStyles:s,animatedClassNames:b.Z.panelTransition}:{animatedStyles:s,animatedClassNames:""}),x=S.animatedStyles,O=S.animatedClassNames;return(0,m.jsxs)("aside",{"aria-label":l,className:a()(b.Z.container,O),style:Object.assign({},u,x),id:"Desktop_PanelContainer_Id",ref:p,children:[(0,m.jsx)(f,{itemUri:c,elementRef:p,cssCustomProperty:o.Jv}),d]})}},96063:(e,t,n)=>{"use strict";n.d(t,{K:()=>c});var i=n(59496),r=n(84875),a=n.n(r),o=n(92755),s=n(87690),l=n(4637),c=Spicetify.ReactComponent.PanelContent=i.forwardRef((function(e,t){var n=e.children,i=e.className;return(0,l.jsx)(o.U,{className:s.Z.scrollBarContainer,children:(0,l.jsx)("div",{ref:t,className:a()(s.Z.content,i),children:n})})}))},39264:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i.Q,W:()=>i.W});var i=n(704)},10281:(e,t,n)=>{"use strict";n.d(t,{V:()=>j});var i,r=n(45389),a=(n(51735),n(59496)),o=n(84875),s=n.n(o),l=n(10506),c=n(42336),u=n(14268),d=n(4463),p=n(59272),m=n(17249),f=n(18713),v=n(77598),g=n(27257),h=n(47982),k=n(71062),y=n(20188),b=n(76561),S=n(60221),x=n(22355),O=n(55411),w=n(98235),N=n(88843),_=n(96692),E=n(87690),C=n(4637),P=(i={},(0,r.Z)(i,p.JM.PLAYLIST,O.X),(0,r.Z)(i,p.JM.PLAYLIST_V2,O.X),(0,r.Z)(i,p.JM.ALBUM,b.Y),(0,r.Z)(i,p.JM.TRACK,w.$),(0,r.Z)(i,p.JM.ARTIST,S.m),(0,r.Z)(i,p.JM.EPISODE,x.k),i),I=function(e){var t,n=e.link,i=e.title,r=e.variant,a=e.semanticColor,o=(0,y.fU)(d.createDesktopNpvHeaderSectionEventFactory,{}),s=o.spec,c=o.logger,u=(0,C.jsx)(f.R,{children:(0,C.jsx)(l.D,{variant:r,semanticColor:a,children:i||""})},i||""),m=(0,p.EC)(n),v=!1,g=[],k=m&&P[m.type];if(k){var b=m.toURI();t=(0,C.jsx)(k,{uri:b}),g=(v=!(!b||!i))?[b]:[]}var S=(0,_.O)(g,null!=i?i:"");return(0,C.jsx)(h._P,{menu:t,children:(0,C.jsx)("div",{className:E.Z.titleContainer,children:n&&i?(0,C.jsx)(N.default,{draggable:v,onDragStart:v?S:void 0,to:n,className:E.Z.link,onClick:function(){c.logInteraction(s.contextLinkFactory().hitUiNavigate({destination:n||""}))},children:u}):u})})},j=Spicetify.ReactComponent.PanelHeader=function(e){var t=e.link,n=e.title,i=e.panel,r=e.isAdvert,o=void 0!==r&&r,l=e.actions,d=e.onClose,p=e.className,f=e.preventDefaultClose,h=void 0!==f&&f,y=e.onBack,b=e.titleVariant,S=void 0===b?"balladBold":b,x=e.titleSemanticColor,O=void 0===x?"textBase":x,w=(0,v.T)(i).toggle,N=(0,a.useCallback)((function(){null==d||d(),h||w()}),[d,h,w]);return(0,C.jsxs)("div",{className:s()(E.Z.header,p),children:[y&&(0,C.jsx)("span",{className:E.Z.actions,children:(0,C.jsx)(k.w,{label:m.ag.get("desktop.login.Back"),children:(0,C.jsx)(g.E,{ariaLabel:m.ag.get("desktop.login.Back"),className:E.Z.closeButton,size:"sm",onClick:y,icon:c.e})})}),(0,C.jsx)(I,{title:n,link:t,variant:S,semanticColor:O}),(0,C.jsxs)("span",{className:s()(E.Z.actions,E.Z.closeContainer),children:[l,!o&&(0,C.jsx)("div",{"":"PanelHeader_CloseButton",children:(0,C.jsx)(k.w,{label:m.ag.get("close"),children:(0,C.jsx)(g.E,{ariaLabel:m.ag.get("close"),className:E.Z.closeButton,size:"sm",onClick:N,icon:u.k})})})]})]})}},76788:(e,t,n)=>{"use strict";n.d(t,{s:()=>i.s});var i=n(27706)},37297:(e,t,n)=>{"use strict";n.d(t,{m:()=>i.m});var i=n(77062)},42418:(e,t,n)=>{"use strict";n.d(t,{r:()=>i.r});var i=n(75316)},35445:(e,t,n)=>{"use strict";n.d(t,{T:()=>i.T});var i=n(77598)},27706:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var i=function(e){return e[e.Disabled=0]="Disabled",Spicetify._reservedPanelIds=e,e[e.BuddyFeed=1]="BuddyFeed",e[e.NowPlayingView=2]="NowPlayingView",e[e.WhatsNewFeed=3]="WhatsNewFeed",e[e.Puffin=4]="Puffin",e}({})},94152:(e,t,n)=>{"use strict";n.d(t,{X2:()=>r,s4:()=>o,tc:()=>a});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'PlatformContext' without 'PlatformProvider'!");return e}function o(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'PlatformContext' without 'PlatformProvider'!");return e.getEventSender()}},42016:(e,t,n)=>{"use strict";n.d(t,{S7:()=>u,tS:()=>m,vM:()=>d});var i=n(39130),r=n(45389),a=(n(59538),n(79611),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(4637);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={isOpen:!1,uri:null},u=(0,a.createContext)(void 0),d=(0,a.createContext)(c);function p(e,t){switch(t.type){case"open":return l(l({},e),{},{isOpen:!0,uri:t.uri});case"close":return l({},c);default:throw new Error("Unknown action received!")}}var m=function(e){var t=e.children,n=(0,a.useReducer)(p,c),r=(0,i.Z)(n,2),s=r[0],l=r[1];return(0,o.jsx)(u.Provider,{value:l,children:(0,o.jsx)(d.Provider,{value:s,children:t})})}},88569:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var i=n(8850),r=n(10995),a=n.n(r),o=(n(83001),n(22369),n(27639),n(71756),n(45880),n(59496)),s=n(60086),l=n(93494),c=function(e){var t=e.uri,n=e.permissionLevel,r=(0,l.z)(),c=(0,s.y)({uri:t,interactionData:{intent:"share",type:"click"}}).onCopyLink;return{onCopyLink:(0,o.useCallback)((0,i.Z)(a().mark((function e(){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getPermissionGrant(t,n);case 2:return i=e.sent,o=new URLSearchParams,i.token&&o.set("pt",i.token),e.abrupt("return",c(o));case 6:case"end":return e.stop()}}),e)}))),[t,n,r,c])}}},58976:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var i=n(38674),r=n(60377),a=n(10785),o=function(e,t){return{metadataOptions:{decorateFormatListData:!0,withSync:!0,hydrateCollaboratorsWithMembers:(0,i.W6)(a.bM)},contentsOptions:{offset:0,limit:25,sort:(0,r._j)(e),filter:t}}}},27118:(e,t,n)=>{"use strict";n.d(t,{l:()=>i.l});var i=n(88569)},58827:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ze,usePremiumRoutes:()=>We});var i=n(45389),r=(n(69109),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),a=n(91929),o=n(88691),s=n(17249),l=n(20188),c=(n(162),n(10506)),u=n(91339),d=n(89597),p=n(99256);const m="f5vy3em7itFZHcN1c5th",f="OR_t_SZVUS3Y_45yOmwn",v="vuCT4MFMmKdF5nxhZc7T",g="AHUVWX0zIaijh6s_qErs",h="N7M8xoW29qf92UJIW43C";var k=n(4637);const y=function(e){var t=e.data,n=(0,l.fU)(o.r,{data:{identifier:"benefitsEducation",reason:"".concat(t.campaignId,":").concat(t.userEligibility)}}).spec,i=(0,r.useMemo)((function(){return n.educationListContainerFactory()}),[n]),a=(0,l.Wi)(i);return(0,k.jsx)("div",{className:m,ref:a,children:(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)(c.D,{as:"h2",size:24,variant:"canon",color:"var(--spice-text)",semanticColor:"textBase",children:t.header}),(0,k.jsx)("div",{className:v,children:(0,k.jsx)(u.d,{as:"ul",listStyleReset:!1,className:g,"aria-label":"premium-benefits",children:t.benefits.map((function(e,t){return(0,k.jsxs)("div",{className:h,children:[(0,k.jsx)(d.N,{}),(0,k.jsx)(p.n,{className:h,color:"var(--spice-text)",condensed:!0,style:{marginLeft:"4px"},children:e},t)]},t)}))})})]})})};var b=n(39130),S=(n(30246),n(40274),n(84875)),x=n.n(S),O=n(7626),w=n(13609);const N="POL2MEn4kYvvhOfLsg0r",_="tGegSRxI7iLscjOezFfw",E="cVkF9UmUxF_89Q1pcUFS",C="RUQ0KeNlKc47sIZUr2ED",P="dLo0jrUD6hWn4kzbBOFm",I="oNgy3yKSOHI7KTpQJ1xJ",j="vTyWYlhrqCiKKKiGcTo8",A="WNzIvGMAnUhnZVlXsJJW",T="FGbrgB0DUj2wsUM9ACxp",D="ShjUoZcnXBRAwzptB42a",R="NRAlsO_QA8qpg_K2hswA",F="eCiEDXVKutfSeGT8XqGT",L="ZH4_Li3IiGysnYCQtQdW",M="wUrmLCaGCvSO51jcjHhe",U="u7oKAIw5c11Ss7QxopQx";var Z="PREMIUM_TIER",B=function(e){var t=e.tiers,n=e.benefitLabel;return(0,k.jsx)("thead",{className:j,children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:x()(D,R),children:n}),t.map((function(e,t){return(0,k.jsx)("th",{className:D,children:(0,k.jsx)("div",{className:x()(C,e.id===Z?I:P),dangerouslySetInnerHTML:{__html:e.name}})},t)}))]})})},V=function(e){var t=e.benefit,n=e.index,a=e.tierBenefit,o=(0,r.useState)(!1),s=(0,b.Z)(o,2),l=s[0],c=s[1];return(0,k.jsxs)("tr",{className:A,style:{"--animationDelay":"".concat(100*n,"ms")},onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onFocus:function(){return c(!0)},onBlur:function(){return c(!1)},children:[(0,k.jsxs)("td",{className:x()(F),children:[(0,k.jsx)("span",{children:t.name}),(0,k.jsx)("div",{className:x()(U,(0,i.Z)({},_,l)),children:l&&(0,k.jsx)(O.u,{colorSet:"invertedLight",dangerouslySetInnerHTML:{__html:null==t?void 0:t.explanation}})})]}),a.map((function(e){return(0,k.jsx)("td",{className:L,children:(0,k.jsx)("div",{className:x()(M,(0,i.Z)({},T,e.id===Z)),children:e.isBenefitPresent?(0,k.jsx)(w.K,{className:E,iconSize:32}):"-"})},e.id)}))]})};const H=function(e){var t=e.tableData,n=e.spec,o=(0,a.YD)({triggerOnce:!0}),s=o.ref,c=o.inView,u=(0,r.useCallback)((function(e){return t.comparison.find((function(t){return t.benefitId===e}))}),[t.comparison]),d=(0,r.useMemo)((function(){return null==n?void 0:n.comparisonTableFactory()}),[n]),p=(0,l.Wi)(d);return(0,k.jsx)("div",{className:x()(N,(0,i.Z)({},_,c)),ref:s,children:(0,k.jsxs)("table",{ref:p,children:[(0,k.jsx)(B,{tiers:t.tier,benefitLabel:t.benefitLabelText}),(0,k.jsx)("tbody",{children:t.benefit.map((function(e,t){var n=u(e.benefitId);return n?(0,k.jsx)(V,{index:t,benefit:e,tierBenefit:n.tierBenefit},e.name):null}))})]})})};n(51735),n(94562);var G=n(63892),W=n(94320),z=n(70097),K=(n(83001),n(27639),n(71756),n(70238),n(45880),n(79611),n(40265),n(46743),function(e,t){var n=new URL(e);return n.searchParams.set("ref",t),n.toString()}),Y=function(e){return K(e,"desktop_app_native_pdp")};const q="akdMqUKXxdAp0FCJzDCT",Q="mLrfUuFeF2k3BIxJimkY",J="RpNlq57TSskxD3Ra6Yfg",X="AzZBnbf197O9XdTTmoi3",$="_vt32jjXyqbFifhAeVbS",ee="YQQwMcVNQIqsmNu0DgMW",te="dpOre1_sqBw8b5hkncRz";const ne=function(e){var t=e.data,n=e.refToStorefront,i=Y(t.cta[0].link),a=(0,l.fU)(o.r,{data:{identifier:"hero",reason:"".concat(t.campaignId,":").concat(t.offerTypeId)}}),s=a.spec,u=a.logger,d=(0,r.useMemo)((function(){return s.heroContainerFactory({identifier:"hero",reason:"".concat(t.campaignId,":").concat(t.userEligibility)})}),[s,t.campaignId,t.userEligibility]),p=(0,l.Wi)(d),m=(0,z.e)().openURLWithSessionTransfer,f=(0,r.useCallback)((function(e){m(i,"_blank"),e.preventDefault(),u.logInteraction(d.heroCheckoutButtonFactory({reason:"".concat(t.campaignId,":").concat(t.offerTypeId)}).hitNavigateToExternalUri({destination:i}))}),[d,u,m,t.campaignId,t.offerTypeId,i]),v=(0,r.useCallback)((function(e){setTimeout((function(){n.current&&(null==n||n.current.scrollIntoView({behavior:"smooth",block:"start"}))}),500),e.preventDefault(),u.logInteraction(d.heroViewPlansButtonFactory().hitQuickScroll())}),[d,u,n]);return(0,k.jsxs)("div",{className:q,ref:p,children:[(0,k.jsx)("div",{className:Q,children:(0,k.jsx)(c.D,{as:"p",color:"var(--spice-text)",semanticColor:"textBase",dangerouslySetInnerHTML:{__html:t.tagline}})}),(0,k.jsx)("div",{className:J,children:(0,k.jsxs)("div",{className:X,"":"premium-hero",children:[(0,k.jsx)(c.D,{as:"h1",variant:"altoBrio",color:"var(--spice-text)",semanticColor:"textBase",style:{fontSize:"48px"},children:t.header}),(0,k.jsx)(c.D,{as:"p",variant:"finale",color:"var(--spice-text)",semanticColor:"textBase",style:{fontSize:"18px"},children:t.subheader&&t.subheader.map((function(e,t){return(0,k.jsxs)("span",{children:[e," "]},t)}))}),(0,k.jsxs)("div",{className:ee,children:[(0,k.jsx)(G.D,{colorSet:"invertedLight",className:te,onClick:f,"aria-label":t.cta[0].accessibilityText,children:t.cta[0].text}),(0,k.jsx)(W.P,{style:{borderColor:"white"},className:te,onClick:v,"aria-label":t.cta[1].accessibilityText,children:t.cta[1].text})]}),(0,k.jsx)(c.D,{as:"p",variant:"finale",color:"var(--spice-text)",semanticColor:"textBase",style:{fontSize:"12px"},children:(0,k.jsx)("span",{className:$,dangerouslySetInnerHTML:{__html:null==t?void 0:t.legalDisclaimer}})})]})})]})};var ie="YOUR PLAN <b>SPOTIFY FREE</b>";const re="kvWzzEutUy3QUwNkLAWw",ae="vubSV9N3n3DEITzpjM5o";const oe=function(e){var t=e.data;return(0,k.jsx)("div",{className:re,children:(0,k.jsxs)("div",{className:ae,children:[(0,k.jsx)(c.D,{as:"h1",variant:"alto",color:"var(--spice-text)",semanticColor:"textBase",children:t.headline}),(0,k.jsx)(c.D,{as:"p",variant:"finale",color:"var(--spice-text)",size:18,semanticColor:"textBase",style:{fontSize:"18px"},children:t.text})]})})};n(69724);var se=n(3269),le=n(55019);const ce="y3ViSrLgazMO2TJM_RRP",ue="iwnDAWn4XCD3paXyyG3w",de="lEWa4uiYRfyznoBF7fw4",pe="thJLqvkbCD4zGMAFZfv5",me="ilZ6KPPc158pStt57eRw",fe="cZiltr0t3M3NuH87VTBb",ve="sF9VpdCb5DPX5wa_NkG8",ge="O3TPI7qQQWvSvj__anxQ",he="ygV3ht3A2_OY7RFbsJof",ke="o5J9jdR1W3KSHeLWkWdu",ye="CeQ2AnwGQeUIsFqZNhdn";var be={premium:se.$_Y.rose180,premiumDuo:se.$_Y.brownYellow172,premiumFamily:se.$_Y.blueDesat155,premiumMini:se.$_Y.citric186,premiumStudent:se.$_Y.violetDesat155},Se=function(e){var t=e.text;return(0,k.jsx)("div",{className:de,children:t})},xe=function(e){var t=e.benefits;return(0,k.jsx)("ul",{className:he,children:t.map((function(e){return(0,k.jsx)("li",{children:e},e)}))})},Oe=function(e){var t=e.planName,n=e.priceText,i=e.duration;return(0,k.jsxs)("div",{className:pe,children:[(0,k.jsx)(c.D,{as:"h3",variant:"mestoBold",className:me,children:t}),(0,k.jsxs)("div",{className:fe,children:[(0,k.jsx)(c.D,{as:"div",variant:"mestoBold",className:ve,children:n}),(0,k.jsx)("div",{className:ge,children:i})]})]})};const we=function(e){var t,n=e.children,i=e.data,a=e.cardIndex,o=e.spec,s=(0,l.$P)(),c=(t=i.encoreColorSetName,be[t]||be.premium),u=Y(i.checkoutUrl),d=(0,z.e)().openURLWithSessionTransfer,p=null==o?void 0:o.planCardFactory({identifier:i.planId,reason:"".concat(i.offerTypeId),position:a}),m=(0,l.Wi)(p),f=(0,r.useCallback)((function(){p&&s.logInteraction(p.planCardButtonFactory({position:0}).hitNavigateToExternalUri({destination:u})),d(u)}),[d,s,u,p]);return(0,k.jsxs)("div",{ref:m,style:{"--theme-color":c},className:ue,children:[i.description&&(0,k.jsx)(Se,{text:i.description}),(0,k.jsx)(Oe,{planName:i.planName,priceText:i.priceText,duration:i.durationText}),(0,k.jsx)(xe,{benefits:i.benefit}),(0,k.jsx)(G.D,{onClick:f,fullWidth:!0,UNSAFE_colorSet:(0,le.Ev)(c),className:ke,"aria-label":i.checkoutAccessibilityText,children:i.checkoutUrlText}),n]})};var Ne=(0,r.forwardRef)((function(e,t){var n=e.text;return(0,k.jsx)("div",{ref:t,className:ye,dangerouslySetInnerHTML:{__html:n}})})),_e=(0,r.forwardRef)((function(e,t){var n,i=e.data,a=e.spec,o=(0,r.useMemo)((function(){return null==a?void 0:a.storefrontContainerFactory({identifier:"Storefront"})}),[a]),s=(0,l.Wi)(o),c=(0,r.useRef)([]),u=function(e){return function(t){c.current[e]=t}};return(0,r.useEffect)((function(){var e;e=0,c.current.forEach((function(t){t&&t.offsetHeight>e&&(e=t.offsetHeight)})),c.current.forEach((function(t){t&&(t.style.height="".concat(e,"px"))}))}),[null==i?void 0:i.planCard]),(0,k.jsx)("div",{ref:s,children:(0,k.jsx)("div",{className:ce,ref:t,children:null==i||null===(n=i.planCard)||void 0===n?void 0:n.map((function(e,t){return(0,k.jsx)(we,{data:e,cardIndex:t,spec:o,children:(0,k.jsx)(Ne,{ref:u(t),text:e.legalDisclaimer})},e.planId)}))})})}));const Ee=_e;var Ce=n(68833),Pe=n(8850),Ie=n(10995),je=n.n(Ie),Ae=n(9102),Te=n(60808),De=n(32953),Re="".concat(De.pd,"/premium-marketing"),Fe=function(){var e=(0,Pe.Z)(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Te.b.getInstance(),e.next=3,t.build().withHost(Re).withMethod("GET").withoutMarket().withPath("/marketingPage").withQueryParameters({locale:"en-US"}).withJsonContentType().withEndpointIdentifier("/marketingPage").send();case 3:return n=e.sent,e.abrupt("return",n.body);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Le="sLpDWrR7vJhfTSMmieRI";function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ze=function(){var e=function(){var e=(0,Ae.useQuery)(["premium-page"],(0,Pe.Z)(je().mark((function e(){var t;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:return t=e.sent,e.abrupt("return",t.marketingPage);case 4:case"end":return e.stop()}}),e)}))),{cacheTime:18e5,staleTime:6e5}),t=e.data;return{data:null!=t?t:null,loading:e.isLoading,error:e.isError}}(),t=e.loading,n=e.data,i=(0,r.useRef)(null),c="premium_page:native_pdp";c="premium_page:desktop_app_native_pdp";var u=(0,l.fU)(o.r,{data:{identifier:c,reason:"".concat(null==n?void 0:n.campaignId,":").concat(null==n?void 0:n.userEligibility)}}),d=u.spec,p=u.logger,m=(0,a.YD)({fallbackInView:!0,triggerOnce:!0}),f=m.ref,v=m.inView;return(0,r.useEffect)((function(){v&&p.logImpression(d.impression())}),[v,p,d]),!t&&n?(0,k.jsxs)("div",{ref:f,className:Le,children:[(0,k.jsx)(ne,{data:Ue({tagline:ie,campaignId:n.campaignId,userEligibility:n.userEligibility},n.hero),refToStorefront:i}),(0,k.jsx)(oe,{data:{headline:n.benefitEducation.header,text:n.benefitEducation.subheader}}),(0,k.jsx)(y,{data:{header:n.benefitEducation.benefitListHeader,benefits:n.benefitEducation.benefit,userEligibility:n.userEligibility,campaignId:n.campaignId}}),(0,k.jsx)("div",{ref:i,children:(0,k.jsx)(Ee,{data:n.storefront,spec:d})}),(0,k.jsx)(oe,{data:{headline:n.comparisonTable.header,text:n.comparisonTable.subheader}}),(0,k.jsx)(H,{tableData:n.comparisonTable,spec:d})]}):(0,k.jsx)(Ce.h,{hasError:!1,errorMessage:s.ag.get("error.not_found.title.page")})};var Be=n(41177),Ve=n(38674),He=n(78960),Ge=n(10785),We=function(){return(0,Ve.W6)(Ge.Gu)?(0,k.jsx)(Be.AW,{path:"/premium",element:(0,k.jsx)(Ze,{})}):(0,k.jsx)(Be.AW,{path:"/premium",element:(0,k.jsx)(He.InstrumentedRedirect,{to:"/"})})}},8643:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z,getRadioLabel:()=>G});n(162),n(30246);var i=n(59496),r=n(41177),a=n(10506),o=n(85564),s=n(59272),l=n(17249),c=n(84737),u=n(56075),d=n(42257),p=n(23006),m=n(35833),f=n(61996),v=n(68833),g=n(64371),h=n(79105),k=n(8850),y=n(39130),b=n(10995),S=n.n(b),x=n(29605);var O=n(92722),w=n(54691),N=n(1003),_=n(24122),E=n(20188),C=n(45389),P=(n(81844),n(84875)),I=n.n(P),j=n(11794),A=n(78142),T=n(24511);const D="NBwG2a4Dmwo6g_YrRdpo",R="dTKw7B8X1ybw7SHebMH3",F="Ort1bswCfg95FTY9jLlv",L="KNUIWLKuuA1qIkTt4jus",M="I_J_2yQ25qssX6VlXXCk",U="dMLIMzZSh8rtGpbdj8Pa";var Z=n(4637),B=i.memo((function(e){var t=e.ariaLabel,n=e.tracks,r=e.radioStationUri,o=e.highlightUri,s=e.scrollToIndex,c=e.usePlayContextItem,u=e.isContextActive,d=(0,i.useRef)(null),p=(0,i.useRef)(!1),m=n.length>0;(0,i.useEffect)((function(){d.current&&s&&d.current.scrollToIndex(s)}),[s]);var f=(0,i.useCallback)((function(e,t){var n,i=T.KS.Unknown,a=!p.current&&o===e.uri;return a&&(p.current=!0),e.isExplicit&&(i=T.KS.Explicit),e.is19PlusOnly&&(i=T.KS.NineteenPlus),(0,Z.jsx)(j.iJ,{index:t,trackNumber:t+1,durationMs:e.duration.milliseconds,contextUri:r,uri:e.uri,uid:null!==(n=e.uid)&&void 0!==n?n:e.uri,name:e.name,isPlayable:!0,artists:e.artists,album:e.album,contentRating:i,shouldHighLight:a,usePlayContextItem:c,isContextActive:u},t+e.uri)}),[o,r,c,u]),v=n.length>0?n:new Array(50).fill(void 0),g=l.ag.getLocale()===l.go.ar?j.rc:j.dN,h=Math.min(5,v.length)*g,k=-(h-g),y=(0,i.useMemo)((function(){return[j.QD.INDEX,j.QD.TITLE,j.QD.ALBUM,j.QD.ACTIONS,j.QD.DURATION]}),[]),b=(0,i.useCallback)((function(e){return e.uri}),[]),S=(0,i.useCallback)((function(e){var t;return null!==(t=e.uid)&&void 0!==t?t:e.uri}),[]);return(0,Z.jsxs)(A.ZP,{value:"radio-station-tracklist",children:[(0,Z.jsx)("div",{className:I()((0,C.Z)({},L,m)),style:{"--footer-height":"".concat(h,"px"),"--footer-margin-top":"".concat(k,"px")},children:(0,Z.jsx)(j.Pv,{ariaLabel:t,hasHeaderRow:!0,rowPlaceholder:j.Lb,columns:y,renderRow:f,resolveUri:b,resolveUid:S,nrTracks:v.length,tracks:v,outerRef:d},r)}),m&&(0,Z.jsx)("div",{className:M,children:(0,Z.jsx)(a.D,{variant:"ballad",as:"p",children:l.ag.get("playlist-radio.more-songs")})})]})})),V=n(58162);function H(e){if(0===e.length)return"";var t=e.map((function(e){return e.name}));return 1===t.length?l.ag.get("playlist-radio.header.oneFeaturedArtist",t[0]):2===t.length?l.ag.get("playlist-radio.header.twoFeaturedArtists",t[0],t[1]):3===t.length?l.ag.get("playlist-radio.header.threeFeaturedArtists",t[0],t[1],t[2]):l.ag.get("playlist-radio.header.moreThanThreeFeaturedArtists",t[0],t[1],t[2])}function G(e){var t=(0,s.EC)(e);switch(null==t?void 0:t.type){case s.JM.PLAYLIST:case s.JM.PLAYLIST_V2:return l.ag.get("playlist-radio");case s.JM.TRACK:return l.ag.get("song-radio");case s.JM.ALBUM:return l.ag.get("album-radio");case s.JM.ARTIST:return l.ag.get("artist-radio");default:return l.ag.get("radio")}}var W=function(e){var t=e.station,n=t.stationURI,r=t.entityURI,s=t.title,v=t.image,k=t.relatedArtists,y=t.context,b=t.tracks,S=(0,h.Zj)(v.url),x=(0,E.fU)(o.createDesktopRadioStationEventFactory,{data:{identifier:n,uri:r}}),C=x.spec,P=x.logger,I=x.UBIFragment,j=i.useMemo((function(){return C.headerFactory()}),[C]),A=i.useMemo((function(){return C.actionBarFactory()}),[C]),T=i.useMemo((function(){return j.topBarFactory().playButtonFactory()}),[j]),L=i.useMemo((function(){return A.playButtonFactory()}),[A]),M=(0,N.n)(y,{featureIdentifier:"radio"}),W=M.togglePlay,z=M.usePlayContextItem,K=M.isPlaying,Y=M.isActive,q=i.useCallback((function(e){var t=(0,V.aK)({isPlaying:K,isActive:Y,spec:e,logger:P,uri:y.uri}),n={shuffle:!1,repeat:_.zq.REPEAT_NONE,loggingParams:t};W(n)}),[W,Y,K,y.uri,P]),Q=function(e){return function(){return q(e)}};return(0,Z.jsxs)("section",{className:D,children:[(0,Z.jsxs)(p.gF,{backgroundColor:S,children:[(0,Z.jsxs)(m.W,{children:[(0,Z.jsx)(g.$,{size:"md",onClick:Q(T),isPlaying:K,uri:y.uri}),(0,Z.jsx)(f.i,{text:s,dragUri:n,dragLabel:s})]}),(0,Z.jsx)(w._,{menu:null,children:(0,Z.jsx)("div",{className:F,children:(0,Z.jsx)(p.Oe,{loading:"eager",name:s,images:[v],placeholderType:"playlist",shape:p.Kc.WITH_WAVES,dragUri:n})})}),(0,Z.jsxs)(p.sP,{children:[(0,Z.jsx)(a.D,{variant:"mestoBold",children:G(r)}),(0,Z.jsx)(w._,{menu:null,children:(0,Z.jsx)(p.xd,{dragUri:n,dragLabel:s,children:s})}),(0,Z.jsx)(a.D,{variant:"mesto",className:U,children:H(k)})]})]}),(0,Z.jsxs)("div",{className:R,children:[(0,Z.jsx)(c.o,{backgroundColor:S,children:(0,Z.jsxs)(c.F,{children:[(0,Z.jsx)(g.$,{onClick:Q(L),isPlaying:K,size:"lg",uri:y.uri}),(0,Z.jsx)(O.y,{menu:(0,Z.jsx)(d.i,{uri:n,tracks:b}),children:(0,Z.jsx)(u.z,{label:l.ag.get("more.label.context",s)})})]})}),(0,Z.jsx)("div",{className:"contentSpacing",children:(0,Z.jsx)(I,{spec:C,children:(0,Z.jsx)(B,{ariaLabel:s,radioStationUri:n,tracks:b,usePlayContextItem:z,isContextActive:Y})})})]})]})};const z=function(){var e=(0,r.UO)(),t=e.id,n=void 0===t?"":t,a=e.entity,o=void 0===a?"":a,c=function(e){var t=(0,x.t)(),n=(0,i.useState)(null),r=(0,y.Z)(n,2),a=r[0],o=r[1];return(0,i.useEffect)((function(){var n=!0,i=null,r=function(e){n&&o(e)},a=function(){var a=(0,k.Z)(S().mark((function a(){var s,l,c,u;return S().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getStation(e,r);case 2:s=a.sent,l=(0,y.Z)(s,2),c=l[0],u=l[1],n?(o(c),i=u):null!==u&&u.cancel();case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return o(null),a(),function(){n=!1,null!==i&&i.cancel()}}),[t,e]),a}((0,s.AB)([o,n]).toURI());return null===c?(0,Z.jsx)(v.h,{hasError:!1,errorMessage:l.ag.get("error.not_found.title.station")}):(0,Z.jsx)(W,{station:c})}},2409:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RECENTLY_PLAYED_VIEW_ID:()=>T,RecentlyPlayed:()=>R,default:()=>F});n(30246),n(61235),n(69724),n(162);var i=n(84875),r=n.n(i),a=n(10506),o=n(38674),s=n(17249),l=n(36299),c=n(60334),u=n(5979),d=n(15632),p=n(54468),m=n(29332),f=n(35882),v=n(3594),g=n(4517),h=n(15533),k=n(84340),y=n(85941),b=n(97370),S=n(78142),x=n(39130),O=n(59496),w=n(87808),N=n(93986);var _=n(27443),E=n(55590),C=n(33582),P=n(10785);const I="uFQUpbITgGovaKRr6I_g",j="AKksNlfz_QuQjE1FPwYG";var A=n(4637),T="recently-played",D=function(e,t){var n,i,r=e.uri;switch(e.type){case w.hn.LIKED_SONGS:return(0,A.jsx)(g.p,{index:t},r);case w.hn.YOUR_EPISODES:return(0,A.jsx)(h.T,{index:t},r);case w.hn.ALBUM:return(0,A.jsx)(l.r,{index:t,name:e.name,uri:e.uri,images:e.images,artists:e.artists,sharingInfo:null},r);case w.hn.ARTIST:return(0,A.jsx)(c.I,{index:t,name:e.name,uri:e.uri,images:e.images},r);case w.hn.PLAYLIST:return(0,A.jsx)(d.Z,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName},r);case w.hn.SHOW:return(0,A.jsx)(m._,{index:t,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null},r);case w.hn.AUDIOBOOK:return(0,A.jsx)(u.c,{index:t,name:e.name,uri:e.uri,images:e.images,authorName:null!==(n=null===(i=e.authors)||void 0===i?void 0:i[0])&&void 0!==n?n:""},r);case w.hn.RADIO:return(0,A.jsx)(p.I,{index:t,name:e.name,uri:e.uri,images:e.images},r);case w.hn.TRACK:return(0,A.jsx)(f.G,{index:t,name:e.name,uri:e.uri,images:e.images,is19PlusOnly:e.isMOGEFRestricted,artists:e.artists,album:null,isExplicit:e.isExplicit,sharingInfo:null},r);default:return(0,E._)(e),null}},R=function(e){var t=e.title,n=e.showAll,i=void 0!==n&&n,l=e.index,c=void 0===l?0:l,u=null!=t?t:s.ag.get("view.recently-played"),d=(0,o.W6)(P.ty,{loadingValue:!1}),p=d?C.N:v.q,m=(0,o.W6)(P.yg),f=(0,b.S)(m),g=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,N.Y)(),n=(0,O.useState)(t.getContexts()),i=(0,x.Z)(n,2),r=i[0],a=i[1];return(0,O.useEffect)((function(){if(e){var n=function(e){var t=e.data;return a(t)};return t.addListener(w.$f.UPDATE,n),function(){t.removeListener(w.$f.UPDATE,n)}}}),[t,e]),r}(!d);return null===g?null:i?(0,A.jsx)(y.q,{config:f,children:(0,A.jsxs)("section",{className:r()("contentSpacing",I),children:[(0,A.jsx)(a.D,{as:"h1",variant:"canon",className:j,children:u}),(0,A.jsx)(S.ZP,{value:"EntitiesGrid",children:(0,A.jsx)(k.T,{render:function(){return g.map((function(e,t){return(0,A.jsx)(S.ZP,{value:"card",index:t,children:D(e,t)},null==e?void 0:e.uri)}))}})})]})}):(0,A.jsx)(y.q,{config:f,children:(0,A.jsx)(p,{id:"recently-played",index:c,total:g.length,seeAllUri:(0,_.p)(T),pageId:"home",title:u,children:g.map((function(e,t){return D(e,t)}))})})};const F=R},59648:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,u:()=>s});var i=n(39130),r=(n(62780),n(22369),n(27535),n(59496)),a=n(20899),o="fusionSearchHistory",s=function(){var e=(0,a.z)(o,[]),t=(0,i.Z)(e,2),n=t[0],s=t[1],l=(0,r.useCallback)((function(e){s(function(e){for(var t={},n=[],i=0;i<e.length;i++)e[i].uri in t||(n.push(e[i]),t[e[i].uri]=!0);return n.splice(50),n}(e))}),[s]);return{searchHistory:n,setSearchHistory:l,clearSearchHistory:function(e){var t=[];e&&(t=n.filter((function(t){return t.uri!==e}))),s(t)}}}},11178:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var i=n(10506),r=n(17249),a=n(58077),o=n(10785),s=n(4637),l=function(){return(0,s.jsx)(a.F,{property:o.mQ,renderNewExperience:function(){return(0,s.jsxs)(s.Fragment,{children:[" • ",(0,s.jsx)(i.D,{variant:"mesto",semanticColor:"textBase",dir:"auto",as:"span",children:r.ag.get("search.lyrics-match")})]})}})}},24570:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,R:()=>a});var i=n(39130),r=n(20899),a=function(){return(0,r.z)("toggleNowPlayingView",!0)},o=function(){var e=a();return(0,i.Z)(e,1)[0]}},59702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DesktopSettings:()=>rn,default:()=>an,getIsEmployeeDesktopSettings:()=>nn});var i=n(39130),r=n(59496),a=n(38674),o=n(48937),s=(n(83001),n(22369),n(71756),n(46466)),l=(n(16366),n(96669),n(17249)),c=n(6377),u=n(980),d=(n(62780),n(10506)),p=n(35742),m=n(50200),f=n(4637),v=["htmlString","children","htmlFor","semanticColor","className"];function g(e){var t=e.htmlString,n=e.children,i=e.htmlFor,a=e.semanticColor,o=void 0===a?"textSubdued":a,s=e.className,l=(0,u.Z)(e,v),c=(0,r.useContext)(m.fo).filter;if(!n&&!t)return null;var g=n;return t&&(g=(0,f.jsx)("span",{dangerouslySetInnerHTML:{__html:t}})),(0,f.jsx)(d.D,{as:"label",variant:"viola",semanticColor:o,htmlFor:i,className:s,"":l["data-testid"],children:c.length>0?(0,f.jsx)(p.o,{searchWords:[c],textToHighlight:n||t||""}):g})}n(82),n(27639),n(59538),n(79611);var h=(0,r.createContext)(void 0),k=function(e){var t=e.children,n=(0,r.useState)(!1),a=(0,i.Z)(n,2),o=a[0],s=a[1],l=(0,r.useState)(new Set),c=(0,i.Z)(l,2),u=c[0],d=c[1],p=(0,r.useCallback)((function(e,t){d((function(n){if(n.has(e)===t)return n;var i=new Set(n);return t?i.add(e):i.delete(e),i}))}),[]),m=u.size>0;return(0,f.jsx)(h.Provider,{value:{sectionMatch:o,setSectionMatch:s,sectionContainsMatch:m,setSectionFilterMatchQueryValue:p},children:t})},y=function(){var e=(0,r.useContext)(h);if(void 0===e)throw new Error("useSectionMatchState() must be used within a SectionFilterMatchContextProvider");return e},b=n(89887),S=function(e,t){return"string"==typeof e&&"string"==typeof t?!(e.length>0)||null!==(0,b.B)(e,t):"boolean"!=typeof e||e};const x="x-settings-row";var O=function(e){var t=e.children,n=e.filterMatchQuery,i=(0,r.useContext)(m.fo).filter,a=y(),o=a.setSectionFilterMatchQueryValue,s=a.sectionMatch,l=S(i,n);return(0,r.useEffect)((function(){o(n,l)}),[l,n,o]),s||l?(0,f.jsx)("div",{className:x,children:t}):null};const w="x-settings-secondColumn";var N=function(e){var t=e.children;return(0,f.jsx)("div",{className:w,children:t})};const _="x-settings-firstColumn";var E=function(e){var t=e.children;return(0,f.jsx)("div",{className:_,children:t})},C=n(45389),P=(n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(84875)),I=n.n(P);const j={section:"x-settings-section",hidden:"x-settings-hidden"};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,C.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=e.children,n=e.filterMatchQuery,i=(0,r.useContext)(m.fo).filter,a=y(),o=a.setSectionMatch,s=a.sectionContainsMatch,l=S(i,n);(0,r.useEffect)((function(){o(l)}),[l,o]);var c=!l&&!s;return(0,f.jsx)("div",{className:I()(j.section,(0,C.Z)({},j.hidden,c)),children:t})}function R(e){return(0,f.jsx)(k,{children:(0,f.jsx)(D,T({},e))})}function F(e){var t=e.children,n=(0,r.useContext)(m.fo).filter;return(0,f.jsx)(d.D,{as:"h2",variant:"cello",semanticColor:"textBase",children:(0,f.jsx)(p.o,{searchWords:[n],textToHighlight:t})})}var L=function(e){var t=e.settings.values,n=e.setValue;return navigator&&/^win/i.test(navigator.platform)?(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.compatibility"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.compatibility")}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.enableHardwareAcceleration"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.enableHardwareAcceleration",children:l.ag.get("desktop.settings.enableHardwareAcceleration")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.enableHardwareAcceleration",value:!!t["ui.hardware_acceleration"],onSelected:function(e){n("ui.hardware_acceleration",e)}})})]})]}):null},M=(n(72649),n(69109),n(37029)),U=n(10785),Z=n(87774),B=n(87824),V=(n(162),n(64234));function H(){var e=(0,Z.f)(),t=(0,r.useState)(!1),n=(0,i.Z)(t,2),a=n[0],o=n[1],s=(0,r.useCallback)((function(t){e.setEnabledState(t)}),[e]);return(0,r.useEffect)((function(){return e.subscribeToEnabledState(o)}),[e]),[a,s]}function G(){var e=(0,Z.f)(),t=(0,r.useState)(e.getPreset()),n=(0,i.Z)(t,2),a=n[0],o=n[1],s=(0,r.useCallback)((function(t){e.setPreset(t)}),[e]);return(0,r.useEffect)((function(){return e.subscribeToPresetChange((function(e){o(e)}))})),[a,s]}n(40274),n(25710);var W=n(85830);function z(e){return"".concat(e>0?"+".concat(e):e,"dB")}const K={wrapper:"x-settings-equalizerPanelWrapper",preset:"x-settings-equalizerPanelPreset",filters:"x-settings-equalizerPanelFilters",filter:"x-settings-equalizerPanelFilter",input:"x-settings-equalizerPanelInput",label:"x-settings-equalizerPanelLabel",gainLabel:"x-settings-equalizerPanelGainLabel",gainLabelUp:"x-settings-equalizerPanelGainLabelUp",gainLabelDown:"x-settings-equalizerPanelGainLabelDown",canvas:"x-settings-equalizerPanelCanvas"};function Y(e){var t=e.filter,n=e.onChange,a=(0,Z.f)(),o=(0,r.useRef)(null),s=G(),c=(0,i.Z)(s,1)[0];(0,r.useEffect)((function(){var e=c.filters.find((function(e){return e.key===t.key}));o.current&&e&&(o.current.value="".concat(e.gain))}),[c,t.key]),(0,r.useEffect)((function(){o.current&&o.current.setAttribute("aria-valuetext",l.ag.get("equalizer.filterA11yValueText",t.gain))}),[]);var u,d=(0,W.y1)((function(e,t){a.setFilterGain(e,t)}),100,{maxWait:200});return(0,f.jsxs)("div",{className:K.filter,children:[(0,f.jsx)("input",{"aria-label":l.ag.get("equalizer.filterLabel",t.frequency),ref:o,type:"range",min:-V.l5,max:V.l5,step:.1,defaultValue:t.gain,className:K.input,onChange:function(e){var i=parseFloat(e.target.value);e.target.setAttribute("aria-valuetext",l.ag.get("equalizer.filterA11yValueText",i)),d(t.key,i),n(i)}}),(0,f.jsx)("label",{className:K.label,children:(u=t.frequency,u>=1e3?"".concat(u/1e3,"KHz"):"".concat(u,"Hz"))})]})}var q=function(){var e=(0,r.useState)(window.devicePixelRatio||1),t=(0,i.Z)(e,2),n=t[0],a=t[1];return(0,r.useEffect)((function(){!function e(){matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")).addEventListener("change",(function(){a(window.devicePixelRatio),e()}),{once:!0})}()}),[]),n},Q=n(23066);n(89620);function J(e,t){e.moveTo(t[0],t[1]);for(var n=2;n<t.length-1;n+=2)e.lineTo(t[n],t[n+1])}n(81289);function X(e){var t=.6,n=[],i=e.reduce((function(e,t){return e.push(t.x),e.push(t.y),e}),[]);i.unshift(e[0].y),i.unshift(e[0].x),i.push(e[e.length-1].x),i.push(e[e.length-1].y);for(var r=2;r<i.length-4;r+=2)for(var a=0;a<=16;a++){var o=(i[r+2]-i[r-2])*t,s=(i[r+4]-i[r])*t,l=(i[r+3]-i[r-1])*t,c=(i[r+5]-i[r+1])*t,u=a/16,d=2*Math.pow(u,3)-3*Math.pow(u,2)+1,p=-2*Math.pow(u,3)+3*Math.pow(u,2),m=Math.pow(u,3)-2*Math.pow(u,2)+u,f=Math.pow(u,3)-Math.pow(u,2),v=d*i[r]+p*i[r+2]+m*o+f*s,g=d*i[r+1]+p*i[r+3]+m*l+f*c;n.push(v),n.push(g)}return n}n(81844);var $=n(38185);function ee(e,t){var n=e.getContext("2d");n&&(n.clearRect(0,0,e.clientWidth,e.clientHeight),function(e,t,n){var i=t.clientWidth,r=t.clientHeight,a=i/n.length/2;e.beginPath();var o=e.createLinearGradient(i/2,0,i/2,r);o.addColorStop(0,"rgba(11%, 73%, 33%, 100%)"),o.addColorStop(1,"rgba(11%, 73%, 33%, 0%)"),e.fillStyle=o,J(e,X(n)),e.lineTo(i-a,r),e.lineTo(a,r),e.fill()}(n,e,t),function(e,t){e.beginPath(),e.strokeStyle="rgb(11%, 73%, 33%)",e.lineWidth=4,J(e,X(t)),e.stroke()}(n,t),function(e,t){e.fillStyle=$.ixZ,t.forEach((function(t){e.beginPath(),e.arc(t.x,t.y,4,0,2*Math.PI),e.fill()}))}(n,t))}var te=60,ne=300;function ie(e,t){var n=t.clientWidth/e.length;return e.map((function(e,i){return{x:i*n+n/2,y:t.clientHeight-(e+V.l5+3)/(2*V.l5+6)*t.clientHeight}}))}function re(e){var t=(0,r.useRef)(null),n=q(),i=(0,r.useCallback)((function(){var e;if(t.current){var i=n,r=t.current.getBoundingClientRect();t.current.width=r.width*i,t.current.height=r.height*i,null===(e=t.current.getContext("2d"))||void 0===e||e.scale(i,i)}}),[n]),a=(0,r.useCallback)((function(){if(t.current&&e.current){var n=ie(e.current,t.current);ee(t.current,n)}}),[e]),o=(0,r.useCallback)((function(n){if(t.current&&e.current){var i,r,a,o,s,l,c,u=ie(e.current,t.current),d=ie(n,t.current);i=t.current,r=u,a=d,o=te*(ne/1e3),s=0,l=JSON.parse(JSON.stringify(r)),c=a.map((function(e,t){return e.y-r[t].y})),window.requestAnimationFrame((function e(){if(!(s>=o)){for(var t=0;t<l.length;t++){var n=r[t].y,a=c[t];l[t].y=(u=n,d=a,p=s,(p/=o/2)<1?d/2*Math.pow(p,3)+u:(p-=2,d/2*(Math.pow(p,3)+2)+u))}var u,d,p;ee(i,l),s++,window.requestAnimationFrame(e)}}))}}),[e]);return(0,r.useEffect)((function(){i(),a()}),[i,a]),(0,Q.y)({refOrElement:t,onResize:function(){i(),a()}}),{canvasRef:t,drawCanvas:a,animateCanvas:o}}function ae(){var e=H(),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=G(),s=(0,i.Z)(o,2),c=s[0],u=s[1],d=(0,r.useRef)(c.filters.map((function(e){return e.gain}))),p=re(d),m=p.canvasRef,v=p.drawCanvas,g=p.animateCanvas;return(0,r.useEffect)((function(){var e=c.filters.map((function(e){return e.gain}));"custom"!==c.key&&g(e),d.current=e}),[c,g]),(0,f.jsxs)("div",{className:K.wrapper,children:[(0,f.jsx)("canvas",{"aria-label":l.ag.get("equalizer.equalizer"),role:"img",className:K.canvas,ref:m}),(0,f.jsx)("label",{className:I()(K.gainLabel,K.gainLabelUp),children:z(V.l5)}),(0,f.jsx)("label",{className:I()(K.gainLabel,K.gainLabelDown),children:z(-V.l5)}),(0,f.jsx)("div",{className:K.filters,dir:"ltr",children:c.filters.map((function(e,t){return(0,f.jsx)(Y,{filter:e,onChange:function(e){d.current[t]=e,v(),n||a(!0),u((0,V.f8)(d.current))}},e.key)}))})]})}n(84456);var oe=n(90162);const se={container:"x-settings-equalizerPresetsContainer",label:"x-settings-equalizerPresetsLabel"};function le(){var e=H(),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=G(),o=(0,i.Z)(a,2),s=o[0],c=o[1];return(0,f.jsxs)("div",{className:se.container,children:[(0,f.jsx)(d.D,{as:"label",variant:"viola",semanticColor:"textSubdued",htmlFor:"desktop.equalizer.preset",className:se.label,children:l.ag.get("equalizer.presets")}),(0,f.jsxs)(oe.v,{id:"desktop.equalizer.preset",value:s.key,onSelect:function(e){c(e),n||r(!0)},children:["custom"===s.key&&(0,f.jsx)("option",{value:s.key,children:s.displayName}),Object.entries(V.PG).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return(0,f.jsx)("option",{value:n,children:r.displayName},n)}))]})]})}n(52040),n(58944);var ce=n(94320);function ue(){var e=H(),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=G(),o=(0,i.Z)(a,2)[1];return(0,f.jsx)(ce.P,{onClick:function(){o(V.PG.flat.key),n||r(!0)},buttonSize:"sm",children:l.ag.get("equalizer.reset")})}function de(){var e=H(),t=(0,i.Z)(e,2),n=t[0],r=t[1];return(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("equalizer.equalizer"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.equalizer",children:l.ag.get("equalizer.equalizer")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.equalizer",value:n,onSelected:r})})]})}const pe="x-settings-equalizerSection",me="x-settings-equalizerWrapper",fe="x-settings-equalizerResetButtonWrapper";function ve(){var e=(0,Z.f)();return(0,a.W6)(B.Ro,{loadingValue:!1})&&e.isSupported()?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(de,{}),(0,f.jsx)(O,{filterMatchQuery:l.ag.get("equalizer.equalizer"),children:(0,f.jsxs)("div",{className:pe,children:[(0,f.jsx)(le,{}),(0,f.jsx)("div",{className:me,children:(0,f.jsx)(ae,{})}),(0,f.jsx)("div",{className:fe,children:(0,f.jsx)(ue,{})})]})})]}):null}const ge="x-settings-crossFadeContainer";var he=12e3,ke=function(e){var t=e.settings.values,n=e.setValue,o=(0,a.W6)(U.q7),s=(0,r.useState)(-1),u=(0,i.Z)(s,2),p=u[0],m=u[1],v=-1===p?Number(t["audio.crossfade.time_v2"]):p,h="".concat(Math.round(v/1e3)," ").concat(l.ag.get("desktop.settings.sec"));return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.playback"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.playback")}),void 0!==t["audio.crossfade_v2"]&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.crossfadeTracks"),children:[(0,f.jsxs)(E,{children:[(0,f.jsx)(g,{htmlFor:"desktop.settings.crossfadeTracks",children:l.ag.get("desktop.settings.crossfadeTracks")}),t["audio.crossfade_v2"]&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:ge,children:(0,f.jsx)(M.ko,{value:v,max:he,step:1e3,labelText:l.ag.get("desktop.settings.crossfadeTracks"),onStepBackward:function(){m(Math.max(0,v-1e3))},onStepForward:function(){m(Math.min(he,v+1e3))},onDragStart:function(e){m(e*he)},onDragMove:function(e){m(e*he)},onDragEnd:function(e){var t=Math.floor(e*he);m(t),n("audio.crossfade.time_v2",t)}})}),(0,f.jsx)(d.D,{variant:"mesto",semanticColor:"textSubdued",children:h})]})]}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.crossfadeTracks",value:!!t["audio.crossfade_v2"],onSelected:function(e){n("audio.crossfade_v2",e)}})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.automixInfo"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.automixInfo",children:l.ag.get("desktop.settings.automixInfo")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.automixInfo",value:!!t["audio.automix"],onSelected:function(e){n("audio.automix",e)}})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.monoDownmixer"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.monoDownmixer",children:l.ag.get("desktop.settings.monoDownmixer")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.monoDownmixer",value:!!t["audio.downmixer_v2"],onSelected:function(e){n("audio.downmixer_v2",e)}})})]}),o&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.silenceTrimmer"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.silenceTrimmer",children:l.ag.get("desktop.settings.silenceTrimmer")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.silenceTrimmer",value:!!t["audio.silence_trimmer_v2"],onSelected:function(e){n("audio.silence_trimmer_v2",e)}})})]}),(0,f.jsx)(ve,{})]})},ye={minimized:{label:function(){return l.ag.get("desktop.settings.autostartMinimized")}},normal:{label:function(){return l.ag.get("desktop.settings.autostartNormal")}},off:{label:function(){return l.ag.get("desktop.settings.autostartOff")}}},be=function(e){var t=e.settings,n=t.values,i=t.autoStart,r=e.setValue;return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.startupAndWindowBehavior"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.startupAndWindowBehavior")}),void 0!==n["app.autostart-mode"]&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.autostart"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.autostart",children:l.ag.get("desktop.settings.autostart")})}),(0,f.jsx)(N,{children:(0,f.jsx)(oe.v,{id:"desktop.settings.autostart",value:n["app.autostart-mode"],onSelect:function(e){r("app.autostart-mode",e)},children:i.map((function(e){var t=e.enumKey,n=e.enumValue;return(0,f.jsx)("option",{value:n,children:ye[t]?ye[t].label():""},t)}))})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.closeShouldMinimize"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.closeShouldMinimize",children:l.ag.get("desktop.settings.closeShouldMinimize")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.closeShouldMinimize",value:!!n["ui.minimize_to_tray"],onSelected:function(e){r("ui.minimize_to_tray",e)}})})]})]})},Se=(n(35019),n(40265),n(46743),n(5538),{"auto-detect":{label:function(){return l.ag.get("desktop.settings.proxy.autodetect")}},"no-proxy":{label:function(){return l.ag.get("desktop.settings.proxy.noproxy")}},http:{label:function(){return l.ag.get("desktop.settings.proxy.http")}},socks4:{label:function(){return l.ag.get("desktop.settings.proxy.socks4")}},socks5:{label:function(){return l.ag.get("desktop.settings.proxy.socks5")}}}),xe=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],Oe=n(7394);const we="mpdBa62OP4Fr5wvCsa89",Ne="x-proxySettings-ProxySettings",_e="x-proxySettings-fullWidth",Ee="x-settings-input",Ce="x-proxySettings-horizontalPair";var Pe=function(e){var t=e.id,n=e.type,i=e.placeHolder,r=e.inputRef,a=e.handleOnChange;return(0,f.jsx)("input",{type:n||"text",id:t,"":t,className:Ee,placeholder:i,ref:r,onChange:a})},Ie=function(e){var t=e.children,n=e.label;return(0,f.jsx)(Oe.c,{label:n,className:Ce,children:t})};const je="x-settings-restartAppButton";function Ae(e){var t=e.onClick;return(0,f.jsx)(ce.P,{className:je,onClick:t,children:l.ag.get("settings.restartApp")})}var Te=function(e,t,n){var i="".concat(e,":").concat(t);switch(n){case 2:i+="@http";break;case 3:i+="@socks4";break;case 4:i+="@socks5"}return i},De=function(e){var t=e.addr,n=e.mode,a=e.pass,o=e.user,s=e.setValue,c=e.restartContainer,u=e.fullWidth,d=(0,r.useRef)(null),p=(0,r.useRef)(null),m=(0,r.useRef)(null),v=(0,r.useRef)(null),g=(0,r.useState)(""),h=(0,i.Z)(g,2),k=h[0],y=h[1],b=(0,r.useState)(""),S=(0,i.Z)(b,2),x=S[0],O=S[1],w=(0,r.useState)(!1),N=(0,i.Z)(w,2),_=N[0],E=N[1];(0,r.useEffect)((function(){var e=(null==t?void 0:t.split(/[:@]+/))||["",""],n=(0,i.Z)(e,2),r=n[0],a=n[1];y(r),O(a),d.current&&(d.current.value=r),p.current&&(p.current.value=a)}),[t]),(0,r.useEffect)((function(){v.current&&a&&(v.current.value=a.toString())}),[a]),(0,r.useEffect)((function(){m.current&&o&&(m.current.value=o.toString())}),[o]);var C=(0,r.useCallback)((function(e){var t=e.target,i=Te(t.value,x,n||0);y(t.value),s("network.proxy.addr",i),E(!0)}),[n,x,s]),P=(0,r.useCallback)((function(e){var t=e.target,i=Te(k,t.value,n||0);O(t.value),s("network.proxy.addr",i),E(!0)}),[n,k,s]),j=(0,r.useCallback)((function(e){var t=e.target;s("network.proxy.user",t.value),E(!0)}),[s]),A=(0,r.useCallback)((function(e){var t=e.target;s("network.proxy.pass",t.value),E(!0)}),[s]),T=0!==n&&1!==n,D=3!==n;return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.proxy.title"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.proxy.title")}),(0,f.jsxs)("div",{className:I()(Ne,u?_e:null),children:[(0,f.jsx)(Ie,{label:l.ag.get("desktop.settings.proxy.type"),children:(0,f.jsx)(oe.v,{id:"network.proxy.mode",value:n,onSelect:function(e){var t=parseInt(e,10);s("network.proxy.mode",t),E(!0)},children:xe.map((function(e){var t=e.enumKey,n=e.enumValue;return(0,f.jsx)("option",{value:n,"":t,children:Se[t]?Se[t].label():""},t)}))})}),T?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:we,children:[(0,f.jsx)(Ie,{label:l.ag.get("desktop.settings.proxy.host"),children:(0,f.jsx)(Pe,{id:"network.proxy.host",handleOnChange:C,placeHolder:l.ag.get("desktop.settings.proxy.host"),inputRef:d})}),(0,f.jsx)(Ie,{label:l.ag.get("desktop.settings.proxy.port"),children:(0,f.jsx)(Pe,{id:"network.proxy.port",type:"number",handleOnChange:P,placeHolder:l.ag.get("desktop.settings.proxy.port"),inputRef:p})})]}),(0,f.jsxs)("div",{className:D?we:void 0,children:[(0,f.jsx)(Ie,{label:l.ag.get("desktop.settings.proxy.user"),children:(0,f.jsx)(Pe,{id:"network.proxy.user",handleOnChange:j,placeHolder:l.ag.get("desktop.settings.proxy.user"),inputRef:m})}),D?(0,f.jsx)(Ie,{label:l.ag.get("desktop.settings.proxy.pass"),children:(0,f.jsx)(Pe,{id:"network.proxy.pass",handleOnChange:A,placeHolder:l.ag.get("desktop.settings.proxy.pass"),type:"password",inputRef:v})}):null]})]}):null,_&&(0,f.jsx)("div",{children:(0,f.jsx)(Ae,{onClick:c})})]})]})},Re=n(8850),Fe=n(10995),Le=n.n(Fe),Me=n(61740),Ue=n(73691),Ze=n(76956),Be=n(32376),Ve=(n(94562),n(59430));function He(){var e=(0,Ve.c)(),t=(0,r.useState)(null),n=(0,i.Z)(t,2),a=n[0],o=n[1],s=(0,r.useState)(!0),l=(0,i.Z)(s,2),c=l[0],u=l[1],d=(0,r.useState)(null),p=(0,i.Z)(d,2),m=p[0],f=p[1];return(0,r.useEffect)((function(){function t(){return(t=(0,Re.Z)(Le().mark((function t(){var n;return Le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===m){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.getStatistics();case 5:n=t.sent,o(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),f(t.t0 instanceof Error?t.t0:new Error("Error when fetching storage statistics."));case 12:u(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}var n=window.setInterval((function(){!function(){t.apply(this,arguments)}()}),1500);return function(){return clearInterval(n)}}),[e,m]),[a,c,m]}const Ge="x-settings-button",We="x-settings-wordBreakAll";var ze=function(e){var t=e.settings,n=e.setValue,a=(0,r.useContext)(Be.t),o=(0,r.useContext)(s.z),c=!(0,Ze.k)(),u=(0,r.useState)(!1),d=(0,i.Z)(u,2),p=d[0],m=d[1],v=(0,r.useCallback)((function(){o.applyUpdate()}),[o]),h=He(),k=(0,i.Z)(h,3),y=k[0],b=k[1],S=k[2],x=(0,Me.I0)(),w="",_="",C=0;b?(w=l.ag.get("page.loading"),_=l.ag.get("page.loading")):S||null===y?(w=l.ag.get("error.generic"),_=l.ag.get("error.generic")):(C=y.currentSizeMB-y.currentLockedSizeMB,w=" ".concat(C," MB"),_=" ".concat(y.currentLockedSizeMB," MB"));var P=t.values["storage.location"];return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.storage"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.storage")}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.storage.downloads.heading"),children:[(0,f.jsx)(E,{children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(g,{htmlFor:"desktop.settings.downloads",semanticColor:"textBase",children:l.ag.get("desktop.settings.storage.downloads.heading")}),(0,f.jsx)(g,{htmlFor:"desktop.settings.downloads",children:_})]}),(0,f.jsx)(g,{htmlFor:"desktop.settings.downloads",children:l.ag.get("desktop.settings.storage.downloads.text")})]})}),(0,f.jsx)(N,{children:(0,f.jsx)(ce.P,{id:"desktop.settings.downloads",buttonSize:"sm",onClick:function(){x((0,Ue.Sl)())},disabled:c||!y||0===y.currentLockedSizeMB,className:Ge,children:l.ag.get("desktop.settings.storage.downloads.button")})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.storage.cache.heading"),children:[(0,f.jsx)(E,{children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(g,{htmlFor:"desktop.settings.cache",semanticColor:"textBase",children:l.ag.get("desktop.settings.storage.cache.heading")}),(0,f.jsx)(g,{htmlFor:"desktop.settings.cache",children:w})]}),(0,f.jsx)(g,{htmlFor:"desktop.settings.cache",children:l.ag.get("desktop.settings.storage.cache.text")})]})}),(0,f.jsx)(N,{children:(0,f.jsx)(ce.P,{id:"desktop.settings.cache",buttonSize:"sm",onClick:function(){x((0,Ue.ct)())},disabled:0===C,className:Ge,children:l.ag.get("desktop.settings.storage.cache.button")})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.offlineStorageLocation"),children:[(0,f.jsx)(E,{children:(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.offline-storage",semanticColor:"textBase",children:l.ag.get("desktop.settings.offlineStorageLocation")})}),(0,f.jsx)(g,{htmlFor:"desktop.settings.offline-storage",className:We,children:P})]})}),(0,f.jsxs)(N,{children:[(0,f.jsx)(ce.P,{id:"desktop.settings.offline-storage",buttonSize:"sm",onClick:(0,Re.Z)(Le().mark((function e(){var i;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.browseForFolder();case 2:(i=e.sent).path&&(n("storage.location",i.path),i.path!==t.values["storage.location"]&&m(!0));case 4:case"end":return e.stop()}}),e)}))),className:Ge,children:l.ag.get("desktop.settings.offlineStorageChangeLocation")}),p&&(0,f.jsx)(Ae,{onClick:v})]})]})]})},Ke=function(e){var t=e.settings,n=e.setValue,i=(0,r.useContext)(s.z),a=(0,r.useCallback)((function(){i.applyUpdate()}),[i]),o=t.values;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ke,{settings:t,setValue:n}),(0,f.jsx)(be,{settings:t,setValue:n}),(0,f.jsx)(ze,{settings:t,setValue:n}),(0,f.jsx)(De,{setValue:n,restartContainer:a,mode:o["network.proxy.mode"],addr:o["network.proxy.addr"],user:o["network.proxy.user"],pass:o["network.proxy.pass"]}),(0,f.jsx)(L,{settings:t,setValue:n})]})},Ye=n(90775),qe=function(e){var t=e.settings.values,n=e.setValue,i=(0,a.W6)(U.Cd,{loadingValue:!1}),r=(0,Ye.o)();if(void 0===t["app.player.autoplay"])return null;var o="0"!==t.autoplay;return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.autoplay"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.autoplay")}),!i&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.localAutoplayInfo"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.localAutoplayInfo",children:l.ag.get("desktop.settings.localAutoplayInfo")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.localAutoplayInfo",value:!!t["app.player.autoplay"],onSelected:function(e){n("app.player.autoplay",e)}})})]}),!i&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.globalAutoplayInfo"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.localAutoplayInfo",children:l.ag.get("desktop.settings.globalAutoplayInfo")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.localAutoplayInfo",value:o,onSelected:function(e){r({intent:e?"enable_autoplay":"disable_autoplay",type:"click"}),n("autoplay",e?"1":"0")}})})]}),i&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.autoplayInfo"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"global.settings.autoplayInfo",children:l.ag.get("desktop.settings.autoplayInfo")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"global.settings.autoplayInfo",value:o,onSelected:function(e){r({intent:e?"enable_autoplay":"disable_autoplay",type:"click"}),n("autoplay",e?"1":"0")}})})]})]})},Qe=n(76788),Je=n(35445),Xe=n(44972),$e=n(24570),et=function(){var e=(0,$e.R)(),t=(0,i.Z)(e,2),n=t[0],r=t[1];return(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("settings.npv"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.npv",children:l.ag.get("settings.npv")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.npv",value:n,onSelected:r})})]})},tt=function(e){var t,n,i=e.settings.values,o=e.setValue,s=void 0===i.catalogue||"string"==typeof i.catalogue&&"free"===i.catalogue.toLowerCase(),u=(0,r.useContext)(Xe.N),d=null==u||null===(t=u.client_capabilities)||void 0===t?void 0:t.can_show_system_media_controls,p=null==u||null===(n=u.client_capabilities)||void 0===n?void 0:n.can_show_track_notifications,m=(0,a.W6)(U.JI),v=(0,Je.T)(Qe.s.BuddyFeed),h=v.isActive,k=v.toggle;return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("settings.display"),children:[(0,f.jsx)(F,{children:l.ag.get("settings.display")}),m&&(0,f.jsx)(et,{}),!s&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("settings.showMusicAnnouncements"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.showMusicAnnouncements",children:l.ag.get("settings.showMusicAnnouncements")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.showMusicAnnouncements",value:!i["ui.hide_hpto"],onSelected:function(e){o("ui.hide_hpto",!e)}})})]}),p&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("settings.showTrackNotifications"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.trackNotifications",children:l.ag.get("settings.showTrackNotifications")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.trackNotifications",value:!!i["ui.track_notifications_enabled"],onSelected:function(e){o("ui.track_notifications_enabled",e)}})})]}),d&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.showSystemMediaControls"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.systemMediaControlsEnabled",children:l.ag.get("desktop.settings.showSystemMediaControls")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.systemMediaControlsEnabled",value:!!i["ui.system_media_controls_enabled"],onSelected:function(e){o("ui.system_media_controls_enabled",e)}})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("buddy-feed.see-what-your-friends-are-playing"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.showFriendActivity",children:l.ag.get("buddy-feed.see-what-your-friends-are-playing")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.showFriendActivity",value:h,onSelected:k})})]})]})},nt=n(25403),it=n(29893),rt=n(73342);const at="m7e5wHq6US9u3BbLQXEX",ot="ul4DB6lq_3qO_aCiEbcc";var st=function(){var e,t=(0,Me.I0)(),n=(0,Me.v9)(it.Gg),i=n.locale,a=n.user,o=n.overrides,s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useCallback)((function(e){s.current&&s.current.value&&t((0,rt.k9)(e?s.current.value:""))}),[t]),u=(0,r.useCallback)((function(e){l.current&&l.current.value&&t((0,rt.fY)(e?l.current.value:""))}),[t]),p=(null==o?void 0:o.country)||(null==a?void 0:a.country),m=(null==o?void 0:o.locale)||i;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(O,{filterMatchQuery:null!=p?p:"",children:[(0,f.jsx)(E,{children:(0,f.jsx)("div",{className:at,children:(0,f.jsx)(nt.z,{id:"overrides.country",onChange:function(e){var t=e.target.checked;c(t)},defaultChecked:!(null==o||!o.country),children:(0,f.jsx)(d.D,{variant:"viola",semanticColor:"textSubdued",children:"Country"})})})}),(0,f.jsx)(N,{children:(0,f.jsx)("input",{type:"text",id:"overrides.country.input",className:ot,disabled:!(null!=o&&o.country),ref:s,defaultValue:p,onChange:function(){return c(!0)}})})]}),(0,f.jsxs)(O,{filterMatchQuery:null!==(e=null==o?void 0:o.locale)&&void 0!==e?e:"",children:[(0,f.jsx)(E,{children:(0,f.jsx)("div",{className:at,children:(0,f.jsx)(nt.z,{id:"overrides.locale",onChange:function(e){var t=e.target.checked;u(t)},defaultChecked:!(null==o||!o.locale),children:(0,f.jsx)(d.D,{variant:"viola",semanticColor:"textSubdued",children:"Language"})})})}),(0,f.jsx)(N,{children:(0,f.jsx)("input",{type:"text",id:"overrides.locale.input",className:ot,disabled:!(null!=o&&o.locale),ref:l,defaultValue:m,onChange:function(){return u(!0)}})})]})]})},lt=function(e){var t=e.settings.values,n=e.setValue;return nn(t)?(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("settings.employee"),children:[(0,f.jsx)(F,{children:l.ag.get("settings.employee")}),(0,f.jsx)(O,{filterMatchQuery:l.ag.get("desktop.settings.language-override"),children:(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"",children:l.ag.get("desktop.settings.language-override")})})}),(0,f.jsx)(st,{}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.enableDeveloperMode"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.developerMode",children:l.ag.get("desktop.settings.enableDeveloperMode")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.developerMode",value:!!t["app.enable-developer-mode"],onSelected:function(e){n("app.enable-developer-mode",e)}})})]})]}):null},ct=function(e){var t=e.settings.values,n=e.setValue,i="1"===t["lock-filter-explicit-content"],r="0"===t["filter-explicit-content"]||void 0===t["filter-explicit-content"],a=i?l.ag.get("desktop.settings.explicitContentFilterSettingLocked"):l.ag.get("desktop.settings.explicitContentFilterSetting");return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.explicitContentFilter"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.explicitContentFilter")}),(0,f.jsxs)(O,{filterMatchQuery:a,children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.explicitContentFilter",children:a})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.explicitContentFilter",disabled:i,value:r,onSelected:function(e){n("filter-explicit-content",e?"0":"1")}})})]})]})},ut=n(40946),dt=function(e){var t=e.settings.values,n=e.setValue,i=t.language,a=(0,r.useContext)(s.z),o=(0,r.useCallback)((function(){a.applyUpdate()}),[a]);return void 0===t.language?null:(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.language"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.language")}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.selectLanguage"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.selectLanguage",children:l.ag.get("desktop.settings.selectLanguage")})}),(0,f.jsx)(N,{children:(0,f.jsx)(oe.v,{dir:"auto",value:t.language,id:"desktop.settings.selectLanguage",onSelect:function(e){n("language",e)},children:ut.bC.map((function(e){return(0,f.jsx)("option",{value:e,children:"".concat(ut.k1[e].displayName," (").concat(ut.k1[e].displayNameEn,")")},e)}))})})]}),navigator.language!==i?(0,f.jsx)(Ae,{onClick:o}):null]})},pt=function(){var e=(0,o.S)(),t=(0,i.Z)(e,2),n=t[0],r=t[1];return(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("settings.showLocalFiles"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.showLocalFiles",children:l.ag.get("settings.showLocalFiles")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.showLocalFiles",value:n,onSelected:function(e){r(e)}})})]})},mt=function(){return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("settings.localFiles"),children:[(0,f.jsx)(F,{children:l.ag.get("settings.localFiles")}),(0,f.jsx)(pt,{})]})},ft=n(82065),vt=n(81164),gt=function(e){return void 0!==e.id};function ht(e){var t;if(!gt(e))return e.path;switch(e.id){case vt.G.DOWNLOADS:t=l.ag.get("local-files.source.downloads");break;case vt.G.ITUNES:t=l.ag.get("local-files.source.itunes");break;case vt.G.MY_MUSIC:t=l.ag.get("local-files.source.my_music");break;case vt.G.WINDOWS_MUSIC_LIBRARY:t=l.ag.get("local-files.source.windows_music_library");break;default:t=String(e.id)}return t}var kt=function(e){var t=e.source,n=e.onAddOrRemoveSource,a=(0,r.useState)(!gt(t)||t.enabled),o=(0,i.Z)(a,2),s=o[0],l=o[1],u=gt(t)?String(t.id):t.path;return(0,f.jsxs)(O,{filterMatchQuery:ht(t),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.local-files.".concat(u),children:ht(t)})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.local-files.".concat(u),value:s,onSelected:function(e){l(e),n(t,e)}})})]})},yt=function(){var e=(0,r.useState)(),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,r.useContext)(Be.t),s=(0,ft.r)(),c=(0,r.useCallback)((0,Re.Z)(Le().mark((function e(){return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,o.getSources();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),[o]);(0,r.useEffect)((function(){c()}),[c]);var u=(0,r.useCallback)((0,Re.Z)(Le().mark((function e(){var t,n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.browseForFolder();case 2:if(t=e.sent,!(n=t.path)){e.next=9;break}return e.next=7,o.addFolder({path:n});case 7:c(),s.say(l.ag.get("settings.localFilesFolderAdded",n));case 9:case"end":return e.stop()}}),e)}))),[s,o,c]),d=(0,r.useCallback)((function(e,t){e.enabled=t,o.mutateDefaultSource(e)}),[o]),p=(0,r.useCallback)((function(e,t){t?o.addFolder(e):o.removeFolder(e)}),[o]);return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("settings.showSongsFrom"),children:[(0,f.jsx)(F,{children:l.ag.get("settings.showSongsFrom")}),null==n?void 0:n.defaultSources.map((function(e){return(0,f.jsx)(kt,{source:e,onAddOrRemoveSource:d},String(e.id))})),null==n?void 0:n.folders.map((function(e){return(0,f.jsx)(kt,{source:e,onAddOrRemoveSource:p},e.path)})),(0,f.jsx)("div",{children:(0,f.jsx)(ce.P,{buttonSize:"sm","aria-label":l.ag.get("settings.addASource"),onClick:function(){u()},children:l.ag.get("settings.addASource")})})]})},bt=(n(70785),n(45880),n(31781),n(41177)),St=n(43887),xt=n(41848),Ot=n(54221),wt=n(85358);const Nt="ExWXnW7FQJM6rPMDexR7";var _t=function(e){switch(e){case St.IL.Automatic:return l.ag.get("desktop.settings.streamingQualityAutomatic");case St.IL.Low:return l.ag.get("desktop.settings.streamingQualityLow");case St.IL.Medium:return l.ag.get("desktop.settings.streamingQualityNormal");case St.IL.High:return l.ag.get("desktop.settings.streamingQualityHigh");case St.IL.VeryHigh:return l.ag.get("desktop.settings.streamingQualityVeryHigh");case St.IL.Hifi:return l.ag.get("desktop.settings.streamingQualityHiFi");default:return""}},Et=0,Ct=1,Pt=2;function It(e,t){switch(e){default:case St.IL.Automatic:case St.IL.Low:case St.IL.Medium:case St.IL.High:return!0;case St.IL.VeryHigh:return function(e){switch(parseInt(e["audio-quality"],10)){default:case Et:return!1;case Ct:case Pt:return!0}}(t);case St.IL.Hifi:return function(e){switch(parseInt(e["audio-quality"],10)){default:case Et:case Ct:return!1;case Pt:return!0}}(t)}}var jt={loud:{label:function(){return l.ag.get("desktop.settings.loudnessLoud")}},normal:{label:function(){return l.ag.get("desktop.settings.loudnessNormal")}},quiet:{label:function(){return l.ag.get("desktop.settings.loudnessQuiet")}}},At=function(e){var t=e.settings,n=e.setValue,i=t.values,a=t.formats,o=t.loudness,s=!i["audio.normalize_v2"],u=(0,bt.TH)().search,d=new URLSearchParams(u).has("feature-activation"),p=(0,wt.k)(5e3),m=void 0!==i["audio.play_bitrate_enumeration"],v=function(e,t){var n=e.values,i=(0,St.ZI)(n["audio.play_bitrate_enumeration"]),a=(0,St.ZI)(n["audio.sync_bitrate_enumeration"]);return{playQuality:It(i,n)?i:St.IL.High,syncQuality:It(a,n)?a:St.IL.High,setPlayQuality:(0,r.useCallback)((function(e){var i=e;It(e,n)||(i=St.IL.High),t("audio.play_bitrate_non_metered_enumeration",i),t("audio.play_bitrate_enumeration",i)}),[t,n]),setSyncQuality:(0,r.useCallback)((function(e){var i=e;It(e,n)&&e!==St.IL.Automatic||(i=St.IL.High),t("audio.sync_bitrate_enumeration",i)}),[t,n])}}(t,n),h=v.playQuality,k=v.syncQuality,y=v.setPlayQuality,b=v.setSyncQuality;return(0,r.useEffect)((function(){d&&p(l.ag.get("web-player.feature-activation-shelf.audio_quality_toast_message"))}),[p,d]),m?(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.musicQuality"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.musicQuality")}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.streamingQuality"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.streamingQuality",children:l.ag.get("desktop.settings.streamingQuality")})}),(0,f.jsxs)(N,{children:[(0,f.jsx)(oe.v,{id:"desktop.settings.streamingQuality",value:h,onSelect:function(e){y((0,St.ZI)(e))},children:Tt(a,i)}),d?(0,f.jsx)(Ot.Z,{className:Nt}):null]})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.downloadQuality.title"),children:[(0,f.jsxs)(E,{children:[(0,f.jsx)(g,{htmlFor:"desktop.settings.downloadQuality",children:l.ag.get("desktop.settings.downloadQuality.title")}),(0,f.jsx)(xt.e,{message:l.ag.get("desktop.settings.downloadQuality.info").replace(/(<([^>]+)>)/gi,"")})]}),(0,f.jsx)(N,{children:(0,f.jsx)(oe.v,{id:"desktop.settings.downloadQuality",value:k,onSelect:function(e){b((0,St.ZI)(e))},children:Tt(a,i)})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.automatic-downgrade.title"),children:[(0,f.jsxs)(E,{children:[(0,f.jsx)(g,{htmlFor:"desktop.settings.automatic-downgrade",children:l.ag.get("desktop.settings.automatic-downgrade.title")}),(0,f.jsx)(xt.e,{message:l.ag.get("desktop.settings.automatic-downgrade.info")})]}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.automatic-downgrade",value:!!i["audio.allow_downgrade"],onSelected:function(e){n("audio.allow_downgrade",e)}})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.normalize"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.normalize",children:l.ag.get("desktop.settings.normalize")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.normalize",value:!!i["audio.normalize_v2"],onSelected:function(e){n("audio.normalize_v2",e)}})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.loudnessEnvironment_with_limiter_details"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.loudnessEnvironment",children:l.ag.get("desktop.settings.loudnessEnvironment_with_limiter_details")})}),(0,f.jsx)(N,{children:(0,f.jsx)(oe.v,{id:"desktop.settings.loudnessEnvironment",disabled:s,value:i["audio.loudness.environment"],onSelect:function(e){n("audio.loudness.environment",parseInt(e,10))},children:o.map((function(e){var t=e.enumKey,n=e.enumValue;return(0,f.jsx)("option",{value:n,children:jt[t]?jt[t].label():""},t)}))})})]})]}):null};function Tt(e,t){var n=function(e){return"2"===e["audio-quality"]}(t);return e.filter((function(e){return e.quality!==St.IL.Unknown})).filter((function(e){switch(e.quality){default:case St.IL.Automatic:return!n;case St.IL.Low:case St.IL.Medium:case St.IL.High:case St.IL.VeryHigh:return!0;case St.IL.Hifi:return n}})).map((function(e,t){var n=e.quality;return(0,f.jsx)("option",{value:n,children:_t(n)},t)}))}var Dt=n(8873),Rt=n(76872),Ft=n(93416),Lt=Rt.D.CONNECTION_STATE_CHANGE;var Mt=n(9102),Ut=n(60808),Zt=n(28101),Bt=n(48472),Vt=n(80274),Ht=function(){var e,t,n,a,o,s,u,d,p,m,v,h,k=(a=(0,Mt.useQueryClient)(),o=(0,Me.v9)(it.Gg).user,s=null!==(e=null==o?void 0:o.uri)&&void 0!==e?e:"",u=(0,wt.k)(),d=(0,Vt.J)(Zt.getShowFollows,[{uri:s}]),p=d.data,m=d.queryKey,v=(0,r.useCallback)(function(){var e=(0,Re.Z)(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.showFollows,e.next=3,(0,Zt.setShowFollows)(Ut.b.getInstance(),{uri:s,showFollows:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),h=(0,Mt.useMutation)({mutationFn:v,onMutate:(n=(0,Re.Z)(Le().mark((function e(t){var n;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.cancelQueries({queryKey:m});case 2:return n=a.getQueryData(m),a.setQueryData(m,t),e.abrupt("return",{prevState:n,newState:t});case 5:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onError:function(e,t,n){a.setQueryData(m,null==n?void 0:n.prevState),u(l.ag.get("error.generic"),Bt.nY.ERROR)},onSettled:function(){a.invalidateQueries({queryKey:m})}}),[null===(t=null==p?void 0:p.showFollows)||void 0===t||t,h.mutate]),y=(0,i.Z)(k,2),b=y[0],S=y[1];return(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.showFollows"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.showFollows",children:l.ag.get("desktop.settings.showFollows")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.showFollows",value:b,onSelected:function(e){return S({showFollows:e})}})})]})};const Gt="xm2mOJwSu9_GfODYzx8M";var Wt=function(e){var t=e.settings.values,n=e.setValue,o=function(){var e=(0,Ft.H)(),t=(0,r.useState)(null),n=(0,i.Z)(t,2),a=n[0],o=n[1],s=(0,r.useCallback)((function(t){e.connect(t)}),[e]),l=(0,r.useCallback)((function(){e.disconnect()}),[e]);return(0,r.useEffect)((function(){var t=function(e){o(e.data)};return e.addListener(Lt,t),function(){e.removeListener(Lt,t)}}),[e,o]),[a,s,l]}(),s=(0,i.Z)(o,3),u=s[0],d=s[1],p=s[2],m=(0,a.W6)(U.AJ,{loadingValue:!1}),v=(0,r.useCallback)((function(){null!=u&&u.connection?p():d({window:{width:Math.max(800,window.outerWidth-100),height:Math.max(600,window.outerHeight-100)}})}),[u,d,p]);if(!(void 0!==t["publish-playlist"]&&void 0!==t["incognito-enabled"]))return null;var h=!!t["incognito-enabled"];return(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("desktop.settings.social"),children:[(0,f.jsx)(F,{children:l.ag.get("desktop.settings.social")}),(null==u?void 0:u.show_connect_option)&&(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.facebook"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.facebook",children:l.ag.get("desktop.settings.facebook")})}),(0,f.jsx)(N,{children:(0,f.jsx)(ce.P,{id:"desktop.settings.facebook",buttonSize:"sm",className:Gt,onClick:v,iconLeading:Dt.z,children:!0===u.connection?l.ag.get("desktop.settings.facebook.disconnect"):l.ag.get("desktop.settings.facebook.connect")})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.newPlaylistsPublic"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.newPlaylistsPublic",children:l.ag.get("desktop.settings.newPlaylistsPublic")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.newPlaylistsPublic",value:"1"===t["publish-playlist"],onSelected:function(e){n("publish-playlist",e?"1":"0")}})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.privateSession"),children:[(0,f.jsxs)(E,{children:[(0,f.jsx)(g,{htmlFor:"desktop.settings.privateSession",children:l.ag.get("desktop.settings.privateSession")}),(0,f.jsx)(xt.e,{message:l.ag.get("desktop.settings.privateSession.tooltip")})]}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.privateSession",value:!!t["incognito-enabled"],onSelected:function(e){n("incognito-enabled",e)}})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.publishActivity"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.publishActivity",children:l.ag.get("desktop.settings.publishActivity")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.publishActivity",disabled:h,value:"0"!==t["publish-activity"],onSelected:function(e){n("publish-activity",e?"1":"0")}})})]}),(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("desktop.settings.publishTopArtists"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"desktop.settings.publishTopArtists",children:l.ag.get("desktop.settings.publishTopArtists")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"desktop.settings.publishTopArtists",disabled:h,value:"1"===t["public-toplist"],onSelected:function(e){n("public-toplist",e?"1":"0")}})})]}),m&&(0,f.jsx)(Ht,{})]})},zt=n(86409),Kt=function(){var e=(0,zt.useLibraryRowMode)(),t=e.libraryRowMode,n=e.setLibraryRowMode;return(0,f.jsxs)(O,{filterMatchQuery:l.ag.get("settings.library.compactMode"),children:[(0,f.jsx)(E,{children:(0,f.jsx)(g,{htmlFor:"settings.library.compact-mode",children:l.ag.get("settings.library.compactMode")})}),(0,f.jsx)(N,{children:(0,f.jsx)(c.Z,{id:"settings.library.compact-mode",value:t===zt.CompactModeState.COMPACT,onSelected:function(e){n(e?zt.CompactModeState.COMPACT:zt.CompactModeState.DEFAULT)}})})]})},Yt=function(e){var t=e.children;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(R,{filterMatchQuery:l.ag.get("settings.library"),children:[(0,f.jsx)(F,{children:l.ag.get("settings.library")}),t]})})};const qt="x-settings-container";var Qt=function(e){var t=e.children,n=e.outerRef;return(0,f.jsx)(m.hz,{uri:"spotify:internal:settings",children:(0,f.jsx)("div",{ref:n,className:qt,"":"settings-page",children:t})})},Jt=n(3269),Xt=n(24898);const $t="x-settings-headerContainer",en="x-settings-header";function tn(e){var t=e.containerRef;return(0,f.jsxs)("div",{className:$t,children:[(0,f.jsx)(d.D,{as:"h1",variant:"canon",className:en,semanticColor:"textBase",paddingBottom:Jt.o78,children:l.ag.get("desktop.settings.settings")}),(0,f.jsx)("div",{children:(0,f.jsx)(Xt.K,{placeholder:"",alwaysExpanded:!1,clearOnEscapeInElementRef:t,debounceFilterChangeTimeout:0})})]})}function nn(e){return"1"===e.employee}var rn=function(){var e=(0,St.rV)(),t=e.settings,n=e.setValue,s=(0,r.useRef)(null),l=(0,a.W6)(U.yA,{loadingValue:!1}),c=(0,o.S)(),u=(0,i.Z)(c,1)[0];return(0,f.jsxs)(Qt,{outerRef:s,children:[(0,f.jsx)(tn,{containerRef:s}),(0,f.jsx)(dt,{settings:t,setValue:n}),(0,f.jsx)(ct,{settings:t,setValue:n}),(0,f.jsx)(qe,{settings:t,setValue:n}),(0,f.jsx)(At,{settings:t,setValue:n}),l?(0,f.jsxs)(Yt,{children:[(0,f.jsx)(Kt,{}),(0,f.jsx)(pt,{})]}):(0,f.jsx)(mt,{}),u?(0,f.jsx)(yt,{}):null,(0,f.jsx)(tt,{settings:t,setValue:n}),(0,f.jsx)(Wt,{settings:t,setValue:n}),(0,f.jsx)(Ke,{settings:t,setValue:n}),(0,f.jsx)(lt,{settings:t,setValue:n})]})};const an=rn},43887:(e,t,n)=>{"use strict";n.d(t,{IL:()=>b,ZI:()=>S,rV:()=>w});n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(83014),r=n(45389),a=n(8850),o=n(39130),s=n(10995),l=n.n(s),c=(n(83001),n(76626),n(162),n(84456),n(22369),n(71756),n(4302),n(69109),n(62780),n(59496)),u=n(22720),d=n(1219),p=n(17895),m=n(68894),f=n(92021);function v(){return new d.ProductStateClient((0,m.G)())}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=[{enumKey:"quiet",enumValue:0},{enumKey:"normal",enumValue:1},{enumKey:"loud",enumValue:2}],y=[{enumKey:"minimized",enumValue:"minimized"},{enumKey:"normal",enumValue:"normal"},{enumKey:"off",enumValue:"off"}],b=function(e){return e[e.Automatic=0]="Automatic",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High",e[e.VeryHigh=4]="VeryHigh",e[e.Hifi=5]="Hifi",e[e.Unknown=6]="Unknown",e}({}),S=function(e){switch(e){case 0:case"0":return b.Automatic;case 1:case"1":return b.Low;case 2:case"2":return b.Medium;case 3:case"3":return b.High;case 4:case"4":return b.VeryHigh;case 5:case"5":return b.Hifi;default:return b.Unknown}},x=["filter-explicit-content","publish-playlist","publish-activity","public-toplist","autoplay"],O=["incognito-enabled"],w=function(){var e=(0,c.useRef)((0,u.makePrefs)((0,m.G)())),t=(0,p.M)(),n=t.isPrivateSession,s=t.setPrivateSession,g=(0,c.useState)({formats:[],values:{"incognito-enabled":n},autoStart:y,loudness:k}),b=(0,o.Z)(g,2),w=b[0],N=b[1],_=function(e){return"string"==typeof e?{string:e}:"boolean"==typeof e?{bool:e}:{number:String(e)}},E=function(e){return Object.fromEntries(Object.entries(e.entries).map((function(e){var t,n=(0,o.Z)(e,2),i=n[0],r=n[1],a=r.string,s=r.bool,l=r.number;return[i,null!==(t=null!=a?a:s)&&void 0!==t?t:l]})))},C=function(){var t=(0,a.Z)(l().mark((function t(n,i){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x.includes(n)){t.next=4;break}return t.next=3,v().putValues(d.PutValuesRequest.fromPartial({pairs:(0,r.Z)({},n,i)}));case 3:case 9:return t.abrupt("return");case 4:if(!O.includes(n)){t.next=7;break}return s(Boolean(i)),t.abrupt("return");case 7:return t.next=9,e.current.set({entries:(0,r.Z)({},n,_(i))});case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),P=(0,c.useCallback)(C,[s]);return(0,c.useEffect)((function(){N((function(e){return h(h({},e),{},{values:h(h({},e.values),{},{"incognito-enabled":n})})}))}),[n]),(0,c.useEffect)((function(){new f.No((0,m.G)()).getFormats({}).then((function(e){var t=[{enumKey:"automatic",enumValue:0,supported:!0}].concat((0,i.Z)(e.formats.filter((function(e){return e.supported})))).map((function(e){return{supported:e.supported,quality:S(e.enumValue)}}));N((function(e){return h(h({},e),{},{formats:t})}))}));var t=v().subValues(d.SubValuesRequest.fromPartial({}),(function(e){N((function(t){return h(h({},t),{},{values:h(h({},t.values),e.pairs)})}))})),n=e.current.subAll({},(function(e){N((function(t){return h(h({},t),{},{values:h(h({},t.values),E(e))})}))}));return function(){n.cancel(),t.cancel()}}),[]),{settings:w,setValue:P}}},18049:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var i=function(e){return e.HOME="home",e.COLLECTION="collection",e.CREATE_PLAYLIST="create-playlist",e.LIKED_SONGS="liked-songs",e.YOUR_EPISODES="your-episodes",e.SEARCH="search",e.SETTINGS="settings",e.PLAYLISTS_SIDEBAR="playlists-sidebar",e.NOW_PLAYING_BAR="now-playing-bar",e.BUDDY_FEED="buddy-feed",e.PROFILE="profile",e.DEEP_LINK="deep-link",e.MAKE_MUSIC="make-music",e.NOW_PLAYING_PANEL="now_playing_panel",e.WHATS_NEW_PANEL="whats_new_panel",e.UNKNOWN="unknown",e}({})},65928:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,G:()=>a});var i=n(59496),r=n(4637),a=(0,i.createContext)(void 0),o=function(e){var t=e.value,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})}},44460:(e,t,n)=>{"use strict";n.d(t,{j:()=>k,M:()=>y});var i=n(59496),r=n(83014),a=n(27915),o=n(92449),s=n(45389),l=(n(4302),n(66469),n(69109),n(63691),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(53361)),c=n(18049),u=n(55590);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t){var n,i,r,a,o,s;if(null!==(n=e.state)&&void 0!==n&&n.navigationalRoot)return null===(s=e.state)||void 0===s?void 0:s.navigationalRoot;if(null!==(i=e.state)&&void 0!==i&&i.referrer&&(null===(r=e.state)||void 0===r?void 0:r.referrer)!==(null==t||null===(a=t.state)||void 0===a?void 0:a.referrer))switch(e.state.referrer){case"buddy_feed":return c.U.BUDDY_FEED;case"now_playing_bar":return c.U.NOW_PLAYING_BAR;case"user_profile":return c.U.PROFILE;case"playlists_sidebar":return c.U.PLAYLISTS_SIDEBAR;case"deeplink":return c.U.DEEP_LINK;case"home":return c.U.HOME;case"search":return c.U.SEARCH;case"your_library":return c.U.COLLECTION;case"now_playing_panel":return c.U.NOW_PLAYING_PANEL;case"whats_new_panel":return c.U.WHATS_NEW_PANEL;case"voice":case"other":case"PlayerHarmony_UnknownReferrer":case"PlayerOverture_UnknownReferrer":case"PlayerStub_UnknownReferrer":case"PlayerCore_UnknownReferrer":case"infinite-playback":break;default:(0,u._)(e.state.referrer)}return null==t||null===(o=t.state)||void 0===o?void 0:o.navigationalRoot},f=function(){function e(t,n){var i=this;(0,a.Z)(this,e),(0,s.Z)(this,"locationKeys",[]),(0,s.Z)(this,"onLocationChange",(function(e){var t=i.location;if(e!==t){if(e.state=p(p({},e.state),{},{navigationalRoot:m(e,t)}),e.key){i.locationKeys.includes(e.key)||(i.locationKeys=[].concat((0,r.Z)(i.locationKeys),[e.key]));var n=i.locationKeys.indexOf(e.key),a=null!=t&&t.key?i.locationKeys.indexOf(t.key):-1;i.direction=n>a?l.hw.FORWARD:l.hw.BACK}i.location=e}})),(0,s.Z)(this,"reportPageView",(function(e){var t,n,r,a,o,s,u,d,m,f,v,g=i.history,h=g.location,k=g.action;if(i.onLocationChange(h),!(e.pageId&&e.pageId===(null===(t=i.pageView)||void 0===t?void 0:t.pageId)&&e.entityUri===(null===(n=i.pageView)||void 0===n?void 0:n.entityUri))&&h.pathname!==(null===(r=i.pageView)||void 0===r?void 0:r.pathname)){var y=null!==(a=null!==(o=null==e?void 0:e.navigationalRoot)&&void 0!==o?o:null===(s=h.state)||void 0===s?void 0:s.navigationalRoot)&&void 0!==a?a:c.U.DEEP_LINK,b="POP"!==k?null!==(u=null===(d=h.state)||void 0===d?void 0:d.interactionId)&&void 0!==u?u:i.ubiLogger.getInteractionId(e.entityUri):void 0;i.pageView={pageId:e.pageId,entityUri:e.entityUri,navigationalRoot:y,navigationReason:i.getNavigationReason(y),pathname:h.pathname,interactionId:b},h.state=p(p({},h.state),{},{navigationalRoot:y});var S,x={navigationalRoot:null!==(m=i.pageView.navigationalRoot)&&void 0!==m?m:c.U.UNKNOWN,pageId:null!==(f=i.pageView.pageId)&&void 0!==f?f:"UNKNOWN",entityUri:null!==(v=i.pageView.entityUri)&&void 0!==v?v:"UNKNOWN"};if(i.pageView.interactionId)i.ubiLogger.logNavigation(p(p({},x),{},{interactionId:i.pageView.interactionId}));else i.ubiLogger.logNavigation(p(p({},x),{},{navigationReason:null!==(S=i.pageView.navigationReason)&&void 0!==S?S:l.hw.UNKNOWN}))}})),this.history=t,this.ubiLogger=n,this.unsubscribe=this.listen()}return(0,o.Z)(e,[{key:"listen",value:function(){return this.onLocationChange(this.history.location),this.history.listen(this.onLocationChange)}},{key:"getNavigationReason",value:function(e){var t,n=this.history,i=n.location,r=n.action;return this.pageView?"POP"===r?this.direction:null===(t=i.state)||void 0===t?void 0:t.navigationReason:e===c.U.DEEP_LINK?l.hw.DEEP_LINK:l.hw.CLIENT_STARTED}}]),e}(),v=n(20188),g=n(31895),h=n(4637),k=(0,i.createContext)(void 0),y=function(e){var t=e.children,n=(0,g.D)(),r=(0,v.$P)(),a=(0,i.useMemo)((function(){return new f(n,r)}),[n,r]);return(0,i.useEffect)((function(){return function(){return a.unsubscribe()}}),[a]),(0,h.jsx)(k.Provider,{value:a,children:t})}},58963:(e,t,n)=>{"use strict";n.d(t,{H:()=>s,b:()=>o});var i=n(59496),r=n(65928),a=n(44460),o=function(){return(0,i.useContext)(a.j)},s=function(){return(0,i.useContext)(r.G)}},72481:(e,t,n)=>{"use strict";n.d(t,{U:()=>i.U});var i=n(18049)},96339:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var i=n(41177),r=n(84435),a=n(58963),o=n(65928),s=n(59496);var l=n(4637),c=function(e){var t=e.children,n=e.navigationalRoot,c=e.pageId,u=e.entityUri,d=(0,a.H)(),p=null!=n?n:d,m=(0,i.TH)();return function(e){var t=e.pageId,n=e.navigationalRoot,i=e.entityUri,r=(0,a.b)();(0,s.useEffect)((function(){r&&t&&r.reportPageView({pageId:t,navigationalRoot:n,entityUri:i})}),[t,r,n,i])}({pageId:c,navigationalRoot:p,entityUri:(0,r.S)(null!=u?u:m.pathname)}),(0,l.jsx)(o.E,{value:p,children:t})}},93041:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>i.Bl,Iq:()=>i.Iq,mO:()=>i.mO});var i=n(94878)},25458:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var i=function(e){return e.none="none",e.mini="mini",e.npv="npv",e.cinema="cinema",e.pip="pip",e.fullscreen="fullscreen",e}({})},94878:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>r,Iq:()=>i,mO:()=>a});var i=function(e){return e.SET_VIDEO_MODE="SET_VIDEO_MODE",e.SET_HIDDEN_BY_USER="SET_HIDDEN_BY_USER",e}({}),r=function(e){return{type:i.SET_VIDEO_MODE,mode:e}},a=function(e){return{type:i.SET_HIDDEN_BY_USER,hiddenByUser:e}}},87360:(e,t,n)=>{"use strict";n.d(t,{QU:()=>s,rv:()=>o,XL:()=>T,KE:()=>Oe,Wc:()=>ct,tZ:()=>We,sg:()=>pt,HV:()=>Pe,At:()=>b,MW:()=>y,O6:()=>h,O9:()=>g,_n:()=>m,Kc:()=>w,oP:()=>S,WM:()=>c});var i=n(41177),r=n(78960),a="37i9dQZF1EYkqdzj48dyYq",o="spotify:playlist:".concat(a),s="#0A59B8",l=n(4637),c=function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(i.AW,{path:"/playlist/".concat(a),element:(0,l.jsx)(r.InstrumentedRedirect,{to:"/"})})})},u=n(38674),d=n(47900),p=n(10785),m=function(){var e=(0,d.wW)(),t=(0,u.W6)(p.wZ,{loadingValue:!1});return e&&t},f=n(1003),v=n(49756),g=function(){var e,t=(0,v.ET)(o,{decorateFormatListData:!0});return{metadata:t,lexiconContextUrl:null==t||null===(e=t.formatListData)||void 0===e?void 0:e.attributes.lexicon_context_url}},h=function(e){var t=e||{},n=t.featureIdentifier,i=void 0===n?"unknown":n,r=t.referrerIdentifier,a=g().lexiconContextUrl;return(0,f.n)({uri:o,url:a},{featureIdentifier:i,referrerIdentifier:r})},k=n(46108),y=function(e){return e===o},b=function(e){var t;return"true"===(null==e||null===(t=e.metadata)||void 0===t?void 0:t.is_narration)},S=function(){var e=(0,k.x)(),t=h(),n=t.isPlaying;return{isNarrator:t.isActive&&!!e&&b(e.item),isNarratorSpeaking:n}},x=n(39130),O=n(19873),w=function(){var e=(0,O.Z)(o,!1);return(0,x.Z)(e,1)[0]},N=(n(61235),n(69724),n(64038)),_=n(59496),E=n(10506),C=n(29842),P=n(17249),I=n(56075),j=n(3285),A=n(14255),T=_.memo((function(){return(0,l.jsx)(A.v,{children:(0,l.jsx)(j.aU,{divider:"before"})})})),D=(n(82088),n(22369),n(30246),n(43125),n(27639),n(16366),n(96669),n(39965),n(83001),n(71756),n(39975),n(59538),n(79611),n(91929)),R=function(e){return e/2-e/2*22*2/169},F=function(e){return 22*e/169},L=[{name:"rear",color:"#1E95D7",loudnessAnimation:{multiplier:.1},idleAnimation:null},{name:"middle",color:"#1ED7BC",loudnessAnimation:{multiplier:.4},idleAnimation:{xScale:.95,yScale:1.05,clockwise:!1,beginTime:1800,duration:3600}},{name:"fore",color:"#19E68C",loudnessAnimation:{multiplier:1},idleAnimation:{xScale:1.05,yScale:.95,clockwise:!0,beginTime:0,duration:2*Math.PI/3*1e3}}],M=n(43409),U=(0,_.memo)((function(){var e,t,n=g().metadata;return(0,l.jsx)(M.E,{style:{width:"100%",aspectRatio:"1/1",borderRadius:"50%"},src:null==n||null===(e=n.images)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.url})})),Z=n(87164),B=n(939),V=n(23066),H=n(10109),G=n(27915),W=n(92449),z=function(){function e(t,n){(0,G.Z)(this,e),this.x=t,this.y=n}return(0,W.Z)(e,[{key:"controlPoint",value:function(t,n){return e.sum(this,e.fromRadiusAndAngle(t,n))}}],[{key:"fromRadiusAndAngle",value:function(t,n){return new e(t*Math.cos(n),t*Math.sin(n))}},{key:"sum",value:function(t,n){return new e(t.x+n.x,t.y+n.y)}},{key:"mul",value:function(t,n){return new e(t*n.x,t*n.y)}}]),e}();function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var q=18.5/169;function Q(e,t,n,i){var r=new z(e.x,e.y);if(i){var a=t/2*q*i.xScale,o=t/2*q*i.yScale,s=(n-i.beginTime)/i.duration,l=(i.clockwise?1:-1)*s*2*Math.PI;r.x+=a*Math.cos(l),r.y+=o*Math.sin(l)}var c=new Path2D;return c.arc(r.x,r.y,t,0,2*Math.PI),c}var J=function(){var e=(0,_.useRef)(null),t=(0,_.useRef)(0),n=(0,_.useRef)(0),i=(0,_.useContext)(Z.VX).scrollNodeRef,r=(0,D.YD)({root:i.current,initialInView:!1}),a=r.ref,o=r.inView,s=(0,_.useCallback)((function(){var n,i=performance.now();t.current=t.current||i;var r=i-t.current,a=null===(n=e.current)||void 0===n?void 0:n.getContext("2d");if(e.current&&a){var o=e.current.width/window.devicePixelRatio;a.clearRect(0,0,e.current.width,e.current.height),function(e,t,n){var i=new z(t/2,t/2),r=R(t),a=F(r);e.lineWidth=a;var o,s=K(L);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=l.color,u=l.idleAnimation;e.strokeStyle=c,e.stroke(Q(i,r,n,u))}}catch(e){s.e(e)}finally{s.f()}}(a,o,r)}}),[]),c=(0,_.useCallback)((function(){e.current&&(n.current=requestAnimationFrame((function(){s(),c()})))}),[s]),u=(0,_.useCallback)((function(){if(e.current){var t=e.current.offsetWidth,n=window.devicePixelRatio||1,i=t*n;e.current.width=i,e.current.height=i;var r=e.current.getContext("2d");null==r||r.scale(n,n)}}),[]);(0,V.y)({onResize:(0,H.D)(u)(500),refOrElement:e,observeOnly:"width"});var d=(0,_.useCallback)((function(){return u(),o&&c(),function(){cancelAnimationFrame(n.current)}}),[u,c,o]);return(0,_.useEffect)((function(){return function(){cancelAnimationFrame(n.current)}}),[]),(0,l.jsx)("canvas",{style:{width:"100%",aspectRatio:"1/1"},ref:function(t){a(t),e.current=t,d()}})},X=function(){return(0,B.T)()?(0,l.jsx)(U,{}):(0,l.jsx)(J,{})},$=n(76490),ee=n(47982),te=n(20188);const ne="yhzmVjWVTHexH4wxeqvT",ie="vwSnTIt8eOJPkhYq9dak",re="Ir5UGUEEjrNjtod7oLqd",ae="d4FrTI5j_rkDgPjTTT1g",oe="wez8Kfu5KSb_sIZzlzPT",se="TlD22XrL2WvV1os5qj7m",le="eiVSI329ZuShN8wyhVQV",ce="ClUmjcSm1A7KMvK0creR";var ue=function(e){var t=e.uri,n=e.title,i=e.description,r=h({featureIdentifier:"your_dj_home_card",referrerIdentifier:"home"}),a=r.togglePlay,o=r.isActive,s=r.isPlaying,c=(0,l.jsx)(T,{}),u=(0,te.fU)(C.createDesktopPlayandnavcardEventFactory,{data:{uri:t,position:0,reason:""}}),d=u.spec,p=u.logger,m=(0,_.useCallback)((function(){var e;e=o?s?d.cardPlayButtonFactory().hitPause({itemToBePaused:t}):d.cardPlayButtonFactory().hitResume({itemToBeResumed:t}):d.cardPlayButtonFactory().hitPlay({itemToBePlayed:t});var n=p.logInteraction(e);a({loggingParams:n})}),[a,o,s,p,d,t]),f=(0,_.useCallback)((function(e){"Enter"===e.code&&a()}),[a]),v=(0,te.Wi)(d);return(0,l.jsx)(ee._P,{menu:c,children:(0,l.jsxs)("div",{className:ne,onClick:m,onKeyDown:f,tabIndex:0,role:"button",ref:v,children:[(0,l.jsx)("div",{className:ie,children:(0,l.jsx)("div",{className:re,children:(0,l.jsx)(X,{})})}),(0,l.jsxs)("div",{className:ae,children:[(0,l.jsxs)("div",{className:oe,children:[(0,l.jsx)(E.D,{variant:"brio",semanticColor:"textBase",children:n}),(0,l.jsx)("span",{className:le,children:"BETA"})]}),(0,l.jsx)(E.D,{variant:"mesto",className:se,children:i}),(0,l.jsxs)("div",{className:ce,onClick:function(e){e.stopPropagation()},children:[(0,l.jsx)($.f,{onClick:m,version:$.u.secondary,isPlaying:s,size:"sm"}),(0,l.jsx)(ee.yj,{menu:c,children:(0,l.jsx)(I.z,{size:16,label:P.ag.get("more.label.context",n)})})]})]})]})})},de=(n(95675),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(45389)),pe=n(84875),me=n.n(pe),fe=n(85941);const ve="dS9Ou6JrRXZvYfs7VzpP";var ge=n(39390),he=n(36947);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,de.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=(0,_.memo)((function(e){var t=e.spanColumns,n=e.className,i=e.children,r=(0,fe.u)(),a=(0,he.o)(),o=a.containerRef,s=a.getWidth,c=(0,_.useState)({containerWidth:-1}),u=(0,x.Z)(c,2),d=u[0],p=u[1],m=(0,_.useCallback)((function(e){if(null!==e){var n=(0,ge.nf)(e,t,r);p({containerWidth:n})}}),[r,t]);(0,V.y)({refOrElement:o,observeOnly:"width",observeOnMount:!0,onResize:function(){return m(s())}});var f={"--container-width":"".concat(d.containerWidth,"px")};return(0,l.jsx)("div",{className:me()(ve,n,"FixedColumnsContainerInGrid"),style:ye({},f),children:i})}));const Se="DpP6uINGzQh5Y3kvqPiW",xe="iDmoFdvmJuT1BU8JyIK_";var Oe=function(e){var t=e.uri,n=e.shelfTitle,i=e.title,r=e.description;return(0,l.jsxs)(be,{spanColumns:3,className:Se,children:[(0,l.jsx)("div",{className:xe,children:(0,l.jsx)(N.r,{title:n})}),(0,l.jsx)(ue,{uri:t,title:i,description:r})]})},we=n(40454),Ne=(n(42617),n(5538),n(44208)),_e=n(68894),Ee=new Map,Ce=null,Pe=function(){return Ce||((Ce=new Ne.Fo((0,_e.G)())).subLoudness({},(function(e){Ee.has(e.playbackId)||(Ee.clear(),Ee.set(e.playbackId,[]));var t=Ee.get(e.playbackId),n=Math.min(1,Math.max(0,e.loudness[0]/80));t[Math.floor(parseInt(e.position,10)/40)]=n})),Ce)},Ie=n(78742);function je(e,t,n){return(1-e)*t+e*n}function Ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var De=function(e){return e-Math.PI},Re=Math.PI/2,Fe=function(e){return e+Re},Le=.67,Me=4/3*Math.PI;function Ue(e,t,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=z.sum(e,z.fromRadiusAndAngle((1-s*l*Le)*a,t)),u=Fe(t)-s*(4*Math.PI/9),d=n.controlPoint(o,Fe(Me)),p=c.controlPoint(o,De(u)),m=c.controlPoint(o,u),f=i.controlPoint(o,De(Fe(r))),v=new Path2D;return v.moveTo(n.x,n.y),v.bezierCurveTo(d.x,d.y,p.x,p.y,c.x,c.y),v.bezierCurveTo(m.x,m.y,f.x,f.y,i.x,i.y),v.arc(e.x,e.y,a,r,Me,!1),v}function Ze(e,t,n){var i,r=new z(t/2,t/2),a=R(t),o=F(a),s=Me+2*Math.PI/2,l=je(.5,Me,s),c=z.sum(r,z.fromRadiusAndAngle(a,Me)),u=z.sum(r,z.fromRadiusAndAngle(a,s)),d=a*(i=4,4/3*Math.tan(Math.PI/(2*i)));e.lineWidth=o;var p,m=Ae(L);try{for(m.s();!(p=m.n()).done;){var f=p.value,v=f.loudnessAnimation,g=f.color;e.strokeStyle=g;var h=Ue(r,l,c,u,s,a,d,n,(null==v?void 0:v.multiplier)||0);e.stroke(h)}}catch(e){m.e(e)}finally{m.f()}}var Be=function(){var e=(0,_.useRef)(null),t=(0,Ie.g)(),n=(0,_.useRef)(0),i=(0,_.useRef)(0),r=(0,_.useRef)(0),a=(0,_.useRef)(0),o=(0,_.useRef)(0),s=(0,_.useRef)(0),c=(0,_.useRef)(0),u=(0,_.useRef)(-1),d=(0,_.useRef)(!1),p=(0,_.useRef)(0),m=(0,_.useCallback)((function(){var l=performance.now(),p=t.getState();n.current=n.current||l;var m=l-n.current;p.isPaused?(i.current=i.current||m,r.current=m-i.current):(a.current+=r.current,r.current=0,i.current=0);var f=m-r.current-a.current,v=1-Math.max(0,Math.min(1,(c.current-m)/80)),g=je(v,o.current,s.current);if(d.current||u.current!==g){var h,k=null===(h=e.current)||void 0===h?void 0:h.getContext("2d");if(e.current&&k){u.current=g,d.current=!1;var y=e.current.width/window.devicePixelRatio;k.clearRect(0,0,e.current.width,e.current.height),Ze(k,y,u.current)}}if(1===v){if(o.current=s.current,p.isPaused)s.current=0;else{var b=function(e,t){if(e){var n=Ee.get(e),i=Math.floor(t/40);if(n&&!(i>=n.length))return n[i]}}(p.playbackId,f);s.current=null!=b?b:0}c.current=m+80}}),[t]),f=(0,_.useCallback)((function(){e.current&&(p.current=requestAnimationFrame((function(){m(),f()})))}),[m]),v=(0,_.useCallback)((function(){if(e.current){var t=e.current.offsetWidth,n=window.devicePixelRatio||1,i=t*n;e.current.width=i,e.current.height=i;var r=e.current.getContext("2d");null==r||r.scale(n,n),d.current=!0}}),[]);(0,V.y)({onResize:(0,H.D)(v)(500),refOrElement:e,observeOnly:"width"});var g=(0,_.useCallback)((function(){v(),f()}),[v,f]);return(0,_.useEffect)((function(){return function(){cancelAnimationFrame(p.current)}}),[]),(0,l.jsx)("canvas",{style:{width:"100%",aspectRatio:"1/1"},ref:function(t){e.current=t,d.current=!0,g()}})},Ve=function(){return(0,B.T)()?(0,l.jsx)(U,{}):(0,l.jsx)(Be,{})};const He="VeV6wzYXNcjC3phqDklt",Ge="XgWqIQWTisOJ3u2NzYFK";var We=function(e){var t=e.spec,n=(0,k.x)()||{item:null,context:null},i=n.item,r=n.context;return(0,l.jsx)(te.Nh,{spec:t,children:(0,l.jsxs)("div",{className:He,children:[(0,l.jsx)("div",{className:Ge,children:(0,l.jsx)(Ve,{})}),r&&i?(0,l.jsx)(we._,{context:r,item:i,titleTypeVariant:"canon",subtitleTypeVariant:"ballad"}):null]})})},ze=n(39826),Ke=(n(94562),n(98853),n(93235)),Ye=(n(40274),n(9271));function qe(){return(0,Ye.Y)((function(e){var t;return null!==(t=null==e?void 0:e.nextItems.find((function(e){var t;return null===(t=e.metadata)||void 0===t?void 0:t.jump_track})))&&void 0!==t?t:null==e?void 0:e.nextItems.find((function(e){var t,n;return(null===(t=e.metadata)||void 0===t?void 0:t["narration.intro.ssml"])||(null===(n=e.metadata)||void 0===n?void 0:n["narration.jump.ssml"])}))}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)}))}var Qe=n(20899),Je=n(15520),Xe=n(91095),$e="yourdj.tiredofset.tooltipshown",et={status:"inactive",skippedCount:0},tt=function(e){var t=e.children,n=e.onTooltipShown,i=e.api,r=(0,_.useState)(!1),a=(0,x.Z)(r,2),o=a[0],s=a[1],c=(0,_.useCallback)((function(){s(!1)}),[]);(0,_.useImperativeHandle)(i,(function(){return{visible:o,hide:function(){c()}}}));var u=(0,Qe.z)($e,!1),d=(0,x.Z)(u,2),p=d[0],m=d[1],f=(0,_.useCallback)((function(e){p||(null==n||n(e),m(!0),s(!0))}),[p,n,m]);return function(e,t,n){var i=(0,_.useRef)("inactive"),r=h().isPlaying,a=qe();(0,_.useEffect)((function(){r&&a?"inactive"===i.current&&(i.current="dj_active"):(i.current="inactive",n())}),[r,a,n]),(0,_.useEffect)((function(){var n=function(){"dj_active_then_blurred"===i.current&&(i.current="executed",a(),setTimeout((function(){t("blur_then_focus")}),1e3))},r=function(){"dj_active"===i.current&&(i.current="dj_active_then_blurred")};function a(){e||(window.removeEventListener("focus",n),window.removeEventListener("blur",r))}return e||(window.addEventListener("focus",n),window.addEventListener("blur",r)),a}),[r,t,e])}(p,f,c),function(e,t,n){var i=(0,_.useRef)(et),r=h().isPlaying,a=qe();(0,_.useEffect)((function(){r&&a?"inactive"===i.current.status&&(i.current.status="dj_active"):(i.current=et,n())}),[r,a,n]),(0,Xe.G)(Je.rg.ACTION,(function(n){e||n.data.action===Je.zr.SKIP_TO_NEXT&&("dj_active"!==i.current.status&&"dj_active_then_skipped"!==i.current.status||(i.current.skippedCount+=1,2===i.current.skippedCount&&(i.current.status="executed",t("multiple_skips"))))}))}(p,f,c),(0,l.jsx)(Ke.G,{title:P.ag.get("yourdj.jumpbutton.tooltip.title"),description:P.ag.get("yourdj.jumpbutton.tooltip.desc"),visible:o,id:$e,showButtons:!1,hideOnClickOutside:!1,onSecondaryButtonClick:s.bind(null,!1),children:t})},nt=n(71062);const it="uNwWVYsO7MhJTvG8LTf7",rt="cncNtgkWYCEJLsq1b7Ec",at="xBba0HxpAwWVUfqR32Kr",ot="Li4qzD6Wfp91DswR0WAV",st="x_EML11vzDLAvA18VW68";var lt=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e}({}),ct=function(e){var t=e.onClick,n=(0,_.useRef)(null),i=qe(),r=h().isActive,a=S().isNarrator,o=(0,Ie.g)(),s=(0,_.useCallback)((function(){var e;i&&(o.skipTo(i),null===(e=n.current)||void 0===e||e.hide(),null==t||t(i.uri))}),[o,i,t]);return!r||a?null:(0,l.jsx)(tt,{api:n,children:(0,l.jsx)(nt.w,{label:P.ag.get("yourdj.jumpbutton.tooltip.hover"),disabled:!i,children:(0,l.jsx)("button",{className:me()(it,(0,de.Z)({},st,!i)),onClick:s,children:(0,l.jsx)("div",{className:me()(rt),children:(0,l.jsx)(ze.E,{iconSize:lt.xs,className:me()(at,(0,de.Z)({},ot,!i))})})})})})};const ut="j1NLAJlee5UppsghgrQT";var dt="yourdj.ylx.tooltipshown",pt=function(e){var t=e.children,n=e.onTooltipShown,i=e.api,r=e.parentRef,a=(0,_.useState)(!1),o=(0,x.Z)(a,2),s=o[0],c=o[1],u=(0,_.useState)(!1),d=(0,x.Z)(u,2),p=d[0],m=d[1];(0,_.useImperativeHandle)(i,(function(){return{visible:s,hide:function(){c(!1)}}}));var f=h().isPlaying,v=(0,_.useRef)(null),g=(0,_.useMemo)((function(){return new IntersectionObserver((function(e){var t=(0,x.Z)(e,1)[0];return m(t.isIntersecting)}))}),[]);(0,_.useEffect)((function(){return null!=r&&r.current&&g.observe(r.current),function(){return g.disconnect()}}),[g,r]);var k=(0,Qe.z)(dt,!1),y=(0,x.Z)(k,2),b=y[0],S=y[1],O=(0,_.useCallback)((function(e){b||(null==n||n(e),S(!0),c(!0))}),[b,n,S]),w=(0,_.useCallback)((function(){v.current&&clearTimeout(null==v?void 0:v.current)}),[]);return(0,_.useEffect)((function(){return f||!p?(c(!1),w):(b||(v.current=setTimeout((function(){O("dj_in_ylx")}),2e3)),w)}),[b,O,f,p,w]),(0,l.jsx)(Ke.G,{title:P.ag.get("ylx.clicktoplay"),description:P.ag.get("yourdj.ylx.tooltip.description"),visible:s,id:dt,showButtons:!1,hideOnClickOutside:!1,onSecondaryButtonClick:function(){return c(!1)},placement:"right",renderInline:!1,tippyWrapperClassName:ut,className:"encore-dark-theme",zIndex:1e4,children:t})}},50522:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var i=n(23929),r=n(50734),a=n(4637),o=function(){return(0,a.jsx)("div",{className:r.Z.coverContainer,children:(0,a.jsx)(i.P,{iconSize:64,className:r.Z.coverIcon})})}},35883:(e,t,n)=>{"use strict";n.d(t,{x:()=>c});var i=n(61740),r=n(59272),a=n(17249),o=n(29893),s=n(3385),l=n(834);function c(){var e=(0,s.j$)({offset:0,limit:1}),t=(0,i.v9)(o.Gg).user;return null!==e&&null!=t&&t.id?{uri:(0,r.wG)(t.id,"your-episodes").toURI(),name:a.ag.get("sidebar.your_episodes"),images:[],totalLength:null==e?void 0:e.totalLength,owner:(0,l.V)(t)}:null}},15533:(e,t,n)=>{"use strict";n.d(t,{T:()=>m});n(30246);var i=n(17249),r=n(23498),a=n(72030),o=n(1003),s=n(50522),l=n(35051),c=n(35883),u=n(50734),d=n(4637),p=function(e){var t=e.metadata,n=e.index,l=(0,o.n)({uri:t.uri},{featureIdentifier:"your_library"}),c=l.isPlaying,p=l.togglePlay,m=t.name,f=t.images;return(0,d.jsx)(r.Z,{index:n,delegatePlayback:!0,delegateLogging:!0,isPlaying:c,featureIdentifier:"your_library",onPlay:function(e,t){return p({loggingParams:t})},headerText:m,uri:t.uri,renderCardImage:function(){return(0,d.jsx)(a.x,{images:f,FallbackComponent:s.$})},renderSubHeaderContent:function(){return(0,d.jsx)("span",{children:i.ag.get("tracklist-header.episodes-counter",t.totalLength)})},className:u.Z.yourEpisodesCard})},m=function(e){var t=e.index,n=(0,c.x)();return n?(0,d.jsx)(p,{metadata:n,index:t}):(0,d.jsx)(l.A,{cardImage:(0,d.jsx)(a.x,{FallbackComponent:s.$}),isLoading:!0})}},20808:(e,t,n)=>{"use strict";n.d(t,{x:()=>i.x});var i=n(35883)},48242:(e,t,n)=>{"use strict";n.d(t,{U:()=>l,c:()=>s});var i=n(39130),r=(n(59538),n(79611),n(38674)),a=n(10785),o=n(20899),s=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COLLAPSED=1]="COLLAPSED",e[e.EXPANDED=2]="EXPANDED",e}({});function l(){var e=(0,r.W6)(a.yA,{loadingValue:!1}),t=(0,o.z)("ylx-sidebar-state",s.DEFAULT),n=(0,i.Z)(t,2),l=n[0],c=n[1];return e?{ylxSidebarState:l,setYlxSidebarState:c,isCollapsed:l===s.COLLAPSED,isExpanded:l===s.EXPANDED}:{ylxSidebarState:null,setYlxSidebarState:function(e){throw new Error("Can't set YLXSidebarState to ".concat(s[e]," as YLX is not enabled"))},isCollapsed:!1,isExpanded:!1}}},86409:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CompactModeState:()=>Fa,YourLibraryX:()=>ns,useLibraryRowMode:()=>La});var i=n(83014),r=n(8850),a=n(45389),o=n(980),s=n(39130),l=n(10995),c=n.n(l),u=(n(62780),n(22369),n(162),n(65394),n(78819),n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),d=n(84875),p=n.n(d),m=n(89130),f=n(61740),v=n(85830),g=n(72102),h=n(38674),k=n(13092),y=n(59272),b=n(16547),S=n(30406),x=n(34148),O=n(16053),w=n(47982),N=n(36947),_=n(89880),E=n(29903),C=n(62179),P=n(59791),I=n(36902),j=n(78302),A=(n(59538),n(79611),n(82088),n(94562),n(83001),n(82),n(27639),n(71756),new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock","Hyper","Super","Enter","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo","Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut","BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp","AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate","HangulMode","HanjaMode","JunjaMode","Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4","ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck","Key11","Key12","AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute","SpeechCorrectionList","SpeechInputToggle","LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor","BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop","AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial","TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer","AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]));function T(e,t){var n=(0,u.useState)(""),i=(0,s.Z)(n,2),r=i[0],a=i[1],o=(0,u.useRef)(r);o.current=r;var l=(0,u.useRef)(null);return(0,u.useEffect)((function(){var n=e.current;if(!n||!t)return a(""),function(){};var i=function(e){var t,n,i="Backspace"===e.key,r=" "===e.key,s=e.metaKey||e.ctrlKey,c=e.target instanceof HTMLElement&&(null===(t=e.target)||void 0===t?void 0:t.matches("input, textarea, [contenteditable]")),u=e.isComposing||229===e.keyCode,d=(n=e.key,A.has(n)&&!i),p=r&&!o.current,m=i&&!o.current;s||c||u||d||p||m||((i&&o.current||r)&&(e.preventDefault(),e.stopPropagation()),a((function(t){return i?t.slice(0,-1):t+e.key})),l.current&&clearTimeout(l.current),l.current=setTimeout((function(){return a("")}),1e3))};return n.addEventListener("keydown",i,!0),function(){n.removeEventListener("keydown",i,!0),l.current&&clearTimeout(l.current)}}),[e,t]),r}var D=n(4637),R=(0,u.createContext)({setTypeaheadResult:function(e){var t=e.uid,n=e.str;if(t||n)throw new Error("setTypeaheadResult must be used within a TypeaheadProvider")},typeaheadResult:{uid:null,str:""}}),F=function(e){var t=e.children,n=e.containerRef,i=e.findMatchingTypeaheadUid,r=e.isEnabled,a=void 0===r||r,o=(0,u.useState)({uid:null,str:""}),l=(0,s.Z)(o,2),c=l[0],d=l[1],p=(0,u.useMemo)((function(){return{typeaheadResult:c,setTypeaheadResult:d}}),[c,d]),m=T(n,a),f=(0,u.useRef)(m);f.current=m;var v=(0,u.useRef)(i);return v.current=i,(0,u.useEffect)((function(){m&&a?v.current(m).then((function(e){m===f.current&&d({uid:e,str:m})})):d({uid:null,str:""})}),[a,m,d]),(0,D.jsx)(R.Provider,{value:p,children:t})};const L="Vf3ww2_My5QuwUnbpzhu";var M=n(65660),U=function(){var e=(0,u.useContext)(R).typeaheadResult.str;return e?(0,D.jsx)(M.A9,{className:L,children:e}):null},Z=n(20188),B=n(83474),V=n(10506),H=n(17249);const G="wW9brXu3G3dR9CQ77Tyk",W="sgpkGFrp4dcnre_TJtaI";var z=function(e){var t=e.className;return(0,D.jsx)("section",{className:p()(G,t),children:(0,D.jsxs)("div",{className:W,children:[(0,D.jsx)(V.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:H.ag.get("web-player.your-library-x.empty-state-folder-title")}),(0,D.jsx)(V.D,{as:"p",variant:"mesto",semanticColor:"textBase",children:H.ag.get("web-player.your-library-x.empty-state-folder-subtitle")})]})})},K=n(99070),Y=n(63892),q=n(12116);const Q="xi3ytXbuSuzCYy5LwjFu",J="OcOr6YadMDDeh_NPgClX",X="eL94fWmhg6WbrdKZfGEW";var $=(0,u.memo)((function(e){var t=e.message,n=e.title,i=e.linkTitle,r=e.linkTo,a=e.onClick,o=e.className;return(0,D.jsxs)("section",{className:p()(Q,o),children:[(0,D.jsxs)("div",{className:J,children:[(0,D.jsx)(V.D,{variant:"balladBold",semanticColor:"textBase",children:n}),(0,D.jsx)(V.D,{variant:"mesto",semanticColor:"textBase",children:t})]}),(0,D.jsx)("div",{className:X,children:i&&(r||a)&&(0,D.jsx)(Y.D,{className:X,as:a?"button":void 0,colorSet:"invertedLight",href:r,onClick:a,component:q.Z,buttonSize:"sm",children:i})})]})})),ee=n(20346),te=function(e){var t=e.className,n=(0,K.K)().createPlaylist,i=(0,u.useCallback)((function(){n()}),[n]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ee.D,{renderInline:!1,children:(0,D.jsx)($,{onClick:i,linkTitle:H.ag.get("web-player.your-library-x.empty-state-playlists-cta"),title:H.ag.get("web-player.your-library-x.empty-state-playlists-title"),message:H.ag.get("web-player.your-library-x.empty-state-playlists-subtitle"),className:t})}),(0,D.jsx)($,{linkTo:"/genre/podcasts-web",linkTitle:H.ag.get("web-player.your-library-x.empty-state-podcasts-browse"),title:H.ag.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:H.ag.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated"),className:t})]})};const ne="JouuH90_RNAdTj0ZjcCA",ie="YtlFVHxvaGSz4vJdDdEa",re="spFG_i1jkxOkxb1_SaLJ",ae="_8ZKfG3dOxfcr9Yyy5cv";var oe=function(e){var t=e.query,n=e.className;return(0,D.jsxs)("div",{className:p()(ne,n),"":"no-search-results-view",children:[(0,D.jsx)(V.D,{as:"h1",variant:"cello",className:ie,children:H.ag.get("web-player.your-library-x.empty-results-title-short",(0,D.jsx)("span",{className:re,children:(0,D.jsx)("span",{className:ae,children:t})}))}),(0,D.jsx)(V.D,{as:"h2",variant:"mesto",children:H.ag.get("web-player.your-library-x.empty-results-text-short")})]})},se=n(82504);const le="yrUQENj0tMcKDW5v0mfb",ce="jsT0vJ8rWXPMeoFsMdNK";var ue=function(e){var t=e.onClick;return(0,D.jsxs)("div",{className:le,children:[(0,D.jsx)("div",{className:"icon",children:(0,D.jsx)(se.l,{iconSize:48,semanticColor:"textBase"})}),(0,D.jsxs)("div",{className:ce,children:[(0,D.jsx)(V.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:H.ag.get("web-player.your-library-x.error-title")}),(0,D.jsx)(V.D,{as:"p",variant:"mesto",semanticColor:"textBase",children:H.ag.get("web-player.your-library-x.error-body")})]}),(0,D.jsx)("div",{children:(0,D.jsx)(Y.D,{onClick:t,colorSet:"invertedLight",buttonSize:"sm",children:H.ag.get("web-player.your-library-x.error-button")})})]})},de=(0,u.createContext)(null),pe=(n(4302),n(66469),n(63691),n(69109),n(20899));var me=function(e){var t=e.children,n=function(){var e=(0,pe.z)("ylx-expanded-folders",[]),t=(0,s.Z)(e,2),n=t[0],r=t[1],a=(0,u.useCallback)((function(e){return n.includes(e)}),[n]),o=(0,u.useCallback)((function(e,t){var a=n.indexOf(e);if(t){if(-1!==a)return;r([].concat((0,i.Z)(n),[e]))}else{if(-1===a)return;r(n.filter((function(t){return t!==e})))}}),[n,r]);return{expandedFolders:n,getIsFolderExpanded:a,setIsFolderExpanded:o}}();return(0,D.jsx)(de.Provider,{value:n,children:t})};const fe="main-yourLibraryX-listItemGroup",ve="main-yourLibraryX-listItemGroupCompact",ge="Ks_qLLEMUQzP7ejeQCwQ",he="main-yourLibraryX-listRowIconWrapper",ke="vR1zUcAr6PBeHIvA_K13",ye="main-yourLibraryX-isFlattened",be="main-yourLibraryX-rowCover",Se="Pns6F5g4OEwEpdmOWTLg",xe="gOCoOAfYUiOq2RlMCOjr",Oe="eldivguzYznZgQoShJbe",we="rTLczxlwElfe8CeNpuh6",Ne="main-yourLibraryX-libraryItem",_e="pFmiujkSoJU4nVLZNO32",Ee="raKUx1vRBRjpm8xR2bIV",Ce="jNqzRycGQMLmnhgQNqxy",Pe="Q955MS3fMIZGQAtvDYCq",Ie="cVy6fGx6QtJbCnID7XdB",je="main-yourLibraryX-listItem";var Ae=function(e){var t=e.isScrolled;return(0,D.jsxs)("div",{className:p()(Ne,Ee,(0,a.Z)({},Ce,t)),children:[(0,D.jsx)(V.D,{variant:"finaleBold",semanticColor:"textSubdued",children:H.ag.get("web-player.your-library-x.expanded-list-header.title")}),(0,D.jsx)(V.D,{variant:"finaleBold",semanticColor:"textSubdued",children:H.ag.get("web-player.your-library-x.expanded-list-header.date-added")}),(0,D.jsx)(V.D,{variant:"finaleBold",semanticColor:"textSubdued",children:H.ag.get("web-player.your-library-x.expanded-list-header.played-at")})]})},Te=(n(30246),n(54847)),De=n(51537),Re=n(8608),Fe=n(70420),Le=n(19873),Me=(n(50103),n(31594),n(84456),n(43125),n(52040),n(58944),n(90511),n(76924)),Ue=n(3643),Ze=n(9587),Be=[y.JM.TRACK,y.JM.LOCAL_TRACK,y.JM.ALBUM,y.JM.ARTIST,y.JM.PLAYLIST,y.JM.PLAYLIST_V2,y.JM.FOLDER,y.JM.EPISODE,y.JM.SHOW],Ve=function(e){return e.ON="on",e.BEFORE="before",e.AFTER="after",e}({}),He=(0,Ze.y)(Ve);function Ge(e){return Be.includes(e)}function We(e,t,n,i,r){if(e.defaultPrevented)return null;var a=n.includes(Ve.BEFORE),o=n.includes(Ve.AFTER),s=Ve.ON;if(t instanceof HTMLElement&&(a||o)){var l=t.getBoundingClientRect(),c=l.top,u=l.height,d=l.left,p=l.width,m=l.right,f=n.includes(Ve.ON);if("horizontal"===i)if(f&&a)(r?e.clientX>Math.round(m)-p/4:e.clientX<Math.round(d)+p/4)&&(s=Ve.BEFORE);else s=(r?e.clientX>Math.round(m)-p/2:e.clientX<Math.round(d)+p/2)?Ve.BEFORE:Ve.AFTER;else"vertical"===i&&(f&&a?e.clientY<Math.round(c)+u/4&&(s=Ve.BEFORE):s=e.clientY<Math.round(c)+u/2?Ve.BEFORE:Ve.AFTER)}return n.includes(s)?s:null}var ze=n(96268),Ke=(n(76626),n(28834),n(40698),n(69724),n(72649),n(96692)),Ye=n(50703);function qe(e,t){var n,i;return Array.from(null!==(n=null===(i=e.dataTransfer)||void 0===i?void 0:i.types)&&void 0!==n?n:[]).filter(Ye.Fu).filter((function(e){var n=Ye.UD[e];return!!Ge(n)&&t.includes(n)})).map((function(e){return Ye.UD[e]})).filter(Ge)}n(81289),n(16366),n(35019),n(71541);var Qe=n(98328);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){var t=function(e,t){if("object"!==(0,ze.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,ze.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,ze.Z)(t)?t:String(t)}function et(e,t,n){var r,s=qe(e,t),l=function(e,t){return e.split(/[\s,;]+/g).map((function(e){return(0,y.EC)(null==e?void 0:e.trim())})).filter(Qe.K).reduce((function(e,n){var i;return Ge(n.type)&&t.includes(n.type)?(e[i=n.type]||(e[i]=[]),e[n.type].push(n.toURI()),e):e}),{})}(null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("text/plain"),t),c=Array.from(new Set([].concat((0,i.Z)(Object.keys(l)),(0,i.Z)(s)))).filter(Ge),u=Object.fromEntries(c.map((function(t){var n,r,a,o,s=null!==(n=l[t])&&void 0!==n?n:[],c=null!==(r=null===(a=e.dataTransfer)||void 0===a||null===(o=a.getData(Ke.a[t]))||void 0===o?void 0:o.split("\n").filter(Boolean))&&void 0!==r?r:[];return[t,Array.from([].concat((0,i.Z)(c),(0,i.Z)(s.filter((function(e){return!c.includes(e)})))))]})));if(n){var d,p,m=y.JM.PLAYLIST,f=(u[m],(0,o.Z)(u,[m].map($e))),v=Array.from(new Set([].concat((0,i.Z)(null!==(d=u[y.JM.PLAYLIST_V2])&&void 0!==d?d:[]),(0,i.Z)((null!==(p=u[y.JM.PLAYLIST])&&void 0!==p?p:[]).map(tt)))));return Xe(Xe({},f),v.length?(0,a.Z)({},y.JM.PLAYLIST_V2,v):null)}return u}function tt(e){var t=(0,y.EC)(e);return(null==t?void 0:t.type)===y.JM.PLAYLIST?(0,y.FW)(t.id).toURI():e}const nt={droppableUriTypes:"album artist episode folder playlist playlist-v2 show track local",useDropTarget:"main-useDropTarget-base","useDropTarget--album":"main-useDropTarget-album","useDropTarget--artist":"main-useDropTarget-artist","useDropTarget--episode":"main-useDropTarget-episode","useDropTarget--folder":"main-useDropTarget-folder","useDropTarget--playlist":"main-useDropTarget-playlist","useDropTarget--playlist-v2":"main-useDropTarget-playlistV2","useDropTarget--show":"main-useDropTarget-show","useDropTarget--track":"main-useDropTarget-track","useDropTarget--local":"main-useDropTarget-local"};function it(e){var t=e.uri,n=e.allowedURITypesByDropPosition,i=e.onDrop,r=e.onLongDragOver,a=e.longDragOverTimeout,o=void 0===a?1e3:a,l=e.reorderDirection,c=void 0===l?"vertical":l,d=(0,g.NY)((function(){return n}),[n]),p=(0,Ue.S)(),m=(0,Me.m1)(),f=!!t&&1===m.length&&m[0]===t,v=Object.values(d).every((function(e){return e.includes(y.JM.PLAYLIST_V2)&&!e.includes(y.JM.PLAYLIST)})),h=(0,u.useState)(null),k=(0,s.Z)(h,2),b=k[0],S=k[1],x=(0,u.useCallback)((function(e){return f?[]:Object.entries(d).filter((function(t){var n=(0,s.Z)(t,2),i=(n[0],n[1]);return qe(e,i).length>0})).map((function(e){return(0,s.Z)(e,1)[0]})).filter(He)}),[f,d]),O=(0,u.useRef)(null),w=(0,u.useRef)(null),N=(0,u.useCallback)((function(){O.current=null,S(null),w.current&&(window.clearTimeout(w.current),w.current=null)}),[]);(0,u.useEffect)((function(){return N}),[N]);var _=(0,u.useCallback)((function(e){var t=x(e);t.length&&(S(We(e,O.current,t,c,p)),e.dataTransfer&&!e.defaultPrevented&&(e.dataTransfer.dropEffect=t.includes(Ve.ON)?"copy":"move"),e.preventDefault())}),[x,p,c]),E=(0,u.useCallback)((function(e){if(x(e).length&&(e.preventDefault(),null===O.current&&e.target instanceof HTMLElement)){O.current=e.target;var t=function e(){O.current&&document.contains(O.current)||(N(),document.removeEventListener("dragenter",e))};document.addEventListener("dragenter",t),document.addEventListener("dragend",(function(){document.removeEventListener("dragenter",t),N()}),{once:!0}),r&&(w.current=window.setTimeout(r,o))}}),[x,r,o,N]),C=(0,u.useCallback)((function(e){x(e).length&&e.target===O.current&&N()}),[x,N]),P=(0,u.useCallback)((function(e){var t=We(e,O.current,x(e),c,p);if(!e.defaultPrevented&&t){var n,r=et(e,null!==(n=d[t])&&void 0!==n?n:[],v);Object.keys(r).length&&i&&(i(r,t),e.preventDefault())}N()}),[x,c,p,N,d,v,i]);return{dropPosition:b,className:(0,u.useMemo)((function(){var e;return"".concat(nt.useDropTarget," ").concat(null===(e=Array.from(new Set(Object.values(d).flat())))||void 0===e?void 0:e.map((function(e){var t;return null!==(t=nt["useDropTarget--".concat(e)])&&void 0!==t?t:""})).join(" "))}),[d]),onDragEnter:E,onDragLeave:C,onDragOver:_,onDrop:P}}const rt="main-yourLibraryX-libraryOnDrop",at="as7TWnIA1jnumFte_u0R",ot="main-yourLibraryX-libraryBeforeDrop",st="main-yourLibraryX-libraryAfterDrop",lt="V57QBvW1q79gFmT8NBvz";var ct=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetURITypes","className","ChipComponent","innerRef","index","spec"],ut=["className","dropPosition"];function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt={marginBlockEnd:0,willChange:"transform, opacity"},ft=function(e){var t,n=e.filterId,i=e.isPrimaryFilter,r=e.isPlaceholder,s=e.resetFilterIds,l=e.toggleFilterId,c=e.allowedDropTargetURITypes,d=void 0===c?Be:c,m=e.className,f=e.ChipComponent,v=void 0===f?Fe.A:f,g=e.innerRef,h=e.index,k=void 0===h?0:h,y=e.spec,b=(0,o.Z)(e,ct),S=(0,Z.$P)(),x=(0,Le.y)(),O=b.selected,w=n?x.getFilterLabel(n):"",N=(0,u.useCallback)((function(){!n||O&&i?(s(),O&&i&&n?S.logInteraction(y.filterChipFactory({identifier:w,position:k}).hitClearFilter()):S.logInteraction(y.clearButtonFactory().hitClearFilter())):(l(n),O?S.logInteraction(y.filterChipFactory({identifier:w,position:k}).hitClearFilter()):S.logInteraction(y.filterChipFactory({identifier:w,position:k}).hitFilter()))}),[n,w,O,i,s,l,k,S,y]),_=(0,u.useCallback)((function(e){e.detail>1||r||N()}),[r,N]),E=it({allowedURITypesByDropPosition:(0,a.Z)({},Ve.ON,d),onLongDragOver:N}),C=E.className,P=E.dropPosition,I=(0,o.Z)(E,ut);return(0,D.jsx)(v,pt(pt(pt(pt({},b),{},{"aria-label":b["aria-label"]},I),P===Ve.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(m,C,(t={},(0,a.Z)(t,at,P===Ve.ON),(0,a.Z)(t,lt,r),t)),onClick:_,selectedColorSet:P===Ve.ON?"invertedDark":"invertedLight",secondary:O&&!i,style:mt,ref:g,tabIndex:-1}))},vt=[{id:"p1",name:"Playlists"},{id:"p2",name:"Podcasts & Shows"},{id:"p3",name:"Artists"},{id:"p4",name:"Albums"}],gt=(0,u.memo)((function(e){var t=e.availableFilters,n=e.selectedFilters,r=e.toggleFilterId,a=e.resetFilterIds,o=e.className,s=e.spec,l=!(n||t),c=l?vt:[].concat((0,i.Z)(null!=n?n:[]),(0,i.Z)(null!=t?t:[])),d=(0,u.useRef)(null),p=(0,u.useCallback)((function(){var e,t;(0,Re.Bu)(d.current,(null===(e=d.current)||void 0===e?void 0:e.nextElementSibling)instanceof HTMLElement?null===(t=d.current)||void 0===t?void 0:t.nextElementSibling:null),a()}),[a]);return 0===c.length?null:(0,D.jsxs)(De.l,{className:o,ariaLabel:H.ag.get("web-player.your-library-x.filter_options"),children:[!(null==n||!n.length)&&(0,D.jsx)(ft,{resetFilterIds:p,toggleFilterId:r,allowedDropTargetURITypes:$o,ChipComponent:Te.w,"aria-label":H.ag.get("web-player.your-library-x.clear_filters"),innerRef:d,spec:s}),c.map((function(e,t){var i=null==n?void 0:n.includes(e),o=0===t;return(0,D.jsx)(ft,{filterId:e.id,isPrimaryFilter:o,isPlaceholder:l,resetFilterIds:a,toggleFilterId:r,selected:i,spec:s,index:t,children:e.name},e.id)}))]})})),ht=n(50200),kt=(0,u.createContext)({openedFolderUri:"",pushFolder:function(){},popFolder:function(){},resetFolder:function(){},change:"PUSH"}),yt=function(e){var t=e.children,n=(0,u.useContext)(ht.fo).setFilter,i=(0,pe.z)("opened-folder-uri",""),r=(0,s.Z)(i,2),a=r[0],o=r[1],l=(0,u.useRef)([null!=a?a:""]),c=(0,u.useRef)("PUSH"),d=(0,u.useCallback)((function(e){o(e),n("")}),[o,n]),p=(0,u.useCallback)((function(e){l.current.push(e),c.current="PUSH",d(l.current.at(-1))}),[d]),m=(0,u.useCallback)((function(){l.current.pop();var e=l.current.at(-1);return c.current="POP",d(e),e}),[d]),f=(0,u.useCallback)((function(){l.current=[""],d("")}),[d]);return(0,D.jsx)(kt.Provider,{value:{openedFolderUri:a,pushFolder:p,popFolder:m,resetFolder:f,change:c.current},children:t})},bt=n(87360),St=n(85941),xt=n(97370),Ot=n(40423),wt=n(55590),Nt=n(73691),_t=n(76561),Et=n(17646),Ct=n(35742),Pt=n(1003),It=n(40787),jt=n(2818),At=n(3269),Tt=n(91048);function Dt(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){if((0,Re.lK)(e)){var i=e.querySelector('[tabindex="0"]');t===Tt.N.UP&&(0,Re.Bu)(i,Rt(e,i,Tt.N.UP,n)),t===Tt.N.DOWN&&(0,Re.Bu)(i,Rt(e,i,Tt.N.DOWN,n)),t===Tt.N.RIGHT&&(0,Re.Bu)(i,Ft(i,Tt.N.RIGHT,n)),t===Tt.N.LEFT&&(0,Re.Bu)(i,Ft(i,Tt.N.LEFT,n))}}else console.error("No list element found. Canceling moving focus")}function Rt(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.closest('li[role="row"]');if(!r)return t;var a=r,o=Array.from(e.querySelectorAll('li[role="row"]')),s=o.indexOf(r);if(s<0)return t;if(n===Tt.N.UP){if(document.activeElement===e){a=o[o.length-1];var l=i?a.querySelector('a[href], button, div[role="button"]'):a;return null!=l?l:t}var c=s-1;a=o[c],c-=1}else if(n===Tt.N.DOWN){if(document.activeElement===e){a=o[0];var u=i?a.querySelector('a[href], button, div[role="button"]'):a;return null!=u?u:t}var d=s+1;a=o[d],d+=1}var p=i?a.querySelector('a[href], button, div[role="button"]'):a;return null!=p?p:t}function Ft(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.closest('li[role="row"]');if(!r)return e;var a=Array.from(r.querySelectorAll('a[href], button, div[role="button"]')),o=a.indexOf(e),s=0;if(t===Tt.N.RIGHT&&o-1!==a.length)s=o+1;else{if(t===Tt.N.LEFT&&-1===o)return r;if(t===Tt.N.LEFT&&0!==o)s=o-1;else if(t===Tt.N.LEFT&&0===o){var l=i?r.querySelector('a[href], button, div[role="button"]'):r;return null!=l?l:r}}return null!==(n=a.at(s))&&void 0!==n?n:e}var Lt=n(23439),Mt=["onKeyDown","children","firstInteractiveIsWrapper"];function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=function(e){var t=e.onKeyDown,n=e.children,i=e.firstInteractiveIsWrapper,r=void 0!==i&&i,a=(0,o.Z)(e,Mt),s=(0,u.useRef)(null);(0,Lt.W)(s);var l=(0,u.useCallback)((function(e){var n;null!==(n=s.current)&&void 0!==n&&n.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),document.documentElement.classList.remove("no-focus-outline")),"ArrowUp"===e.key&&Dt(s.current,Tt.N.UP,r),"ArrowDown"===e.key&&Dt(s.current,Tt.N.DOWN,r),"ArrowRight"===e.key&&Dt(s.current,Tt.N.RIGHT,r),"ArrowLeft"===e.key&&Dt(s.current,Tt.N.LEFT,r),null==t||t(e))}),[r,t]),c=(0,u.useCallback)((function(e){if(s.current){var t=e.target,n=s.current.querySelector('[tabindex="0"]');t.closest('li[role="row"]')&&t!==n&&(0,Re.Bu)(n,t,{preventScroll:!0})}}),[]);return(0,D.jsx)("ul",Zt(Zt({role:"treegrid",ref:s,onKeyDown:l,onFocus:c,tabIndex:0},a),{},{children:n}))},Vt=n(38351),Ht=["children","innerRef"];function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=function(e){var t=e.children,n=e.innerRef,i=(0,o.Z)(e,Ht),r=(0,u.useRef)(null),a=null!=n?n:r;return(0,Vt.O)(a),(0,D.jsx)("li",Wt(Wt({ref:a,role:"row"},i),{},{children:t}))},Kt=n(23794),Yt=(n(51735),n(34162)),qt=n(36287);const Qt="main-yourLibraryX-listRowEntityImage",Jt="main-yourLibraryX-listRowLink",Xt="main-yourLibraryX-listRowSubtitle",$t="main-yourLibraryX-listRowTitleLink",en="main-yourLibraryX-listRowIcon",tn="main-yourLibraryX-listRowSubtitleLeadingWrapper";var nn=function(e){var t=e.leading,n=e.subtitle,i=e.uri,r="listrow-subtitle-".concat(i);return(0,D.jsx)("div",{className:Xt,children:(0,D.jsxs)(Yt.l,{lineClamp:1,className:Jt,id:r,children:[(0,D.jsx)("span",{className:tn,children:t}),n]})})},rn=function(e){var t=e.leading,n=e.subtitle,i=e.uri,r="card-subtitle-".concat(i);return(0,D.jsx)("div",{className:Xt,children:(0,D.jsxs)(qt._,{lineClamp:1,className:Jt,id:r,role:"gridcell",children:[(0,D.jsx)("span",{className:tn,children:t}),n]})})},an=n(41177),on=n(12535),sn=n(49427),ln=n(98335),cn=n(54691);var un=n(93381),dn={state:{referrer:"your_library",preventMoveFocus:!0}};function pn(e,t,n,r){var a,o,s,l,c,d=(0,u.useContext)(ht.fo).filter,p=(0,It.cR)(e).isActive,m=(o=e,s=(0,u.useContext)(R).typeaheadResult,l=s.uid,c=s.str,l===o?c:null),f=!!m,v=(0,ln.k)({uri:e,type:"link"})?(0,un.is)(t,H.ag.getUrlLocale()):t,g=(0,u.useRef)(null),h=(0,an.s0)(),k=(0,u.useCallback)((function(e){e.preventDefault(),r?r():v&&h(v,dn)}),[r,h,v]);return(0,u.useLayoutEffect)((function(){var e,t,n;f&&(null===(e=g.current)||void 0===e||null===(t=e.closest('[role="row"], [role="listitem"]'))||void 0===t||null===(n=t.querySelector("button"))||void 0===n||n.focus({preventScroll:!0}))}),[f]),{isActive:p,onClick:k,contents:d||m?(0,D.jsx)("span",{ref:g,children:(0,D.jsx)(Ct.o,{autoEscape:!0,searchWords:[d.trim()].concat((0,i.Z)(null!==(a=null==m?void 0:m.split(" "))&&void 0!==a?a:"")),textToHighlight:n})}):n}}var mn=function(e){var t,n=e.uri,i=e.playbackUri,r=void 0===i?n:i,a=e.title,o=e.menu,s=e.to,l=pn(r,void 0===s?(null===(t=(0,y.EC)(n))||void 0===t?void 0:t.toURLPath(!0))||"":s,a,e.handleNavigate),c=l.isActive,u=l.contents,d="listrow-title-".concat(n);return(0,D.jsx)(cn._,{menu:o,children:(0,D.jsx)(on.g,{id:d,lineClamp:1,className:p()(Jt,$t),semanticColor:c?"textBrightAccent":"textBase",children:u})})},fn=function(e){var t,n=e.uri,i=e.playbackUri,r=void 0===i?n:i,a=e.title,o=e.menu,s=e.to,l=void 0===s?(null===(t=(0,y.EC)(n))||void 0===t?void 0:t.toURLPath(!0))||"":s,c=pn(r,l,a,e.handleNavigate),u=c.isActive,d=c.onClick,m=c.contents;return(0,D.jsx)(cn._,{menu:o,children:(0,D.jsx)(sn.l,{lineClamp:1,className:p()(Jt,$t),semanticColor:u?"textBrightAccent":"textBase",href:l,onClick:d,role:"gridcell",children:m})})},vn=(n(37193),n(40265),n(87859),n(96669),n(39965),n(39975),n(16204)),gn=(n(72304),n(82387)),hn=n(47898),kn=function(e){var t=e.isConfirmationForPlaylist,n=e.onConfirm,i=e.onClose,r=t?H.ag.get("web-player.your-library-x.unpin-confirmation-dialog.title-playlist"):H.ag.get("web-player.your-library-x.unpin-confirmation-dialog.title-folder");return(0,D.jsx)(hn.Q,{"aria-label":r,titleText:r,descriptionText:t?H.ag.get("web-player.your-library-x.unpin-confirmation-dialog.message-playlist"):H.ag.get("web-player.your-library-x.unpin-confirmation-dialog.message-folder"),onConfirm:n,onClose:i,confirmText:H.ag.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-text"),confirmLabel:t?H.ag.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-playlist"):H.ag.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-folder"),cancelText:H.ag.get("web-player.your-library-x.unpin-confirmation-dialog.cancel-button-text"),allowHTML:!0})};function yn(e,t,n){var a,o=(0,Le.y)(),l=(0,gn.P)("ylpin").contains,d=(0,u.useState)(null),p=(0,s.Z)(d,2),m=p[0],f=p[1],v=(0,u.useCallback)(function(){var t=(0,r.Z)(c().mark((function t(r,a){var o,s,u,d,p;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return e(r,a),t.abrupt("return");case 3:if(o=r[y.JM.PLAYLIST_V2],s=void 0===o?[]:o,u=r[y.JM.FOLDER],d=void 0===u?[]:u,p=[].concat((0,i.Z)(s),(0,i.Z)(d)),t.t0=!!p.length,!t.t0){t.next=10;break}return t.next=9,l.apply(void 0,(0,i.Z)(p));case 9:t.t0=t.sent.some(Boolean);case 10:if(!t.t0){t.next=17;break}if(!(p.length>1)){t.next=14;break}throw new Error("Reordering multiple pinned items at once is not supported");case 14:f({dropData:r,dropPosition:a}),t.next=18;break;case 17:e(r,a);case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[n,l,e]),g=(0,Z.$P)();return{applyDropWithUnpinConfirmation:v,unpinConfirmationDialog:m?(0,D.jsx)(kn,{isConfirmationForPlaylist:!(null!==(a=m.dropData.folder)&&void 0!==a&&a.length),onClose:function(){return f(null)},onConfirm:(0,r.Z)(c().mark((function n(){var r,a,s,l,u;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=m.dropData,a=r[y.JM.PLAYLIST_V2],s=void 0===a?[]:a,l=r[y.JM.FOLDER],u=void 0===l?[]:l,n.next=3,o.unpin([].concat((0,i.Z)(s),(0,i.Z)(u))[0]);case 3:g.logInteraction(t.dragUnpinItem({itemToUnpin:[].concat((0,i.Z)(s),(0,i.Z)(u))[0]})),e(m.dropData,m.dropPosition),f(null);case 6:case"end":return n.stop()}}),n)})))}):null}}function bn(){var e=(0,u.useContext)(Me.Ci);return{dropOriginIsYLX:"spotify:collection"===e.dropOriginUri,entityIsInFolder:e.sectionId>0}}function Sn(){var e=(0,I.o)(),t=bn().dropOriginIsYLX,n=(0,u.useCallback)(function(){var n=(0,r.Z)(c().mark((function n(i,r){var a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.contains(i);case 2:if(a=n.sent,1===new Set(a).size){n.next=5;break}throw new Error("Dropping a mix of newly added and moved playlists is not supported");case 5:if(!a[0]){n.next=18;break}if(!(i.length>1)){n.next=9;break}throw new Error("Moving multiple playlists at once is not supported");case 9:if(!t){n.next=14;break}return n.next=12,e.move({uri:i[0]},r);case 12:n.next=16;break;case 14:return n.next=16,e.move({uri:i[0]},r,!0);case 16:n.next=20;break;case 18:return n.next=20,e.add(i,r);case 20:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[t,e]);return n}function xn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wn(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=xn(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if((0,vn.no)(a)||(0,vn.lU)(a)){if((0,y.U4)(a.uri,t))return i;if((0,vn.lU)(a))return wn(a.items,t,i+1)}}}catch(e){r.e(e)}finally{r.f()}return-1}var Nn=["dropPosition","className"];function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var En={state:{referrer:"your_library",preventMoveFocus:!0}};function Cn(e){var t,n,i,l=e.uri,d=e.to,p=void 0===d?(null===(t=(0,y.EC)(l))||void 0===t?void 0:t.toURLPath(!0))||"":d,m=e.handleNavigate,f=e.dragLabel,v=e.isPinned,g=e.canReorder,h=e.allowedDropTargetDropOnURITypes,k=void 0===h?[]:h,b=e.onDropTargetDropOn,S=e.onLongDragOver,x=e.openDeleteDialog,O=e.togglePlay,w=e.isItemInGrid,N=e.playInsteadOfNavigating,_=void 0!==N&&N,P=e.isPlaying,j=e.isActive,A=e.spec,T=e.folderDepth,D=(0,ln.k)({uri:l,type:"link"})?(0,un.is)(p,H.ag.getLocale()):p,R=(0,an.s0)(),F=(0,an.TH)(),L=(0,u.useCallback)((function(){R(D,En)}),[R,D]),M=(0,Z.$P)(),U=(0,u.useRef)(0),B=(0,u.useRef)(null),V=(0,u.useCallback)((function(e){var t,n=e.target;return n instanceof HTMLElement&&!(null!==(t=B.current)&&void 0!==t&&t.contains(n))}),[]),G=(0,u.useCallback)((function(e){if(!V(e)){if(e.preventDefault(),e.currentTarget.scrollIntoView({block:"nearest"}),_){if(U.current>Date.now())return;return U.current=Date.now()+300,void(P||(null==O||O(),M.logInteraction(A.yourLibraryItemFactory().hitPlay({itemToBePlayed:l}))))}m?m():D&&R(D,En),M.logInteraction(A.yourLibraryItemFactory().hitUiNavigate({destination:l}))}}),[V,_,m,D,M,A,l,O,P,R]),W=(0,u.useCallback)((function(e){_||V(e)||O&&(j?P?M.logInteraction(A.yourLibraryItemFactory().doubleHitPause({itemToBePaused:l})):M.logInteraction(A.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:l})):M.logInteraction(A.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:l})),null==O||O())}),[V,_,O,j,P,M,A,l]),z=(0,u.useCallback)((function(){M.logInteraction(A.yourLibraryItemFactory().secondaryHitUiReveal())}),[M,A]),K=(0,Ke.O)([l],f,"",null!=T?T:0,"spotify:collection"),Y=[];v?Y=E.f9:g&&(Y=E.WF);var q=(n={},(0,a.Z)(n,Ve.ON,k),(0,a.Z)(n,Ve.BEFORE,Y),(0,a.Z)(n,Ve.AFTER,Y),n),Q=function(e,t,n){var i=(0,I.o)(),a=(0,u.useContext)(C.H),o=(0,Z.$P)(),l=Sn(),d=(0,u.useCallback)(function(){var u=(0,r.Z)(c().mark((function r(u,d){var p,m,f,v,g,h,k,b,S,x,O;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(p=u[y.JM.PLAYLIST_V2],m=void 0===p?[]:p,f=u[y.JM.FOLDER],v=void 0===f?[]:f,g=(0,s.Z)(v,1),h=g[0],k=d===Ve.BEFORE?{before:{uri:e}}:{after:{uri:e}},!n){r.next=27;break}return b=m.at(0),S=null!=b?b:h,r.next=7,i.getContents();case 7:if(x=r.sent,-1!==(O=wn(x.items,S))){r.next=14;break}return r.next=12,i.add([S],{before:"start"});case 12:r.next=22;break;case 14:if(!(O>0)){r.next=22;break}if(!b){r.next=20;break}return r.next=18,i.move({uri:b},{before:"start"});case 18:r.next=22;break;case 20:return r.next=22,i.moveFolder({uri:h},{before:"start"});case 22:return r.next=24,a.pin(S,k);case 24:o.logInteraction(t.dragPinItem({itemToPin:S})),r.next=34;break;case 27:if(!h){r.next=32;break}return r.next=30,i.moveFolder({uri:h},k);case 30:r.next=34;break;case 32:return r.next=34,l(m,k);case 34:o.logInteraction(t.dragSort());case 35:case"end":return r.stop()}}),r)})));return function(e,t){return u.apply(this,arguments)}}(),[e,n,a,o,t,i,l]),p=yn(d,t,n),m=p.unpinConfirmationDialog,f=p.applyDropWithUnpinConfirmation,v=(0,u.useCallback)(function(){var e=(0,r.Z)(c().mark((function e(t,n){var i,r,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t[y.JM.PLAYLIST_V2],r=void 0===i?[]:i,a=t[y.JM.FOLDER],o=void 0===a?[]:a,!r.length||!o.length){e.next=5;break}throw new Error("Dropping a mix of playlists and folders is not supported");case 5:if(!(o.length>1)){e.next=7;break}throw new Error("Dropping multiple folders is not supported");case 7:f(t,n);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[f]);return{handleDropBeforeOrAfterRootlistItem:v,unpinConfirmationDialog:m}}(l,A,v),J=Q.handleDropBeforeOrAfterRootlistItem,X=Q.unpinConfirmationDialog,$=(0,u.useCallback)((function(e,t){t===Ve.ON?null==b||b(e,t):t!==Ve.BEFORE&&t!==Ve.AFTER||J(e,t)}),[b,J]),ee=it({uri:l,allowedURITypesByDropPosition:q,onDrop:$,onLongDragOver:null!=S?S:L,reorderDirection:w?"horizontal":"vertical"}),te=ee.dropPosition,ne=ee.className,ie=(0,o.Z)(ee,Nn),re=(0,u.useCallback)((function(e){e.repeat||V(e)||("Backspace"!==e.key&&"Delete"!==e.key||!x||x(),"Enter"===e.key&&e.shiftKey&&O&&(e.preventDefault(),O()),"Enter"===e.key&&M.logInteraction(A.yourLibraryItemFactory().keyStrokeUiNavigate({destination:l})))}),[V,M,x,A,O,l]),ae=null===(i=(0,y.EC)(F.pathname,{parseUnknown:!0}))||void 0===i?void 0:i.toURI();return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onClick:G,onDoubleClick:W,draggable:!!f,onDragStart:K,onKeyDown:re,unpinConfirmationDialog:X,dropPosition:te,dropTargetClassName:ne,logRightClick:z,isViewActive:!!ae&&(0,y.U4)(l,ae),itemRef:B},ie)}var Pn=function(e){switch(e){case B.p.ALBUM:return H.ag.get("web-player.your-library-x.type-album");case B.p.ARTIST:return H.ag.get("web-player.your-library-x.type-artist");case B.p.FOLDER:return H.ag.get("web-player.your-library-x.type-folder");case B.p.AUDIOBOOK:return H.ag.get("web-player.your-library-x.type-audiobook");case B.p.YOUR_EPISODES:case B.p.LOCAL_FILES:case B.p.LIKED_SONGS:case B.p.PLAYLIST:return H.ag.get("web-player.your-library-x.type-playlist");case B.p.SHOW:return H.ag.get("web-player.your-library-x.type-show");default:return(0,wt.U)(e)}},In=function(e){switch(e){case B.p.YOUR_EPISODES:case B.p.LIKED_SONGS:case B.p.LOCAL_FILES:return B.p.PLAYLIST;default:return e}},jn=n(83970),An=function(e){return e.pinned?(0,D.jsx)(jn.t,{semanticColor:"textBrightAccent",iconSize:16,title:H.ag.get("web-player.your-library-x.pinned"),className:en}):null};const Tn="eB4weTwpV1CJo1Ycry5o",Dn="DHzyoCWhWjunaSpGo3fm",Rn="R7bnv14gXI2ndBOqFvCf",Fn="IyHaBob4EvHvpR1d0aMt";var Ln=["onClick","onDoubleClick","draggable","onDragStart","onKeyDown","dropPosition","dropTargetClassName","unpinConfirmationDialog","logRightClick","isViewActive","itemRef"];function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zn,Bn=function(e){var t,n,i=e.uri,r=e.to,s=void 0===r?(null===(t=(0,y.EC)(i))||void 0===t?void 0:t.toURLPath(!0))||"":r,l=e.handleNavigate,c=e.dragLabel,u=e.name,d=e.subtitle,m=e.cover,f=e.type,v=e.downloadButton,g=e.canReorder,h=e.allowedDropTargetDropOnURITypes,k=e.onDropTargetDropOn,b=e.onLongDragOver,S=e.menu,x=e.leading,O=e.openDeleteDialog,N=e.togglePlay,_=e.isPinned,E=e.shouldShowType,C=e.playbackUri,P=e.isPlaying,I=e.isActive,j=e.playInsteadOfNavigating,A=e.spec,T=e.index,R=Cn({uri:i,to:s,handleNavigate:l,dragLabel:c,isPinned:_,canReorder:g,allowedDropTargetDropOnURITypes:h,onDropTargetDropOn:k,openDeleteDialog:O,onLongDragOver:b,togglePlay:N,isItemInGrid:!0,isPlaying:P,isActive:I,spec:A,playInsteadOfNavigating:j}),F=R.onClick,L=R.onDoubleClick,M=R.draggable,U=R.onDragStart,Z=R.onKeyDown,B=R.dropPosition,V=R.dropTargetClassName,H=R.unpinConfirmationDialog,G=R.logRightClick,W=R.isViewActive,z=R.itemRef,K=(0,o.Z)(R,Ln),Y=(0,D.jsx)(fn,{uri:i,title:u,menu:S,handleNavigate:l,playbackUri:C}),q=(0,D.jsx)(rn,{leading:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(An,{pinned:_}),v]}),subtitle:(0,D.jsxs)(D.Fragment,{children:[E&&Pn(f),!!d&&E&&" • ",d]}),uri:i});return(0,D.jsxs)(D.Fragment,{children:[H,(0,D.jsx)(zt,{draggable:M,onDragStart:U,onKeyDown:Z,className:p()(V,(n={},(0,a.Z)(n,rt,B===Ve.ON),(0,a.Z)(n,ot,B===Ve.BEFORE),(0,a.Z)(n,st,B===Ve.AFTER),n)),"aria-selected":I,innerRef:z,"aria-posinset":T,children:(0,D.jsx)(w._P,{menu:S,onShow:G,children:(0,D.jsx)(Kt.Q,{uri:i,trigger:Kt.x.OnMouseDown,children:(0,D.jsx)(jt.Z,Un({id:i,title:Y,subtitle:q,media:m,size:"sm",leading:x,className:Tn,variant:W?"tinted":void 0,onClick:F,onDoubleClick:L,padding:At.nuo},K))})})})]})},Vn=n(72030),Hn=n(34229),Gn=n(90321),Wn=n(83349),zn=n(76490),Kn=function(e){var t=e.name,n=e.uri,i=e.togglePlay,r=e.spec,o=e.isActive,s=e.isPlaying,l=(0,Z.$P)(),c=(0,u.useCallback)((function(){o?s?l.logInteraction(r.yourLibraryItemFactory().doubleHitPause({itemToBePaused:n})):l.logInteraction(r.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:n})):l.logInteraction(r.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:n})),i()}),[o,s,l,r,i,n]);return(0,D.jsx)("div",{className:p()(Rn,(0,a.Z)({},Fn,s)),role:"gridcell",children:(0,D.jsx)(zn.f,{isPlaying:s,onClick:c,ariaPlayLabel:H.ag.get("playlist.a11y.play",t),ariaPauseLabel:H.ag.get("playlist.a11y.pause",t)})})},Yn=(n(92357),n(74553),n(10785)),qn=(0,u.createContext)({optimizeImage:function(e){return e}}),Qn=function(e){return e.ALBUM_COVER="ab67616d",e.PLAYLIST="ab67706c",e.ARTIST_AVATAR="ab676161",e.PODCAST_COVER="ab676563",e.AUDIOBOOK_COVERS="ab676663",e}({}),Jn=(Zn={},(0,a.Z)(Zn,Qn.ALBUM_COVER,{jpeg:{"00004851":64,"00001e02":300,"0000b273":640},webp_85:{"000011eb":64,"0000e1a3":300,"0000aa54":640},webp_35:{"000001e7":64,"00001a9d":300,"0000d619":640}}),(0,a.Z)(Zn,Qn.PLAYLIST,{jpeg:{"00006c11":64,"0000da84":300,"0000bebb":640},webp_85:{"0000dec5":64,"0000d72c":300,"000097ac":640},webp_35:{"00003d08":64,"0000f8e4":300,"000034f2":640}}),(0,a.Z)(Zn,Qn.ARTIST_AVATAR,{jpeg:{"0000f178":160,"00005174":320,"0000e5eb":640},webp_85:{"0000101f":160,"0000939b":320,"000086f7":640},webp_35:{"0000a000":160,"0000f254":320,"0000b64f":640}}),(0,a.Z)(Zn,Qn.PODCAST_COVER,{jpeg:{"0000f68d":64,"00005f1f":300,"0000ba8a":640},webp_85:{"0000955f":64,"0000bdcf":300,"0000eeee":640},webp_35:{"0000a26f":64,"0000c344":300,"0000f5b9":640}}),(0,a.Z)(Zn,Qn.AUDIOBOOK_COVERS,{jpeg:{"0000703b":64,"0000db5b":300,"000022a8":640},webp_85:{"00000c35":64,"000076bd":300,"0000382d":640},webp_35:{"00000c13":64,"00009783":300,"0000bd1a":640}}),Zn),Xn=(0,Ze.y)(Qn);var $n=function(e){var t=e.children,n=(0,h.W6)(Yn.wm,{loadingValue:!1}),i=!1,r=new globalThis.Image;r.onload=function(){i=1===r.width},r.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=";var a=(0,u.useCallback)((function(e,t){var r;if(!n)return e;var a=!0===(null===(r=navigator.connection)||void 0===r?void 0:r.saveData);return function(e,t,n){var i,r=null!==(i=null==e?void 0:e.match(ti))&&void 0!==i?i:[],a=(0,s.Z)(r,5),o=(a[0],a[1]),l=a[2],c=a[3],u=a[4];if(Xn(l)){var d=function(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.supportsWebP,o=r.devicePixelRatio,l=void 0===o?1:o,c=r.isSaveDataEnabled,u=null!==(i=Jn[e])&&void 0!==i?i:{},d=u.jpeg,p=u.webp_85,m=u.webp_35;if(t in d||t in p||t in m){var f=l>1.5,v="jpeg";if(a){var g,h=null!==(g=Object.values(u.webp_35).at(-1))&&void 0!==g?g:0;v=c||n&&f&&h>=n*l?"webp_35":"webp_85"}if(n){for(var k,y,b=Object.entries(u[v]),S=0,x=b;S<x.length;S++){var O=(0,s.Z)(x[S],2),w=O[0];if(O[1]>=n*l)return w}return null!==(k=null===(y=b.at(-1))||void 0===y?void 0:y[0])&&void 0!==k?k:t}}return t}(l,c,t,n);if(d!==c)return"".concat(o).concat(l).concat(d).concat(u)}return e}(e,t,{supportsWebP:i,isSaveDataEnabled:a,devicePixelRatio})}),[i,n]);return(0,D.jsx)(qn.Provider,{value:{optimizeImage:a},children:t})};function ei(){var e=(0,u.useContext)(qn).optimizeImage;return(0,u.useCallback)((function(t,n){if(null!=t&&t.length){var i=t[0].url,r=e(i,n);if(r!==i)return[{url:r}]}return t}),[e])}var ti=/^(https:\/\/i\.scdn\.co\/image\/|spotify:image:)([0-9a-f]{8})([0-9a-f]{8})(.*)$/;function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var ii=(0,u.memo)((function(e){var t=e.title,n=e.type,i=e.images,r=e.isCircular,a=e.color,o=ei();return(0,D.jsx)(Hn.O,{fadeIn:!0,images:o(i,48),shape:r?Hn.K.CIRCLE:Hn.K.ROUNDED_CORNERS,size:Gn.m$.SIZE_48,iconSize:24,type:n,title:t,className:Qt,color:a,loadingMode:"eager"})})),ri=(0,u.memo)((function(e){var t=e.title,n=e.type,i=e.uri,r=e.images,o=e.isCircular,s=e.togglePlay,l=e.color,c=e.spec,u=e.isActive,d=e.isPlaying,p=ei();return(0,D.jsx)("div",{className:Dn,children:(0,D.jsx)(Vn.x,{images:p(r,gr),FallbackComponent:function(e){return(0,D.jsx)(Wn.t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({semanticColor:"textSubdued",type:n,iconSize:64},e))},isCircular:o,color:l,loadingMode:"eager",children:s&&(0,D.jsx)(Kn,{name:t,uri:i,togglePlay:s,spec:c,isActive:u,isPlaying:d})})})})),ai=n(53720);const oi="_ymJNIfklFmogab9uWY1";var si=function(e){var t=e.folderDepth,n=void 0===t?0:t;return(0,D.jsx)("li",{className:oi,style:{"--ylx-folder-depth":n}})},li=["RowVariantComponent","uri","to","handleNavigate","folderDepth","className","dragLabel","isPinned","canReorder","allowedDropTargetDropOnURITypes","onDropTargetDropOn","onLongDragOver","style","openDeleteDialog","togglePlay","isPlaying","isActive","menu","name","subtitle","downloadButton","expandFolderButton","cover","alt","type","addedAt","lastPlayedAt","shouldShowType","playbackUri","playInsteadOfNavigating","spec","nrValidItems","index"],ci=["onClick","onDoubleClick","onDragStart","onKeyDown","dropPosition","dropTargetClassName","draggable","unpinConfirmationDialog","logRightClick","isViewActive","itemRef"];function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pi=function(e){var t,n=e.RowVariantComponent,i=e.uri,r=e.to,s=void 0===r?(null===(t=(0,y.EC)(i))||void 0===t?void 0:t.toURLPath(!0))||"":r,l=e.handleNavigate,c=e.folderDepth,u=e.className,d=e.dragLabel,m=e.isPinned,f=e.canReorder,v=e.allowedDropTargetDropOnURITypes,g=e.onDropTargetDropOn,h=e.onLongDragOver,k=e.style,b=e.openDeleteDialog,S=e.togglePlay,x=e.isPlaying,O=e.isActive,w=(e.menu,e.name,e.subtitle,e.downloadButton,e.expandFolderButton,e.cover,e.alt,e.type,e.addedAt,e.lastPlayedAt,e.shouldShowType,e.playbackUri,e.playInsteadOfNavigating),N=e.spec,_=e.nrValidItems,E=e.index,C=(0,o.Z)(e,li),P=Cn({uri:i,to:s,handleNavigate:l,dragLabel:d,isPinned:m,canReorder:f,allowedDropTargetDropOnURITypes:v,onDropTargetDropOn:g,onLongDragOver:h,openDeleteDialog:b,togglePlay:S,isPlaying:x,isActive:O,playInsteadOfNavigating:w,spec:N,folderDepth:c}),I=P.onClick,j=P.onDoubleClick,A=P.onDragStart,T=P.onKeyDown,R=P.dropPosition,F=P.dropTargetClassName,L=P.draggable,M=P.unpinConfirmationDialog,U=P.logRightClick,Z=P.isViewActive,B=P.itemRef,V=(0,o.Z)(P,ci);return(0,D.jsxs)(D.Fragment,{children:[M,R===Ve.BEFORE&&(0,D.jsx)(si,{folderDepth:c}),(0,D.jsx)(ai.E,di(di(di({style:di({"--ylx-folder-depth":c},k),draggable:L,onDragStart:A,onDoubleClick:j,className:p()(u,F,je,(0,a.Z)({},rt,R===Ve.ON))},C),V),{},{onKeyDown:T,innerRef:B,"aria-setsize":_,"aria-posinset":E+1,children:(0,D.jsx)(n,di(di({},e),{},{to:s,isActive:O,isViewActive:Z,onClick:I,logRightClick:U,playInsteadOfNavigating:w,parentRef:B}))})),R===Ve.AFTER&&(0,D.jsx)(si,{folderDepth:c})]})};function mi(e){var t,n,i=e.uri,r=e.artists,a=(0,u.useContext)(ht.fo).filter,o=(0,It.cR)(i),s=o.isPlaying,l=o.isActive,c=(0,f.I0)();return{isPlaying:s,isActive:l,openDeleteDialog:(0,u.useCallback)((function(){c((0,Nt.YU)(i))}),[c,i]),togglePlay:(0,Pt.n)({uri:i},{featureIdentifier:"album",referrerIdentifier:"your_library"}).togglePlay,menu:(0,D.jsx)(_t.Y,{uri:i,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,D.jsx)(Ct.o,{searchWords:[a.trim()],textToHighlight:null!==(t=null===(n=r.at(0))||void 0===n?void 0:n.name)&&void 0!==t?t:""}),downloadButton:(0,D.jsx)(Et.$,{uri:i,size:12,className:en,as:"span"})}}var fi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=void 0!==n&&n,r=e.RowVariantComponent,a=e.spec,o=e.nrValidItems,s=e.index,l=t.uri,c=t.images,u=t.name,d=t.pinned,p=t.type,m=t.addedAt,f=t.lastPlayedAt,v=t.color,g=mi(t),h=g.isPlaying,k=g.isActive,y=g.openDeleteDialog,b=g.togglePlay,S=g.menu,x=g.subtitleText,O=g.downloadButton,w=(0,D.jsx)(ii,{title:u,type:p,images:c,color:v});return(0,D.jsx)(pi,{RowVariantComponent:r,uri:l,cover:w,name:u,subtitle:x,downloadButton:O,alt:u,type:p,dragLabel:u,menu:S,togglePlay:b,openDeleteDialog:y,addedAt:m,lastPlayedAt:f,isPinned:d,isPlaying:h,isActive:k,shouldShowType:i,spec:a,nrValidItems:o,index:s})},vi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=void 0!==n&&n,r=e.spec,a=e.index,o=t.uri,s=t.images,l=t.name,c=t.pinned,u=t.type,d=t.color,p=mi(t),m=p.togglePlay,f=p.menu,v=p.subtitleText,g=p.downloadButton,h=p.openDeleteDialog,k=p.isPlaying,y=p.isActive,b=(0,D.jsx)(ri,{title:l,type:u,images:s,uri:o,togglePlay:m,color:d,spec:r,isActive:y,isPlaying:k});return(0,D.jsx)(Bn,{uri:o,name:l,subtitle:v,menu:f,dragLabel:l,cover:b,downloadButton:g,type:u,togglePlay:m,isPinned:c,shouldShowType:i,openDeleteDialog:h,isPlaying:k,isActive:y,spec:r,index:a})},gi=n(60221);function hi(e){var t=e.uri,n=(0,f.I0)(),i=(0,Pt.n)({uri:t},{featureIdentifier:"artist",referrerIdentifier:"your_library"}).togglePlay,r=(0,It.cR)(t);return{togglePlay:i,isPlaying:r.isPlaying,isActive:r.isActive,openDeleteDialog:(0,u.useCallback)((function(){n((0,Nt.YU)(t))}),[n,t]),menu:(0,D.jsx)(gi.m,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0})}}var ki=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.RowVariantComponent,r=e.spec,a=e.nrValidItems,o=e.index,s=t.uri,l=t.images,c=t.name,u=t.type,d=t.addedAt,p=t.lastPlayedAt,m=t.pinned,f=t.color,v=hi(t),g=v.togglePlay,h=v.isPlaying,k=v.isActive,y=v.openDeleteDialog,b=v.menu,S=(0,D.jsx)(ii,{title:c,type:u,images:l,isCircular:!0,color:f});return(0,D.jsx)(pi,{RowVariantComponent:i,uri:s,cover:S,name:c,type:u,alt:c,dragLabel:c,menu:b,togglePlay:g,openDeleteDialog:y,addedAt:d,lastPlayedAt:p,isPlaying:h,isActive:k,isPinned:m,shouldShowType:n,spec:r,nrValidItems:a,index:o})},yi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.spec,r=e.index,a=t.uri,o=t.images,s=t.name,l=t.type,c=t.pinned,u=t.color,d=hi(t),p=d.togglePlay,m=d.menu,f=d.openDeleteDialog,v=d.isPlaying,g=d.isActive,h=(0,D.jsx)(ri,{title:s,type:l,images:o,uri:a,togglePlay:p,isCircular:!0,color:u,spec:i,isActive:g,isPlaying:v});return(0,D.jsx)(Bn,{uri:a,name:s,menu:m,dragLabel:s,cover:h,type:l,togglePlay:p,isPinned:c,shouldShowType:n,openDeleteDialog:f,isPlaying:v,isActive:g,spec:i,index:r})},bi=n(77812);function Si(e){var t=e.uri,n=e.authorName,i=(0,u.useContext)(ht.fo).filter,r=(0,f.I0)(),a=(0,It.cR)(t),o=a.isPlaying,s=a.isActive,l=(0,Pt.n)({uri:t},{featureIdentifier:"audiobook",referrerIdentifier:"your_library"}).togglePlay;return{isPlaying:o,isActive:s,openDeleteDialog:(0,u.useCallback)((function(){r((0,Nt.YU)(t))}),[r,t]),togglePlay:l,menu:(0,D.jsx)(bi.X,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,D.jsx)(Ct.o,{searchWords:[i.trim()],textToHighlight:n})}}var xi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.RowVariantComponent,r=e.spec,a=e.nrValidItems,o=e.index,s=t.uri,l=t.images,c=t.name,u=t.type,d=t.pinned,p=t.addedAt,m=t.lastPlayedAt,f=t.color,v=Si(t),g=v.isPlaying,h=v.isActive,k=v.openDeleteDialog,y=v.togglePlay,b=v.menu,S=v.subtitleText,x=(0,D.jsx)(ii,{title:c,type:u,images:l,color:f});return(0,D.jsx)(pi,{RowVariantComponent:i,uri:s,cover:x,name:c,subtitle:S,alt:c,dragLabel:c,menu:b,togglePlay:y,openDeleteDialog:k,addedAt:p,lastPlayedAt:m,isPlaying:g,isActive:h,isPinned:d,shouldShowType:n,type:u,spec:r,nrValidItems:a,index:o})},Oi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.spec,r=e.index,a=t.uri,o=t.images,s=t.name,l=t.type,c=t.pinned,u=t.color,d=Si(t),p=d.togglePlay,m=d.menu,f=d.subtitleText,v=d.openDeleteDialog,g=d.isPlaying,h=d.isActive,k=(0,D.jsx)(ri,{title:s,type:l,images:o,uri:a,togglePlay:p,color:u,spec:i,isActive:h,isPlaying:g});return(0,D.jsx)(Bn,{uri:a,name:s,subtitle:f,menu:m,dragLabel:s,cover:k,togglePlay:p,isPinned:c,shouldShowType:n,type:l,openDeleteDialog:v,isPlaying:g,isActive:h,spec:i,index:r})},wi=n(98148),Ni=n(94782),_i=n(69716),Ei=n(49756);function Ci(e,t){var n=(0,K.K)(),a=n.createPlaylistFromAlbum,o=n.createPlaylistFromTracks,s=(0,Z.$P)(),l=(0,I.o)(),d=Sn(),p=yn((0,u.useCallback)((function(n){if(t){var i=n[y.JM.PLAYLIST_V2],r=void 0===i?[]:i,a=n[y.JM.FOLDER],o=void 0===a?[]:a,c={after:{uri:t}};r.length&&(d(r,c),s.logInteraction(e.dragSort())),o.length&&(l.moveFolder({uri:o[0]},c),s.logInteraction(e.dragSort()))}}),[d,s,l,e,t]),e),m=p.unpinConfirmationDialog,f=p.applyDropWithUnpinConfirmation,v=(0,u.useCallback)(function(){var n=(0,r.Z)(c().mark((function n(r){var l,u,d,p,m,v,g,h,k,b,S,x,O;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:l=r[y.JM.TRACK],u=void 0===l?[]:l,d=r[y.JM.LOCAL_TRACK],p=void 0===d?[]:d,m=r[y.JM.ALBUM],v=void 0===m?[]:m,g=r[y.JM.EPISODE],h=void 0===g?[]:g,k=r[y.JM.PLAYLIST_V2],b=void 0===k?[]:k,S=r[y.JM.FOLDER],x=void 0===S?[]:S,O={after:{uri:t}},b.length||x.length?f(r,Ve.ON):v.length?(a(v[0],O),s.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist())):(u.length||p.length||h.length)&&(o([].concat((0,i.Z)(u),(0,i.Z)(p),(0,i.Z)(h)),O),s.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist()));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,f,a,s,e,o]);return{unpinConfirmationDialog:m,handleDropOnFolder:v}}var Pi=[y.JM.TRACK,y.JM.LOCAL_TRACK,y.JM.ALBUM,y.JM.EPISODE,y.JM.PLAYLIST_V2,y.JM.FOLDER];function Ii(e,t){var n=e.uri,i=e.name,r=e.numberOfFolders,a=e.numberOfPlaylists,o=e.pinned,s=(0,It.cR)(n),l=s.isPlaying,c=s.isActive,d=(0,u.useContext)(kt).pushFolder,p=(0,f.I0)(),m=(0,Pt.n)({uri:n},{featureIdentifier:"folder",referrerIdentifier:"your_library"}).togglePlay,v=(0,f.v9)((function(e){return e.platform.isDesktop})),g=Ci(t,n),h=g.handleDropOnFolder,k=g.unpinConfirmationDialog,y=(0,Ei.lh)().renameFolder,b=h,S=[a>0||!r?H.ag.get("web-player.your-library-x.rows.folder.number-of-playlists",a):null,r>0?H.ag.get("web-player.your-library-x.rows.folder.number-of-folders",r):null].filter(Qe.K).join(H.ag.getSeparator()),x=(0,u.useCallback)((function(){y(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}),[e,y]),O=(0,u.useCallback)((function(){d(e.uri)}),[e.uri,d]);return{openDeleteDialog:(0,u.useCallback)((function(){p((0,Nt.Q2)(n))}),[p,n]),togglePlay:v?m:void 0,menu:(0,D.jsx)(_i.A,{reference:{uri:n},name:i,canPin:e.canPin,isPinned:o,onRename:x}),subtitleText:S,onDropTargetDropOn:b,handleNavigate:O,dropOnFolderUnpinConfirmationDialog:k,isPlaying:l,isActive:c}}var ji=function(e){var t,n,i=e.libraryItem,r=e.RowVariantComponent,o=e.spec,l=e.nrValidItems,c=e.index,d=i.uri,m=i.folderDepth,f=i.name,v=i.type,g=i.isFlattened,h=i.pinned,k=i.canReorder,b=Ii(i,o),S=b.openDeleteDialog,x=b.togglePlay,O=b.menu,w=b.subtitleText,N=b.onDropTargetDropOn,_=b.handleNavigate,E=b.dropOnFolderUnpinConfirmationDialog,C=b.isPlaying,P=b.isActive,I=function(e){var t=(0,u.useContext)(de),n=t.getIsFolderExpanded,i=t.setIsFolderExpanded;return[(0,u.useMemo)((function(){return n(e)}),[n,e]),(0,u.useCallback)((function(t){i(e,t)}),[i,e])]}(d),j=(0,s.Z)(I,2),A=j[0],T=j[1],R=(0,Z.$P)(),F=(0,u.useCallback)((function(){T(!0),R.logInteraction(o.yourLibraryItemFactory().dragUiReveal())}),[R,T,o]),L=(0,u.useCallback)((function(e){e.stopPropagation()}),[]),M=(0,u.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),T(!A),A?R.logInteraction(o.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiHide()):R.logInteraction(o.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiReveal())}),[T,A,R,o]),U=!g&&(0,D.jsx)(wi.o,{"aria-label":A?H.ag.get("web-player.your-library-x.collapse-folder"):H.ag.get("web-player.your-library-x.expand-folder"),iconOnly:Ni.i,buttonSize:"sm",condensedAll:!0,onClick:M,onDoubleClick:L,tabIndex:-1,className:p()(ke,ye,(0,a.Z)({},Ie,!A))}),B=(0,D.jsx)(ii,{title:f,type:v});return(0,D.jsxs)(D.Fragment,{children:[E,(0,D.jsx)(pi,{RowVariantComponent:r,uri:d,to:"/folder/".concat(null!==(t=null===(n=(0,y.EC)(d))||void 0===n?void 0:n.id)&&void 0!==t?t:""),handleNavigate:_,folderDepth:m,cover:B,name:f,subtitle:w,alt:f,dragLabel:f,menu:O,canReorder:k,allowedDropTargetDropOnURITypes:Pi,onDropTargetDropOn:N,onLongDragOver:F,togglePlay:x,openDeleteDialog:S,addedAt:i.addedAt,lastPlayedAt:i.lastPlayedAt,isPinned:h,shouldShowType:!1,type:v,isPlaying:C,isActive:P,expandFolderButton:U,spec:o,nrValidItems:l,index:c})]})},Ai=function(e){var t,n,i=e.libraryItem,r=e.spec,a=e.index,o=i.uri,s=i.name,l=i.type,c=i.pinned,u=i.canReorder,d=Ii(i,r),p=d.togglePlay,m=d.menu,f=d.subtitleText,v=d.onDropTargetDropOn,g=d.handleNavigate,h=d.openDeleteDialog,k=d.isPlaying,b=d.isActive,S=(0,D.jsx)(ri,{title:s,type:l,uri:o,togglePlay:p,spec:r,isActive:b,isPlaying:k});return(0,D.jsx)(Bn,{uri:o,to:"/folder/".concat(null!==(t=null===(n=(0,y.EC)(o))||void 0===n?void 0:n.id)&&void 0!==t?t:""),handleNavigate:g,cover:S,name:s,subtitle:f,menu:m,dragLabel:s,canReorder:u,allowedDropTargetDropOnURITypes:Pi,onLongDragOver:g,onDropTargetDropOn:v,togglePlay:p,isPinned:c,shouldShowType:!1,type:l,openDeleteDialog:h,isPlaying:k,isActive:b,spec:r,index:a})},Ti=n(14255),Di=n(78142),Ri=n(46700),Fi=n(61998),Li=u.memo((function(e){var t=e.uri,n=e.canPin,i=e.isPinned,r=(0,Ri.T)(t).spec;return(0,D.jsx)(Di.ZP,{value:"generic",children:(0,D.jsx)(Ti.v,{children:n!==E.TL.NO&&(0,D.jsx)(Fi.X,{uri:t,canPin:n,isPinned:i,type:B.p.PLAYLIST,spec:r})})})})),Mi=n(29893),Ui=[y.JM.TRACK];function Zi(e){var t=e.numberOfSongs,n="spotify:collection:tracks",r=(0,f.v9)(Mi.Gg).user,a=(0,y.wG)(null==r?void 0:r.id).toURI(),o=a,s=a,l=(0,Pt.n)({uri:o},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}).togglePlay,c=(0,u.useContext)(C.H),d=(0,It.cR)(o),p=d.isPlaying,m=d.isActive,v=(0,u.useCallback)((function(e){var t=e[y.JM.TRACK],n=void 0===t?[]:t;null!=n&&n.length&&(null==c||c.add.apply(c,(0,i.Z)(n)))}),[c]);return{isPlaying:p,isActive:m,togglePlay:l,menu:(0,D.jsx)(Li,{uri:n,canPin:e.canPin,isPinned:e.pinned}),downloadButton:(0,D.jsx)(Et.$,{uri:s,size:12,className:en,as:"span"}),subtitleText:(0,D.jsx)(D.Fragment,{children:H.ag.get("web-player.your-library-x.rows.liked-songs.subtitle",t)}),onDropTargetDropOn:v,playbackUri:o,uri:n}}var Bi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.RowVariantComponent,r=e.spec,a=e.nrValidItems,o=e.index,s=t.images,l=t.name,c=t.type,u=t.pinned,d=t.addedAt,p=t.lastPlayedAt,m=t.color,f=Zi(t),v=f.isPlaying,g=f.isActive,h=f.togglePlay,k=f.menu,y=f.subtitleText,b=f.onDropTargetDropOn,S=f.playbackUri,x=f.uri,O=f.downloadButton,w=(0,D.jsx)(ii,{title:l,type:c,images:s,color:m});return(0,D.jsx)(pi,{RowVariantComponent:i,uri:x,cover:w,name:l,subtitle:y,alt:l,dragLabel:l,menu:k,allowedDropTargetDropOnURITypes:Ui,onDropTargetDropOn:b,togglePlay:h,addedAt:d,lastPlayedAt:p,isPlaying:v,isActive:g,isPinned:u,shouldShowType:n,type:c,playbackUri:S,downloadButton:O,spec:r,nrValidItems:a,index:o})},Vi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.spec,r=e.index,a=t.images,o=t.name,s=t.type,l=t.pinned,c=t.color,u=Zi(t),d=u.togglePlay,p=u.menu,m=u.subtitleText,f=u.onDropTargetDropOn,v=u.playbackUri,g=u.uri,h=u.downloadButton,k=u.isPlaying,y=u.isActive,b=(0,D.jsx)(ri,{title:o,type:s,images:a,uri:v,togglePlay:d,color:c,spec:i,isActive:y,isPlaying:k});return(0,D.jsx)(Bn,{uri:g,name:o,subtitle:m,menu:p,dragLabel:o,allowedDropTargetDropOnURITypes:Ui,onDropTargetDropOn:f,cover:b,togglePlay:d,isPinned:l,shouldShowType:n,type:s,playbackUri:v,downloadButton:h,isPlaying:k,isActive:y,spec:i,index:r})},Hi=n(30214),Gi=n(79883),Wi=n(59672),zi=n(81164);function Ki(e){var t=e.numberOfFiles,n=zi.b,i=(0,Wi.gB)().uri,r=(0,It.cR)(n);return{playbackUri:n,uri:i,isPlaying:r.isPlaying,isActive:r.isActive,menu:(0,D.jsx)(Li,{uri:i,canPin:e.canPin,isPinned:e.pinned}),downloadButton:(0,D.jsx)(Hi.E,{iconSize:16,className:en,semanticColor:"textBrightAccent"}),subtitleText:H.ag.get("web-player.your-library-x.rows.local-files.subtitle",t)}}var Yi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.RowVariantComponent,r=e.spec,a=e.nrValidItems,o=e.index,s=t.name,l=t.addedAt,c=t.lastPlayedAt,u=t.type,d=t.pinned,p=Ki(t),m=p.playbackUri,f=p.uri,v=p.isPlaying,g=p.menu,h=p.subtitleText,k=p.downloadButton,y=p.isActive,b=(0,D.jsx)("div",{className:be,children:(0,D.jsx)(Gi.S,{iconSize:24,title:s})});return(0,D.jsx)(pi,{RowVariantComponent:i,uri:f,name:s,subtitle:h,alt:s,dragLabel:s,menu:g,addedAt:l,lastPlayedAt:c,isPinned:d,isPlaying:v,isActive:y,shouldShowType:n,playbackUri:m,downloadButton:k,cover:b,type:u,spec:r,nrValidItems:a,index:o})},qi=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.spec,r=e.index,a=t.name,o=t.images,s=t.type,l=t.pinned,c=Ki(t),u=c.playbackUri,d=c.uri,p=c.menu,m=c.downloadButton,f=c.subtitleText,v=c.isPlaying,g=c.isActive,h=(0,D.jsx)("div",{className:Dn,children:(0,D.jsx)(Vn.x,{images:o,FallbackComponent:Gi.S})});return(0,D.jsx)(Bn,{uri:d,name:a,subtitle:f,menu:p,cover:h,type:s,playbackUri:u,downloadButton:m,isPinned:l,shouldShowType:n,isPlaying:v,isActive:g,spec:i,index:r})},Qi=n(45628),Ji=function(e){var t=e.index,n=e.type;return(0,D.jsx)(Qi.id,{columnIndex:0,children:(0,D.jsx)(jt.Z,{className:Tn,media:(0,D.jsx)(Vn.x,{images:[],FallbackComponent:function(){return(0,D.jsx)(Wn.t,{type:n,iconSize:64,semanticColor:"textSubdued"})},isCircular:n===B.p.ARTIST}),variant:"naked",id:t,title:""})})},Xi=n(23621),$i=n(12182),er=n(3285),tr=u.memo((function(e){var t=e.reference,n=e.canPin,i=void 0===n?E.TL.NO:n,r=e.isPinned,a=void 0!==r&&r,o=t.uri,s=(0,Ri.T)(o).spec;return(0,D.jsx)(Di.ZP,{value:"playlist",children:(0,D.jsxs)(Ti.v,{children:[(0,D.jsx)(er.uj,{position:{after:t},divider:"before"}),(0,D.jsx)(er.K_,{position:{after:t}}),i!==E.TL.NO&&(0,D.jsx)(Fi.X,{uri:o,canPin:i,isPinned:a,type:B.p.PLAYLIST,spec:s})]})})})),nr=[y.JM.TRACK,y.JM.LOCAL_TRACK,y.JM.ALBUM,y.JM.EPISODE];function ir(e,t){var n=e.uri,a=e.isLoading,o=e.owner,s=e.pinned,l=(0,u.useContext)(Ei.ZF),d=(0,u.useContext)(ht.fo).filter;(0,u.useEffect)((function(){a&&l.resync(n)}),[l,n,a]);var p,m=(0,Pt.n)({uri:n},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}).togglePlay,v=(0,It.cR)(n),g=v.isPlaying,h=v.isActive,k=(0,f.I0)(),b=(0,Z.$P)(),S=[],x=(0,u.useCallback)(function(){var e=(0,r.Z)(c().mark((function e(r){var a,o,s,l,u,d,p,m,f,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r[y.JM.TRACK],s=void 0===o?[]:o,l=r[y.JM.LOCAL_TRACK],u=void 0===l?[]:l,d=r[y.JM.ALBUM],p=void 0===d?[]:d,m=r[y.JM.EPISODE],f=void 0===m?[]:m,v=[].concat((0,i.Z)(s),(0,i.Z)(u),(0,i.Z)(p),(0,i.Z)(f)),k((0,Xi.jV)(n,v)),b.logInteraction(t.yourLibraryItemFactory().dragAddToPlaylist({itemToBeAdded:null!==(a=v.at(0))&&void 0!==a?a:"",playlist:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k,b,t,n]);return e.canAddTo&&(S=nr,p=x),{openDeleteDialog:(0,u.useCallback)((function(){k((0,Nt.p_)(n))}),[k,n]),togglePlay:m,isPlaying:g,isActive:h,menu:(0,bt.MW)(n)?(0,D.jsx)(tr,{reference:e,canPin:e.canPin,isPinned:s}):(0,D.jsx)($i.j,{reference:e,canPin:e.canPin,isPinned:s,useDialogForUnfollow:!0,isInLibrary:!0}),downloadButton:(0,D.jsx)(Et.$,{uri:n,size:12,className:en,as:"span"}),subtitleText:(0,bt.MW)(n)?(0,D.jsx)(D.Fragment,{children:H.ag.get("ylx.clicktoplay")}):(o.uri,(0,D.jsx)(Ct.o,{searchWords:[d.trim()],textToHighlight:o.name})),allowedDropTargetDropOnURITypes:S,onDropTargetDropOn:p}}var rr=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.RowVariantComponent,r=e.spec,a=e.nrValidItems,o=e.index,s=t.uri,l=t.images,c=t.folderDepth,u=t.name,d=t.type,p=t.pinned,m=t.addedAt,f=t.lastPlayedAt,v=t.color,g=t.canReorder,h=ir(t,r),k=h.openDeleteDialog,y=h.togglePlay,b=h.isPlaying,S=h.isActive,x=h.menu,O=h.downloadButton,w=h.subtitleText,N=h.allowedDropTargetDropOnURITypes,_=h.onDropTargetDropOn,E=(0,D.jsx)(ii,{title:u,type:d,images:l,color:v});return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(pi,{RowVariantComponent:i,uri:s,folderDepth:c,cover:E,name:u,subtitle:w,alt:u,dragLabel:u,menu:x,canReorder:g,allowedDropTargetDropOnURITypes:N,onDropTargetDropOn:_,togglePlay:y,openDeleteDialog:k,addedAt:m,lastPlayedAt:f,isPlaying:b,isActive:S,isPinned:p,shouldShowType:n,type:d,downloadButton:O,spec:r,playInsteadOfNavigating:(0,bt.MW)(s),nrValidItems:a,index:o})})},ar=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.spec,r=e.index,a=t.uri,o=t.images,s=t.name,l=t.type,c=t.pinned,u=t.color,d=t.canReorder,p=ir(t,i),m=p.togglePlay,f=p.menu,v=p.downloadButton,g=p.subtitleText,h=p.onDropTargetDropOn,k=p.allowedDropTargetDropOnURITypes,y=p.openDeleteDialog,b=p.isPlaying,S=p.isActive,x=(0,D.jsx)(ri,{title:s,type:l,images:o,uri:a,togglePlay:m,color:u,spec:i,isActive:S,isPlaying:b});return(0,D.jsx)(Bn,{uri:a,name:s,subtitle:g,menu:f,dragLabel:s,canReorder:d,allowedDropTargetDropOnURITypes:k,onDropTargetDropOn:h,cover:x,togglePlay:m,isPinned:c,shouldShowType:n,type:l,downloadButton:v,openDeleteDialog:y,isPlaying:b,isActive:S,spec:i,playInsteadOfNavigating:(0,bt.MW)(a),index:r})},or=n(32563);function sr(e){var t=e.uri,n=e.publisher,i=(0,u.useContext)(ht.fo).filter,r=(0,f.I0)(),a=(0,Pt.n)({uri:t},{featureIdentifier:"show",referrerIdentifier:"your_library"}).togglePlay,o=(0,It.cR)(t);return{isPlaying:o.isPlaying,isActive:o.isActive,openDeleteDialog:(0,u.useCallback)((function(){r((0,Nt.YU)(t))}),[r,t]),togglePlay:a,menu:(0,D.jsx)(or.M,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),downloadButton:(0,D.jsx)(Et.$,{uri:t,size:12,className:en,as:"span"}),subtitleText:(0,D.jsx)(Ct.o,{autoEscape:!0,searchWords:[i.trim()],textToHighlight:n})}}var lr=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.RowVariantComponent,r=e.spec,a=e.nrValidItems,o=e.index,s=t.uri,l=t.images,c=t.name,u=t.type,d=t.addedAt,p=t.lastPlayedAt,m=t.pinned,f=t.color,v=sr(t),g=v.isPlaying,h=v.isActive,k=v.openDeleteDialog,y=v.togglePlay,b=v.menu,S=v.downloadButton,x=v.subtitleText,O=(0,D.jsx)(ii,{title:c,type:u,images:l,color:f});return(0,D.jsx)(pi,{RowVariantComponent:i,uri:s,cover:O,name:c,subtitle:x,alt:c,dragLabel:c,menu:b,togglePlay:y,openDeleteDialog:k,addedAt:d,lastPlayedAt:p,isPlaying:g,isActive:h,isPinned:m,shouldShowType:n,type:u,downloadButton:S,spec:r,nrValidItems:a,index:o})},cr=function(e){var t=e.libraryItem,n=e.shouldShowType,i=e.spec,r=e.index,a=t.uri,o=t.images,s=t.name,l=t.type,c=t.pinned,u=t.color,d=sr(t),p=d.togglePlay,m=d.menu,f=d.downloadButton,v=d.subtitleText,g=d.openDeleteDialog,h=d.isPlaying,k=d.isActive,y=(0,D.jsx)(ri,{title:s,type:l,images:o,uri:a,togglePlay:p,color:u,spec:i,isActive:k,isPlaying:h});return(0,D.jsx)(Bn,{uri:a,name:s,subtitle:v,menu:m,dragLabel:s,cover:y,togglePlay:p,isPinned:c,shouldShowType:n,type:l,downloadButton:f,openDeleteDialog:g,isPlaying:h,isActive:k,spec:i,index:r})},ur=[y.JM.EPISODE];function dr(e){var t=e.numberOfDownloadedEpisodes,n=(0,f.v9)(Mi.Gg).user,r=(0,y.wG)(null==n?void 0:n.id,"your-episodes").toURI(),a="spotify:collection:your-episodes",o=(0,Pt.n)({uri:r},{featureIdentifier:"episode",referrerIdentifier:"your_library"}).togglePlay,s=(0,It.cR)(r),l=s.isPlaying,c=s.isActive,d=(0,u.useContext)(C.H),p=(0,u.useCallback)((function(e){var t=e[y.JM.EPISODE],n=void 0===t?[]:t;null!=n&&n.length&&(null==d||d.add.apply(d,(0,i.Z)(n)))}),[d]);return{isPlaying:l,isActive:c,togglePlay:o,menu:(0,D.jsx)(Li,{uri:a,canPin:e.canPin,isPinned:e.pinned}),downloadButton:t?(0,D.jsx)(Hi.E,{iconSize:16,className:en,semanticColor:"textBrightAccent"}):null,subtitleText:H.ag.get("web-player.your-library-x.subtitle-your-episodes"),onDropTargetDropOn:p,playbackUri:r,uri:a}}var pr=function(e){var t=e.libraryItem,n=e.RowVariantComponent,i=e.spec,r=e.nrValidItems,a=e.index,o=t.images,s=t.name,l=t.type,c=t.pinned,u=t.lastPlayedAt,d=t.addedAt,p=t.color,m=dr(t),f=m.isPlaying,v=m.isActive,g=m.togglePlay,h=m.menu,k=m.downloadButton,y=m.subtitleText,b=m.onDropTargetDropOn,S=m.playbackUri,x=m.uri,O=(0,D.jsx)(ii,{title:s,type:l,images:o,color:p});return(0,D.jsx)(pi,{RowVariantComponent:n,uri:x,cover:O,name:s,subtitle:y,alt:s,dragLabel:s,menu:h,allowedDropTargetDropOnURITypes:ur,onDropTargetDropOn:b,togglePlay:g,addedAt:d,lastPlayedAt:u,isPlaying:f,isActive:v,isPinned:c,shouldShowType:!1,type:l,downloadButton:k,playbackUri:S,spec:i,nrValidItems:r,index:a})},mr=function(e){var t=e.libraryItem,n=e.spec,i=e.index,r=t.images,a=t.name,o=t.type,s=t.pinned,l=t.color,c=dr(t),u=c.togglePlay,d=c.menu,p=c.downloadButton,m=c.subtitleText,f=c.onDropTargetDropOn,v=c.playbackUri,g=c.uri,h=c.isPlaying,k=c.isActive,y=(0,D.jsx)(ri,{title:a,type:o,images:r,uri:g,togglePlay:u,color:l,spec:n,isActive:k,isPlaying:h});return(0,D.jsx)(Bn,{uri:g,name:a,subtitle:m,menu:d,dragLabel:a,allowedDropTargetDropOnURITypes:ur,onDropTargetDropOn:f,cover:y,togglePlay:u,playbackUri:v,downloadButton:p,isPinned:s,shouldShowType:!1,type:o,isPlaying:h,isActive:k,spec:n,index:i})};function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gr=250,hr=(0,Ze.y)(B.p),kr=(0,u.memo)((function(e){var t=e.item,n=e.primaryFilter,i=e.spec,r=e.index,a={shouldShowType:!(0,bt.MW)(t.uri)&&In(t.type)!==n,spec:i,index:r};switch(t.type){case B.p.FOLDER:return(0,D.jsx)(Ai,vr({libraryItem:t},a));case B.p.ALBUM:return(0,D.jsx)(vi,vr({libraryItem:t},a));case B.p.ARTIST:return(0,D.jsx)(yi,vr({libraryItem:t},a));case B.p.AUDIOBOOK:return(0,D.jsx)(Oi,vr({libraryItem:t},a));case B.p.SHOW:return(0,D.jsx)(cr,vr({libraryItem:t},a));case B.p.PLAYLIST:return(0,D.jsx)(ar,vr({libraryItem:t},a));case B.p.LIKED_SONGS:return(0,D.jsx)(Vi,vr({libraryItem:t},a));case B.p.YOUR_EPISODES:return(0,D.jsx)(mr,vr({libraryItem:t},a));case B.p.LOCAL_FILES:return(0,D.jsx)(qi,vr({libraryItem:t},a));default:(0,wt.U)(t)}})),yr=function(e){var t,n=e.getItems,i=e.scrollNodeRef,r=e.primaryFilter,a=e.nrValidItems,o=e.spec,s=(0,xt.S)(xt.Q.NEW_CARDS),l=(0,u.useRef)({}),c=(0,u.useCallback)((function(e){return(0,D.jsx)(Ji,{index:e,type:hr(r)?r:void 0},e)}),[r]),d=(0,u.useCallback)((function(e,t){return n(e,t).map((function(t,n){return t?(0,D.jsx)(kr,{item:t,spec:o,primaryFilter:r,index:n},t.uri):c("".concat(e+n))}))}),[n,r,c,o]),p=(0,u.useCallback)((function(e,t){l.current={numColumns:e,rowHeight:t}}),[]);return(0,D.jsx)(St.q,{config:s,children:(0,D.jsx)(Bt,{firstInteractiveIsWrapper:!0,"aria-label":H.ag.get("web-player.your-library-x.your-library"),"aria-rowcount":Math.round(a/(null!==(t=l.current.numColumns)&&void 0!==t?t:1)),"aria-colcount":l.current.numColumns,children:(0,D.jsx)(Ot.u,{renderItems:d,nrItems:a,estimatedItemMaxHeight:gr,scrollNodeRef:i,onGridResize:p})})})},br=n(76702),Sr=n(91097),xr=n(48242),Or=n(71062);const wr="main-yourLibraryX-header",Nr="main-yourLibraryX-collapseButtonWrapper",_r="main-yourLibraryX-headerContent",Er="main-yourLibraryX-collapseButtonIsCollapsed",Cr="main-yourLibraryX-collapseButton",Pr="main-yourLibraryX-button",Ir="ha4xXmMVP7gCvKZh9Ipf",jr="main-yourLibraryX-iconOnly",Ar="main-yourLibraryX-createButton",Tr="main-yourLibraryX-headerIsCollapsed",Dr="WYU7SXdABSulyirnmIYb",Rr="DF8qJeKP7CRNb13tJeJg";var Fr=function(e){var t=e.folderUri,n=e.dropTargetClassName,i=e.spec,r=(0,xr.U)(),a=r.isCollapsed,o=r.ylxSidebarState,s=r.setYlxSidebarState,l=(0,Z.$P)(),c=(0,u.useRef)(null);(0,u.useEffect)((function(){o!==xr.c.COLLAPSED&&(c.current=o)}),[o]);var d=(0,u.useCallback)((function(){var e,t=o===xr.c.COLLAPSED?null!==(e=c.current)&&void 0!==e?e:xr.c.DEFAULT:xr.c.COLLAPSED;s(t),l.logInteraction(i.hitToggleState({stateBeforeToggle:null!==o?xr.c[o].toLowerCase():"",stateAfterToggle:xr.c[t].toLowerCase()}))}),[o,s,l,i]),m=a?br.$:Sr.n;return(0,D.jsx)(Or.w,{label:a?H.ag.get("web-player.your-library-x.expand-your-library"):H.ag.get("web-player.your-library-x.collapse-your-library"),placement:a?"right":void 0,children:(0,D.jsx)(wi.o,{"aria-label":a?H.ag.get("web-player.your-library-x.expand-your-library"):H.ag.get("web-player.your-library-x.collapse-your-library"),onClick:d,className:p()(Nr,Pr,n),condensed:!0,iconLeading:t||a?void 0:m,iconOnly:t||a?m:void 0,children:!t&&!a&&H.ag.get("web-player.your-library-x.your-library")})})},Lr=n(45775),Mr=n(79583),Ur=function(e){var t=e.dropTargetClassName,n=e.spec,i=(0,xr.U)(),r=i.ylxSidebarState,a=i.setYlxSidebarState,o=r===xr.c.DEFAULT,s=(0,Z.$P)();return(0,D.jsx)(Or.w,{label:o?H.ag.get("web-player.your-library-x.enlarge-your-library"):H.ag.get("web-player.your-library-x.reduce-your-library"),children:(0,D.jsx)(wi.o,{className:p()(Pr,jr,t),iconOnly:o?Lr.E:Mr.D,"aria-label":o?H.ag.get("web-player.your-library-x.enlarge-your-library"):H.ag.get("web-player.your-library-x.reduce-your-library"),onClick:function(){a(o?xr.c.EXPANDED:xr.c.DEFAULT),s.logInteraction(n.hitToggleState({stateBeforeToggle:o?"default":"expanded",stateAfterToggle:o?"expanded":"default"}))},buttonSize:"sm"})})},Zr=n(86718),Br=function(e){var t=e.folderMenu,n=e.folderName,i=e.dropTargetClassName;return(0,D.jsx)(w.yj,{menu:t,children:(0,D.jsx)("span",{children:(0,D.jsx)(Or.w,{label:H.ag.get("more.label.context",n),children:(0,D.jsx)(wi.o,{className:p()(Pr,jr,i),iconOnly:Zr.N,"aria-haspopup":"menu","aria-label":H.ag.get("more.label.context",n),buttonSize:"sm"})})})})},Vr=n(98961),Hr=n(2865),Gr=function(e){return e[e.LIST=0]="LIST",e[e.GRID=1]="GRID",e}({}),Wr=function(){var e=(0,xr.U)().isExpanded,t=(0,pe.z)("items-view",Gr.LIST),n=(0,s.Z)(t,2),i=n[0];return{itemsView:i,setItemsView:n[1],isGridView:i===Gr.GRID&&e}},zr=function(e){var t=e.dropTargetClassName,n=e.spec,i=Wr(),r=i.isGridView,a=i.setItemsView,o=(0,Z.$P)();return(0,D.jsx)(Or.w,{label:r?H.ag.get("web-player.your-library-x.list-view"):H.ag.get("web-player.your-library-x.grid-view"),children:(0,D.jsx)(wi.o,{className:p()(Pr,t),iconOnly:r?Vr.d:Hr.z,"aria-label":r?H.ag.get("web-player.your-library-x.list-view"):H.ag.get("web-player.your-library-x.grid-view"),onClick:function(){a(r?Gr.LIST:Gr.GRID),o.logInteraction(n.hitToggleState({stateBeforeToggle:r?"grid":"list",stateAfterToggle:r?"list":"grid"}))},buttonSize:"sm"})})},Kr=n(57035),Yr=n(91909),qr=n(22129),Qr=n(19224),Jr=function(e){var t=e.folderUri,n=e.spec,i=(0,K.K)().createPlaylist,r=(0,Ei.lh)().createFolder,a=(0,Z.$P)(),o=t?{after:{uri:t}}:{before:"start"};return(0,D.jsxs)(Ti.v,{children:[(0,D.jsx)(Qr.s,{onClick:function(){i(void 0,o),a.logInteraction(n.createPlaylistOptionFactory().hitCreatePlaylist())},role:"menuitem",leadingIcon:(0,D.jsx)(Yr.h,{iconSize:16}),children:H.ag.get("web-player.your-library-x.create.create-a-new-playlist")}),(0,D.jsx)(Qr.s,{onClick:function(){r(H.ag.get("web-player.your-library-x.default_folder_name"),o),a.logInteraction(n.createFolderOptionFactory().hitCreateFolder({uri:""}))},role:"menuitem",leadingIcon:(0,D.jsx)(qr.P,{iconSize:16}),children:H.ag.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},Xr=["className","dropPosition"];function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ta=function(e){var t=e.className,n=void 0===t?"":t,i=e.folderUri,r=e.tooltipPlacement,s=e.spec,l=H.ag.get("web-player.your-library-x.create.button-label"),c=(0,Z.$P)(),d=(0,K.K)(),m=d.createPlaylistFromAlbum,f=d.createPlaylistFromTracks,v=d.createPlaylistFromPlaylist,g=it({allowedURITypesByDropPosition:(0,a.Z)({},Ve.ON,[y.JM.TRACK,y.JM.ALBUM,y.JM.PLAYLIST_V2]),onDrop:(0,u.useCallback)((function(e){var t=e[y.JM.TRACK],n=e[y.JM.ALBUM],r=e[y.JM.PLAYLIST_V2],a=void 0===r?[]:r,o=i?{after:{uri:i}}:{before:"start"};null!=t&&t.length&&f(t,o),null!=n&&n.length&&m(n[0],o),a.length&&v(a[0],o)}),[m,v,f,i])}),h=g.className,k=g.dropPosition,b=(0,o.Z)(g,Xr);return(0,D.jsx)(w.xV,{renderInline:!0,menu:(0,D.jsx)(Jr,{folderUri:i,spec:s.createMenuFactory()}),preventScrollingWhileOpen:!1,children:function(e,t,i){return(0,D.jsx)(Or.w,{label:l,placement:r,children:(0,D.jsx)(wi.o,ea({ref:i,iconOnly:Kr.S,className:p()(n,h,(0,a.Z)({},at,k===Ve.ON)),"aria-label":l,onClick:function(e){t(e),c.logInteraction(s.hitUiReveal())},buttonSize:"sm"},b))})}})},na=n(42336),ia=["dropPosition","className","onDrop"];function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oa=function(e){var t=e.handleNavigateBack,n=it({allowedURITypesByDropPosition:(0,a.Z)({},Ve.ON,Be),onLongDragOver:t}),i=n.dropPosition,r=n.className,s=(n.onDrop,(0,o.Z)(n,ia)),l=(0,u.useCallback)((function(e){e.preventDefault()}),[]);return(0,D.jsx)(Or.w,{label:H.ag.get("web-player.your-library-x.navigate-back-folder"),children:(0,D.jsx)(wi.o,aa(aa({className:p()(Pr,Ir,r,(0,a.Z)({},at,i===Ve.ON)),"aria-label":H.ag.get("web-player.your-library-x.navigate-back-folder"),onClick:t,iconOnly:na.e,buttonSize:"sm"},s),{},{onDrop:l}))})},sa=function(e){var t=e.folderUri,n=e.folderName,i=e.folderMenu,r=e.onRename,a=e.spec,o=e.className,s=(0,It.cR)(null!=t?t:"not-a-folder").isActive,l=(0,f.I0)(),c=(0,Z.$P)(),d=(0,u.useCallback)((function(){l((0,Nt.UX)(n,r)),c.logInteraction(a.hitRenameFolder({uri:t}))}),[l,n,t,c,r,a]);return(0,D.jsx)(Or.w,{label:n,children:(0,D.jsx)("div",{className:p()(Dr,o),children:(0,D.jsx)(w._P,{menu:i,children:(0,D.jsx)(wi.o,{"aria-label":n,onClick:d,buttonSize:"sm",condensed:!0,className:p()(Pr),children:(0,D.jsx)(V.D,{variant:"balladBold",semanticColor:s?"textBrightAccent":void 0,className:Rr,children:n})})})})})},la=n(60022),ca=n(95113);const ua="_4JcTGCbNeqSDgdBfKdfy",da="wB8ig1vfWJiTattGsxKX";var pa=function(){var e=(0,ca.W)(),t=e.syncing,n=e.percentage,i=e.currentItem,r=e.totalItems;return t?(0,D.jsxs)("div",{className:ua,children:[(0,D.jsxs)("div",{className:da,children:[(0,D.jsx)(V.D,{variant:"mestoBold",semanticColor:"textBase",children:H.ag.get("web-player.your-library-x.download-progress-title")}),(0,D.jsx)(V.D,{variant:"mestoBold",semanticColor:"textBase",children:H.ag.get("web-player.your-library-x.download-progress-count-out-of-total",i,r)})]}),(0,D.jsx)(la.k,{value:n})]}):null},ma=n(84377),fa=n(88788),va=n(10146),ga=n(51598);var ha=function(e){var t,n,i=e.parentDropTargetClassName,r=e.isLibraryCompletelyEmpty,o=e.folderUri,s=e.folderName,l=e.spec,c=(0,xr.U)(),d=c.isCollapsed,m=c.ylxSidebarState,f=(t=(0,ga.T)(),n=(0,fa.Y)(),t>ma.RZ.EXPANDED_MIN+3*n+va.IW),v=(0,Ei.lh)().renameFolder,g=(0,u.useContext)(kt).popFolder,h=!d||r&&d,k=(0,u.useCallback)((function(){o&&v({uri:o},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}),[o,v]),y=(0,u.useCallback)((function(){g()}),[g]),b=o?(0,D.jsx)(_i.A,{reference:{uri:o},name:s,onRename:k,onDeleteCallback:y}):null,S=bn().dropOriginIsYLX;return(0,D.jsxs)("header",{className:p()(wr,(0,a.Z)({},Tr,d)),children:[!d&&(0,D.jsx)(pa,{}),(0,D.jsxs)("div",{className:p()(_r,(0,a.Z)({},Er,d)),children:[(0,D.jsxs)("div",{className:p()(Cr,(0,a.Z)({},Er,d)),children:[(0,D.jsx)(Fr,{folderUri:o,dropTargetClassName:i,spec:l.toggleCollapsedModeButtonFactory({identifier:""})}),o&&(0,D.jsx)(oa,{handleNavigateBack:y}),!d&&o&&void 0!==s&&(0,D.jsx)(sa,{folderUri:o,folderName:s,folderMenu:b,onRename:k,spec:l.folderTitleFactory(),className:S?i:void 0},o)]}),h&&(0,D.jsx)(ta,{className:p()(Ar,Pr,jr),folderUri:o,tooltipPlacement:d?"right":void 0,spec:l.createMenuButtonFactory()}),o&&!d&&(0,D.jsx)(Br,{folderName:s,folderMenu:b,dropTargetClassName:i}),m===xr.c.EXPANDED&&(0,D.jsx)(zr,{dropTargetClassName:i,spec:l.viewDensityToggleFactory({identifier:""})}),(m===xr.c.DEFAULT&&f||m===xr.c.EXPANDED)&&(0,D.jsx)(Ur,{dropTargetClassName:i,spec:l.toggleExpandedModeButtonFactory({identifier:""})})]})]})},ka=n(13752),ya=n(4982),ba=n(12191),Sa=n(33011),xa=function(e){var t=e.iconSize,n=void 0===t?16:t;return(0,D.jsx)("span",{className:ke,children:(0,D.jsx)(Sa.w,{iconSize:n,semanticColor:"textBrightAccent",className:he})})};function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Na=function(e){var t=e.children,n=e.title,i=e.subtitleSlot,r=e.isPlaying;return(0,D.jsx)(Or.w,{label:(0,D.jsxs)("div",{className:p()("encore-dark-theme",we),children:[(0,D.jsxs)("div",{children:[n,i]}),r&&(0,D.jsx)(xa,{})]}),placement:"right",showDelay:0,children:t})},_a=function(e){var t=(0,u.useRef)(null);return(0,bt.MW)(e.uri)?(0,D.jsx)(bt.sg,{parentRef:e.parentRef,api:t,children:(0,D.jsx)(Na,wa({},e))}):(0,D.jsx)(Na,wa({},e))},Ea=function(e){var t=e.date;return(0,D.jsx)(V.D,{variant:"mesto",semanticColor:"textSubdued",className:_e,children:t&&H.ag.formatRelativeDate(new Date(t),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})})};function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia=function(e){var t,n=e.handleNavigate,i=(0,D.jsx)(mn,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:n,playbackUri:e.playbackUri}),r=null!==(t=e.expandFolderButton)&&void 0!==t?t:e.isPlaying&&(0,D.jsx)(xa,{}),a=(0,D.jsx)(nn,{leading:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(An,{pinned:e.isPinned}),e.downloadButton]}),subtitle:(0,D.jsxs)(D.Fragment,{children:[e.shouldShowType&&Pn(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),o=e.logRightClick,s=(0,D.jsx)(w._P,{menu:e.menu,onShow:o,children:(0,D.jsx)(Kt.Q,{uri:e.uri,trigger:Kt.x.OnMouseDown,children:(0,D.jsx)(ya.w,{className:fe,media:e.cover,title:i,subtitle:a,trailing:r,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:At.dly,onClick:e.onClick,hoverAnimationDuration:"0ms"})})});return(0,bt.MW)(e.uri)?(0,D.jsx)(bt.sg,{parentRef:e.parentRef,children:s}):s},ja=function(e){var t=e.handleNavigate,n=(0,D.jsx)(mn,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),i=(0,D.jsx)(nn,{leading:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(An,{pinned:e.isPinned}),e.downloadButton]}),subtitle:(0,D.jsxs)(D.Fragment,{children:[e.shouldShowType&&Pn(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),r=e.logRightClick;return(0,D.jsx)(_a,Pa(Pa({},e),{},{title:n,subtitleSlot:i,parentRef:e.parentRef,children:(0,D.jsx)("div",{children:(0,D.jsx)(w._P,{menu:e.menu,onShow:r,children:(0,D.jsx)(Kt.Q,{uri:e.uri,trigger:Kt.x.OnMouseDown,children:(0,D.jsx)(ya.w,{className:p()(fe,ge),media:e.cover,id:e.uri,padding:At.dly,onClick:e.onClick,variant:void 0,title:void 0,hoverAnimationDuration:"0ms"})})})})}))},Aa=function(e){var t=(0,u.useRef)(null),n=e.logRightClick;return(0,D.jsx)(w._P,{menu:e.menu,onShow:n,children:(0,D.jsxs)("div",{className:Ne,ref:t,children:[(0,D.jsx)(Ia,Pa(Pa({},e),{},{parentRef:t})),(0,D.jsx)(Ea,{date:e.addedAt}),(0,D.jsx)(Ea,{date:e.lastPlayedAt})]})})},Ta=function(e){var t,n=e.handleNavigate,i=(0,D.jsxs)("div",{className:Pe,children:[(0,D.jsx)(mn,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:n,playbackUri:e.playbackUri}),e.shouldShowType&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ba.o,{children:"•"}),(0,D.jsx)(ba.o,{lineClamp:1,children:Pn(e.type)})]}),(!e.shouldShowType&&e.type===B.p.ALBUM||(0,bt.MW)(e.uri))&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(ba.o,{children:"•"}),(0,D.jsx)(nn,{leading:null,uri:e.uri,subtitle:e.subtitle})]})]}),r=(0,D.jsx)(An,{pinned:e.isPinned}),a=null!==(t=e.expandFolderButton)&&void 0!==t?t:e.isPlaying?(0,D.jsx)(xa,{iconSize:12}):e.downloadButton&&(0,D.jsx)("div",{className:ke,children:e.downloadButton}),o=e.logRightClick;return(0,D.jsx)(w._P,{menu:e.menu,onShow:o,children:(0,D.jsx)(Kt.Q,{uri:e.uri,trigger:Kt.x.OnMouseDown,children:(0,D.jsx)(ya.w,{className:p()(fe,ve),title:i,leading:e.isPinned?r:void 0,trailing:a,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:"".concat(At.hM$," ").concat(At.dly),onClick:e.onClick,size:"sm",hoverAnimationDuration:"0ms"})})})},Da=function(e){var t=e.logRightClick;return(0,D.jsx)(w._P,{menu:e.menu,onShow:t,children:(0,D.jsxs)("div",{className:Ne,children:[(0,D.jsx)(Ta,Pa({},e)),(0,D.jsx)(Ea,{date:e.addedAt}),(0,D.jsx)(Ea,{date:e.lastPlayedAt})]})})},Ra=function(e){var t,n=e.height,i=e.isCompact,r=e.primaryFilter;return(0,D.jsx)(ai.E,{className:p()((t={},(0,a.Z)(t,Se,!i),(0,a.Z)(t,Oe,i),(0,a.Z)(t,xe,r===B.p.ARTIST),t)),style:{height:n}})},Fa=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COMPACT=1]="COMPACT",e}({}),La=function(){var e=(0,pe.z)("library-row-mode",Fa.DEFAULT),t=(0,s.Z)(e,2),n=t[0],i=t[1],r=(0,xr.U)().ylxSidebarState;return{libraryRowMode:n,setLibraryRowMode:i,rowHeight:n===Fa.DEFAULT||r===xr.c.COLLAPSED?64:32}};function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Za=(0,u.memo)((function(e){var t=e.item,n=e.primaryFilter,i=e.RowVariantComponent,r=e.spec,a=e.nrValidItems,o=e.index,s={shouldShowType:!(0,bt.MW)(t.uri)&&In(t.type)!==n,RowVariantComponent:i,spec:r,nrValidItems:a,index:o};switch(t.type){case B.p.FOLDER:return(0,D.jsx)(ji,Ua({libraryItem:t},s));case B.p.ALBUM:return(0,D.jsx)(fi,Ua({libraryItem:t},s));case B.p.ARTIST:return(0,D.jsx)(ki,Ua({libraryItem:t},s));case B.p.AUDIOBOOK:return(0,D.jsx)(xi,Ua({libraryItem:t},s));case B.p.SHOW:return(0,D.jsx)(lr,Ua({libraryItem:t},s));case B.p.PLAYLIST:return(0,D.jsx)(rr,Ua({libraryItem:t},s));case B.p.LIKED_SONGS:return(0,D.jsx)(Bi,Ua({libraryItem:t},s));case B.p.YOUR_EPISODES:return(0,D.jsx)(pr,Ua({libraryItem:t},s));case B.p.LOCAL_FILES:return(0,D.jsx)(Yi,Ua({libraryItem:t},s));default:(0,wt.U)(t)}})),Ba=function(e){var t=e.getItems,n=e.scrollNodeRef,i=e.primaryFilter,r=e.nrValidItems,a=e.spec,o=(0,xr.U)().ylxSidebarState,s=La(),l=s.rowHeight,c=s.libraryRowMode===Fa.COMPACT,d=function(e,t){switch(e){case xr.c.COLLAPSED:return ja;case xr.c.DEFAULT:return t?Ta:Ia;case xr.c.EXPANDED:return t?Da:Aa;default:(0,wt.U)(e)}}(o,c),p=(0,u.useCallback)((function(e,t){return(0,D.jsx)(Ra,{height:e,isCompact:c,primaryFilter:i},t)}),[c,i]),m=(0,u.useCallback)((function(e,n){return t(e,n).map((function(t,n){return t?(0,D.jsx)(Za,{item:t,spec:a,RowVariantComponent:d,primaryFilter:i,nrValidItems:r,index:e+n},t.uri):p("".concat(l,"px"),"".concat(e+n))}))}),[d,t,i,p,l,a,r]);return(0,D.jsx)(ai.A,{circular:!1,allowsMultipleInteractiveChildrenInItem:!0,"aria-label":H.ag.get("web-player.your-library-x.your-library"),children:(0,D.jsx)(ka.V,{renderRows:m,nrRows:r,rowHeight:l,scrollNodeRef:n,renderPlaceholder:p})})},Va=(n(40274),n(4159)),Ha=n(87995),Ga=n(14268),Wa=n(28146);const za="oszTUDKpXrPHyeWPs276",Ka="cKHK53VIATgkMZYQDfol",Ya="QMGfkFWtxrVkgNgFXDyw";var qa=function(e){var t,n,i=e.id,r=e.title,a=e.bodyText,o=e.children,l=e.root,c=e.show,d=e.childrenWrapperClassName,p=(0,pe.z)("onboarding-dismissed:".concat(i),!1),m=(0,s.Z)(p,2),f=m[0],v=m[1],g=(0,pe.z)("onboarding-dismissed-amount:".concat(i),0),h=(0,s.Z)(g,2),k=h[0],y=h[1],b=(0,u.useState)(!1),S=(0,s.Z)(b,2),x=S[0],O=S[1],w=bn().dropOriginIsYLX,N=(0,u.useContext)(Me.Ci).draggingIsInProgress,_=(0,u.useState)(null),E=(0,s.Z)(_,2),C=E[0],P=E[1],I=(0,u.useState)(null),j=(0,s.Z)(I,2),A=j[0],T=j[1],R=(0,u.useCallback)((function(){v(!0),O(!1),y(k+1)}),[k,y,v]);(0,u.useEffect)((function(){if(f)return function(){};var e=function(e){"Escape"===e.key&&R()};return window.addEventListener("keydown",e,!0),function(){window.removeEventListener("keydown",e,!0)}}),[f,R,A]);var F=null==C?void 0:C.getBoundingClientRect();return(0,u.useEffect)((function(){N&&w&&O(!0)}),[N,w]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{ref:P,className:d,children:o}),k<3&&(!f||x)&&F&&c&&(0,Ha.createPortal)((0,D.jsx)("div",{className:za,style:{top:null!==(t=null==F?void 0:F.top)&&void 0!==t?t:0,left:null!==(n=null==F?void 0:F.left)&&void 0!==n?n:0,width:null==F?void 0:F.width,height:null==F?void 0:F.height},ref:T,children:(0,D.jsxs)(Wa.J,{popoverTitle:r,arrow:Wa.J.left,colorSet:"announcement",className:Ka,children:[(0,D.jsx)(V.D,{as:"p",dangerouslySetInnerHTML:{__html:a||""}}),(0,D.jsx)(wi.o,{buttonSize:"sm",onClick:R,iconOnly:Ga.k,"aria-label":H.ag.get("close"),className:Ya})]})}),l||document.body)]})};const Qa="main-yourLibraryX-librarySort",Ja="main-yourLibraryX-librarySortWrapper";var Xa=function(e){var t,n,i,r=e.sortOrders,a=e.activeSortOrderId,o=e.setActiveSortOrderId,s=e.root,l=e.showReorderingOnboarding,c=e.spec,d=(0,Z.$P)(),p=(0,Le.y)(),m=null!==(t=r.find((function(e){return e.id===a})))&&void 0!==t?t:null==r?void 0:r.at(0),f=(0,u.useRef)(null);return(0,D.jsx)("div",{className:Qa,ref:f,children:(0,D.jsx)(qa,{id:"ylx-playlist-ordering",bodyText:H.ag.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:s,show:l,childrenWrapperClassName:Ja,children:(0,D.jsx)(Va.A,{options:r.map((function(e){return{key:e.id,value:e.name}})),onClick:function(){d.logInteraction(c.hitUiReveal())},onSelect:function(e,t){o(e);var n=p.getSortOrderLabel(e);d.logInteraction(c.sortMenuFactory().sortOptionFactory({identifier:n,position:t}).hitSort())},selected:{key:null!==(n=null==m?void 0:m.id)&&void 0!==n?n:"",value:null!==(i=null==m?void 0:m.name)&&void 0!==i?i:""},heading:H.ag.get("web-player.your-library-x.sort_by"),ariaLabel:H.ag.get("web-player.your-library-x.sort_by")})})})},$a=n(24898),eo=n(50339),to=n(65071);var no=function(e){var t=e.clearOnEscapeInElementRef,n=e.primaryFilter,i=e.spec,r=(0,Le.y)(),a=(0,Z.$P)(),o=function(e){switch(e){case B.p.ALBUM:return H.ag.get("web-player.your-library-x.text-filter.albums-placeholder");case B.p.ARTIST:return H.ag.get("web-player.your-library-x.text-filter.artists-placeholder");case B.p.PLAYLIST:return H.ag.get("web-player.your-library-x.text-filter.playlists-placeholder");case B.p.SHOW:return H.ag.get("web-player.your-library-x.text-filter.shows-placeholder");case B.p.AUDIOBOOK:return H.ag.get("web-player.your-library-x.text-filter.audiobooks-placeholder");case"downloaded":return H.ag.get("web-player.your-library-x.text-filter.downloaded-placeholder");case void 0:return H.ag.get("web-player.your-library-x.text-filter.generic-placeholder");default:return void(0,wt._)(e)}}(n),s=(0,u.useCallback)((function(){return a.logInteraction(i.searchButtonFactory().hitUiReveal()),!0}),[a,i]),l=(0,u.useCallback)((function(){return a.logInteraction(i.textFilterFactory().keyStrokeClearFilter()),!0}),[a,i]);return(0,D.jsx)($a.K,{placeholder:o,clearOnEscapeInElementRef:t,debounceFilterChangeTimeout:null!=r&&r.getCapabilities().canTextFilterContentsInRealtime?0:void 0,expandDirection:"right",onActivate:s,onClear:l,useExpandCallback:function(e){(0,to.x)(eo.lb.FOCUS_YLX_TEXT_FILTER,e)}})},io=n(92755),ro=n(35526),ao=n(39264),oo=n(76788),so=n(37297),lo=n(42418),co=n(35445),uo=n(86015),po=1248,mo=800,fo=(0,Ze.y)(oo.s),vo=(0,Ze.y)(uo.c),go=function(){return function(){var e=(0,ma.LP)(),t=e.size,n=e.setSize,i=e.minWidth,r=e.maxWidth,a=e.ylxCollapsedStateNavbarWidth,o=e.ylxDefaultStateNavbarWidth,s=e.ylxExpandedStateNavbarWidth,l=(0,uo.U)(),c=l.ylxSidebarState,d=l.setYlxSidebarState,p=(0,fa.Y)(),f=(0,ao.W)(),v=(0,so.m)(),g=(0,co.T)(v);(0,u.useRef)(g.toggle).current=g.toggle;var h=(0,lo.r)(),k=h.min,y=h.max,b=h.size,S=h.setSize,x=(0,ga.T)(),O=(0,u.useRef)(null),w=(0,u.useRef)(null),N=(0,u.useRef)(null);(0,u.useLayoutEffect)((function(){var e=x-t-3*p-(v!==oo.s.Disabled?b+p:0),l={leftSidebarWidth:t,leftSidebarMinWidth:i,leftSidebarMaxWidth:r,ylxSidebarState:c,ylxSidebarStateRestoreTarget:O.current,rightSidebarWidth:b,rightSidebarMinWidth:k,rightSidebarMaxWidth:y,rightSidebarPanel:v,rightSidebarPanelRestoreTarget:w.current,storedCollapsedYLXWidth:a,storedDefaultYLXWidth:o,storedExpandedYLXWidth:s,clientWidth:x,mainContentWidth:e,panelGapValue:p},u=N.current;if(!(0,m.J)(l,u)){var g=function(e,t){if(!e)return{};var n=t.leftSidebarWidth,i=void 0===n?0:n,r=t.rightSidebarWidth,a=void 0===r?0:r,o=t.mainContentWidth,s=void 0===o?0:o,l=t.leftSidebarMinWidth,c=void 0===l?0:l,u=t.leftSidebarMaxWidth,d=void 0===u?0:u,p=t.ylxSidebarState,m=t.ylxSidebarStateRestoreTarget,f=t.rightSidebarMinWidth,v=void 0===f?0:f,g=t.rightSidebarMaxWidth,h=void 0===g?0:g,k=t.rightSidebarPanel,y=t.rightSidebarPanelRestoreTarget,b=t.storedCollapsedYLXWidth,S=void 0===b?0:b,x=t.storedDefaultYLXWidth,O=void 0===x?0:x,w=t.storedExpandedYLXWidth,N=void 0===w?0:w,_=t.clientWidth,E=void 0===_?0:_,C=t.panelGapValue,P=void 0===C?0:C,I={},j=k!==oo.s.Disabled,A=void 0!==e.leftSidebarWidth&&i>e.leftSidebarWidth,T=void 0!==e.rightSidebarWidth&&a>e.rightSidebarWidth,D=void 0===e.clientWidth?0:E-e.clientWidth,R=D<0,F=E>0,L=s<va.IW?va.IW-s:0,M=R?-1*D:0;s>po?M=Math.max(0,M-(s-po)):L&&(M=L);var U=p===uo.c.EXPANDED&&e.ylxSidebarState!==uo.c.EXPANDED,Z=p===uo.c.DEFAULT&&e.ylxSidebarState!==uo.c.DEFAULT,B=i-c;A&&(B=U?i-ma.RZ.EXPANDED_MIN:Z?i-ma.RZ.DEFAULT_MIN:0);var V=T?0:a-v,H=M<=B+V;if(s<va.IW&&!H)j&&(A||R&&p===uo.c.COLLAPSED)?(I.rightSidebarPanel=oo.s.Disabled,I.rightSidebarPanelRestoreTarget=t.rightSidebarPanel,M-=a,V=0):(p===uo.c.EXPANDED&&s+(i-ma.RZ.DEFAULT_MIN)>va.IW?(I.ylxSidebarState=uo.c.DEFAULT,M-=i-O,B=O-ma.RZ.DEFAULT_MIN):(I.ylxSidebarState=uo.c.COLLAPSED,M-=i-S,B=0),I.ylxSidebarStateRestoreTarget=t.ylxSidebarState);else if(k===oo.s.Disabled&&y!==oo.s.Disabled&&fo(y)&&k!==e.rightSidebarPanelRestoreTarget&&s-a-P>=va.IW)I.rightSidebarPanel=y,I.rightSidebarPanelRestoreTarget=null;else if(p===uo.c.DEFAULT&&m===uo.c.EXPANDED&&s-(N-i)>=va.IW)I.ylxSidebarState=uo.c.EXPANDED,I.ylxSidebarStateRestoreTarget=null;else if(p===uo.c.COLLAPSED&&m===uo.c.DEFAULT&&s-(O-i)>=va.IW)I.ylxSidebarState=uo.c.DEFAULT,I.ylxSidebarStateRestoreTarget=null;else if(F&&s>=mo)for(var G=d-i,W=h-a,z=Math.min(D,G+W),K=0;K<z;K++)i<a&&i<d&&G>0?(i++,G--):a<h&&W>0&&(a++,W--);p!==e.ylxSidebarState&&vo(m)&&m===e.ylxSidebarStateRestoreTarget&&(I.ylxSidebarStateRestoreTarget=null);k!==e.rightSidebarPanel&&fo(y)&&y===e.rightSidebarPanelRestoreTarget&&(I.rightSidebarPanelRestoreTarget=null);if(M>0&&M<=B+V)for(var Y=0;Y<M;Y++)i>a&&i>c&&B>0?(i--,B--):a>v&&V>0&&(a--,V--);i&&i!==t.leftSidebarWidth&&(I.leftSidebarWidth=i);a&&a!==t.rightSidebarWidth&&(I.rightSidebarWidth=a);return I}(u,l);void 0!==g.leftSidebarWidth&&n(g.leftSidebarWidth),vo(g.ylxSidebarState)&&d(g.ylxSidebarState),void 0!==g.ylxSidebarStateRestoreTarget&&(O.current=g.ylxSidebarStateRestoreTarget),void 0!==g.rightSidebarWidth&&S(g.rightSidebarWidth),void 0!==g.rightSidebarPanel&&f.setPanelState(g.rightSidebarPanel),void 0!==g.rightSidebarPanelRestoreTarget&&(w.current=g.rightSidebarPanelRestoreTarget),N.current=l}}),[t,i,r,n,c,b,k,y,S,v,a,o,s,d,f,x,p])}(),null},ho=function(){return(0,h.W6)(Yn._c,{loadingValue:!1})?(0,D.jsx)(go,{}):null};var ko=n(76956);function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var So=n(89887);function xo(e,t,n,i){if(e){var r=e.scrollTop,a=e.offsetHeight,o=t&&e?t.getBoundingClientRect().top+r-e.getBoundingClientRect().top:0;if(o+n<r||o+n+i>r+a){var s=n-a/2+o+i/2;e.scrollTop=s}}}var Oo=n(78121),wo=n(23213),No=n(4954);function _o(){var e=(0,u.useState)(null),t=(0,s.Z)(e,2),n=t[0],i=t[1];if((0,No.b)(wo.EW.UPDATE_PIN_ERROR,(function(e){i(e.data)})),void 0===(null==n?void 0:n.reason))return null;switch(n.reason){case wo.EN.TOO_MANY_PINS:return(0,D.jsx)(Oo.w,{animated:!0,headingMessage:H.ag.get("web-player.your-library-x.pin-error.title"),message:H.ag.get("web-player.your-library-x.pin-error.message",n.maximumPinnedItems),buttonLabel:H.ag.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:function(){return i(null)}});case wo.EN.NO_PIN_IN_FOLDER:return(0,D.jsx)(Oo.w,{animated:!0,headingMessage:H.ag.get("web-player.your-library-x.pin-error.no-pin-in-folder.title"),message:H.ag.get("web-player.your-library-x.pin-error.no-pin-in-folder.message"),buttonLabel:H.ag.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:function(){return i(null)}});default:return(0,wt._)(n),null}}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Po,Io=n(46929),jo=n(32376),Ao=n(11721),To=(Po={},(0,a.Z)(Po,wo.XD.ALBUMS,B.p.ALBUM),(0,a.Z)(Po,wo.XD.ARTISTS,B.p.ARTIST),(0,a.Z)(Po,wo.XD.BOOKS,B.p.AUDIOBOOK),(0,a.Z)(Po,wo.XD.EPISODES,B.p.EPISODE),(0,a.Z)(Po,wo.XD.SHOWS,B.p.SHOW),(0,a.Z)(Po,wo.XD.TRACKS,B.p.TRACK),Po);function Do(e,t){var n=(0,u.useCallback)((function(n){var i=n.data.list;Ro(e,To[i])&&t()}),[e,t]);(0,No.b)(wo.EW.UPDATE,n),(0,No.b)(wo.EW.UPDATE_PIN,t);var i=(0,u.useCallback)((function(){Ro(e,B.p.PLAYLIST)&&t()}),[e,t]);(0,Ei.iu)(i),function(e){(0,u.useEffect)((function(){var t=(0,Ao.k)(),n=/^hm:\/\/collection\/ylpin\//;return t.matchMessages(n,e),function(){t.unmatchMessages(n,e)}}),[e])}(t),function(e){var t=(0,u.useContext)(jo.t),n=t.getEvents();(0,u.useEffect)((function(){return n.addListener(Io.p.UPDATE,e),function(){n.removeListener(Io.p.UPDATE,e)}}),[t,n,e])}(t)}function Ro(e,t){switch(e){case B.p.ALBUM:case B.p.ARTIST:case B.p.AUDIOBOOK:case B.p.SHOW:return e===t;case B.p.PLAYLIST:switch(t){case B.p.TRACK:case B.p.PLAYLIST:case B.p.EPISODE:return!0;default:return!1}default:return!0}}const Fo="main-yourLibraryX-libraryContainer",Lo="main-yourLibraryX-libraryIsExpanded",Mo="main-yourLibraryX-libraryIsCollapsed",Uo="main-yourLibraryX-libraryFilter",Zo="main-yourLibraryX-libraryItemContainer",Bo="main-yourLibraryX-libraryRootlist",Vo="glUVqQHA9VNQp0CHUTAs",Ho="main-yourLibraryX-filters",Go="HUFl7FOi5oAlMEZNCBf4",Wo="main-yourLibraryX-isScrolled",zo="main-yourLibraryX-filterArea";var Ko=["dropPosition","className"],Yo=["offset","limit","items"];function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jo={items:[],totalLength:0},Xo=5e4,$o=[y.JM.TRACK,y.JM.ALBUM,y.JM.ARTIST,y.JM.PLAYLIST_V2,y.JM.SHOW,y.JM.EPISODE],es=[y.JM.TRACK,y.JM.LOCAL_TRACK,y.JM.ALBUM,y.JM.EPISODE,y.JM.PLAYLIST_V2],ts=function(){var e,t,n,l,d,f,S,x,A,T,R,L,M,V,H,G=(0,u.useContext)(ht.fo).filter,W=(0,u.useState)(null),K=(0,s.Z)(W,2),Y=K[0],q=K[1],Q=function(e){var t=(0,u.useContext)(kt),n=t.openedFolderUri,i=void 0===n?"":n,r=t.change,o=(0,u.useRef)(i),l=(0,pe.z)("ylx-active-filter-ids",(0,a.Z)({},i,[])),c=(0,s.Z)(l,2),d=c[0],p=c[1],m=(0,u.useRef)(!0),f=(0,g.jP)((function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new Set(e);r.has(t)?r.delete(t):r.add(t),m.current=n,p(bo(bo({},d),{},(0,a.Z)({},i,Array.from(r))))}),[e,p,i]),v=(0,u.useCallback)((function(){return p(bo(bo({},d),{},(0,a.Z)({},i,[])))}),[i,d,p]);return(0,u.useMemo)((function(){i!==o.current&&"PUSH"===r&&p(bo(bo({},d),{},(0,a.Z)({},i,d[o.current]))),o.current=i}),[r,i,d,p]),{filtersPickedByUserRef:m,selectedFilterIds:d[i],resetFilterIds:v,toggleFilterId:f}}(null!==(e=null==Y||null===(t=Y.selectedFilters)||void 0===t?void 0:t.map((function(e){return e.id})))&&void 0!==e?e:[]),J=Q.filtersPickedByUserRef,X=Q.selectedFilterIds,$=Q.resetFilterIds,ee=Q.toggleFilterId,ne=null==X?void 0:X[0],ie=(A=ne,T=(0,pe.z)("ylx-active-sort-order-by-filter-id",{}),R=(0,s.Z)(T,2),L=R[0],M=R[1],V="".concat(A),{selectedSortOrderId:L[V],setSelectedSortOrderId:(0,u.useCallback)((function(e){M(Co(Co({},L),{},(0,a.Z)({},V,e)))}),[V,L,M])}),re=ie.selectedSortOrderId,ae=ie.setSelectedSortOrderId,se=(0,u.useRef)(null),le=(0,u.useRef)(null),ce=(0,u.useRef)(null),me=(0,u.useContext)(de).expandedFolders,fe=(0,u.useContext)(kt),ve=fe.openedFolderUri,ge=fe.resetFolder,he=(0,P.I)(),ke=(0,u.useContext)(C.H),ye=(0,I.o)(),be=Sn(),Se=(0,u.useState)(!1),xe=(0,s.Z)(Se,2),Oe=xe[0],we=xe[1],Ne=(0,xr.U)(),_e=Ne.isCollapsed,Ee=Ne.isExpanded,Ce=Ne.setYlxSidebarState,Pe=Wr().isGridView,Ie=(0,Z.fU)(k.C,{data:{identifier:"yourlibraryx"}}),je=Ie.spec,Te=Ie.UBIFragment;H=_e?"collapsed":Ee?Pe?"expanded_grid":"expanded_list":"default";var De=(0,u.useMemo)((function(){return je.sidebarFactory({uri:null!=ve?ve:"",identifier:H})}),[je,ve,H]),Re=(0,Z.Wi)(De),Fe=(0,u.useMemo)((function(){return De.headerFactory()}),[De]),Le=(0,u.useMemo)((function(){return Fe.filtersFactory()}),[Fe]),Ue=(0,u.useMemo)((function(){return Fe.searchBarFactory()}),[Fe]),Ze=(0,u.useMemo)((function(){return Fe.sortMenuButtonFactory()}),[Fe]),Be=(0,u.useMemo)((function(){return De.listFactory()}),[De]),He=(0,Z.$P)();!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=(0,ko.k)(),r=(0,u.useContext)(C.H).getContentsDownloadedFilterId(),a=(0,u.useRef)(e);a.current=e;var o=(0,u.useRef)(t);o.current=t;var s=(0,u.useRef)(n);s.current=n;var l=(0,u.useRef)(!1);(0,u.useEffect)((function(){if(r){var e=o.current.includes(r),t=a.current.includes(r),n=o.current.length>1,c=!i&&!n&&!e&&t,u=i&&e&&l.current;(c||u)&&(c&&(l.current=!0),s.current(r,!1))}}),[r,i]);var c=(0,u.useRef)(t);(0,g.KW)((function(){r&&(t.includes(r)&&!c.current.includes(r)&&l.current||(l.current=!1),c.current=t)}),[r,t])}(null==Y||null===(n=Y.availableFilters)||void 0===n?void 0:n.map((function(e){return e.id})),null==Y||null===(l=Y.selectedFilters)||void 0===l?void 0:l.map((function(e){return e.id})),ee);var Ge=Ci(Be,ve),We=Ge.handleDropOnFolder,ze=Ge.unpinConfirmationDialog,Ke=bn(),Ye=Ke.dropOriginIsYLX,qe=Ke.entityIsInFolder,Qe=(0,u.useContext)(Me.Ci).setDraggingIsInProgress;(0,ro.P)(se);var Je=ve?es:$o,Xe=!qe||null!=Y&&Y.reorderAllowed?[]:[y.JM.PLAYLIST_V2,y.JM.FOLDER],$e=it({allowedURITypesByDropPosition:(0,a.Z)({},Ve.ON,Ye?Xe:Je),onDrop:(0,u.useCallback)(function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a,o,s,l,u,d,p,m,f,v,g;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve?We(t):(n=t[y.JM.TRACK],r=t[y.JM.ALBUM],a=t[y.JM.ARTIST],o=t[y.JM.EPISODE],s=t[y.JM.SHOW],l=t[y.JM.PLAYLIST_V2],u=void 0===l?[]:l,d=t[y.JM.FOLDER],null!=n&&n.length&&(null==ke||ke.add.apply(ke,(0,i.Z)(n)),He.logInteraction(Be.dragCreatePlaylist())),null!=r&&r.length&&(null==ke||ke.add.apply(ke,(0,i.Z)(r)),He.logInteraction(Be.dragLike({itemToBeLiked:null!==(p=r.at(0))&&void 0!==p?p:""}))),null!=a&&a.length&&(null==ke||ke.add.apply(ke,(0,i.Z)(a)),He.logInteraction(Be.dragLike({itemToBeLiked:null!==(m=a.at(0))&&void 0!==m?m:""}))),null!=o&&o.length&&(null==ke||ke.add.apply(ke,(0,i.Z)(o)),He.logInteraction(Be.dragLike({itemToBeLiked:null!==(f=o.at(0))&&void 0!==f?f:""}))),null!=s&&s.length&&(null==ke||ke.add.apply(ke,(0,i.Z)(s)),He.logInteraction(Be.dragLike({itemToBeLiked:null!==(v=s.at(0))&&void 0!==v?v:""}))),u.length&&(be(u,{before:"start"}),Ye?He.logInteraction(Be.dragSort()):He.logInteraction(Be.dragLike({itemToBeLiked:null!==(g=u.at(0))&&void 0!==g?g:""}))),null!=d&&d.length&&(ye.moveFolder({uri:d[0]},{before:"start"}),He.logInteraction(Be.dragSort())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ve,We,ke,He,Be,be,Ye,ye]),onLongDragOver:(0,u.useCallback)((function(){_e&&Ce(xr.c.DEFAULT)}),[_e,Ce])}),et=$e.dropPosition,tt=$e.className,nt=(0,o.Z)($e,Ko),at=(0,u.useMemo)((function(){return{filters:X,sortOrder:re,textFilter:G,includeLocalFiles:he,includeYourEpisodes:!0,expandedFolders:_e||Pe?[]:me,filtersPickedByUser:J.current,folderUri:ve}}),[me,J,he,Pe,_e,ve,X,re,G]),ot=(0,u.useCallback)(function(){var e=(0,r.Z)(c().mark((function e(t,n){var i,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.getContents(Qo({offset:t,limit:n},at));case 3:return i=e.sent,i.offset,i.limit,i.items,r=(0,o.Z)(i,Yo),we(!1),e.abrupt("return",Qo({fetchedId:at.folderUri,onCacheSuccess:function(){q((function(e){return(0,m.J)(r,e)?e:r}))}},i));case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof E.Ik)){e.next=16;break}return $(),e.abrupt("return",Jo);case 16:if(!(e.t0 instanceof E.j2)){e.next=21;break}return ae(void 0),e.abrupt("return",Jo);case 21:if(!(e.t0 instanceof E.xX)){e.next=24;break}return ge(),e.abrupt("return",Jo);case 24:return(0,j.PC)(e.t0),we(!0),e.abrupt("return",Jo);case 27:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),[at,ke,$,ge,ae]),st=!1===(null==Y?void 0:Y.hasUnfilteredItems),lt=(null==Y?void 0:Y.hasTextFilter)&&0===Y.totalLength&&""!==G,ct=(0,u.useContext)(ht.fo).setFilter;(0,u.useEffect)((function(){lt&&_e&&ct("")}),[lt,_e,ct]);var ut=0===(null==Y?void 0:Y.totalLength)&&Y.selectedFilters.length>0&&!(null!=Y&&Y.hasTextFilter)&&(null==Y?void 0:Y.hasUnfilteredItems);(0,g.KW)((function(){var e=null==Y?void 0:Y.selectedFilters.at(-1);ut&&e&&ee(e.id,!1)}),[ut,null==Y?void 0:Y.selectedFilters]);var dt=(0,h.W6)(Yn.ZU,{loadingValue:!1})&&(null==ke?void 0:ke.getCapabilities().canFetchAllItems),pt=(0,_.Q)({nrItems:50,fetch:ot,limit:50,cacheAllOnInvalidation:dt,cacheAllLimit:Xo}),mt=pt.fetchedId,ft=pt.getItems,vt=pt.nrValidItems,yt=pt.invalidateCache,bt=(0,v.y1)(yt,200,{leading:!0,trailing:!0,maxWait:1e3});Do(null==Y?void 0:Y.primaryFilter,bt);var St=!ve&&!mt||ve===mt;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(0,u.useRef)({});(0,u.useLayoutEffect)((function(){if(!e.current)return function(){};var i=e.current,r=n.current[t];i.scrollTop=null!=r?r:0;var a=function(){n.current[t]=i.scrollTop};return null==i||i.addEventListener("scroll",a),function(){null==i||i.removeEventListener("scroll",a)}}),[e,t])}(se,mt);var xt,Ot=(0,u.useCallback)((function(){yt(),we(!1)}),[yt]),wt=function(e){var t,n=(0,u.useState)(!1),i=(0,s.Z)(n,2),r=i[0],a=i[1];return(0,u.useEffect)((function(){var t;if(!window.IntersectionObserver)return function(){};var n=new window.IntersectionObserver((function(e){e.forEach((function(e){a(!e.isIntersecting)}))}),{root:e.current,rootMargin:"-100% 0px 0px 0px",threshold:0});return null!==(t=e.current)&&void 0!==t&&t.firstElementChild&&n.observe(e.current.firstElementChild),function(){n.disconnect()}}),[e]),r&&!(null===(t=e.current)||void 0===t||!t.scrollTop)}(se),Nt=(0,O.o)().isExpanded,_t=!(null==Y||!Y.openedFolderName),Et=(0,h.W6)(Yn.KK,{loadingValue:!1})&&dt,Ct=function(e,t,n){var i=Wr().isGridView,a=La().rowHeight;return(0,u.useCallback)(function(){var o=(0,r.Z)(c().mark((function r(o){var s,l,u,d,p,m,f,v,g;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l=a,u=1,i&&(m=null===(d=e.current)||void 0===d?void 0:d.querySelector('li[role="row"]'),l=null!==(p=null==m?void 0:m.getBoundingClientRect().height)&&void 0!==p?p:0,null!=m&&m.parentElement&&(u=getComputedStyle(m.parentElement).getPropertyValue("grid-template-columns").split(" ").length)),l){r.next=5;break}return r.abrupt("return",null);case 5:return f=n(0,Xo,{cachedOnly:!0}),v=f.find((function(e){return(null==e?void 0:e.name)&&(0,So.B)(o,e.name)})),-1!==(g=v?f.indexOf(v):-1)&&t.current&&xo(t.current,e.current,Math.floor(g/u)*l,l),r.abrupt("return",null!==(s=null==v?void 0:v.uri)&&void 0!==s?s:null);case 10:case"end":return r.stop()}}),r)})));return function(e){return o.apply(this,arguments)}}(),[e,t,a,n,i])}(ce,se,ft),Pt=Oe?(0,D.jsx)(ue,{onClick:Ot}):null;(0,u.useEffect)((function(){Oe&&_e&&Ce(xr.c.DEFAULT)}),[Oe,_e,Ce]),st&&!_e&&(xt=_t?(0,D.jsx)(z,{className:tt}):(0,D.jsx)(te,{className:tt}));var It=lt?(0,D.jsx)(oe,{query:G,className:tt}):null,jt=!_e&&!xt&&(0,D.jsxs)("div",{className:p()(Uo,tt),children:[(0,D.jsx)(no,{clearOnEscapeInElementRef:le,primaryFilter:null==Y?void 0:Y.primaryFilter,spec:Ue},ve),(0,D.jsx)(Xa,{sortOrders:null!==(d=null==Y?void 0:Y.availableSortOrders)&&void 0!==d?d:[],activeSortOrderId:null==Y||null===(f=Y.selectedSortOrder)||void 0===f?void 0:f.id,setActiveSortOrderId:ae,root:le.current,showReorderingOnboarding:(null==Y?void 0:Y.primaryFilter)===B.p.PLAYLIST&&!(null!=Y&&Y.reorderAllowed),spec:Ze})]}),At=Oe&&!Y,Tt=Ee&&!Pe&&!Pt&&!xt;return(0,D.jsx)(F,{containerRef:le,findMatchingTypeaheadUid:Ct,isEnabled:Et,children:(0,D.jsxs)(Te,{spec:je,children:[(0,D.jsx)(ho,{}),(0,D.jsx)(w._P,{menu:(0,D.jsx)(b.a,{position:{before:"start"}}),children:(0,D.jsxs)("div",Qo(Qo({className:p()(Fo,(S={},(0,a.Z)(S,rt,et===Ve.ON),(0,a.Z)(S,Mo,_e),(0,a.Z)(S,Lo,Nt),S)),ref:function(e){le.current=e,Re(e)}},nt),{},{tabIndex:-1,onDragStart:function(){return Qe(!0)},onDragEnd:function(){return Qe(!1)},children:[ze,(0,D.jsxs)("div",{className:p()((0,a.Z)({},Wo,wt)),children:[(0,D.jsx)(ha,{parentDropTargetClassName:tt,isLibraryCompletelyEmpty:st,folderUri:null==Y?void 0:Y.passedFolderUri,folderName:null==Y?void 0:Y.openedFolderName,spec:Fe.titleRowFactory()}),!_e&&!At&&(0,D.jsxs)("div",{className:zo,children:[(0,D.jsx)(gt,{selectedFilters:null==Y?void 0:Y.selectedFilters,availableFilters:null==Y?void 0:Y.availableFilters,toggleFilterId:ee,resetFilterIds:$,className:p()(Ho,(0,a.Z)({},Go,!St)),scrollNodeRef:se,spec:Le},mt),Ee&&jt]}),Tt&&(0,D.jsx)(Ae,{isScrolled:wt})]}),(0,D.jsx)(io.U,{className:Zo,ref:function(e){e&&!se.current&&(se.current=e.osInstance().getElements().viewport)},children:(0,D.jsx)(N.M,{containerRef:le,children:(0,D.jsxs)("div",{className:p()(Bo,(x={},(0,a.Z)(x,Go,!Oe&&!St),(0,a.Z)(x,Mo,_e),(0,a.Z)(x,Lo,Nt),(0,a.Z)(x,Vo,Tt),x)),children:[!Ee&&jt,Pt||xt||It,(0,D.jsx)("div",{ref:ce,children:Pe?(0,D.jsx)(yr,{getItems:ft,scrollNodeRef:se,primaryFilter:null==Y?void 0:Y.primaryFilter,nrValidItems:vt,spec:Be}):(0,D.jsx)(Ba,{getItems:ft,scrollNodeRef:se,primaryFilter:null==Y?void 0:Y.primaryFilter,nrValidItems:vt,spec:Be})})]})})}),_o(),(0,D.jsx)(U,{})]}))})]})})},ns=function(e){var t=e.npbVideoAdRef,n=(0,f.v9)((function(e){return e.session})).isAnonymous;return(0,D.jsx)(S.L,{onError:function(e){(0,j.vK)(e,"YourLibraryX")},children:(0,D.jsx)(ht.hz,{uri:"spotify:collection",children:(0,D.jsx)($n,{children:(0,D.jsx)(me,{children:(0,D.jsxs)(yt,{children:[(0,D.jsx)(ts,{}),(0,D.jsx)(x.Z,{isAnonymous:n,ref:t})]})})})})})}},86015:(e,t,n)=>{"use strict";n.d(t,{U:()=>i.U,c:()=>i.c});var i=n(48242)},51598:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var i=n(39130),r=n(59496);function a(){var e=(0,r.useState)(document.body.clientWidth),t=(0,i.Z)(e,2),n=(t[0],t[1]);return(0,r.useLayoutEffect)((function(){var e=function(){n(document.body.clientWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),document.body.clientWidth}},96692:(e,t,n)=>{"use strict";n.d(t,{a:()=>p.aN,O:()=>v});var i=n(39130),r=(n(62780),n(22369),n(162),n(90511),n(29543),n(70969),n(95675),n(84456),n(59496)),a=n(30999),o=n(10506),s=n(59272),l=n(76924),c=n(98328);const u="main-dragAndDrop-dndImageShelter",d="main-dragAndDrop-dndImage";var p=n(50703),m=n(4637),f=function(e){var t=e.text;return(0,m.jsx)(o.D,{variant:"ballad",dir:"auto",children:t})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,v=arguments.length>4?arguments[4]:void 0,g=(0,r.useContext)(l.Ci),h=g.setUris,k=g.setDropOriginUri,y=g.setSectionId;return function(r){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,S=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;r.defaultPrevented||h(l),k(v),y(S),window.addEventListener("click",(function(){document.body.removeAttribute("data-dragging-type"),document.body.removeAttribute("data-dragging-uri-type")}),{once:!0});var x=l.map((function(e){return(0,s.EC)(e)})).filter(c.K),O=x.map((function(e){return null==e?void 0:e.toURL()}));if(0===x.length||r.metaKey)r.preventDefault();else{r.dataTransfer.setData("text/x-spotify-context",b),r.dataTransfer.setData("text/uri-list",O.join("\n")),r.dataTransfer.setData("text/plain",O.join("\n")),r.dataTransfer.setData("text/x-spotify-section","".concat(S||0));var w={};x.forEach((function(e){var t,n=p.aN[e.type];null!==(t=w[n])&&void 0!==t||(w[n]=[]),w[n].push(e.toURI())})),document.body.setAttribute("data-dragging-type",Object.keys(w).join(" ")),document.body.setAttribute("data-dragging-uri-type",Object.keys(w).filter(p.Fu).map((function(e){return p.UD[e]})).join(" ")),Object.entries(w).forEach((function(e){var t=(0,i.Z)(e,2),n=t[0],a=t[1];r.dataTransfer.setData(n,a.join("\n"))}));var N=(0,a.renderToString)((0,m.jsx)(f,{text:g}));if("function"==typeof r.dataTransfer.setDragImage){var _=function(e){var t=document.createElement("p");t.className=d,t.innerHTML=e;var n=document.createElement("div");return n.className=u,document.body.appendChild(t),document.body.appendChild(n),{element:t,remove:function(){requestAnimationFrame((function(){t.parentNode&&t.parentNode.removeChild(t),n.parentNode&&n.parentNode.removeChild(n)}))}}}(N);r.dataTransfer.setDragImage(_.element,0,0),_.remove()}}}}},80274:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var i=n(83014),r=(n(83001),n(22369),n(27639),n(99024),n(71756),n(30246),n(69109),n(9102)),a=n(60808),o=0,s=new WeakMap,l=function(e,t,n){var l=s.has(e)?s.get(e):s.set(e,++o).get(e),c=["useEndpoint",e.name,l,t],u=(0,r.useQuery)(c,(function(){return e.apply(void 0,[a.b.getInstance()].concat((0,i.Z)(t||[])))}),{cacheTime:null==n?void 0:n.cacheTime,staleTime:null==n?void 0:n.staleTime,enabled:null==n?void 0:n.enabled}),d=u.isLoading,p=u.error,m=u.data;return{data:null!=m?m:null,error:p,loading:d,queryKey:c}}},18210:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,e:()=>i});n(90511),n(162),n(62780),n(22369),n(69109),n(92346);var i={SMALL:192,BIG:232},r={small:{width:64,height:64},standard:{width:300,height:300},large:{width:640,height:640},xlarge:{width:1280,height:1280}};function a(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map(o),n=t.filter((function(e){return e.width>=i.SMALL&&e.url})).sort((function(e,t){return e.width-t.width}));return n.length?n:t}(e),n=t[0],r=(null==n?void 0:n.url)||null;return r?[r,t.filter((function(e){var t=e.url,n=e.width;return t&&n})).map((function(e){var t=e.url,n=e.width;return"".concat(t," ").concat(n/2,"w, ").concat(t," ").concat(n,"w")})).join(", "),"(min-width: 1280px) ".concat(i.BIG,"px, ").concat(i.SMALL,"px")]:[]}function o(e){if(!e.label)return e;var t=r[e.label],n=t.width,i=t.height;return{url:e.url,width:n,height:i}}},31895:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});n(59538),n(79611);var i=n(94152),r=function(){var e=(0,i.tc)();if(null===e)throw new Error("Trying to use 'PlatformContext' without 'PlatformProvider'!");return e.getHistory()}},98335:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var i=n(61740),r=n(59272),a=n(17249),o=n(64),s=n(37146),l=function(e){var t,n=e.type,l=e.uri,c=(0,i.v9)(s.br),u=(0,i.v9)(s.yE);if(void 0===l)return!1;var d=a.ag.getUrlLocale(),p=""===l?l:null===(t=(0,r.EC)(l))||void 0===t?void 0:t.type;return(0,o.S9)({localeFeatureFlag:c,entityFeatureFlag:u,urlLocale:d,entity:p,type:n})}},90775:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var i=n(59496),r=n(61740),a=n(41177),o=n(87164),s=(n(69109),n(62780),n(22369),n(16366),n(35019),function(e,t){return function(n){var i=n.intent,r=n.type,a=n.targetUri,o=n.itemIdSuffix,s=n.pathNameOverride,l=o?"".concat(t,"/").concat(o):t,c=s||e;return{page:c.split(/\//).filter((function(e){return""!==e})).shift(),view_uri:c,action_intent:i,action_type:r,target_uri:a,item_id:l}}}),l=n(11595);function c(){var e=(0,i.useContext)(o.H8),t=(0,r.I0)(),n=(0,a.TH)().pathname;return(0,i.useCallback)((function(i){var r=s(n,e);t((0,l._)(r(i)))}),[t,n,e])}},41583:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});n(94562);var i=n(59496),r=function(e,t){var n=(0,i.useRef)(e);(0,i.useEffect)((function(){n.current=e}),[e]),(0,i.useEffect)((function(){var e=void 0;function i(){e&&clearInterval(e)}if(null!==t)return e=setInterval((function(){n.current(i)}),t),i}),[t])}},6034:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var i=n(61740),r=n(29893),a=function(){return(0,i.v9)(r.Gg).isAnonymous}},8990:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(61740),r=function(){return(0,i.v9)((function(e){var t;return null===(t=e.platform)||void 0===t?void 0:t.isBrowser}))}},871:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var i=n(61740),r=n(38674),a=n(10785),o=n(29893),s=function(){var e=(0,r.W6)(a.wy,{loadingValue:!1}),t=(0,i.v9)(o.OA);return e&&t}},19174:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var i=n(76956),r=n(48850),a=n(71163);function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,a._)(e),s=(0,i.k)(),l=o===r.Om.YES;return t&&(s||l||n)}},3643:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var i=n(61740);function r(){return(0,i.v9)((function(e){var t,n;return null===(t=e.ui)||void 0===t||null===(n=t.textDirection)||void 0===n?void 0:n.isRTL}))}},59927:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var i=n(39130),r=n(61740),a=n(59272),o=n(19873),s=n(76956),l=n(29893),c=function(e){var t,n=(0,o.Z)(e),c=(0,i.Z)(n,1)[0],u=(0,s.k)(),d=(0,r.v9)(l.n5);return!u&&c?(0,a.zJ)(d,null===(t=(0,a.EC)(e))||void 0===t?void 0:t.id).toURI():e}},76956:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});n(59538),n(79611);var i=n(59496),r=n(80924),a=function(){var e=(0,i.useContext)(r.n);if(null===e)throw new Error("Trying to use 'OfflineContext' without 'OfflineStatusProvider'!");return e.online}},25310:(e,t,n)=>{"use strict";n.d(t,{e:()=>m});var i=n(31588);const r="(min-width: 0px)",a="(min-width: 0px) and (max-width: 767px)",o="(min-width: 768px)",s="(min-width: 768px) and (max-width: 1023px)",l="(min-width: 1024px)",c="(min-width: 1024px) and (max-width: 1279px)",u="(min-width: 1280px)",d="(min-width: 1280px) and (max-width: 1919px)",p="(min-width: 1920px)";var m=function(){return{isXS:(0,i.a)(r),isXSOnly:(0,i.a)(a),isSM:(0,i.a)(o),isSMOnly:(0,i.a)(s),isMD:(0,i.a)(l),isMDOnly:(0,i.a)(c),isLG:(0,i.a)(u),isLGOnly:(0,i.a)(d),isXL:(0,i.a)(p)}}},96454:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});n(29543),n(22369),n(70969),n(62780);var i=n(59496);function r(e){return(0,i.useCallback)((function(t){null!==t&&void 0!==t.getAnimations&&t.getAnimations({subtree:!0}).filter((function(t){return t instanceof CSSAnimation&&t.animationName===e&&"running"===t.playState})).forEach((function(e){return e.startTime=0}))}),[e])}},85358:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var i=n(59496),r=n(61740),a=n(48472),o=n(45044),s=function(e){var t=(0,r.I0)();return(0,i.useCallback)((function(n,i){return(0,o.T)({hide:function(){return t((0,a.Xe)())},show:function(){return t((0,a.TB)(n,i))},msTimeout:e})}),[e,t])}},80487:(e,t,n)=>{"use strict";n.d(t,{a:()=>u,z:()=>d});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(96268),r=n(45389),a=n(59496),o=n(41177),s=n(78742);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(){var e,t,n=(0,o.TH)(),i=(0,s.g)();null!==(e=n.state)&&void 0!==e&&e.referrer?i.setReferrer(null===(t=n.state)||void 0===t?void 0:t.referrer):n.state=c(c({},n.state),{},{referrer:i.getReferrer()})},d=function(e){var t=(0,s.g)(),n=(0,o.TH)();(0,a.useEffect)((function(){t.setReferrer(e),n.state=c(c({},"object"===(0,i.Z)(n.state)?n.state:{}),{},{referrer:e})}),[n,t,e])}},628:(e,t,n)=>{"use strict";n.d(t,{Gt:()=>r,Hp:()=>i,XJ:()=>s,Yk:()=>c,b8:()=>o,gq:()=>a,q1:()=>l});var i={DISMISS_IN_APP_MESSAGE:"DISMISS_IN_APP_MESSAGE",PREVIEW_IN_APP_MESSAGE:"PREVIEW_IN_APP_MESSAGE",SET_IN_APP_MESSAGING_ENV:"SET_IN_APP_MESSAGING_ENV",SHOW_IN_APP_MESSAGE:"SHOW_IN_APP_MESSAGE",SHOW_PREVIEW_TOOL:"SHOW_PREVIEW_TOOL",TRIGGER_APP_START_IN_APP_MESSAGE:"TRIGGER_APP_START_IN_APP_MESSAGE"};function r(){return{type:i.TRIGGER_APP_START_IN_APP_MESSAGE}}function a(e){return{type:i.SHOW_IN_APP_MESSAGE,message:e}}function o(){return{type:i.DISMISS_IN_APP_MESSAGE}}function s(e,t){return{type:i.PREVIEW_IN_APP_MESSAGE,creativeId:e,appUri:t}}function l(e){return{type:i.SET_IN_APP_MESSAGING_ENV,env:e}}function c(e){return{type:i.SHOW_PREVIEW_TOOL,show:e}}},39421:(e,t,n)=>{"use strict";var i=n(39130),r=n(8850),a=n(10995),o=n.n(a),s=(n(83001),n(22369),n(8760),n(27639),n(71756),n(162),n(29543),n(70969),n(95675),n(45880),n(69109),n(82088),n(9596)),l=n(87995),c=n(61525),u=n(94016),d=n(12162),p=n(91480),m=n(65937),f=n(59272),v=n(17249),g=n(4626),h=(n(40265),n(16366),n(74553),n(5538),n(47900)),k=n(33863),y={version:"1.1.64.510",date:new Date(2021,6,20)};function b(){if((0,h.ZO)()!==k.W.Desktop)return!0;var e,t,n,r=(n=window.navigator.userAgent.match(h.c6),null!==(e=null==n||null===(t=n.groups)||void 0===t?void 0:t.version)&&void 0!==e?e:null);if(!r)return!0;var a,o=function(e){var t=y.version.split(".")[2],n=e.split("."),r=(0,i.Z)(n,3),a=r[1],o=r[2];if("1"!==a)return new Date;var s=parseInt(t,10),l=parseInt(o,10);if(isNaN(l))return new Date;var c=l-s,u=new Date(y.date.getTime());return u.setDate(u.getDate()+14*c),u}(r);return a=o,((new Date).getTime()-a.getTime())/864e5<30}var S=n(29247),x=(n(82),n(38366)),O=n(65481),w=n(71235),N=n(20959),_=n(83014),E=n(27915),C=n(92449),P=n(45389),I=n(21206),j=n(27706),A="ui-panel-state",T=function(e){switch(e){case j.s.NowPlayingView:return j.s.NowPlayingView;case j.s.WhatsNewFeed:return j.s.WhatsNewFeed;default:return j.s.Disabled}},D=function(){function e(t){(0,E.Z)(this,e),(0,P.Z)(this,"listeners",[]),this.localStorageAPI=t}var t;return(0,C.Z)(e,[{key:"_getPanelFromLocalStorage",value:function(){return T(this.localStorageAPI.getItem(A))}},{key:"getLastCachedPanelState",value:function(){return this._getPanelFromLocalStorage()}},{key:"subscribeToPanelState",value:function(e){this.listeners=[].concat((0,_.Z)(this.listeners),[e]);var t=this.localStorageAPI.getEvents(),n=function(t){t.data.key===A&&e(T(t.data.value))};return t.addListener(I.u.UPDATE,n),e(this._getPanelFromLocalStorage()),function(){t.removeListener(I.u.UPDATE,n)}}},{key:"setPanelState",value:(t=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorageAPI.setItem(A,t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),R=(n(89620),n(41860));var F=function(){function e(t,n,i,r){(0,E.Z)(this,e),this.storage=t,this.storageKey=n,this.playerApi=i,this.libraryApi=r}return(0,C.Z)(e,[{key:"executeAction",value:function(e,t){var n;(function(e,t){return e===R.gi&&!!t}(e,t)&&this.playerApi.play(t.context,t.origin,t.options),function(e,t){return e===R.wH&&!!t}(e,t))&&(n=this.libraryApi).add.apply(n,(0,_.Z)(t.uris))}},{key:"triggerActions",value:function(){var e=this.storage.getItem(this.storageKey);if(e){this.cleanActions();try{var t=JSON.parse(e);if(!function(e){return!!(e&&e.key&&e.action)}(t))return;this.executeAction(t.key,t.action)}catch(e){return}}}},{key:"storeAction",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],r=t[1];this.storage.setItem("PLAY_AT_FIRST_TAP_HAD_DEFERRED_ACTIONS",JSON.stringify(!0)),this.storage.setItem(this.storageKey,JSON.stringify({key:i,action:r}))}},{key:"cleanActions",value:function(){this.storage.removeItem(this.storageKey)}}]),e}(),L=n(2708),M=function(){function e(){(0,E.Z)(this,e)}var t,n;return(0,C.Z)(e,[{key:"copy",value:(n=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,L.v)(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"paste",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),U=n(58583),Z=(n(3270),n(14863),n(41337),n(46743),n(72835),n(81289),n(59538),n(79611),n(72304),n(63691),n(32953)),B="".concat(Z.XA,"/collection/v2");function V(e,t,n,i){return e.build().withHost(B).withPath("/write").withMethod("POST").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withResponseType("json").withBody(JSON.stringify({username:t,set:n,items:i.map((function(e){return{uri:e}}))})).withEndpointIdentifier("/collection/v2/add").send()}function H(e,t,n,i){return e.build().withHost(B).withPath("/write").withMethod("POST").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withResponseType("json").withBody(JSON.stringify({username:t,set:n,items:i.map((function(e){return{uri:e,is_removed:!0}}))})).withEndpointIdentifier("/collection/v2/remove").send()}function G(e,t,n,i){return e.build().withHost(B).withPath("/contains").withMethod("POST").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withResponseType("json").withBody(JSON.stringify({username:t,set:n,items:i.map((function(e){return{uri:e}}))})).withEndpointIdentifier("/collection/v2/contains").send()}var W,z=n(23637),K=function(){function e(t,n,i){(0,E.Z)(this,e),(0,P.Z)(this,"events",new z.yF),this._builder=t,this._transport=n,this._username=i,this._subscribeToCollectionChangedMessages()}var t,n,i;return(0,C.Z)(e,[{key:"_subscribeToCollectionChangedMessages",value:function(){var e=this;if(this._username){var t=new RegExp(String.raw(W||(W=(0,U.Z)(["hm://collection/([^/]*)/[^/]*/json"]))));this._transport.matchMessages(t,(function(n){var i,r=n.payloads,a=n.uri;if(void 0!==r&&0!==r.length){var o=null===(i=a.match(t))||void 0===i?void 0:i[1];if(o&&(0,z.XC)(o)){var s=JSON.parse(r[0]).items.reduce((function(e,t){var n=t.type,i=t.identifier,r=t.removed,a="spotify:".concat(n,":").concat(i);return r?e.removed.push(a):e.added.push(a),e}),{added:[],removed:[]}),l=s.added,c=s.removed;l.length&&e.events.emit(z.zy.ADDED,{set:o,uris:l,source:"server"}),c.length&&e.events.emit(z.zy.REMOVED,{set:o,uris:c,source:"server"})}}}),m.DEALER_PLUGIN_NAME)}}},{key:"getEvents",value:function(){return this.events}},{key:"add",value:(i=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._username){e.next=2;break}throw new Error("Username is required");case 2:return e.next=4,V(this._builder,this._username,t,n);case 4:this.events.emit(z.zy.ADDED,{set:t,uris:n,source:"client"});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"remove",value:(n=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._username){e.next=2;break}throw new Error("Username is required");case 2:return e.next=4,H(this._builder,this._username,t,n);case 4:this.events.emit(z.zy.REMOVED,{set:t,uris:n,source:"client"});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"contains",value:(t=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._username){e.next=2;break}throw new Error("Username is required");case 2:return e.next=4,G(this._builder,this._username,t,n);case 4:return i=e.sent,e.abrupt("return",i.body.found);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"subscribeContains",value:function(e,t,n){var i=this,r=[];this.contains(e,t).then((function(e){r=e,n(e)}));var a=function(i){var a=i.data,o=a.set,s=a.uris;e===o&&(s.some((function(e){var n=t.indexOf(e);return!1===r[n]}))&&(s.forEach((function(e){var n=t.indexOf(e);-1!==n&&(r[n]=!0)})),n(r)))},o=function(i){var a=i.data,o=a.set,s=a.uris;e===o&&(s.some((function(e){var n=t.indexOf(e);return!0===r[n]}))&&(s.forEach((function(e){var n=t.indexOf(e);-1!==n&&(r[n]=!1)})),n(r)))};return this.events.addListener(z.zy.ADDED,a),this.events.addListener(z.zy.REMOVED,o),function(){i.events.removeListener(z.zy.ADDED,a),i.events.removeListener(z.zy.REMOVED,o)}}}]),e}(),Y=n(55413),q=function(){function e(){(0,E.Z)(this,e)}return(0,C.Z)(e,[{key:"enableMenuItem",value:function(){return Promise.resolve()}},{key:"disableMenuItem",value:function(){return Promise.resolve()}},{key:"setTitlebarHeight",value:function(){return Promise.resolve()}},{key:"notifyUsableStateReached",value:function(){return Promise.resolve()}},{key:"notifyReadyStateReached",value:function(){return Promise.resolve()}},{key:"notifyViewLoaded",value:function(){return Promise.resolve()}},{key:"getEvents",value:function(){return new Y.z}}]),e}(),Q=(n(39723),n(21861),n(35391)),J=n(23011),X=n(61899),$=(n(52040),n(58944),n(96807),n(89576)),ee=n(75720),te=n(64234);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var ie=function(e){(0,Q.Z)(a,e);var t,n,i=ne(a);function a(e){var t;return(0,E.Z)(this,a),(t=i.call(this,e)).webAudioFilters=[],t}return(0,C.Z)(a,[{key:"setEnabledState",value:function(e){var t=this;this.localStorageAPI.setItem(ee.K,e);var n=function(e,n){t.webAudioFilters[n]&&(t.webAudioFilters[n].gain.value=e.gain)};e?this.filters.forEach(n):te.PG.flat.filters.forEach(n)}},{key:"getEnabledState",value:function(){var e=this.localStorageAPI.getItem(ee.K);return!(e instanceof Error)&&e}},{key:"subscribeToEnabledState",value:function(e){var t=this.localStorageAPI.getItem(ee.K);e(!(t instanceof Error)&&t);var n=function(t){t.data.key===ee.K&&e(t.data.value)},i=this.localStorageAPI.getEvents();return i.addListener(I.u.UPDATE,n),function(){i.removeListener(I.u.UPDATE,n)}}},{key:"connectAudioProcessor",value:function(e){var t=this,n=new AudioContext({latencyHint:"playback"}),i=n.createMediaElementSource(e);this.webAudioFilters=this.filters.map((function(e,i){var r=n.createBiquadFilter();return r.frequency.value=e.frequency,0===i?r.type="lowshelf":i===t.filters.length-1?r.type="highshelf":(r.type="peaking",r.Q.value=5),r.gain.value=e.gain,r})),this.webAudioFilters.reduce((function(e,t){return e.connect(t),t}),i).connect(n.destination),document.addEventListener("click",(function(){n.resume()}),{once:!0})}},{key:"setFilterGain",value:(n=(0,r.Z)(o().mark((function e(t,n){var i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Math.max(-te.l5,Math.min(n,te.l5)),r=this.filters.findIndex((function(e){return e.key===t})),this.webAudioFilters[r]&&(this.webAudioFilters[r].gain.value=i),this.filters[r].gain=i;case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getFilters",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.filters);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isSupported",value:function(){return"AudioContext"in window}}]),a}($.t),re=n(74772),ae=n(76872);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var se={show_connect_option:!1,connection:!1},le=function(e){(0,Q.Z)(n,e);var t=oe(n);function n(){var e;return(0,E.Z)(this,n),(e=t.call(this)).onAddListener(ae.D.CONNECTION_STATE_CHANGE,(function(e){e.data.listener(new re.B(ae.D.CONNECTION_STATE_CHANGE,se)),e.preventDefault()})),e}return(0,C.Z)(n,[{key:"connect",value:function(){return Promise.resolve(se)}},{key:"disconnect",value:function(){return Promise.resolve(se)}}]),n}(ae.Z),ce=n(29761),ue=n(29196),de=n(30697),pe=n(19496),me=n.n(pe),fe=function(){function e(){(0,E.Z)(this,e)}var t,n,i;return(0,C.Z)(e,[{key:"getVersionInfo",value:(i=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=me().parse(navigator.userAgent),e.abrupt("return",{containerVersion:t.browser.version||"unknown",containerBuildType:"unknown",containerPlatform:"unknown",uiVersion:"xpui_2023-06-05_1685977752132_a588f74",cefVersion:"unknown"});case 2:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"subscribe",value:function(){return{cancel:function(){}}}},{key:"prepareUpdate",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"applyUpdate",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload();case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ve=n(39978),ge=n(85464);var he=function(e,t){return[(0,ge.jx)(e),(0,ge.UR)({version:"xpui_2023-06-05_1685977752132_a588f74"}),(0,ge.Mb)(),(0,ge.sr)(t)]},ke=function(e,t,n,i,r,a){var o=(0,ve.mi)({transport:e,suppressPersist:false,context:he(t,n),storagePrefix:r,ownerProvider:i,useOptimizedESS2NA:a});return o},ye=n(43665),be=n(11762);function Se(e,t,n){return Math.min(Math.max(e,t),n)}var xe=n(68976),Oe="playback",we=.0625,Ne=function(){function e(t){var n=this;(0,E.Z)(this,e),(0,P.Z)(this,"_volume",null),(0,P.Z)(this,"_remoteVolume",null),this._harmony=t,this._events=new xe.N,this._events.addListener(xe.r.VOLUME,(function(e){var t=e.data,i=t.volume,r=t.isLocal;n._volume=i||0,r&&function(e){try{localStorage.setItem(Oe,JSON.stringify({volume:e}))}catch(e){}}(i)})),this._harmony.addListener(be.ih.VOLUME_CHANGED,(function(e){var t=e.data,i=t.volume,r=t.remote;n._events.emit(xe.r.VOLUME,{volume:i,isLocal:!r})})),this._harmony.addListener(be.ih.LAST_ACTIVE_DEVICE_INFO_CHANGED,(function(e){var t=e.data.deviceInfo;if(null!==t){var i=n._remoteVolume!==t.volume;i&&!t.local&&(n._remoteVolume=t.volume||0,n._events.emit(xe.r.VOLUME,{volume:n._remoteVolume,isLocal:!1})),null!==n._remoteVolume&&i&&t.local&&(n._remoteVolume=null,n._events.emit(xe.r.VOLUME,{volume:t.volume,isLocal:!0}))}}))}var t,n,i,a,s,l;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canChangeVolume:!0,canGetPlaybackInfo:!1,canGetFiles:!1,puffinEnabled:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getVolume",value:(l=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.getVolume();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"setVolume",value:(s=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(t,0,1),e.next=3,this._harmony.setVolume(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"raiseVolume",value:(a=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._volume){e.next=3;break}return e.next=3,this.setVolume(this._volume+we);case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"lowerVolume",value:(i=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._volume){e.next=3;break}return e.next=3,this.setVolume(this._volume-we);case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getPlaybackInfo",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getFiles",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented!");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getDevices",value:function(){throw new Error("Method not implemented.")}},{key:"getCurrentDevice",value:function(){throw new Error("Method not implemented.")}},{key:"setCurrentDevice",value:function(){throw new Error("Method not implemented.")}},{key:"getFiltersEvents",value:function(){throw new Error("Method not implemented.")}},{key:"getSavedDevices",value:function(){throw new Error("Method not implemented.")}},{key:"removeSavedDevice",value:function(){throw new Error("Method not implemented.")}}]),e}(),_e=n(81302),Ee=.0625,Ce=function(){function e(t){var n=this;(0,E.Z)(this,e),(0,P.Z)(this,"_volume",null),this._overture=t,this._events=new xe.N,this._events.addListener(xe.r.VOLUME,(function(e){var t=e.data.volume;n._volume=t})),this._overture.addListener(_e.oQ.VOLUME_CHANGED,(function(e){var t=e.data;n._events.emit(xe.r.VOLUME,{volume:t.volume,isLocal:!0})}))}var t,n,i,a,s,l;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canChangeVolume:!0,canGetPlaybackInfo:!1,canGetFiles:!1,puffinEnabled:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getVolume",value:(l=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._overture.getVolume();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"setVolume",value:(s=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(t,0,1),e.next=3,this._overture.setVolume(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"raiseVolume",value:(a=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._volume){e.next=3;break}return e.next=3,this.setVolume(this._volume+Ee);case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"lowerVolume",value:(i=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._volume){e.next=3;break}return e.next=3,this.setVolume(this._volume-Ee);case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getPlaybackInfo",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getFiles",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented!");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getDevices",value:function(){throw new Error("Method not implemented.")}},{key:"getCurrentDevice",value:function(){throw new Error("Method not implemented.")}},{key:"setCurrentDevice",value:function(){throw new Error("Method not implemented.")}},{key:"getFiltersEvents",value:function(){throw new Error("Method not implemented.")}},{key:"getSavedDevices",value:function(){throw new Error("Method not implemented.")}},{key:"removeSavedDevice",value:function(){throw new Error("Method not implemented.")}}]),e}();n(4302),n(66469),n(30246);function Pe(){var e=me().getParser(window.navigator.userAgent).getBrowserName();return"Web Player (".concat(e,")")}function Ie(e){var t=me().getParser(window.navigator.userAgent),n=function(e){switch(e){case"macOS":return"osx";case"Chrome OS":return"chrome";default:return e}}(t.getOSName()||"not_applicable"),i=function(e,t){if("Windows"===e)switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return""}return t}(n,t.getOSVersion()),r=t.getBrowserName(),a=t.getBrowserVersion();return"web_player ".concat(n," ").concat(i,";").concat(r," ").concat(a,";").concat(e).toLowerCase()}function je(){var e=me().getParser(window.navigator.userAgent);return e.satisfies({chrome:">=37",firefox:">=47",safari:">=13.1",edge:">=79"})||e.getUA().includes("Spotify")}var Ae=null;function Te(e,t){var n="Safari"===me().parse(window.navigator.userAgent).browser.name;return Ae=(0,be.BE)({transport:e,client:{descriptor:{id:null,randomizeId:!0,name:Pe(),brand:"spotify",model:"web_player",platform_identifier:t.platformIdentifier,capabilities:{video_playback:je()}}},streamer:{disallowRobustnessValues:[be.nA.EMPTY],cubicVolume:!0,videoPlayerContainer:t.videoPlayerContainer,disableMux:n,createPlayer:t.createPlayer},controller:{decorateTrackWindow:!0},claimInactivePlayerStates:!0,onlyLocalState:!1})}n(87859),n(40274);var De,Re=n(24122),Fe=n(15520),Le=(n(96669),n(61235),n(62780),n(7845),n(66715),n(30479),n(75341),n(83474)),Me=n(55590);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t){var n=t.shuffle;return(void 0!==n||!(0,f.RS)(e.uri))&&n}function Ve(e,t){var n=t.repeat;if(void 0===n&&(0,f.RS)(e.uri))return be.zq.OFF;switch(n){case Re.zq.REPEAT_NONE:return be.zq.OFF;case Re.zq.REPEAT_CONTEXT:return be.zq.CONTEXT;case Re.zq.REPEAT_TRACK:return be.zq.TRACK;default:return}}function He(e,t,n){var i,r,a,o,s,l,c;return{contextURI:e.uri,trackUID:null===(i=n.skipTo)||void 0===i?void 0:i.uid,trackURI:null===(r=n.skipTo)||void 0===r?void 0:r.uri,index:null===(a=n.skipTo)||void 0===a?void 0:a.index,pageIndex:null===(o=n.skipTo)||void 0===o?void 0:o.pageIndex,initialOffset:n.seekTo,shuffle:Be(e,n),repeatMode:Ve(e,n),filter:null===(s=e.metadata)||void 0===s?void 0:s[Re.sb.FILTERING_PREDICATE],sort:null===(l=e.metadata)||void 0===l?void 0:l[Re.sb.SORTING_CRITERIA],playOrigin:(c=t,{featureIdentifier:c.featureIdentifier,featureVersion:c.featureVersion,referrerIdentifier:c.referrerIdentifier,viewURI:c.viewURI,externalReferrer:c.externalReferrer}),paused:n.paused,loggingParams:n.loggingParams}}var Ge=new RegExp(String.raw(De||(De=(0,U.Z)(["^q[0-9]+$"]))));function We(e,t,n){var i,r=!!e.uid&&Ge.test(e.uid),a=null!=n?n:r?"queue":null;return(0,f.wj)(e.uri)||(0,f.dB)(e.uri)?function(e,t,n){var i,r,a,o,s,l,c,u,d,p,m,v,g;return{type:Le.p.TRACK,uri:null!==(i=t.linked_from)&&void 0!==i&&i.uri?t.linked_from.uri:t.uri,uid:null!==(r=t.uid)&&void 0!==r?r:null,name:null!==(a=t.name)&&void 0!==a?a:"",mediaType:null!==(o=t.track_type)&&void 0!==o?o:"audio",duration:{milliseconds:null!==(s=t.duration_ms)&&void 0!==s?s:0},album:{type:Le.p.ALBUM,uri:null!==(l=null===(c=t.album)||void 0===c?void 0:c.uri)&&void 0!==l?l:"",name:null!==(u=null===(d=t.album)||void 0===d?void 0:d.name)&&void 0!==u?u:"",images:null!==(p=null===(m=t.album)||void 0===m?void 0:m.images)&&void 0!==p?p:[]},artists:null!==(v=null===(g=t.artists)||void 0===g?void 0:g.map((function(e){var t=e.uri,n=e.name;return{type:Le.p.ARTIST,uri:t,name:n||""}})))&&void 0!==v?v:[],isLocal:(0,f.dB)(t.uri),provider:e,metadata:n,get images(){return this.album.images}}}(a,e,t):(0,f.hn)(e.uri)?"true"===(null==t?void 0:t.is_audiobook_chapter)?function(e,t,n){var i,r,a,o,s,l,c,u,d,p;return{type:Le.p.CHAPTER,uri:t.uri,uid:null!==(i=t.uid)&&void 0!==i?i:null,name:null!==(r=t.name)&&void 0!==r?r:"",mediaType:null!==(a=t.track_type)&&void 0!==a?a:"audio",duration:{milliseconds:null!==(o=t.duration_ms)&&void 0!==o?o:0},book:{type:Le.p.AUDIOBOOK,uri:null!==(s=null===(l=t.album)||void 0===l?void 0:l.uri)&&void 0!==s?s:"",name:null!==(c=null===(u=t.album)||void 0===u?void 0:u.name)&&void 0!==c?c:"",images:null!==(d=null===(p=t.album)||void 0===p?void 0:p.images)&&void 0!==d?d:[]},provider:e,metadata:n,get images(){return this.book.images}}}(a,e,t):function(e,t,n){var i,r,a,o,s,l,c,u,d,p;return{type:Le.p.EPISODE,uri:t.uri,uid:null!==(i=t.uid)&&void 0!==i?i:null,name:null!==(r=t.name)&&void 0!==r?r:"",mediaType:null!==(a=t.track_type)&&void 0!==a?a:"audio",duration:{milliseconds:null!==(o=t.duration_ms)&&void 0!==o?o:0},show:{type:Le.p.SHOW,uri:null!==(s=null===(l=t.album)||void 0===l?void 0:l.uri)&&void 0!==s?s:"",name:null!==(c=null===(u=t.album)||void 0===u?void 0:u.name)&&void 0!==c?c:"",images:null!==(d=null===(p=t.album)||void 0===p?void 0:p.images)&&void 0!==d?d:[]},provider:e,metadata:n,get images(){return this.show.images}}}(a,e,t):(0,f.mg)(e.uri)?function(e,t,n){var i,r,a,o,s,l,c,u,d,p;return{type:Le.p.AD,uri:t.uri,uid:null!==(i=t.uid)&&void 0!==i?i:null,title:null!==(r=t.name)&&void 0!==r?r:null,advertiser:null!==(a=null===(o=t.artists)||void 0===o?void 0:o[0].name)&&void 0!==a?a:null,url:null!==(s=null===(l=t.artists)||void 0===l?void 0:l[0].uri)&&void 0!==s?s:null,id:null,mediaType:null!==(c=t.track_type)&&void 0!==c?c:"audio",duration:{milliseconds:null!==(u=t.duration_ms)&&void 0!==u?u:0},images:null!==(d=null===(p=t.album)||void 0===p?void 0:p.images)&&void 0!==d?d:[],isPodcastAd:!1,isSkippableAd:!1,isTestAd:!1,provider:e,metadata:n}}(a,e,t):Ze(Ze({},Re.F3),{},{uri:e.uri,uid:null!==(i=e.uid)&&void 0!==i?i:null,provider:a})}function ze(e){switch(e){default:case be.zq.OFF:return Re.zq.REPEAT_NONE;case be.zq.CONTEXT:return Re.zq.REPEAT_CONTEXT;case be.zq.TRACK:return Re.zq.REPEAT_TRACK}}function Ke(e){switch(e){case be.cJ.DEFAULT:case be.cJ.UNKNOWN:case void 0:return{bitrateLevel:Re.M4.UNKNOWN};case be.cJ.LOW:return{bitrateLevel:Re.M4.LOW};case be.cJ.NORMAL:return{bitrateLevel:Re.M4.NORMAL};case be.cJ.HIGH:return{bitrateLevel:Re.M4.HIGH};case be.cJ.VERY_HIGH:return{bitrateLevel:Re.M4.VERY_HIGH};case be.cJ.HIFI:return{bitrateLevel:Re.M4.HIFI};default:return(0,Me.U)(e)}}function Ye(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return Re.Fd.includes(e)?e:"unknown"}))}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var Qe=function(e){(0,Q.Z)(n,e);var t=qe(n);function n(e){var i;return(0,E.Z)(this,n),(i=t.call(this))._harmony=e,i._harmony.addListener(be.ih.STATE_CHANGED,(function(e){var t=e.data.state;i.emit(Fe.rg.UPDATE,function(e){var t;if(null===e)return null;var n,i,r,a,o,s,l,c,u,d,p,m,f,v,g,h,k,y,b,S,x=null!==e.context.uri,O=null!==e.track_window.current_track;return{sessionId:"",timestamp:e.timestamp,context:{uri:null!==(t=e.context.uri)&&void 0!==t?t:"",metadata:e.context.metadata},index:{pageURI:null,pageIndex:null,itemIndex:null},item:(S=e.track_window.current_track,null===S?null:We(S)),shuffle:e.shuffle,repeat:ze(e.repeat_mode),speed:e.paused?0:1,playbackQuality:Ke(e.playback_quality),playbackId:null,positionAsOfTimestamp:e.position,duration:e.duration,restrictions:(n=e.restrictions,i=n.disallow_pausing_reasons,r=void 0===i?[]:i,a=n.disallow_resuming_reasons,o=void 0===a?[]:a,s=n.disallow_seeking_reasons,l=void 0===s?[]:s,c=n.disallow_skipping_prev_reasons,u=void 0===c?[]:c,d=n.disallow_skipping_next_reasons,p=void 0===d?[]:d,m=n.disallow_toggling_repeat_context_reasons,f=void 0===m?[]:m,v=n.disallow_toggling_repeat_track_reasons,g=void 0===v?[]:v,h=n.disallow_toggling_shuffle_reasons,k=void 0===h?[]:h,y=n.disallow_transferring_playback_reasons,b=void 0===y?[]:y,{canPause:0===r.length,canResume:0===o.length,canSeek:0===l.length,canSkipPrevious:0===u.length,canSkipNext:0===p.length,canToggleRepeatContext:0===f.length,canToggleRepeatTrack:0===g.length,canToggleShuffle:0===k.length,disallowPausingReasons:Ye(r),disallowResumingReasons:Ye(o),disallowSeekingReasons:Ye(l),disallowSkippingPreviousReasons:Ye(u),disallowSkippingNextReasons:Ye(p),disallowTogglingRepeatContextReasons:Ye(f),disallowTogglingRepeatTrackReasons:Ye(g),disallowTogglingShuffleReasons:Ye(k),disallowTransferringPlaybackReasons:Ye(b)}),hasContext:x&&O,isPaused:e.paused,isBuffering:!1,previousItems:e.track_window.previous_tracks.map((function(e){return We(e)})),nextItems:e.track_window.next_tracks.map((function(e){return We(e)}))}}(t))})),i}return(0,C.Z)(n)}(Fe.Bc),Je=n(69068),Xe=n(37253),$e=n(82810);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=function(){function e(t,n,i,a){var s=this;(0,E.Z)(this,e),(0,P.Z)(this,"_queue",null),(0,P.Z)(this,"_cache",new Xe.tp(36e5,3e5)),this._events=t,this._queueManager=n,this._loader=i,this.getRepeatMode=a,this._queueManager.addListener(be.ih.PLAYER_QUEUE_CHANGED,function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s._queue=t.data.internalPlayerQueue,e.next=3,s.getQueueState();case 3:s._state=e.sent,s._events.emitQueueUpdate(s._state);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._state=(0,Je.ew)([],this.getRepeatMode())}var t,n,i,a,s,l;return(0,C.Z)(e,[{key:"getQueueState",value:(l=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=null!==(t=this._queue)&&void 0!==t&&t.current_track?We(null===(n=this._queue)||void 0===n?void 0:n.current_track,null===(i=this._queue)||void 0===i?void 0:i.current_track.metadata,null===(r=this._queue)||void 0===r?void 0:r.current_track.provider):null,c=null!==(a=null===(s=this._queue)||void 0===s?void 0:s.next_items.map((function(e){return We(e,e.metadata,e.provider)})))&&void 0!==a?a:[],u=l?[l].concat((0,_.Z)(c)):c,e.prev=3,e.next=6,(0,$e.f_)(this._loader,this._cache,u);case 6:u=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:return e.abrupt("return",(0,Je.ew)(u,this.getRepeatMode()));case 13:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return l.apply(this,arguments)})},{key:"isSameItem",value:function(e,t){return e.uid&&t.uid?e.uid===t.uid:e.uri===t.uri}},{key:"isQueued",value:function(e){return"queue"===e.provider}},{key:"markAsQueued",value:function(e){return tt(tt({},e),{},{provider:"queue",metadata:tt(tt({},e.metadata),{},{is_queued:"true"})})}},{key:"createQueueItem",value:function(e,t){return{uri:e.uri,type:"track",provider:t?"queue":"context",metadata:{is_queued:t.toString()}}}},{key:"addToQueue",value:(s=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._queueManager.addToQueue(t.map((function(e){return e.uri})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"removeFromQueue",value:(a=(0,r.Z)(o().mark((function e(t){var n,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:null===(n=this._queue.next_items)||void 0===n?void 0:n.filter((function(e){return!t.some((function(t){return i.isSameItem(t,e)}))})),previous_items:this._queue.previous_items});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"clearQueue",value:(i=(0,r.Z)(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:this._queue.next_items.filter((function(e){return!t.isQueued(e)})),previous_items:this._queue.previous_items});case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"reorderQueue",value:(n=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:i=(0,_.Z)(this._queue.next_items),this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:(0,Je.iT)(t,i,n,this.isSameItem,this.isQueued,this.markAsQueued),previous_items:this._queue.previous_items});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"insertIntoQueue",value:(t=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:i=(0,_.Z)(this._queue.next_items),this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:(0,Je.LT)(t,i,n,this.isSameItem,this.isQueued,this.createQueueItem),previous_items:this._queue.previous_items});case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getQueue",value:function(){return this._state}},{key:"getInternalQueue",value:function(){return this._queue}}]),e}(),it=function(){function e(t,n,i){var r=this;(0,E.Z)(this,e),(0,P.Z)(this,"_state",null),this._harmony=t,this._defaultFeatureVersion=i,this._events=new Qe(this._harmony),this._events.addListener(Fe.rg.UPDATE,(function(e){var t=e.data;r._state=t})),this._queue=new nt(this._events,this._harmony.getQueueManager(),n,(function(){var e,t;return null!==(e=null===(t=r._state)||void 0===t?void 0:t.repeat)&&void 0!==e?e:Re.zq.REPEAT_NONE})),this.referrer="PlayerHarmony_UnknownReferrer"}var t,n,i,a,s,l,c,u,d,p,m,f,v,g,h,k,y,b,S,x;return(0,C.Z)(e,[{key:"setDefaultFeatureVersion",value:function(e){void 0===e.featureVersion&&(e.featureVersion=this._defaultFeatureVersion)}},{key:"getCapabilities",value:function(){return{canChangeSpeed:!1,canChangeVolume:!0,canPlayMultipleContextPages:!0,maxNextTracks:2,hasDecoratedQueue:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getState",value:function(){return this._state}},{key:"getReferrer",value:function(){return this.referrer}},{key:"setReferrer",value:function(e){this.referrer=e}},{key:"play",value:(x=(0,r.Z)(o().mark((function e(t,n){var i,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.length>2&&void 0!==r[2]?r[2]:{},!this._events.emitPlaySync(t,n,i)){e.next=3;break}return e.abrupt("return");case 3:this.setDefaultFeatureVersion(n),t.pages?this._harmony.playPages(t.pages.map((function(e){var t;return{tracks:null===(t=e.items)||void 0===t?void 0:t.map((function(e){var t=e.uri,n=e.uid;return{uri:t,uid:null!=n?n:void 0}})),pageURL:e.url,nextPageURL:e.nextPageUrl,metadata:e.metadata}})),null,He(t,n,i)):this._harmony.playURI(t.uri,null,He(t,n,i));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)})},{key:"pause",value:(S=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitPauseSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._harmony.pause();case 4:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"resume",value:(b=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitResumeSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._harmony.resume();case 4:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"skipToNext",value:(y=(0,r.Z)(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToNextSync()){e.next=2;break}return e.abrupt("return");case 2:return n=void 0,i=this._queue.getInternalQueue(),t&&i&&(n=i.next_items.find((function(e){return(!t.uid||e.uid===t.uid)&&e.uri===t.uri}))),e.next=7,this._harmony.nextTrack(null,{track:n});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"skipToPrevious",value:(k=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToPreviousSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._harmony.smartPreviousTrack();case 4:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"skipTo",value:(h=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"seekTo",value:(g=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.seek(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"seekForward",value:(v=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.seekForward(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"seekBackward",value:(f=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.seekBackward(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"setShuffle",value:(m=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.setShuffle(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"setRepeat",value:(p=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===Re.zq.REPEAT_NONE?3:e.t0===Re.zq.REPEAT_CONTEXT?6:e.t0===Re.zq.REPEAT_TRACK?9:12;break;case 3:return e.next=5,this._harmony.setRepeatMode(be.zq.OFF);case 5:case 8:case 11:case 12:return e.abrupt("break",13);case 6:return e.next=8,this._harmony.setRepeatMode(be.zq.CONTEXT);case 9:return e.next=11,this._harmony.setRepeatMode(be.zq.TRACK);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"setSpeed",value:(d=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Changing playback speed not possible with Harmony.");case 1:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"canPlayEncryptedContent",value:(u=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.getMediaConfig();case 2:return e.t0=e.sent.keysystem,e.t1=void 0,e.abrupt("return",e.t0!==e.t1);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"refreshCurrentContext",value:(c=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._harmony.updateCurrentContext();case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"updateContext",value:(l=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Updating context not possible with Harmony.");case 1:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"addToQueue",value:(s=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Fe.FE.ADD)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.addToQueue(t);case 5:this._events.emitQueueActionComplete(Fe.FE.ADD),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Fe.FE.ADD,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return s.apply(this,arguments)})},{key:"reorderQueue",value:(a=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Fe.FE.REORDER)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.reorderQueue(t,n);case 5:this._events.emitQueueActionComplete(Fe.FE.REORDER),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Fe.FE.REORDER,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return a.apply(this,arguments)})},{key:"insertIntoQueue",value:(i=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Fe.FE.INSERT)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.insertIntoQueue(t,n);case 5:this._events.emitQueueActionComplete(Fe.FE.INSERT),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Fe.FE.INSERT,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return i.apply(this,arguments)})},{key:"removeFromQueue",value:(n=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Fe.FE.REMOVE)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.removeFromQueue(t);case 5:this._events.emitQueueActionComplete(Fe.FE.REMOVE),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Fe.FE.REMOVE,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return n.apply(this,arguments)})},{key:"clearQueue",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Fe.FE.CLEAR)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.clearQueue();case 5:this._events.emitQueueActionComplete(Fe.FE.CLEAR),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Fe.FE.CLEAR,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return t.apply(this,arguments)})},{key:"getQueue",value:function(){return this._queue.getQueue()}},{key:"getForcedShuffle",value:function(){return!1}},{key:"setForcedShuffle",value:function(){}}]),e}();function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function at(e){return"Partner spotify ".concat(e)}function ot(e,t){return(0,_e.cr)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({transport:e},t))}n(37193),n(94562);var st=n(16354);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){var t=e.url,n=e.height,i=e.width;return Boolean(t)&&Boolean(n)&&Boolean(i)})).map((function(e){var t=e.url,n=e.width,i=e.height;return{url:t,height:parseInt(null!=i?i:"0",10),width:parseInt(null!=n?n:"0",10)}}))}({url:e.image_url,height:e.image_height,width:e.image_width},{url:e.image_url_small,height:e.image_height_small,width:e.image_width_small},{url:e.image_url_large,height:e.image_height_large,width:e.image_width_large},{url:e.image_url_xlarge,height:e.image_height_xlarge,width:e.image_width_xlarge})}function dt(e,t){return null===e?null:(0,f.wj)(e.uri)||(0,f.dB)(e.uri)?function(e,t){var n,i,r,a,o,s=e.metadata;return{type:Le.p.TRACK,uri:e.uri,uid:null,name:null!==(n=s.title)&&void 0!==n?n:"",mediaType:e.mediaType,duration:{milliseconds:t},album:{type:Le.p.ALBUM,uri:null!==(i=s.album_uri)&&void 0!==i?i:"",name:null!==(r=s.album_title)&&void 0!==r?r:"",images:ut(s)},artists:[{type:Le.p.ARTIST,uri:null!==(a=s.artist_uri)&&void 0!==a?a:"",name:null!==(o=s.artist_name)&&void 0!==o?o:""}],isLocal:(0,f.dB)(e.uri),isExplicit:!1,is19PlusOnly:!1,provider:null,get images(){return this.album.images}}}(e,t):(0,f.hn)(e.uri)?function(e,t){var n,i,r,a=e.metadata;return{type:Le.p.EPISODE,uri:e.uri,uid:null,name:null!==(n=a.title)&&void 0!==n?n:"",mediaType:e.mediaType,duration:{milliseconds:t},show:{type:Le.p.SHOW,uri:null!==(i=a.album_uri)&&void 0!==i?i:"",name:null!==(r=a.album_title)&&void 0!==r?r:"",images:ut(a)},provider:null,get images(){return this.show.images}}}(e,t):(0,f.mg)(e.uri)?function(e,t){var n,i,r,a,o=e.metadata;return{type:Le.p.AD,uri:e.uri,uid:null,title:null!==(n=o.title)&&void 0!==n?n:null,advertiser:null!==(i=o.artist_name)&&void 0!==i?i:null,url:null!==(r=o.artist_uri)&&void 0!==r?r:null,id:null!==(a=o.ad_id)&&void 0!==a?a:null,mediaType:e.mediaType,duration:{milliseconds:t},images:[],isPodcastAd:!1,isSkippableAd:!1,isTestAd:!1,provider:null}}(e,t):ct(ct({},Re.F3),{},{uri:e.uri,metadata:e.metadata||null})}function pt(e){switch(e){case _e.zq.CONTEXT:return Re.zq.REPEAT_CONTEXT;case _e.zq.TRACK:return Re.zq.REPEAT_TRACK;case _e.zq.NONE:default:return Re.zq.REPEAT_NONE}}function mt(e){var t=e.playbackState;return{canPause:!!t.playing,canResume:!t.playing,canSeek:!0,canSkipPrevious:!1,canSkipNext:!1,canToggleRepeatContext:!1,canToggleRepeatTrack:!1,canToggleShuffle:!1,disallowPausingReasons:t.playing?[]:["already_paused"],disallowResumingReasons:t.playing?["already_playing"]:[],disallowSeekingReasons:[],disallowSkippingPreviousReasons:["unknown"],disallowSkippingNextReasons:["unknown"],disallowTogglingRepeatContextReasons:["unknown"],disallowTogglingRepeatTrackReasons:["unknown"],disallowTogglingShuffleReasons:["unknown"],disallowTransferringPlaybackReasons:[]}}function ft(e){var t=e.hasContext||e.isPaused||e.isBuffering;return{canSeek:null!=t&&t,disallowSeekingReasons:t?[]:["not_playing_track"]}}function vt(e){if(null===e)return null;var t=e.playbackState,n=e.track,i=null==n?void 0:n.metadata,r=function(e){var t=e.track,n=null==t?void 0:t.metadata;return(null==n?void 0:n.contextURI)||(null==t?void 0:t.uri)||null}(e);return r?{sessionId:"",timestamp:Date.now(),context:{uri:null!=r?r:"",metadata:i},index:{pageURI:null,pageIndex:null,itemIndex:null},item:n?dt(n,t.duration):null,shuffle:!1,repeat:pt(_e.zq.NONE),speed:1,playbackQuality:{bitrateLevel:Re.M4.UNKNOWN},playbackId:null,positionAsOfTimestamp:t.position,duration:t.duration,restrictions:ct(ct({},mt(e)),ft({hasContext:!!n&&!!r,isPaused:!t.playing,isBuffering:!1})),hasContext:!!n&&!!r,isPaused:!t.playing,previousItems:[],nextItems:[]}:null}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=200,yt=400;var bt=n(35780);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot={"com.apple.fps.1_0":"fairplay","com.widevine.alpha":"widevine","com.microsoft.playready":"playready"},wt=function(e){var t,n;return null!==(t=e.pages)&&void 0!==t&&t.length&&null!==(n=e.pages[0].items)&&void 0!==n&&n.length?e.pages[0].items[0]:e},Nt=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audio";return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"@webgate/".concat(Ot[e],"-license/v1/").concat(t,"/license"):"".concat("https://spclient.wg.spotify.com","/").concat(Ot[e],"-license/v1/unauth/").concat(t,"/license")},_t=function(){var e=(0,r.Z)(o().mark((function e(t,n,i){var r,a,s,l,c,u,d,p,m,v,g,h=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=h.length>3&&void 0!==h[3]?h[3]:"com.widevine.alpha",l=h.length>4?h[4]:void 0,c=xt(xt({},n.metadata),{},{contextURI:n!==t?t.uri:null}),null===(r=n.metadata)||void 0===r||!r.externalResolvedUrl){e.next=5;break}return e.abrupt("return",(0,_e.SK)({uri:n.uri,resolvedURL:null===(u=n.metadata)||void 0===u?void 0:u.externalResolvedUrl,fileId:"",metadata:c,logData:l}));case 5:if("episode"!==(null===(a=(0,f.EC)(n.uri))||void 0===a?void 0:a.type)){e.next=13;break}return d=c.mediaType,p="yes"===c.useAuthEndpoint,m=Nt(s,p,d),e.next=11,(0,bt.IS)(n,s,d);case 11:return v=e.sent,e.abrupt("return",(0,_e.SK)(xt({uri:n.uri,licenseEndpoint:m,metadata:c,logData:l,fileId:"",noAuth:!p},v)));case 13:throw g=new Error("No valid solution has been found to play this item (".concat(null==n?void 0:n.uri,")")),i.emitSync(Fe.rg.ERROR,new st.lu(st.cg.ONE_TRACK_UNPLAYABLE,[],g)),g;case 16:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}();function Et(e,t){var n,a=function(e){var t,n,i=new Fe.Bc,a={sessionId:"",timestamp:0,context:{uri:""},index:{pageURI:null,pageIndex:null,itemIndex:null},item:null,shuffle:!1,repeat:Re.zq.REPEAT_NONE,speed:1,playbackQuality:{bitrateLevel:Re.M4.UNKNOWN},playbackId:null,positionAsOfTimestamp:0,duration:0,restrictions:{canPause:!1,canResume:!1,canSeek:!1,canSkipNext:!1,canSkipPrevious:!1,canToggleRepeatContext:!1,canToggleRepeatTrack:!1,canToggleShuffle:!1,disallowPausingReasons:["not_playing_track"],disallowResumingReasons:["not_playing_track"],disallowSeekingReasons:["not_playing_track"],disallowSkippingPreviousReasons:["not_playing_context"],disallowSkippingNextReasons:["not_playing_context"],disallowTogglingRepeatContextReasons:["not_playing_context"],disallowTogglingRepeatTrackReasons:["not_playing_context"],disallowTogglingShuffleReasons:["not_playing_context"],disallowTransferringPlaybackReasons:[]},hasContext:!1,isPaused:!1,isBuffering:!1,previousItems:[],nextItems:[]};function s(e){return ht(ht(ht({},a),e),{},{context:ht(ht({},a.context),null==e?void 0:e.context)})}function l(e){a=s(e),i.emit(Fe.rg.UPDATE,a)}function c(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentState();case 2:l(vt(t.sent));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function e(i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=6;break}if(!t){e.next=3;break}return e.abrupt("return");case 3:t=setTimeout((function(){t=null,l({isBuffering:i})}),kt),e.next=7;break;case 6:t?(clearTimeout(t),t=null,l({isBuffering:i})):n||(n=setTimeout((function(){n=null,l({isBuffering:i})}),yt));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function t(){var n,i,r,c,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentState();case 2:n=t.sent,i=vt(n),r=i?ht(ht({},i),{},{isBuffering:!1,hasContext:!1,isPaused:!1,positionAsOfTimestamp:a.duration}):{positionAsOfTimestamp:a.duration,position:a.duration,isBuffering:!1,hasContext:!1,isPaused:!1,restrictions:mt(n)},c=s(r),u=ft(r),l(ht(ht({},c),{},{restrictions:ht(ht({},r.restrictions),u)}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.on(_e.oQ.ERROR,(function(e){var t=e.data.error;t.unrecoverable?i.emit(Fe.rg.ERROR,new st.lu(st.cg.PLAYBACK_ERROR,[],t)):i.emit(Fe.rg.ERROR,new st.jB(st.cg.PLAYBACK_ERROR,[],t))})),e.on(_e.oQ.PAUSED,c),e.on(_e.oQ.PROGRESS,(0,r.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Date.now()-a.timestamp>=1e3&&c(),!a.isBuffering&&!t){n.next=6;break}return n.next=4,e.getCurrentState();case 4:n.sent.playbackState.buffering||d(!1);case 6:case"end":return n.stop()}}),n)})))),e.on(_e.oQ.TRACK_LOADED,c),e.on(_e.oQ.TRACK_ENDED,m),e.on(_e.oQ.LIST_ENDED,m),e.on(_e.oQ.BUFFERING_START,(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!0);case 2:case"end":return e.stop()}}),e)})))),e.on(_e.oQ.BUFFERING_END,(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!1);case 2:case"end":return e.stop()}}),e)})))),e.on(_e.oQ.AUTOPLAY_FAILED,(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!1);case 2:case"end":return e.stop()}}),e)})))),e.on(_e.oQ.BEFORE_TRACK_LOAD,(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(!0);case 2:case"end":return e.stop()}}),e)})))),e.on(_e.oQ.POSITION_CHANGED,(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentState();case 2:if(!t.sent.playbackState.playing){t.next=6;break}return t.next=6,d(!0);case 6:case"end":return t.stop()}}),t)})))),i}(e),s=null,l="PlayerOverture_UnknownReferrer",c={unloadedSeekPosition:0,playArgs:null},u=function(){var t=(0,r.Z)(o().mark((function t(){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==n){t.next=5;break}return t.next=3,e.getMediaConfig();case 3:i=t.sent,n=i.keysystem;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.addListener(Fe.rg.UPDATE,(function(e){var t=e.data;s=t})),"undefined"!=typeof window&&u(),{getCapabilities:function(){return{canChangeSpeed:!1,canChangeVolume:!0,canPlayMultipleContextPages:!1,maxNextTracks:0,hasDecoratedQueue:!1}},canPlayEncryptedContent:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return e.t0=e.sent,e.t1=void 0,e.abrupt("return",e.t0!==e.t1);case 5:case"end":return e.stop()}}),e)})))()},getEvents:function(){return a},getState:function(){return s},getReferrer:function(){return l},setReferrer:function(e){l=e},play:function(n,i,s){return(0,r.Z)(o().mark((function r(){var l,d,p,m,f,v,g,h;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!a.emitPlaySync(n,i,null!=s?s:{})){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,u();case 4:return m=r.sent,f=wt(n),r.next=8,_t(n,f,a,m,t);case 8:return v=r.sent,g=(0,_e.Sy)({tracks:[v]}),h={index:null!==(l=null==s||null===(d=s.skipTo)||void 0===d?void 0:d.index)&&void 0!==l?l:void 0,initialPosition:null!==(p=null==s?void 0:s.seekTo)&&void 0!==p?p:0},r.next=13,e.playList(g,h);case 13:c={playArgs:[n,i,s],unloadedSeekPosition:0};case 14:case"end":return r.stop()}}),r)})))()},pause:function(){return(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.emitPauseSync()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.pause();case 4:case"end":return t.stop()}}),t)})))()},resume:function(){var t=this;return(0,r.Z)(o().mark((function n(){var r,s,l,u,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentState();case 2:if(r=n.sent,!!!r.track){n.next=10;break}if(!a.emitResumeSync()){n.next=7;break}return n.abrupt("return");case 7:return n.next=9,e.resume();case 9:case 14:return n.abrupt("return");case 10:if(!c.playArgs){n.next=15;break}return s=(0,i.Z)(c.playArgs,3),l=s[0],u=s[1],d=s[2],n.next=14,t.play(l,u,xt(xt({},d),{},{seekTo:c.unloadedSeekPosition}));case 15:case"end":return n.stop()}}),n)})))()},skipToNext:function(){return(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.emitSkipToNextSync()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.nextTrack();case 4:case"end":return t.stop()}}),t)})))()},skipTo:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})))()},skipToPrevious:function(){return(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.emitSkipToPreviousSync()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.previousTrack();case 4:case"end":return t.stop()}}),t)})))()},seekTo:function(t){return(0,r.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentState();case 2:if(n.sent.track){n.next=6;break}return c.unloadedSeekPosition=t,n.abrupt("return");case 6:return n.next=8,e.seek(t);case 8:case"end":return n.stop()}}),n)})))()},seekForward:function(t){return(0,r.Z)(o().mark((function n(){var i,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentState();case 2:return i=n.sent,r=i.playbackState.position,n.next=6,e.seek(r+t);case 6:case"end":return n.stop()}}),n)})))()},seekBackward:function(t){return(0,r.Z)(o().mark((function n(){var i,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getCurrentState();case 2:return i=n.sent,r=i.playbackState.position,n.next=6,e.seek(r-t);case 6:case"end":return n.stop()}}),n)})))()},setShuffle:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setShuffle is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},setRepeat:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setRepeat is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},setSpeed:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setSpeed is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},refreshCurrentContext:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},updateContext:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Updating context not possible with Overture.");case 1:case"end":return e.stop()}}),e)})))()},addToQueue:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("addToQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},clearQueue:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("clearQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},removeFromQueue:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("removeFromQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},reorderQueue:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("reorderQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},insertIntoQueue:function(){return(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("insertIntoQueue is not supported in Overture");case 1:case"end":return e.stop()}}),e)})))()},getQueue:function(){throw new Error("getQueue is not supported in Overture")},getForcedShuffle:function(){return!1},setForcedShuffle:function(){}}}function Ct(e,t){var n=t.isAnonymous,i=t.type,r=t.createPlayer;return n?{harmony:null,overture:ot(e,{platform_identifier:at(i),config:{preinitMediaElement:!1,enableWithoutEME:!0,unauthenticatedLogs:!0,videoPlayerContainer:".VideoPlayer__container",audioPlayerContainer:".VideoPlayer__container"},autoActivateElement:!0})}:{harmony:Te(e,{videoPlayerContainer:".VideoPlayer__container",platformIdentifier:Ie(i),createPlayer:r}),overture:null}}function Pt(e,t,n){var i=e.harmony,r=e.overture,a=n.clientId;if(null!==i)return new it(i,t,"xpui_2023-06-05_1685977752132_a588f74");if(null!==r)return Et(r,{clientId:a,correlationId:(0,ye.Z)("config").correlationId});throw new Error("Unable to create PlayerAPI without a Harmony or Overture instance!")}function It(e){var t=e.harmony,n=e.overture;if(null!==t)return new Ne(t);if(null!==n)return new Ce(n);throw new Error("Unable to create PlaybackAPI without a Harmony or Overture instance!")}var jt=5e3,At="data-translations-url-for-locale";function Tt(){return Dt.apply(this,arguments)}function Dt(){return Dt=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.head.querySelector("link[".concat(At,"]")),n=t.getAttribute("href"),i=t.getAttribute(At),r=new AbortController,a=setTimeout((function(){return r.abort()}),jt),e.next=7,fetch(n,{signal:r.signal}).then((function(e){return e.json()})).catch((function(){return{}}));case 7:return s=e.sent,clearTimeout(a),e.abrupt("return",{translations:s,translationsUrl:n,locale:i});case 10:case"end":return e.stop()}}),e)}))),Dt.apply(this,arguments)}var Rt=n(1754);function Ft(){var e=(0,Rt.vQ)("client-web_remote-config-overrides")||"";try{return O.VK.fromJSON(JSON.parse(e)["web-player"]||{})}catch(e){return O.VK.builder().build()}}var Lt=function(){function e(){(0,E.Z)(this,e)}return(0,C.Z)(e,[{key:"getContents",value:function(){return Promise.resolve({})}},{key:"getEvents",value:function(){return{addListener:function(){},removeListener:function(){}}}},{key:"getCapabilities",value:function(){return{isSupported:!1}}}]),e}(),Mt=function(){function e(){(0,E.Z)(this,e)}var t;return(0,C.Z)(e,[{key:"subscribeToPrivateSession",value:function(){return function(){}}},{key:"setPrivateSession",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getCapabilities",value:function(){return{isSupported:!1}}}]),e}(),Ut=n(13961),Zt=n(64446),Bt=n(10146),Vt=function(){function e(t){(0,E.Z)(this,e),this.recaptchaWebPlayerFraudSiteKey=t,this.log("load")}return(0,C.Z)(e,[{key:"log",value:function(e){var t=this,n=window.grecaptcha;if(n){var i="".concat("open3/").concat(e.toLowerCase());n.enterprise.ready((function(){n.enterprise.execute(t.recaptchaWebPlayerFraudSiteKey,{action:i}).then((function(e){var t=new URLSearchParams({token:e,action:i,productType:Bt.zH});fetch("/recaptcha/fraud?".concat(t))})).catch((function(){}))}))}}}]),e}(),Ht=n(29372),Gt=function(){function e(t){(0,E.Z)(this,e),this._playlistAPI=t}return(0,C.Z)(e,[{key:"isURIReportable",value:function(e){return(0,Ht.g)(e)}},{key:"canReportPlaylist",value:function(e,t){return(0,Ht.R)(this._playlistAPI,e,t,!0)}},{key:"getReportURL",value:function(e){return Promise.resolve("https://support.spotify.com/abuse/?uri=".concat(e,"&platform=desktop-web"))}}]),e}(),Wt=function(){function e(){(0,E.Z)(this,e)}var t,n;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!1}}},{key:"getSegments",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getArtists",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function zt(){return Kt.apply(this,arguments)}function Kt(){return Kt=(0,r.Z)(o().mark((function e(){var t,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!("serviceWorker"in navigator)){e.next=8;break}return e.next=4,n.e(1814).then(n.bind(n,27107));case 4:i=e.sent,a=i.Workbox,(t=new a("/service-worker.js")).register();case 8:return e.abrupt("return",function(){var e=(0,r.Z)(o().mark((function e(n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,t.messageSW(n);case 3:return i=e.sent,e.abrupt("return",JSON.parse(i));case 5:return e.abrupt("return",new Promise((function(){})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:case"end":return e.stop()}}),e)}))),Kt.apply(this,arguments)}var Yt=n(53547),qt=n(87824),Qt=function(){function e(t,n){var i=this;if((0,E.Z)(this,e),(0,P.Z)(this,"_events",new Yt.C),(0,P.Z)(this,"_hasSubtitleSupport",!1),(0,P.Z)(this,"_isLocal",!0),(0,P.Z)(this,"_subtitleLanguages",[]),this._harmony=t,null!==this._harmony){this._hasSubtitleSupport=n.getValue(qt.dq),this._harmony.addListener(be.ih.LAST_ACTIVE_DEVICE_INFO_CHANGED,(function(e){var t,n,r=e.data;i._isLocal=null===(t=null===(n=r.deviceInfo)||void 0===n?void 0:n.local)||void 0===t||t}));var a=null;this._harmony.addListener(be.ih.STATE_CHANGED,(function(e){var t,n,s,l=null===(t=e.data.state)||void 0===t||null===(n=t.track_window)||void 0===n?void 0:n.current_track,c=null!==(s=null==l?void 0:l.uri)&&void 0!==s?s:null,u="episode"===(null==l?void 0:l.type);i._hasSubtitleSupport&&i._isLocal&&u?c!==a&&(setTimeout((0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._harmony.getSubtitleLanguages();case 2:t=e.sent,i.setSubtitleLanguages(t);case 4:case"end":return e.stop()}}),e)}))),1e3),a=c):i.setSubtitleLanguages([])}))}else this._hasSubtitleSupport=!1}var t,n,i;return(0,C.Z)(e,[{key:"setSubtitleLanguages",value:function(e){this._subtitleLanguages=e,this._events.emit(Yt.d.SUBTITLE_LANGUAGES_CHANGED,e)}},{key:"getCapabilities",value:function(){return{hasSubtitleSupport:this._hasSubtitleSupport,hasMinimizeBitrateSupport:!1,hasPipSupport:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getSubtitleLanguages",value:(i=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._subtitleLanguages);case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getPreferredSubtitleLanguage",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._harmony){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",this._harmony.getActiveSubtitleLanguage());case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setPreferredSubtitleLanguage",value:(t=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._harmony){e.next=2;break}return e.abrupt("return");case 2:null!==t?(this._harmony.setSubtitleLanguage(t),this._harmony.showSubtitles()):this._harmony.hideSubtitles();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setMinimizeBitrate",value:function(e){}},{key:"setWindow",value:function(e){}}]),e}(),Jt=n(60808),Xt="web-player",$t=(n(98853),n(82337));n(50103);function en(e,t,n){return e.build().withHost(Z.SW).withHostIdentifier("https://open.spotify.com").withPath("/get_access_token").withQueryParameters({reason:t,productType:n}).withoutMarket().withoutAuthorization().withEndpointIdentifier("/get_access_token").send()}var tn=n(14816),nn=n(90294),rn=function(){function e(t,n){(0,E.Z)(this,e),(0,P.Z)(this,"_events",new tn.a),(0,P.Z)(this,"_state",nn.p),this._tokenProvider=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=t();return(n=a)&&["accessToken","accessTokenExpirationTimestampMs","isAnonymous"].every((function(e){return e in n}))||(a=null),(0,$t.k)((0,r.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||(0,$t.p)(a)){t.next=2;break}return t.abrupt("return",a);case 2:return t.next=4,en(Jt.b.getInstance(),"transport",e);case 4:return n=t.sent,t.abrupt("return",n.body);case 6:case"end":return t.stop()}}),t)}))),i)}(t,n,this.onTokenChanged.bind(this))}var t;return(0,C.Z)(e,[{key:"onTokenChanged",value:function(e){this._state={isAuthorized:null!==e&&!(0,$t.p)(e),token:e,retryAttempt:null,retryAt:null},this._events.emit(tn.B.UPDATE,this._state)}},{key:"getCapabilities",value:function(){return{canGetSessionTransferURL:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getState",value:function(){return this._state}},{key:"getTokenProvider",value:function(){return this._tokenProvider}},{key:"tryAuthorize",value:function(){throw new Error("Not implemented!")}},{key:"getSessionTransferURL",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Getting a session transfer URL is not possible on web!");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),an=n(6381),on=(n(47921),n(68990));function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cn(e,t,n){return!e&&(!t.startsWith("harmony:")||!n.startsWith("Web Player")&&!n.startsWith("Mobile Web Player"))}function un(e){var t,n,i,r=e.id,a=e.name,o=e.type,s=e.is_group,l=e.local,c=e.is_active,u=e.is_being_activated,d=e.is_controllable,p=e.volume,m=e.playback_features,f=e.version;return{id:r,connectStateId:r,name:null!=a?a:"",type:o,isGroup:s,isLocal:l,isActive:c,isConnecting:u,isDisabled:!d,volume:p,hifiSupport:{fullySupported:!(null==m||null===(t=m.hifi_status)||void 0===t||!t.fully_supported),deviceSupported:!(null==m||null===(n=m.hifi_status)||void 0===n||!n.device_supported),userEligible:!(null==m||null===(i=m.hifi_status)||void 0===i||!i.user_eligible)},supportsLogout:cn(l,f,a)}}function dn(e,t){return t?on.TK.CONNECTING:e&&!e.isLocal?on.TK.CONNECTED:on.TK.NOT_CONNECTED}function pn(e){var t,n=e.map(un),i=n.find((function(e){return e.isActive}));if(!i){var r=n.findIndex((function(e){return e.isLocal}));-1!==r&&(i=ln(ln({},n[r]),{},{isActive:!0}),n[r]=i)}var a=n.find((function(e){return e.isConnecting&&!e.isActive}));return{connectionStatus:dn(i,a),activeDevice:null!==(t=i)&&void 0!==t?t:null,connectingDevice:null!=a?a:null,devices:n}}function mn(e,t){var n=un(t),i=e.devices.findIndex((function(e){return e.isActive})),r=(0,_.Z)(e.devices);return-1!==i&&(r[i]=n),ln(ln({},e),{},{connectionStatus:dn(n,void 0),activeDevice:n,devices:r})}function fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var vn=function(e){(0,Q.Z)(n,e);var t=fn(n);function n(e){var i;(0,E.Z)(this,n),(i=t.call(this)).harmony=e;var a=null;return i.harmony.addListener(be.ih.DEVICES_CHANGED,(function(e){var t=e.data;t.devices&&t.devices.length>0&&(a=pn(t.devices),i.emit(an.F.UPDATE,a))})),i.harmony.addListener(be.ih.LAST_ACTIVE_DEVICE_INFO_CHANGED,function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.data).deviceInfo){e.next=10;break}if(!a||(null===(r=a.activeDevice)||void 0===r?void 0:r.id)!==n.deviceInfo.id){e.next=6;break}i.emit(an.F.UPDATE,mn(a,n.deviceInfo)),e.next=10;break;case 6:return e.next=8,i.harmony.getDevices();case 8:(s=e.sent)&&s.length>0&&(a=pn(s),i.emit(an.F.UPDATE,a));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i}return(0,C.Z)(n)}(an.M),gn=function(){function e(t){var n=this;(0,E.Z)(this,e),(0,P.Z)(this,"state",null),this.harmony=t,this.events=new vn(this.harmony),this.events.addListener(an.F.UPDATE,(function(e){var t=e.data;n.state=t}))}var t,n,i,a;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{supportsLocalDiscovery:!1}}},{key:"getState",value:function(){return this.state}},{key:"getEvents",value:function(){return this.events}},{key:"discoverDevices",value:(a=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Discovering devices on local network is not supported in Harmony");case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"transferPlayback",value:(i=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.harmony.transfer(t,{loggingParams:n});case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"logout",value:(n=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&0!==t.length){e.next=2;break}throw new Error("missing device id");case 2:return e.next=4,this.harmony.logout(t);case 4:return n=e.sent,e.abrupt("return",{success:n});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setPreferredIncarnation",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Device Incarnation not supported");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var kn=function(e){(0,Q.Z)(n,e);var t=hn(n);function n(){return(0,E.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n)}(an.M),yn=function(){function e(){(0,E.Z)(this,e),this.events=new kn}var t,n,i,a;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{supportsLocalDiscovery:!1}}},{key:"getState",value:function(){return null}},{key:"getEvents",value:function(){return this.events}},{key:"discoverDevices",value:(a=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"transferPlayback",value:(i=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"logout",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({success:!0}));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"setPreferredIncarnation",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({success:!0}));case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),bn=n(26352),Sn=n(10130),xn=(n(42617),n(81844),n(31781),n(52427)),On=n(36282),wn=Spicetify.GraphQL.Definitions["addToLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addToLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},Nn=Spicetify.GraphQL.Definitions["removeFromLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeFromLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},_n=Spicetify.GraphQL.Definitions["pinLibraryItem"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"pinLibraryItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinItemInLibrary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinResult"}}]}}]}}]},En=Spicetify.GraphQL.Definitions["unpinLibraryItem"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"unpinLibraryItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unpinItemInLibrary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinResult"}}]}}]}}]};function Cn(e){var t=e.map((function(e){return(0,f.EC)(e)})).map((function(e){return null!==e?e.type:null})).reduce((function(e,t){return e===t?e:null}));if(null===t)throw new Error("Given URIs need to be of the same type!");return t}function Pn(e){return e===f.JM.ALBUM||e===f.JM.ARTIST||e===f.JM.TRACK||e===f.JM.SHOW||e===f.JM.EPISODE}function In(e,t){return jn.apply(this,arguments)}function jn(){return(jn=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pn(Cn(n))){e.next=3;break}throw new Error("Unknown URI type!");case 3:return e.next=5,t(wn,{uris:n},["uris"]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e,t){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pn(Cn(n))){e.next=3;break}throw new Error("Unknown URI type!");case 3:return e.next=5,t(Nn,{uris:n},["uris"]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e,t,n){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,r.Z)(o().mark((function e(t,n,i){var r,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(_n,{uri:(0,On.h)(n,i)});case 2:return l=e.sent,e.abrupt("return",null!==(r=null==l||null===(a=l.data)||void 0===a||null===(s=a.pinItemInLibrary)||void 0===s?void 0:s.pinResult)&&void 0!==r?r:null);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t,n){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,r.Z)(o().mark((function e(t,n,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(En,{uri:(0,On.h)(n,i)});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(42639),n(28933),n(84456);var Mn=n(9294),Un=Spicetify.GraphQL.Definitions["fetchLibraryAlbums"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryAlbumPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryAlbumResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryAlbum"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}}]}}]}}]}}]))},Zn=Spicetify.GraphQL.Definitions["areAlbumsInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areAlbumsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Bn=Spicetify.GraphQL.Definitions["fetchLibraryArtists"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryArtistPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryArtistResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryArtist"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]))},Vn=Spicetify.GraphQL.Definitions["areArtistsInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areArtistsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Hn=Spicetify.GraphQL.Definitions["fetchLibraryTracks"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryTrackPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryTrackResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryTrack"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]))},Gn=Spicetify.GraphQL.Definitions["areTracksInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areTracksInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Wn=Spicetify.GraphQL.Definitions["fetchLibraryShows"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryShows"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcasts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryPodcastPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryPodcastResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryPodcast"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryPodcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]))},zn=Spicetify.GraphQL.Definitions["areShowsInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areShowsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcasts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},Kn=Spicetify.GraphQL.Definitions["fetchLibraryAudiobooks"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"audiobooks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryAudiobookPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryAudiobookResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"audiobook"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryAudiobook"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUserMemberOfAtLeastOneGroup"}}]}}]}}]}}]}}]))},Yn=Spicetify.GraphQL.Definitions["fetchLibraryEpisodes"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchLibraryEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryEpisodePage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserLibraryEpisodeResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryEpisode"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}}]}}]}}]}}]))},qn=Spicetify.GraphQL.Definitions["areEpisodesInLibrary"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areEpisodesInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]};function Qn(e,t){return e.reduce((function(e,n){var i=t(n);return(e[i]=e[i]||[]).push(n),e}),{})}function Jn(e){return e.map((function(e){return null!==e&&(("Album"===e.__typename||"Artist"===e.__typename||"Track"===e.__typename||"Podcast"===e.__typename||"Episode"===e.__typename||"Audiobook"===e.__typename)&&e.saved)}))}function Xn(e,t,n){return $n.apply(this,arguments)}function $n(){return($n=(0,r.Z)(o().mark((function e(t,n,i){var r,a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i.length){e.next=2;break}return e.abrupt("return",[]);case 2:e.t0=n,e.next=e.t0===f.JM.ALBUM?5:e.t0===f.JM.ARTIST?9:e.t0===f.JM.TRACK?13:e.t0===f.JM.SHOW?17:e.t0===f.JM.EPISODE?21:25;break;case 5:return e.next=7,t(Zn,{uris:i},["uris"]);case 7:return r=e.sent,e.abrupt("return",Jn(r.flatMap((function(e){return e.albums}))));case 9:return e.next=11,t(Vn,{uris:i},["uris"]);case 11:return a=e.sent,e.abrupt("return",Jn(a.flatMap((function(e){return e.artists}))));case 13:return e.next=15,t(Gn,{uris:i},["uris"]);case 15:return s=e.sent,e.abrupt("return",Jn(s.flatMap((function(e){return e.tracks}))));case 17:return e.next=19,t(zn,{uris:i},["uris"]);case 19:return l=e.sent,e.abrupt("return",Jn(l.flatMap((function(e){return e.podcasts}))));case 21:return e.next=23,t(qn,{uris:i},["uris"]);case 23:return c=e.sent,e.abrupt("return",Jn(c.flatMap((function(e){return e.episodes}))));case 25:throw new Error("Unknown URI type!");case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e,t,n){return ti.apply(this,arguments)}function ti(){return ti=(0,r.Z)(o().mark((function e(t,n,a){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Qn(a.filter((function(e){return!t.has(e)})),(function(e){var t,n=(0,f.EC)(e);if(null===n||(t=n.type)!==f.JM.ALBUM&&t!==f.JM.ARTIST&&t!==f.JM.TRACK&&t!==f.JM.SHOW&&t!==f.JM.EPISODE)throw new Error("Unknown URI type!");return n.type})),e.next=3,Promise.all(Object.entries(s).map(function(){var e=(0,r.Z)(o().mark((function e(r){var a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,i.Z)(r,2),s=a[0],l=a[1],e.next=3,Xn(n,s,l);case 3:c=e.sent,l.forEach((function(e,n){return t.set(e,c[n])}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",a.map((function(e){var n;return null!==(n=t.get(e))&&void 0!==n&&n})));case 4:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}var ni,ii=n(23213),ri=(n(69724),n(39965),n(39975),n(43125),n(18918));function ai(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var li=function(e){(0,Q.Z)(i,e);var t,n=si(i);function i(e,t,r,a){var o;return(0,E.Z)(this,i),(o=n.call(this,e))._containsItems=t,o._transport=r,o._pattern=a,o}return(0,C.Z)(i,[{key:"onMessage",value:function(e){var t=e.payloads;if(void 0!==t&&0!==t.length){var n=JSON.parse(t[0]).items;if(Array.isArray(n)){var i,r=!1,a=!1,o=!1,s=!1,l=!1,c=ai(n);try{for(c.s();!(i=c.n()).done;){var u=i.value;switch(u.type){case"album":var d=(0,f.jy)(u.identifier).toURI();this._cache.set(d,!u.removed),this.emitUpdateItems([d],!u.removed),r=!0;break;case"artist":var p=(0,f.WN)(u.identifier).toURI();this._cache.set(p,!u.removed),this.emitUpdateItems([p],!u.removed),a=!0;break;case"episode":var m=(0,f.YD)(u.identifier).toURI();this._cache.set(m,!u.removed),this.emitUpdateItems([m],!u.removed),o=!0;break;case"show":var v=(0,f.xt)(u.identifier).toURI();this._cache.set(v,!u.removed),this.emitUpdateItems([v],!u.removed),s=!0;break;case"track":var g=(0,f.tn)(u.identifier).toURI();this._cache.set(g,!u.removed),this.emitUpdateItems([g],!u.removed),l=!0}}}catch(e){c.e(e)}finally{c.f()}r&&this.emit(ii.EW.UPDATE,{list:ii.XD.ALBUMS}),a&&this.emit(ii.EW.UPDATE,{list:ii.XD.ARTISTS}),o&&this.emit(ii.EW.UPDATE,{list:ii.XD.EPISODES}),s&&(this.emit(ii.EW.UPDATE,{list:ii.XD.SHOWS}),this.emit(ii.EW.UPDATE,{list:ii.XD.BOOKS})),l&&this.emit(ii.EW.UPDATE,{list:ii.XD.TRACKS})}}}},{key:"subscribeToUpdates",value:function(){this._transport.matchMessages(this._pattern,this.onMessage.bind(this),m.DEALER_PLUGIN_NAME)}},{key:"unsubscribeFromUpdates",value:function(){this._transport.unmatchMessages(this._pattern,this.onMessage.bind(this),m.DEALER_PLUGIN_NAME)}},{key:"onBatchChanged",value:(t=(0,r.Z)(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.size){e.next=2;break}return e.abrupt("return");case 2:return n=Array.from(t.keys()),e.next=5,this._containsItems(n);case 5:i=e.sent,this.emitUpdateItems(n,i);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(ri.w),ci=function(e){(0,Q.Z)(i,e);var t,n=si(i);function i(){return(0,E.Z)(this,i),n.apply(this,arguments)}return(0,C.Z)(i,[{key:"subscribeToUpdates",value:function(){}},{key:"unsubscribeFromUpdates",value:function(){}},{key:"emitUpdateItems",value:function(){}},{key:"emitOperationComplete",value:function(){}},{key:"onBatchChanged",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),i}(ri.w);function ui(e,t,n,i){return i?new ci(e):new li(e,t,n,new RegExp(String.raw(ni||(ni=(0,U.Z)(["hm://collection/(collection|listenlater|show)/.+/json"])))))}n(80108);var di=n(41084);function pi(e){var t,n,i=(0,di.U2)(e,"album"),r=(0,di.U2)(i,"data");return"Album"!==r.__typename?(t=i._uri,n={type:Le.p.ARTIST,uri:"",name:""},{type:Le.p.ALBUM,uri:t,name:"",images:[],artists:[n],release:{date:new Date(1970,1).toISOString(),precision:"year"}}):{type:Le.p.ALBUM,uri:i._uri,name:r.name,artists:(0,di.BH)(r.artists),images:(0,di.NS)(r.coverArt),release:(0,di.dR)(r.date)}}function mi(e){var t,n=(0,di.U2)(e,"artist"),i=(0,di.U2)(n,"data");return"Artist"!==i.__typename?(t=n._uri,{type:Le.p.ARTIST,uri:t,name:"",images:[]}):{type:Le.p.ARTIST,uri:n._uri,name:i.profile.name,images:(0,di.NS)(i.visuals.avatarImage)}}var fi=n(79262);function vi(e){return{type:Le.p.EPISODE,uri:e,name:"",description:"",duration:{milliseconds:0},timeLeft:{milliseconds:0},images:[],languages:[],release:{date:new Date(1970,1).toISOString(),precision:"year"},show:{type:Le.p.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:fi.E.UNKNOWN},podcastSubscription:{isPaywalled:!1,isUserSubscribed:!1},isPlayable:!1,isExplicit:!1,is19PlusOnly:!1}}function gi(e){return{type:Le.p.SHOW,uri:e,name:"",publisher:"",images:[],mediaType:fi.E.UNKNOWN}}function hi(e){var t,n=(0,di.U2)(e,"episode"),i=(0,di.U2)(n,"data");if("Episode"!==i.__typename)return vi(n._uri);var r=i.podcastV2,a=r.data,o="Podcast"!==a.__typename?gi(r._uri):(0,di.jv)(a);return{type:Le.p.EPISODE,uri:n._uri,name:i.name,description:null!==(t=i.description)&&void 0!==t?t:"",duration:(0,di.Pv)(i.duration),timeLeft:(0,di.GD)(i.duration,i.playedState),images:(0,di.NS)(i.coverArt),languages:(0,di.LO)(i.language),release:(0,di.dR)(i.releaseDate),show:o,podcastSubscription:(0,di.w$)(i.restrictions,i.playability),isPlayable:(0,di.Rn)(i.playability),isExplicit:(0,di.sW)(i.contentRating),is19PlusOnly:(0,di.R7)(i.contentRating)}}function ki(e){return(0,di.p_)(e,"UserLibraryEpisodePage","Error fetching library shows via GraphQL!"),{items:e.items.map(hi),offset:e.pagingInfo.offset,limit:e.pagingInfo.limit,totalLength:e.totalCount,unfilteredTotalLength:e.totalCount}}function yi(e){var t,n,i,r=(0,di.U2)(e,"podcast"),a=(0,di.U2)(r,"data");return"Podcast"!==a.__typename?(i=r._uri,{type:Le.p.SHOW,uri:i,name:"",publisher:"",images:[]}):{type:Le.p.SHOW,uri:r._uri,name:a.name,publisher:null!==(t=null===(n=a.publisher)||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:(0,di.NS)(a.coverArt)}}function bi(e){var t=(0,di.U2)(e,"addedAt"),n=(0,di.U2)(e,"track"),i=(0,di.U2)(n,"data");return"Track"!==i.__typename?function(e,t){var n={type:Le.p.ARTIST,uri:"",name:""};return{type:Le.p.TRACK,uri:e,name:"",album:{type:Le.p.ALBUM,uri:"",name:"",images:[],artist:n},artists:[n],duration:{milliseconds:0},discNumber:0,trackNumber:0,isPlayable:!1,isExplicit:!1,is19PlusOnly:!1,isLocal:!1,addedAt:(0,di.Bq)(t)}}(n._uri,t):{type:Le.p.TRACK,uri:n._uri,name:i.name,album:(0,di.Cf)((0,di.U2)(i,"albumOfTrack")),artists:(0,di.mQ)(i.artists),duration:(0,di.Pv)(i.duration),discNumber:i.discNumber,trackNumber:i.trackNumber,isPlayable:i.playability.playable,isExplicit:(0,di.sW)(i.contentRating),is19PlusOnly:(0,di.R7)(i.contentRating),isLocal:!1,addedAt:(0,di.Bq)(t)}}function Si(e){return(0,di.p_)(e,"UserLibraryTrackPage","Error fetching library shows via GraphQL!"),{items:e.items.map(bi),offset:e.pagingInfo.offset,limit:e.pagingInfo.limit,totalLength:e.totalCount,unfilteredTotalLength:e.totalCount}}function xi(e){var t,n,i,r,a=(0,di.U2)(e,"audiobook"),o=(0,di.U2)(a,"data");if("Audiobook"!==o.__typename)return r=a._uri,{type:Le.p.AUDIOBOOK,uri:r,name:"",authorName:"",images:[],isLocked:!1};var s=(0,di.U2)(o,"authors");return{type:Le.p.AUDIOBOOK,uri:a._uri,name:o.name,authorName:null!==(t=null==s||null===(n=s[0])||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:(0,di.NS)(o.coverArt),isLocked:null!==(i=o.accessInfo&&!o.accessInfo.isUserMemberOfAtLeastOneGroup)&&void 0!==i&&i}}var Oi=Spicetify.GraphQL.Definitions["libraryV2"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"libraryV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},defaultValue:{kind:"ListValue",values:[]}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"textFilter"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"flatten"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"features"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LibraryFeature"}}}},defaultValue:{kind:"ListValue",values:[]}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expandedFolders"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},defaultValue:{kind:"ListValue",values:[]}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"folderUri"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"NullValue"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeFoldersWhenFlattening"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"libraryV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"page"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"filterIds"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}},{kind:"Argument",name:{kind:"Name",value:"sortOrderId"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}},{kind:"Argument",name:{kind:"Name",value:"textFilter"},value:{kind:"Variable",name:{kind:"Name",value:"textFilter"}}},{kind:"Argument",name:{kind:"Name",value:"flatten"},value:{kind:"Variable",name:{kind:"Name",value:"flatten"}}},{kind:"Argument",name:{kind:"Name",value:"features"},value:{kind:"Variable",name:{kind:"Name",value:"features"}}},{kind:"Argument",name:{kind:"Name",value:"expandedFolders"},value:{kind:"Variable",name:{kind:"Name",value:"expandedFolders"}}},{kind:"Argument",name:{kind:"Name",value:"folderUri"},value:{kind:"Variable",name:{kind:"Name",value:"folderUri"}}},{kind:"Argument",name:{kind:"Name",value:"includeFoldersWhenFlattening"},value:{kind:"Variable",name:{kind:"Name",value:"includeFoldersWhenFlattening"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InvalidFilterIdError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"invalidFilterId"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InvalidSortOrderIdError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"invalidSortOrderId"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableFilters"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"selectedFilters"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"availableSortOrders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"selectedSortOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"breadcrumbs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"pinnable"}},{kind:"Field",name:{kind:"Name",value:"pinned"}},{kind:"Field",name:{kind:"Name",value:"depth"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Album"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Artist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Audiobook"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Podcast"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PodcastOrAudiobook"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Folder"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2Playlist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PseudoPlaylist"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Album"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Artist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Audiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2AudiobookFields"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2AudiobookFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUserMemberOfAtLeastOneGroup"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Podcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PodcastFields"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2PodcastFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2PodcastOrAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PodcastFields"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2AudiobookFields"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Folder"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryFolderResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Folder"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2FolderFields"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2FolderFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FolderResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Folder"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"folderCount"}},{kind:"Field",name:{kind:"Name",value:"playlistCount"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2Playlist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PlaylistFields"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2PlaylistFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"collaborative"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"width"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2PseudoPlaylist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LibraryPseudoPlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PseudoPlaylist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"libraryV2PseudoPlaylistFields"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"libraryV2PseudoPlaylistFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PseudoPlaylist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"count"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]))},wi=(n(65394),n(78819),n(29903)),Ni=n(3531);function _i(e){var t,n,i,r=(0,di.U2)(e,"item"),a=(0,di.U2)(r,"data");return"Album"!==a.__typename?(n=r._uri,i={type:Le.p.ARTIST,uri:"",name:""},{type:Le.p.ALBUM,uri:n,name:"",images:[],artists:[i],release:{date:new Date(1970,1).toISOString(),precision:"year"},pinned:!1,addedAt:null,lastPlayedAt:null,canPin:wi.TL.NO}):{type:Le.p.ALBUM,uri:a.uri,name:a.name,artists:(0,di.BH)(a.artists),images:(0,di.NS)(a.coverArt),release:(0,di.dR)(a.date),pinned:e.pinned,canPin:wi.TL.YES,addedAt:(0,di.D)(e.addedAt),lastPlayedAt:(0,di.D)(e.playedAt),color:(0,Ni.bS)(null===(t=a.coverArt)||void 0===t?void 0:t.extractedColors)}}function Ei(e){var t,n,i=(0,di.U2)(e,"item"),r=(0,di.U2)(i,"data");return"Artist"!==r.__typename?(n=i._uri,{type:Le.p.ARTIST,uri:n,name:"",images:[],pinned:!1,canPin:wi.TL.NO,addedAt:null,lastPlayedAt:null}):{type:Le.p.ARTIST,uri:i._uri,name:r.profile.name,images:(0,di.NS)(r.visuals.avatarImage),pinned:e.pinned,canPin:wi.TL.YES,addedAt:(0,di.D)(e.addedAt),lastPlayedAt:(0,di.D)(e.playedAt),color:(0,Ni.bS)(null===(t=r.visuals.avatarImage)||void 0===t?void 0:t.extractedColors)}}function Ci(e){var t,n,i,r,a,o=(0,di.U2)(e,"item"),s=(0,di.U2)(o,"data");if("Audiobook"!==s.__typename)return a=o._uri,{type:Le.p.AUDIOBOOK,uri:a,name:"",authorName:"",images:[],isLocked:!1,pinned:!1,canPin:wi.TL.NO,addedAt:null,lastPlayedAt:null};var l=(0,di.U2)(s,"authors");return{type:Le.p.AUDIOBOOK,uri:o._uri,name:s.name,authorName:null!==(t=null==l||null===(n=l[0])||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:(0,di.NS)(s.coverArt),isLocked:null!==(i=s.accessInfo&&!s.accessInfo.isUserMemberOfAtLeastOneGroup)&&void 0!==i&&i,pinned:e.pinned,canPin:wi.TL.YES,addedAt:(0,di.D)(e.addedAt),lastPlayedAt:(0,di.D)(e.playedAt),color:(0,Ni.bS)(null===(r=s.coverArt)||void 0===r?void 0:r.extractedColors)}}function Pi(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,di.U2)(e,"item"),a=(0,di.U2)(r,"data");return"Folder"!==a.__typename?(n=r._uri,{type:Le.p.FOLDER,uri:n,rowId:n,name:"",pinned:!1,canPin:wi.TL.NO,numberOfFolders:0,numberOfPlaylists:0,canReorder:!1,isFlattened:!1,addedAt:null,lastPlayedAt:null}):{type:Le.p.FOLDER,uri:a.uri,rowId:a.uri,name:a.name,pinned:e.pinned,canPin:e.pinnable?wi.TL.YES:wi.TL.NO,numberOfFolders:a.folderCount,numberOfPlaylists:a.playlistCount,folderDepth:e.depth,canReorder:t,isFlattened:i,addedAt:(0,di.D)(e.addedAt),lastPlayedAt:(0,di.D)(e.playedAt)}}function Ii(){return{type:Le.p.USER,name:"",uri:"",id:"",username:"",images:[]}}function ji(e,t,n,i){var r,a,o,s,l,c,u=(0,di.U2)(e,"item"),d=(0,di.U2)(u,"data");if(i.has(u._uri))return null;if("Playlist"!==d.__typename)return s=u._uri,l=e.depth,c=e.pinned,{type:Le.p.PLAYLIST,uri:s,name:"",images:[],pinned:c,canPin:wi.TL.NO,owner:Ii(),folderDepth:l,canReorder:!1,addedAt:null,lastPlayedAt:null};var p=(0,di.U2)(d,"ownerV2"),m=(0,di.U2)(p,"data");return{type:Le.p.PLAYLIST,uri:d.uri,name:d.name,images:(0,di.NS)(null!==(r=d.images.items.at(0))&&void 0!==r?r:null),pinned:e.pinned,canPin:e.pinnable?wi.TL.YES:wi.TL.NO,folderDepth:e.depth,canAddTo:d.collaborative||"User"===m.__typename&&m.username===n,canReorder:t,owner:"User"===m.__typename?{type:Le.p.USER,uri:m.uri,name:m.name,username:m.username,images:null!==(a=(0,di.NS)(m.avatar))&&void 0!==a?a:null,id:m.id}:Ii(),addedAt:(0,di.D)(e.addedAt),lastPlayedAt:(0,di.D)(e.playedAt),color:(0,Ni.bS)(null===(o=d.images.items.at(0))||void 0===o?void 0:o.extractedColors)}}function Ai(e){var t,n,i,r,a=(0,di.U2)(e,"item"),o=(0,di.U2)(a,"data");return"Podcast"!==o.__typename?(r=a._uri,{type:Le.p.SHOW,uri:r,name:"",publisher:"",images:[],pinned:!1,canPin:wi.TL.NO,addedAt:null,lastPlayedAt:null}):{type:Le.p.SHOW,uri:a._uri,name:o.name,publisher:null!==(t=null===(n=o.publisher)||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:(0,di.NS)(o.coverArt),pinned:e.pinned,canPin:wi.TL.YES,addedAt:(0,di.D)(e.addedAt),lastPlayedAt:(0,di.D)(e.playedAt),color:(0,Ni.bS)(null===(i=o.coverArt)||void 0===i?void 0:i.extractedColors)}}function Ti(e){return"spotify:collection:tracks"===e.item._uri?function(e){var t=(0,di.U2)(e,"item"),n=(0,di.U2)(t,"data");if("PseudoPlaylist"!==n.__typename)return i=t._uri,{type:Le.p.LIKED_SONGS,uri:i,name:"",images:[],pinned:!1,canPin:wi.TL.NO,addedAt:null,lastPlayedAt:null};var i;return{type:Le.p.LIKED_SONGS,uri:n.uri,name:n.name,images:n.image.sources,pinned:e.pinned,canPin:wi.TL.YES,numberOfSongs:n.count,addedAt:null,lastPlayedAt:(0,di.D)(e.playedAt),color:(0,Ni.bS)(n.image.extractedColors)}}(e):function(e){var t=(0,di.U2)(e,"item"),n=(0,di.U2)(t,"data");if("PseudoPlaylist"!==n.__typename)return i=t._uri,{type:Le.p.YOUR_EPISODES,uri:i,name:"",images:[],pinned:!1,canPin:wi.TL.NO,addedAt:null,lastPlayedAt:null};var i;return{type:Le.p.YOUR_EPISODES,uri:n.uri,name:n.name,images:n.image.sources,pinned:e.pinned,canPin:wi.TL.YES,addedAt:null,lastPlayedAt:(0,di.D)(e.playedAt),color:(0,Ni.bS)(n.image.extractedColors)}}(e)}function Di(e,t,n){var i,r,a,o,s,l,c,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set,d=null==e?void 0:e.page;if("InvalidFilterIdError"===(null==d?void 0:d.__typename))throw new wi.Ik(d.invalidFilterId);if("InvalidSortOrderIdError"===(null==d?void 0:d.__typename))throw new wi.j2(d.invalidSortOrderId);if("NotFound"===(null==d?void 0:d.__typename))throw new wi.xX(null!==(c=d.message)&&void 0!==c?c:"Folder not found");(0,di.p_)(d,"LibraryPage","Error fetching library via GraphQL!");var p=null==t||null===(i=t.filters)||void 0===i?void 0:i[0],m="Playlists"===p&&"Custom Order"===d.selectedSortOrder.id,f=!(null==t||!t.textFilter),v=d.breadcrumbs;return{items:(null!==(r=d.items)&&void 0!==r?r:[]).map((function(e){return function(e,t,n,i,r){switch(e.item.__typename){case"AlbumResponseWrapper":return _i(e);case"ArtistResponseWrapper":return Ei(e);case"AudiobookResponseWrapper":return Ci(e);case"PodcastOrAudiobookResponseWrapper":case"PodcastResponseWrapper":return Ai(e);case"PlaylistResponseWrapper":return ji(e,t,n,r);case"LibraryPseudoPlaylistResponseWrapper":return Ti(e);case"LibraryFolderResponseWrapper":return Pi(e,t,i);default:return(0,Me._)(e.item,"Type not recognized"),null}}(e,m,n,f,u)})),offset:d.pagingInfo.offset,limit:d.pagingInfo.limit,totalLength:d.totalCount,unfilteredTotalLength:d.totalCount,passedFilterIds:null!==(a=null==t?void 0:t.filters)&&void 0!==a?a:[],availableFilters:d.availableFilters,selectedFilters:d.selectedFilters,availableSortOrders:d.availableSortOrders,selectedSortOrder:d.selectedSortOrder,primaryFilter:null!==(o=Ri(p))&&void 0!==o?o:void 0,hasUnfilteredItems:!!f||d.totalCount>0,hasTextFilter:f,reorderAllowed:m,passedFolderUri:null==t?void 0:t.folderUri,openedFolderName:null==v||null===(s=v.at(-1))||void 0===s?void 0:s.name,parentFolderUri:null==v||null===(l=v.at(-2))||void 0===l?void 0:l.uri}}function Ri(e){switch(e){case"Albums":return Le.p.ALBUM;case"Artists":return Le.p.ARTIST;case"Playlists":return Le.p.PLAYLIST;case"Podcasts & Shows":return Le.p.SHOW;case"Audiobooks":return Le.p.AUDIOBOOK;default:return null}}var Fi=n(24511);function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ui=50,Zi={items:[],totalLength:0,unfilteredTotalLength:0,offset:0,limit:0},Bi=Mi(Mi({},Zi),{},{primaryFilter:void 0,passedFilterIds:[],availableFilters:[],selectedFilters:[],availableSortOrders:[],selectedSortOrder:{id:"",name:""},hasUnfilteredItems:!1,hasTextFilter:!1,reorderAllowed:!1,passedFolderUri:void 0}),Vi=function(){function e(t,n,i,a){var s=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set;(0,E.Z)(this,e),(0,P.Z)(this,"_cache",new Map),(0,P.Z)(this,"_inFlightCache",new Xe.tL),this._loader=t,this._isAnonymous=i,this._currentUsername=a,this.filteredPlaylists=l,this._events=ui(this._cache,function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(s._cache,s._batchedLoader,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n,this._isAnonymous),this._batchedLoader=(0,bn.QM)(this._loader,50)}var t,n,i,a,s,l,c,u,d,p,m,f,v,g;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canSortTracksAndEpisodes:!1,canFilterTracksAndEpisodes:!1,canModifyOffline:!1,canGetTracksByArtistOrAlbum:!1,canMarkEpisodesAsDone:!1,canFetchAllItems:!1,canPin:!0,canTextFilterContentsInRealtime:!1}}},{key:"checkIfLoggedIn",value:function(){if(this._isAnonymous)throw new Error("LibraryAPI is not available for anonymous users!")}},{key:"query",value:(g=(0,r.Z)(o().mark((function e(t,n){var i,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._inFlightCache.create("".concat((0,xn.Y)(t).name,":").concat(JSON.stringify(n)),(function(){return r._loader(t,n)}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"markAsInLibrary",value:function(e){var t=this;e.items.forEach((function(e){var n=e.uri;return t._cache.set(n,!0)}))}},{key:"getAlbums",value:(v=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Zi);case 3:return s=a.offset,l=void 0===s?0:s,c=a.limit,u=void 0===c?Ui:c,e.next=6,this.query(Un,{offset:l,limit:u});case 6:return d=e.sent,o=null!==(t=null==d||null===(n=d.data)||void 0===n||null===(i=n.me)||void 0===i||null===(r=i.library)||void 0===r?void 0:r.albums)&&void 0!==t?t:null,(0,di.p_)(o,"UserLibraryAlbumPage","Error fetching library albums via GraphQL!"),p={items:o.items.map(pi),offset:o.pagingInfo.offset,limit:o.pagingInfo.limit,totalLength:o.totalCount,unfilteredTotalLength:o.totalCount},this.markAsInLibrary(p),e.abrupt("return",p);case 10:case"end":return e.stop()}var o}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"getArtists",value:(f=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Zi);case 3:return s=a.offset,l=void 0===s?0:s,c=a.limit,u=void 0===c?Ui:c,e.next=6,this.query(Bn,{offset:l,limit:u});case 6:return d=e.sent,o=null!==(t=null==d||null===(n=d.data)||void 0===n||null===(i=n.me)||void 0===i||null===(r=i.library)||void 0===r?void 0:r.artists)&&void 0!==t?t:null,(0,di.p_)(o,"UserLibraryArtistPage","Error fetching library artists via GraphQL!"),p={items:o.items.map(mi),offset:o.pagingInfo.offset,limit:o.pagingInfo.limit,totalLength:o.totalCount,unfilteredTotalLength:o.totalCount},this.markAsInLibrary(p),e.abrupt("return",p);case 10:case"end":return e.stop()}var o}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getShows",value:(m=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Zi);case 3:return s=a.offset,l=void 0===s?0:s,c=a.limit,u=void 0===c?Ui:c,e.next=6,this.query(Wn,{offset:l,limit:u});case 6:return d=e.sent,o=null!==(t=null==d||null===(n=d.data)||void 0===n||null===(i=n.me)||void 0===i||null===(r=i.library)||void 0===r?void 0:r.podcasts)&&void 0!==t?t:null,(0,di.p_)(o,"UserLibraryPodcastPage"),p={items:o.items.map(yi)||[],offset:o.pagingInfo.offset,limit:o.pagingInfo.limit,totalLength:o.totalCount,unfilteredTotalLength:o.totalCount},this.markAsInLibrary(p),e.abrupt("return",p);case 10:case"end":return e.stop()}var o}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getTracks",value:(p=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Zi);case 3:if(void 0===a.uri){e.next=5;break}return e.abrupt("return",{items:[],offset:0,limit:0,totalLength:0,unfilteredTotalLength:0});case 5:return s=a.offset,l=void 0===s?0:s,c=a.limit,u=void 0===c?Ui:c,e.next=8,this.query(Hn,{offset:l,limit:u});case 8:return d=e.sent,p=Si(null!==(t=null==d||null===(n=d.data)||void 0===n||null===(i=n.me)||void 0===i||null===(r=i.library)||void 0===r?void 0:r.tracks)&&void 0!==t?t:null),this.markAsInLibrary(p),e.abrupt("return",p);case 12:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getEpisodes",value:(d=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Zi);case 3:return s=a.offset,l=void 0===s?0:s,c=a.limit,u=void 0===c?Ui:c,e.next=6,this.query(Yn,{offset:l,limit:u});case 6:return d=e.sent,p=ki(null!==(t=null==d||null===(n=d.data)||void 0===n||null===(i=n.me)||void 0===i||null===(r=i.library)||void 0===r?void 0:r.episodes)&&void 0!==t?t:null),this.markAsInLibrary(p),e.abrupt("return",p);case 10:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getBooks",value:(u=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Zi);case 3:return s=a.offset,l=void 0===s?0:s,c=a.limit,u=void 0===c?Ui:c,e.next=6,this.query(Kn,{offset:l,limit:u});case 6:return d=e.sent,o=null!==(t=null==d||null===(n=d.data)||void 0===n||null===(i=n.me)||void 0===i||null===(r=i.library)||void 0===r?void 0:r.audiobooks)&&void 0!==t?t:null,(0,di.p_)(o,"UserLibraryAudiobookPage"),p={items:o.items.map(xi)||[],offset:o.pagingInfo.offset,limit:o.pagingInfo.limit,totalLength:o.totalCount,unfilteredTotalLength:o.totalCount},this.markAsInLibrary(p),e.abrupt("return",p);case 10:case"end":return e.stop()}var o}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"onUpdateItems",value:function(e,t){this._events.emitUpdateItems(e,t)}},{key:"add",value:(c=(0,r.Z)(o().mark((function e(){var t,n,i,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),i=0;i<t;i++)n[i]=r[i];if(!this._events.emitOperationSync(ii.pT.ADD,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!0),e.next=8,In(this._batchedLoader,n);case 8:this._events.emitOperationComplete(ii.pT.ADD,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!1),this._events.emitOperationComplete(ii.pT.ADD,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return c.apply(this,arguments)})},{key:"remove",value:(l=(0,r.Z)(o().mark((function e(){var t,n,i,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),i=0;i<t;i++)n[i]=r[i];if(!this._events.emitOperationSync(ii.pT.REMOVE,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!1),e.next=8,An(this._batchedLoader,n);case 8:this._events.emitOperationComplete(ii.pT.REMOVE,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!0),this._events.emitOperationComplete(ii.pT.REMOVE,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return l.apply(this,arguments)})},{key:"contains",value:(s=(0,r.Z)(o().mark((function e(){var t,n,i,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),i=0;i<t;i++)n[i]=a[i];if(!this._isAnonymous){e.next=3;break}return e.abrupt("return",new Array(n.length).fill(!1));case 3:return e.next=5,ei(this._cache,this._batchedLoader,n);case 5:return r=e.sent,this.onUpdateItems(n,r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"containsSync",value:function(e){return!this._isAnonymous&&this._cache.get(e)}},{key:"markAsPlayed",value:function(){return Promise.resolve()}},{key:"markAsUnPlayed",value:function(){return Promise.resolve()}},{key:"pin",value:(a=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(this._loader,t,this._currentUsername);case 2:(n=e.sent)===Fi.Mw.FailedItemLimitReached?this._events.emitUpdatePinErrorTooManyPins(t,4):n===Fi.Mw.Successful&&this._events.emitUpdatePin(t,!0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"unpin",value:(i=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(this._loader,t,this._currentUsername);case 2:this._events.emitUpdatePin(t,!1);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getContents",value:(n=(0,r.Z)(o().mark((function e(t){var n,i,r,a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isAnonymous){e.next=2;break}return e.abrupt("return",Bi);case 2:return l=!(null==t||!t.textFilter),e.next=5,this.query(Oi,{filters:null==t?void 0:t.filters,order:null!==(n=null==t?void 0:t.sortOrder)&&void 0!==n?n:null,textFilter:null!==(i=null==t?void 0:t.textFilter)&&void 0!==i?i:null,features:[Fi.dm.LikedSongs,Fi.dm.YourEpisodes],limit:null==t?void 0:t.limit,offset:null==t?void 0:t.offset,flatten:l,expandedFolders:l||null==t?void 0:t.expandedFolders,folderUri:(null==t?void 0:t.folderUri)||null,includeFoldersWhenFlattening:!0});case 5:return c=e.sent,e.abrupt("return",Di(null!==(r=null==c||null===(a=c.data)||void 0===a||null===(s=a.me)||void 0===s?void 0:s.libraryV2)&&void 0!==r?r:null,t,this._currentUsername,this.filteredPlaylists));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getAlbum",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getContentsDownloadedFilterId",value:function(){return null}},{key:"getFilterLabel",value:function(e){return e.toLowerCase().replace(/\s/g,"_")}},{key:"getSortOrderLabel",value:function(e){return e.toLowerCase().replace(/\s/g,"_")}}]),e}(),Hi=(n(92346),n(54828)),Gi=n(25384);function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ki=50,Yi={items:[],totalLength:0,unfilteredTotalLength:0,offset:0,limit:0},qi=zi(zi({},Yi),{},{primaryFilter:void 0,passedFilterIds:[],availableFilters:[],selectedFilters:[],availableSortOrders:[],selectedSortOrder:{id:"",name:""},hasUnfilteredItems:!1,hasTextFilter:!1,reorderAllowed:!1,passedFolderUri:void 0});function Qi(e){return(null==e?void 0:e.type)===Le.p.ALBUM}function Ji(e){return(null==e?void 0:e.type)===Le.p.ARTIST}function Xi(e){return(null==e?void 0:e.type)===Le.p.SHOW}function $i(e){return(null==e?void 0:e.type)===Le.p.AUDIOBOOK}var er="Alphabetical",tr="Recently added";function nr(e){if(void 0===e)return tr;var t=e.field;if(t===Hi.hx.NAME)return er;if(t===Hi.hx.ADDED_AT)return tr;throw new Error("Invalid artist sort params!")}function ir(e){if(void 0===e)return tr;var t=e.field;if(t===Hi.lY.NAME)return er;if(t===Hi.lY.ARTIST_NAME)return"Creator";if(t===Hi.lY.ADDED_AT)return tr;throw new Error("Invalid album sort params!")}function rr(e){if(void 0===e)return tr;var t=e.field;if(t===Hi.aW.NAME)return er;if(t===Hi.aW.ADDED_AT)return tr;throw new Error("Invalid show sort params!")}function ar(e){if(void 0===e)return tr;if(e===Hi.VN.NAME)return er;if(e===Hi.VN.ADDED_AT)return tr;throw new Error("Invalid book sort params!")}function or(e){return void 0===e?null:e.value}var sr=function(){function e(t,n,i,a){var s=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Set;(0,E.Z)(this,e),(0,P.Z)(this,"_cache",new Map),(0,P.Z)(this,"_inFlightCache",new Xe.tL),this._loader=t,this._isAnonymous=i,this._currentUsername=a,this.filteredPlaylists=l,this._events=ui(this._cache,function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(s._cache,s._batchedLoader,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n,this._isAnonymous),this._batchedLoader=(0,bn.QM)(this._loader,50)}var t,n,i,a,s,l,c,u,d,p,m,f,v,g;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canSortTracksAndEpisodes:!1,canFilterTracksAndEpisodes:!1,canModifyOffline:!1,canGetTracksByArtistOrAlbum:!1,canMarkEpisodesAsDone:!1,canFetchAllItems:!1,canPin:!0,canTextFilterContentsInRealtime:!1}}},{key:"checkIfLoggedIn",value:function(){if(this._isAnonymous)throw new Error("LibraryAPI is not available for anonymous users!")}},{key:"query",value:(g=(0,r.Z)(o().mark((function e(t,n){var i,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._inFlightCache.create("".concat((0,xn.Y)(t).name,":").concat(JSON.stringify(n)),(function(){return r._loader(t,n)}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"markAsInLibrary",value:function(e){var t=this;e.items.forEach((function(e){return e&&t._cache.set(e.uri,!0)}))}},{key:"getAlbums",value:(v=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>0&&void 0!==f[0]?f[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Yi);case 3:return a=r.offset,s=void 0===a?0:a,l=r.limit,c=void 0===l?Ki:l,u=r.sort,d=r.filter,e.next=6,this.query(Oi,{filters:["Albums"],order:ir(u),textFilter:or((0,Gi.cj)(d)),offset:s,limit:c});case 6:return p=e.sent,m=Di(null!==(t=null==p||null===(n=p.data)||void 0===n||null===(i=n.me)||void 0===i?void 0:i.libraryV2)&&void 0!==t?t:null),this.markAsInLibrary(m),e.abrupt("return",zi(zi({},m),{},{items:m.items.filter(Qi)}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"getArtists",value:(f=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>0&&void 0!==f[0]?f[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Yi);case 3:return a=r.offset,s=void 0===a?0:a,l=r.limit,c=void 0===l?Ki:l,u=r.sort,d=r.filter,e.next=6,this.query(Oi,{filters:["Artists"],order:nr(u),textFilter:or((0,Gi.cj)(d)),offset:s,limit:c});case 6:return p=e.sent,m=Di(null!==(t=null==p||null===(n=p.data)||void 0===n||null===(i=n.me)||void 0===i?void 0:i.libraryV2)&&void 0!==t?t:null),this.markAsInLibrary(m),e.abrupt("return",zi(zi({},m),{},{items:m.items.filter(Ji)}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getShows",value:(m=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>0&&void 0!==f[0]?f[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Yi);case 3:return a=r.offset,s=void 0===a?0:a,l=r.limit,c=void 0===l?Ki:l,u=r.sort,d=r.filter,e.next=6,this.query(Oi,{filters:["Podcasts & Shows"],order:rr(u),textFilter:or((0,Gi.cj)(d)),offset:s,limit:c});case 6:return p=e.sent,m=Di(null!==(t=null==p||null===(n=p.data)||void 0===n||null===(i=n.me)||void 0===i?void 0:i.libraryV2)&&void 0!==t?t:null),this.markAsInLibrary(m),e.abrupt("return",zi(zi({},m),{},{items:m.items.filter(Xi)}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getTracks",value:(p=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Yi);case 3:if(void 0===a.uri){e.next=5;break}return e.abrupt("return",{items:[],offset:0,limit:0,totalLength:0,unfilteredTotalLength:0});case 5:return s=a.offset,l=void 0===s?0:s,c=a.limit,u=void 0===c?Ki:c,e.next=8,this.query(Hn,{offset:l,limit:u});case 8:return d=e.sent,p=Si(null!==(t=null==d||null===(n=d.data)||void 0===n||null===(i=n.me)||void 0===i||null===(r=i.library)||void 0===r?void 0:r.tracks)&&void 0!==t?t:null),this.markAsInLibrary(p),e.abrupt("return",p);case 12:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getEpisodes",value:(d=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>0&&void 0!==m[0]?m[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Yi);case 3:return s=a.offset,l=void 0===s?0:s,c=a.limit,u=void 0===c?Ki:c,e.next=6,this.query(Yn,{offset:l,limit:u});case 6:return d=e.sent,p=ki(null!==(t=null==d||null===(n=d.data)||void 0===n||null===(i=n.me)||void 0===i||null===(r=i.library)||void 0===r?void 0:r.episodes)&&void 0!==t?t:null),this.markAsInLibrary(p),e.abrupt("return",p);case 10:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getBooks",value:(u=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>0&&void 0!==f[0]?f[0]:{},!this._isAnonymous){e.next=3;break}return e.abrupt("return",Yi);case 3:return a=r.offset,s=void 0===a?0:a,l=r.limit,c=void 0===l?Ki:l,u=r.sort,d=r.filter,e.next=6,this.query(Oi,{filters:["Audiobooks"],order:ar(u),textFilter:or((0,Gi.cj)(d)),offset:s,limit:c});case 6:return p=e.sent,m=Di(null!==(t=null==p||null===(n=p.data)||void 0===n||null===(i=n.me)||void 0===i?void 0:i.libraryV2)&&void 0!==t?t:null),this.markAsInLibrary(m),e.abrupt("return",zi(zi({},m),{},{items:m.items.filter($i)}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"onUpdateItems",value:function(e,t){this._events.emitUpdateItems(e,t)}},{key:"add",value:(c=(0,r.Z)(o().mark((function e(){var t,n,i,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),i=0;i<t;i++)n[i]=r[i];if(!this._events.emitOperationSync(ii.pT.ADD,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!0),e.next=8,In(this._batchedLoader,n);case 8:this._events.emitOperationComplete(ii.pT.ADD,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!1),this._events.emitOperationComplete(ii.pT.ADD,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return c.apply(this,arguments)})},{key:"remove",value:(l=(0,r.Z)(o().mark((function e(){var t,n,i,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),i=0;i<t;i++)n[i]=r[i];if(!this._events.emitOperationSync(ii.pT.REMOVE,n)){e.next=3;break}return e.abrupt("return");case 3:return this.checkIfLoggedIn(),e.prev=4,this.onUpdateItems(n,!1),e.next=8,An(this._batchedLoader,n);case 8:this._events.emitOperationComplete(ii.pT.REMOVE,n),e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(4),this.onUpdateItems(n,!0),this._events.emitOperationComplete(ii.pT.REMOVE,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(){return l.apply(this,arguments)})},{key:"contains",value:(s=(0,r.Z)(o().mark((function e(){var t,n,i,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),i=0;i<t;i++)n[i]=a[i];if(!this._isAnonymous){e.next=3;break}return e.abrupt("return",new Array(n.length).fill(!1));case 3:return e.next=5,ei(this._cache,this._batchedLoader,n);case 5:return r=e.sent,this.onUpdateItems(n,r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"containsSync",value:function(e){return!this._isAnonymous&&this._cache.get(e)}},{key:"markAsPlayed",value:function(){return Promise.resolve()}},{key:"markAsUnPlayed",value:function(){return Promise.resolve()}},{key:"pin",value:(a=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dn(this._loader,t,this._currentUsername);case 2:(n=e.sent)===Fi.Mw.FailedItemLimitReached?this._events.emitUpdatePinErrorTooManyPins(t,4):n===Fi.Mw.Successful&&this._events.emitUpdatePin(t,!0);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"unpin",value:(i=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(this._loader,t,this._currentUsername));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getContents",value:(n=(0,r.Z)(o().mark((function e(t){var n,i,r,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isAnonymous){e.next=2;break}return e.abrupt("return",qi);case 2:return e.next=4,this.query(Oi,{filters:null==t?void 0:t.filters,order:null!==(n=null==t?void 0:t.sortOrder)&&void 0!==n?n:null,textFilter:null!==(i=null==t?void 0:t.textFilter)&&void 0!==i?i:null,features:[Fi.dm.LikedSongs,Fi.dm.YourEpisodes],limit:null==t?void 0:t.limit,offset:null==t?void 0:t.offset,flatten:!(null==t||!t.textFilter),expandedFolders:null==t?void 0:t.expandedFolders,folderUri:(null==t?void 0:t.folderUri)||null});case 4:return l=e.sent,e.abrupt("return",Di(null!==(r=null==l||null===(a=l.data)||void 0===a||null===(s=a.me)||void 0===s?void 0:s.libraryV2)&&void 0!==r?r:null,t,this._currentUsername,this.filteredPlaylists));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getAlbum",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"getContentsDownloadedFilterId",value:function(){return null}},{key:"getFilterLabel",value:function(e){return e.toLowerCase().replace(/\s/g,"_")}},{key:"getSortOrderLabel",value:function(e){return e.toLowerCase().replace(/\s/g,"_")}}]),e}(),lr=n(46929),cr=function(){function e(){(0,E.Z)(this,e),this._events=new lr.L}var t,n,i,a,s;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canFetchAllTracks:!1}}},{key:"getEvents",value:function(){return this._events}},{key:"getIsEnabled",value:function(){return!1}},{key:"setIsEnabled",value:function(e){}},{key:"subscribeIsEnabled",value:function(e){return function(){}}},{key:"browseForFolder",value:function(){return Promise.resolve({path:null})}},{key:"getTracks",value:(s=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"getSources",value:(a=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"mutateDefaultSource",value:(i=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"addFolder",value:(n=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"removeFolder",value:(t=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),ur=n(54739),dr=n(48850),pr=n(98934),mr="https://spclient.wg.spotify.com/offline/v1";function fr(e,t){return vr.apply(this,arguments)}function vr(){return(vr=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(mr).withPath("/resources/".concat(encodeURIComponent(n))).withEndpointIdentifier("/resources/{resource}").withoutMarket().send();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gr(e,t,n){return hr.apply(this,arguments)}function hr(){return hr=(0,r.Z)(o().mark((function e(t,n,i){var r,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>3&&void 0!==s[3]&&s[3],i){e.next=3;break}throw new Error("Passing a `deviceKey` is required in `OfflineWeb`");case 3:return a={operations:[{operation:r?"REMOVE":"ADD",uri:n}]},e.next=6,t.build().withHost(mr).withMethod("POST").withPath("/devices/".concat(i.deviceId,"/cache/").concat(i.cacheId,"/resources:write")).withEndpointIdentifier("/devices/{deviceId}/cache/{cacheId}/resources:write").withJsonContentType().withBody(a).withoutMarket().send();case 6:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}n(76626);var kr=n(11451),yr=n(9587),br=function(e){return e.UNSPECIFIED="UNSPECIFIED",e.REQUESTED="REQUESTED",e.PENDING="PENDING",e.DOWNLOADING="DOWNLOADING",e.DOWNLOADED="DOWNLOADED",e.FAILURE="FAILURE",e}(br||{}),Sr=(0,yr.y)(br);function xr(e){if(Sr(e))switch(e){case br.UNSPECIFIED:return dr.Om.NO;case br.REQUESTED:case br.PENDING:return dr.Om.WAITING;case br.DOWNLOADING:return dr.Om.DOWNLOADING;case br.DOWNLOADED:return dr.Om.YES;case br.FAILURE:return dr.Om.NO;default:return(0,Me._)(e),dr.Om.NO}return dr.Om.NO}function Or(e){var t=e.devices,n=e.resources,i=Object.fromEntries(n.map((function(e){return[e.cache_id,e.resource]})));return t.filter((function(e){var t=e.client_id;return dr.wk.includes(t)})).map((function(e){var t,n,r,a=e.device_id,o=e.cache_id,s=e.name,l=e.type,c=e.platform,u=e.last_seen_at;return{deviceId:a,cacheId:o,deviceType:l,clientPlatform:c,isLocal:!1,name:s,type:(0,kr.t)(l),lastSeenAtMs:new Date(u).getTime(),contextDownloadAvailability:xr(null===(t=i[o])||void 0===t?void 0:t.state),contextDownloadPercentage:null!==(n=null===(r=i[o])||void 0===r?void 0:r.progress)&&void 0!==n?n:0}}))}var wr,Nr=function(){function e(t){(0,E.Z)(this,e),(0,P.Z)(this,"_events",new pr.N),this._builder=t}var t,n,i,a,s,l,c;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canDownload:function(){return dr.PQ.NO_CAPABILITY},canRemoteDownload:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getDownloads",value:(c=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)})},{key:"getAvailabilitySync",value:function(){return dr.Om.NO}},{key:"getContextForDevices",value:(l=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(this._builder,t);case 2:if(200===(n=e.sent).status){e.next=5;break}return e.abrupt("return",[]);case 5:return e.abrupt("return",Or(n.body));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"addDownload",value:(s=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr(this._builder,t,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"removeDownload",value:(a=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gr(this._builder,t,n,!0);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"removeAllDownloads",value:(i=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"removeCache",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getStatistics",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject());case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),_r=n(68074),Er=n(80780),Cr=n(34345),Pr=n(92720),Ir=n(14170);function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var Ar=new RegExp(String.raw(wr||(wr=(0,U.Z)(["hm://playlist/v2/playlist/(?<base62Id>.+)"])))),Tr=function(e){(0,Q.Z)(n,e);var t=jr(n);function n(e){var i;return(0,E.Z)(this,n),i=t.call(this),(0,P.Z)((0,Pr.Z)(i),"_uris",new Set),i._transport=e,i.onMessage=i.onMessage.bind((0,Pr.Z)(i)),i}return(0,C.Z)(n,[{key:"onBatchChanged",value:function(e){this._uris=new Set(e.keys()),this._transport.unmatchMessages(Ar,this.onMessage,m.DEALER_PLUGIN_NAME),e.size>0&&this._transport.matchMessages(Ar,this.onMessage,m.DEALER_PLUGIN_NAME)}},{key:"onMessage",value:function(e){var t,n=e.uri.match(Ar);if(void 0!==(null==n||null===(t=n.groups)||void 0===t?void 0:t.base62Id)){var i=(0,f.FW)(n.groups.base62Id).toURI();this._uris.has(i)&&this.emit(_r.XL.UPDATE,{uri:i})}}}]),n}(Ir.n);var Dr=n(76317),Rr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}]}}]}}],Fr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"FetchPlaylistMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistUser"}}]}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collaborative"}},{kind:"Field",name:{kind:"Name",value:"followers"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"attributes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}}]}}]}}],Lr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistContentsItemTrackArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}],Mr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistContentsItemTrackAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItemTrackArtist"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}]}}],Ur=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistContentsItemTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",alias:{kind:"Name",value:"trackDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItemTrackAlbum"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItemTrackArtist"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discNumber"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}],Zr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistContentsItemLocalTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",alias:{kind:"Name",value:"albumName"},name:{kind:"Name",value:"album"}},{kind:"Field",alias:{kind:"Name",value:"artistName"},name:{kind:"Name",value:"artist"}},{kind:"Field",alias:{kind:"Name",value:"localTrackDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}],Br=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistContentsItemEpisodeShow"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}],Vr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistContentsItemEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",alias:{kind:"Name",value:"episodeDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItemEpisodeShow"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}],Hr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistContentsItemResponse"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemResponseV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItemTrack"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItemLocalTrack"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItemEpisode"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnknownType"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}],Gr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"playlistContentsItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"addedAt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"addedBy"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistUser"}}]}},{kind:"Field",name:{kind:"Name",value:"attributes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}},{kind:"Field",name:{kind:"Name",value:"itemV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItemResponse"}}]}}]}}],Wr=[{kind:"FragmentDefinition",name:{kind:"Name",value:"FetchPlaylistContents"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemsPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"playlistContentsItem"}}]}}]}}]}}]}}],zr=Spicetify.GraphQL.Definitions["fetchPlaylist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchPlaylist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistMetadata"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistContents"}}]}}]}}]}}].concat((0,_.Z)(Fr),(0,_.Z)(Rr),(0,_.Z)(Dr.rD.definitions),(0,_.Z)(Dr.rA.definitions),(0,_.Z)(Wr),(0,_.Z)(Gr),(0,_.Z)(Hr),(0,_.Z)(Ur),(0,_.Z)(Mr),(0,_.Z)(Lr),(0,_.Z)(Zr),(0,_.Z)(Vr),(0,_.Z)(Br))},Kr=Spicetify.GraphQL.Definitions["fetchPlaylistMetadata"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchPlaylistMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistMetadata"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistContentsDurations"}}]}}]}}]}}].concat((0,_.Z)(Fr),(0,_.Z)(Rr),(0,_.Z)(Dr.rD.definitions),(0,_.Z)(Dr.rA.definitions),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"FetchPlaylistContentsDurations"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemsPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",alias:{kind:"Name",value:"trackDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LocalTrack"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"localTrackDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"episodeDuration"},name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}}]}}]}}]}}]}}]))},Yr=Spicetify.GraphQL.Definitions["fetchPlaylistContents"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchPlaylistContents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FetchPlaylistContents"}}]}}]}}]}}].concat((0,_.Z)(Wr),(0,_.Z)(Gr),(0,_.Z)(Rr),(0,_.Z)(Dr.rD.definitions),(0,_.Z)(Dr.rA.definitions),(0,_.Z)(Hr),(0,_.Z)(Ur),(0,_.Z)(Mr),(0,_.Z)(Lr),(0,_.Z)(Zr),(0,_.Z)(Vr),(0,_.Z)(Br))};function qr(e){return{url:e.url,width:e.width,height:e.height}}function Qr(e){switch(e){case Fi.VQ.Minute:case Fi.VQ.Hour:case Fi.VQ.Day:return"day";case Fi.VQ.Month:return"month";case Fi.VQ.Year:case void 0:return"year";default:return(0,Me.U)(e)}}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $r(e){var t,n,i;return null===e||"User"!==e.data.__typename?null:{type:Le.p.USER,uri:e.data.uri,username:e.data.username,displayName:null!==(t=e.data.name)&&void 0!==t?t:null,images:(null===(n=e.data.avatar)||void 0===n||null===(i=n.sources)||void 0===i?void 0:i.map(qr))||[]}}function ea(e){return{type:Le.p.ARTIST,uri:e.uri,name:e.profile.name}}function ta(e){switch(e){case Fi.Cl.Audio:return fi.E.AUDIO;case Fi.Cl.Video:return fi.E.VIDEO;case Fi.Cl.Mixed:return fi.E.MIXED;case Fi.Cl.Unknown:return fi.E.UNKNOWN;default:return(0,Me.U)(e)}}function na(e,t){var n,i,r;if(null===e||null===e.itemV2)return null;var a,o,s,l,c,u,d,p,m,f,v,g,h,k,y,b,S,x,O,w,N,_,E,C,P,I,j,A,T,D,R={uid:e.uid,playIndex:t,addedAt:(null===(n=e.addedAt)||void 0===n?void 0:n.isoString)||null,addedBy:$r(e.addedBy),formatListAttributes:null!==(i=null===(r=e.attributes)||void 0===r?void 0:r.reduce((function(e,t){var n=t.key,i=t.value;return e[n]=i,e}),{}))&&void 0!==i?i:{}};switch(e.itemV2.__typename){case"TrackResponseWrapper":return"Track"===e.itemV2.data.__typename?Xr(Xr({},(P=e.itemV2.data,{type:Le.p.TRACK,uri:P.uri,name:P.name,duration:{milliseconds:P.trackDuration.totalMilliseconds},album:P.albumOfTrack?(A=P.albumOfTrack,{type:Le.p.ALBUM,uri:A.uri,name:A.name,artist:ea(A.artists.items[0]),images:null!==(T=null===(D=A.coverArt)||void 0===D?void 0:D.sources.map(qr))&&void 0!==T?T:[]}):null,artists:P.artists.items.map(ea),discNumber:P.discNumber,trackNumber:P.trackNumber,isExplicit:(null===(I=P.contentRating)||void 0===I?void 0:I.label)===Fi.KS.Explicit,is19PlusOnly:(null===(j=P.contentRating)||void 0===j?void 0:j.label)===Fi.KS.NineteenPlus,isPlayable:P.playability.playable,isLocal:!1})),R):null;case"LocalTrackResponseWrapper":return"LocalTrack"===e.itemV2.data.__typename?Xr(Xr({},(O=e.itemV2.data,{type:Le.p.TRACK,uri:O.uri,name:O.name,album:{type:Le.p.ALBUM,uri:"",name:null!==(w=O.albumName)&&void 0!==w?w:"",artist:{type:Le.p.ARTIST,uri:"",name:null!==(N=O.artistName)&&void 0!==N?N:""},images:[]},artists:[{type:Le.p.ARTIST,uri:"",name:null!==(_=O.artistName)&&void 0!==_?_:""}],duration:{milliseconds:null!==(E=null===(C=O.localTrackDuration)||void 0===C?void 0:C.totalMilliseconds)&&void 0!==E?E:0},discNumber:0,trackNumber:0,isPlayable:!1,isExplicit:!1,is19PlusOnly:!1,isLocal:!0})),R):null;case"EpisodeOrChapterResponseWrapper":return"Episode"===e.itemV2.data.__typename?Xr(Xr({},(a=e.itemV2.data,{type:Le.p.EPISODE,uri:a.uri,name:a.name,description:null!==(o=a.description)&&void 0!==o?o:"",duration:{milliseconds:a.episodeDuration.totalMilliseconds},timeLeft:{milliseconds:a.episodeDuration.totalMilliseconds-a.playedState.playPositionMilliseconds},images:null!==(s=null===(l=a.coverArt)||void 0===l?void 0:l.sources.map(qr))&&void 0!==s?s:[],languages:a.language?[a.language.code]:[],release:{date:null===(c=a.releaseDate)||void 0===c?void 0:c.isoString,precision:Qr(null===(u=a.releaseDate)||void 0===u?void 0:u.precision)},show:"Podcast"===a.podcastV2.data.__typename?(k=a.podcastV2.data,{type:Le.p.SHOW,uri:k.uri,name:k.name,publisher:null!==(y=null===(b=k.publisher)||void 0===b?void 0:b.name)&&void 0!==y?y:"",images:null!==(S=null===(x=k.coverArt)||void 0===x?void 0:x.sources.map(qr))&&void 0!==S?S:[],mediaType:ta(k.mediaType)}):null,podcastSubscription:(v=null!==(d=null===(p=a.restrictions)||void 0===p?void 0:p.paywallContent)&&void 0!==d&&d,g=a.playability.reason,h=!1,v&&g!==Fi.Ku.PaymentRequired&&(h=!0),{isPaywalled:v,isUserSubscribed:h}),isPlayable:a.playability.playable,isExplicit:(null===(m=a.contentRating)||void 0===m?void 0:m.label)===Fi.KS.Explicit,is19PlusOnly:(null===(f=a.contentRating)||void 0===f?void 0:f.label)===Fi.KS.NineteenPlus})),R):null;case"UnknownType":case"PodcastOrAudiobookResponseWrapper":case null:case void 0:return null;default:return(0,Me._)(e.itemV2),null}}function ia(e){var t,n;if("PlaylistItemsPage"!==(null===(t=e.content)||void 0===t?void 0:t.__typename))throw new Error("Error fetching playlist via GraphQL!");return{items:(null===(n=e.content.items)||void 0===n?void 0:n.map(na))||[],offset:e.content.pagingInfo.offset,limit:e.content.pagingInfo.limit,totalLength:e.content.totalCount}}function ra(e){var t,n;if(null===e)return null;var i=e.attributes,r=null!==(t=i["madeFor.name"])&&void 0!==t?t:null,a=null!==(n=i["madeFor.username"])&&void 0!==n?n:null,o="1"===i["madeFor.displayed"];return null!==a&&o?{type:Le.p.USER,uri:"spotify:user:".concat(encodeURIComponent(a)),username:a,displayName:r,images:[]}:null}function aa(e,t){if("Playlist"!==(null==t?void 0:t.__typename))throw new Error("Error fetching playlist via GraphQL!");return{metadata:oa(e,t),contents:ia(t)}}function oa(e,t){var n,i,r,a,o,s,l,c,u,d,p;if("PlaylistItemsPage"!==(null===(n=t.content)||void 0===n?void 0:n.__typename))throw new Error("Error fetching playlist via GraphQL!");var m,f,v=t.content.items.length===t.content.totalCount&&(null===(i=t.content.items)||void 0===i?void 0:i.every((function(e){var t;return"UnknownType"===(null==e||null===(t=e.itemV2)||void 0===t?void 0:t.__typename)||"PodcastOrAudiobookResponseWrapper"===e.itemV2.__typename||"EpisodeOrChapterResponseWrapper"===e.itemV2.__typename&&"Episode"!==e.itemV2.data.__typename})))?0:t.content.totalCount,g=function(e){var t,n,i;if("PlaylistItemsPage"!==(null===(t=e.content)||void 0===t?void 0:t.__typename))throw new Error("Error fetching playlist via GraphQL!");var r={duration:0,count:0,unsupportedCount:0},a=null!==(n=null===(i=e.content.items)||void 0===i?void 0:i.reduce((function(e,t){if(null===t||null===t.itemV2)return e;var n=t.itemV2;switch(n.__typename){case"TrackResponseWrapper":"Track"===n.data.__typename&&(e.duration+=n.data.trackDuration.totalMilliseconds,e.count++);break;case"LocalTrackResponseWrapper":var i;"LocalTrack"===n.data.__typename&&(e.duration+=(null===(i=n.data.localTrackDuration)||void 0===i?void 0:i.totalMilliseconds)||0,e.count++);break;case"EpisodeOrChapterResponseWrapper":"Episode"===n.data.__typename&&(e.duration+=n.data.episodeDuration.totalMilliseconds,e.count++);break;case"UnknownType":case"PodcastOrAudiobookResponseWrapper":e.unsupportedCount++;break;default:(0,Me._)(n)}return e}),r))&&void 0!==n?n:r,o=a.duration,s=a.count,l=a.unsupportedCount,c=e.content.totalCount===e.content.items.length,u=s<e.content.totalCount,d=!c&&u;return{milliseconds:d&&s?o/s*(e.content.totalCount-l):o,isEstimate:d}}(t),h="User"===t.ownerV2.data.__typename,k=function(e){var t,n,i;return null===e||"User"!==e.data.__typename?{type:Le.p.USER,uri:"",username:"",displayName:null,images:[]}:{type:Le.p.USER,uri:e.data.uri,username:e.data.username,displayName:null!==(t=e.data.name)&&void 0!==t?t:null,images:(null===(n=e.data.avatar)||void 0===n||null===(i=n.sources)||void 0===i?void 0:i.map(qr))||[]}}(t.ownerV2),y=e===k.username,b=t.collaborative,S=null!==(r=null===(a=t.content.items)||void 0===a?void 0:a.some((function(e){var t;return"EpisodeOrChapterResponseWrapper"===(null==e||null===(t=e.itemV2)||void 0===t?void 0:t.__typename)&&"Episode"===e.itemV2.data.__typename})))&&void 0!==r&&r,x=null!==(o=null===(s=t.content.items)||void 0===s?void 0:s.some((function(e){var t;return"TrackResponseWrapper"===(null==e||null===(t=e.itemV2)||void 0===t?void 0:t.__typename)})))&&void 0!==o&&o,O=y,w=y,N=v>0,_=(m=t.format,f=t.attributes,null===m?null:null===f?{type:m,attributes:{}}:{type:m,attributes:f.reduce((function(e,t){var n=t.key,i=t.value;return e[n]=i,e}),{})}),E=null===(l=t.content.items)||void 0===l?void 0:l.some((function(e){var t;return"PodcastOrAudiobookResponseWrapper"===(null==e||null===(t=e.itemV2)||void 0===t?void 0:t.__typename)&&"Audiobook"===e.itemV2.data.__typename}));return{isPublished:!1,type:Le.p.PLAYLIST,uri:t.uri,name:t.name,description:null!==(c=t.description)&&void 0!==c?c:"",totalLength:v,unfilteredTotalLength:v,totalLikes:t.followers,duration:g,images:null!==(u=null===(d=t.images.items)||void 0===d||null===(p=d.at(0))||void 0===p?void 0:p.sources.map(qr))&&void 0!==u?u:[],owner:k,madeFor:ra(_),isLoaded:h,isOwnedBySelf:y,isCollaborative:b,hasEpisodes:S,hasSpotifyTracks:x,hasSpotifyAudiobooks:E,canAdd:O,canRemove:w,canPlay:N,formatListData:_,canReportAnnotationAbuse:!1,collaborators:null,permissions:null,hasDateAdded:!1}}var sa=n(91881),la=n(91583),ca=n(64331);function ua(e){var t;null!==(t=e.formatListData)&&void 0!==t&&t.type?e.hasDateAdded=!ca.C.includes(e.formatListData.type):e.hasDateAdded=!0}var da=Spicetify.GraphQL.Definitions["addToPlaylist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addToPlaylist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newPosition"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemPositionInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addItemsToPlaylist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playlistUri"},value:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}}},{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}},{kind:"ObjectField",name:{kind:"Name",value:"newPosition"},value:{kind:"Variable",name:{kind:"Name",value:"newPosition"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]},pa=Spicetify.GraphQL.Definitions["removeFromPlaylist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeFromPlaylist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeItemsFromPlaylist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uids"},value:{kind:"Variable",name:{kind:"Name",value:"uids"}}},{kind:"ObjectField",name:{kind:"Name",value:"playlistUri"},value:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]},ma=Spicetify.GraphQL.Definitions["moveItemsInPlaylist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"moveItemsInPlaylist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newPosition"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PlaylistItemPositionInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moveItemsInPlaylist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"playlistUri"},value:{kind:"Variable",name:{kind:"Name",value:"playlistUri"}}},{kind:"ObjectField",name:{kind:"Name",value:"uids"},value:{kind:"Variable",name:{kind:"Name",value:"uids"}}},{kind:"ObjectField",name:{kind:"Name",value:"newPosition"},value:{kind:"Variable",name:{kind:"Name",value:"newPosition"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]};function fa(e){var t=e.before,n=e.after;if("start"===t)return{moveType:Fi.Le.TopOfPlaylist,fromUid:null};if("end"===n)return{moveType:Fi.Le.BottomOfPlaylist,fromUid:null};if(void 0!==t)return{moveType:Fi.Le.BeforeUid,fromUid:t.uid};if(void 0!==n)return{moveType:Fi.Le.AfterUid,fromUid:n.uid};throw new Error("Couldn't determine position to insert tracks based on input")}var va=n(73758),ga=function(){function e(t,n,i,r){var a;(0,E.Z)(this,e),(0,P.Z)(this,"_inFlightCache",new Xe.tL),this._builder=t,this._loader=n,this._transport=i,this._username=r,this._events=(a=this._transport,new Tr(a))}var t,n,i,a,s,l,c,u,d,p,m,f,v;return(0,C.Z)(e,[{key:"emitUpdate",value:function(e){this._events.emit(_r.XL.UPDATE,{uri:e})}},{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canModifyOffline:!1,canMoveMultipleItems:!1,canFetchAllTracks:!1,canDecorateAddedBy:!0,canToggleCollaborative:!1,canHandlePermissions:!1,hasUidsGeneratedFromIndicies:!1}}},{key:"query",value:(v=(0,r.Z)(o().mark((function e(t,n){var i,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._inFlightCache.create("".concat((0,xn.Y)(t).name,":").concat(JSON.stringify(n)),(function(){return r._loader(t,n)}));case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"getPlaylist",value:(f=(0,r.Z)(o().mark((function e(t){var n,i,r,a,s,l,c,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>2&&void 0!==u[2]?u[2]:{},e.next=4,this.query(zr,{uri:t,offset:null!==(n=s.offset)&&void 0!==n?n:0,limit:null!==(i=s.limit)&&void 0!==i?i:0});case 4:if("Playlist"===(null==(l=e.sent)||null===(r=l.data)||void 0===r||null===(a=r.playlistV2)||void 0===a?void 0:a.__typename)){e.next=7;break}throw new Error("Error fetching playlist via GraphQL!");case 7:return ua((c=aa(this._username,l.data.playlistV2)).metadata),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"getMetadata",value:(m=(0,r.Z)(o().mark((function e(t){var n,i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query(Kr,{uri:t,offset:0,limit:100});case 2:if("Playlist"===(null==(r=e.sent)||null===(n=r.data)||void 0===n||null===(i=n.playlistV2)||void 0===i?void 0:i.__typename)){e.next=5;break}throw new Error("Error fetching playlist via GraphQL!");case 5:return ua(a=oa(this._username,r.data.playlistV2)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"getContents",value:(p=(0,r.Z)(o().mark((function e(t,n){var i,r,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query(Yr,{uri:t,offset:null!==(i=null==n?void 0:n.offset)&&void 0!==i?i:0,limit:null!==(r=null==n?void 0:n.limit)&&void 0!==r?r:50});case 2:if("Playlist"===(null==(l=e.sent)||null===(a=l.data)||void 0===a||null===(s=a.playlistV2)||void 0===s?void 0:s.__typename)){e.next=5;break}throw new Error("Error fetching playlist via GraphQL!");case 5:return e.abrupt("return",ia(null==l?void 0:l.data.playlistV2));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"add",value:(d=(0,r.Z)(o().mark((function e(t,n,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitAddSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._loader(da,{uris:n,playlistUri:t,newPosition:fa(i)});case 5:this.emitUpdate(t),this._events.emitAddComplete(t,null,n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this._events.emitAddComplete(t,(0,va.T)(e.t0),n);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t,n){return d.apply(this,arguments)})},{key:"move",value:(u=(0,r.Z)(o().mark((function e(t,n,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitMoveSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._loader(ma,{playlistUri:t,uids:n.map((function(e){return e.uid})),newPosition:fa(i)});case 5:this.emitUpdate(t),this._events.emitMoveComplete(t,null,n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this._events.emitMoveComplete(t,(0,va.T)(e.t0),n);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t,n){return u.apply(this,arguments)})},{key:"remove",value:(c=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitRemoveSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._loader(pa,{playlistUri:t,uids:n.map((function(e){return e.uid}))});case 5:this.emitUpdate(t),this._events.emitRemoveComplete(t,null,n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this._events.emitRemoveComplete(t,(0,va.T)(e.t0),n);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return c.apply(this,arguments)})},{key:"uploadImage",value:(l=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,sa.I)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"updateDetails",value:(s=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitUpdateSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,Er.b)(this._builder,t,n);case 5:this.emitUpdate(t),this._events.emitUpdateComplete(t,null,n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this._events.emitUpdateComplete(t,(0,va.T)(e.t0),n);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return s.apply(this,arguments)})},{key:"setCollaborativeState",value:(a=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Setting collaboration state is not possible with the WebAPI.");case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"resolvePlaylistFormatURI",value:(i=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,la.J)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getRecommendedTracks",value:(n=(0,r.Z)(o().mark((function e(t,n,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Cr.A)(this._builder,t,n,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,i){return n.apply(this,arguments)})},{key:"resync",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),ha=n(51193),ka=n(59551),ya=n(834),ba=(n(88906),n(20789),n(39761),n(71072));function Sa(e){var t=(0,f.EC)(e);return t?t.id:""}function xa(e){return new DataView(e.buffer).getUint32(0)}function Oa(e){var t=new DataView(e.buffer).getUint32(0),n=(0,ba.zv)(e.subarray(4)).padEnd(40,"0");return"".concat(t,",").concat(n)}function wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _a,Ea,Ca={basePermissionLevel:"UNKNOWN",memberPermissions:{}},Pa=function(){function e(t){(0,E.Z)(this,e),(0,P.Z)(this,"_cache",new Xe.tL),this._builder=t,this._events=new ka.Ti}var t,n,a,s,l,c,u,d;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{}}},{key:"getEvents",value:function(){return this._events}},{key:"getMemberPermissions",value:(d=(0,r.Z)(o().mark((function e(t){var n,i,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sa(t),e.next=3,this._cache.create("metadata:".concat(n),(function(){return r._builder.build().withHost(Z.KH).withMethod("GET").withPath("/playlist/".concat(n,"/permission/members")).withEndpointIdentifier("/playlist/{playlistId}/permission/members").withoutMarket().send()}));case 3:return i=e.sent,e.abrupt("return",i.body||Ca);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"getPermissionGrant",value:(u=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ha.Re)(this._builder,t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"claimPermissions",value:(c=(0,r.Z)(o().mark((function e(t,n){var i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={operation:ka.Qd.CLAIM_PERMISSION,uri:t,token:n},this._events.emitOperationSync(i),e.prev=2,e.next=5,(0,ha.jw)(this._builder,t,n);case 5:return r=e.sent,this._events.emitOperationComplete(i),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(i,e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return c.apply(this,arguments)})},{key:"getMembers",value:(l=(0,r.Z)(o().mark((function e(t){var n,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMemberPermissions(t);case 2:return n=e.sent,r=n.memberPermissions,a=n.basePermissionLevel,s=Object.entries(r).map((function(e){var t=(0,i.Z)(e,2),n=t[0];return{permissionLevel:t[1].permissionLevel,songsAdded:0,user:(0,ya.V)({id:n,uri:n,display_name:n})}})),e.abrupt("return",{members:s,basePermissionLevel:a});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"subscribeToMembers",value:function(e,t){return this.getMembers(e).then((function(e){t(null,e)})).catch((function(e){t(e)})),function(){}}},{key:"removeMember",value:(s=(0,r.Z)(o().mark((function e(t,n){var i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sa(t),r={operation:ka.Qd.REMOVE_MEMBER,uri:t,username:n},this._events.emitOperationSync(r),e.prev=3,e.next=6,this._builder.build().withHost(Z.KH).withMethod("DELETE").withPath("/playlist/".concat(i,"/permission/member/user/").concat(encodeURIComponent(n))).withEndpointIdentifier("/playlist/{id}/permission/member/user/{username}").withJsonContentType().withoutMarket().send();case 6:this._events.emitOperationComplete(r),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),this._events.emitOperationComplete(r,e.t0),e.t0;case 13:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(e,t){return s.apply(this,arguments)})},{key:"setMemberPermission",value:(a=(0,r.Z)(o().mark((function e(t,n,i){var r,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sa(t),a={operation:ka.Qd.SET_MEMBER_PERMISSION,uri:t,permissionLevel:i},this._events.emitOperationSync(a),e.prev=3,e.next=6,this.getMemberPermissions(t);case 6:return s=e.sent,l=s.memberPermissions,e.next=10,this._builder.build().withHost(Z.KH).withMethod("POST").withPath("/playlist/".concat(r,"/permission/member/user/").concat(encodeURIComponent(n))).withEndpointIdentifier("/playlist/{id}/permission/member/user/{username}").withJsonContentType().withBody(Na(Na({},l[n]),{},{permissionLevel:i})).withoutMarket().send();case 10:this._events.emitOperationComplete(a),e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(3),this._events.emitOperationComplete(a,e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e,t,n){return a.apply(this,arguments)})},{key:"getBasePermission",value:(n=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ha.Du)(this._builder,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setBasePermission",value:(t=(0,r.Z)(o().mark((function e(t,n){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sa(t),r={operation:ka.Qd.SET_BASE_PERMISSION,uri:t,permissionLevel:n},this._events.emitOperationSync(r),e.prev=3,e.next=6,(0,ha.Du)(this._builder,t);case 6:return a=e.sent,e.next=9,this._builder.build().withHost(Z.KH).withMethod("POST").withPath("/playlist/".concat(i,"/permission/base")).withEndpointIdentifier("/playlist/{id}/permission/base").withJsonContentType().withBody(Na(Na({},a),{},{permissionLevel:n})).withoutMarket().send();case 9:this._events.emitOperationComplete(r),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(3),this._events.emitOperationComplete(r,e.t0),e.t0;case 16:case"end":return e.stop()}}),e,this,[[3,12]])}))),function(e,n){return t.apply(this,arguments)})}]),e}(),Ia=(n(72649),n(60178),n(59346),n(67886),n(61948),n(45060),n(39210),n(82241),n(45074),n(60252),n(89333),n(83360),n(82695),n(91526),n(15355),n(69103),n(61368),n(99852),n(8599),n(17744),n(79028),n(12041),n(26112),n(9032),n(31266),n(65092),n(95350),n(5628),n(36507),n(55553),n(6127),n(40542),n(69604),n(99975),n(16204)),ja=n(83040),Aa=n(12788),Ta=n(56398),Da=n(11607),Ra=n(52723);function Fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var La=new RegExp(String.raw(_a||(_a=(0,U.Z)(["hm://playlist/v2/user/.+/rootlist"])))),Ma=new RegExp(String.raw(Ea||(Ea=(0,U.Z)(["hm://playlist/v2/playlist/.+"]))));function Ua(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return void 0!==(null===(t=e.ops)||void 0===t?void 0:t.find((function(e){var t,n=null===(t=e.updateListAttributes)||void 0===t?void 0:t.newAttributes;return void 0!==n&&i.some((function(e){var t;return!1===(null===(t=n.noValue)||void 0===t?void 0:t.includes(e))}))})))}var Za=function(e){(0,Q.Z)(s,e);var t,n,i,a=Fa(s);function s(e,t){var n;return(0,E.Z)(this,s),(n=a.call(this))._transport=e,n._contains=t,n}return(0,C.Z)(s,[{key:"subscribeToUpdates",value:function(){this._transport.matchMessages(La,this.onRootlistMessage.bind(this),m.DEALER_PLUGIN_NAME),this._transport.matchMessages(Ma,this.onPlaylistMessage.bind(this),m.DEALER_PLUGIN_NAME)}},{key:"unsubscribeFromUpdates",value:function(){this._transport.unmatchMessages(La,this.onRootlistMessage.bind(this),m.DEALER_PLUGIN_NAME),this._transport.unmatchMessages(Ma,this.onPlaylistMessage.bind(this),m.DEALER_PLUGIN_NAME)}},{key:"onRootlistMessage",value:(i=(0,r.Z)(o().mark((function e(t){var n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(i=null==t||null===(n=t.payloads)||void 0===n?void 0:n[0])){e.next=3;break}return e.abrupt("return");case 3:if(void 0!==(r=Ra.pS.bu.decode((0,ba.dN)(i))).parentRevision&&void 0!==r.newRevision){e.next=6;break}return e.abrupt("return");case 6:this.emitSync(Ta.Yt.UPDATE,{revision:r.parentRevision,newRevision:r.newRevision}),this.onContainsItems(this._aggregator.getBatch());case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"onPlaylistMessage",value:(n=(0,r.Z)(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(i=null==t||null===(n=t.payloads)||void 0===n?void 0:n[0])){e.next=3;break}return e.abrupt("return");case 3:Ua(Ra.pS.mn.decode((0,ba.dN)(i)),Ra._c.LIST_NAME,Ra._c.LIST_COLLABORATIVE)&&this.emit(Ta.Yt.UPDATE,null);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"onContainsItems",value:(t=(0,r.Z)(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>0)){e.next=6;break}return n=Array.from(t.keys()),e.next=4,this._contains(n);case 4:i=e.sent,this.emitUpdateItems(n,i);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),s}(Da.w),Ba=n(68504),Va=n(59843);function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wa(e,t){var n,i,r=(0,f.EC)(e.uri,{parseUnknown:!0}),a=null===(n=t.contents)||void 0===n||null===(i=n.items)||void 0===i?void 0:i.findIndex((function(e){return(0,Ba.U4)(r,(0,f.EC)(e.uri,{parseUnknown:!0}))}));return null!=a?a:-1}function za(e,t){var n=e.before,i=e.after,r=t.length;return void 0===n==(void 0===i)?-1:"start"===n?0:"end"===i?void 0===r?Number.NaN:r:n?Wa(n,t):i?Wa(i,t)+1:-1}function Ka(e,t){var n=t.before,i=t.after,r=e.uri;return"start"!==n&&"end"!==i&&((null==n?void 0:n.uri)===r||(null==i?void 0:i.uri)===r)}function Ya(e,t){return qa.apply(this,arguments)}function qa(){return qa=(0,r.Z)(o().mark((function e(t,n){var i,r,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>2&&void 0!==a[2]?a[2]:null,e.next=3,t.build().withHost(Z.fe).withMethod("GET").withPath("/user/".concat(encodeURIComponent(n),"/rootlist")).withEndpointIdentifier("/user/{username}/rootlist").withoutMarket().withQueryParameters(Ga({decorate:"revision,length,attributes,timestamp,owner"},null!==i?{revision:Oa(i)}:{bustCache:Date.now()})).send();case 3:return r=e.sent,e.abrupt("return",Ra.hA.fromJSON(r.body));case 5:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function Qa(e,t,n){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,r.Z)(o().mark((function e(t,n,i){var r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("POST").withHost(Z.fe).withPath("/user/".concat(encodeURIComponent(n),"/rootlist/changes")).withEndpointIdentifier("/user/{username}/rootlist/changes").withoutMarket().withJsonContentType().withBody(Ra.ow.toJSON(i)).send();case 2:return a=e.sent,s=Ra.hA.fromJSON(a.body),e.abrupt("return",null!==(r=s.revision)&&void 0!==r?r:null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xa(e){return void 0!==e.revision}var $a={revision:new Uint8Array,length:0,attributes:void 0,contents:void 0,diff:void 0,syncResult:void 0,resultingRevisions:[],multipleHeads:!1,upToDate:!1,nonces:[],timestamp:"",ownerUsername:"",abuseReportingEnabled:!1,capabilities:void 0,geoblock:[],changesRequireResync:!1,createdAt:"",appliedLenses:void 0},eo={type:"folder",uri:"",addedAt:null,name:"",items:[],hash:"",rawItemCount:0},to=function(){function e(t,n,i,r){var a=this;(0,E.Z)(this,e),(0,P.Z)(this,"_cache",null),(0,P.Z)(this,"_decorationCache",new Xe.Ct(3e5)),(0,P.Z)(this,"_fetchContentsPromise",null),(0,P.Z)(this,"_applyChangesPromise",null),this._builder=t,this._username=i,this._isAnonymous=r,this._events=new Za(n,this.contains.bind(this)),this._events.addListener(Ta.Yt.UPDATE,(function(e){null!==e.data&&null!==a._cache?a.fetchContents(e.data.newRevision):a._cache=null}))}var t,n,a,s,l,c,u,d,p,m,f,v,g,h,k,y,b,S;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!1,canFilter:!1,canModifyOffline:!1}}},{key:"getUsername",value:function(){if(null===this._username)throw new Error("RootlistAPI is not available for anonymous users!");return this._username}},{key:"fetchContents",value:(S=(0,r.Z)(o().mark((function e(){var t,n,i=this,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:null,!this._fetchContentsPromise){e.next=5;break}return e.next=4,this._fetchContentsPromise;case 4:return e.abrupt("return",e.sent);case 5:if(!this._isAnonymous){e.next=7;break}return e.abrupt("return",Promise.resolve({data:$a,tree:eo}));case 7:if(n=this.getUsername(),!(null===this._cache||null!==t&&xa(t)>xa(this._cache.data.revision))){e.next=13;break}return this._fetchContentsPromise=new Promise((function(e,r){Ya(i._builder,n,t).then((function(t){if(Xa(t)){var i=new ja.cm(n).build(t);e({data:t,tree:i})}else r(new Error("Response is missing revision!"))})).catch(r)})).finally((function(){i._fetchContentsPromise=null})),e.next=12,this._fetchContentsPromise;case 12:this._cache=e.sent;case 13:return e.abrupt("return",this._cache);case 14:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"applyChanges",value:(b=(0,r.Z)(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._applyChangesPromise){e.next=2;break}throw new Error("Refusing to apply multiple deltas at the same time!");case 2:return this._applyChangesPromise=Qa(this._builder,this.getUsername(),t).then(function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchContents(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).finally((function(){n._applyChangesPromise=null})),e.abrupt("return",this._applyChangesPromise);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"waitForPendingChanges",value:(y=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._applyChangesPromise){e.next=3;break}return e.next=3,this._applyChangesPromise;case 3:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"getRootNode",value:(k=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:return t=e.sent,n=t.tree,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getFolderNode",value:(h=(0,r.Z)(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.folderUri){e.next=2;break}throw new Error("Folder URI not provided!");case 2:return e.next=4,this.getRootNode();case 4:if(n=e.sent,null!==(i=(0,ja.r_)(n,t.folderUri))){e.next=8;break}throw new Error("Folder not found!");case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"emitUpdate",value:function(){this._events.emit(Ta.Yt.UPDATE,null)}},{key:"getEvents",value:function(){return this._events}},{key:"getMetadata",value:(g=(0,r.Z)(o().mark((function e(){var t,n,i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForPendingChanges();case 2:return e.next=4,this.getRootNode();case 4:for(t=e.sent,n=(0,_.Z)(t.items),i=0,r=0;n.length>0;)a=n[0],(0,Ia.lU)(a)?n.push.apply(n,(0,_.Z)(a.items)):((0,Ia.no)(a)&&a.isOwnedBySelf&&i++,r++),n.shift();return e.abrupt("return",{ownedPlaylistCount:i,playlistCount:r});case 10:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getContents",value:(v=(0,r.Z)(o().mark((function e(t){var n,i,r,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForPendingChanges();case 2:return e.next=4,null!=t&&t.folderUri?this.getFolderNode(t):this.getRootNode();case 4:if(i=e.sent,null!=t&&t.flatten?(a=(0,ja.fK)(i),r=Ga(Ga({},a),{},{totalItemCount:a.items.length})):r=Ga(Ga({},i),{},{totalItemCount:i.items.length}),s=null!==(n=null==t?void 0:t.offset)&&void 0!==n?n:0,l=null!=t&&t.limit?s+t.limit:void 0,r.items=r.items.slice(s,l),null==t||!t.decorateImagesAndOwner){e.next=12;break}return e.next=12,(0,Va.H)(this._builder,this._decorationCache,(0,ja.qr)(r));case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"renameFolder",value:(f=(0,r.Z)(o().mark((function e(t,n){var r,a,s,l,c,u,d,p,m,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,Ba.HS)({folderUri:t.uri,name:n}),a=(0,i.Z)(r,1),s=a[0],l=(0,Ba.HS)({name:n}),c=(0,i.Z)(l,1),u=c[0],d=(0,Ba.HS)({folderUri:t.uri}),p=(0,i.Z)(d,1),m=p[0],f=(new Aa.D).add([u],{before:{uri:m}}).remove([{uri:m}]).add([s],{before:{uri:u}}).remove([{uri:u}]).buildListChanges(),e.next=6,this.applyChanges(f);case 6:this.emitUpdate();case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"createFolder",value:(m=(0,r.Z)(o().mark((function e(t,n){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._username){e.next=2;break}throw new Error("Cannot create a folder if not logged in");case 2:return i=(0,Ba.qd)(8),r=(0,Ba.on)(this._username,i,t),a=(new Aa.D).add((0,Ba.HS)({name:t,hash:i}),n).buildListChanges(),e.next=7,this.applyChanges(a);case 7:return this.emitUpdate(),e.abrupt("return",{uri:r});case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"moveFolder",value:(p=(0,r.Z)(o().mark((function e(t,n){var i,r,a,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:return i=e.sent,r=i.data,e.next=6,this.getFolderNode({folderUri:t.uri});case 6:if(a=e.sent,s=Wa(t,r),l=za(n,r),c=a.rawItemCount,!(l>=s&&l<s+c)){e.next=12;break}throw new Error("Refusing to move folder inside itself!");case 12:if((0,ja.UC)(r,s)&&(0,ja.BW)(r,s+c-1)){e.next=14;break}throw new Error("Verification of group markers failed!");case 14:return u=(new Aa.D).moveByIndex(s,l,c).buildListChanges(r.revision),e.next=17,this.applyChanges(u);case 17:this.emitUpdate();case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"removeFolder",value:(d=(0,r.Z)(o().mark((function e(t){var n,i,r,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchContents();case 2:return n=e.sent,i=n.data,e.next=6,this.getFolderNode({folderUri:t});case 6:if(r=e.sent,a=Wa(r,i),s=r.rawItemCount,(0,ja.UC)(i,a)&&(0,ja.BW)(i,a+s-1)){e.next=11;break}throw new Error("Verification of group markers failed!");case 11:return l=(new Aa.D).removeByIndex(a,s).buildListChanges(i.revision),e.next=14,this.applyChanges(l);case 14:this.emitUpdate();case 15:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"createPlaylist",value:(u=(0,r.Z)(o().mark((function e(t,n){var i,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitCreatePlaylistSync(t,n)){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,i=(new Aa.D).updateListAttributes({newAttributes:{values:{name:t}}}).buildDelta(),e.next=6,this._builder.build().withMethod("POST").withHost(Z.fe).withPath("/playlist").withEndpointIdentifier("/playlist").withoutMarket().withJsonContentType().withBody(Ra.vY.toJSON(i)).send();case 6:if(r=e.sent,a=Ra.B3.fromJSON(r.body),void 0!==(s=a.uri)){e.next=10;break}throw new Error("Error creating plalyist!");case 10:return e.next=12,this.add([s],n);case 12:return this._events.emitCreatePlaylistComplete(t,n,s),e.abrupt("return",s);case 16:return e.prev=16,e.t0=e.catch(2),this._events.emitCreatePlaylistComplete(t,n,null,(0,va.T)(e.t0)),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,this,[[2,16]])}))),function(e,t){return u.apply(this,arguments)})},{key:"add",value:(c=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitAddSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,i=(new Aa.D).add(t,n).buildListChanges(),e.next=6,this.applyChanges(i);case 6:this.emitUpdate(),this._events.emitAddComplete(t,n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this._events.emitAddComplete(t,n,(0,va.T)(e.t0));case 13:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return c.apply(this,arguments)})},{key:"move",value:(l=(0,r.Z)(o().mark((function e(t,n,i){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitMoveSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:if(!Ka(t,n)){e.next=5;break}return this._events.emitMoveComplete(t,n),e.abrupt("return");case 5:if(!(0,Ba.Cl)(t.uri)&&!(0,Ba.N4)(t.uri)){e.next=7;break}throw new Error("Refusing to move folder marker by itself!");case 7:return e.prev=7,r=(new Aa.D).move([t],n).buildListChanges(),e.next=11,this.applyChanges(r);case 11:this.emitUpdate(),this._events.emitMoveComplete(t,n,null,i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),this._events.emitMoveComplete(t,n,(0,va.T)(e.t0));case 18:case"end":return e.stop()}}),e,this,[[7,15]])}))),function(e,t,n){return l.apply(this,arguments)})},{key:"remove",value:(s=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitRemoveSync(t)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n=(new Aa.D).remove(t).buildListChanges(),e.next=6,this.applyChanges(n);case 6:this.emitUpdate(),this._events.emitRemoveComplete(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this._events.emitRemoveComplete(t,(0,va.T)(e.t0));case 13:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e){return s.apply(this,arguments)})},{key:"contains",value:(a=(0,r.Z)(o().mark((function e(t){var n,i,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForPendingChanges();case 2:return e.next=4,this.fetchContents();case 4:return i=e.sent,r=i.data,a=(null===(n=r.contents)||void 0===n?void 0:n.items)||[],s=new Set(a.map((function(e){return e.uri}))),e.abrupt("return",t.map((function(e){return s.has(e)})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"containsSync",value:function(e){var t,n,i=null===(t=this._cache)||void 0===t||null===(n=t.data.contents)||void 0===n?void 0:n.items;return i?void 0!==i.find((function(t){return t.uri===e})):void 0}},{key:"getPublishedState",value:(n=(0,r.Z)(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitForPendingChanges();case 2:return e.next=4,this.getRootNode();case 4:if(n=e.sent,!(i=(0,ja.ub)(n,t))||!(0,Ia.no)(i)){e.next=8;break}return e.abrupt("return",i.isPublished);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setPublishedState",value:(t=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(new Aa.D).updateItemAttributes({newAttributes:{values:{public:n}},item:{uri:t}}).buildListChanges(),e.next=3,this.applyChanges(i);case 3:this.emitUpdate();case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),no=(n(27535),n(87808)),io=n(98328),ro=(n(48096),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchEntitiesForRecentlyPlayed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lookup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedAlbum"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedArtist"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedTrack"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedEpisode"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedChapter"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedPodcast"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedAudiobook"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedPlaylist"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedUser"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MerchResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnknownTypeWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedUser"}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedPodcast"}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedPodcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"audiobookV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedAudiobook"}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedPlaylist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RecentlyPlayedUser"}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"RecentlyPlayedUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]))});function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e,t){var n=e.map((function(e){var n,i,r,a,o,s,l,c,u,d,p,m,f,v,g,h,k,y,b,S,x,O,w,N,_,E,C,P,I,j;if("UnknownTypeWrapper"===e.__typename)return null;if("PreReleaseResponseWrapper"===e.__typename)return null;var A=e.data;switch(A.__typename){case"Album":return{_uri:e._uri,type:t||no.hn.ALBUM,uri:A.uri,name:A.name,images:null!==(n=null===(i=A.coverArt)||void 0===i?void 0:i.sources)&&void 0!==n?n:[],artists:A.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}}))};case"Track":return{_uri:e._uri,type:no.hn.TRACK,uri:A.uri,name:A.name,images:null!==(r=null===(a=A.albumOfTrack)||void 0===a||null===(o=a.coverArt)||void 0===o?void 0:o.sources)&&void 0!==r?r:[],artists:A.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}})),isExplicit:(null===(s=A.contentRating)||void 0===s?void 0:s.label)===Fi.KS.Explicit,isMOGEFRestricted:(null===(l=A.contentRating)||void 0===l?void 0:l.label)===Fi.KS.NineteenPlus};case"Playlist":if("User"!==A.ownerV2.data.__typename)throw new Error("Error fetching playlist owner for URI ".concat(A.uri));return{_uri:e._uri,type:t||no.hn.PLAYLIST,uri:A.uri,name:A.name,images:null!==(c=null===(u=A.images.items.at(0))||void 0===u?void 0:u.sources)&&void 0!==c?c:[],description:null!==(d=A.description)&&void 0!==d?d:"",owner:{uri:A.ownerV2.data.uri,displayName:null!==(p=null!==(m=A.ownerV2.data.name)&&void 0!==m?m:A.ownerV2.data.username)&&void 0!==p?p:""}};case"Podcast":return{_uri:e._uri,type:no.hn.SHOW,uri:A.uri,name:A.name,images:null!==(f=null===(v=A.coverArt)||void 0===v?void 0:v.sources)&&void 0!==f?f:[],publisher:null!==(g=null===(h=A.publisher)||void 0===h?void 0:h.name)&&void 0!==g?g:""};case"Audiobook":return{_uri:e._uri,type:no.hn.AUDIOBOOK,uri:A.uri,name:A.name,images:null!==(k=null===(y=A.coverArt)||void 0===y?void 0:y.sources)&&void 0!==k?k:[],authors:null!==(b=null===(S=A.authors)||void 0===S?void 0:S.map((function(e){var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""})))&&void 0!==b?b:[]};case"Artist":return{_uri:e._uri,type:t||no.hn.ARTIST,uri:A.uri,name:A.profile.name,images:null!==(x=null===(O=A.visuals.avatarImage)||void 0===O?void 0:O.sources)&&void 0!==x?x:[]};case"Episode":if("Podcast"!==A.podcastV2.data.__typename)throw new Error("Error fetching show entity for URI ".concat(e._uri));return{_uri:e._uri,type:no.hn.SHOW,uri:A.podcastV2.data.uri,name:A.podcastV2.data.name,images:null!==(w=null===(N=A.podcastV2.data.coverArt)||void 0===N?void 0:N.sources)&&void 0!==w?w:[],publisher:null!==(_=null===(E=A.podcastV2.data.publisher)||void 0===E?void 0:E.name)&&void 0!==_?_:""};case"Chapter":if("Audiobook"!==A.audiobookV2.data.__typename)throw new Error("Error fetching show entity for URI ".concat(e._uri));return{_uri:e._uri,type:no.hn.AUDIOBOOK,uri:A.audiobookV2.data.uri,name:A.audiobookV2.data.name,images:null!==(C=null===(P=A.audiobookV2.data.coverArt)||void 0===P?void 0:P.sources)&&void 0!==C?C:[],authors:null!==(I=null===(j=A.audiobookV2.data.authors)||void 0===j?void 0:j.map((function(e){var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""})))&&void 0!==I?I:[]};default:return null}})).filter(io.K);return n}function lo(e){var t;return(0,f.oi)(e)?(0,f.AB)(["playlist",null===(t=(0,f.EC)(e))||void 0===t?void 0:t.args]).toURI():e}function co(e){var t,n=(0,f.EC)(e);if(null===n||n.type!==f.JM.STATION||2!==(null===(t=n.args)||void 0===t?void 0:t.length))throw new Error("Invalid station URI ".concat(e));var r=(0,i.Z)(n.args,2),a=r[0],o=r[1];switch(a){case f.JM.ARTIST:return(0,f.WN)(o).toURI();case f.JM.ALBUM:return(0,f.jy)(o).toURI();case f.JM.PLAYLIST:return(0,f.FW)(o).toURI();default:throw new Error("Unsupported station type ".concat(a))}}function uo(e){return e.map((function(e){return{type:e.endsWith("your-episodes")?no.hn.YOUR_EPISODES:no.hn.LIKED_SONGS,uri:e,_uri:e}}))}function po(e,t){return mo.apply(this,arguments)}function mo(){return(mo=(0,r.Z)(o().mark((function e(t,n){var i,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(a=n.map(co)).length){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,t(ro,{uris:a});case 5:if(e.t1=i=e.sent,e.t0=null===e.t1,e.t0){e.next=9;break}e.t0=void 0===i;case 9:if(!e.t0){e.next=13;break}e.t2=void 0,e.next=14;break;case 13:e.t2=null===(r=i.data)||void 0===r?void 0:r.lookup;case 14:if(s=e.t2,(0,io.K)(s)&&void 0!==s){e.next=17;break}throw new Error("Error fetching entities for URIs ".concat(a));case 17:return e.abrupt("return",so(s,no.hn.RADIO));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t){return vo.apply(this,arguments)}function vo(){return(vo=(0,r.Z)(o().mark((function e(t,n){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,t(ro,{uris:n});case 4:if(e.t1=i=e.sent,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===i;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=null===(r=i.data)||void 0===r?void 0:r.lookup;case 13:if(a=e.t2,(0,io.K)(a)&&void 0!==a){e.next=16;break}throw new Error("Error fetching entities for URIs [".concat(n,"]"));case 16:if(1!==a.length||"PlaylistResponseWrapper"!==a[0].__typename||"NotFound"!==a[0].data.__typename){e.next=18;break}throw new Error("Error fetching entities for URIs [".concat(n,"]"));case 18:return e.abrupt("return",so(a));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t){return ho.apply(this,arguments)}function ho(){return ho=(0,r.Z)(o().mark((function e(t,n){var i,r,a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],r=[],a=[],n.forEach((function(e){switch(!0){case(0,f.zO)(e):i.push(e);break;case(0,f.ie)(lo(e)):r.push(e);break;default:a.push(e)}})),s=uo(i),e.next=7,po(t,r);case 7:return l=e.sent,e.next=10,fo(t,a);case 10:return c=e.sent,e.abrupt("return",[].concat((0,_.Z)(c),(0,_.Z)(s),(0,_.Z)(l)));case 12:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function ko(e,t){return yo.apply(this,arguments)}function yo(){return yo=(0,r.Z)(o().mark((function e(t,n){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e){return e.uri})),e.next=3,go(t,r);case 3:if(e.t1=i=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===i;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=i.map((function(e){var t,i=oo(oo({},e),{},{timestampMs:null===(t=n.find((function(t){return t.uri===e._uri})))||void 0===t?void 0:t.lastPlayedTime});return delete i._uri,i})).filter(io.K);case 12:return a=e.t2,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),yo.apply(this,arguments)}function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}function Oo(e,t){return wo.apply(this,arguments)}function wo(){return(wo=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("GET").withHost(Z.No).withPath("/user/".concat(encodeURIComponent(n),"/recently-played")).withQueryParameters({format:"json",offset:0,limit:50,filter:"default,collection-new-episodes"}).withEndpointIdentifier("/user/{userId}/recently-played").send();case 2:return i=e.sent,e.abrupt("return",i.body);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e,t,n){return _o.apply(this,arguments)}function _o(){return(_o=(0,r.Z)(o().mark((function e(t,n,i){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(t,i);case 2:return r=e.sent,e.next=5,ko(n,r.playContexts);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eo(e,t){return Array.from(e.concat(null!=t?t:[]).reduce((function(e,t){var n=t.uri;(0,f.WP)(n)&&(n=(0,f.FW)((0,f.EC)(n).id).toURI());var i=e.get(n);return(void 0===i||i.timestampMs<t.timestampMs)&&e.set(n,t),e}),new Map).values()).sort((function(e,t){return t.timestampMs-e.timestampMs}))}var Co=function(e){(0,Q.Z)(s,e);var t,n,a=xo(s);function s(e,t,n,i){var r;return(0,E.Z)(this,s),r=a.call(this),(0,P.Z)((0,Pr.Z)(r),"_localContexts",[]),(0,P.Z)((0,Pr.Z)(r),"_remoteContexts",null),(0,P.Z)((0,Pr.Z)(r),"_inFlightCache",new Xe.tL),(0,P.Z)((0,Pr.Z)(r),"_listeners",0),(0,P.Z)((0,Pr.Z)(r),"_shouldRefresh",!1),(0,P.Z)((0,Pr.Z)(r),"_lastContextURI",null),r._request=t,r._builder=n,r._username=i,r.onAddListener(no.$f.UPDATE,(function(){r._listeners++})),r.onRemoveListener(no.$f.UPDATE,(function(){r._listeners--})),window.addEventListener("visibilitychange",(function(){document.hidden||(0!==r._listeners?r.refresh():r._shouldRefresh=!0)})),window.addEventListener("online",(function(){navigator.onLine&&(0!==r._listeners?r.refresh():r._shouldRefresh=!0)})),e.getEvents().addListener(Fe.rg.UPDATE,(function(e){var t=e.data;r.onPlayerStateUpdate(t)})),r}return(0,C.Z)(s,[{key:"onPlayerStateUpdate",value:(n=(0,r.Z)(o().mark((function e(t){var n,r,a,s,l,c,u,d,p,m,f,v=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(a=null!==(n=null==t?void 0:t.context.uri)&&void 0!==n?n:null)&&a!==this._lastContextURI){e.next=3;break}return e.abrupt("return");case 3:if(this._lastContextURI=a,-1===(s=this._localContexts.findIndex((function(e){return e.uri===a})))){e.next=10;break}l=this._localContexts.splice(s,1),c=(0,i.Z)(l,1),u=c[0],this._localContexts.unshift(So(So({},u),{},{timestampMs:Date.now()})),e.next=16;break;case 10:return e.next=12,this._inFlightCache.create(a,(function(){return ko(v._request,[{uri:a,lastPlayedTime:Date.now()}])}));case 12:d=e.sent,p=(0,i.Z)(d,1),(m=p[0])&&this._localContexts.unshift(m);case 16:f=Eo(this._localContexts,null!==(r=this._remoteContexts)&&void 0!==r?r:[]),this.emit(no.$f.UPDATE,f);case 18:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"refresh",value:(t=(0,r.Z)(o().mark((function e(){var t,n,i,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._username){e.next=2;break}return e.abrupt("return");case 2:return t=this._username,e.next=5,this._inFlightCache.create(s.REMOTE_CONTEXTS_CACHE_KEY,(function(){return No(r._builder,r._request,t)}));case 5:n=e.sent,this._remoteContexts=n.filter(io.K),i=Eo(this._localContexts,this._remoteContexts),this.emit(no.$f.UPDATE,i);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getContexts",value:function(){var e;return(null===this._remoteContexts||this._shouldRefresh)&&(this._shouldRefresh=!1,this.refresh()),0===this._localContexts.length&&null===this._remoteContexts?null:Eo(this._localContexts,null!==(e=this._remoteContexts)&&void 0!==e?e:[])}}]),s}(no.sw);(0,P.Z)(Co,"REMOTE_CONTEXTS_CACHE_KEY","remote-contexts");var Po=n(17172),Io=n(51497),jo=n(22791),Ao=n(37800),To=n(42714),Do=n(28463),Ro=(0,jo.hh)(Ao.H).addMiddleware(Po.a).addMiddleware(Io.d).addMiddleware(To.Q).addMiddleware(Do.Y),Fo=n(35644),Lo=Spicetify.GraphQL.Definitions["queryShowAccessInfo"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryShowAccessInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UpsellAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BasicAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiPassAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"soaPartners"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"soaPartners"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConsumptionCappedAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UpsellAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BasicAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiPassAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"soaPartners"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"soaPartners"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConsumptionCappedAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"title"}}]}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"soaPartners"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SOAPartner"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"linkUrl"}},{kind:"Field",name:{kind:"Name",value:"logoUrl"}}]}}]))},Mo=function(){var e=(0,r.Z)(o().mark((function e(t,n){var i,r,a,s,l,c,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Lo,{uri:n});case 2:if("Audiobook"===(null==(l=e.sent)||null===(i=l.data)||void 0===i?void 0:i.podcastUnionV2.__typename)||"Podcast"===(null==l||null===(r=l.data)||void 0===r?void 0:r.podcastUnionV2.__typename)){e.next=5;break}return e.abrupt("return",{});case 5:c=null==l||null===(a=l.data)||void 0===a||null===(s=a.podcastUnionV2.accessInfo)||void 0===s?void 0:s.accessExplanation,e.t0=null==c?void 0:c.__typename,e.next="UpsellAccessExplanation"===e.t0?9:"BasicAccessExplanation"===e.t0?10:"MultiPassAccessExplanation"===e.t0?11:14;break;case 9:return e.abrupt("return",{upsellLink:{title:(null==c?void 0:c.title)||"",body:(null==c?void 0:c.body)||"",cta:(null==c?void 0:c.actionText)||"",url:(null==c?void 0:c.url)||""}});case 10:return e.abrupt("return",{basic:{title:(null==c?void 0:c.title)||"",body:(null==c?void 0:c.body)||"",cta:(null==c?void 0:c.actionText)||""}});case 11:return d=[],null==c||null===(u=c.soaPartners)||void 0===u||u.forEach((function(e){e&&d.push({displayName:e.displayName||"",linkUrl:e.linkUrl||"",logoUrl:e.logoUrl||""})})),e.abrupt("return",{multiPass:{title:(null==c?void 0:c.title)||"",body:(null==c?void 0:c.body)||"",soaPartners:d}});case 14:return e.abrupt("return",{});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Uo=n(97398),Zo=Spicetify.GraphQL.Definitions["queryShowMetadataV2"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryShowMetadataV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookMetadataV2"}}]}}]}}]}}].concat((0,_.Z)(Uo.Rr.definitions),(0,_.Z)(Dr.rD.definitions),(0,_.Z)(Dr.rA.definitions),(0,_.Z)(Uo.n0.definitions),(0,_.Z)(Dr.Zl.definitions),(0,_.Z)(Dr.TS.definitions),(0,_.Z)(Uo.Sz.definitions),(0,_.Z)(Uo.Kg.definitions),(0,_.Z)(Uo.Vn.definitions),(0,_.Z)(Uo.NF.definitions))},Bo=n(18255),Vo=function(){var e=(0,r.Z)(o().mark((function e(t,n){var i,r,a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Zo,{uri:n});case 2:if("RestrictedContent"!==(null==(c=e.sent)||null===(i=c.data)||void 0===i?void 0:i.podcastUnionV2.__typename)){e.next=5;break}throw new Error(Bo.xr.RestrictedContent);case 5:if("Podcast"!==(null==c||null===(r=c.data)||void 0===r||null===(a=r.podcastUnionV2)||void 0===a?void 0:a.__typename)&&"Audiobook"!==(null==c||null===(s=c.data)||void 0===s||null===(l=s.podcastUnionV2)||void 0===l?void 0:l.__typename)){e.next=7;break}return e.abrupt("return",c.data.podcastUnionV2);case 7:throw new Error(Bo.xr.Generic);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ho=Spicetify.GraphQL.Definitions["queryBookChapters"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryBookChapters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"chaptersV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextChapterPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"chapterPage"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"chapterPage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextChapterPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contextChapter"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"contextChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextChapterV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookChapter"}}]}}]}}]}}]}}]),(0,_.Z)(Uo.Vn.definitions),(0,_.Z)(Dr.rD.definitions),(0,_.Z)(Dr.rA.definitions),(0,_.Z)(Dr.TS.definitions),(0,_.Z)(Uo.NF.definitions))},Go=function(){var e=(0,r.Z)(o().mark((function e(t,n,i,r){var a,s,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ho,{uri:n,offset:i,limit:r});case 2:if("Audiobook"!==(null==(c=e.sent)||null===(a=c.data)||void 0===a||null===(s=a.podcastUnionV2)||void 0===s?void 0:s.__typename)||"ContextChapterPage"!==(null==c||null===(l=c.data.podcastUnionV2.chaptersV2)||void 0===l?void 0:l.__typename)){e.next=5;break}return e.abrupt("return",c.data.podcastUnionV2.chaptersV2);case 5:throw new Error("Error while requesting the chapters");case 6:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),Wo=Spicetify.GraphQL.Definitions["getEpisodeOrChapter"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getEpisodeOrChapter"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookChapter"}}]}}]}}]}}].concat((0,_.Z)(Uo.n0.definitions),(0,_.Z)(Dr.rD.definitions),(0,_.Z)(Dr.rA.definitions),(0,_.Z)(Dr.Zl.definitions),(0,_.Z)(Dr.TS.definitions),(0,_.Z)(Uo.Sz.definitions),(0,_.Z)(Uo.Vn.definitions),(0,_.Z)(Uo.NF.definitions))},zo=function(){var e=(0,r.Z)(o().mark((function e(t,n){var i,r,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Wo,{uri:n});case 2:if("Episode"!==(null==(l=e.sent)||null===(i=l.data)||void 0===i||null===(r=i.episodeUnionV2)||void 0===r?void 0:r.__typename)&&"Chapter"!==(null==l||null===(a=l.data)||void 0===a||null===(s=a.episodeUnionV2)||void 0===s?void 0:s.__typename)){e.next=5;break}return e.abrupt("return",l.data.episodeUnionV2);case 5:throw new Error("Error while requesting the episode or chapter");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ko=Spicetify.GraphQL.Definitions["queryPodcastEpisodes"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryPodcastEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"episodesV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextEpisodePage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisodePage"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"podcastEpisodePage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextEpisodePage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contextPodcastEpisode"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"contextPodcastEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextEpisodeV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}}]}}]}}]}}]}}]),(0,_.Z)(Uo.n0.definitions),(0,_.Z)(Dr.rD.definitions),(0,_.Z)(Dr.rA.definitions),(0,_.Z)(Dr.Zl.definitions),(0,_.Z)(Dr.TS.definitions),(0,_.Z)(Uo.Sz.definitions))},Yo=function(){var e=(0,r.Z)(o().mark((function e(t,n,i,r){var a,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ko,{uri:n,offset:i,limit:r});case 2:if("Podcast"!==(null==(u=e.sent)||null===(a=u.data)||void 0===a||null===(s=a.podcastUnionV2)||void 0===s?void 0:s.__typename)||"ContextEpisodePage"!==(null==u||null===(l=u.data)||void 0===l||null===(c=l.podcastUnionV2.episodesV2)||void 0===c?void 0:c.__typename)){e.next=5;break}return e.abrupt("return",u.data.podcastUnionV2.episodesV2);case 5:throw new Error("Error while requesting the show episodes");case 6:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),qo=n(48007),Qo=n(49792),Jo=function(){function e(t,n){(0,E.Z)(this,e),(0,P.Z)(this,"capabilities",{canSort:!1,canFilter:!1,canGetDefaultSort:!1}),this._request=t,this._isAnonymous=n,this._events=new Qo.T}var t,n,i,a,s,l;return(0,C.Z)(e,[{key:"getMetadata",value:(l=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(this._request,t);case 2:return n=e.sent,e.abrupt("return",(0,Fo.rB)(n,this._isAnonymous));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getBookContents",value:(s=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go(this._request,t,n.offset,n.limit);case 2:return i=e.sent,e.abrupt("return",(0,Fo.ld)(i,this._isAnonymous));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getContents",value:(a=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(this._request,t,n.offset,n.limit);case 2:return i=e.sent,e.abrupt("return",(0,Fo.om)(i));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getEpisodeOrChapter",value:(i=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(this._request,t);case 2:return n=e.sent,e.abrupt("return",(0,Fo.sV)(n,this._isAnonymous));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getPlayerSort",value:function(){return""}},{key:"getPlayerFilter",value:function(){return""}},{key:"getAccessInfo",value:(n=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mo(this._request,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"checkoutBook",value:(t=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,qo.Q)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}}]),e}(),Xo=n(66687),$o=function(){function e(){(0,E.Z)(this,e)}var t,n,i;return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!1}}},{key:"setVocalVolume",value:(i=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"setStatus",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"getStatus",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo.q.DISABLED);case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),es=n(92711),ts=n(82872),ns=n(50833),is=n(3674),rs=n(97209);var as=function(){function e(){(0,E.Z)(this,e),(0,P.Z)(this,"name","allow-offline-requests"),this.onBeforeProcessRequest=this.onBeforeProcessRequest.bind(this)}return(0,C.Z)(e,[{key:"onBeforeProcessRequest",value:function(e){var t,n,i=e.data;null!==(t=i.options)&&void 0!==t&&null!==(n=t.metadata)&&void 0!==n&&n.noRequestTransform||navigator.onLine||(i.options=(0,rs.F)(i.options,{allowOffline:!0,authorize:!1}))}},{key:"attach",value:function(e,t){t.on(m.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest)}},{key:"detach",value:function(e,t){t.removeListener(m.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest)}}]),e}();function os(){return new as}function ss(e,t){var n=(0,is.f)(m.createBaseTransport,(0,ns.w)(),e,t.transportOptions);return t.useDealer&&n.addPlugin(es.dv,{WebSocket}),n.addPlugin(os),n.addPlugin(ts.Mb,function(e){var t,n,i,r,a,o=me().getParser(window.navigator.userAgent),s=o.getPlatform();switch(s.type){case me().PLATFORMS_MAP.mobile:a="smartphone";break;case me().PLATFORMS_MAP.tablet:a="tablet";break;case me().PLATFORMS_MAP.desktop:a="computer";break;case me().PLATFORMS_MAP.tv:a="tv";break;default:a=void 0}return{clientInfo:{clientID:"65b708073fc0480ea92a077233ca87bd",clientVersion:"1.2.13.661.ga588f749",os:null!==(t=o.getOSName(!0))&&void 0!==t?t:"unknown",osVersion:null!==(n=o.getOSVersion())&&void 0!==n?n:"unknown",deviceBrand:null!==(i=s.vendor)&&void 0!==i?i:"unknown",deviceModel:null!==(r=s.model)&&void 0!==r?r:"unknown",containerVersion:void 0,deviceID:e.deviceId,deviceType:a,platformIdentifier:void 0}}}(t.clientInfoOptions)),n.on(m.TransportEvent.CONNECTED,(function(){n.isAuthenticated()||n.authenticate()})),n.on(m.TransportEvent.DISCONNECTED,(function(){n.connect()})),n.connect(),n}var ls=n(78978),cs=n(1074);function us(e){return ds.apply(this,arguments)}function ds(){return(ds=(0,r.Z)(o().mark((function e(t){var n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cs.n5.getMe(t);case 2:return i=e.sent,r=i.body,e.abrupt("return",{type:Le.p.USER,uri:r.uri,username:r.id,displayName:r.display_name||null,images:r.images.map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),optInTrialPremiumOnlyMarket:Boolean(null===(n=r.policies)||void 0===n?void 0:n.opt_in_trial_premium_only_market)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ps=function(){function e(t,n){(0,E.Z)(this,e),(0,P.Z)(this,"_inFlightCache",new Xe.tL),this._builder=t,this._isAnonymous=n}var t,n;return(0,C.Z)(e,[{key:"getUser",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isAnonymous){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",us(this._builder));case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getProductState",value:(t=(0,r.Z)(o().mark((function e(){var t,n,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isAnonymous){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this._inFlightCache.create("getProductState",(function(){return cs.n5.getProductState(i._builder)}));case 4:return t=e.sent,n=t.body,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),ms=n(93381),fs=function(e){return e.ALWAYS="always",e.OVERLAY="overlay",e}({});function vs(){switch((0,de.L)()){case k.U.Windows:return"windows";case k.U.macOS:return"osx";case k.U.Linux:return"linux";case k.U.ChromeOS:return"chromeos";case k.U.Other:default:return"other"}}var gs=function(){return{os_name:vs(),os_settings:{scroller_style:fs.ALWAYS,double_click_interval_ms:1/0},app_platform:"WebPlayer",client_name:"web-player",client_version_triple:"0.0.0",client_version_quadruple:"0.0.0.0",client_version_quintuple:"0.0.0.0-unknown",client_capabilities:{can_autostart:!1,can_restart:!1,can_show_track_notifications:!1,can_show_system_media_controls:!1,can_minimize_or_exit_on_close:!1},event_sender_installation_id_hex:"",is_developer_mode:!1}},hs=function(){function e(){(0,E.Z)(this,e)}return(0,C.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!1}}},{key:"connectToFacebook",value:function(){throw new Error("Method not implemented.")}},{key:"subscribeToFacebookConnectionState",value:function(e){throw new Error("Method not implemented.")}},{key:"subscribeToBuddyActivity",value:function(){return{cancel:function(){}}}},{key:"fetchFacebookFriends",value:function(){throw new Error("Method not implemented.")}},{key:"fetchFriendActivity",value:function(){throw new Error("Method not implemented.")}}]),e}(),ks=n(87360),ys=n(10785),bs=n(8554),Ss=n(55279);function xs(e,t){var n=e.getEvents(),i=t.getEvents(),r=null,a=function(t){t.data.uri===r&&e.refreshCurrentContext()};n.addListener(Fe.rg.UPDATE,(function(e){var t,n=e.data,o=null!==(t=null==n?void 0:n.context.uri)&&void 0!==t?t:null;null!==r&&null!==o&&r!==o&&(i.removeListener(_r.XL.UPDATE,a,{uri:r}),r=null),null===r&&null!==o&&(0,f.nK)(o)&&(r=o,i.addListener(_r.XL.UPDATE,a,{uri:r}))}))}function Os(e){return null===e?new yn:new gn(e)}function ws(e){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,r.Z)(o().mark((function e(t){var n,i,r,a,s,l,c,u,d,p,m,f,v,g,h,y,b,S,_,E,C,P,I,j,A,T,R,L,U,Z,B,V,H,G,W,z,Y,Q,J,X,$,ee,te,ne,re,ae,oe,se,pe,me,ve,ge,he,be,Se,xe,Oe,we,Ne,_e,Ee,Ce,Pe,Ie,Ae,Te;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="65b708073fc0480ea92a077233ca87bd",i="1.2.13.661.ga588f749",r=gs(),e.next=5,Tt();case 5:return a=e.sent,s=a.translations,l=a.locale,c=(0,ms.nT)(l),(0,Ss.u)(s,l,c),u=(0,ye.Z)("session"),d=(0,ye.Z)("config"),p=new rn(Xt,(function(){return(0,ye.Z)("session")})),m=p.getTokenProvider(),f=ss(m,{useDealer:!u.isAnonymous,clientInfoOptions:{deviceId:d.correlationId}}),v=d.correlationId,g=(0,ye.Z)("features"),h=(0,ye.Z)("seo"),y=(0,x.lX)(),b=new Nr(Jt.b.getInstance()),S=Ft(),_=O.VK.fromJSON((0,ye.K)("remote-configuration")),E={accessToken:u.accessToken,accessTokenExpirationTimestampMs:u.accessTokenExpirationTimestampMs,isAnonymous:u.isAnonymous,market:u.isAnonymous?d.market:"from_token",locale:l,valid:!0},(0,ue.d)(f,E,i,r.app_platform),C=new ps(Jt.b.getInstance(),u.isAnonymous),e.next=27,C.getUser();case 27:return P=e.sent,I=(null==P?void 0:P.username)||null,j=new Ro({timeout:1e4,clientId:"web-player",transport:f,eventSender:ke(f,n,v,(function(){return I}),"".concat(n,"-web-player-rc"),!1),initialConfiguration:_}),e.t0=O.VK,e.next=33,j.resolve({username:I});case 33:return e.t1=e.sent,e.t2=S,A=e.t0.merge.call(e.t0,e.t1,e.t2),T=new ur.K(null!=I?I:"anonymous"),R=new Sn.i(null!=I?I:"anonymous"),L=(0,bn.PQ)(Jt.b.getInstance()),U=(0,bn.QM)(L),Z=new ie(T),B=function(e){var t=document.createElement(e);return Z.isSupported()&&A.getValue(qt.Ro)&&Z.connectAudioProcessor(t),t},V=Ct(f,{isAnonymous:u.isAnonymous,type:t===k.W.PWA?"desktopInstall":"desktop",createPlayer:B}),H=Pt(V,U,{clientId:n}),G=It(V),W=new fe,z=A.getValue(qt.Uk)?new sr(L,f,u.isAnonymous,I,new Set([ks.rv])):new Vi(L,f,u.isAnonymous,I,new Set([ks.rv])),Y=new q,Q=new cr,J=new Lt,X=new to(Jt.b.getInstance(),f,I,u.isAnonymous),$=new ga(Jt.b.getInstance(),L,f,I),ee=new Pa(Jt.b.getInstance()),te=new Ut.l(Jt.b.getInstance(),L,H,u.isAnonymous),ne=new Jo(L,u.isAnonymous),re=new Gt($),ae=new M,oe=new le,se=new ce.$(Jt.b.getInstance()),pe=new Mt,me=new Wt,ve=new Co(H,L,Jt.b.getInstance(),I),ge=A.getValue(qt.WS),he=Os(V.harmony),be=ke(f,n,v,(function(){return I}),"".concat(n,"-web-player"),A.getValue(ys.FC)),Se=new F(sessionStorage,"ACTION_STORE_KEY",H,z),xe=new Qt(V.harmony,A),Oe=new N.t(Jt.b.getInstance(),U,H),we=new $o,Ne=new ls.z(w.R.getUBILogger({eventSender:be,disableAutoBackgroundMonitoring:!0,playContextUriProvider:{getPlayContextUri:function(){var e,t;return null!==(e=null===(t=H.getState())||void 0===t?void 0:t.context.uri)&&void 0!==e?e:null}},playbackIdProvider:{getPlaybackId:function(){var e,t;return null!==(e=null===(t=H.getState())||void 0===t?void 0:t.playbackId)&&void 0!==e?e:null}}}),null!==P),_e=new K(Jt.b.getInstance(),f,I),Ee=(0,ye.Z)("config",{recaptchaWebPlayerFraudSiteKey:null,optimizeId:null,gtmId:null,locale:"en"}),Ce=Ee.recaptchaWebPlayerFraudSiteKey,Pe=Ce?new Vt(Ce):new Zt.U,Ie=(0,bs.R)({container:t,history:y,eventSender:be,playerAPI:H,appStartupId:""}),Ae=new hs,Te=new D(T),xs(H,$),e.abrupt("return",{version:i,container:t,operatingSystem:(0,de.L)(),isDeveloperMode:!1,isVideoSupported:je(),enableCastConnect:ge,getServiceWorkerMessenger:zt,getSession:function(){return E},getTransport:function(){return f},getEventSender:function(){return be},getTranslations:function(){return s},getFeatureFlags:function(){return g},getSEOExperiments:function(){return h},getHistory:function(){return y},getAdManagers:function(){return Ie},getRemoteConfiguration:function(){return A},getActionStoreAPI:function(){return Se},getAuthorizationAPI:function(){return p},getClipboardAPI:function(){return ae},getConnectAPI:function(){return he},getControlMessageAPI:function(){return Y},getFacebookAPI:function(){return oe},getFollowAPI:function(){return se},getGraphQLLoader:function(){return L},getLibraryAPI:function(){return z},getLocalFilesAPI:function(){return Q},getOfflineAPI:function(){return b},getPlatformData:function(){return r},getPlayerAPI:function(){return H},getPlaybackAPI:function(){return G},getPlayHistoryAPI:function(){return J},getPlaylistAPI:function(){return $},getPlaylistPermissionsAPI:function(){return ee},getPrivateSessionAPI:function(){return pe},getRadioStationAPI:function(){return te},getRecaptchaLoggerAPI:function(){return Pe},getRecentlyPlayedAPI:function(){return ve},getReportAPI:function(){return re},getRootlistAPI:function(){return X},getSegmentsAPI:function(){return me},getShowAPI:function(){return ne},getUpdateAPI:function(){return W},getUserAPI:function(){return C},getVideoAPI:function(){return xe},getEnhanceAPI:function(){return Oe},getSingAlongAPI:function(){return we},getUBILogger:function(){return Ne},getCollectionPlatformAPI:function(){return _e},getLocalStorageAPI:function(){return T},getIndexedDbAPI:function(){return R},getEqualizerAPI:function(){return Z},getBuddyFeedAPI:function(){return Ae},getPanelAPI:function(){return Te}});case 78:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function _s(){return Es.apply(this,arguments)}function Es(){return Es=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,h.ZO)(),e.abrupt("return",(0,S.J)(t));case 3:return e.abrupt("return",ws(t));case 4:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}var Cs=432;function Ps(){var e;if("undefined"==typeof window)return!1;if(void 0!==window.orientation)switch(window.orientation){case 0:case 180:e=window.screen.width;break;default:e=window.screen.height}else{var t=window.screen.orientation&&window.screen.orientation.type||window.screen.msOrientation||"";if(0===t.indexOf("portrait"))e=window.screen.width;else{if(0!==t.indexOf("landscape"))return!1;e=window.screen.height}}return e<=Cs}var Is=function(){var e;return"1"===(null!==(e=(0,Rt.vQ)("client-web_one-trust"))&&void 0!==e?e:"1")};function js(e){return e.container===k.W.Desktop}var As=n(76022),Ts=n(11771),Ds=function(){function e(t){(0,E.Z)(this,e),this.spotifyTransport=t}var t;return(0,C.Z)(e,[{key:"getDialog",value:(t=(0,r.Z)(o().mark((function e(t){var n,i,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts.Y(this.spotifyTransport,t);case 2:return n=e.sent,i=this.getColorRGB(n.body.color),r=i.r,a=i.g,s=i.b,e.abrupt("return",{backgroundColor:"rgb(".concat(r,", ").concat(a,", ").concat(s,")"),providerUrl:n.body.provider_url});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getColorRGB",value:function(e){return{r:e>>>16&255,g:e>>>8&255,b:e>>>0&255}}}]),e}(),Rs=function(e,t){var n=[];return{storeAction:function(i){n=i(n),e.setItem(t,JSON.stringify(n))},pullAction:function(){var i=e.getItem(t);if(e.removeItem(t),n=[],i)try{return JSON.parse(i)}catch(e){return null}return null}}},Fs=n(91094),Ls=n(78302),Ms=n(95267),Us=n(98813);const Zs={setup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;e.documentElement.classList.add("no-focus-outline"),e.addEventListener("keydown",(function(t){"Tab"===t.key&&e.documentElement.classList.remove("no-focus-outline")}),!0),e.addEventListener("mousedown",(function(){e.documentElement.classList.add("no-focus-outline")}),!0)}};var Bs=n(69494),Vs=n(76045);n(99024),n(63481),n(49892),n(90511);var Hs=[{regExp:/^\/$/,pageIdentifier:"/home"},{regExp:/^\/genre/,pageIdentifier:"/genre"},{regExp:/^\/view/,pageIdentifier:"/view"},{regExp:/^\/browse/,pageIdentifier:"/browse"},{regExp:/^\/search/,pageIdentifier:"/search"},{regExp:/^\/upsell/,pageIdentifier:"/upsell"},{regExp:/^\/collection/,pageIdentifier:"/collection"},{regExp:/^\/artist/,pageIdentifier:"/artist"},{regExp:/^\/playlist/,pageIdentifier:"/playlist"},{regExp:/^\/album/,pageIdentifier:"/album"},{regExp:/^\/episode/,pageIdentifier:"/episode"},{regExp:/^\/show/,pageIdentifier:"/show"},{regExp:/^\/user/,pageIdentifier:"/user"},{regExp:/^\/track/,pageIdentifier:"/track"},{regExp:/^\/concerts/,pageIdentifier:"/concerts"},{regExp:/^\/concert\//,pageIdentifier:"/concert"},{regExp:/^\/made-for-you/,pageIdentifier:"/made-for-you"},{regExp:/^\/blend\/party/,pageIdentifier:"/blend/party"}],Gs=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=Hs.find((function(e){return e.regExp.test(t)}));return null!==(e=null==n?void 0:n.pageIdentifier)&&void 0!==e?e:"unknown"};function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ks(){Vs.BrowserMetrics.getPageLoadTime().then((function(e){(0,Fs.sQ)({metric_type:Vs.MetricTypes.TIMER,what:"time-to-page-load-nanoseconds",value:(0,Vs.asNanoseconds)(Vs.Time.fromMillis(e).asNanos()),tags:{route:Gs(window.location.pathname)}})})).catch((function(){})),Vs.BrowserMetrics.getTimeToFirstPaint().then((function(e){(0,Fs.sQ)({metric_type:Vs.MetricTypes.TIMER,what:"time-to-first-paint-nanoseconds",value:(0,Vs.asNanoseconds)(Vs.Time.fromMillis(e).asNanos()),tags:{route:Gs(window.location.pathname)}})})).catch((function(){})),Vs.BrowserMetrics.getTimeToFirstContentfulPaint().then((function(e){(0,Fs.sQ)({metric_type:Vs.MetricTypes.TIMER,what:"time-to-first-contentful-paint-nanoseconds",value:(0,Vs.asNanoseconds)(Vs.Time.fromMillis(e).asNanos()),tags:{route:Gs(window.location.pathname)}})})).catch((function(){}));var e=function(e){(0,Fs.sQ)(Vs.BrowserMetrics.getWebVitalsMetric(zs(zs({},e),{},{label:e.name}),{route:Gs(window.location.pathname)}))};(0,Bs.Fu)(e),(0,Bs.mw)(e),(0,Bs.NO)(e),(0,Bs.Yn)(e),(0,Bs.a4)(e),(0,Bs.mr)(e)}var Ys=n(88979),qs=n(40946),Qs=function(e){return e.RTL="rtl",e.LTR="ltr",e}({}),Js=function(e){document.documentElement.setAttribute("dir",e)},Xs=function(e){return e.SET_RTL_MODE="SET_RTL_MODE",e}({}),$s=function(e){var t,n=function(e){var t;return null!==(t=qs.k1[e])&&void 0!==t&&t.isRTL?Qs.RTL:Qs.LTR}(e);return function(e){e===Qs.RTL?Js(Qs.RTL):Js(Qs.LTR)}(n),t=n===Qs.RTL,{type:Xs.SET_RTL_MODE,isRTL:t}},el=n(73691),tl=n(9102),nl=n(61740),il=n(30406),rl=n(80924),al=n(42016),ol=n(44460),sl=n(89246),ll=n(59496),cl=n(49210),ul=n(80447),dl=n(4637);function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fl=function(e){return{type:"INIT_PICTURE_IN_PICTURE",isReady:e}};function vl(e,t){if("INIT_PICTURE_IN_PICTURE"===t.type)return e.isReady===t.isReady&&(0,ul.yN)("Try to mount / unmount multiple `PictureInPictureUpdater` components!"),ml(ml({},e),{},{isReady:t.isReady});switch(e.isReady||(0,ul.yN)("Trying to dispatch PiP action without a `PictureInPictureUpdater` being mounted!"),t.type){case"OPEN_PICTURE_IN_PICTURE":return ml(ml({},e),{},{isVisible:!0});case"CLOSE_PICTURE_IN_PICTURE":return ml(ml({},e),{},{isVisible:!1})}return e}var gl=(0,ll.createContext)(null),hl=function(e){var t=e.children,n={isEnabled:!!document.pictureInPictureEnabled&&!navigator.webdriver&&(0,h.ZO)()!==k.W.Desktop&&!(0,cl.G)(),isReady:!1,isVisible:!1},r=(0,ll.useReducer)(vl,n),a=(0,i.Z)(r,2),o=a[0],s=a[1];return(0,dl.jsx)(gl.Provider,{value:[o,s],children:t})};function kl(){var e=(0,ll.useContext)(gl);if(null===e)throw new Error("Trying to use 'PictureInPictureContext' without 'PictureInPictureStore'!");return e}var yl=n(92987),bl=n(9271),Sl=n(39106),xl=640;function Ol(e,t){return wl.apply(this,arguments)}function wl(){return(wl=(0,r.Z)(o().mark((function e(t,n){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.context,r=t.video,(a=new Image).crossOrigin="anonymous",a.src=n,e.next=6,a.decode();case 6:return i.drawImage(a,0,0,xl,xl),e.next=9,r.play();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(e,t){return _l.apply(this,arguments)}function _l(){return(_l=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.video,e.prev=1,e.next=4,i.requestPictureInPicture();case 4:i.addEventListener("leavepictureinpicture",n,{once:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),(0,ul.H)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var El=function(e){var t,n,i=null!==(t=null==e?void 0:e.hasContext)&&void 0!==t&&t,r=null!==(n=null==e?void 0:e.isPaused)&&void 0!==n&&n;document.pictureInPictureElement&&(!i||r?document.pictureInPictureElement.pause():document.pictureInPictureElement.play())};function Cl(e){var t,n,i,r=null!==(t=null==e||null===(n=e.item)||void 0===n?void 0:n.images)&&void 0!==t?t:[];return null!==(i=(0,Sl.o)(r,{desiredSize:xl}))&&void 0!==i?i:null}var Pl=function(){var e=kl(),t=(0,i.Z)(e,2),n=t[0],a=t[1],s=n.isVisible,l=(0,bl.Y)((function(e){return e}),(function(e,t){var n,i;return(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e?void 0:e.isPaused)===(null==t?void 0:t.isPaused)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(i=t.item)||void 0===i?void 0:i.uri)})),c=(0,yl.O)(),u=(0,ll.useRef)(l),d=(0,ll.useRef)(null),p=(0,ll.useRef)(!1);u.current=l;var m=function(){var e;return d.current=null!==(e=d.current)&&void 0!==e?e:function(){var e=document.createElement("canvas");e.width=xl,e.height=xl;var t=e.getContext("2d"),n=document.createElement("video");return n.srcObject=e.captureStream(),n.muted=!0,{context:t,video:n}}(),d.current};return(0,ll.useEffect)((function(){return a(fl(!0)),function(){a(fl(!1))}}),[a]),(0,ll.useEffect)((function(){var e=function(){},t=function(){var t=(0,r.Z)(o().mark((function t(){var n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m(),i=document.pictureInPictureElement===n.video,null!==(r=Cl(l))){t.next=6;break}return e(),t.abrupt("return");case 6:return t.next=8,Ol(n,r);case 8:if(i){t.next=11;break}return t.next=11,Nl(n,(function(){p.current||a({type:"CLOSE_PICTURE_IN_PICTURE"}),p.current=!1}));case 11:El(l);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(e,t){var n,i,r,a,o=null!==(n=null==e?void 0:e.hasContext)&&void 0!==n&&n,s=(null==e||null===(i=e.item)||void 0===i?void 0:i.type)===Le.p.EPISODE&&"audio"!==(null==e?void 0:e.item.mediaType),l=null===(r=null===(a=t.activeDevice)||void 0===a?void 0:a.isLocal)||void 0===r||r;return!!o&&!!l&&!s}(l,c);n&&s?t():e()}),[s,l,c,a]),null},Il=n(88652),jl=n(90135),Al=function(e){var t=e.children,n=e.queryClient;return(0,dl.jsx)(tl.QueryClientProvider,{client:n,children:t})},Tl=n(15539),Dl=n(28930);const Rl="main-appShell-container",Fl="main-appShell-sideBar",Ll="main-appShell-navItems",Ml="main-appShell-mainContent",Ul="main-appShell-topBar",Zl="main-appShell-cards",Bl="main-appShell-cardsHeader",Vl="main-appShell-cardsWrapper",Hl="main-appShell-card",Gl="main-appShell-playbackBar";var Wl=(0,ll.memo)((function(){return(0,dl.jsxs)("div",{className:Rl,children:[(0,dl.jsx)("div",{className:Fl,children:(0,dl.jsxs)("svg",{className:Ll,width:"232",height:"704",viewBox:"0 0 232 704",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("path",{fill:"#000",d:"M0 0h227v704H0z"}),(0,dl.jsx)("path",{d:"M29.887 130.123A8.47 8.47 0 0032.5 124a8.5 8.5 0 10-8.5 8.5 8.454 8.454 0 005.125-1.73l4.401 5.153.76-.649-4.399-5.151zM24 131.5c-4.136 0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5-3.364 7.5-7.5 7.5zM29.16 158.597l-.913.406 7.797 17.513.914-.406-7.798-17.513zM18.5 176.5h1v-18h-1v18zm6 0h1v-18h-1v18z",fill:"#757575"}),(0,dl.jsx)("path",{fill:"#404040",d:"M53 162h122v11H53zM64 258h95v11H64z"}),(0,dl.jsx)("path",{fill:"#fff",d:"M16 248h32v32H16z"}),(0,dl.jsx)("path",{d:"M38 263h-5v-5h-2v5h-5v2h5v5h2v-5h5v-2z",fill:"#000"}),(0,dl.jsx)("path",{fill:"url(#paint0_linear)",d:"M16 292h32v32H16z"}),(0,dl.jsx)("path",{d:"M37.797 302.727a4.057 4.057 0 00-5.488-.253.558.558 0 01-.31.112.531.531 0 01-.31-.112 4.054 4.054 0 00-5.488.253 4.05 4.05 0 00-1.194 2.883c0 1.089.424 2.113 1.168 2.855l4.462 5.223a1.791 1.791 0 002.726 0l4.435-5.195a4.052 4.052 0 001.195-2.883 4.057 4.057 0 00-1.196-2.883z",fill:"#fff"}),(0,dl.jsx)("path",{fill:"#404040",d:"M64 303h79v11H64z"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 353h142v11H16zM16 395h53v11H16zM16 437h98v11H16zM16 479h143v11H16zM16 521h97v11H16z",opacity:"0.6"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 218h71v11H16z"}),(0,dl.jsx)("path",{d:"M25.501 73.078L34 77.984V91h-6v-7h-5v7h-6V78.024l8.501-4.946zm-.002-1.156L16 77.449V92h8v-7h3v7h8V77.407l-9.501-5.485z",fill:"#616161"}),(0,dl.jsx)("path",{fill:"#404040",d:"M53 78h122v11H53zM53 120h122v11H53z"}),(0,dl.jsx)("defs",{children:(0,dl.jsxs)("linearGradient",{id:"paint0_linear",x1:"0",y1:"308",x2:"32",y2:"340",gradientUnits:"userSpaceOnUse",children:[(0,dl.jsx)("stop",{stopColor:"#450AF5"}),(0,dl.jsx)("stop",{offset:"1",stopColor:"#C4EFD9"})]})})]})}),(0,dl.jsxs)("div",{className:Ml,children:[(0,dl.jsx)("div",{className:Ul,children:(0,dl.jsxs)("svg",{width:"125",height:"95",viewBox:"0 0 125 95",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{x:"0",y:"31",width:"125",height:"32",rx:"16",fill:"#282828"}),(0,dl.jsx)("path",{d:"M992 59c6.627 0 12-5.373 12-12s-5.373-12-12-12-12 5.373-12 12 5.373 12 12 12z",fill:"#404040"}),(0,dl.jsx)("path",{fill:"#404040",d:"M1014 42h66v11h-66z"})]})}),(0,dl.jsxs)("div",{children:[(0,dl.jsxs)("div",{className:Zl,children:[(0,dl.jsxs)("div",{className:Bl,children:[(0,dl.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,dl.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,dl.jsxs)("div",{className:Vl,children:[(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]}),(0,dl.jsxs)("div",{className:Zl,children:[(0,dl.jsxs)("div",{className:Bl,children:[(0,dl.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,dl.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,dl.jsxs)("div",{className:Vl,children:[(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]}),(0,dl.jsxs)("div",{className:Zl,children:[(0,dl.jsxs)("div",{className:Bl,children:[(0,dl.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,dl.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,dl.jsxs)("div",{className:Vl,children:[(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,dl.jsxs)("svg",{className:Hl,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,dl.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]})]})]}),(0,dl.jsxs)("div",{className:Gl,children:[(0,dl.jsx)("div",{children:(0,dl.jsx)("svg",{width:"175",height:"40",viewBox:"0 0 175 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsx)("path",{fill:"#404040",d:"M53 5h122v11H53zM53 23h101v11H53zM0 0h40v40H0z"})})}),(0,dl.jsx)("div",{children:(0,dl.jsxs)("svg",{width:"216",height:"48",viewBox:"0 0 216 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("path",{d:"M12.5 22.8l.7-.8c-1.1-1.3-2.7-2-4.3-2v1c1.3 0 2.6.6 3.5 1.6l.1.2zm7.5 4.7c-1.2 0-2.3-.5-3.2-1.3l-.6.8c1 1 2.4 1.5 3.8 1.5V30l3.5-2-3.5-2v1.5zm0-6V23l3.5-2-3.5-2v1.5c-1.6 0-3.2.7-4.2 2l-3.4 3.9c-.9 1-2.2 1.6-3.5 1.6v1c1.6 0 3.2-.7 4.2-2l3.4-3.9c.9-1 2.2-1.6 3.5-1.6zM61 18.5l-8 4.619V19h-2v10h2v-4.119l8 4.619v-11zM163 20v4.119l-8-4.619v11l8-4.619V30h2V20h-2zM197.5 21h4.5v1.5l3.5-2-3.5-2V20h-4.5c-2.5 0-4.5 2-4.5 4.5 0 .6.1 1.2.4 1.8l.9-.5c-.2-.4-.3-.8-.3-1.3 0-1.9 1.6-3.5 3.5-3.5zm9.1 1.7l-.9.5c.2.4.3.8.3 1.3 0 1.9-1.6 3.5-3.5 3.5H198v-1.5l-3.5 2 3.5 2V29h4.5c2.5 0 4.5-2 4.5-4.5 0-.6-.1-1.2-.4-1.8z",fill:"#fff"}),(0,dl.jsx)("circle",{cx:"108",cy:"24",r:"20",fill:"#fff"}),(0,dl.jsx)("path",{d:"M100 16h16v16h-16V16z",fill:"#fff"}),(0,dl.jsx)("path",{d:"M104.018 30l10.392-6-10.392-6v12z",fill:"#000"})]})}),(0,dl.jsx)("div",{children:(0,dl.jsx)("svg",{width:"99",height:"16",viewBox:"0 0 99 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsx)("path",{d:"M1 2v5l4.33-2.5L1 2zm0 12h14v-1H1v1zm0-4h14V9H1v1zm7-5v1h7V5H8zM92.945 1.379l-.652.763A7.968 7.968 0 0194.863 8a7.972 7.972 0 01-2.57 5.858l.651.763a8.966 8.966 0 00.001-13.242zm-2.272 2.66l-.651.763a4.484 4.484 0 01-.001 6.397l.651.763a5.48 5.48 0 001.691-3.961c0-1.557-.65-2.962-1.69-3.962zM80 5v6h2.804L88 14V2l-5.196 3H80zm7-1.268v8.536L83.072 10H81V6h2.072L87 3.732zM40 2.5v8c0 .55.45 1 1 1h5v-1h-5v-8h5v-1h-5c-.55 0-1 .45-1 1zM43 14c0 .275.225.5.5.5H46v-1h-2.5c-.275 0-.5.225-.5.5zM55 1.5h-6c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-11c0-.55-.45-1-1-1zm0 12h-6v-11h6v11zm-3-8A.75.75 0 1052 4a.75.75 0 000 1.5zm0 6a2 2 0 100-4 2 2 0 000 4zm0-3c.551 0 1 .449 1 1 0 .551-.449 1-1 1-.551 0-1-.449-1-1 0-.551.449-1 1-1z",fill:"#fff"})})})]})]})})),zl=n(78121),Kl=ll.memo((function(){return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(zl.w,{isOpen:!0,headingMessage:v.ag.get("error-dialog.generic.header"),message:v.ag.get("error-dialog.generic.body"),buttonLabel:v.ag.get("fatal-error.button-label")}),(0,dl.jsx)(Wl,{})]})})),Yl=n(82015),ql=n(91095);function Ql(e){var t;return null!==(t=null==e?void 0:e.map((function(e){var t=e.url,n=e.width,i=e.height;return{src:t,sizes:"".concat(n,"x").concat(i)}})))&&void 0!==t?t:[]}function Jl(e){window.navigator.mediaSession&&(window.navigator.mediaSession.metadata=function(e){return(0,Re.G_)(e)?new window.MediaMetadata({title:e.name,artist:e.artists.map((function(e){return e.name})).join(v.ag.getSeparator()),album:e.album.name,artwork:Ql(e.images)}):(0,Re.iw)(e)?new window.MediaMetadata({title:e.name,artist:"",album:e.show.name,artwork:Ql(e.images)}):(0,Re.G7)(e)?new window.MediaMetadata({title:e.name,artist:"",album:e.book.name,artwork:Ql(e.images)}):(0,Re.k6)(e)?new window.MediaMetadata({title:v.ag.get("ad-formats.advertisement"),artist:"",album:"",artwork:Ql(e.images)}):(0,Re.RB)(e)||void 0===e?new window.MediaMetadata({title:"",artist:"",album:"",artwork:[]}):(0,Me.U)(e)}(e))}var Xl=function(){return(0,ql.G)(Fe.rg.UPDATE,(function(e){var t,n=e.data;return Jl(null!==(t=null==n?void 0:n.item)&&void 0!==t?t:void 0)})),null},$l=function(){return(0,h.wW)()?null:(0,dl.jsx)(Xl,{})},ec=n(89130),tc=n(21558),nc=n(95514),ic=n(28594),rc=n(96268),ac=n(52260);function oc(){oc=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var a=new RegExp(e,i);return t.set(a,r||t.get(e)),(0,ac.Z)(a,n.prototype)}function i(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var a=0;void 0===e[r[a]]&&a+1<r.length;)a++;t[n]=e[r[a]]}return t}),Object.create(null))}return(0,Q.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var a=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,rc.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(i(e,o)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},oc.apply(this,arguments)}function sc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="".concat("https://open.spotify.com").concat(e),n="",i=/^\/\w+\/([a-zA-Z0-9]+)[/\w+]*/.exec(e);i&&(n=i[1]);var r=e,a=e,o=e.match(/^\/search\/(.*)\/(.*)/);return/^\/genre\//.test(e)||/^\/view\//.test(e)?a="/browse/genres":"/"===e?(a="/browse",r="/browse/featured"):"/browse/charts"===e?a="/charts":"/collection/tracks"===e?a="/collection/songs":"/search"===e?a="/search":o?(a="podcasts"===o[2]?"/search/shows":"/search/".concat(o[2]),r="/search/".concat(o[2])):e.match(oc(/\/search\/(.*)/,{query:1}))?(a="/search",r="/search/results"):"/download"===e?a="/upsell":"/queue"===e?a="/nowplaying/queue":/^\/artist\/[a-zA-Z0-9]+\/related/.test(e)?(r=(0,f.WN)(n).toString(),a="/artist/related"):/^\/artist\/[a-zA-Z0-9]+\/about/.test(e)?(r=(0,f.WN)(n).toString(),a="/artist/about"):/^\/artist\/[a-zA-Z0-9]+\/concerts/.test(e)?(r=(0,f.WN)(n).toString(),a="/artist/concerts"):(0,f.OB)(t)?(r=(0,f.WN)(n).toString(),a="/artist"):(0,f.nK)(t)?(r=(0,f.FW)(n).toString(),a="/playlist"):(0,f.YF)(t)?(r=(0,f.jy)(n).toString(),a="/album"):(0,f.hn)(t)?(r=(0,f.YD)(n).toString(),a="/episode"):(0,f.RS)(t)?(r=(0,f.xt)(n).toString(),a="/shows"):(0,f.Kv)(t)?(r=(0,f.QK)(n).toString(),a="/profile"):(0,f.wj)(t)&&(r=(0,f.tn)(n).toString(),a="/track"),{viewUri:r,mappedPageId:a}}var lc=n(41177);function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dc=function(){return"undefined"==typeof window||void 0===window.gtag||void 0===window.google_tag_manager},pc=function(e,t,n){dc()||window.gtag("event",t,{event_category:e,event_label:n})},mc=(n(70785),n(26482)),fc=n(45287),vc="#login";function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var yc=function(e){(0,Q.Z)(n,e);var t=kc(n);function n(e){var i;(0,E.Z)(this,n);var r=(i=t.call(this,e)).props,a=r.eventSender,o=r.location,s=r.isAnonymous;return a.send(xc(o.pathname,s)),i}return(0,C.Z)(n,[{key:"shouldComponentUpdate",value:function(e){var t,n=e.eventSender,i=e.navigationType,r=e.location,a=e.isAnonymous,o=this.props.location,s=r.hash===vc||o.hash===vc;return(0,ec.J)(r,o)||i===tc.aU.Replace||s||(t=r.pathname,dc()||window.gtag("pageview",{pathname:t}),n.send(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=sc(e),i=n.viewUri,r={page:n.mappedPageId,type:"exit",view_uri:i};return t?(0,ic.t)(r):(0,nc.v)(r)}(o.pathname,a)),n.send(xc(r.pathname,a))),!1}},{key:"render",value:function(){return null}}]),n}(ll.Component);const bc=(0,nl.$j)((function(e,t){return hc(hc({},t),{},{isAnonymous:e.session.isAnonymous})}))((Sc=yc,function(e){var t=(0,lc.TH)(),n=(0,lc.s0)(),i=(0,lc.ur)(),r=(0,lc.UO)();return(0,dl.jsx)(Sc,uc(uc({},e),{},{navigate:n,navigationType:i,location:t,params:r}))}));var Sc;function xc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=sc(e),i=n.viewUri,r={page:n.mappedPageId,type:"enter",view_uri:i};return t?(0,ic.t)(r):(0,nc.v)(r)}var Oc=n(15368),wc=function(e){var t=e.apiInstance;return(0,ql.G)(Fe.rg.ACTION,(function(e){e.data.action!==Fe.zr.PLAY&&e.data.action!==Fe.zr.RESUME||t.log(e.data.action)})),null};function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ec=function(e,t){return{type:"OPEN",name:e,handle:t}},Cc=function(e){return{type:"CLOSE",name:e}};function Pc(e,t){switch(t.type){case"OPEN":var n=t.name,i=t.handle;return e.map.has(n)?e:(e.map.set(n,i),_c(_c({},e),{},{map:e.map}));case"CLOSE":var r=t.name;return e.map.delete(r)?_c(_c({},e),{},{map:e.map}):e}return e}var Ic=(0,ll.createContext)(null),jc=function(e){var t=e.children,n=new Map,r={map:n,get:function(e){var t;return null!==(t=n.get(e))&&void 0!==t?t:null}},a=(0,ll.useReducer)(Pc,r),o=(0,i.Z)(a,2),s=o[0],l=o[1];return(0,dl.jsx)(Ic.Provider,{value:[s,l],children:t})};var Ac=n(84875),Tc=n.n(Ac),Dc=n(87904),Rc=n(40787);function Fc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Mc=function(e){return e[e.POPUP=0]="POPUP",e[e.FLOATING=1]="FLOATING",e}({});function Uc(e){return e instanceof Node&&"STYLE"===e.nodeName}function Zc(e){return e instanceof Node&&"LINK"===e.nodeName}function Bc(e){var t=e.nodeName,n=e.attributes;return"".concat(t).concat(Array.from(n).map((function(e){var t=e.name,n=e.value;return"[".concat(t,'="').concat(n,'"]')})).join(""))}function Vc(e){var t,n,i,r,a,o,s,l,c,u=window.open("about:blank",function(e){var t=e.name;switch(e.type){case Mc.POPUP:default:return t;case Mc.FLOATING:return"".concat(t,"@auxiliary")}}(e),(n=(t=e).position,i=n.x,r=n.y,a=t.size,o=a.width,s=a.height,"left=".concat(i,",top=").concat(r,",width=").concat(o,",height=").concat(s)));if(null!==u){l=window.document,(c=u.document).head.querySelectorAll("style, link[rel=stylesheet]").forEach((function(e){c.head.removeChild(e)})),Array.from(l.styleSheets).forEach((function(e){if(e.href){var t=l.createElement("link");t.rel="stylesheet",t.href=e.href,c.head.appendChild(t)}else try{if(e.cssRules){var n=c.createElement("style");Array.from(e.cssRules).forEach((function(e){n.appendChild(c.createTextNode(e.cssText))})),c.head.appendChild(n)}}catch(t){console.warn("Failed to read `styleSheet.cssRules` - possibly a CORS issue?!",e)}})),function(e,t){var n=e.createElement("base");n.setAttribute("href",t),e.head.appendChild(n)}(u.document,"".concat(window.location.protocol,"//").concat(window.location.hostname,"/"));var d=null;(d=new MutationObserver((function(e){var t,n=Fc(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.addedNodes.forEach((function(e){(Zc(e)||Uc(e))&&u.document.head.appendChild(e.cloneNode(!0))})),i.removedNodes.forEach((function(e){var t;if(Zc(e))null===(t=u.document.head.querySelector(Bc(e)))||void 0===t||t.remove();else if(Uc(e)){var n,i=e.textContent;null===(n=Array.from(u.document.head.querySelectorAll(Bc(e))).find((function(e){return e.textContent===i})))||void 0===n||n.remove()}}))}}catch(e){n.e(e)}finally{n.f()}}))).observe(window.document.head,{childList:!0}),u.addEventListener("beforeunload",(function(){var t;null!==d&&(d.disconnect(),d=null),null===(t=e.onClose)||void 0===t||t.call(e,u)}))}return u}function Hc(e,t){window.updateAuxiliaryWindow(e.name,t)}function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zc(e){var t=function(){var e=(0,ll.useContext)(Ic);if(null===e)throw new Error("Trying to use 'AuxiliaryWindowContext' without 'AuxiliaryWindowProvider'!");return e}(),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,ll.useRef)(e),s=e.type===Mc.FLOATING,l=r.get(e.name);o.current=e;var c=(0,ll.useCallback)((function(){null!==l&&(l.close(),a(Cc(o.current.name)))}),[a,l]),u=(0,ll.useCallback)((function(){if(null===l){var e=Vc(Wc(Wc({},o.current),{},{onClose:function(e){var t,n;null===(t=(n=o.current).onClose)||void 0===t||t.call(n,e),a(Cc(o.current.name))}}));null!==e&&(s&&Hc(e,o.current),a(Ec(o.current.name,e)))}}),[a,s,l]),d=(0,ll.useCallback)((function(e){null!==l&&s&&Hc(l,e)}),[s,l]);return(0,ll.useEffect)((function(){return window.addEventListener("beforeunload",c),function(){window.removeEventListener("beforeunload",c)}}),[c]),{handle:l,open:u,close:c,update:d}}var Kc=n(20899);function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qc={width:448,height:144},Jc={name:"mini-player",type:Mc.FLOATING,position:{x:screen.availWidth-448-50,y:50},size:Qc,minSize:Qc,maxSize:Qc};function Xc(){var e=(0,Kc.z)("mini-player-options",{}),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=zc(qc(qc(qc({},Jc),n),{},{onClose:function(e){r({position:{x:e.screenX,y:e.screenY-(screen.height-screen.availHeight)}})}})),o=a.handle,s=a.open,l=a.close,c=(0,ll.useCallback)((function(){null===o?s():l()}),[o,s,l]);return{isOpen:!!o,handle:o,show:s,hide:l,toggle:c}}const $c="zJFIha5vtXOlXnPSglax",eu="vojO1KmAoycFuadjJqKJ",tu="H4d5iuP1SkygTy5P4DWO";var nu=function(){var e=(0,Rc.IK)(),t=Xc(),n=t.toggle,i=t.isOpen;return(0,dl.jsx)("button",{"aria-label":"Toggle mini-player",disabled:!e,className:Tc()(eu,(0,P.Z)({},tu,i)),onClick:n,children:(0,dl.jsx)(Dc.$,{className:$c,iconSize:16})})},iu=n(50099),ru=n(40454),au=n(10506),ou=n(25645),su=n(37029),lu=n(7906),cu=n(90775),uu=n(78742),du=n(68975),pu=5e3,mu=15e3;function fu(){var e=(0,uu.g)(),t=function(e){return e===Le.p.TRACK?pu:e===Le.p.EPISODE?mu:0}((0,bl.Y)((function(e){var t;return null==e||null===(t=e.item)||void 0===t?void 0:t.type})));return{seekBackward:(0,ll.useCallback)((function(){return 0!==t&&e.seekBackward(t),t}),[e,t]),seekForward:(0,ll.useCallback)((function(){return 0!==t&&e.seekForward(t),t}),[e,t]),seekOffsetMs:t}}var vu=n(20188);const gu="main-playbackBarRemainingTime-container";var hu=function(e){var t=e.position,n=e.duration,r=e.isPreview,a=e.semanticColor,o=void 0===a?"textSubdued":a,s=e.isFullscreenMode,l=void 0!==s&&s,c=(0,Kc.z)(Bt.JP,!1),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=(0,ll.useCallback)((function(){r||p(!d)}),[d,p,r]);return(0,dl.jsx)(au.D,{as:"div","":"playback-duration","data-test-position":t,variant:l?"ballad":"finale",className:gu,onClick:m,semanticColor:o,children:d?"-".concat((0,Sl.m)(n-t)):(0,Sl.m)(n)})},ku=n(46868),yu=[{name:"Anakin",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"7px","--core-color":"white","--edge-glow-color":"rgb(55, 132, 214)","--blur-glow-color":"#2e77d0","--blur-radius":"16px","--spread-radius":"8px","--saber-hilt-url":"url(".concat((0,ku.g)("images/sw_saber_anakin.png"),")"),"--saber-hilt-overlap":"5px"}},{name:"Luke",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(135, 220, 90)","--blur-glow-color":"#1ed760","--blur-radius":"16px","--spread-radius":"4px","--saber-hilt-url":"url(".concat((0,ku.g)("images/sw_saber_luke.png"),")"),"--saber-hilt-overlap":"5px"}},{name:"Vader",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"10px","--core-color":"white","--edge-glow-color":"rgb(229, 17, 21)","--blur-glow-color":"#cd1a2b","--blur-radius":"20px","--spread-radius":"14px","--saber-hilt-url":"url(".concat((0,ku.g)("images/sw_saber_vader.png"),")"),"--saber-hilt-overlap":"6px"}},{name:"Rey",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"8px","--core-color":"white","--edge-glow-color":"rgb(249, 164, 11)","--blur-glow-color":"rgb(253, 175, 33)","--blur-radius":"20px","--spread-radius":"5px","--saber-hilt-url":"url(".concat((0,ku.g)("images/sw_saber_rey.png"),")"),"--saber-hilt-overlap":"3px"}},{name:"Leia",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(55, 132, 214)","--blur-glow-color":"#2e77d0","--blur-radius":"16px","--spread-radius":"8px","--saber-hilt-url":"url(".concat((0,ku.g)("images/sw_saber_leia.png"),")"),"--saber-hilt-overlap":"2px"}},{name:"Mace",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(90, 22, 167)","--blur-glow-color":"rgb(172, 57, 193)","--blur-radius":"20px","--spread-radius":"8px","--saber-hilt-url":"url(".concat((0,ku.g)("images/sw_saber_mace.png"),")"),"--saber-hilt-overlap":"1px"}},{name:"Ahsoka",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"6px","--core-color":"white","--edge-glow-color":"rgb(255,255,255)","--blur-glow-color":"rgb(255,255,255)","--blur-radius":"20px","--spread-radius":"5px","--saber-hilt-url":"url(".concat((0,ku.g)("images/sw_saber_ahsoka1.png"),")"),"--saber-hilt-overlap":"-9px","--saber-hilt-width":"100px","--saber-hilt-height":"36px"}}],bu=["spotify:playlist:37i9dQZF1DXaUaRhCgtpCo","spotify:playlist:69BOXIItwwyxTgdz6flzvU","spotify:playlist:37i9dQZF1DWUgUvAPAFxdh"],Su=["official_star_wars","kirbysayshi","hansencc"],xu=/Star Wars/i,Ou="THX1138",wu=Ou.length;function Nu(e){var t,n,r,a,o,s,l,c,u=e.onChange,d=function(e){var t=(0,ll.useState)(0),n=(0,i.Z)(t,2),r=n[0],a=n[1];return{next:function(){a((r+1)%yu.length)},config:e?yu[r]:null}}((t=(0,ll.useState)([]),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,ll.useState)(!1),s=(0,i.Z)(o,2),l=s[0],c=s[1],(0,ll.useEffect)((function(){var e=function(e){for(r.push(e.key);r.length>wu;)r.shift();r.join("")===Ou&&c(!l),a((0,_.Z)(r))};return window.addEventListener("keypress",e),function(){window.removeEventListener("keypress",e)}}),[r,l]),(0,bl.Y)((function(e){var t,n,i,r,a,o=null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:"",s=null!==(n=null==e||null===(i=e.context)||void 0===i||null===(r=i.metadata)||void 0===r?void 0:r.context_owner)&&void 0!==n?n:"",l=null!==(a=null==e?void 0:e.item)&&void 0!==a?a:void 0;return!!bu.includes(o)||!!Su.includes(s)||!!(0,Re.G_)(l)&&(xu.test(l.name)||xu.test(l.album.name))}))||l)),p=d.next,m=d.config,f=(0,ll.useRef)(u);return f.current=u,(0,ll.useEffect)((function(){var e;f.current(null!==(e=null==m?void 0:m.vars)&&void 0!==e?e:null)}),[m]),m?(0,dl.jsx)("div",{className:"saber-hilt",children:(0,dl.jsx)("button",{"":"saber-hilt-button","aria-label":v.ag.get("playback-control.a11y.lightsaber-hilt-button",null==m?void 0:m.name),className:"saber-hilt__btn",style:m.vars,onClick:p})}):null}var _u=["spotify:playlist:37i9dQZF1DXc3KPAjGyPdm"];var Eu=function(e){var t,n,r,a,o=e.isPreview,s=e.isFullscreenMode,l=void 0!==s&&s,c=(0,ll.useState)(null),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=(0,cu.o)(),f=(0,uu.g)(),g=(0,bl.Y)((function(e){return e}),(function(e,t){var n,i;return(null==e?void 0:e.duration)===(null==t?void 0:t.duration)&&(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e||null===(n=e.restrictions)||void 0===n?void 0:n.canSeek)===(null==t||null===(i=t.restrictions)||void 0===i?void 0:i.canSeek)})),h=fu(),k=h.seekBackward,y=h.seekForward,b=h.seekOffsetMs,S=(0,vu.fU)(ou.createDesktopNpbPlayerControlsEventFactory,{}),x=S.spec,O=S.logger,w=null!==(t=null==g?void 0:g.duration)&&void 0!==t?t:0,N=null!==(n=null==g?void 0:g.hasContext)&&void 0!==n&&n,_=null!==(r=null==g||null===(a=g.restrictions)||void 0===a?void 0:a.canSeek)&&void 0!==r&&r,E=(0,du.z)(500),C=(0,i.Z)(E,2),P=C[0],I=C[1],j=(0,ll.useState)(null),A=(0,i.Z)(j,2),T=A[0],D=A[1],R=null!==T?T:P,F=function(e){D(e*w)},L=R>0||w>0,M=(0,Sl.m)(L?R:NaN),U=(0,Sl.m)(L?w:NaN),Z=(0,nl.v9)((function(e){var t,n;return!(null==e||null===(t=e.ui)||void 0===t||null===(n=t.fullscreenMode)||void 0===n||!n.isOpen)})),B=(0,bl.Y)((function(e){var t,n=null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:"";return _u.includes(n)})),V=(0,lu.H)();return l!==Z?null:(0,dl.jsxs)("div",{className:"playback-bar",children:[(0,dl.jsx)(au.D,{"":"playback-position",as:"div",variant:l?"ballad":"finale",className:"playback-bar__progress-time-elapsed",semanticColor:l?"textBase":"textSubdued",children:M}),N?(0,dl.jsx)(Nu,{onChange:function(e){p(e)}}):null,(0,dl.jsx)(su.ko,{labelText:v.ag.get("playback-control.a11y.seek-slider-button"),value:Math.floor(R/1e3),max:Math.floor(w/1e3),step:Math.floor(b/1e3),"aria-valuetext":v.ag.get("download.progress-global",M,U),isInteractive:N&&L,onDragStart:F,onDragMove:F,onDragEnd:function(e,t){var n=t.wasDraggedBeforeReleased;if(D(null),m({intent:"seek",type:"click"}),_){var i=e*w;I(i),f.seekTo(i),n?O.logInteraction(x.progressBarFactory().dragSeekToTime({msToSeekTo:i})):O.logInteraction(x.progressBarFactory().hitSeekToTime({msToSeekTo:i}))}},onStepBackward:function(){if(_){var e=k();I(Math.max(0,Math.min(w,P-e)))}},onStepForward:function(){if(_){var e=y();I(Math.max(0,Math.min(w,P+e)))}},saberConfig:d,isPlayingStrangerThings:B,isAttackOnTitanEasterEggActive:V,"":"playback-progressbar"}),(0,dl.jsx)(hu,{position:R,duration:w>0?w:NaN,isPreview:o,semanticColor:l?"textBase":"textSubdued",isFullscreenMode:l})]})},Cu=n(85830),Pu=n(47453),Iu=n(30597),ju=n(62388),Au=n(38674),Tu=n(94152),Du=n(69529);var Ru=n(71062),Fu=n(84306);const Lu="main-playPauseButton-button";var Mu=function(e){var t,n,r,a,o,s,l=e.iconSize,c=void 0===l?16:l,u=e.onClick,d=(0,uu.g)(),p=(0,cu.o)(),m=(t=(0,Au.W6)(ys.Nm),n=(0,Tu.s4)(),r=(0,Du.L)(),a=(0,i.Z)(r,2),o=a[0],s=a[1],(0,ll.useCallback)((function(e,i){function r(){s(e),o.current||n.send((0,ju.m)({action:i,page:location.pathname}))}t&&("requestIdleCallback"in window?requestIdleCallback(r):r())}),[n,s,o,t])),f=(0,bl.Y)((function(e){return{hasContext:null==e?void 0:e.hasContext,isPaused:null==e?void 0:e.isPaused,canPause:null==e?void 0:e.restrictions.canPause,canResume:null==e?void 0:e.restrictions.canResume}}),Fu.V),g=f.hasContext,h=f.isPaused,k=f.canPause,y=f.canResume,b=(0,Cu.y1)((function(e){p({type:"click",intent:h?"play":"pause"}),h&&y?(null==u||u("resume"),d.resume(),m(e,"play/resume")):!h&&k&&(null==u||u("pause"),d.pause())}),100,{leading:!0,trailing:!1}),S=h?v.ag.get("playback-control.play"):v.ag.get("playback-control.pause"),x=(0,P.Z)({},"--button-size","".concat(2*c,"px")),O=!g||(h?!y:!k);return(0,dl.jsx)(Ru.w,{label:S,children:(0,dl.jsx)("button",{style:x,className:Lu,onClick:b,disabled:O,"aria-label":S,"":"control-button-playpause",children:h?(0,dl.jsx)(Pu.J,{iconSize:c}):(0,dl.jsx)(Iu.k,{iconSize:c})})})},Uu=n(32422),Zu=n(5084);function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hu(){var e=(0,uu.g)();return Vu(Vu({},(0,bl.Y)((function(e){var t,n,i,r,a,o;return{shuffle:null!==(t=null==e?void 0:e.shuffle)&&void 0!==t&&t,repeat:null!==(n=null==e?void 0:e.repeat)&&void 0!==n?n:Re.zq.REPEAT_NONE,speed:null!==(i=null==e?void 0:e.speed)&&void 0!==i?i:0,canToggleShuffle:null!==(r=null==e?void 0:e.restrictions.canToggleShuffle)&&void 0!==r&&r,canToggleRepeatContext:null!==(a=null==e?void 0:e.restrictions.canToggleRepeatContext)&&void 0!==a&&a,canToggleRepeatTrack:null!==(o=null==e?void 0:e.restrictions.canToggleRepeatTrack)&&void 0!==o&&o}}),Fu.V)),{},{canChangeSpeed:e.getCapabilities().canChangeSpeed,setShuffle:e.setShuffle.bind(e),setRepeat:e.setRepeat.bind(e),setSpeed:e.setSpeed.bind(e)})}const Gu="main-repeatButton-button",Wu="main-repeatButton-active";var zu;function Ku(e,t,n){return t&&n?(e+1)%3:t?(e+1)%2:n?1===e?2:(e+2)%4:Re.zq.REPEAT_NONE}var Yu=(zu={},(0,P.Z)(zu,Re.zq.REPEAT_NONE,{get label(){return v.ag.get("playback-control.disable-repeat")},intent:"repeat-off",ariaChecked:"false"}),(0,P.Z)(zu,Re.zq.REPEAT_CONTEXT,{get label(){return v.ag.get("playback-control.enable-repeat")},intent:"repeat-all",ariaChecked:"true"}),(0,P.Z)(zu,Re.zq.REPEAT_TRACK,{get label(){return v.ag.get("playback-control.enable-repeat-one")},intent:"repeat-single",ariaChecked:"mixed"}),zu),qu=function(e){var t=e.iconSize,n=void 0===t?16:t,r=e.onClick,a=(0,cu.o)(),o=Hu(),s=o.setRepeat,l=o.repeat,c=(0,bl.Y)((function(e){var t,n;return[null!==(t=null==e?void 0:e.restrictions.canToggleRepeatContext)&&void 0!==t&&t,null!==(n=null==e?void 0:e.restrictions.canToggleRepeatTrack)&&void 0!==n&&n]})),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=!d&&!p,f=(0,P.Z)({},"--button-size","".concat(2*n,"px")),v=Yu[Ku(l,d,p)].label;return(0,dl.jsx)(Ru.w,{label:v,children:(0,dl.jsx)("button",{style:f,className:Tc()(Gu,(0,P.Z)({},Wu,l!==Re.zq.REPEAT_NONE)),onClick:function(){var e=Ku(l,d,p);a({type:"click",intent:Yu[e].intent}),null==r||r(e),s(e)},disabled:m,role:"checkbox","aria-checked":Yu[l].ariaChecked,"aria-label":v,"":"control-button-repeat",children:l===Re.zq.REPEAT_TRACK?(0,dl.jsx)(Uu.H,{iconSize:n}):(0,dl.jsx)(Zu.K,{iconSize:n})})})},Qu=n(89274);const Ju="MRfNcNMd_djj3KOg_VOB";var Xu=function(e){var t=e.iconSize,n=void 0===t?16:t,i=e.onClick,r=(0,cu.o)(),a=(0,uu.g)(),o=(0,bl.Y)((function(e){var t;return null!==(t=null==e?void 0:e.restrictions.canSeek)&&void 0!==t&&t})),s=(0,P.Z)({},"--button-size","".concat(2*n,"px"));return(0,dl.jsx)(Ru.w,{label:v.ag.get("playback-control.skip-backward-15"),children:(0,dl.jsx)("button",{style:s,className:Tc()(Ju),onClick:function(){r({type:"click",intent:"skip-back-15"}),null==i||i(-15e3),a.seekBackward(15e3)},disabled:!o,"aria-label":v.ag.get("playback-control.skip-backward-15"),"":"control-button-seek-back-15",children:(0,dl.jsx)(Qu.v,{iconSize:n})})})},$u=n(68699);const ed="XGCdw_LcXQHrxmvpxjwi";var td=function(e){var t=e.iconSize,n=void 0===t?16:t,i=e.onClick,r=(0,cu.o)(),a=(0,uu.g)(),o=(0,bl.Y)((function(e){var t;return null!==(t=null==e?void 0:e.restrictions.canSeek)&&void 0!==t&&t})),s=(0,P.Z)({},"--button-size","".concat(2*n,"px"));return(0,dl.jsx)(Ru.w,{label:v.ag.get("playback-control.skip-forward-15"),children:(0,dl.jsx)("button",{style:s,className:Tc()(ed),onClick:function(){r({type:"click",intent:"skip-forward-15"}),null==i||i(15e3),a.seekForward(15e3)},disabled:!o,"aria-label":v.ag.get("playback-control.skip-forward-15"),"":"control-button-seek-forward-15",children:(0,dl.jsx)($u.v,{iconSize:n})})})},nd=n(5548),id=n(27483);const rd="main-shuffleButton-button",ad="main-shuffleButton-active";var od=function(e){var t=e.iconSize,n=void 0===t?16:t,i=e.onClick,r=(0,cu.o)(),a=Hu(),o=a.shuffle,s=a.setShuffle,l=a.canToggleShuffle,c=o?v.ag.get("playback-control.disable-shuffle"):v.ag.get("playback-control.enable-shuffle"),u=(0,P.Z)({},"--button-size","".concat(2*n,"px"));return(0,dl.jsx)(id.v,{placement:"top",arrow:"bottom",title:v.ag.get("pick-and-shuffle.upsell.title.shuffle-button"),children:(0,dl.jsx)(Ru.w,{label:c,children:(0,dl.jsx)("button",{style:u,className:Tc()(rd,(0,P.Z)({},ad,o)),onClick:function(){var e=!o;r({type:"click",intent:"shuffle"}),null==i||i(e),s(e)},disabled:!l,role:"switch","aria-checked":o?"true":"false","aria-label":c,"":"control-button-shuffle",children:(0,dl.jsx)(nd.z,{iconSize:n})})})})},sd=n(94531);const ld="main-skipBackButton-button";var cd=function(e){var t=e.iconSize,n=void 0===t?16:t,i=e.onClick,r=(0,uu.g)(),a=(0,cu.o)(),o=(0,bl.Y)((function(e){var t;return null!==(t=(null==e?void 0:e.restrictions.canSkipPrevious)||(null==e?void 0:e.restrictions.canSeek))&&void 0!==t&&t})),s=(0,Cu.y1)((function(){a({type:"click",intent:"previous"}),null==i||i(),r.skipToPrevious()}),100,{leading:!0,trailing:!1}),l=(0,P.Z)({},"--button-size","".concat(2*n,"px"));return(0,dl.jsx)(Ru.w,{label:v.ag.get("playback-control.skip-back"),children:(0,dl.jsx)("button",{style:l,className:Tc()(ld),onClick:s,disabled:!o,"aria-label":v.ag.get("playback-control.skip-back"),"":"control-button-skip-back",children:(0,dl.jsx)(sd.y,{iconSize:n})})})},ud=n(35641);const dd="main-skipForwardButton-button";var pd=function(e){var t=e.iconSize,n=void 0===t?16:t,i=e.onClick,r=(0,uu.g)(),a=(0,cu.o)(),o=(0,bl.Y)((function(e){var t;return null!==(t=null==e?void 0:e.restrictions.canSkipNext)&&void 0!==t?t:null})),s=(0,Cu.y1)((function(){a({type:"click",intent:"next"}),null==i||i(),r.skipToNext()}),100,{leading:!0,trailing:!1}),l=(0,P.Z)({},"--button-size","".concat(2*n,"px"));return(0,dl.jsx)(Ru.w,{label:v.ag.get("playback-control.skip-forward"),children:(0,dl.jsx)("button",{style:l,className:Tc()(dd),onClick:s,disabled:!o,"aria-label":v.ag.get("playback-control.skip-forward"),"":"control-button-skip-forward",children:(0,dl.jsx)(ud.W,{iconSize:n})})})},md=n(47982),fd=n(82629),vd=n(55675),gd=n(27716),hd=n(29806),kd=n(92532),yd=n(85531),bd=n(87544),Sd=n(34974),xd=n(73390),Od=n(66848),wd=n(12470),Nd=n(45675),_d=n(93150),Ed=n(3975),Cd=n(78134),Pd=n(57967),Id=n(70357),jd=n(49164),Ad=n(99338),Td=n(69719),Dd=n(56786),Rd=n(53280),Fd=n(98944),Ld=n(82833),Md=n(62754),Ud=n(92695),Zd=n(9336),Bd=n(34786),Vd=n(33655),Hd=n(41915),Gd=n(78247);const Wd="INvB6IvAqjjvyfm0ezDi";function zd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Kd={.5:fd.dx,.6:vd.Z,.7:gd.A,.8:hd.Ig,.9:kd.A,1:yd.V,1.1:bd.X,1.2:Sd.Av,1.3:xd.u,1.4:Od.W,1.5:wd.vL,1.6:Nd.A,1.7:_d.t,1.8:Ed.s,1.9:Cd.G,2:Pd._,2.1:Id.l,2.2:jd.L,2.3:Ad.j,2.4:Td.K,2.5:Dd.B,2.6:Rd.D,2.7:Fd.K,2.8:Ld.W,2.9:Md.q,3:Ud.N,3.1:Zd.l,3.2:Bd.l,3.3:Vd.$,3.4:Hd.a,3.5:Gd.s},Yd=function(e){var t=e.speed,n=e.iconSize,i=void 0===n?20:n,r=Kd[t];return r?(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(r,{className:Wd,iconSize:i}),(0,dl.jsx)("span",{className:"hidden-visually",children:"".concat(t,"x")})]}):(0,dl.jsx)("span",{children:"".concat(t,"x")})},qd=function(e){var t=e.speed,n=e.iconSize,i=void 0===n?20:n,r=yd.V;switch(t){case.5:r=fd.dx;break;case.8:r=hd.Ig;break;case 1:r=yd.V;break;case 1.2:r=Sd.Av;break;case 1.5:r=wd.vL;break;case 1.8:r=Ed.s;break;case 2:r=Pd._;break;case 2.5:r=Dd.B;break;case 3:r=Ud.N;break;case 3.5:r=Gd.s;break;default:console.error("Got unfamiliar playback speed, falling back to 1.")}return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(r,{className:Wd,iconSize:i}),(0,dl.jsx)("span",{className:"hidden-visually",children:"".concat(t,"x")})]})},Qd=function(e){var t=(0,Au.W6)(ys.Am)?Yd:qd;return(0,dl.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},Jd=n(14255),Xd=n(15134),$d=n(19224),ep=[.5,.8,1,1.2,1.5,1.8,2,2.5,3,3.5],tp=[.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3,3.1,3.2,3.3,3.4,3.5],np=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?tp:ep).slice().sort((function(t,n){return Math.abs(t-e)-Math.abs(n-e)}));return(0,i.Z)(t,1)[0]};const ip="Is0ZfXiIyRoHd9y1OWtv";var rp=function(e){var t=e.selectedSpeed,n=e.setSelectedSpeed,i=(0,cu.o)(),r=(0,Au.W6)(ys.Am),a=r?tp:ep,o=(0,ll.useRef)(null),s=(0,ll.useCallback)((function(e){null!==e&&(o.current=e)}),[]);return(0,ll.useEffect)((function(){null!=o&&o.current&&o.current.scrollIntoView({block:"center"})}),[o]),(0,dl.jsxs)(Jd.v,{getInitialFocusElement:function(e){return null==e?void 0:e.querySelector('[aria-checked="true"]')},children:[(0,dl.jsx)(Xd.F,{children:v.ag.get("playback-control.playback-speed")}),(0,dl.jsx)("div",{className:r?ip:void 0,children:a.map((function(e){return(0,dl.jsx)($d.s,{elementRef:e===t?s:void 0,onClick:function(){n(e),i({type:"click",intent:"choose-speed",itemIdSuffix:"option-".concat(e,"x")})},"":"playback-speed-option-".concat(e),role:"menuitemradio","aria-label":v.ag.get("playback-control.playback-speed-button-a11y",e),"aria-checked":e===t,children:"".concat(e,"x")},e)}))})]})};const ap="Ww5ppB6W74laf1c0H_pR";var op=function(e){var t=e.iconSize,n=void 0===t?20:t,r=e.onClick,a=function(){var e=(0,Au.W6)(ys.Am),t=Hu(),n=t.speed,r=t.setSpeed,a=t.canChangeSpeed,o=(0,Kc.z)("playbackSpeed",1),s=(0,i.Z)(o,2),l=s[0],c=s[1],u=(0,ll.useMemo)((function(){return np(null!=l?l:1,e)}),[l,e]);return{speed:(0,ll.useMemo)((function(){return Boolean(n)?np(n,e):u}),[n,u,e]),setSpeed:(0,ll.useCallback)((function(e){c(e),r(e)}),[c,r]),canChangeSpeed:a}}(),o=a.speed,s=a.setSpeed,l=a.canChangeSpeed,c=(0,cu.o)(),u=(0,yl.O)().connectionStatus===on.TK.NOT_CONNECTED,d=(0,P.Z)({},"--button-size","".concat(2*n,"px"));return l?(0,dl.jsx)(md.xV,{renderInline:!0,placement:"top-start",menu:(0,dl.jsx)(rp,{selectedSpeed:o,setSelectedSpeed:function(e){null==r||r(e),s(e)}}),children:function(e,t,i){return(0,dl.jsx)(Ru.w,{label:v.ag.get("playback-control.change-playback-speed"),children:(0,dl.jsx)("button",{style:d,ref:i,className:ap,onClick:function(e){t(e),c({type:"click",intent:"choose-speed"})},"aria-label":v.ag.get("playback-control.change-playback-speed"),disabled:!u,"":"control-button-playback-speed",children:(0,dl.jsx)(Qd,{speed:o,iconSize:n})})})}}):null};function sp(){var e=(0,bl.Y)((function(e){var t;return null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)}));return(0,Re.iw)(e)||(0,Re.G7)(e)?"audio"===e.mediaType||"mixed"===e.mediaType:!!(0,Re.k6)(e)&&e.isPodcastAd}var lp=n(46108),cp=n(21564),up=n(53760);var dp=n(980),pp=n(7198),mp=n(29395),fp=n(7009),vp=n(88520),gp=["volume","iconSize"];function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yp=function(e){var t=e.volume,n=void 0===t?1:t,i=e.iconSize,r=kp({iconSize:void 0===i?16:i,role:"presentation"},(0,dp.Z)(e,gp));return 0===n?(0,dl.jsx)(pp.D,kp({"aria-label":v.ag.get("playback-control.a11y.volume-off")},r)):n<1/3?(0,dl.jsx)(mp.J,kp({"aria-label":v.ag.get("playback-control.a11y.volume-low")},r)):n<2/3?(0,dl.jsx)(fp.k,kp({"aria-label":v.ag.get("playback-control.a11y.volume-medium")},r)):(0,dl.jsx)(vp.d,kp({"aria-label":v.ag.get("playback-control.a11y.volume-high")},r))};function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bp(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xp=function(e){return e[e.SHOW_SLIDER_ALWAYS=0]="SHOW_SLIDER_ALWAYS",e[e.SHOW_SLIDER_ON_HOVER=1]="SHOW_SLIDER_ON_HOVER",e}({}),Op=function(e){var t,n=e.iconSize,a=void 0===n?16:n,s=e.onVolumeBarClick,l=e.onVolumeBarDrag,c=e.onToggleMuteClick,u=e.className,d=e.mode,p=void 0===d?xp.SHOW_SLIDER_ALWAYS:d,m=e.sliderWidth,f=function(){var e=(0,cp.f)(),t=(0,ll.useState)(-1),n=(0,i.Z)(t,2),a=n[0],s=n[1];return(0,ll.useEffect)((function(){var t=!0,n=function(){var n=(0,r.Z)(o().mark((function n(){var i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getVolume();case 2:i=n.sent,t&&s(i);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t=!1}}),[e]),(0,up._)(xe.r.VOLUME,(function(e){return s(e.data.volume)})),{volume:a,setVolume:(0,ll.useCallback)((function(t){s(t),e.setVolume(t)}),[e]),raiseVolume:(0,ll.useCallback)((function(){return e.raiseVolume()}),[e]),lowerVolume:(0,ll.useCallback)((function(){return e.lowerVolume()}),[e])}}(),g=f.volume,h=f.setVolume,k=f.raiseVolume,y=f.lowerVolume,b=-1!==g,S=Math.min(1,Math.max(0,g)),x=(0,ll.useState)({isDragging:!1,isHoveringButton:!1,toggleVolumeLevel:null,dragPosition:0,shouldDragValueBeUsed:!1}),O=(0,i.Z)(x,2),w=O[0],N=O[1],_=w.shouldDragValueBeUsed,E=w.dragPosition,C=w.isHoveringButton,I=w.toggleVolumeLevel,j=w.isDragging,A=_?E:S;b||(A=1);var T=(0,Cu.y1)((function(e){var t=Math.min(1,Math.max(0,e));h(t)}),25,{maxWait:50,leading:!0}),D=function(){N((function(e){return Sp(Sp({},e),{},{isHoveringButton:!0})}))},R=function(){N((function(e){return Sp(Sp({},e),{},{isHoveringButton:!1})}))},F=0===g?v.ag.get("playback-control.unmute"):v.ag.get("playback-control.mute"),L=(t={},(0,P.Z)(t,"--button-size","".concat(2*a,"px")),(0,P.Z)(t,"--slider-width",m?"".concat(m,"px"):"100%"),t);return(0,dl.jsxs)("div",{style:L,className:Tc()("volume-bar",u,{"volume-bar--disabled":!b,"volume-bar--slider-on-hover":p===xp.SHOW_SLIDER_ON_HOVER}),"":"volume-bar",dir:"ltr",onWheel:function(e){var t;if(b){var n=Math.abs(e.deltaY)>Math.abs(e.deltaX)?e.deltaY:e.deltaX,i=Math.max(-120,Math.min(120,(null==e||null===(t=e.nativeEvent)||void 0===t?void 0:t.wheelDelta)||n))/1200,r=Math.max(0,Math.min(1,A+i));h(r)}},children:[(0,dl.jsx)(Ru.w,{label:F,children:(0,dl.jsx)("button",{className:"volume-bar__icon-button control-button",onClick:function(){0===A?(null==c||c(!0),T(null!=I?I:.7)):(N((function(e){return Sp(Sp({},e),{},{toggleVolumeLevel:A})})),null==c||c(!1),T(0))},disabled:!b,"aria-label":0===g?v.ag.get("playback-control.unmute"):v.ag.get("playback-control.mute"),onMouseEnter:D,onMouseLeave:R,"aria-describedby":"volume-icon","":"volume-bar-toggle-mute-button",children:(0,dl.jsx)(yp,{id:"volume-icon",iconSize:a,volume:A})})}),(0,dl.jsx)("div",{className:"volume-bar__slider-container",onMouseEnter:D,onMouseLeave:R,children:(0,dl.jsx)(su.ko,{labelText:v.ag.get("playback-control.a11y.volume-slider-button"),value:A,max:1,step:.1,onDragStart:function(e){N((function(t){return Sp(Sp({},t),{},{isDragging:!0,dragPosition:e,shouldDragValueBeUsed:!0})}))},onDragMove:function(e){N((function(t){return Sp(Sp({},t),{},{dragPosition:e,shouldDragValueBeUsed:!0})})),j&&(null==l||l(e),T(e))},onDragEnd:function(e){N((function(e){return Sp(Sp({},e),{},{shouldDragValueBeUsed:!1,dragPosition:0,isDragging:!1})})),null==s||s(e),T(e)},onStepBackward:y,onStepForward:k,forceActiveStyles:C})})]})},wp=n(94064);const Np="y5HzBxqGmj45ReuIGomO";var _p=function(e){var t=e.iconSize,n=void 0===t?16:t,i=(0,P.Z)({},"--button-size","".concat(2*n,"px"));return(0,dl.jsx)(Ru.w,{label:"Open Spotify",children:(0,dl.jsx)("button",{style:i,className:Np,onClick:function(){window.showMainWindow()},"aria-label":"Open Spotify",children:(0,dl.jsx)(wp.V,{iconSize:n})})})},Ep=n(18822);const Cp="okg_Ok_UlpqI3e9pHGj8",Pp="iTQIqmjUFbvm4RdUVqPf",Ip="T6zTKyPQYL476uNwQQHp",jp="nAZ1BYKu8kzL6OK5zURI",Ap="E9ZIzs2Fbfgamonrvkrc",Tp="_vO7IP2Zo9WpFyXzaaJQ",Dp="EBtWeK4CLa4YOSDNZQM5";var Rp=function(){var e,t,n=sp(),i=(0,lp.x)(),r=null!==(e=null==i?void 0:i.context)&&void 0!==e?e:null,a=null!==(t=null==i?void 0:i.item)&&void 0!==t?t:null;return(0,dl.jsx)("div",{className:"encore-dark-theme",children:(0,dl.jsxs)("div",{className:Cp,children:[(0,dl.jsx)(iu.T,{className:Ip,item:a,maxSize:600,desiredLabel:"xlarge"}),(0,dl.jsxs)("div",{className:jp,children:[(0,dl.jsx)("div",{className:Ap,children:r&&a?(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(ru._,{className:Tp,context:r,item:a}),(0,dl.jsx)(Ep.B,{uri:a.uri})]}):null}),(0,dl.jsx)("div",{className:Pp,children:(0,dl.jsx)(Eu,{isPreview:!1})}),(0,dl.jsxs)("div",{className:Dp,children:[(0,dl.jsx)(Op,{iconSize:16,mode:xp.SHOW_SLIDER_ON_HOVER,sliderWidth:80}),!n&&(0,dl.jsx)(od,{iconSize:16}),n&&(0,dl.jsx)(Xu,{iconSize:16}),(0,dl.jsx)(cd,{iconSize:16}),(0,dl.jsx)(Mu,{iconSize:16}),(0,dl.jsx)(pd,{iconSize:16}),n&&(0,dl.jsx)(td,{iconSize:16}),!n&&(0,dl.jsx)(qu,{iconSize:16}),(0,dl.jsx)(_p,{iconSize:16})]})]})]})})},Fp=function(){var e=Xc().handle;return null!==e?l.createPortal((0,dl.jsx)(jl.WU,{handle:e,children:(0,dl.jsx)(Rp,{})}),e.document.body):null},Lp=function(e){var t,n=e.children,i=(t=(0,Au.W6)(ys.sm),(0,h.ZO)()===k.W.Desktop&&t);return(0,dl.jsx)(dl.Fragment,{children:i?n:null})},Mp=function(){return(0,dl.jsx)(Lp,{children:(0,dl.jsx)(Fp,{})})},Up=n(73967),Zp=n(20805),Bp=n(45327),Vp=n(7431),Hp=n(12159),Gp=n(87774),Wp=n(93416),zp=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(Wp.e.Provider,{value:t,children:n})},Kp=n(86858),Yp=n(44972),qp=n(46466),Qp=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(qp.z.Provider,{value:t,children:n})},Jp=n(65686),Xp=n(87436),$p=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(Xp.i.Provider,{value:t,children:n})},em=n(29605),tm=n(78636),nm=n(37401),im=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(nm.G.Provider,{value:t,children:n})},rm=n(61453),am=(0,ll.createContext)(null),om=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(am.Provider,{value:t,children:n})},sm=function(){var e=(0,ll.useContext)(am);if(null===e)throw new Error("useVideoAPI must be used within a VideoAPIProvider");return e},lm=n(31097),cm=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(lm.K.Provider,{value:t,children:n})},um=n(36020),dm=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(um.h.Provider,{value:t,children:n})},pm=n(62179),mm=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(pm.H.Provider,{value:t,children:n})},fm=n(2120),vm=n(80211),gm=n(59430),hm=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(gm.a.Provider,{value:t,children:n})},km=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(cp.C.Provider,{value:t,children:n})},ym=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(uu.E.Provider,{value:t,children:n})},bm=n(49756),Sm=n(93986),xm=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(Sm.C.Provider,{value:t,children:n})},Om=n(56406),wm=n(737),Nm=(0,ll.createContext)(null);var _m=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(Nm.Provider,{value:t,children:n})},Em=(n(25065),function(e){var t=e.children,n=e.providers;if(void 0===t)throw new Error("MultiProvider requires children!");return n.reduceRight((function(e,t){return(0,ll.cloneElement)(t,void 0,e)}),(0,dl.jsx)(ll.Fragment,{children:t}))}),Cm=n(88470),Pm=n(39264),Im=function(e){var t=e.instance,n=e.children;return(0,dl.jsx)(Tu.X2.Provider,{value:t,children:n})},jm=function(e){var t=e.platform,n=e.children,i=[(0,dl.jsx)(Im,{instance:t}),(0,dl.jsx)(vm.os,{instance:t.getLocalStorageAPI()}),(0,dl.jsx)(Bp.H,{instance:t.getActionStoreAPI()}),(0,dl.jsx)(cm,{instance:t.getAuthorizationAPI()}),(0,dl.jsx)(Vp.dD,{instance:t.getClipboardAPI()}),(0,dl.jsx)(dm,{instance:t.getConnectAPI()}),(0,dl.jsx)(g.J$,{instance:t.getControlMessageAPI()}),(0,dl.jsx)(zp,{instance:t.getFacebookAPI()}),(0,dl.jsx)(Kp.R,{instance:t.getFollowAPI()}),(0,dl.jsx)(bn.$C,{request:t.getGraphQLLoader()}),(0,dl.jsx)(mm,{instance:t.getLibraryAPI()}),(0,dl.jsx)(fm.h,{instance:t.getLocalFilesAPI()}),(0,dl.jsx)(hm,{instance:t.getOfflineAPI()}),(0,dl.jsx)(Yp.u,{platformData:t.getPlatformData()}),(0,dl.jsx)(ym,{instance:t.getPlayerAPI()}),(0,dl.jsx)(km,{instance:t.getPlaybackAPI()}),(0,dl.jsx)(Jp.Ef,{instance:t.getPlayHistoryAPI()}),(0,dl.jsx)(bm.ry,{instance:t.getPlaylistAPI()}),(0,dl.jsx)($p,{instance:t.getPrivateSessionAPI()}),(0,dl.jsx)(em.A,{instance:t.getRadioStationAPI()}),(0,dl.jsx)(xm,{instance:t.getRecentlyPlayedAPI()}),(0,dl.jsx)(tm.P,{configuration:t.getRemoteConfiguration()}),(0,dl.jsx)(im,{instance:t.getReportAPI()}),(0,dl.jsx)(bm.xY,{instance:t.getRootlistAPI()}),(0,dl.jsx)(rm.s,{instance:t.getSegmentsAPI()}),(0,dl.jsx)(Om.E0,{instance:t.getShowAPI()}),(0,dl.jsx)(Qp,{instance:t.getUpdateAPI()}),(0,dl.jsx)(_m,{instance:t.getUserAPI()}),(0,dl.jsx)(om,{instance:t.getVideoAPI()}),(0,dl.jsx)(Zp.O,{instance:t.getEnhanceAPI()}),(0,dl.jsx)(bm.NC,{instance:t.getPlaylistPermissionsAPI()}),(0,dl.jsx)(wm.E,{instance:t.getSingAlongAPI()}),(0,dl.jsx)(vu.d0,{value:null}),(0,dl.jsx)(vu.aH,{instance:t.getUBILogger()}),(0,dl.jsx)(Hp.$,{instance:t.getCollectionPlatformAPI()}),(0,dl.jsx)(Gp.x,{instance:t.getEqualizerAPI()}),(0,dl.jsx)(Cm.$.Provider,{value:t.getBuddyFeedAPI()}),(0,dl.jsx)(Pm.Q.Provider,{value:t.getPanelAPI()}),(0,dl.jsx)(Up.u,{})];return(0,dl.jsx)(Em,{providers:i,children:n})},Am=function(e){var t=e.history,n=e.children,r=(0,ll.useState)((function(){return{location:t.location,action:t.action}})),a=(0,i.Z)(r,2),o=a[0],s=a[1];return(0,ll.useLayoutEffect)((function(){t.listen((function(e,t){return s({location:e,action:t})}))}),[t]),(0,dl.jsx)(lc.F0,{location:o.location,navigationType:o.action,navigator:t,children:n})},Tm=n(68833),Dm=n(56049),Rm=function(e){return e.LOGGING_CATEGORY="l2l",e.LOGGING_CATEGORY_MWP="l2l-mwp",e}({});function Fm(e){var t,n=e.isPremiumUser,i=e.locationSearch,r=e.navigate,a=e.logNavigation,o=e.showDialog,s=!!(t=i)&&"1"===new URLSearchParams(t).get(Rm.LOGGING_CATEGORY);s&&(a(s),function(e,t){if(e){var n=new URLSearchParams(e);n.delete(Rm.LOGGING_CATEGORY),t({search:n.toString()},{replace:!0})}}(i,r),s&&!n&&o())}var Lm=n(71238),Mm="sp_s2l",Um=function(e){return e.LOGGING_CATEGORY="s2l",e.LOGGING_CATEGORY_MWP="s2l-mwp",e}(Um||{}),Zm=function(e){var t=e.os,n=void 0===t?"":t,i=e.country,r=void 0===i?"":i;return(0,Lm.x)({category:"in_app_message",action:"display",label:"download",destination_url:"open.spotify.com",os:n,country:r,context:window.location.search})};function Bm(e){var t=e.locationSearch,n=e.navigate,i=e.logDialog,r=e.showDialog;(function(e){if(!e)return!1;var t=new URLSearchParams(e);return Boolean(t.get(Um.LOGGING_CATEGORY))})(t)&&(i(),function(e,t){if(e){var n=new URLSearchParams(e);n.delete(Um.LOGGING_CATEGORY),t({search:n.toString()},{replace:!0})}}(t,n),r())}function Vm(){var e=(0,Rt.vQ)(Mm);return e?JSON.parse(decodeURIComponent(e)):null}var Hm=n(63892),Gm=n(35996);const Wm="QSYXf8dYOffYgwkMd5eC",zm="wSIDh56L1NbjcQQJ5Vkj",Km="AMqcnfR0iNvTMp3AZpze",Ym="SoFH2YPXp1wuOt2fe2tg";const qm=function(e){var t=e.errorName,n={cdmerror:{logoLink:As.Z2,header:v.ag.get("error-page.header.cdmerror"),subtext:v.ag.get("error-page.subtext.cdmerror"),cta:{title:v.ag.get("error-page.cta.cdmerror"),url:"https://support.spotify.com/article/web-player-help/?utm_source=open&utm_campaign=drm_error&utm_medium=web"}},max_subscriptions_reached:{header:v.ag.get("error-page.header.max_subscriptions_reached"),subtext:v.ag.get("error-page.subtext.max_subscriptions_reached")}}[t]||{};return(0,dl.jsxs)("div",{className:Tc()(Wm,"encore-dark-theme"),children:[n.logoLink?(0,dl.jsx)(Gm.Z,{className:Tc()(zm),customLink:n.logoLink}):(0,dl.jsx)(Gm.Z,{className:Tc()(zm),noLink:!0}),(0,dl.jsxs)("div",{className:Tc()(Km),children:[n.header&&(0,dl.jsx)(au.D,{as:"h1",variant:"brio",semanticColor:"textBase",dir:"auto",children:n.header}),n.subtext&&(0,dl.jsx)(au.D,{as:"h2",variant:"ballad",semanticColor:"textBase",dir:"auto",children:n.subtext})]}),n.cta&&(0,dl.jsx)(Hm.D,{onClick:function(){var e;null!=n&&null!==(e=n.cta)&&void 0!==e&&e.url&&(window.location.href=n.cta.url)},className:Tc()(Ym),colorSet:"brightAccent",children:n.cta.title})]})};var Qm=n(3269),Jm=n(98148),Xm=n(28101),$m=n(48472),ef=n(29893),tf=n(63461);const nf="main-keyboardShortcutsHelpModal-container",rf="gPDYH11Cr1B2ZtS9z0P8",af="IIQWD0tGOaagAN9uP_4h",of="LdrQgiV3Kav0IR6Oqsej";var sf=(0,ll.memo)((function(){var e=(0,nl.I0)(),t=(0,nl.v9)(ef.Gg).user,n=(0,nl.v9)((function(e){return e.ui.blockUserDialog})),i=n.name,a=n.uri,s=n.isOpen,l=(0,ll.useCallback)((0,r.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&a){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,Xm.blockUser)(Jt.b.getInstance(),{currentUserUri:null==t?void 0:t.uri,uri:a});case 5:e((0,el.HC)()),e((0,$m.aW)()),n.next=13;break;case 9:throw n.prev=9,n.t0=n.catch(2),e((0,el.HC)()),n.t0;case 13:case"end":return n.stop()}}),n,null,[[2,9]])}))),[e,t,a]),c=(0,ll.useCallback)((function(){e((0,el.HC)())}),[e]),u=(0,ll.useCallback)((function(){e((0,el.HC)())}),[e]);return(0,dl.jsx)(tf.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:u,contentLabel:v.ag.get("block-user.dialog.title",i),isOpen:s,children:(0,dl.jsxs)("div",{className:nf,children:[(0,dl.jsx)(au.D,{as:"h2",variant:"cello",className:rf,children:v.ag.get("block-user.dialog.title",i)}),(0,dl.jsx)(au.D,{as:"p",variant:"mesto",className:af,paddingBottom:Qm.g4V,children:v.ag.get("block-user.dialog.description",i)}),(0,dl.jsxs)("div",{className:Tc()("encore-light-theme",of),children:[(0,dl.jsx)(Jm.o,{buttonSize:Jm.o.md,onClick:c,children:v.ag.get("block-user.dialog.cancel")}),(0,dl.jsx)(Hm.D,{onClick:l,buttonSize:Hm.D.md,children:v.ag.get("block-user.dialog.block")})]})]})})})),lf=n(50339);const cf="main-keyboardShortcutsHelpModal-container",uf="main-keyboardShortcutsHelpModal-header",df="main-keyboardShortcutsHelpModal-closeBtn",pf="main-keyboardShortcutsHelpModal-sectionsContainer",mf="main-keyboardShortcutsHelpModal-sections",ff="main-keyboardShortcutsHelpModal-sectionHeading",vf="main-keyboardShortcutsHelpModal-sectionItem",gf="main-keyboardShortcutsHelpModal-sectionItemName",hf="main-keyboardShortcutsHelpModal-key";var kf=function(e){switch(e){case"mod":return"macOS"===me().getParser(window.navigator.userAgent).getOSName()?"⌘":"Ctrl";case"command":return"⌘";case"alt":return"macOS"===me().getParser(window.navigator.userAgent).getOSName()?"⌥":"Alt";case"shift":case"ctrl":case"space":return e[0].toUpperCase()+e.slice(1);case"up":return"↑";case"right":return"→";case"down":return"↓";case"left":return"←";default:return e.toUpperCase()}},yf=(0,ll.memo)((function(e){var t=e.children;return(0,dl.jsx)(au.D,{as:"kbd",variant:"ballad",className:hf,children:kf(t)})})),bf=function(e){var t=e.combinations;return(0,dl.jsx)(dl.Fragment,{children:t.map((function(e,n){var i=e.split("+");return(0,dl.jsxs)(ll.Fragment,{children:[i.map((function(e){return(0,dl.jsx)(yf,{children:e},e)})),n<t.length-1&&(0,dl.jsxs)(au.D,{variant:"ballad",children:[" ",v.ag.get("keyboard.shortcuts.or")," "]})]},e)}))})},Sf=function(e){var t=e.shortcuts,n=e.sectionTitle;return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(au.D,{as:"h2",className:ff,variant:"canon",children:n}),(0,dl.jsx)("ul",{children:t.map((function(e){return e.enabled?(0,dl.jsxs)("li",{className:vf,children:[(0,dl.jsx)(au.D,{variant:"ballad",className:gf,children:e.description}),(0,dl.jsx)(bf,{combinations:lf.lb[e.action]})]},e.action):null}))})]})},xf=n(66685),Of=n.n(xf),wf=n(99070),Nf=n(19873),_f=function(e){return function(t){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!1;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];n=o,r||(i||e.apply(e,o),r=!0,window.setTimeout((function(){r=!1,i&&e.apply(e,n)}),t))}}},Ef={name:"debug-window",type:Mc.POPUP,position:{x:200,y:200},size:{width:1200,height:800}};function Cf(){var e=zc(Ef);return{handle:e.handle,show:e.open,hide:e.close}}function Pf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jf(e,t){switch(t.type){case"OPEN":return If(If({},e),{},{isOpen:!0});case"CLOSE":return If(If({},e),{},{isOpen:!1});default:(0,Me.U)(t)}}var Af=(0,ll.createContext)(void 0),Tf=function(e){var t=e.children,n=(0,ll.useReducer)(jf,{isOpen:!1});return(0,dl.jsx)(Af.Provider,{value:n,children:t})},Df=function(){var e=(0,ll.useContext)(Af);if(!e)throw new Error("useSearchModalDispatch must be used within SearchModalProvider");return(0,i.Z)(e,2)[1]},Rf=n(73342),Ff=function(e){return function(t){if(!t.repeat){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.apply(void 0,[t].concat(i))}}},Lf=function(e){var t=e.fill,n=e.width,i=e.height;return(0,dl.jsxs)("svg",{width:n,height:i,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("title",{children:v.ag.get("close")}),(0,dl.jsx)("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:t,fillRule:"evenodd"})]})};Lf.defaultProps={fill:"#fff",width:32,height:32};const Mf=Lf;var Uf=(0,ll.memo)((function(){var e=(0,lf.X8)(),t=(0,nl.I0)(),n=(0,nl.v9)((function(e){return e.ui.keyboardShortcutsHelpModal.isOpen})),a=(0,ll.useCallback)((function(){t((0,el.fW)(!1))}),[t]);!function(){var e=(0,lc.s0)(),t=(0,nl.I0)(),n=(0,nl.oR)(),a=(0,uu.g)(),s=(0,cp.f)(),l=(0,wf.K)().createPlaylist,c=Hu(),u=c.shuffle,d=c.setShuffle,p=c.setRepeat,m=c.repeat,g=(0,bl.Y)((function(e){var t,n,i;return{contextURI:null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:null,playingURI:null!==(n=null==e||null===(i=e.item)||void 0===i?void 0:i.uri)&&void 0!==n?n:"",isPaused:null==e?void 0:e.isPaused,canPause:null==e?void 0:e.restrictions.canPause,canResume:null==e?void 0:e.restrictions.canResume}}),Fu.V),h=g.contextURI,k=g.playingURI,y=g.isPaused,b=g.canPause,S=g.canResume,x=fu(),O=x.seekBackward,w=x.seekForward,N=(0,nl.v9)((function(e){return e.platform.isDesktop})),_=(0,Nf.Z)(k),E=(0,i.Z)(_,2),C=E[0],P=E[1],I=(0,bm.lh)().createFolder,j=Df(),A=Cf(),T=A.show,D=A.hide,R=!!A.handle,F=(0,Au.W6)(ys.t$,{loadingValue:!1});(0,ll.useEffect)((function(){return Of().bind(lf.lb.OPEN_SEARCH_MODAL,Ff((function(e){j({type:"OPEN"}),e.preventDefault&&e.preventDefault()}))),function(){Of().unbind(lf.lb.OPEN_SEARCH_MODAL)}}),[j]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.OPEN_HELP,Ff((function(){t(el.fW(!n.getState().ui.keyboardShortcutsHelpModal.isOpen))}))),function(){Of().unbind(lf.lb.OPEN_HELP)}}),[t,n]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.TOGGLE_PLAY,Ff((function(e){y&&S?a.resume():!y&&b&&a.pause(),e.preventDefault&&e.preventDefault()}))),function(){Of().unbind(lf.lb.TOGGLE_PLAY)}}),[b,S,y,a]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.LOG_OUT,Ff((function(){t((0,Rf.Tz)())}))),function(){Of().unbind(lf.lb.LOG_OUT)}}),[t]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.OPEN_CONTEXT_MENU,Ff((function(){var e,t,n=null===(e=document.activeElement)||void 0===e?void 0:e.getBoundingClientRect();if(n){var i=new MouseEvent("contextmenu",{bubbles:!0,clientX:n.x+n.width/2,clientY:n.y+n.height});null===(t=document.activeElement)||void 0===t||t.dispatchEvent(i)}}))),function(){Of().unbind(lf.lb.OPEN_CONTEXT_MENU)}}),[t]),(0,ll.useEffect)((function(){return N&&Of().bind(lf.lb.GO_BACKWARDS,Ff((function(){e(-1)}))),function(){Of().unbind(lf.lb.GO_BACKWARDS)}}),[N,e]),(0,ll.useEffect)((function(){return N&&Of().bind(lf.lb.GO_FORWARDS,Ff((function(){e(1)}))),function(){Of().unbind(lf.lb.GO_FORWARDS)}}),[N,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_HOME,Ff((function(){e("/")}))),function(){Of().unbind(lf.lb.GO_TO_HOME)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_PLAYLISTS,Ff((function(){e("/collection/playlists")}))),function(){Of().unbind(lf.lb.GO_TO_PLAYLISTS)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_PODCASTS,Ff((function(){e("/collection/podcasts")}))),function(){Of().unbind(lf.lb.GO_TO_PODCASTS)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_ARTISTS,Ff((function(){e("/collection/artists")}))),function(){Of().unbind(lf.lb.GO_TO_ARTISTS)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_ALBUMS,Ff((function(){e("/collection/albums")}))),function(){Of().unbind(lf.lb.GO_TO_ALBUMS)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_LIKED_SONGS,Ff((function(){e("/collection/tracks")}))),function(){Of().unbind(lf.lb.GO_TO_LIKED_SONGS)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_NOW_PLAYING,Ff((function(){if(null!==h){var t=(0,f.EC)(h).toURLPath(!0);e(t)}}))),function(){Of().unbind(lf.lb.GO_TO_NOW_PLAYING)}}),[t,e,h]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_CHARTS,Ff((function(){e("/genre/browse-charts-tab")}))),function(){Of().unbind(lf.lb.GO_TO_CHARTS)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_SEARCH,Ff((function(){e("/search",{state:{preventMoveFocus:!0}})}))),function(){Of().unbind(lf.lb.GO_TO_SEARCH)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_MADE_FOR_YOU,Ff((function(){e("/genre/made-for-x-hub")}))),function(){Of().unbind(lf.lb.GO_TO_MADE_FOR_YOU)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_NEW_RELEASES,Ff((function(){e("/genre/new-releases-page")}))),function(){Of().unbind(lf.lb.GO_TO_NEW_RELEASES)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.GO_TO_QUEUE,Ff((function(){e("/queue")}))),function(){Of().unbind(lf.lb.GO_TO_QUEUE)}}),[t,e]),(0,ll.useEffect)((function(){return Of().bind(lf.lb.LIKE_DISLIKE_SONG,Ff((function(){P(!C)}))),function(){Of().unbind(lf.lb.LIKE_DISLIKE_SONG)}}),[t,k,C,P]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.CREATE_NEW_PLAYLIST,Ff((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:case"end":return e.stop()}}),e)}))))),function(){Of().unbind(lf.lb.CREATE_NEW_PLAYLIST)}}),[t,N,l]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.CREATE_NEW_FOLDER,Ff((function(){I(v.ag.get("playlist.default_folder_name"),{before:"start"})}))),function(){Of().unbind(lf.lb.CREATE_NEW_FOLDER)}}),[I,t,N]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.SKIP_NEXT,Ff((function(){a.skipToNext()}))),function(){Of().unbind(lf.lb.SKIP_NEXT)}}),[N,a]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.SKIP_PREVIOUS,Ff((function(){a.skipToPrevious()}))),function(){Of().unbind(lf.lb.SKIP_PREVIOUS)}}),[N,a]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.RAISE_VOLUME,_f((function(){s.raiseVolume()}))(100)),function(){Of().unbind(lf.lb.RAISE_VOLUME)}}),[N,s,n]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.LOWER_VOLUME,_f((function(){s.lowerVolume()}))(100)),function(){Of().unbind(lf.lb.LOWER_VOLUME)}}),[N,s,n]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.SEEK_BACKWARD,_f((function(){O()}))(100)),function(){Of().unbind(lf.lb.SEEK_BACKWARD)}}),[t,N,n,a,O]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.SEEK_FORWARD,_f((function(){w()}))(100)),function(){Of().unbind(lf.lb.SEEK_FORWARD)}}),[t,N,n,a,w]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.SHUFFLE,Ff((function(){d(!u)}))),function(){Of().unbind(lf.lb.SHUFFLE)}}),[t,N,n,u,d]),(0,ll.useEffect)((function(){return N||Of().bind(lf.lb.REPEAT,Ff((function(){p((m+1)%3)}))),function(){Of().unbind(lf.lb.REPEAT)}}),[t,N,n,m,p]),(0,ll.useEffect)((function(){F&&Of().bind(lf.lb.TOGGLE_DEBUG_WINDOW,Ff((function(){R?D():T()})))}),[F,R,D,T])}();var s=e.employee.filter((function(e){return e.enabled}));return(0,dl.jsx)(tf.Z,{isOpen:n,onRequestClose:a,contentLabel:v.ag.get("keyboard.shortcuts.help.heading"),children:(0,dl.jsxs)("div",{className:cf,children:[(0,dl.jsxs)("div",{className:uf,children:[(0,dl.jsx)(au.D,{as:"h1",variant:"alto",children:v.ag.get("keyboard.shortcuts.help.heading")}),(0,dl.jsx)("button",{"aria-label":v.ag.get("close"),className:df,onClick:a,children:(0,dl.jsx)(Mf,{width:18,height:18,fill:"currentColor"})}),(0,dl.jsxs)(au.D,{variant:"ballad",as:"p",children:[v.ag.get("keyboard.shortcuts.help.subheading.press")," ",(0,dl.jsx)(bf,{combinations:lf.lb.OPEN_HELP})," ",v.ag.get("keyboard.shortcuts.help.subheading.toToggle")]})]}),(0,dl.jsx)("div",{className:pf,children:(0,dl.jsxs)("div",{className:mf,tabIndex:0,children:[(0,dl.jsx)(Sf,{shortcuts:e.basic,sectionTitle:v.ag.get("keyboard.shortcuts.section.basic")}),(0,dl.jsx)(Sf,{shortcuts:e.playback,sectionTitle:v.ag.get("keyboard.shortcuts.section.playback")}),(0,dl.jsx)(Sf,{shortcuts:e.navigation,sectionTitle:v.ag.get("keyboard.shortcuts.section.navigation")}),(0,dl.jsx)(Sf,{shortcuts:e.layout,sectionTitle:v.ag.get("keyboard.shortcuts.section.layout")}),s.length>0?(0,dl.jsx)(Sf,{shortcuts:s,sectionTitle:"Employee"}):null]})})]})})})),Zf=n(82566),Bf=n(11721),Vf=n(628),Hf=n(89879),Gf=n(36935),Wf="SHOW_BILLBOARD_AD_VIEW",zf="HIDE_BILLBOARD_AD_VIEW",Kf="MINIMIZE_BILLBOARD_AD_VIEW",Yf="CLICK_BILLBOARD_AD_VIEW",qf="IMAGE_LOADED_BILLBOARD_AD_VIEW",Qf="ERROR_BILLBOARD_AD_VIEW",Jf="MANAGER_MINIMIZE_BILLBOARD_AD_VIEW",Xf="FINISH_BILLBOARD_AD_VIEW",$f=function(e){return{type:Wf,data:e}},ev=function(){return{type:Xf}},tv=function(){return{type:zf}},nv=function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Re.k6)(n)},iv=function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Re.k6)(n)&&"video"===n.mediaType},rv=function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Re.k6)(n)&&"audio"===n.mediaType};function av(e){return"/"===e?"spotify:home":/^\/collection/.test(e)?"spotify:collection":/^\/artist/.test(e)?e.replace("/artist/","spotify:artist:"):/^\/album/.test(e)?e.replace("/album/","spotify:album:"):/^\/playlist/.test(e)?e.replace("/playlist/","spotify:playlist:"):/^\/genre/.test(e)?e.replace("/genre/","spotify:genre:"):/^\/search/.test(e)?"spotify:search":""}function ov(e){return iv(e)}var sv="prod",lv="web-modal",cv={pattern:"app:start",type:"CLIENT_EVENT"},uv={pattern:"app:deprecation:start",type:"CLIENT_EVENT"},dv={pattern:"app:deprecation:click",type:"CLIENT_EVENT"},pv=null;function mv(){return pv}var fv=function(e,t){return function(n){return function(i){return function(r){var a=i(r),o=n.getState(),s=n.dispatch,l="";function c(e){e&&s((0,Vf.gq)(e))}function u(e,t){var n=new ur.K("quicksilver_message"),i=t;if(t)return n.setItem(e,t),t;var r=n.getItem(e);return r instanceof Hf.d||r instanceof Gf.y||(i=r),i}if((0,ef.Gg)(o).isAnonymous)return a;switch(r.type){case el.V5.INITIALISE_QUICKSILVER:!function(e){(pv=(0,Zf.Of)((0,Bf.k)().toPublic(),{actions:["DISMISS","URL","EXTERNAL_URL"],app:{platform:"WebPlayer",clientId:"65b708073fc0480ea92a077233ca87bd"},enableLogs:!1,formats:[lv],locale:v.ag.getLocale(),env:sv,triggerTypes:["URI","CLIENT_EVENT"]})).start(),pv.on(Zf.FP.CONNECTED,(function(){e((0,Vf.Gt)())}))}(s);break;case el.V5.TRIGGER_CLICK_DEPRECATION_MESSAGE:pv&&!ov(t.getState())&&(l=av(e.location.pathname),pv.requestMessage({appUri:l,trigger:dv}).then((function(e){return u(uv.pattern,e)})).then(c));break;case Vf.Hp.TRIGGER_APP_START_IN_APP_MESSAGE:var d;if(pv&&!ov(t.getState()))pv.requestMessage({appUri:"spotify:home",trigger:cv}).then(c),null!==(d=o.session.productState)&&void 0!==d&&d["client-deprecated"]&&pv.requestMessage({appUri:"spotify:home",trigger:uv}).then((function(e){return u(uv.pattern,e)})).then(c);break;case el.V5.UPDATE_UI_HISTORY_STATE:l=av(e.location.pathname),pv&&!ov(t.getState())&&l&&pv.requestMessage({appUri:l,trigger:{pattern:l,type:"URI"}}).then(c);break;case Wf:s((0,Vf.b8)());break;case Vf.Hp.PREVIEW_IN_APP_MESSAGE:pv&&r.creativeId&&pv.previewMessage({appUri:r.appUri||"spotify:home",creativeId:r.creativeId}).then(c);break;case Vf.Hp.SET_IN_APP_MESSAGING_ENV:pv&&pv.setEnv(r.env);break;case Rf.y:pv&&pv.stop()}return a}}}};function vv(e,t){if(e)if(/^spotify:/.test(e)){t((0,f.EC)(e).toURLPath(!0))}else{var n=document.createElement("a");n.href=e,n.target="_blank",n.click()}}var gv=function(e,t){return function(n){switch(n.action){case"DISMISS":default:return void e();case"URL":var i=n.url;return vv(void 0===i?"":i,t),void e();case"EXTERNAL_URL":var r=n.url;return void vv(void 0===r?"":r,t)}}};function hv(e,t,n,i){if(e&&""===e.innerHTML){var r=function(e,t,n){var i=mv();if(i){var r=i.createIframe(e,n);return r.setAttribute("data-testid","inAppMessageIframe"),r.style.borderRadius="5px",r.style.margin="auto",r.style.opacity="0",r.style.transition="opacity 150ms linear",r.addEventListener("load",(function(){var e=r.contentWindow,n=r.contentDocument;e&&function(e){e&&e.focus()}(e),n&&(Zs.setup(n),function(e,t){var n=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=n[0],r=n[n.length-1];e.addEventListener("keydown",(function(e){"Tab"===e.key&&e.target===r&&(e.preventDefault(),i.focus()),e.shiftKey&&"Tab"===e.key&&r.focus(),"Escape"!==e.key&&27!==e.keyCode||t()}),!0)}(n,t)),r.style.opacity="1"})),r}return null}(t,n,i);r&&e.appendChild(r)}}function kv(e){var t=e.message,n=(0,ll.useRef)(null);return function(e,t){var n=(0,nl.I0)(),i=(0,lc.s0)(),r=(0,ll.useCallback)((function(){n((0,Vf.b8)())}),[n]);(0,ll.useEffect)((function(){var n=t.current;return hv(n,e,r,gv(r,i)),function(){!function(e){e&&(e.innerHTML="")}(n)}}),[e,r,n,t,i])}(t,n),(0,dl.jsx)("div",{"":"inAppMessageContainer",ref:n})}function yv(){return(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(bv,{})})}function bv(){var e,t=(0,Au.W6)(ys.yi),n=(e=(0,nl.I0)(),{message:(0,nl.v9)((function(e){var t;return null===(t=e.inAppMessaging)||void 0===t?void 0:t.message})),dismissMessage:(0,ll.useCallback)((function(){e((0,Vf.b8)())}),[e])}),i=n.message,r=n.dismissMessage,a=!!i&&i.format===lv;return t?(0,dl.jsx)(tf.Z,{animated:!0,contentLabel:"In-App Message Modal",isOpen:a,onRequestClose:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1,children:a&&!!i&&(0,dl.jsx)(kv,{message:i})}):null}function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ov={env:sv,message:null,showPreviewTool:!1},wv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ov,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vf.Hp.SHOW_IN_APP_MESSAGE:return xv(xv({},e),{},{message:t.message});case Vf.Hp.DISMISS_IN_APP_MESSAGE:return xv(xv({},e),{},{message:null});case Vf.Hp.SET_IN_APP_MESSAGING_ENV:return xv(xv({},e),{},{env:t.env});case Vf.Hp.SHOW_PREVIEW_TOOL:return xv(xv({},e),{},{showPreviewTool:t.show});default:return e}},Nv=(n(83809),n(14268)),_v=n(39464);const Ev="tJeH2W2to1A7d9tWBRoi",Cv="oNjdJbGQ9ypf7KR0nYJW",Pv="ibrRlYShsgThsh8VNS8Q",Iv="Yl9jzsnP8e_5i9me3h7H",jv="vxBybZOmHdDF_nmLE4sa";var Av=(0,ll.memo)((function(){var e=(0,nl.I0)(),t=(0,nl.v9)((function(e){return e.aboutRecs})).isOpen,n=(0,ll.useCallback)((function(){e((0,_v.oT)())}),[e]),i=Qm.tGJ.substr(1),r="https://about-recommendations.spotify.com/?bg=".concat(i,"&hideHeader=true");return(0,dl.jsx)(tf.Z,{animated:!0,isOpen:t,onRequestClose:n,contentLabel:v.ag.get("context-menu.about-recommendations"),children:(0,dl.jsxs)("div",{className:Ev,children:[(0,dl.jsx)(au.D,{as:"h1",variant:"alto",semanticColor:"textBase",className:Cv,children:v.ag.get("context-menu.about-recommendations")}),(0,dl.jsx)("div",{className:Pv,children:(0,dl.jsx)("iframe",{className:Iv,title:v.ag.get("context-menu.about-recommendations"),src:r})}),(0,dl.jsx)("button",{"aria-label":v.ag.get("close_button_action"),className:jv,onClick:n,children:(0,dl.jsx)(Nv.k,{iconSize:24})})]})})})),Tv=(0,ll.lazy)((0,r.Z)(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(7994).then(n.bind(n,99645));case 2:return t=e.sent,i=t.AboutSpotifyModal,e.abrupt("return",{default:i});case 5:case"end":return e.stop()}}),e)})))),Dv=(0,ll.lazy)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(7994).then(n.bind(n,15684));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));function Rv(){return(0,dl.jsxs)(ll.Suspense,{fallback:null,children:[(0,dl.jsx)(Tv,{}),(0,dl.jsx)(Dv,{})]})}var Fv=n(20738),Lv=n(80829),Mv=n(79992),Uv=n(35976),Zv=n(68253),Bv=n(69104),Vv=n(22766),Hv=n(80274);function Gv(e){switch(e){case"Performers":return v.ag.get("track-credits.performers");case"Writers":return v.ag.get("track-credits.writers");case"Producers":return v.ag.get("track-credits.producers");default:return e}}function Wv(e){switch(e){case"assistant recording engineer":return v.ag.get("track-credits.assistant-recording-engineer");case"engineer":return v.ag.get("track-credits.engineer");case"assistant engineer":return v.ag.get("track-credits.assistant-engineer");case"trumpet":return v.ag.get("track-credits.trumpet");case"guitar":return v.ag.get("track-credits.guitar");case"composer and lyricist":return v.ag.get("track-credits.composer-and-lyricist");case"associated performer":return v.ag.get("track-credits.associated-performer");case"background vocals":return v.ag.get("track-credits.background-vocals");case"bass":return v.ag.get("track-credits.bass");case"co-producer":return v.ag.get("track-credits.co-producer");case"additional engineer":return v.ag.get("track-credits.additional-engineer");case"masterer":return v.ag.get("track-credits.masterer");case"mixer":return v.ag.get("track-credits.mixer");case"recording engineer":return v.ag.get("track-credits.recording-engineer");case"accordion":return v.ag.get("track-credits.accordion");case"piano":return v.ag.get("track-credits.piano");case"organ":return v.ag.get("track-credits.organ");case"background vocal":return v.ag.get("track-credits.background-vocal");case"recorded by":return v.ag.get("track-credits.recorded-by");case"mixing engineer":return v.ag.get("track-credits.mixing-engineer");case"editor":return v.ag.get("track-credits.editor");case"fiddle":return v.ag.get("track-credits.fiddle");case"additional vocals":return v.ag.get("track-credits.additional-vocals");case"violin":return v.ag.get("track-credits.violin");case"viola":return v.ag.get("track-credits.viola");case"percussion":return v.ag.get("track-credits.percussion");case"mastering engineer":return v.ag.get("track-credits.mastering-engineer");case"composer":return v.ag.get("track-credits.composer");case"additional keyboards":return v.ag.get("track-credits.additional-keyboards");case"mix engineer":return v.ag.get("track-credits.mix-engineer");case"mandolin":return v.ag.get("track-credits.mandolin");case"acoustic guitar":return v.ag.get("track-credits.acoustic-guitar");case"keyboards":return v.ag.get("track-credits.keyboards");case"synthesizer":return v.ag.get("track-credits.synthesizer");case"drum programmer":return v.ag.get("track-credits.drum-programmer");case"programmer":return v.ag.get("track-credits.programmer");case"assistant mixer":return v.ag.get("track-credits.assistant-mixer");case"assistant mixing engineer":return v.ag.get("track-credits.assistant-mixing-engineer");case"digital editor":return v.ag.get("track-credits.digital-editor");case"drums":return v.ag.get("track-credits.drums");case"drum programming":return v.ag.get("track-credits.drum-programming");case"conga":return v.ag.get("track-credits.conga");case"samples":return v.ag.get("track-credits.samples");case"audio recording engineer":return v.ag.get("track-credits.audio-recording-engineer");case"audio additional mix engineer":return v.ag.get("track-credits.audio-additional-mix-engineer");case"recording":return v.ag.get("track-credits.recording");case"assistant producer":return v.ag.get("track-credits.assistant-producer");case"writer":return v.ag.get("track-credits.writer");case"strings":return v.ag.get("track-credits.strings");case"music publisher":return v.ag.get("track-credits.music-publisher");case"programming":return v.ag.get("track-credits.programming");case"music production":return v.ag.get("track-credits.music-production");case"background vocalist":return v.ag.get("track-credits.background-vocalist");case"producer":return v.ag.get("track-credits.producer");case"vocal":return v.ag.get("track-credits.vocal");case"songwriter":return v.ag.get("track-credits.songwriter");case"lyricist":return v.ag.get("track-credits.lyricist");case"additional mixer":return v.ag.get("track-credits.additional-mixer");case"upright bass":return v.ag.get("track-credits.upright-bass");case"clapping":return v.ag.get("track-credits.clapping");case"electric bass":return v.ag.get("track-credits.electric-bass");case"horn arranger":return v.ag.get("track-credits.horn-arranger");case"flugelhorn":return v.ag.get("track-credits.flugelhorn");case"second engineer":return v.ag.get("track-credits.second-engineer");case"rhythm guitar":return v.ag.get("track-credits.rhythm-guitar");case"bass guitar":return v.ag.get("track-credits.bass-guitar");case"electric guitar":return v.ag.get("track-credits.electric-guitar");case"dobro":return v.ag.get("track-credits.dobro");case"instruments":return v.ag.get("track-credits.instruments");case"vocal ensemble":return v.ag.get("track-credits.vocal-ensemble");case"recording arranger":return v.ag.get("track-credits.recording-arranger");case"arranger":return v.ag.get("track-credits.arranger");case"steel guitar":return v.ag.get("track-credits.steel-guitar");case"executive producer":return v.ag.get("track-credits.executive-producer");case"additional production":return v.ag.get("track-credits.additional-production");case"designer":return v.ag.get("track-credits.designer");case"assistant mix engineer":return v.ag.get("track-credits.assistant-mix-engineer");case"studio musician":return v.ag.get("track-credits.studio-musician");case"voice performer":return v.ag.get("track-credits.voice-performer");case"orchestra":return v.ag.get("track-credits.orchestra");case"chamber ensemble":return v.ag.get("track-credits.chamber-ensemble");case"additional percussion":return v.ag.get("track-credits.additional-percussion");case"cajon":return v.ag.get("track-credits.cajon");case"miscellaneous production":return v.ag.get("track-credits.miscellaneous-production");case"backing vocals":return v.ag.get("track-credits.backing-vocals");case"pedal steel":return v.ag.get("track-credits.pedal-steel");case"additional producer":return v.ag.get("track-credits.additional-producer");case"keyboard arrangements":return v.ag.get("track-credits.keyboards-arrangements");case"saxophone":return v.ag.get("track-credits.saxophone");case"sound engineer":return v.ag.get("track-credits.sound-engineer");case"assistant remix engineer":return v.ag.get("track-credits.assistant-remix-engineer");case"double bass":return v.ag.get("track-credits.double-bass");case"co-writer":return v.ag.get("track-credits.co-writer");case"pro tools":return v.ag.get("track-credits.pro-tools");case"tape realization":return v.ag.get("track-credits.tape-realization");case"ambient sounds":return v.ag.get("track-credits.ambient-sounds");case"sound effects":return v.ag.get("track-credits.sound-effects");case"harp":return v.ag.get("track-credits.harp");case"cymbals":return v.ag.get("track-credits.cymbals");case"vocal engineer":return v.ag.get("track-credits.vocal-engineer");case"mellotron":return v.ag.get("track-credits.mellotron");case"recorder":return v.ag.get("track-credits.recorder");case"main artist":return v.ag.get("track-credits.main-artist");case"production":return v.ag.get("track-credits.production");case"artist":return v.ag.get("track-credits.artist");case"vocals":return v.ag.get("track-credits.vocals");case"featuring":return v.ag.get("track-credits.featuring");case"featured artist":return v.ag.get("track-credits.featured-artist");case"work arranger":return v.ag.get("track-credits.work-arranger");case"mixing engineers":return v.ag.get("track-credits.mixing-engineers");case"re-mixer":return v.ag.get("track-credits.re-mixer");case"recording producer":return v.ag.get("track-credits.recording-producer");case"co-mixer":return v.ag.get("track-credits.co-mixer");case"bells":return v.ag.get("track-credits.bells");case"pro tools editing":return v.ag.get("track-credits.pro-tools-editing");case"vibraphone":return v.ag.get("track-credits.vibraphone");case"additional recording":return v.ag.get("track-credits.additional-recording");case"vocal producer":return v.ag.get("track-credits.vocal-producer");case"sitar":return v.ag.get("track-credits.sitar");case"cello":return v.ag.get("track-credits.cello");case"flute":return v.ag.get("track-credits.flute");case"horn":return v.ag.get("track-credits.horn");case"brass band":return v.ag.get("track-credits.brass-band");case"programming and keyboards":return v.ag.get("track-credits.programming-and-keyboards");case"all instruments":return v.ag.get("track-credits.all-instruments");case"programmed and arranged by":return v.ag.get("track-credits.programmed-and-arranged-by");case"additional programmer":return v.ag.get("track-credits.additional-programmer");case"recording and mixing":return v.ag.get("track-credits.recording-and-mixing");case"engineer and mixer":return v.ag.get("track-credits.engineer-and-mixer");case"vocal arranger":return v.ag.get("track-credits.vocal-arranger");case"income participant":return v.ag.get("track-credits.income-participant");default:return e}}const zv="main-trackCreditsModal-container",Kv="main-trackCreditsModal-header",Yv="main-trackCreditsModal-closeBtn",qv="main-trackCreditsModal-mainSection",Qv="main-trackCreditsModal-originalCredits",Jv="main-trackCreditsModal-sectionTitle",Xv="main-trackCreditsModal-creditsGroup",$v="main-trackCreditsModal-creditsEntry",eg="main-trackCreditsModal-clickableCreditsEntry",tg="main-trackCreditsModal-sourceNames",ng="main-trackCreditsModal-additionalCredits";var ig=(0,ll.memo)((function(){var e=(0,nl.I0)(),t=(0,nl.v9)((function(e){return e.ui.trackCreditsModal})),n=t.isOpen,i=t.trackUri,r=i.split(":"),a=r[r.length-1],o=(0,Hv.J)(cs.pH.V,[a]),s=o.data,l=o.error,c=o.loading,u=(0,ll.useCallback)((function(){e((0,el.Pd)(!1,""))}),[e]),d=(0,Tu.s4)(),p=(0,nl.v9)(ef.Gg).isAnonymous,m=(0,vu.fU)(Vv.createTrackCreditsEventFactory,{data:{uri:i}}),f=m.spec,g=m.logger;return(0,dl.jsx)(tf.Z,{contentLabel:v.ag.get("track-credits.label"),isOpen:n,onRequestClose:u,children:!c&&!l&&s&&(0,dl.jsxs)("div",{className:zv,children:[(0,dl.jsxs)("div",{className:Kv,children:[(0,dl.jsx)(au.D,{as:"h1",variant:"alto",children:v.ag.get("track-credits.label")}),(0,dl.jsx)("button",{"aria-label":v.ag.get("close"),className:Yv,onClick:u,children:(0,dl.jsx)(Mf,{width:18,height:18,fill:"white"})})]}),(0,dl.jsxs)("div",{className:qv,onScroll:p?function(){return d.send((0,Bv.W)({track_uri:i}))}:function(){return d.send((0,Zv.d)({track_uri:i}))},children:[(0,dl.jsxs)("div",{className:Qv,children:[(0,dl.jsx)(au.D,{as:"h2",className:Jv,variant:"cello",children:s.body.trackTitle}),s.body.roleCredits.map((function(e){var t=f.creditSectionFactory({identifier:e.roleTitle});return(0,dl.jsxs)("div",{className:Xv,children:[(0,dl.jsx)(au.D,{as:"p",variant:"mestoBold",children:Gv(e.roleTitle)}),e.artists.length>0?e.artists.map((function(n){var r=n.name,a=n.externalUrl;return a?(0,dl.jsx)("a",{href:a,draggable:!1,rel:"noopener noreferrer",onClick:function(){var n=t.artistNameFactory({identifier:r}).hitNavigateToExternalUri({destination:a});g.logInteraction(n),p?d.send((0,Uv.d)({track_uri:i,clickable_text:r,role:e.roleTitle,external_url:a})):d.send((0,Mv.x)({track_uri:i,clickable_text:r,role:e.roleTitle,external_url:a}))},target:"_blank",className:eg,children:r},r):(0,dl.jsx)(au.D,{className:$v,variant:"mesto",semanticColor:"textSubdued",children:r},r)})):"-"]},e.roleTitle)})),(0,dl.jsxs)(au.D,{as:"p",variant:"mesto",children:[v.ag.get("track-credits.source"),":"," ",s.body.sourceNames.join(v.ag.getSeparator())]})]}),s.body.extendedCredits&&s.body.extendedCredits.length>0&&(0,dl.jsxs)("div",{className:ng,children:[(0,dl.jsx)(au.D,{as:"h3",className:Jv,variant:"balladBold",children:v.ag.get("track-credits.additional-credits")}),s.body.extendedCredits.map((function(e){return(0,dl.jsxs)("div",{className:Xv,children:[(0,dl.jsx)(au.D,{as:"p",variant:"mestoBold",children:Wv(e.roleTitle.toLowerCase())}),e.artists.map((function(t){return(0,dl.jsx)("a",{href:t.url,draggable:!1,rel:"noopener noreferrer",onClick:function(){p?d.send((0,Lv.Y)({track_uri:i,clickable_text:t.name,role:e.roleTitle,external_url:t.url})):d.send((0,Fv.v)({track_uri:i,clickable_text:t.name,role:e.roleTitle,external_url:t.url}))},target:"_blank",className:eg,children:t.name},t.name)}))]},e.roleTitle)})),(0,dl.jsxs)(au.D,{as:"p",variant:"mesto",className:tg,semanticColor:"textSubdued",children:[v.ag.get("track-credits.source"),":"," ",(0,dl.jsx)("a",{draggable:!1,rel:"noopener noreferrer",target:"_blank",href:"https://soundbetter.com",children:"SoundBetter"})]})]})]})]})})}));function rg(){var e=(0,Au.W6)(ys.Mm),t=(0,nl.I0)();return(0,ll.useEffect)((function(){e&&t((0,Vf.q1)("dev"))}),[e,t]),null}function ag(){var e=(0,Au.W6)(ys.rG),t=(0,nl.I0)();return(0,ll.useEffect)((function(){t((0,Vf.Yk)(e))}),[e,t]),null}function og(){return(0,dl.jsxs)(ll.Suspense,{fallback:null,children:[(0,dl.jsx)(rg,{}),(0,dl.jsx)(ag,{})]})}var sg=n(72032),lg=n(60565),cg=n(86718),ug=n(92722);const dg="main-playlistEditDetailsModal-container",pg="main-playlistEditDetailsModal-content",mg="main-playlistEditDetailsModal-header",fg="main-playlistEditDetailsModal-closeBtn",vg="main-playlistEditDetailsModal-albumCover",gg="main-playlistEditDetailsModal-imageLoadingContainer",hg="main-playlistEditDetailsModal-imageChangeButton",kg="main-playlistEditDetailsModal-imageDropDownContainer",yg="main-playlistEditDetailsModal-imageDropDownButton",bg="main-playlistEditDetailsModal-textElement",Sg="main-playlistEditDetailsModal-textElementError",xg="main-playlistEditDetailsModal-textElementInfo",Og="main-playlistEditDetailsModal-title",wg="main-playlistEditDetailsModal-textElementLabel",Ng="main-playlistEditDetailsModal-description",_g="main-playlistEditDetailsModal-titleInput",Eg="main-playlistEditDetailsModal-titleInputWithPadding",Cg="main-playlistEditDetailsModal-descriptionTextarea",Pg="main-playlistEditDetailsModal-save",Ig="main-playlistEditDetailsModal-disclaimer",jg="main-playlistEditDetailsModal-characterCounter",Ag="main-playlistEditDetailsModal-titleCharacterCounter",Tg="main-playlistEditDetailsModal-descriptionCharacterCounter",Dg="main-playlistEditDetailsModal-insertLinkButton";var Rg=function(e){var t=e.openImagePicker,n=e.onRemoveImage;return(0,dl.jsx)("div",{className:kg,children:(0,dl.jsx)(ug.y,{menu:(0,dl.jsxs)(Jd.v,{children:[(0,dl.jsx)($d.s,{role:"menuitem",onClick:t,children:v.ag.get("playlist.edit-details.change-photo")}),(0,dl.jsx)($d.s,{role:"menuitem",onClick:n,children:v.ag.get("playlist.edit-details.remove-photo")})]}),children:(0,dl.jsxs)("button",{className:yg,type:"button",children:[(0,dl.jsx)(cg.N,{iconSize:16,"aria-hidden":"true"}),(0,dl.jsx)("span",{className:"hidden-visually",children:v.ag.get("edit_photo")})]})})})},Fg=n(22460),Lg=function(e){var t=e.onClick;return(0,dl.jsx)("button",{title:"Insert link",className:Dg,onClick:t,children:(0,dl.jsx)(Fg.v,{iconSize:16,"aria-hidden":"true"})})},Mg=n(46731),Ug=n.n(Mg);var Zg=function(e){var t=e.className,n=e.usedCharacters,i=e.maxCharacters,r=e.isVisible,a=void 0===r||r,o=function(e){var t,n;return e<=20?(t="assertive",n=!0):e<=60?(t="polite",n=!1):e<=70?(t="polite",n=!0):(t="off",n=!0),{ariaLive:t,ariaAtomic:n}}(i-n),s=o.ariaLive,l=o.ariaAtomic;return(0,dl.jsx)("span",{className:Tc()(jg,t,(0,P.Z)({},"hidden-visually",!a)),"aria-label":v.ag.get("character-counter"),"aria-live":s,"aria-atomic":l,children:"".concat(n,"/").concat(i)})},Bg=(0,ll.forwardRef)((function(e,t){var n=e.autoFocus,r=e.handleOnChange,a=e.playlistDescription,o=e.maxNumCharacters,s=void 0===o?300:o,l=(0,ll.useMemo)((function(){return"text-input-".concat((0,Ba.qd)(8))}),[]),c=s-20,u=(0,ll.useState)(!1),d=(0,i.Z)(u,2),p=d[0],m=d[1],f=Ug()(a).length;return(0,ll.useEffect)((function(){var e;n&&"function"!=typeof t&&(null==t||null===(e=t.current)||void 0===e||e.select())}),[n,t]),(0,dl.jsxs)("div",{className:Ng,children:[(0,dl.jsx)(au.D,{htmlFor:l,as:"label",variant:"finaleBold",className:wg,children:v.ag.get("playlist.edit-details.description-label")}),(0,dl.jsx)("textarea",{ref:t,"":"playlist-edit-details-description-input",autoFocus:n,className:Tc()(bg,Cg,(0,P.Z)({},xg,p)),onChange:function(e){var t=r(Ug()(e.target.value).slice(0,s).join(""));m(!!t)},placeholder:v.ag.get("playlist.edit-details.description-placeholder"),value:a}),(0,dl.jsx)(Zg,{className:Tg,maxCharacters:s,usedCharacters:f,isVisible:f>=c})]})})),Vg=function(e){return e.CONTAINS_NEW_LINE="CONTAINS_NEW_LINE",e.CONTAINS_HTML="CONTAINS_HTML",e.SAVE_WARNING="SAVE_WARNING",e.OFFLINE_WARNING="OFFLINE_WARNING",e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_FILE_UPLOAD_FAILED="IMAGE_FILE_UPLOAD_FAILED",e.NAME_REQUIRED="NAME_REQUIRED",e.UPDATE_DETAILS_FAILED="UPDATE_DETAILS_FAILED",e.IMAGE_INVALID_JPG="IMAGE_INVALID_JPG",e}(Vg||{}),Hg={type:"info",code:Vg.CONTAINS_NEW_LINE,get message(){return v.ag.get("playlist.edit-details.error.description-breaks")}},Gg={type:"info",code:Vg.CONTAINS_HTML,get message(){return v.ag.get("playlist.edit-details.error.invalid-html")}},Wg={type:"info",code:Vg.SAVE_WARNING,get message(){return v.ag.get("playlist.edit-details.error.unsaved-changes")}},zg={type:"info",code:Vg.OFFLINE_WARNING,get message(){return v.ag.get("playlist.edit-details.error.no-internet")}},Kg={type:"error",code:Vg.FILE_TOO_BIG,get message(){return v.ag.get("playlist.edit-details.error.file-size-exceeded",10)}},Yg={type:"error",code:Vg.IMAGE_TOO_SMALL,get message(){return v.ag.get("playlist.edit-details.error.too-small",300,300)}},qg={type:"error",code:Vg.IMAGE_FILE_UPLOAD_FAILED,get message(){return v.ag.get("playlist.edit-details.error.file-upload-failed")}},Qg={type:"error",code:Vg.NAME_REQUIRED,get message(){return v.ag.get("playlist.edit-details.error.missing-name")}},Jg={type:"error",code:Vg.UPDATE_DETAILS_FAILED,get message(){return v.ag.get("playlist.edit-details.error.failed-to-save")}},Xg=function(e){var t,n=e.autoFocus,r=e.handleOnChange,a=e.maxNumCharacters,o=void 0===a?100:a,s=e.playlistName,l=e.onSubmit,c=(0,ll.useState)(!1),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=(0,ll.useMemo)((function(){return"text-input-".concat((0,Ba.qd)(8))}),[]),f=o-10,g=Ug()(s).length,h=g>=f,k=(0,ll.useRef)(null);return(0,ll.useEffect)((function(){var e;n&&(null===(e=k.current)||void 0===e||e.select())}),[n]),(0,dl.jsxs)("div",{className:Og,children:[(0,dl.jsx)(au.D,{as:"label",htmlFor:m,variant:"finaleBold",className:wg,children:v.ag.get("playlist.edit-details.name-label")}),(0,dl.jsx)("input",{"":"playlist-edit-details-name-input",id:m,autoFocus:n,ref:k,type:"text",className:Tc()(bg,_g,(t={},(0,P.Z)(t,Eg,h),(0,P.Z)(t,Sg,d),t)),onKeyDown:function(e){"Enter"===e.key&&l()},onChange:function(e){var t=r(Ug()(e.target.value).slice(0,o).join(""));p(!!t)},placeholder:v.ag.get("playlist.edit-details.name-placeholder"),value:s}),(0,dl.jsx)(Zg,{isVisible:h,maxCharacters:o,usedCharacters:g,className:Ag})]})},$g=n(23006);function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nh={name:"",description:"",image:void 0,loading:!1,message:null,hasWarnedAboutUnsavedChanges:!1};function ih(e){return{type:"setPlaylistDescription",data:e}}function rh(e){return{type:"setLoading",data:e}}function ah(e){return{type:"setMessage",data:e}}function oh(e,t){switch(t.type){case"setImageData":return th(th({},e),{},{loading:!1,image:{width:$g.eM.SMALL,height:$g.eM.SMALL,url:t.data}});case"removeImage":return th(th({},e),{},{loading:!1,imageToken:null,image:void 0});case"setImageToken":return th(th({},e),{},{imageToken:t.data});case"setPlaylistName":return th(th({},e),{},{name:t.data});case"setPlaylistDescription":return th(th({},e),{},{description:t.data});case"setLoading":return th(th({},e),{},{loading:t.data,message:null});case"setHasWarnedAboutUnsavedChanges":return th(th({},e),{},{hasWarnedAboutUnsavedChanges:t.data});case"setMessage":return th(th({},e),{},{loading:!1,message:t.data});case"reset":return th(th({},nh),{},{name:t.data.name,description:t.data.description,image:t.data.image});default:return e}}var sh=n(76956),lh=n(53391),ch=n(12786),uh=/[\b\f\n\r\t\v\0]/,dh=/<[bi]/i,ph=function(e){var t=e.isOpen,n=e.isImagePickerOpen,a=e.focusedElement,s=e.name,l=e.description,c=e.image,u=e.uri,d=e.onClose;l=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}(l);var p=(0,bm.Yv)(u),m=p.uploadImage,g=p.updateDetails,h=function(e){var t=e.name,n=e.description,r=e.image,a=(0,ll.useReducer)(oh,th(th({},nh),{},{name:t,description:n,image:r})),o=(0,i.Z)(a,2);return[o[0],o[1]]}({name:s,description:l,image:c}),k=(0,i.Z)(h,2),y=k[0],b=k[1],S=(0,lg.Hs)(),x=(0,i.Z)(S,2),O=x[0],w=x[1],N=!(0,sh.k)(),_=(0,ll.useRef)(null),E=(0,nl.v9)((function(e){var t;return"1"===(null===(t=e.session.productState)||void 0===t?void 0:t["playlist-annotations-markup"])}));(0,ll.useEffect)((function(){b(ah(N?zg:null))}),[N,b]),(0,ll.useEffect)((function(){n&&w()}),[n,w]);var C=(0,ll.useCallback)((function(){b({type:"removeImage"})}),[b]),P=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null===y.imageToken,n=y.imageToken;!(s!==y.name||l!==y.description||n||t)||y.hasWarnedAboutUnsavedChanges||e?(b(function(e){return{type:"reset",data:e}}({name:s,description:l,image:c})),d()):(b(ah(Wg)),b({type:"setHasWarnedAboutUnsavedChanges",data:!0}))};function I(){return(I=(0,r.Z)(o().mark((function e(t){var n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.imageFile,i=t.imageDataUrl,b(ah(null)),b({type:"setImageData",data:i}),!n){e.next=16;break}return e.prev=6,r=m(n),b({type:"setImageToken",data:r}),e.next=11,r;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),b(ah(qg));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function j(){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.loading){e.next=2;break}return e.abrupt("return");case 2:if(0!==y.name.length){e.next=5;break}return b(ah(Qg)),e.abrupt("return");case 5:return b(rh(!0)),e.prev=6,e.next=9,T();case 9:b(rh(!1)),!0,P(true),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),b(ah(Jg));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function T(){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},s!==y.name&&(t.name=y.name),l!==y.description&&(t.description=y.description),!y.imageToken){e.next=9;break}return e.next=6,y.imageToken;case 6:t.imageUploadToken=e.sent,e.next=10;break;case 9:null===y.imageToken&&(t.imageUploadToken=y.imageToken);case 10:return e.next=12,g(t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,dl.jsx)(tf.Z,{isOpen:t,onRequestClose:function(){P()},contentLabel:v.ag.get("playlist.edit-details.title"),children:(0,dl.jsxs)("div",{"":"playlist-edit-details-modal",className:dg,children:[(0,dl.jsxs)("div",{className:mg,children:[(0,dl.jsx)(au.D,{as:"h1",variant:"canon",children:v.ag.get("playlist.edit-details.title")}),(0,dl.jsx)("button",{className:fg,onClick:function(){P()},children:(0,dl.jsx)(Nv.k,{iconSize:16,"aria-label":v.ag.get("close")})})]}),y.message&&(0,dl.jsx)(ch.X,{isErrorMessage:"error"===y.message.type,message:y.message.message}),E?(0,dl.jsx)(Lg,{onClick:function(){if(_.current){var e=_.current,t=e.selectionStart,n=e.selectionEnd,i=y.description.substring(t,n),r=i,a=!!(0,f.EC)(r);!r.startsWith("http://")&&!r.startsWith("https://")&&!a&&(r="https://".concat(r)),b(ih([y.description.substring(0,t),'<a href="'.concat(r,'">').concat(i,"</a>"),y.description.substring(n)].join("")))}}}):null,(0,dl.jsxs)("div",{className:pg,children:[(0,dl.jsx)(lg.uL,{isOpen:O,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:function(e){return I.apply(this,arguments)},onError:function(e){e===lg.Hy.FILE_TOO_BIG?b(ah(Kg)):e===lg.Hy.IMAGE_TOO_SMALL&&b(ah(Yg))}}),(0,dl.jsxs)("div",{className:vg,children:[(0,dl.jsx)($g.Oe,{loading:"eager",name:y.name,images:y.image?[y.image]:[],placeholderType:"playlist"}),(0,dl.jsx)("div",{className:hg,children:(0,dl.jsx)(lh.F,{overlay:!!y.image,onClick:w})}),(0,dl.jsx)(Rg,{onRemoveImage:C,openImagePicker:w}),!!y.imageToken&&y.loading&&(0,dl.jsx)("div",{className:gg,children:(0,dl.jsx)(sg.T,{})})]}),(0,dl.jsx)(Xg,{autoFocus:a===Oc.w.TITLE,handleOnChange:function(e){return b({type:"setPlaylistName",data:e}),0===e.length?(b(ah(Qg)),Qg):(b(ah(null)),null)},playlistName:y.name,onSubmit:j}),(0,dl.jsx)(Bg,{ref:_,autoFocus:a===Oc.w.DESCRIPTION,handleOnChange:function(e){var t=e;return dh.test(t)?(b(ah(Gg)),Gg):uh.test(t)?(t=(e||"").replace(uh,""),b(ah(Hg)),Hg):(b(ih(t)),null)},playlistDescription:y.description}),(0,dl.jsx)("div",{className:Pg,children:(0,dl.jsx)(Hm.D,{colorSet:"invertedLight",onClick:j,disabled:y.loading,"":"playlist-edit-details-save-button",children:v.ag.get("save")})}),(0,dl.jsx)(au.D,{as:"p",variant:"finaleBold",className:Ig,children:v.ag.get("image-upload.legal-disclaimer")})]})]})})},mh=function(){var e=(0,ll.useContext)(Oc._U),t=e.isOpen,n=e.isImagePickerOpen,i=e.playlistDetails,r=e.focusedElement,a=(0,ll.useContext)(Oc.zy),o=(0,ll.useCallback)((function(){a({type:"close"})}),[a]),s=i.name,l=i.description,c=i.uri,u=i.image;return t?(0,dl.jsx)(ph,{isOpen:t,isImagePickerOpen:n,onClose:o,focusedElement:r,uri:c,name:s,description:l,image:u}):null},fh=n(94621),vh=n(70097),gh=n(76853),hh=n(85392);n(31594);var kh={BROWSER_EDGE:"spotify__browser--is-edge",BROWSER_SAFARI:"spotify__browser--is-safari",OS_MACOS:"spotify__os--is-macos",OS_WINDOWS:"spotify__os--is-windows",OS_LINUX:"spotify__os--is-linux",OS_CHROMEOS:"spotify__os--is-chromeos",CONTAINER_DESKTOP:"spotify__container--is-desktop",CONTAINER_PWA:"spotify__container--is-pwa",CONTAINER_WEB:"spotify__container--is-web"};function yh(e,t){var n,i;n=Object.values(kh),(i=document.documentElement.classList).remove.apply(i,(0,_.Z)(n));var r=[];"Microsoft Edge"===me().parse(window.navigator.userAgent).browser.name?r.push(kh.BROWSER_EDGE):(0,cl.G)()&&r.push(kh.BROWSER_SAFARI),t===k.U.macOS?r.push(kh.OS_MACOS):t===k.U.Windows?r.push(kh.OS_WINDOWS):t===k.U.Linux?r.push(kh.OS_LINUX):t===k.U.ChromeOS&&r.push(kh.OS_CHROMEOS),e===k.W.Desktop?r.push(kh.CONTAINER_DESKTOP):e===k.W.PWA?r.push(kh.CONTAINER_PWA):e===k.W.Web&&r.push(kh.CONTAINER_WEB),function(e){e.forEach((function(e){document.documentElement.classList.add(e)}))}(r)}var bh=function(){var e,t,n=(0,lc.s0)(),i=(0,nl.I0)(),a=(0,lc.TH)(),s=(0,nl.v9)((function(e){return e.ui.history.canGoBack})),l=(0,nl.v9)((function(e){return e.ui.history.canGoForward})),c=(0,wf.K)().createPlaylist,u=(0,vh.e)(),d=u.openURL,p=u.openURLWithSessionTransfer,m=(0,vu.fU)(fh.w,{data:{uri:null!==(e=null===(t=(0,f.EC)(a.pathname))||void 0===t?void 0:t.toURI())&&void 0!==e?e:""},parentAbsoluteLocation:{locations:[]}}),v=m.spec,y=m.logger;return(0,g.eY)(g.O4.CREATE_NEW_PLAYLIST,(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)})))),(0,g.eY)(g.O4.BROWSE_BACKWARD,(function(){s&&n(-1)})),(0,g.eY)(g.O4.BROWSE_FORWARD,(function(){l&&n(1)})),(0,g.eY)(g.O4.LOGOUT,(function(){i((0,Rf.Tz)())})),(0,g.eY)(g.O4.SHOW_ABOUT,(function(){i((0,gh.GV)())})),(0,g.eY)(g.O4.SHOW_PREFERENCES,(function(){n("/preferences")})),(0,g.eY)(g.O4.SHOW_SEARCH,(function(){/\/search(\/.*|)$/.test(a.pathname)||n("/search",{state:{preventMoveFocus:!0}})})),(0,g.eY)(g.O4.SHOW_ACCOUNT,(function(){p("https://spotify.com/account/overview/")})),(0,g.eY)(g.O4.SHOW_COMMUNITY,(function(){p("https://community.spotify.com/")})),(0,g.eY)(g.O4.SHOW_HELP,(function(){p("https://support.spotify.com/")})),(0,g.eY)(g.O4.SHOW_LICENSES,(function(){i((0,hh.qd)())})),(0,g.eY)(g.O4.SHOW_LICENSING_INFORMATION,(function(){d("https://www.spotify.com/int/legal/licensing-info/")})),(0,g.eY)(g.O4.SHOW_SCTA_INFORMATION,(function(){d("https://www.spotify.com/int/legal/specified-commercial-transactions")})),(0,g.eY)(g.O4.ENTER_FULLSCREEN,(function(){y.logInteraction(v.fullscreenButtonFactory().hitUiReveal()),i((0,el.rM)())})),(0,g.eY)(g.O4.LEAVE_FULLSCREEN,(function(){y.logInteraction(v.fullscreenButtonFactory().hitUiHide()),i((0,el.Xo)())})),(0,g.eY)(g.O4.SET_PLATFORM_EMULATION_AUTO,(function(){yh((0,h.ZO)(),(0,de.L)())})),(0,g.eY)(g.O4.SET_PLATFORM_EMULATION_MACOS,(function(){yh((0,h.ZO)(),k.U.macOS)})),(0,g.eY)(g.O4.SET_PLATFORM_EMULATION_WINDOWS,(function(){yh((0,h.ZO)(),k.U.Windows)})),(0,g.eY)(g.O4.SET_PLATFORM_EMULATION_LINUX,(function(){yh((0,h.ZO)(),k.U.Linux)})),null},Sh=n(15101),xh=(n(72751),n(92454)),Oh=n(9182),wh=n(95055),Nh=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},_h=function(){document.fullscreenElement&&document.exitFullscreen?document.exitFullscreen():document.mozFullScreen&&document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitIsFullScreen&&document.webkitExitFullscreen&&document.webkitExitFullscreen()},Eh=function(){return!!(document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen)},Ch=n(63947),Ph=ll.createContext(null),Ih=function(e){var t=e.children,n=(0,ll.useRef)(null);return(0,dl.jsx)(Ph.Provider,{value:n,children:t})},jh=n(94083),Ah=n(87927);const Th="Psc33HXPyazZYAAr1tgz",Dh="VGJz_GOARJ6j02JICvW6",Rh="VpNHGG5ZhoxQ8AqW709S",Fh="P7395UzhjxLUlLZvj5fb";var Lh=function(e){var t,n=e.children,i=e.active,r=void 0!==i&&i,a=e.focus,o=void 0===a||a,s=e.label,l=e.onClick,c=e.noBackground,u=void 0!==c&&c;return(0,dl.jsx)(Ru.w,{label:s,children:(0,dl.jsx)("button",{className:Tc()(Th,(t={},(0,P.Z)(t,Fh,r),(0,P.Z)(t,Dh,u),(0,P.Z)(t,Rh,o),t)),onClick:l,"aria-label":s,children:n})})},Mh=n(76788),Uh=n(37297),Zh=n(25458),Bh=n(94878),Vh=function(e){return e.ui.videoPlayer.hiddenByUser},Hh=function(e){return e.ui.videoPlayer.mode};const Gh="MBzbwWcyfbqSftBtnn3g";var Wh=function(e){var t=e.noBackground,n=e.iconSize,i=void 0===n?16:n,r=(0,nl.I0)(),a=(0,Uh.m)(),o=(0,nl.v9)(Hh)===Zh.B.cinema;return(0,bl.Y)(Ch.CM)?(0,dl.jsx)("div",{className:Tc()((0,P.Z)({},Gh,o)),children:(0,dl.jsx)(Lh,{noBackground:t,active:o,label:o?v.ag.get("video-player.default-view"):v.ag.get("video-player.cinema-mode"),onClick:function(){Eh()&&_h(),o?a===Mh.s.NowPlayingView?r((0,Bh.Bl)(Zh.B.npv)):r((0,Bh.Bl)(Zh.B.mini)):r((0,Bh.Bl)(Zh.B.cinema))},children:o?(0,dl.jsx)(jh.o,{iconSize:i}):(0,dl.jsx)(Ah.S,{iconSize:i})})}):null},zh=n(43192),Kh=Yt.d.SUBTITLE_LANGUAGES_CHANGED;var Yh=n(78142);function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qh(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jh=function(e){var t=e.languages,n=void 0===t?[]:t,i=e.activeLanguage,r=e.onSelectLanguage,a=e.onClose,o=(0,Au.W6)(ys.tc);return(0,dl.jsx)(Yh.ZP,{value:"subtitles",children:(0,dl.jsxs)(Jd.v,{onClose:a,getInitialFocusElement:function(e){return null==e?void 0:e.querySelector('[aria-checked="true"]')},children:[(0,dl.jsx)(Xd.F,{divider:"after",children:v.ag.get("subtitles-picker.heading")}),(0,dl.jsx)($d.s,{onClick:function(){r(null)},"aria-checked":!i,role:"menuitemradio",children:v.ag.get("subtitles-picker.option_off")}),n.map((function(e){return(0,dl.jsxs)($d.s,{onClick:function(){r(e)},role:"menuitemradio","aria-checked":"string"==typeof i&&e.toLowerCase()===i.toLowerCase(),children:[Xh(e)," ",o?"(".concat(v.ag.get("subtitles-picker.autogenerated"),")"):null]},e)}))]})})};function Xh(e){var t=e.toLowerCase().split("-"),n="";switch((0,i.Z)(t,1)[0]){case"zh":n=v.ag.get("subtitles-picker.option_zh");break;case"cs":n=v.ag.get("subtitles-picker.option_cs");break;case"nl":n=v.ag.get("subtitles-picker.option_nl");break;case"en":n=v.ag.get("subtitles-picker.option_en");break;case"fi":n=v.ag.get("subtitles-picker.option_fi");break;case"fr":n=v.ag.get("subtitles-picker.option_fr");break;case"de":n=v.ag.get("subtitles-picker.option_de");break;case"el":n=v.ag.get("subtitles-picker.option_el");break;case"hu":n=v.ag.get("subtitles-picker.option_hu");break;case"id":n=v.ag.get("subtitles-picker.option_id");break;case"it":n=v.ag.get("subtitles-picker.option_it");break;case"ja":n=v.ag.get("subtitles-picker.option_ja");break;case"ms":n=v.ag.get("subtitles-picker.option_ms");break;case"pl":n=v.ag.get("subtitles-picker.option_pl");break;case"pt":n=v.ag.get("subtitles-picker.option_pt");break;case"es":n=v.ag.get("subtitles-picker.option_es");break;case"sv":n=v.ag.get("subtitles-picker.option_sv");break;case"tr":n=v.ag.get("subtitles-picker.option_tr");break;case"vi":n=v.ag.get("subtitles-picker.option_vi");break;default:n=e}return e.endsWith("-x-cc")&&(n+=" [CC]"),n}var $h=function(e){return(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(Jh,Qh({},e))})},ek=ll.memo((function(e){var t=e.renderInline,n=void 0!==t&&t,a=e.noBackground,s=e.iconSize,l=void 0===s?16:s,c=function(){var e=sm(),t=e.getCapabilities(),n=(0,ll.useState)([]),a=(0,i.Z)(n,2),s=a[0],l=a[1],c=(0,ll.useState)(null),u=(0,i.Z)(c,2),d=u[0],p=u[1];(0,ll.useEffect)((function(){var t=function(){var t=(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l,t.next=3,e.getSubtitleLanguages();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t();var n=e.getEvents(),i=function(e){var t=e.data;return l(t)};return n.addListener(Kh,i),function(){n.removeListener(Kh,i)}}),[e,l]),(0,ll.useEffect)((function(){var t=function(){var t=(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=p,t.next=3,e.getPreferredSubtitleLanguage();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e,p]);var m=function(){var t=(0,r.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setPreferredSubtitleLanguage(n),p(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{isSupported:t.hasSubtitleSupport,availableLanguages:s,preferredLanguage:d,setPreferredLanguage:m}}(),u=c.isSupported,d=c.availableLanguages,p=c.preferredLanguage,m=c.setPreferredLanguage;return u&&0!==d.length?(0,dl.jsx)(ug.y,{renderInline:n,menu:(0,dl.jsx)($h,{onSelectLanguage:m,languages:d,activeLanguage:p}),children:(0,dl.jsx)(Lh,{noBackground:a,active:null!==p,label:v.ag.get("subtitles-picker.heading"),children:(0,dl.jsx)(zh.M,{iconSize:l})})}):null})),tk=n(32080),nk=n(56389);const ik="ylcmjHXKpwmez5_bBVgt",rk="kChcaF3yz3SoL5dZPwEr",ak="tr1hDrJgoPSbMXlXU_sl",ok="mbUrqWP55sK6zhspiR72",sk="SVGHXIQcH9HYU7uGITw5",lk="N5cWYDvyLrfnyMZuqQHo",ck="gIobRDHAxkAvUaF4_OOL",uk="FTi9QEhetf4Q4__5sb4S",dk="Gw7E7MkWci1ttQhb4EK0",pk="Lgyj1e9c3lrdgVGlMIyV";var mk=(0,ll.memo)((function(e){var t=e.iconSize,n=void 0===t?16:t;return(0,dl.jsx)("button",{className:dk,onClick:function(){_h()},"aria-label":v.ag.get("npv.exit-full-screen"),title:v.ag.get("npv.exit-full-screen"),children:(0,dl.jsx)(nk.Y,{iconSize:n})})})),fk=n(98465);const vk="main-genericButton-button",gk="main-genericButton-buttonActive";var hk=function(e){var t,n=null!==(t=e.isActive)&&void 0!==t&&t,i=Tc()(vk,(0,P.Z)({},gk,n),e.className);return(0,dl.jsx)(Ru.w,{label:e.label,children:(0,dl.jsx)(Jm.o,{style:e.style,"aria-label":e.label,buttonSize:"sm",className:i,disabled:e.disabled,iconOnly:e.icon,onClick:e.onToggle,"":e.testId,"data-active":n.toString()})})},kk=function(){return(0,dl.jsx)(fk.r,{iconSize:24})},yk=function(e){var t=e.onClick,n=e.enabled,i=(0,ll.useCallback)((function(){null==t||t(!n)}),[t,n]);return(0,dl.jsx)(hk,{className:pk,isActive:n,onToggle:i,label:v.ag.get("web-player.lyrics.title"),testId:"fullscreen-mode-overlay-lyrics-button",icon:kk})},bk=(0,ll.memo)(yk),Sk=n(71767),xk=n(824),Ok=function(e){var t=e.item;return(0,Re.G_)(t)?(0,dl.jsx)(Ep.B,{uri:t.uri,size:Sk.q.sm}):(0,Re.iw)(t)?(0,dl.jsx)(xk.w,{uri:t.uri,size:Sk.q.sm}):null},wk=function(e){var t=e.isVisible,n=e.onClick,i=e.item,r=e.isLyricsAvailable,a=e.isLyricsEnabled,o=e.onLyricsButtonClick,s=sp();return(0,dl.jsx)(tk.i,{active:t,focusTrapOptions:{initialFocus:!1},children:(0,dl.jsx)("div",{className:Tc()(ik,(0,P.Z)({},rk,t)),onClick:n,children:(0,dl.jsxs)("div",{className:ak,"":"fullscreen-mode-controls",children:[(0,dl.jsx)(Eu,{isPreview:!1,isFullscreenMode:!0}),(0,dl.jsxs)("div",{className:ok,children:[(0,dl.jsx)("div",{className:Tc()(sk,lk),children:i&&(0,dl.jsx)(Ok,{item:i})}),(0,dl.jsxs)("div",{className:Tc()(sk,ck),children:[s&&(0,dl.jsx)(op,{iconSize:24}),!s&&(0,dl.jsx)(od,{iconSize:24}),s&&(0,dl.jsx)(Xu,{iconSize:24}),(0,dl.jsx)(cd,{iconSize:24}),(0,dl.jsx)(Mu,{iconSize:32}),(0,dl.jsx)(pd,{iconSize:24}),s&&(0,dl.jsx)(td,{iconSize:24}),!s&&(0,dl.jsx)(qu,{iconSize:24})]}),(0,dl.jsxs)("div",{className:Tc()(sk,uk),children:[(0,dl.jsx)(ek,{iconSize:24,renderInline:!0,noBackground:!0}),!s&&r&&(0,dl.jsx)(bk,{enabled:a,onClick:o}),(0,dl.jsx)(Op,{iconSize:16}),(0,dl.jsx)(Wh,{noBackground:!0,iconSize:16}),(0,dl.jsx)(mk,{iconSize:24})]})]})]})})})},Nk=Spicetify.GraphQL.Definitions["queryFullscreenMode"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryFullscreenMode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"artistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"artistUri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"headerImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]};function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_k(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ck=function(){var e=(0,nl.v9)(ef.VG);return(0,bl.Y)(Ch.CM)||e};function Pk(e){var t,n,i,r,a,o,s,l,c,u,d;return(0,Re.G_)(e)?{uri:e.uri,name:e.name,creatorName:null===(t=e.artists[0])||void 0===t?void 0:t.name,coverArtImageUrl:null===(n=e.images)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.url,duration:e.duration.milliseconds}:(0,Re.iw)(e)?{uri:e.uri,name:e.name,creatorName:e.show.name,coverArtImageUrl:null===(r=e.images)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.url,duration:e.duration.milliseconds}:(0,Re.G7)(e)?{uri:e.uri,name:e.name,creatorName:e.book.name,coverArtImageUrl:null===(o=e.images)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.url,duration:e.duration.milliseconds}:(0,Re.k6)(e)?{uri:e.uri,name:null!==(l=e.title)&&void 0!==l?l:"",creatorName:null!==(c=e.advertiser)&&void 0!==c?c:"",coverArtImageUrl:null===(u=e.images)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.url,duration:e.duration.milliseconds}:(0,Re.RB)(e)||void 0===e?void 0:(0,Me.U)(e)}function Ik(){return(Ik=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(Nk,{artistUri:n}).then((function(e){var t,n,i;if("Artist"===(null==e||null===(t=e.data)||void 0===t?void 0:t.artistUnion.__typename))return null===(n=e.data.artistUnion.visuals.headerImage)||void 0===n||null===(i=n.sources[0])||void 0===i?void 0:i.url})).catch((function(){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jk=function(e){var t=(0,ll.useContext)(bn.Ax).request,n=(0,ll.useState)(void 0),r=(0,i.Z)(n,2),a=r[0],o=r[1];return(0,ll.useEffect)((function(){var n=!0;return e&&function(e,t){return Ik.apply(this,arguments)}(t,e).then((function(e){n&&o(e)})),function(){n=!1}}),[e,t]),a},Ak=ll.lazy((0,r.Z)(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(1814).then(n.bind(n,32282));case 2:return t=e.sent,i=t.ArtistNpv,e.abrupt("return",{default:i});case 5:case"end":return e.stop()}}),e)})))),Tk=ll.memo((function(e){var t,n,r,a,o,s,l=e.videoRef,c="/lyrics"===(0,lc.TH)().pathname,u=(0,ll.useState)(c),d=(0,i.Z)(u,2),p=d[0],m=d[1],f=(0,uu.g)(),v=(0,cu.o)(),g=(0,bl.Y)((function(e){return e}),(function(e,t){var n,i;return(0,Fu.V)(null==e?void 0:e.restrictions,null==t?void 0:t.restrictions)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(i=t.item)||void 0===i?void 0:i.uri)&&(null==e?void 0:e.isPaused)===(null==t?void 0:t.isPaused)})),h=null!==(t=null==g?void 0:g.item)&&void 0!==t?t:void 0,k=null!==(n=null==g?void 0:g.nextItems)&&void 0!==n?n:[],y=null!==(r=null==g?void 0:g.playbackId)&&void 0!==r?r:void 0,b=(0,Re.G_)(h)?null===(a=h.artists[0])||void 0===a?void 0:a.uri:void 0,S=null==h?void 0:h.images,x=jk(b),O=(0,wh.b)(null==S||null===(o=S[0])||void 0===o?void 0:o.url);s=(0,nl.I0)(),(0,ll.useEffect)((function(){var e=function(){Eh()||s((0,el.oH)())};return window.addEventListener("fullscreenchange",e),window.addEventListener("webkitfullscreenchange",e),function(){window.removeEventListener("fullscreenchange",e),window.removeEventListener("webkitfullscreenchange",e)}}),[s]),(0,ll.useEffect)((function(){var e=function(e){"Escape"===e.key&&_h()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[s]);var w,N,_,E={contextName:null==(w=g)||null===(N=w.context.metadata)||void 0===N?void 0:N.context_description,contextUri:(null==w?void 0:w.context.uri)||void 0,position:null!==(_=null==w?void 0:w.positionAsOfTimestamp)&&void 0!==_?_:void 0,timestamp:null==w?void 0:w.timestamp,isPaused:null==w?void 0:w.isPaused,canPause:null==w?void 0:w.restrictions.canPause,canResume:null==w?void 0:w.restrictions.canResume},C=E.position,P=E.contextName,I=E.contextUri,j=E.isPaused,A=E.canResume,T=E.canPause,D=E.timestamp,R=function(){var e=(0,ll.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=(0,ll.useRef)(null),o=(0,Cu.y1)((function(){null!==a.current&&clearTimeout(a.current),a.current=setTimeout((function(){r(!1)}),2500),r(!0)}),100,{leading:!0});return(0,ll.useEffect)((function(){return function(){null!==a.current&&clearTimeout(a.current)}}),[]),{isOverlayVisible:n,showOverlay:o}}(),F=R.isOverlayVisible,L=R.showOverlay,M=function(e){var t,n=Pk(e);return(0,Re.G_)(e)||(0,Re.iw)(e)||(0,Re.G7)(e)||(0,Re.k6)(e)?Ek(Ek({},n),{},{duration:e.duration.milliseconds,mediaType:(t=e.mediaType,"video"===t||"mixed"===t?"video":"audio")}):(0,Re.RB)(e)||void 0===e?void 0:(0,Me.U)(e)}(h),U=Pk(k.length>0?k[0]:void 0),Z=(0,Ch.CM)(g),B=(0,ll.useCallback)((function(e){e.target===e.currentTarget&&(v({type:"click",intent:j?"play":"pause"}),j&&A?f.resume():!j&&T&&f.pause())}),[T,A,j,v,f]),V=(0,ll.useCallback)((function(e){m(e)}),[m]),H=(0,Oh.C)(null==M?void 0:M.uri,S),G=H.data,W=H.loading,z=!(null==G||!G.hasLyrics),K=null!=G&&G.hasLyrics?G.providerLyricsId:void 0;O=z?G.colors.background:O;var Y=(0,ll.useMemo)((function(){return function(e,t,n){if(e&&n&&n.hasLyrics)return{status:t?"loading":"success",content:{provider:n.provider,syncType:n.syncType,lines:n.lyrics.map((function(e){return{timestamp:Number(e.start),text:e.text}}))}}}(p,W,G)}),[p,W,G]),q=(0,Tu.s4)(),Q=(0,ll.useCallback)((function(e,t,n){return q.send((0,xh.N)({lyrics_format:"fullscreen",track_uri:e,provider:t,provider_lyrics_id:K,sync_type:n,playback_id:y}))}),[y,K,q]);return(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsxs)("div",{onMouseMove:L,onFocus:L,children:[(0,dl.jsx)("div",{ref:l}),(0,dl.jsx)(Ak,{currentTrack:M,position:null!=C?C:0,timestamp:null!=D?D:0,nextTrack:U,backgroundColor:O,backgroundImageUrl:x,contextName:P,contextUri:I,playbackIsPaused:j,contextMetadataVisible:!Z||F,trackMetadataVisible:!Z||F,lyrics:Y,onLyricsReport:Q,controlsVisible:!1,progressBarVisible:!Z||F,CustomProgressBar:void 0,CustomPlaybackControls:(0,dl.jsx)(wk,{isVisible:F,onClick:B,item:h,isLyricsAvailable:z,isLyricsEnabled:p,onLyricsButtonClick:V})})]})})})),Dk=ll.memo((function(e){var t=e.videoRef,n=(0,ll.useContext)(Ph),i=Ck(),r=(0,nl.I0)(),a=(0,nl.v9)((function(e){return e.ui.fullscreenMode.isOpen}));return(0,ll.useEffect)((function(){if(i){var e=Eh();!a&&e&&_h()}else _h()}),[i,a,r]),(0,dl.jsx)("div",{ref:n,children:i&&a?(0,dl.jsx)(Tk,{videoRef:t}):null})})),Rk=n(4319);const Fk="I0UigpTrBFkGuoWMpQcq",Lk="jxzPm9gLS9LiyU5veW3H",Mk="bYPDBcU3uU79vGF1pQBg",Uk="pWvyF1E7_RN2INjZfCUd",Zk="E4UTzaVPMhPYyLm1z_eb",Bk="ReyA3uE3K7oEz7PTTnAn",Vk="vSC7et_G7LUWnvTARtHq",Hk="xFb8C_XRObIFocIOPuTj";var Gk=(0,nl.$j)((function(e){var t,n,i,r,a,o,s,l,c,u,d;return{isOpen:null!==(t=null===(n=e.ads.billboard)||void 0===n?void 0:n.isOpen)&&void 0!==t&&t,imageLoaded:null!==(i=null===(r=e.ads.billboard)||void 0===r?void 0:r.imageLoaded)&&void 0!==i&&i,isMinimized:null!==(a=null===(o=e.ads.billboard)||void 0===o?void 0:o.isMinimized)&&void 0!==a&&a,companionSrc:null===(s=e.ads.billboard)||void 0===s?void 0:s.data.companionSrc,disclaimer:null===(l=e.ads.billboard)||void 0===l?void 0:l.data.disclaimer,mediaSrc:null===(c=e.ads.billboard)||void 0===c?void 0:c.data.mediaSrc,clickUrl:null===(u=e.ads.billboard)||void 0===u?void 0:u.data.clickUrl,isPreview:null===(d=e.ads.billboard)||void 0===d?void 0:d.data.isPreview}}),(function(e){return{hide:function(){return e({type:Kf})},adClick:function(){return e({type:Yf})},onImageLoaded:function(){return e({type:qf})},onError:function(){return e({type:Qf})}}}))((function(e){var t=e.companionSrc,n=e.clickUrl,i=e.mediaSrc,r=e.adClick,a=e.hide,o=e.isOpen,s=e.imageLoaded,l=e.onImageLoaded,c=e.onError,u=e.isMinimized,d=e.isPreview,p=function(){r(),a()},m=(0,lc.s0)(),f=(0,bl.Y)((function(e){return null==e?void 0:e.context.uri}));return(0,ll.useEffect)((function(){o&&function(e,t,n){var i=new Image;i.addEventListener("load",t),i.addEventListener("error",n),i.src=e}(i,l,c)}),[o,i,l,c,d,f,m]),o&&s?u?(0,dl.jsx)("div",{"":"billboard-minimized",className:Bk,children:t&&(0,dl.jsx)("a",{draggable:!1,className:Vk,href:n,onClick:r,children:(0,dl.jsx)("img",{draggable:!1,className:Hk,alt:v.ag.get("ad-formats.advertisement"),src:t})})}):(0,dl.jsx)(tf.Z,{isOpen:o,shouldCloseOnEsc:!1,onRequestClose:a,contentLabel:v.ag.get("ad-formats.advertisement"),children:(0,dl.jsxs)("div",{id:"view-billboard-ad",className:Tc()(Fk,{ready:o}),children:[(0,dl.jsx)("a",{draggable:!1,tabIndex:-1,className:Lk,href:n,onClick:p,children:v.ag.get("ad-formats.advertisement")}),(0,dl.jsx)("button",{"aria-label":v.ag.get("ad-formats.dismissAd"),className:Mk,onClick:a,children:(0,dl.jsx)(Mf,{width:18,height:18,fill:"currentColor"})}),(0,dl.jsx)("a",{draggable:!1,"":"billboard-image-link",className:Uk,href:n,onClick:p,children:(0,dl.jsx)("img",{draggable:!1,className:Zk,alt:v.ag.get("ad-formats.advertisement"),src:i})})]})}):null})),Wk="SET_LEADERBOARD_ELEMENT",zk="NAVIGATION_CHANGE_LEADERBOARD_AD",Kk="SET_LEADERBOARD_ENABLED",Yk="SET_LEADERBOARD_DISABLED",qk=function(){return{type:Yk}};const Qk="main-leaderboardComponent-container";var Jk=function(){var e=(0,nl.I0)(),t=(0,nl.v9)((function(e){return e.ads.leaderboard.isEnabled})),n=(0,lc.TH)();(0,ll.useEffect)((function(){e({type:zk})}),[e,n.pathname]);var i=(0,ll.useCallback)((function(t){null!==t&&e({type:Wk,element:t})}),[e]);return t?(0,dl.jsx)("div",{children:(0,dl.jsx)("div",{"":"test-ref-div",className:Qk,ref:i})}):null},Xk=n(41164),$k=n(47898);n(77618);var ey=(0,ll.memo)((function(){var e=(0,nl.I0)(),t=(0,cu.o)(),n=(0,Xk.l)().removeFolder,i=(0,lc.s0)(),r=(0,lc.TH)(),a=(0,nl.v9)((function(e){return e.ui.deleteFolderDialog})),o=a.uri,s=a.onDeleteCallback,l=(0,ll.useCallback)((function(){e((0,el.cq)())}),[e]),c=(0,ll.useCallback)((function(){var e;o&&(t({targetUri:o,intent:"delete-folder",type:"click",itemIdSuffix:"delete"}),n(o),l(),null!==(e=(0,f.EC)(o))&&void 0!==e&&e.toURLPath().endsWith(r.pathname)&&i("/collection/playlists",{replace:!0}),s&&s())}),[o,t,n,l,r.pathname,s,i]);return(0,dl.jsx)($k.Q,{"aria-label":v.ag.get("folder.delete-header"),titleText:v.ag.get("folder.delete-header"),onConfirm:c,onClose:l,confirmText:v.ag.get("contextmenu.delete"),confirmLabel:v.ag.get("folder.delete-header"),cancelText:v.ag.get("queue.cancel-button")})})),ty={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ny=/[&<>"']/g,iy=RegExp(ny.source);var ry=Object.values(ty);RegExp("".concat(ry.join("|")),"g"),RegExp("".concat(ry.join("|")));n(77618);var ay=(0,ll.memo)((function(){var e,t=(0,lc.s0)(),n=(0,lc.TH)(),r=(0,nl.I0)(),a=(0,cu.o)(),o=(0,nl.v9)((function(e){return e.ui.deletePlaylistDialog.uri})),s=(0,Nf.Z)(o),l=(0,i.Z)(s,2)[1],c=(0,bm.ET)(o),u=(0,Au.W6)(ys.yA),d=(0,ll.useCallback)((function(){a({targetUri:o,intent:"delete-playlist",type:"click",itemIdSuffix:"delete"}),l(!1),r((0,el.me)()),(0,f.U4)(o,n.pathname)&&t(u?"/":"/collection/playlists",{replace:!0})}),[a,o,l,r,n.pathname,u,t]),p=(0,ll.useCallback)((function(){r((0,el.me)())}),[r]);return c&&(0,dl.jsx)($k.Q,{"aria-label":v.ag.get("playlist.delete",c.name),titleText:v.ag.get("playlist.delete-title",c.name),descriptionText:v.ag.get("playlist.delete-description",(e=c.name,e&&iy.test(e)?e.replace(ny,(function(e){return e in ty?ty[e]:e})):e)),onConfirm:d,onClose:p,confirmText:v.ag.get("contextmenu.delete"),confirmLabel:v.ag.get("playlist.delete",c.name),cancelText:v.ag.get("queue.cancel-button"),allowHTML:!0})})),oy=n(43714),sy=n(19281),ly=n(7543),cy=n(93041),uy=n(45649);const dy="fFoN1cMJLIJo0k_vgNyw",py="Lk23rM5uSl5mgEXroOPH",my="yJ2Sz652eyijqIrRrwpJ",fy="ZPVxrOnQOQc_5KDCNgcI",vy="f14LfcDx_wvogzdXzoq9",gy="QMMTQfEw3AIHFf4dTRp3",hy="Hj1B5D7WgG4aZkU8meAp",ky="nPKDEvIoCzySBR24pZiN",yy="dqP_KBPyAygbxKtY3k3w";var by=function(e){var t,n=e.setOuterContainer,r=e.npbVideoAdRef,a=(0,nl.I0)(),o=(0,bl.Y)((function(e){var t;return null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),s=(0,Re.k6)(o)&&null!==(t=o.url)&&void 0!==t?t:void 0,l=(0,nl.v9)((function(e){var t,n;return null==e||null===(t=e.ads)||void 0===t||null===(n=t.vto)||void 0===n?void 0:n.isMinimized})),c=(0,Au.W6)(ys.JI),u=(0,ll.useRef)(),d=(0,lc.TH)();(0,ll.useEffect)((function(){u.current?a((0,ly.ir)()):u.current=!0}),[a,d.pathname]);var p=(0,ll.useState)(null),m=(0,i.Z)(p,2),f=m[0],g=m[1];return(0,ll.useEffect)((function(){return a((0,ly.Zc)()),function(){a((0,ly.w9)())}}),[a]),(0,ll.useEffect)((function(){l?(c&&a((0,cy.Bl)(Zh.B.npv)),setTimeout((function(){null!==f&&n(r.current)}),sy.K)):null!==f&&n(f)}),[a,n,r,l,f,c]),(0,dl.jsx)(tf.Z,{className:hy,animation:{overlay:{base:gy,beforeClose:yy,afterOpen:ky},closeTimeoutMs:sy.u},isOpen:!l,parentSelector:function(){return document.querySelector(".Root__modal-slot")},shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:v.ag.get("ad-formats.advertisement"),children:(0,dl.jsxs)("div",{className:dy,children:[(0,dl.jsxs)("div",{className:my,children:[(0,dl.jsx)(au.D,{semanticColor:"textBase",variant:"mestoBold",className:fy,children:v.ag.get("ad-formats.advertisement")}),(0,dl.jsx)("button",{"aria-label":v.ag.get("ad-formats.dismissAd"),className:vy,onClick:function(){a((0,ly.w9)()),a((0,ly.kh)(uy.W9.COLLAPSED)),c&&a((0,cy.Bl)(Zh.B.npv))},children:(0,dl.jsx)(Nv.k,{semanticColor:"textBase",iconSize:16})})]}),(0,dl.jsx)("a",{"":"video-takeover-link",href:s?(0,oy.p)(s):void 0,onClick:function(){a((0,ly.kh)(uy.W9.CLICKED,"video_takeover"))},ref:function(e){return g(e)},className:py})]})})},Sy=function(e){var t=e.setOuterContainer,n=e.npbVideoAdRef;return(0,nl.v9)((function(e){var t,n;return null==e||null===(t=e.ads)||void 0===t||null===(n=t.vto)||void 0===n?void 0:n.isHidden}))?null:(0,dl.jsx)(by,{setOuterContainer:t,npbVideoAdRef:n})};var xy=function(e){var t,n=(t=(0,ll.useState)((function(){var e=document.createElement("div");return e.classList.add("VideoPlayer__container"),e})),(0,i.Z)(t,1)[0]);if((0,ll.useLayoutEffect)((function(){null!==e&&null!==n&&e.insertBefore(n,e.firstChild)}),[e,n]),n&&n.firstChild instanceof HTMLVideoElement){var r=n.firstChild;return"".concat(r.videoWidth,"/").concat(r.videoHeight)}return"16/9"},Oy=function(){var e=(0,nl.v9)(Hh),t=(0,ll.useRef)(Zh.B.mini);return(0,ll.useEffect)((function(){e!==Zh.B.mini&&e!==Zh.B.cinema&&e!==Zh.B.npv&&e!==Zh.B.pip||(t.current=e)}),[e]),t};function wy(e,t){(0,ll.useLayoutEffect)((function(){t.current&&e(t.current)}),[t,e])}var Ny=n(58134),_y=n(93867),Ey=n(16053);function Cy(){var e=(0,ll.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=(0,ll.useRef)(null),o=(0,Cu.y1)((function(){a.current&&clearTimeout(a.current),a.current=setTimeout((function(){r(!1)}),1500),r(!0)}),100,{maxWait:100,leading:!0}),s=(0,ll.useCallback)((function(e){r(e),o.cancel()}),[o]);return(0,ll.useEffect)((function(){return function(){a.current&&clearTimeout(a.current)}}),[]),{isControlsVisible:n,setIsControlsVisible:s,handleKeepViewVisible:o}}var Py=n(95572),Iy=Yt.d.PICTURE_IN_PICTURE_CHANGED;const jy="fuONPgUcYO2bf15HunlX";var Ay=function(e){var t=e.noBackground,n=e.iconSize,r=void 0===n?16:n,a=function(){var e=sm(),t=(0,nl.I0)(),n=(0,Uh.m)(),r=(0,nl.v9)(Hh)===Zh.B.pip,a=(0,ll.useState)(r),o=(0,i.Z)(a,2),s=o[0],l=o[1];return(0,ll.useEffect)((function(){var t=e.getEvents(),n=function(e){var t=e.data;return l(t)};return t.addListener(Iy,n),function(){t.removeListener(Iy,n)}}),[e,l]),(0,ll.useEffect)((function(){var t,n;l(null!==(t=null===(n=e.getPictureInPictureState)||void 0===n?void 0:n.call(e))&&void 0!==t&&t)}),[e]),{isPipMode:s,setPipMode:function(){s?n===Mh.s.NowPlayingView?t((0,cy.Bl)(Zh.B.npv)):t((0,cy.Bl)(Zh.B.mini)):t((0,cy.Bl)(Zh.B.pip))}}}(),o=a.isPipMode,s=a.setPipMode;return(0,bl.Y)(Ch.CM)?(0,dl.jsx)("div",{className:Tc()((0,P.Z)({},jy,o)),children:(0,dl.jsx)(Lh,{noBackground:t,active:o,label:o?v.ag.get("video-player.default-view"):v.ag.get("npb_pip_web_player"),onClick:function(){Eh()&&_h(),s()},children:(0,dl.jsx)(Dc.$,{iconSize:r})})}):null};const Ty="aHe1QDDI5hmYWAKf4MoR",Dy="QOt96NwplKPuFi9evhHq";var Ry=function(e){var t=e.visible,n=e.className,i=(0,nl.I0)(),r=Ck(),a=sm(),o=(0,ll.useContext)(Ph),s=(0,nl.v9)(Hh)===Zh.B.mini,l=(0,nl.v9)((function(e){return e.platform.isDesktop})),c=a.getCapabilities().hasPipSupport;return(0,dl.jsxs)("div",{className:Tc()(Ty,n,(0,P.Z)({},Dy,t)),children:[(0,dl.jsx)(ek,{renderInline:!0}),(0,dl.jsx)(Wh,{}),l&&c&&(0,dl.jsx)(Ay,{}),r&&(0,dl.jsx)(Lh,{label:v.ag.get("npv.full-screen"),onClick:function(){null!=o&&o.current&&(Nh(o.current),i((0,el.OC)()))},children:(0,dl.jsx)(Py.i,{iconSize:16})}),s&&(0,dl.jsx)(Lh,{label:v.ag.get("close_button_action"),onClick:function(){i((0,Bh.mO)(!0))},children:(0,dl.jsx)(Nv.k,{iconSize:16})})]})};const Fy="kJKEEG391Pf_PLzwG2Vm",Ly="gVnOoWHXwLnTNK2RRIKg";var My=function(e){var t=e.cinemaModeRef,n=e.setVideoContainer,i=e.hiddenByUser,r=(0,ll.useRef)(null),a=(0,Ny.Oh)().nowPlayingBarRef,o=(0,nl.I0)(),s=(0,Au.W6)(ys.JI),c=(0,Ey.o)().setTransientForcedExpandedState;wy(n,r);var u=Cy(),d=u.isControlsVisible,p=u.handleKeepViewVisible,m=(0,Uh.m)();return(0,ll.useEffect)((function(){var e=function(e){"Escape"===e.key&&(s&&m===Mh.s.NowPlayingView?o((0,Bh.Bl)(Zh.B.npv)):o((0,Bh.Bl)(Zh.B.mini)))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[o,s,m]),(0,ll.useEffect)((function(){return c(_y.NowPlayingCoverStateEnum.collapsed),function(){c(_y.NowPlayingCoverStateEnum.none)}}),[c]),t.current?a.current?l.createPortal((0,dl.jsxs)("div",{ref:r,hidden:i,className:Fy,onMouseMove:p,onFocus:p,"":"video-player-cinema",children:[(0,dl.jsx)(tk.i,{containerElements:[t.current,a.current],active:!i}),(0,dl.jsx)(Ry,{visible:d,className:Ly})]}),t.current):(console.error("No ref found for nowPlayingBar!"),null):(console.error("No container found for cinema video!"),null)},Uy=ll.memo((function(e){var t=e.setVideoContainer,n=e.fullscreenModeRef,i=(0,ll.useRef)(null);return wy(t,i),n.current?l.createPortal((0,dl.jsx)("div",{"":"video-player-fullscreen",className:Tc()("VideoFullscreenMode"),children:(0,dl.jsx)("div",{className:"VideoFullscreenMode__video-container",ref:i})}),n.current):(console.error("No container found for fullscreen video!"),null)}));const Zy="432px",By="0px",Vy="0px",Hy="IHJo1TDFzY4mDw_ny8RQ";var Gy=n(87164),Wy=function(e){return e.TOP_RIGHT="TOP_RIGHT",e.TOP_LEFT="TOP_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e}({});function zy(e){var t=e.videoContainerRef,n=e.corner,r=e.aspectRatio;if(t.current){var a=r.split("/"),o=(0,i.Z)(a,2),s=o[0],l=o[1],c=parseInt(s,10)/parseInt(l,10),u=function(e){var i=t.current;if(i){var r=getComputedStyle(i,null),a=parseInt(r.width,10),o=parseInt(r.height,10),s=parseInt(r.top,10),l=parseInt(r.right,10),u=parseInt(r.bottom,10),d=parseInt(r.left,10),p=e.movementX,m=e.movementY,f=a,v=Math.abs(p)>Math.abs(m),g=p<0,h=m<0,k=!g,y=!h;switch(n){case Wy.TOP_LEFT:if((s<=Bt.K1||d<=0)&&(h||g))return;f=v?a-p:(o-m)*c;break;case Wy.TOP_RIGHT:if((s<=Bt.K1||l<=0)&&(h||k))return;f=v?a+p:(o-m)*c;break;case Wy.BOTTOM_RIGHT:if((u<=0||l<=0)&&(y||k))return;f=v?a+p:(o+m)*c;break;case Wy.BOTTOM_LEFT:if((u<=0||d<=0)&&(y||g))return;f=v?a-p:(o+m)*c;break;default:(0,Me.U)(n)}i.style.setProperty("--video-player-mini-width","".concat(f,"px"))}};!function(e,t){var n=t.current;if(n){var i=getComputedStyle(n),r=i.top,a=i.right,o=i.bottom,s=i.left;e===Wy.BOTTOM_LEFT?(n.style.bottom="revert",n.style.left="revert",n.style.top=r,n.style.right=a):e===Wy.TOP_RIGHT?(n.style.top="revert",n.style.right="revert",n.style.bottom=o,n.style.left=s):e===Wy.BOTTOM_RIGHT&&(n.style.bottom="revert",n.style.right="revert",n.style.top=r,n.style.left=s)}}(n,t),document.addEventListener("mousemove",u),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",u),function(e){var t=e.current;if(t){var n=getComputedStyle(t),i=n.right,r=n.bottom,a=n.width,o=n.height;t.style.setProperty("--video-player-mini-bottom",r),t.style.setProperty("--video-player-mini-right",i),t.style.setProperty("--video-player-mini-width",a),t.style.setProperty("--video-player-mini-height",o),t.style.removeProperty("top"),t.style.removeProperty("right"),t.style.removeProperty("bottom"),t.style.removeProperty("left")}}(t)}),{once:!0})}}const Ky="ayK5x4g3ziBv1HBvVN4A",Yy="JsQlADdGP1mmaYQBRjAs",qy="RLkiXgkY1CMOMIqvBXHz",Qy="kxAklKmg1SJCkvHHZ_Hh",Jy="C25ijUb1EHOyPteh9a8K";var Xy=function(e){var t,n,i=e.corner,r=e.aspectRatio,a=e.videoContainerRef;return(0,dl.jsx)("div",{className:Tc()(Ky,(t={},(0,P.Z)(t,Yy,i===Wy.TOP_LEFT),(0,P.Z)(t,qy,i===Wy.TOP_RIGHT),(0,P.Z)(t,Jy,i===Wy.BOTTOM_RIGHT),(0,P.Z)(t,Qy,i===Wy.BOTTOM_LEFT),t)),"":"CORNER_".concat(i),onMouseDown:(n=i,function(e){a.current&&(e.stopPropagation(),e.preventDefault(),zy({aspectRatio:r,videoContainerRef:a,corner:n}))})})};var $y=function(e){var t=e.hiddenByUser,n=e.setVideoContainer,i=e.savedPosition,r=e.setSavedPosition,a=e.aspectRatio,o=(0,ll.useRef)(null),s=(0,ll.useContext)(Gy.VX).scrollNodeRef;wy(n,o),function(e){var t=e.videoContainerRef,n=e.savedPosition,i=e.setSavedPosition,r=(0,ll.useRef)(n);(0,ll.useLayoutEffect)((function(){var e=t.current;if(e){var n=function(t,n){return e.style.setProperty(t,"".concat(n,"px"))},a=r.current,o=a.width,s=a.right,l=a.bottom;return n("--video-player-mini-width",o),n("--video-player-mini-right",s),n("--video-player-mini-bottom",l),function(){var t=getComputedStyle(e,null),n=function(e){return parseInt(t.getPropertyValue(e),10)};i({width:n("--video-player-mini-width"),right:n("--video-player-mini-right"),bottom:n("--video-player-mini-bottom")})}}}),[i,t])}({videoContainerRef:o,savedPosition:i,setSavedPosition:r});var l=Cy(),c=l.isControlsVisible,u=l.setIsControlsVisible,d=l.handleKeepViewVisible;return(0,dl.jsxs)("div",{ref:o,hidden:t,className:Hy,onMouseLeave:function(){u(!1)},onMouseDown:function(e){o.current&&s.current&&(e.stopPropagation(),e.preventDefault(),function(e){var t=e.videoContainerRef,n=e.scrollNodeRef,i=e.mouseDownX,r=e.mouseDownY;if(t.current&&n.current){var a=t.current.getBoundingClientRect(),o=n.current.getBoundingClientRect(),s=a.right-i,l=a.bottom-r;t.current.style.setProperty("--video-player-mini-width","".concat(a.width,"px")),t.current.style.setProperty("--video-player-mini-height","".concat(a.height,"px"));var c=function(e){if(t.current){var n=e.clientX,i=e.clientY,r=o.right-n-s,c=o.bottom-i-l;r=Math.min(Math.max(0,r),o.width-a.width),c=Math.min(Math.max(0,c),o.height-a.height-Bt.K1),t.current.style.setProperty("--video-player-mini-right","".concat(r,"px")),t.current.style.setProperty("--video-player-mini-bottom","".concat(c,"px"))}};document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",c)}),{once:!0})}}({scrollNodeRef:s,videoContainerRef:o,mouseDownX:e.clientX,mouseDownY:e.clientY}))},onMouseMove:d,onFocus:d,"":"video-player-mini",children:[(0,dl.jsx)(Xy,{corner:Wy.TOP_LEFT,videoContainerRef:o,aspectRatio:a}),(0,dl.jsx)(Xy,{corner:Wy.TOP_RIGHT,videoContainerRef:o,aspectRatio:a}),(0,dl.jsx)(Xy,{corner:Wy.BOTTOM_RIGHT,videoContainerRef:o,aspectRatio:a}),(0,dl.jsx)(Xy,{corner:Wy.BOTTOM_LEFT,videoContainerRef:o,aspectRatio:a}),(0,dl.jsx)(Ry,{visible:c})]})},eb=n(51238),tb=function(e){var t=e.visible,n=e.className,i=(0,nl.I0)();return(0,dl.jsx)("div",{className:Tc()(Ty,n,(0,P.Z)({},Dy,t)),children:(0,dl.jsx)(Lh,{label:v.ag.get("npv.full-screen"),onClick:function(e){e.stopPropagation(),e.preventDefault(),i((0,ly.Zc)()),i((0,ly.kh)(uy.W9.EXPANDED))},children:(0,dl.jsx)(Py.i,{iconSize:16})})})};const nb="ouiL5cH1WduxtprQ0Iig";var ib=function(e){var t,n=e.setVideoContainer,i=e.isPlayingAd,r=void 0!==i&&i,a=(0,ll.useRef)(null),o=(0,ll.useContext)(Gy.VX).scrollNodeRef,s=(0,nl.I0)(),c=(0,bl.Y)((function(e){var t;return null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),u=(0,Re.k6)(c)&&null!==(t=c.url)&&void 0!==t?t:void 0;wy(n,a);var d=(0,ll.useRef)(!0);(0,ll.useEffect)((function(){return d.current=!0,function(){d.current=!1}}));var p=Cy(),m=p.isControlsVisible,f=p.setIsControlsVisible,v=p.handleKeepViewVisible,g=document.getElementById("VideoPlayerNpv_ReactPortal");return null===g?null:l.createPortal((0,dl.jsx)("div",{ref:a,hidden:!1,className:nb,style:{position:"relative"},onMouseLeave:function(){f(!1)},onMouseDown:function(e){a.current&&o.current&&(e.stopPropagation(),e.preventDefault())},onMouseMove:v,onFocus:v,"":"video-player-npv",children:r?(0,dl.jsx)("a",{href:u,onClick:function(){s((0,eb.nX)("video_player_npv"))},"":"video-player-ad-wrapper",children:(0,dl.jsx)(tb,{visible:m})}):(0,dl.jsx)(Ry,{visible:m})}),g)},rb=function(e){var t=e.setVideoContainer,n=(0,ll.useRef)(null);return wy(t,n),(0,dl.jsx)("div",{ref:n,style:{display:"none"}})};const ab=function(e){var t=e.npbVideoAdRef,n=e.cinemaModeRef,r=e.fullscreenModeRef,a=(0,nl.I0)(),o=(0,ll.useRef)(),s=(0,ll.useRef)(),l=(0,ll.useState)(null),c=(0,i.Z)(l,2),u=c[0],d=c[1],p=(0,Au.W6)(ys.JI),m=(0,ll.useState)({width:parseInt(Zy,10),bottom:parseInt(Vy,10),right:parseInt(By,10)}),f=(0,i.Z)(m,2),v=f[0],g=f[1],h=(0,nl.v9)((function(e){return e.platform.isDesktop})),k=(0,bl.Y)((function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return{isPlayingVideo:(0,Ch.CM)(e),isPlayingAd:(0,Re.k6)(n),contextUri:null==e?void 0:e.context.uri,playbackId:null==e?void 0:e.playbackId}})),y=k.isPlayingVideo,b=k.isPlayingAd,S=k.contextUri,x=k.playbackId,O=(0,nl.v9)((function(e){var t,n;return null==e||null===(t=e.ads)||void 0===t||null===(n=t.vto)||void 0===n?void 0:n.isMinimized})),w=(0,nl.v9)(Hh),N=(0,nl.v9)(Vh),_=xy(u),E=w===Zh.B.pip;if(function(){var e=(0,nl.I0)(),t=(0,bl.Y)(Ch.CM),n=(0,yl.O)().connectionStatus,i=n===on.TK.CONNECTED||n===on.TK.CONNECTING,r=Oy();(0,ll.useEffect)((function(){t&&!i?Eh()?e((0,Bh.Bl)(Zh.B.fullscreen)):e((0,Bh.Bl)(r.current)):e((0,Bh.Bl)(Zh.B.none))}),[t,i,e,r])}(),function(){var e=(0,nl.I0)(),t=(0,bl.Y)(Ch.CM),n=Oy();(0,ll.useEffect)((function(){var i=function(){t&&(Eh()?e((0,Bh.Bl)(Zh.B.fullscreen)):e((0,Bh.Bl)(n.current)))};return window.addEventListener("fullscreenchange",i),window.addEventListener("webkitfullscreenchange",i),function(){window.removeEventListener("fullscreenchange",i),window.removeEventListener("webkitfullscreenchange",i)}}),[e,t,n])}(),y&&b&&s.current!==x&&(a((0,ly.Zc)()),s.current=x),(0,ll.useEffect)((function(){y&&o.current!==S&&(a((0,Bh.mO)(!1)),o.current=S)}),[a,S,y]),h&&y&&b&&!E&&(p&&!O||!p))return(0,dl.jsx)(Sy,{npbVideoAdRef:t,setOuterContainer:d});var C=p&&E;if(w===Zh.B.npv||C)return(0,dl.jsx)(il.L,{children:(0,dl.jsx)(ib,{isPlayingAd:b,setVideoContainer:d})});var P=!p&&E;return w===Zh.B.mini&&y||P?(0,dl.jsx)(il.L,{children:(0,dl.jsx)($y,{savedPosition:v,setSavedPosition:g,aspectRatio:_,hiddenByUser:N,setVideoContainer:d})}):w===Zh.B.cinema?(0,dl.jsx)(il.L,{children:(0,dl.jsx)(My,{hiddenByUser:N,cinemaModeRef:n,setVideoContainer:d})}):w===Zh.B.fullscreen?(0,dl.jsx)(il.L,{children:(0,dl.jsx)(Uy,{fullscreenModeRef:r,setVideoContainer:d})}):(0,dl.jsx)(rb,{setVideoContainer:d})};var ob=n(4417),sb=n.n(ob),lb=n(49823);const cb={NotificationBubble:"main-notificationBubble-NotificationBubble",isError:"main-notificationBubble-isError",isNotice:"main-notificationBubble-isNotice",horizontal:"main-notificationBubble-horizontal",isClickable:"main-notificationBubble-isClickable",enter:"main-notificationBubble-enter",enterActive:"main-notificationBubble-enterActive",exit:"main-notificationBubble-exit",exitActive:"main-notificationBubble-exitActive",withPointer:"main-notificationBubble-withPointer",withTopRightPointer:"main-notificationBubble-withTopRightPointer",withTopLeftPointer:"main-notificationBubble-withTopLeftPointer",withSidePointer:"main-notificationBubble-withSidePointer",isCloseable:"main-notificationBubble-isCloseable",closeIcon:"main-notificationBubble-closeIcon"};var ub=function(e){var t,n=e.children,i=e.isHidden,r=e.isClickable,a=e.withPointer,o=e.withTopLeftPointer,s=e.withTopRightPointer,l=e.withSidePointer,c=e.horizontal,u=e.maxWidth,d=e.feedbackType,p=void 0===d?$m.nY.NOTICE:d;return(0,dl.jsx)(lb.Z,{in:!i,classNames:cb,timeout:500,unmountOnExit:!0,children:(0,dl.jsx)("div",{className:Tc()(cb.NotificationBubble,(t={},(0,P.Z)(t,cb.isClickable,r),(0,P.Z)(t,cb.withPointer,a),(0,P.Z)(t,cb.withTopLeftPointer,o),(0,P.Z)(t,cb.withTopRightPointer,s),(0,P.Z)(t,cb.withSidePointer,l),(0,P.Z)(t,cb.horizontal,c),(0,P.Z)(t,cb.isError,p===$m.nY.ERROR),(0,P.Z)(t,cb.isNotice,p===$m.nY.NOTICE),t)),style:{maxWidth:u?"".concat(u,"px"):""},role:"alert","aria-live":"polite",children:n})})};const db="main-notificationBubbleContainer-NotificationBubbleContainer";var pb=function(){var e=(0,nl.v9)((function(e){return e.feedbackBubble})),t=e.message,n=e.feedbackType,i=e.isHidden,r=/<[a-z][\s\S]*>/i.test(t);return(0,dl.jsx)("div",{className:db,children:(0,dl.jsx)(ub,{isHidden:i,feedbackType:n,children:r?sb()(t,{transform:{b:function(e){return(0,dl.jsx)(au.D,{variant:"balladBold",semanticColor:"textBase",children:e.children})}}}):t})})};function mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var fb=function(e){(0,Q.Z)(n,e);var t=mb(n);function n(){return(0,E.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"handleRequestClose",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.closeModal;return(0,dl.jsx)(zl.w,{headingMessage:v.ag.get("offline-error.device-limit-reached.header"),message:v.ag.get("offline-error.device-limit-reached.message"),buttonLabel:v.ag.get("close"),isOpen:t,onDismissDialog:n})}}]),n}(ll.PureComponent);const vb=(0,nl.$j)((function(e){return{isOpen:e.ui.offlineDeviceLimitReachedDialog.isOpen}}),(function(e){return{closeModal:function(){return e((0,el.$1)())}}}))(fb);function gb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var hb=function(e){(0,Q.Z)(n,e);var t=gb(n);function n(e){var i;return(0,E.Z)(this,n),(i=t.call(this,e)).handleRequestClose=i.handleRequestClose.bind((0,Pr.Z)(i)),i.browserName=me().getParser(window.navigator.userAgent).getBrowserName(),i}return(0,C.Z)(n,[{key:"handleRequestClose",value:function(){this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.closeModal;return(0,dl.jsx)(zl.w,{headingMessage:v.ag.get("fatal-error.header"),onDismissDialog:n,buttonLabel:v.ag.get("close"),message:v.ag.get("browser_upgrade_notice",this.browserName),isOpen:t})}}]),n}(ll.PureComponent);const kb=(0,nl.$j)((function(e){return{isOpen:e.ui.playbackNotSupportedErrorDialog.isOpen}}),(function(e){return{closeModal:function(){return e((0,el.PL)())}}}))(hb);var yb=n(33390);const bb="CMgJZD0JMx_Yz1tlE7hd";n(74893);var Sb=n(75897);const xb="SVnAziPF2z_cgAGrp6He",Ob="miG_SXrw265mkozdEHrJ",wb="RWLySPhsOTyK2EsAGUgx",Nb="X_vuuyeQDD6IWI4aIE6k",_b="VdyeU78LKQdX8Dclnfxr",Eb="Z12I3N4OnNvzRSNKOeUn",Cb="IDHZCFcj1ynmYu6Sm5SR",Pb="UmY163JiUcgJt2MKNyGW",Ib="SYKOtPBDhPSs6zGwbk6A";var jb,Ab=n(45883),Tb=(jb={},(0,P.Z)(jb,Ab.Uo.XSMALL,Eb),(0,P.Z)(jb,Ab.Uo.SMALL,Eb),(0,P.Z)(jb,Ab.Uo.MEDIUM,Cb),(0,P.Z)(jb,Ab.Uo.LARGE,Pb),(0,P.Z)(jb,Ab.Uo.XLARGE,Pb),jb),Db=function(e){var t,n,i=e.image,r=e.title,a=e.description,o=e.primaryButton,s=e.secondaryButton,l=e.renderExtraInfo,c=e.style,u=e.className,d=e.size,p=void 0===d?Ab.Uo.SMALL:d,m="string"==typeof r?(0,dl.jsx)("h2",{className:wb,children:r}):(0,dl.jsx)("div",{className:wb,children:r});return a&&(t="string"==typeof a?(0,dl.jsx)("p",{className:Nb,children:a}):(0,dl.jsx)("div",{className:Nb,children:a})),s&&(n=(0,dl.jsx)("div",{className:Ib,children:s})),(0,dl.jsxs)("div",{className:Tc()("".concat(xb," ").concat(Tb[p]),u),style:c,"":"dialog-root",children:[i&&(0,dl.jsx)("div",{className:_b,children:(0,dl.jsx)(Sb.E,{loading:"lazy",src:i})}),(0,dl.jsxs)("div",{className:Ob,children:[m,t,o,n,l&&l()]})]})},Rb=n(94320),Fb=function(e){return e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD",e}(Fb||{}),Lb=(0,ll.memo)((function(e){var t=e.image,n=e.mediaType,i=e.backgroundColor,r=e.onSignupClick,a=e.onLoginClick,o=e.onDownloadClick,s=e.downloadLink,l=function(e){return function(t){switch(t.preventDefault(),e){case Fb.DOWNLOAD:o&&o(),window.open(s,"_top","noopener");break;case Fb.SIGNUP:r&&r(),(0,Ms.L6)();break;case Fb.LOGIN:a&&a(),(0,Ms.h$)()}}},c="audio"===n?v.ag.get("fta.wall.start-listening"):v.ag.get("fta.wall.start-watching"),u=(0,dl.jsx)(Hm.D,{onClick:l(Fb.SIGNUP),children:v.ag.get("mwp.cta.sign.up.free")}),d=s?(0,dl.jsx)(Rb.P,{"":"upsell-download-app-button",onClick:l(Fb.DOWNLOAD),children:v.ag.get("mwp.cta.download.app")}):void 0,p=(0,Ab.jh)();return(0,dl.jsx)(Db,{image:t,title:c,primaryButton:u,secondaryButton:d,size:p,style:i?{backgroundColor:i}:{},renderExtraInfo:function(){return(0,dl.jsxs)("p",{className:bb,onKeyDown:function(){return l(Fb.LOGIN)},role:"presentation",children:[(0,dl.jsx)(au.D,{as:"span",variant:"mesto",children:v.ag.get("already_have_account")}),(0,dl.jsx)(au.D,{as:"a",href:"#",onClick:l(Fb.LOGIN),children:v.ag.get("login")})]})}})})),Mb=n(55388);const Ub="anllJYN1jeYGGE1iAJUJ",Zb="YQRQdqiQ_iT0eo0owsJL",Bb="ftlV6Ixmq4wkKMg7hJ1v";var Vb,Hb=(Vb={},(0,P.Z)(Vb,Ab.Uo.SMALL,0),(0,P.Z)(Vb,Ab.Uo.MEDIUM,600),(0,P.Z)(Vb,Ab.Uo.LARGE,1024),Vb),Gb=function(e){var t,n=e.image,i=e.mediaType,r=e.backgroundColor,a=e.onClose,o=(0,cu.o)(),s=function(e){return function(){o({intent:e,type:"click"})}},l=(0,Ab.Db)(Hb),c=l.ref,u=l.breakpoint;return(0,ll.useEffect)((function(){var e=function(e){"Escape"===e.key&&(a(),o({intent:"close-upsell",type:"key-escape"}))};return o({intent:"open-upsell",type:"impression"}),window.addEventListener("keyup",e,!1),function(){return window.removeEventListener("keyup",e)}}),[o,a]),(0,dl.jsx)(Ab.ZU.Provider,{value:u,children:(0,dl.jsx)("div",{className:"dialog ".concat(Bb),role:"presentation",ref:c,onClick:function(e){/dialog/.test(e.target.className)&&(o({intent:"close-upsell",type:"click",itemIdSuffix:"backdrop"}),a())},children:(0,dl.jsxs)("div",{className:Ub,style:{backgroundColor:r},children:[(0,dl.jsx)(Lb,{image:n,mediaType:i,onDownloadClick:s("download-app"),onLoginClick:s("login"),onSignupClick:s("signup"),downloadLink:(t=(0,Mb.IM)(),t.searchParams.set("referrer","dwp"),t).toString()}),(0,dl.jsx)("div",{className:Zb,children:(0,dl.jsx)(Jm.o,{onClick:function(){o({intent:"close-upsell",type:"click",itemIdSuffix:"close-button"}),a()},children:v.ag.get("close")})})]})})})},Wb=ll.memo((function(e){var t=e.uri,n=(0,nl.I0)(),r=(0,ku.g)("images/focused_stroy_play.png"),a=(0,yb.p)(t,"#9BF0E1",r),o=(0,i.Z)(a,2),s=o[0],l=o[1];return(0,dl.jsx)(Yh.ZP,{value:"signup-modal",children:(0,dl.jsx)(Gb,{image:s,mediaType:(0,f.RS)(null!=t?t:"")?"mixed":"audio",onClose:function(){n((0,el.dE)())},backgroundColor:l})})})),zb=(n(18819),function(e){var t=e.className;return(0,dl.jsxs)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:[(0,dl.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",fill:"#E22134",rx:"7.467"}),(0,dl.jsx)("path",{fill:"#fff",d:"M6.143 12V4.437h-1.28c-.15.79-.907 1.387-1.995 1.419v1.003h1.813V12h1.462zm5.092-5.13c0 .82-.65 1.343-1.386 1.343-.758 0-1.387-.512-1.387-1.344 0-.81.64-1.333 1.387-1.333.736 0 1.386.533 1.386 1.333zm-4 4.874c.384.245 1.12.416 1.75.416 2.56 0 3.893-1.61 3.893-4.341 0-2.4-1.397-3.542-2.997-3.542-1.611 0-2.859 1.088-2.859 2.635 0 1.59 1.227 2.539 2.603 2.539.853 0 1.514-.363 1.802-.843-.074 1.397-.96 2.261-2.453 2.261-.512 0-1.067-.16-1.355-.32l-.384 1.195z"}),(0,dl.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",stroke:"#fff",strokeWidth:"1.067",rx:"7.467"})]})});function Kb(e,t,n,i){if(n<=0||i<=0||i>1)return{height:-1,width:-1,parentHeight:e,parentWidth:t};var r=e*t,a=1/i*n,o=Math.sqrt(r/a);return{height:o,width:o*n,parentHeight:e,parentWidth:t}}const Yb="dzS9k6yn4XzF3jWcS3W2",qb="ezHLQVkVclgu_n15ybG6",Qb="gQ3lUcmizympex29IHL7",Jb="VDUUJg30Ewzy9OP54arn";var Xb,$b;function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nS=(Xb={},(0,P.Z)(Xb,Ab.Uo.SMALL,1),(0,P.Z)(Xb,Ab.Uo.MEDIUM,.72),(0,P.Z)(Xb,Ab.Uo.LARGE,1.82),Xb),iS=($b={},(0,P.Z)($b,Ab.Uo.SMALL,0),(0,P.Z)($b,Ab.Uo.MEDIUM,600),(0,P.Z)($b,Ab.Uo.LARGE,1024),$b),rS=function(e){var t=e.image,n=e.onConfirm,r=e.backgroundColor,a=function(e){return Object.keys(iS).reverse().find((function(t){return e>=iS[t]?t:null}))}(window.innerWidth),o=function(e,t){var n=(0,ll.useState)((function(){return Kb(window.innerHeight,window.innerWidth,e,t)})),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,ll.useRef)(),l=(0,ll.useCallback)((function(){o(Kb(window.innerHeight,window.innerWidth,e,t))}),[e,t]);return(0,ll.useEffect)((function(){return s.current||(o(Kb(window.innerHeight,window.innerWidth,e,t)),window.addEventListener("resize",l),s.current=!0),function(){s.current&&(o(Kb(window.innerHeight,window.innerWidth,e,t)),window.removeEventListener("resize",l),s.current=!1)}}),[e,t,l]),a}(nS[a],.3333333333333333),s=r?{backgroundColor:r}:{},l=function(e,t,n,i){return e===Ab.Uo.SMALL?{width:"100vw",height:"100vh"}:e===Ab.Uo.MEDIUM&&i<750||e===Ab.Uo.LARGE&&i<520?{width:"inherit",height:"inherit"}:{width:"".concat(Math.ceil(t),"px"),height:"".concat(Math.ceil(n),"px")}}(a,o.width,o.height,o.parentHeight),c=(0,dl.jsxs)("span",{children:[(0,dl.jsx)("span",{className:qb,children:v.ag.get("age.restriction.explicitContent")}),(0,dl.jsx)(zb,{className:Qb})]}),u=(0,dl.jsx)(Hm.D,{colorSet:"invertedLight",onClick:n,children:v.ag.get("age.restriction.continue")});return(0,dl.jsx)(Db,{className:Tc()(Yb,(0,P.Z)({},Jb,1===nS[a])),style:tS(tS({},l),s),image:t,title:v.ag.get("age.restriction.confirmAge"),description:c,primaryButton:u,size:a})},aS=n(4783);const oS="J2uBhFKAVeDnSUb6Diq_",sS="dlCbZFZLaxVOGbVUleiV";var lS=function(){var e=(0,nl.I0)(),t=(0,nl.v9)((function(e){var t=e.ageRestriction;return{image:"",backgroundColor:t.dialog.backgroundColor,providerUrl:t.dialog.providerUrl}})),n=t.image,i=t.backgroundColor,r=t.providerUrl;return(0,dl.jsxs)("div",{className:oS,children:[(0,dl.jsx)(rS,{image:n,onConfirm:function(){window.location.assign(r)},backgroundColor:i}),(0,dl.jsx)("div",{className:sS,children:(0,dl.jsx)(Jm.o,{onClick:function(){e((0,aS.QN)())},children:v.ag.get("close")})})]})},cS=function(){var e=(0,nl.I0)(),t=(0,nl.v9)((function(e){return e.ageRestriction.isOpen}));return(0,dl.jsx)(tf.Z,{animated:!0,onRequestClose:function(){e((0,aS.QN)())},contentLabel:v.ag.get("age.restriction.confirmAge"),isOpen:t,children:(0,dl.jsx)(lS,{})})},uS=n(23621);const dS="main-duplicateTrackModal-container",pS="main-duplicateTrackModal-title",mS="main-duplicateTrackModal-description",fS="main-duplicateTrackModal-buttonContainer";function vS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vS(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hS=(0,ll.memo)((function(){var e,t=(0,nl.I0)(),n=(0,ll.useContext)(bm.ZF),i=(0,nl.v9)((function(e){var t=e.duplicateTracks,n=!!t.uri;return gS(gS({},t),{},{onlyOneTrack:n,uris:n&&t.uri?[t.uri]:t.uris})})),r=i.isOpen,a=i.playlistName,o=i.playlistUri,s=i.uris,l=void 0===s?[]:s,c=i.onlyOneTrack,u=i.position,d=void 0===u?{after:"end"}:u,p=i.newUris,m=void 0===p?[]:p,f=null==m?void 0:m.length,g=!c&&f,h=(0,ll.useCallback)((function(){g&&n.add(o,m,d),t((0,uS.o8)())}),[n,g,m,d,o,t]),k=(0,ll.useCallback)((function(){n.add(o,l,d),t((0,uS.o8)())}),[n,l,d,o,t]),y=(0,ll.useCallback)((function(){t((0,uS.o8)())}),[t]);return e=g?v.ag.get("duplicate.tracks.someAlreadyAddedDescription",a):c?v.ag.get("duplicate.tracks.oneAlreadyAdded",a):v.ag.get("duplicate.tracks.allAlreadyAdded",a),(0,dl.jsx)(tf.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:y,contentLabel:v.ag.get("duplicate.tracks.alreadyAdded"),isOpen:r,children:(0,dl.jsxs)("div",{className:dS,children:[(0,dl.jsx)(au.D,{as:"h2",variant:"cello",className:pS,children:g?v.ag.get("duplicate.tracks.someAlreadyAdded"):v.ag.get("duplicate.tracks.alreadyAdded")}),(0,dl.jsx)(au.D,{as:"p",variant:"mesto",className:mS,paddingBottom:Qm.g4V,children:e}),(0,dl.jsxs)("div",{className:Tc()("encore-light-theme",fS),children:[(0,dl.jsx)(Jm.o,{onClick:k,children:g?v.ag.get("duplicate.tracks.addAll"):v.ag.get("duplicate.tracks.addAnyway")}),(0,dl.jsx)(Hm.D,{onClick:h,children:g?v.ag.get("duplicate.tracks.addNewOnes"):v.ag.get("duplicate.tracks.dontAdd")})]})]})})})),kS=n(30299),yS=function(e){var t=e.children;return(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(kS.b,{children:t})})},bS=n(7944);const SS="WuHfzknUICVJtLZJU_30",xS="FL2TkYu6_lxeXmfUTwx4",OS="Q63kq6vgG3LPQAi93zXP",wS="BLcZj2U0cGry7c3uk5qQ",NS="wCeOtCjqvDK0rflTnpuK",_S="dz7vC5O_M9gcvqxCqOnc",ES="zqGag8YfKcWwtZEqvghN";function CS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}var PS=function(e){(0,Q.Z)(n,e);var t=CS(n);function n(){var e;(0,E.Z)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r)),(0,P.Z)((0,Pr.Z)(e),"handleEscape",(function(t){var n=t.key,i=e.props.onClose;"Escape"===n&&i()})),(0,P.Z)((0,Pr.Z)(e),"handleClick",(function(e){e.preventDefault(),window.location.reload(!0)})),(0,P.Z)((0,Pr.Z)(e),"createMarkupForMessage",(function(e){return{__html:e}})),e}return(0,C.Z)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleEscape)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleEscape)}},{key:"render",value:function(){var e,t=this.props,n=t.allowHTML,i=t.isError,r=t.message,a=t.onClose,o=t.render,s=o?o():r;return(0,dl.jsx)(bS.Z,{children:(null!==r||null!==o)&&(0,dl.jsx)(lb.Z,{classNames:"feedbackBar-animation",timeout:{enter:250,exit:200},children:(0,dl.jsxs)("div",{className:Tc()(SS,(e={},(0,P.Z)(e,xS,this.props.isError),(0,P.Z)(e,wS,this.props.isNotice),(0,P.Z)(e,OS,this.props.isNotSupported),(0,P.Z)(e,NS,this.props.isCookie),e)),"aria-live":"polite",children:[(0,dl.jsxs)("div",{className:_S,children:[n?(0,dl.jsx)("span",{dangerouslySetInnerHTML:this.createMarkupForMessage(r)}):s," ",i&&(0,dl.jsx)("a",{draggable:!1,className:ES,"aria-label":v.ag.get("error.reload"),onClick:this.handleClick,children:v.ag.get("error.reload")})]}),(0,dl.jsx)(Jm.o,{buttonSize:"sm",iconOnly:Nv.k,onClick:a,"aria-label":"Close",semanticColor:"textBase"})]})})})}}]),n}(ll.PureComponent);(0,P.Z)(PS,"defaultProps",{render:null});const IS=PS,jS="ABD0FGjBGqGZG33bP7Lc",AS="iV_SwHyMafiGlMDhlcB5",TS="gMEKhUL8rKx7DhSDUVk7",DS="Z0v7BXnINL5FxFXjQIzE";var RS=ll.memo((function(e){var t,n=e.playlistUri,r=(0,nl.I0)(),a=(0,lc.s0)(),o=(0,cu.o)(),s=(0,Nf.Z)(n),l=(0,i.Z)(s,2),c=l[0],u=l[1],d=(0,nl.v9)(ef.Gg).user,p=(0,bm.ET)(n),m=(0,bm.Yv)(n).removeMember,f=null==p||null===(t=p.permissions)||void 0===t?void 0:t.isPrivate,g=null==p?void 0:p.canAdd,h=(0,ll.useCallback)((function(){null!=d&&d.id&&(o({intent:"playlisting",type:"click"}),c&&f&&u(!1),m(null==d?void 0:d.id),r((0,el.mm)()),a("/collection/playlists"))}),[null==d?void 0:d.id,o,c,f,m,r,a,u]),k=(0,ll.useCallback)((function(){r((0,el.mm)())}),[r]),y=v.ag.get("leave-playlist.dialog.leave"),b=v.ag.get("leave-playlist.dialog.private-description");return f||(b=g?v.ag.get("leave-playlist.dialog.public-contributor-description"):v.ag.get("leave-playlist.dialog.public-listener-description")),(0,dl.jsx)(tf.Z,{animated:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:k,contentLabel:y,isOpen:!0,children:(0,dl.jsxs)("div",{className:jS,children:[(0,dl.jsx)(au.D,{as:"h2",variant:"cello",className:AS,children:v.ag.get("leave-playlist.dialog.title")}),(0,dl.jsx)(au.D,{as:"p",variant:"mesto",className:TS,paddingBottom:Qm.g4V,children:b}),(0,dl.jsxs)("div",{className:Tc()("encore-light-theme",DS),children:[(0,dl.jsx)(Jm.o,{onClick:k,children:v.ag.get("leave-playlist.dialog.cancel")}),(0,dl.jsx)(Hm.D,{onClick:h,children:y})]})]})})})),FS=ll.memo((function(){var e=(0,nl.v9)((function(e){return e.ui.leavePlaylistDialog})),t=e.isOpen,n=e.playlistUri;return n&&t?(0,dl.jsx)(RS,{playlistUri:n}):null})),LS=n(58077);function MS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var US=function(e){return(0,dl.jsx)("img",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MS(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({alt:"Zara Larsson",src:(0,ku.g)("images/zara-larsson-singles.png")},e))},ZS=n(38185),BS=function(e){var t=e.color,n=void 0===t?ZS.Snx:t,i=e.height,r=void 0===i?"30":i,a=e.className;return(0,dl.jsxs)("svg",{className:a,width:"114",role:"img",height:r,viewBox:"0 0 114 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,dl.jsx)("title",{id:"spotify-premium-logo-icon",children:"Spotify logo"}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.7835 10.7851C37.7835 10.6921 37.86 10.6156 37.9545 10.6156L40.1039 10.6246C41.8485 10.6246 42.849 11.4421 42.849 12.9076C42.849 14.2486 41.745 15.1501 40.1039 15.1501L37.9545 15.1411C37.86 15.1411 37.7835 15.0646 37.7835 14.9701V10.7851ZM40.296 8.11502L35.232 8.10602C35.1375 8.10602 35.061 8.18252 35.061 8.27552V21.8085C35.061 21.903 35.1375 21.9795 35.232 21.9795H37.614C37.707 21.9795 37.7835 21.903 37.7835 21.8085V17.631L40.026 17.64C43.4175 17.64 45.6105 15.759 45.6105 12.81C45.6105 9.95852 43.524 8.11502 40.296 8.11502Z",fill:n}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.4025 13.4759C59.9115 13.4759 60.6195 14.6519 60.7964 15.8174H55.956C56.217 14.3879 57.1605 13.4759 58.4025 13.4759ZM58.4218 11.217C55.4805 11.217 53.262 13.5765 53.262 16.704V16.743C53.262 19.911 55.5375 22.2105 58.6725 22.2105C60.264 22.2105 61.599 21.6705 62.6473 20.604C62.718 20.5305 62.8723 20.355 62.9775 20.2335C63.039 20.163 63.0315 20.058 62.961 19.995L61.5795 18.7695C61.5165 18.714 61.4235 18.714 61.362 18.7695C61.212 18.9075 60.957 19.14 60.93 19.161C60.24 19.7115 59.553 19.953 58.7115 19.953C57.2985 19.953 56.268 19.098 55.98 17.7075H63.4305L63.4485 17.4975C63.4663 17.28 63.4831 17.079 63.4831 16.878C63.4831 14.061 61.9185 11.217 58.4218 11.217Z",fill:n}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M76.7895 11.217C75.414 11.217 74.289 11.76 73.3575 12.876C72.7245 11.8035 71.6474 11.217 70.296 11.217C68.8529 11.217 67.968 11.9145 67.356 12.645V11.5995C67.356 11.5065 67.2795 11.43 67.1865 11.43H64.8435C64.749 11.43 64.6724 11.5065 64.6724 11.5995V21.8085C64.6724 21.903 64.749 21.9795 64.8435 21.9795H67.1865C67.2795 21.9795 67.356 21.903 67.356 21.8085V16.0665C67.356 14.622 68.1465 13.6875 69.3675 13.6875C70.5719 13.6875 71.2635 14.5275 71.2635 15.99V21.8085C71.2635 21.903 71.34 21.9795 71.433 21.9795H73.776C73.8705 21.9795 73.9469 21.903 73.9469 21.8085V16.047C73.9469 14.5695 74.6985 13.6875 75.9585 13.6875C77.5245 13.6875 77.8529 14.9505 77.8529 16.0095V21.8085C77.8529 21.903 77.9295 21.9795 78.024 21.9795H80.367C80.4615 21.9795 80.5365 21.903 80.5365 21.8085V15.294C80.5365 12.741 79.1355 11.217 76.7895 11.217Z",fill:n}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.0376 17.361C93.0376 18.795 92.2021 19.7205 90.9106 19.7205C89.6131 19.7205 88.8991 18.897 88.8991 17.4V11.5995C88.8991 11.5065 88.8226 11.43 88.7279 11.43H86.3849C86.2921 11.43 86.2156 11.5065 86.2156 11.5995V18.096C86.2156 20.622 87.6736 22.191 90.0211 22.191C91.2421 22.191 92.2321 21.7155 93.0376 20.7405V21.8085C93.0376 21.903 93.1141 21.9795 93.2071 21.9795H95.5501C95.6446 21.9795 95.7211 21.903 95.7211 21.8085V11.5995C95.7211 11.5065 95.6446 11.43 95.5501 11.43H93.2071C93.1141 11.43 93.0376 11.5065 93.0376 11.5995V17.361Z",fill:n}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M109.308 11.217C107.934 11.217 106.808 11.76 105.876 12.876C105.243 11.8035 104.166 11.217 102.815 11.217C101.373 11.217 100.487 11.9145 99.876 12.6435V11.5995C99.876 11.5065 99.7995 11.43 99.705 11.43H97.362C97.269 11.43 97.1925 11.5065 97.1925 11.5995V21.8085C97.1925 21.903 97.269 21.9795 97.362 21.9795H99.705C99.7995 21.9795 99.876 21.903 99.876 21.8085V16.0665C99.876 14.622 100.665 13.6875 101.888 13.6875C103.092 13.6875 103.782 14.5275 103.782 15.99V21.8085C103.782 21.903 103.859 21.9795 103.953 21.9795H106.296C106.389 21.9795 106.466 21.903 106.466 21.8085V16.047C106.466 14.5695 107.217 13.6875 108.477 13.6875C110.045 13.6875 110.373 14.9505 110.373 16.0095V21.8085C110.373 21.903 110.45 21.9795 110.543 21.9795H112.886C112.98 21.9795 113.057 21.903 113.057 21.8085V15.294C113.057 12.741 111.656 11.217 109.308 11.217Z",fill:n}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.7354 11.232H52.4204C51.0464 11.2425 49.9229 11.919 49.1909 13.167V11.5995C49.1909 11.5065 49.1144 11.43 49.0199 11.43H46.6769C46.5824 11.43 46.5074 11.5065 46.5074 11.5995V21.8085C46.5074 21.903 46.5824 21.9795 46.6769 21.9795H49.0199C49.1144 21.9795 49.1909 21.903 49.1909 21.8085V17.922C49.1909 15.5085 50.3533 14.106 52.3859 14.0565L52.3889 14.055H52.7354C52.8119 14.055 52.8734 13.9935 52.8734 13.9155V11.3715C52.8734 11.295 52.8119 11.232 52.7354 11.232Z",fill:n}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.5339 11.4975H82.2195C82.1265 11.4975 82.05 11.574 82.05 11.667V21.768C82.05 21.8625 82.1265 21.9375 82.2195 21.9375H84.5339C84.6285 21.9375 84.7035 21.8625 84.7035 21.768V11.667C84.7035 11.574 84.6285 11.4975 84.5339 11.4975Z",fill:n}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.388 6.8985C82.4715 6.8985 81.7275 7.641 81.7275 8.5575C81.7275 9.4755 82.4715 10.2195 83.388 10.2195C84.306 10.2195 85.0485 9.4755 85.0485 8.5575C85.0485 7.641 84.306 6.8985 83.388 6.8985Z",fill:n}),(0,dl.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8725 13.2975C19.038 10.4265 11.0625 10.1625 6.44685 11.5635C5.7045 11.7885 4.9215 11.37 4.6965 10.629C4.4715 9.88648 4.89 9.10348 5.6325 8.87848C10.9305 7.26898 19.7385 7.58098 25.305 10.884C25.9723 11.28 26.19 12.141 25.7955 12.807C25.3995 13.473 24.5385 13.6935 23.8725 13.2975ZM23.715 17.55C23.376 18.1005 22.656 18.273 22.1055 17.9355C18.075 15.4575 11.9279 14.7405 7.15953 16.188C6.54003 16.374 5.88753 16.026 5.70003 15.408C5.51253 14.79 5.86203 14.1375 6.48003 13.95C11.9279 12.297 18.7005 13.098 23.3295 15.9435C23.88 16.281 24.0525 17.001 23.715 17.55ZM21.8789 21.6345C21.609 22.077 21.0345 22.215 20.5935 21.9465C17.0715 19.794 12.6375 19.3065 7.41602 20.5005C6.91352 20.616 6.41102 20.2995 6.29702 19.797C6.18152 19.293 6.49502 18.792 7.00052 18.678C12.714 17.3715 17.6159 17.934 21.5685 20.349C22.0095 20.619 22.149 21.195 21.8789 21.6345ZM15 0C6.7155 0 0 6.7155 0 15C0 23.2845 6.7155 30 15 30C23.2845 30 30 23.2845 30 15C30 6.7155 23.2845 0 15 0Z",fill:n})]})};const VS="m7yI2BjDd8Jfq4bwU_IT",HS="A0uXWh53dpxhad3t59v_",GS="jN93nx_3NxRM0qYmOmjB",WS="x_mFp6qsLw0AgSON4gdy",zS="aS3WvPBqyZdP1S28pn6r",KS="FvaVPD0bBm4QOZEKRYOm",YS="nRjGqzP1Yyg9utpJtFEG",qS="lljaf1wMpxMQY1AVr1sf",QS="Mhj98HFd0jXE916R2Ggz",JS="TicfIwifH276e2046RzG",XS="ONMHZOOfFwfCPGr5rKNp",$S="ZQ94gWpWwDhhvQ7bRv9S",ex="DNkhD0rW2qSWeBj4HBIZ";var tx=ll.memo((function(){var e=(0,nl.I0)(),t=(0,nl.v9)((function(e){return e.ui.loginToListenDialog.isOpen})),n=(0,cu.o)();n({intent:"navigate",type:"view"});var i=(0,ll.useCallback)((function(){n({intent:"close",type:"click"}),e((0,el.pW)())}),[e,n]),r=(0,ll.useCallback)((function(t){n({intent:"upgrade-to-premium",type:"click"}),e((0,el.pW)()),t?window.open(As.Np,"_blank"):window.open(As.li,"_blank")}),[e,n]);return(0,dl.jsx)(LS.F,{property:ys.jL,renderOldExperience:function(){return(0,dl.jsx)(tf.Z,{animated:!0,isOpen:t,className:YS,overlayClassName:qS,contentLabel:v.ag.get("mwp.d2p.modal.title"),onRequestClose:i,children:(0,dl.jsxs)("div",{className:VS,children:[(0,dl.jsx)("div",{className:KS,children:(0,dl.jsx)(US,{className:HS})}),(0,dl.jsxs)("div",{className:"".concat(KS),children:[(0,dl.jsx)("div",{className:GS,children:(0,dl.jsx)(BS,{color:"var(--spice-text)",height:"23"})}),(0,dl.jsx)(au.D,{as:"h1",variant:"alto",children:v.ag.get("mwp.d2p.modal.title")}),(0,dl.jsx)(au.D,{as:"p",variant:"ballad",children:v.ag.get("mwp.d2p.modal.description")}),(0,dl.jsx)(Hm.D,{onClick:r.bind(null,!0),className:"".concat(WS),children:v.ag.get("mwp.d2p.modal.cta")}),(0,dl.jsx)(Jm.o,{onClick:i,className:"".concat(WS," ").concat(zS),children:v.ag.get("mwp.d2p.modal.dismiss")})]})]})})},renderNewExperience:function(){return(0,dl.jsx)(tf.Z,{animated:!0,isOpen:t,className:YS,overlayClassName:qS,contentLabel:v.ag.get("mwp.d2p.modal.title"),onRequestClose:i,children:(0,dl.jsxs)("div",{className:"".concat(VS," ").concat(QS),children:[(0,dl.jsx)("div",{className:"".concat(KS," ").concat(ex),children:(0,dl.jsx)("img",{alt:v.ag.get("midyear.cta"),src:(0,ku.g)("images/mid-year.png")})}),(0,dl.jsxs)("div",{className:"".concat(KS),children:[(0,dl.jsx)(au.D,{as:"h1",variant:"alto",children:v.ag.get("midyear.title")}),(0,dl.jsx)(au.D,{as:"p",variant:"ballad",children:v.ag.get("midyear.intro")}),(0,dl.jsx)(Hm.D,{onClick:r,className:"".concat(WS," ").concat(JS),children:v.ag.get("midyear.cta")}),(0,dl.jsx)(Jm.o,{onClick:i,className:"".concat(WS," ").concat(zS," ").concat(XS),children:v.ag.get("mwp.d2p.modal.dismiss")}),(0,dl.jsx)(au.D,{as:"p",className:$S,variant:"finale",dangerouslySetInnerHTML:{__html:v.ag.get("midyear.terms",{help_link:"https://www.spotify.com/legal/premium-promotional-offer-terms/"})}})]})]})})}})})),nx=ll.memo((function(){return(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(tx,{})})})),ix=n(1017);const rx="dz_h98rH9nZCwfPdnKgr",ax="rAfV2jB_HMM9Xtr0Rqvn",ox="XkXPpDRWozMF6G8_GlLQ";var sx=ll.memo((function(e){var t=e.handleClick,n=(0,nl.v9)(ix.C7),i=v.ag.get("pta.bottom-bar.title"),r=v.ag.get("fta.bottom-bar.subtitle"),a=v.ag.get("fta.sign-up-free");return(0,dl.jsxs)("div",{className:rx,onClick:t,"":"signup-bar",children:[(0,dl.jsxs)("div",{className:ax,children:[(0,dl.jsx)(au.D,{as:"p",variant:"minuet",children:i}),(0,dl.jsx)(au.D,{as:"p",variant:"ballad",dangerouslySetInnerHTML:{__html:n?v.ag.get("fta.bottom-bar.subtitle-two"):r}})]}),(0,dl.jsx)(Hm.D,{colorSet:"invertedLight",onClick:t,className:ox,children:n?v.ag.get("mwp.d2p.modal.cta"):a})]})})),lx=n(68554);const cx="main-connectBar-connectBar",ux="main-connectBar-connected",dx="main-connectBar-connecting",px="XNFGOt0d88FSLb1T2WIQ";var mx=ll.memo((function(e){var t,n=e.status,i=e.deviceName,r=e.deviceType,a=(0,lx.p0)(r,n),o=n===on.TK.CONNECTED?v.ag.get("web-player.connect.bar.connected-state",{device_name:i}):v.ag.get("web-player.connect.bar.connecting-state",{device_name:i}),s=(t={"encore-bright-accent-set":n===on.TK.CONNECTED},(0,P.Z)(t,ux,n===on.TK.CONNECTED),(0,P.Z)(t,dx,n===on.TK.CONNECTING),t);return(0,dl.jsx)("div",{children:(0,dl.jsxs)(au.D,{as:"div",variant:"mesto",className:Tc()(cx,s),"aria-live":"polite",children:[(0,dl.jsx)(a,{iconSize:16,className:px,role:"presentation"}),o]})})}));var fx=n(710),vx=n(94622),gx=function(e){var t=e.className,n=void 0===t?"":t,i=e.disabledClassName,a=void 0===i?"":i,s=e.onClick,l=Ck(),c=(0,ll.useContext)(Ph),u=(0,bl.Y)((function(e){var t;return null!==(t=null==e?void 0:e.hasContext)&&void 0!==t&&t})),d=(0,nl.I0)(),p=!u,m=(0,ll.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=c&&c.current){e.next=2;break}return e.abrupt("return");case 2:null==s||s(!0),d((0,el.OC)()),Nh(c.current);case 5:case"end":return e.stop()}}),e)}))),[d,c,s]),f=Tc()(n,(0,P.Z)({},a,p));return l?(0,dl.jsx)(Ru.w,{label:v.ag.get("npv.full-screen"),children:(0,dl.jsx)("button",{onClick:m,className:f,"aria-label":v.ag.get("npv.full-screen"),title:v.ag.get("npv.full-screen"),disabled:p,"":"fullscreen-mode-button",children:(0,dl.jsx)(Py.i,{iconSize:16})})}):null},hx=(0,ll.memo)(gx),kx=n(27021),yx=n(67e3);function bx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t},n=(0,um.D)(),r=(0,ll.useState)((function(){var t,i=null!==(t=n.getState())&&void 0!==t?t:yl.$;return e(i)})),a=(0,i.Z)(r,2),o=a[0],s=a[1];return(0,yx.l)(an.F.UPDATE,(function(n){var i,r=null!==(i=n.data)&&void 0!==i?i:yl.$,a=e(r);t(o,a)||s(a)})),o}var Sx=n(97323),xx=n(83311),Ox=n(32701),wx=n(66346);const Nx="oS5b2oKYN9E28TQ0vzh7",_x="hnNnS6kEPDJtQfUOzSN7";var Ex=function(e){var t=e.onClose,n=e.onMouseEnter,i=e.onMouseLeave,r=e.message,a=(0,vu.fU)(wx.createDesktopConnectNudgeEventFactory,{}),o=a.spec,s=a.logger,l=o.connectFromDevicePickerNudgeFactory(),c=(0,vu.Wi)(l);return(0,dl.jsxs)("div",{className:Nx,onMouseEnter:n,onMouseLeave:i,ref:c,onClick:function(){s.logInteraction(l.hitNoAction())},children:[(0,dl.jsx)(au.D,{id:"nudgeBody",as:"p",variant:"ballad",semanticColor:"textBase",children:r}),(0,dl.jsx)(Jm.o,{iconOnly:Nv.k,buttonSize:"sm",semanticColor:"textBase",onClick:function(e){e.stopPropagation(),s.logInteraction(l.closeButtonFactory().hitUiHide()),t()},"aria-label":v.ag.get("close"),className:_x})]})},Cx=n(65071),Px=function(e){return!(null==e||!e.devices.length)&&e.devices.some((function(e){return e.isLocalNetwork&&!e.isDisabled&&function(e){switch(e.type){case on.Yi.AUDIO_DONGLE:case on.Yi.AVR:case on.Yi.CAST_AUDIO:case on.Yi.CAST_VIDEO:case on.Yi.GAME_CONSOLE:case on.Yi.SPEAKER:case on.Yi.STB:case on.Yi.TV:return!0;default:return!1}}(e)}))},Ix=new Date(0).toISOString(),jx=["shift+alt+f10"],Ax=function(e){var t=(0,ll.useRef)(),n=(0,ll.useRef)(!1),a=(0,nl.oR)(),s=(0,uu.g)(),l=(0,um.D)(),c=(0,Kc.z)("connect-nudge-triggered-at",Ix),u=(0,i.Z)(c,2),d=u[0],p=u[1];(0,Cx.x)(jx,(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.getState(),t.platform.isDeveloperMode&&((n=new Date).setHours(n.getHours()-8),p(n.toISOString()));case 2:case"end":return e.stop()}}),e)}))));var m=(0,ll.useCallback)((function(){var e=a.getState(),t=s.getState(),n=l.getState(),i=new Date(d);i.setHours(i.getHours()+8);var r,o,c,u,p,m,f,v=i<=new Date;return document.hasFocus()&&function(e){return(null==e?void 0:e.connectionStatus)===on.TK.NOT_CONNECTED}(n)&&!(0,Ch.CM)(t)&&Px(n)&&(p=(r=e).ui,m=r.ads,f=r.feedbackBubble,!(p.blockUserDialog.isOpen||p.connectDevicePicker.isOpen||p.deleteFolderDialog.isOpen||p.deletePlaylistDialog.isOpen||p.fullscreenMode.isOpen||p.improvedSignupPromptDialog.isOpen||p.keyboardShortcutsHelpModal.isOpen||p.leavePlaylistDialog.isOpen||p.loginToListenDialog.isOpen||p.offlineDeviceLimitReachedDialog.isOpen||p.playbackNotSupportedErrorDialog.isOpen||p.premiumDialog.isOpen||p.signupToListenDialog.isOpen||p.connectNudge.isOpen||!0===(null===(o=m.billboard)||void 0===o?void 0:o.isOpen)&&!m.billboard.isMinimized||!1===(null===(c=m.vto)||void 0===c?void 0:c.isHidden)&&!1===(null===(u=m.vto)||void 0===u?void 0:u.isMinimized)||!f.isHidden))&&v}),[a,s,l,d]),f=(0,ll.useCallback)((function(){if(m()){var t=(new Date).toISOString();p(t),e()}}),[e,m,p]),v=(0,ll.useCallback)((function(e){e.data.action===Fe.zr.PLAY?t.current=e.data.context.uri:e.data.action===Fe.zr.RESUME&&(n.current=!0)}),[]);(0,ql.G)(Fe.rg.ACTION,v);var g=(0,ll.useCallback)((function(e){var i;"string"==typeof t.current&&(0,Ch.QL)(e.data,t.current)===Re.PO.PLAYING?(t.current=void 0,f()):n.current&&!1===(null===(i=e.data)||void 0===i?void 0:i.isPaused)&&(n.current=!1,f())}),[f]);(0,ql.G)(Fe.rg.UPDATE,g)},Tx=function(e){var t=(0,ll.useRef)(),n=(0,ll.useRef)(!1),i=(0,ll.useRef)(!1),r=(0,nl.I0)(),a=(0,ll.useCallback)((function(){i.current&&clearTimeout(t.current),r((0,el.IA)())}),[r]),o=(0,ll.useCallback)((function(){i.current=!1,n.current||a()}),[a]),s=(0,ll.useCallback)((function(){var n;t.current=window.setTimeout(o,(n=e,Math.min(Math.max(200*n.length,4e3),1e4))),r((0,el.Io)()),i.current=!0}),[r,e,o]),l=(0,ll.useCallback)((function(e){n.current=e,e||i.current||a()}),[a]);return(0,ll.useMemo)((function(){return{hideNudge:a,showNudge:s,setShouldKeepShowingNudge:l}}),[a,s,l])},Dx=function(e){var t=e.children,n=e.triggerRef,i=(0,Au.W6)(ys.qX),r=v.ag.get("web-player.connect.nudge.listen-to-speaker"),a=(0,nl.v9)((function(e){var t=e.ui;return{isNudgeVisible:t.connectNudge.isOpen,isDevicePickerOpen:t.connectDevicePicker.isOpen}})),o=a.isNudgeVisible,s=a.isDevicePickerOpen,l=(0,Tu.s4)(),c=Tx(r),u=c.showNudge,d=c.hideNudge,p=c.setShouldKeepShowingNudge,m=(0,ll.useCallback)((function(){l.send((0,xx.U)({nudge_was_shown:i})),i&&u()}),[l,u,i]);return Ax(m),(0,ll.useEffect)((function(){s&&d()}),[s,d]),(0,dl.jsx)(Ox.x,{placement:"top",visible:o,overlay:(0,dl.jsx)(Ex,{onClose:d,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},message:r}),childRef:n,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,padding:24,tether:!1}}]},onHide:function(){},fadeOut:!0,useLazyMounting:!0,children:t})};const Rx="main-devicePicker-controlButton",Fx="main-devicePicker-button",Lx="main-devicePicker-indicator",Mx="main-devicePicker-connecting",Ux="main-devicePicker-connected",Zx="main-devicePicker-connectingIcon";var Bx="device-picker-icon-button",Vx=(0,ll.forwardRef)((function(e,t){var n,i=e.isPickerOpen,r=e.onClick,a=e.onLogInteraction,o=(0,ll.useRef)(null),s=(0,vu.fU)(Sx.createDesktopConnectDevicePickerBtnEventFactory,{}),l=s.spec,c=s.logger,u=(0,nl.v9)((function(e){return e.ui.connectNudge.isOpen})),d=bx((function(e){return e.connectionStatus})),p=bx((function(e){return e.connectionStatus===on.TK.CONNECTING?e.connectingDevice:e.connectionStatus===on.TK.CONNECTED?e.activeDevice:void 0})),m=(0,lx.z$)(null==p?void 0:p.type,null==p?void 0:p.isGroup),f=(n={"encore-bright-accent-set":d===on.TK.CONNECTED},(0,P.Z)(n,Ux,d===on.TK.CONNECTED),(0,P.Z)(n,Mx,d===on.TK.CONNECTING),n);return(0,dl.jsx)(Dx,{triggerRef:o,children:(0,dl.jsx)(Ru.w,{label:v.ag.get("playback-control.connect-picker"),disabled:i||u,children:(0,dl.jsxs)("div",{className:Fx,ref:o,children:[(0,dl.jsx)("div",{className:Tc()(Lx,f)}),(0,dl.jsx)("button",{className:Tc()("control-button",{"control-button--active":d===on.TK.CONNECTED},Rx),onClick:function(e){var t=c.logInteraction(function(e,t,n){var i;return i=t===on.TK.CONNECTING?e.connectingButtonFactory():t===on.TK.CONNECTED?e.connectedButtonFactory():e.notConnectedButtonFactory(),n?i.hitUiHide():i.hitUiReveal()}(l,d,i)),n=t.interactionId;null==a||a(n),null==r||r(e)},ref:t,"aria-label":v.ag.get("playback-control.connect-picker"),"aria-expanded":i,id:Bx,children:(0,dl.jsx)(m,{className:Tc()((0,P.Z)({},Zx,d===on.TK.CONNECTING)),iconSize:16,role:"presentation"})})]})})})}));function Hx(e){return window.cast&&e!==window.cast.framework.CastState.NO_DEVICES_AVAILABLE}var Gx=function(){var e=(0,Il.qT)();(0,ll.useEffect)((function(){var t=function(t){"Escape"===t.key&&e({type:"close"})};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e])},Wx=n(84619),zx=n(92755),Kx=n(41848),Yx=n(18713),qx=n(3643),Qx=function(e){return e instanceof Wx.D.ContainerViewEventFactory.DeviceListEventFactory.RemoteDeviceEventFactory||e instanceof Wx.D.ContainerViewEventFactory.DeviceListEventFactory.DisabledDeviceEventFactory||e instanceof Wx.D.ContainerViewEventFactory.OffNetworkDeviceListEventFactory.RemoteDeviceEventFactory||e instanceof Wx.D.ContainerViewEventFactory.OffNetworkDeviceListEventFactory.DisabledDeviceEventFactory||e instanceof Wx.D.ContainerViewEventFactory.OnNetworkDeviceListEventFactory.RemoteDeviceEventFactory},Jx=(0,ll.createContext)({rowWithMenuOpenIdentifier:null,setRowWithMenuOpenIdentifier:function(){}}),Xx=function(e){var t=e.children,n=(0,ll.useState)(null),r=(0,i.Z)(n,2),a=r[0],o=r[1];return(0,dl.jsx)(Jx.Provider,{value:{rowWithMenuOpenIdentifier:a,setRowWithMenuOpenIdentifier:o},children:t})},$x=n(56075),eO=n(92788),tO=n(57683),nO=n(70058),iO=n(89597),rO=n(37440);const aO="main-devicePicker-moreButton",oO="zhMeyG5OMnE0jnMyORbf";var sO=function(e){var t=e.deviceId,n=e.connectStateDeviceId,i=e.allowForgetDevice,r=e.incarnation,a=(0,um.D)(),o=(0,vu.$P)(),s=(0,vu.fU)(rO.createDesktopConnectContextMenuEventFactory,{}).spec,l=(0,vu.Wi)(s),c=s.forgetDeviceButtonFactory(),u=(0,vu.Wi)(c),d=s.deviceIncarnationContainerFactory(),p=(0,vu.Wi)(d);return i||r?(0,dl.jsx)("span",{ref:l,className:oO,children:(0,dl.jsxs)(Jd.v,{children:[i&&(0,dl.jsx)($d.s,{role:"menuitem",leadingIcon:(0,dl.jsx)(nO.H,{iconSize:16}),onClick:function(){o.logInteraction(c.hitLogoutFromRemoteDevice({remoteDeviceId:n})),a.logout(t)},elementRef:u,children:v.ag.get("web-player.connect.context-menu.forget-device")}),r&&(0,dl.jsxs)("div",{ref:p,children:[(0,dl.jsx)(Xd.F,{children:v.ag.get("web-player.connect.context-menu.incarnation-title")}),r.available.map((function(e){var i=function(e){switch(e){case"connect":return{icon:(0,dl.jsx)(eO.W,{iconSize:16}),text:v.ag.get("web-player.connect.context-menu.incarnation-connect")};case"cast":return{icon:(0,dl.jsx)(tO.O,{iconSize:16}),text:v.ag.get("web-player.connect.context-menu.incarnation-cast")};default:return{}}}(e),s=i.icon,l=i.text;return(0,dl.jsx)($d.s,{role:"menuitemradio",leadingIcon:s,onClick:function(){var i;switch(e){case"cast":i=d.googleCastButtonFactory();break;case"connect":i=d.spotifyConnectButtonFactory()}r.preferred!==e?(i&&o.logInteraction(i.hitChangeRemoteDeviceIncarnation({remoteDeviceId:n})),a.setPreferredIncarnation(t,e)):i&&o.logInteraction(i.hitNoAction())},"aria-checked":r.preferred===e,CheckedIcon:iO.N,children:l},e)}))]})]})}):null},lO=function(e){var t=e.title,n=e.deviceId,r=e.connectStateDeviceId,a=e.allowForgetDevice,o=e.incarnation,s=e.className,l=e.onHide,c=e.onShow,u=e.spec,d=(0,ll.useState)(!1),p=(0,i.Z)(d,2),m=p[0],f=p[1],g=u.contextMenuButtonFactory({identifier:r}),h=(0,vu.$P)(),k=(0,vu.Wi)(g);return(0,dl.jsx)(md.yj,{renderInline:!0,menu:(0,dl.jsx)(vu.Nh,{spec:g,children:(0,dl.jsx)(sO,{deviceId:n,connectStateDeviceId:r,allowForgetDevice:a,incarnation:o})}),onShow:function(){f(!0),null==c||c()},onHide:function(){f(!1),null==l||l()},offset:[0,-8],children:(0,dl.jsx)($x.z,{ref:k,size:$x.q.xs,label:v.ag.get("more.label.context",t),className:Tc()(aO,s),onClick:function(){h.logInteraction(m?g.hitUiHide():g.hitUiReveal())}})})};const cO="main-devicePicker-tooltip",uO="main-devicePicker-tooltipContent",dO="NY718ElwUbdZDytyiOBX",pO="main-devicePicker-sectionWrapper",mO="bzmsYhq8qXerwAFF0AUJ",fO="ErSD7TARZzk270zuVjoi",vO="bSVIjPzgLuQbllliZ_AH",gO="lO__l5r92n_Ypx9wHL2i",hO="_3sSheG_prEUSigJ05sSB",kO="main-devicePicker-devices",yO="main-devicePicker-connectBarVisible",bO="main-devicePicker-menuOpen",SO="VqUjiYOlfxlk_lFOusZ7",xO="main-devicePicker-devicesList",OO="main-devicePicker-section",wO="main-devicePicker-heading",NO="main-devicePicker-sectionHeading",_O="main-devicePicker-devicesHeading",EO="main-devicePicker-devicesOtherNetworksHeading",CO="main-devicePicker-header",PO="main-devicePicker-headingAction",IO="hcuLp8V4uEEfWZ4k6aLV",jO="_k3JjF2rHwdYfSPZH09S",AO="main-devicePicker-nowPlayingActiveIcon",TO="MNgY3fBEKs4U6SbZD2lo",DO="main-devicePicker-headingContent",RO="main-devicePicker-headingConnected",FO="main-devicePicker-headingTitle",LO="main-devicePicker-headingSubtitle",MO="main-devicePicker-headingTechIcon",UO="mRU5_ANCjbwEWMpQZAKI",ZO="_TOFVR3NTBR51N6BHDth",BO="main-devicePicker-troubleshootingList",VO="main-devicePicker-troubleshooting",HO="main-devicePicker-troubleshootingItemIcon",GO="main-devicePicker-troubleshootingItemSubtitle",WO="rsaJ_PD5Wsx9a9H2IyV_",zO="uBthvyMcAxMlCFFpafAJ",KO="gjcW3C9lFUaizYicV2Ky",YO="d03rm63o9oNz4ePSJqcJ",qO="iLv0NHO4Fxyuc1rTBI1Z";var QO=function(e){var t=e.customClassName;return(0,dl.jsxs)("svg",{width:"29",height:"16",viewBox:"0 0 29 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,dl.jsx)("title",{children:"HiFi"}),(0,dl.jsx)("rect",{width:"29",height:"16",rx:"2",className:gO}),(0,dl.jsx)("path",{d:"M11.882 11.5V4.7645H10.3715V7.4055H7.683V4.7645H6.182V11.5H7.683V8.821H10.3715V11.5H11.882ZM14.6918 11.5V6.7785H13.2478V11.5H14.6918ZM13.1243 5.3345C13.1243 5.8 13.5043 6.18 13.9603 6.18C14.4353 6.18 14.8153 5.8 14.8153 5.3345C14.8153 4.869 14.4353 4.489 13.9603 4.489C13.5043 4.489 13.1243 4.869 13.1243 5.3345ZM17.5729 11.5V8.9825H20.0619V7.6145H17.5634V6.1895H20.4039V4.7645H16.0624V11.5H17.5729ZM22.8002 11.5V6.7785H21.3562V11.5H22.8002ZM21.2327 5.3345C21.2327 5.8 21.6127 6.18 22.0687 6.18C22.5437 6.18 22.9237 5.8 22.9237 5.3345C22.9237 4.869 22.5437 4.489 22.0687 4.489C21.6127 4.489 21.2327 4.869 21.2327 5.3345Z",fill:"white"})]})},JO=(0,ll.forwardRef)((function(e,t){var n=e.deviceId,i=e.connectStateDeviceId,r=e.Icon,a=e.TechIcon,o=e.title,s=e.subtitle,l=e.helpTooltip,c=e.supportsHiFi,u=e.canLogout,d=e.isDisabled,p=e.incarnation,m=e.onClick,f=e.spec,v=(0,ll.useContext)(Jx),g=v.rowWithMenuOpenIdentifier,k=v.setRowWithMenuOpenIdentifier,y=(0,h.wW)(),b=!d&&y&&c,S=(0,lx.eX)(p),x=u||S,O=(0,Il.qT)(),w=(0,qx.S)();return(0,dl.jsxs)("li",{className:mO,ref:t,children:[(0,dl.jsx)("button",{className:Tc()(IO,fO,(0,P.Z)({},vO,g===n)),onClick:function(){d||(m&&m(),O({type:"close"}))},"aria-disabled":d,"aria-label":s?"".concat(o," ").concat(s):o,children:(0,dl.jsxs)("div",{className:Tc()(wO,TO),children:[(0,dl.jsx)(r,{iconSize:32,semanticColor:d?void 0:"textBase",className:AO,"":"main-icon",role:"presentation"}),(0,dl.jsxs)("div",{className:Tc()(UO,x&&RO),children:[(0,dl.jsxs)("div",{className:LO,children:[(0,dl.jsx)("div",{className:FO,children:(0,dl.jsx)(Yx.R,{equalGradientWidth:!0,title:o,children:(0,dl.jsx)(au.D,{variant:"ballad",semanticColor:d?void 0:"textBase",className:jO,children:o})},"picker-row-title-".concat(n))}),b&&(0,dl.jsx)(QO,{customClassName:ZO})]}),(0,dl.jsxs)("div",{className:LO,children:[a&&(0,dl.jsx)(a,{iconSize:16,semanticColor:"textSubdued",className:MO,"":"sub-icon",role:"presentation"}),s&&(0,dl.jsx)("div",{className:FO,children:(0,dl.jsx)(Yx.R,{equalGradientWidth:!0,title:s,children:(0,dl.jsx)(au.D,{variant:"finale",semanticColor:d?void 0:"textSubdued",className:jO,children:s})},"picker-row-subtitle-".concat(n))}),l&&(0,dl.jsx)("div",{className:YO,children:(0,dl.jsx)(Kx.e,{message:l,placement:w?"right":"left",messageClassName:qO})})]})]})]})}),x&&Qx(f)&&(0,dl.jsx)(lO,{title:o,deviceId:n,connectStateDeviceId:i,allowForgetDevice:u,incarnation:S?p:void 0,className:hO,onShow:function(){k(n)},onHide:function(){k(null)},spec:f})]})})),XO=function(e){var t=e.position,n=e.deviceId,i=e.connectStateDeviceId,r=e.deviceName,a=e.deviceType,o=e.deviceModelName,s=e.isGroup,l=e.disabledReason,c=e.canLogout,u=e.spec,d=(0,lx.z$)(a,s),p=(0,lx.j_)(l,(0,lx.s$)(a,o)),m=p.helpText,f=p.tooltip,v=u.disabledDeviceFactory({identifier:i,position:t,reason:l}),g=(0,vu.Wi)(v);return(0,dl.jsx)(JO,{deviceId:n,connectStateDeviceId:i,ref:g,isDisabled:!0,Icon:d,title:r,subtitle:m,helpTooltip:f,canLogout:c,spec:v})},$O="CAST_STATE_CHANGED",ew="TOGGLE_CAST",tw="SET_CONNECTING_CAST_DEVICE_ID",nw="RESET_CONNECTING_CAST_DEVICE_ID",iw=function(e){return{type:$O,castState:e}},rw=function(e){var t=e.isDisabled,n=void 0!==t&&t,i=(0,vu.fU)(Wx.d,{}),r=i.spec,a=i.logger,o=(0,nl.I0)(),s=r.containerViewFactory().deviceListFactory().castPlaceholderFactory(),l=(0,vu.Wi)(s),c=(0,lx.p0)(on.Yi.CAST_AUDIO,"disconnected");return(0,dl.jsx)(JO,{deviceId:"cast-placeholder",connectStateDeviceId:"cast-placeholder",ref:l,Icon:c,title:v.ag.get("web-player.connect.device-picker.google-cast-devices"),supportsHiFi:!1,onClick:function(){a.logInteraction(s.hitUiReveal()),o({type:ew})},isDisabled:n,spec:s})},aw=function(e){var t=e.deviceId,n=e.connectStateDeviceId,i=e.deviceName,r=e.supportsHiFi,a=e.spec,o=(0,vu.$P)(),s=a.localDeviceFactory(),l=(0,lx.z$)(on.Yi.COMPUTER,!1),c=(0,um.D)();return(0,dl.jsx)(JO,{deviceId:t,connectStateDeviceId:n,Icon:l,title:i,supportsHiFi:r,onClick:function(){var e=o.logInteraction(s.hitPullPlaybackToLocalDevice()),n=e.interactionId,i=e.pageInstanceId;c.transferPlayback(t,{interactionId:n,pageInstanceId:i})},spec:s})};function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lw=function(){var e=(0,Kc.z)("connect-picker-recent-transfers",{}),t=(0,i.Z)(e,2),n=t[0],r=t[1];return{registerTransferAttempt:(0,ll.useCallback)((function(e){r(sw(sw({},n),{},(0,P.Z)({},e,(new Date).getTime())))}),[n,r]),recentTransfersMap:n}},cw=function(e){var t,n=e.position,i=e.deviceId,r=e.connectStateDeviceId,a=e.deviceName,o=e.deviceType,s=e.isGroup,l=e.supportsHiFi,c=e.canLogout,u=e.incarnation,d=e.spec,p=(0,vu.$P)(),m=d.remoteDeviceFactory({identifier:r,position:n}),f=(0,lx.z$)(o,s),g=void 0;(0,lx.jc)(o)&&(t=(0,lx.p0)(o,"disconnected"),g=v.ag.get("web-player.connect.device-picker.google-cast"));var h=lw().registerTransferAttempt,k=(0,um.D)(),y=(0,vu.Wi)(m);return(0,dl.jsx)(JO,{deviceId:i,connectStateDeviceId:r,ref:y,Icon:f,TechIcon:t,title:a,subtitle:g,supportsHiFi:l,canLogout:c,incarnation:u,onClick:function(){var e=p.logInteraction(m.hitConnectToRemoteDevice({remoteDeviceId:r})),t=e.interactionId,n=e.pageInstanceId;k.transferPlayback(i,{interactionId:t,pageInstanceId:n}),h(r)},spec:m})},uw=function(){return(0,bl.Y)((function(e){var t,n,i;return(null!==(t=null==e||null===(n=e.restrictions)||void 0===n||null===(i=n.disallowTransferringPlaybackReasons)||void 0===i?void 0:i.length)&&void 0!==t?t:0)>0}))},dw="device-picker-section-heading",pw=function(e){var t=e.foundDevices?v.ag.get("web-player.connect.device-picker.select-another-device"):v.ag.get("web-player.connect.device-picker.no-devices-found");return(0,dl.jsx)("span",{className:NO,id:dw,children:(0,dl.jsx)(au.D,{as:"h4",variant:"balladBold",semanticColor:"textBase",className:NO,children:t})})},mw=n(10167),fw=n(939),vw=function(){var e=(0,fw.T)();return(0,dl.jsx)(dl.Fragment,{children:e?(0,dl.jsx)(mw.i,{iconSize:32,semanticColor:"textBrightAccent",className:AO,"":"now-playing-active"}):(0,dl.jsx)("img",{className:AO,width:"32",height:"32",alt:"","aria-hidden":"true",src:(0,ku.g)("images/device-picker-equaliser-animation.webp"),"":"animated-now-playing"})})},gw="device-picker-header",hw=function(e){var t,n=e.isLocalDevice,i=e.deviceName,r=e.deviceType,a=e.isGroup,o=e.supportsHiFi,s=e.canLogout,l=e.incarnation,c=e.isPlaying,u=e.deviceId,d=e.connectStateDeviceId,p=(0,vu.fU)(Wx.d,{}).spec,m=(0,h.wW)(),f=m&&o,g=(0,lx.eX)(l),k=s||g;if(c)t=(0,dl.jsx)(vw,{});else{var y=(0,lx.z$)(r,a);t=(0,dl.jsx)(y,{iconSize:32,semanticColor:"textBrightAccent",className:AO,"":"device-icon",role:"presentation"})}var b,S,x=(0,dl.jsx)("div",{className:FO,children:(0,dl.jsx)(Yx.R,{equalGradientWidth:!0,title:v.ag.get("web-player.connect.device-picker.current-device"),children:(0,dl.jsx)(au.D,{as:"h3",variant:"cello",semanticColor:"textBase",children:v.ag.get("web-player.connect.device-picker.current-device")})},"picker-header-title-".concat(i))});n?b=m?v.ag.get("web-player.connect.device-picker.this-computer"):v.ag.get("web-player.connect.device-picker.this-web-browser"):(b=i,S=(0,lx.p0)(r,"connected"));var O=(0,dl.jsxs)("div",{className:LO,children:[S&&(0,dl.jsx)(S,{iconSize:16,semanticColor:"textBrightAccent",className:MO,"":"tech-icon"}),(0,dl.jsx)("div",{className:FO,children:(0,dl.jsx)(Yx.R,{equalGradientWidth:!0,title:b,children:(0,dl.jsx)(au.D,{as:"p",variant:"ballad",semanticColor:"textBrightAccent",children:b})},"picker-header-subtitle-".concat(i))}),f&&(0,dl.jsx)(QO,{customClassName:ZO})]});return(0,dl.jsxs)("div",{className:Tc()(wO,CO),id:gw,children:[t,(0,dl.jsxs)("div",{className:Tc()(DO,k&&RO),children:[x,O]}),k&&(0,dl.jsx)(lO,{title:b,deviceId:u,connectStateDeviceId:d,allowForgetDevice:s,incarnation:g?l:void 0,className:PO,spec:p.containerViewFactory().headerFactory().activeDeviceFactory()})]})},kw=function(e){var t=e.devices,n=e.areWebPlayerCastDevicesAvailable,i=void 0!==n&&n,r=e.networkHeadingID,a=void 0===r?"":r,o=e.spec,s=(0,h.wW)(),l=uw(),c=(0,vu.Wi)(o),u=function(e,t){var n,i=s?v.ag.get("web-player.connect.device-picker.this-computer"):v.ag.get("web-player.connect.device-picker.this-web-browser");return e.isDisabled?(0,dl.jsx)(XO,{position:e.isLocal?0:t+1,deviceId:e.id,connectStateDeviceId:e.connectStateId,deviceName:e.isLocal?i:e.name,deviceType:e.isLocal?on.Yi.COMPUTER:e.type,deviceModelName:e.modelDisplayName,isGroup:e.isGroup,disabledReason:null!==(n=e.currentState)&&void 0!==n?n:on.uP.UNKNOWN,canLogout:!e.isLocalNetwork&&e.supportsLogout,spec:o},e.id):e.isLocal&&function(e){return e instanceof Wx.D.ContainerViewEventFactory.DeviceListEventFactory||e instanceof Wx.D.ContainerViewEventFactory.OnNetworkDeviceListEventFactory}(o)?(0,dl.jsx)(aw,{deviceId:e.id,connectStateDeviceId:e.connectStateId,deviceName:i,supportsHiFi:e.hifiSupport.fullySupported,spec:o},e.id):(0,dl.jsx)(cw,{position:t+1,deviceId:e.id,connectStateDeviceId:e.connectStateId,deviceName:e.name,deviceType:e.type,isGroup:e.isGroup,supportsHiFi:e.hifiSupport.fullySupported,canLogout:!e.isLocalNetwork&&e.supportsLogout,incarnation:e.incarnation,spec:o},e.id)};return(0,dl.jsxs)("ul",{"aria-labelledby":"".concat(gw," ").concat(dw," ").concat(a),ref:c,children:[t.map((function(e,t){return u(e,t)})),i&&(0,dl.jsx)(rw,{isDisabled:l})]})},yw="local-network-heading",bw="other-networks-heading",Sw=function(e){var t=e.localNetworkDevices,n=e.otherNetworksDevices,i=e.spec;return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(au.D,{as:"h5",variant:"viola",semanticColor:"textSubdued",className:_O,id:yw,children:t.length>0?v.ag.get("web-player.connect.device-picker.on-this-network"):v.ag.get("web-player.connect.device-picker.no-devices-local-network")}),t.length>0&&(0,dl.jsx)(kw,{devices:t,networkHeadingID:yw,spec:i.onNetworkDeviceListFactory()}),n.length>0&&(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(au.D,{as:"h5",variant:"viola",semanticColor:"textSubdued",className:Tc()(_O,EO),id:bw,children:v.ag.get("web-player.connect.device-picker.on-other-networks")}),(0,dl.jsx)(kw,{devices:n,networkHeadingID:bw,spec:i.offNetworkDeviceListFactory()})]})]})};function xw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ow(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Ow(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ww(e){return e.sort((function(e,t){return e.isLocal?-1:t.isLocal?1:e.name.toLowerCase().localeCompare(t.name.toLowerCase())}))}function Nw(e,t){var n=[],i=e.find((function(e){return e.isLocal}));i&&n.push(i);var r=function(e,t){var n,i=[],r=[],a=xw(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;t[o.connectStateId]?i.push({device:o,timestamp:t[o.connectStateId]}):r.push(o)}}catch(e){a.e(e)}finally{a.f()}return{usedDevices:i,unusedDevices:r}}(e.filter((function(e){return!e.isLocal})),t),a=r.usedDevices,o=r.unusedDevices;a.sort((function(e,t){return t.timestamp-e.timestamp}));var s,l=xw(a);try{for(l.s();!(s=l.n()).done;){var c=s.value;n.push(c.device)}}catch(e){l.e(e)}finally{l.f()}return n.concat(ww(o))}var _w=n(77600),Ew=function(e){var t=e.url,n=e.linkText,i=e.handleClick,r=e.elementRef;return(0,dl.jsxs)("a",{className:Tc()(wO,IO,WO),href:t,style:{textDecoration:"none"},target:"_blank",onClick:i,ref:r,children:[(0,dl.jsx)(au.D,{as:"p",variant:"ballad",semanticColor:"textBase",className:KO,children:n}),(0,dl.jsx)(_w.T,{iconSize:16,"":"icon-external-link",semanticColor:"textSubdued",className:zO,role:"presentation",autoMirror:!0,"aria-hidden":"true"})]})},Cw=function(){var e=(0,vu.fU)(Wx.d,{}),t=e.spec,n=e.logger,i=(0,h.wW)(),r="https://www.spotify.com/connect"+"?utm_campaign=connect&utm_medium=".concat(i?"app":"web","&utm_source=desktop")+((0,Au.W6)(ys.HJ)?"&nps=true":""),a=t.containerViewFactory().externalConnectHubLinkFactory(),o=(0,vu.Wi)(a);return(0,dl.jsx)(Ew,{url:r,linkText:v.ag.get("web-player.connect.device-picker.connect-hub-external-link"),elementRef:o,handleClick:function(){n.logInteraction(a.hitNavigateToExternalUri({destination:r}))}})},Pw="https://support.spotify.com/article/spotify-connect/",Iw=function(){var e=(0,vu.fU)(Wx.d,{}),t=e.spec,n=e.logger,i=t.containerViewFactory().externalHelpLinkFactory(),r=(0,vu.Wi)(i);return(0,dl.jsx)(Ew,{url:Pw,linkText:v.ag.get("web-player.connect.device-picker.help-external-link"),elementRef:r,handleClick:function(){n.logInteraction(i.hitNavigateToExternalUri({destination:Pw}))}})};function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Aw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jw(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tw=function(e){var t=e.devices,n=e.areWebPlayerCastDevicesAvailable,i=(0,h.wW)(),r=uw(),a=(0,Au.W6)(ys.C$),o=(0,vu.fU)(Wx.d,{}).spec,s=!i&&r?t.map((function(e){return Aw(Aw({},e),{},{isDisabled:!0})})):t,l=(0,Au.W6)(ys.LL),c=lw().recentTransfersMap,u=l?Nw(s,c):ww(s),d=u.filter((function(e){return e.isLocalNetwork})),p=u.filter((function(e){return!e.isLocalNetwork})),m=(0,ll.useContext)(Jx).rowWithMenuOpenIdentifier;return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(zx.U,{className:Tc()(kO,pO,(0,P.Z)({},bO,!!m)),children:(0,dl.jsxs)("div",{className:xO,children:[i&&p.length>0?(0,dl.jsx)(Sw,{localNetworkDevices:d,otherNetworksDevices:p,spec:o.containerViewFactory()}):(0,dl.jsx)(kw,{devices:u,areWebPlayerCastDevicesAvailable:n,spec:o.containerViewFactory().deviceListFactory()}),(0,dl.jsx)(Iw,{}),a&&(0,dl.jsx)(Cw,{})]})}),(0,dl.jsx)("div",{className:SO})]})},Dw=n(19673),Rw=n(67987),Fw=n(70376),Lw=n(29617),Mw=function(e){var t=e.title,n=e.subtitle,i=e.Icon;return(0,dl.jsxs)("li",{className:wO,children:[(0,dl.jsx)(i,{iconSize:24,semanticColor:"textSubdued",className:HO,role:"presentation"}),(0,dl.jsxs)("div",{className:DO,children:[(0,dl.jsx)(au.D,{variant:"ballad",semanticColor:"textBase",children:t}),(0,dl.jsx)(au.D,{variant:"mesto",semanticColor:"textSubdued",className:GO,children:n})]})]})},Uw=function(e){var t=e.isDesktop,n=(0,Au.W6)(ys.C$),i=(0,vu.fU)(Wx.d,{}).spec.containerViewFactory().noDevicesViewFactory(),r=(0,vu.Wi)(i);return(0,dl.jsxs)("div",{ref:r,className:BO,children:[(0,dl.jsxs)("ul",{"aria-labelledby":"".concat(gw," ").concat(dw),className:VO,children:[(0,dl.jsx)(Mw,{Icon:Dw.G,title:v.ag.get("web-player.connect.device-picker.check-wifi"),subtitle:v.ag.get("web-player.connect.device-picker.check-wifi-subtitle")}),(0,dl.jsx)(Mw,{Icon:Rw.Q,title:v.ag.get("web-player.connect.device-picker.play-from-another"),subtitle:v.ag.get("web-player.connect.device-picker.play-from-another-subtitle")}),t?(0,dl.jsx)(Mw,{Icon:Fw.A,title:v.ag.get("web-player.connect.device-picker.restart-speaker"),subtitle:v.ag.get("web-player.connect.device-picker.restart-speaker-subtitle")}):(0,dl.jsx)(Mw,{Icon:Lw.D,title:v.ag.get("web-player.connect.device-picker.switch-to-app"),subtitle:v.ag.get("web-player.connect.device-picker.switch-to-app-subtitle")})]}),(0,dl.jsxs)("div",{className:pO,"aria-describedby":"device-picker-troubleshooting-list",children:[(0,dl.jsx)(Iw,{}),n&&(0,dl.jsx)(Cw,{})]})]})},Zw=function(e){var t=e.devices,n=e.areWebPlayerCastDevicesAvailable,i=Boolean(t.find((function(e){return!e.isLocal}))),r=t.filter((function(e){return!e.isActive&&e.name.length>0})),a=i||n,o=(0,h.wW)();return(0,dl.jsxs)("div",{className:OO,children:[(0,dl.jsx)(pw,{foundDevices:a}),a?(0,dl.jsx)(Xx,{children:(0,dl.jsx)(Tw,{devices:r,areWebPlayerCastDevicesAvailable:n})}):(0,dl.jsx)(Uw,{isDesktop:o})]})},Bw=function(e){var t=e.isConnectBarVisible,n=void 0!==t&&t,i=e.tooltipTriggerId;Gx();var r={id:"",connectStateId:"",name:"",type:on.Yi.COMPUTER,isGroup:!1,isLocal:!0,isActive:!0,isConnecting:!1,isDisabled:!1,volume:0,hifiSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1},supportsLogout:!1},a=bx((function(e){return{activeDevice:e.activeDevice,devices:e.devices}})),o=a.activeDevice,s=a.devices,l=null!=o?o:r,c=Hx((0,nl.v9)((function(e){var t,n,i;return null!==(t=null===(n=e.playback)||void 0===n?void 0:n.castState)&&void 0!==t?t:null===(i=window.cast)||void 0===i?void 0:i.framework.CastState.NO_DEVICES_AVAILABLE}))),u=(0,Rc.IK)().isPlaying;return(0,dl.jsx)(kx.yv,{className:Tc()(cO,n&&yO),arrowClassName:dO,disableAutoFocus:!0,children:(0,dl.jsxs)("div",{"aria-labelledby":i,className:uO,children:[(0,dl.jsx)(hw,{deviceId:l.id,connectStateDeviceId:l.connectStateId,isLocalDevice:l.isLocal,deviceName:l.name,deviceType:l.type,isGroup:l.isGroup,supportsHiFi:l.hifiSupport.fullySupported,canLogout:!l.isLocalNetwork&&l.supportsLogout,incarnation:l.incarnation,isPlaying:u}),(0,dl.jsx)(Zw,{devices:s,areWebPlayerCastDevicesAvailable:c})]})})},Vw=n(40446),Hw=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{legacyCastPlaceholder:!1}).legacyCastPlaceholder,t=(0,Tu.s4)(),n=(0,nl.v9)((function(e){var t,n,i;return null!==(t=null===(n=e.playback)||void 0===n?void 0:n.castState)&&void 0!==t?t:null===(i=window.cast)||void 0===i?void 0:i.framework.CastState.NO_DEVICES_AVAILABLE})),i=bx((function(e){return e.devices}));return(0,ll.useCallback)((function(r){i.forEach((function(e){var n,i,a,o,s,l,c,u=e.connectStateId;e.isLocal&&(u="local_device"),t.send((0,Vw.n)({discovered_device_id:u,discovered_device_name:e.name,discovered_device_type:e.type,discovered_device_brand_display_name:null!==(n=e.brandDisplayName)&&void 0!==n?n:null,discovered_device_model:null!==(i=e.modelDisplayName)&&void 0!==i?i:null,discovered_device_license:null!==(a=e.license)&&void 0!==a?a:null,discovered_device_state:null!==(o=e.currentState)&&void 0!==o?o:null,discovered_device_is_active:e.isActive,discovered_device_disabled:e.isDisabled,discovered_device_is_zeroconf:null!==(s=e.isZeroconf)&&void 0!==s?s:null,discovered_device_is_local:null!==(l=e.isLocalNetwork)&&void 0!==l?l:null,discovered_device_is_webapp:null!==(c=e.isWebApp)&&void 0!==c?c:null,discovered_device_supports_hifi:e.hifiSupport.deviceSupported,interaction_id:r}))})),(e?function(e){var t;return e===(null===(t=window.cast)||void 0===t?void 0:t.framework.CastState.NOT_CONNECTED)}(n):Hx(n))&&t.send((0,Vw.n)({discovered_device_name:"Google Cast Devices Available",discovered_device_brand_display_name:"Google",interaction_id:r}))}),[i,n,t,e])},Gw=function(){var e=(0,nl.I0)(),t=(0,ll.useState)(!1),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,ll.useState)(""),s=(0,i.Z)(o,2),l=s[0],c=s[1],u=(0,um.D)(),d=bx((function(e){return{connectionStatus:e.connectionStatus,activeDevice:e.activeDevice,connectingDevice:e.connectingDevice}}),Fu.V).connectionStatus,p=d===on.TK.CONNECTED||d===on.TK.CONNECTING,m=(0,ll.useCallback)((function(){u.getCapabilities().supportsLocalDiscovery&&u.discoverDevices(),e((0,el.bW)()),a(!0)}),[u,e]),f=Hw(),v=(0,ll.useCallback)((function(){f(l),e((0,el.$B)()),a(!1)}),[a,f,l,e]);return(0,dl.jsx)(kx.Nt,{trigger:"click",action:"toggle",content:(0,dl.jsx)(Bw,{isConnectBarVisible:p,tooltipTriggerId:Bx}),onShow:m,onHide:v,offset:[0,12],placement:"top",children:(0,dl.jsx)(Vx,{isPickerOpen:r,onLogInteraction:function(e){r||c(e)}})})},Ww=function(e){return e.bitrateLevel="bitrateLevel",e.targetBitrateLevel="targetBitrateLevel",e.targetBitrateAvailable="targetBitrateAvailable",e.strategy="strategy",e.isLocal="isLocal",e.autoAdjust="autoAdjust",e.deviceSupported="deviceSupported",e}({}),zw=function(e){return e.Bluetooth_Degrades_HiFi="Bluetooth_Degrades_HiFi",e.Change_Cellular_Settings="Change_Cellular_Settings",e.Connect_Explanation="Connect_Explanation",e.Default_To_Very_High="Default_To_Very_High",e.Need_To_Redownload="Need_To_Redownload",e.Opt_Out_Of_Downgrade="Opt_Out_Of_Downgrade",e.Poor_Bandwidth_Interferes="Poor_Bandwidth_Interferes",e}({}),Kw=function(e){return e[e.Internet=0]="Internet",e[e.Spotify_Connect=1]="Spotify_Connect",e[e.Downloads=2]="Downloads",e}({}),Yw=function(e){return e.Good="good",e.Poor="poor",e.Unknown="unknown",e.Unavailable="unavailable",e}({});function qw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Qw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Qw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Jw=[{criteria:{online:!0,streamingHiFi:!1,targetingHiFi:!1,bitrateStrategy:[Re.kZ.CACHED_FILE,Re.kZ.BACKEND_ADVISED,Re.kZ.BEST_MATCHING],trackHiFiAvailable:!0},result:zw.Change_Cellular_Settings},{criteria:{online:!0,autoAdjust:!1,trackHiFiAvailable:!0},result:zw.Opt_Out_Of_Downgrade},{criteria:{online:!0,streamingHiFi:!1,targetingHiFi:!0,deviceCompatible:!0,internetBandwidth:Yw.Poor,trackHiFiAvailable:!0},result:zw.Poor_Bandwidth_Interferes},{criteria:{online:!0,autoAdjust:!0,streamingHiFi:!1,targetingHiFi:!1,deviceCompatible:!0,internetBandwidth:Yw.Poor,trackHiFiAvailable:!0},result:zw.Default_To_Very_High},{criteria:{online:!0,streamingHiFi:!1,bitrateStrategy:[Re.kZ.OFFLINED_FILE],trackHiFiAvailable:!0},result:zw.Need_To_Redownload},{criteria:{online:!0,streamingHiFi:!0,trackHiFiAvailable:!0},result:zw.Connect_Explanation}];var Xw=[{criteria:{bitrateLevel:[Re.M4.HIFI],strategy:[Re.kZ.BEST_MATCHING,Re.kZ.BACKEND_ADVISED,Re.kZ.CACHED_FILE],deviceSupported:!0,autoAdjust:!0},result:Yw.Good},{criteria:{bitrateLevel:[Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],targetBitrateLevel:[Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],strategy:[Re.kZ.BEST_MATCHING,Re.kZ.CACHED_FILE],deviceSupported:!0,autoAdjust:!0},result:Yw.Good},{criteria:{bitrateLevel:[Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],targetBitrateLevel:[Re.M4.HIFI],strategy:[Re.kZ.BEST_MATCHING,Re.kZ.BACKEND_ADVISED,Re.kZ.CACHED_FILE],targetBitrateAvailable:!0,deviceSupported:!0,autoAdjust:!0},result:Yw.Poor},{criteria:{bitrateLevel:[Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],targetBitrateLevel:[Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],strategy:[Re.kZ.BACKEND_ADVISED],deviceSupported:!0,autoAdjust:!0},result:Yw.Poor},{criteria:{bitrateLevel:[Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],targetBitrateLevel:[Re.M4.HIFI],targetBitrateAvailable:!1,deviceSupported:!0,autoAdjust:!0},result:Yw.Unavailable},{criteria:{autoAdjust:!1},result:Yw.Unknown},{criteria:{deviceSupported:!1},result:Yw.Unknown}],$w=[{criteria:{bitrateLevel:[Re.M4.HIFI],deviceSupported:!0},result:!0},{criteria:{bitrateLevel:[Re.M4.UNKNOWN,Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],strategy:[Re.kZ.BEST_MATCHING,Re.kZ.BACKEND_ADVISED,Re.kZ.CACHED_FILE],targetBitrateLevel:[Re.M4.HIFI],targetBitrateAvailable:!0,deviceSupported:!0},result:!0},{criteria:{bitrateLevel:[Re.M4.UNKNOWN,Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],strategy:[Re.kZ.OFFLINED_FILE],targetBitrateLevel:[Re.M4.HIFI],targetBitrateAvailable:!0,deviceSupported:!0},result:!1},{criteria:{strategy:[Re.kZ.BEST_MATCHING,Re.kZ.BACKEND_ADVISED,Re.kZ.CACHED_FILE],targetBitrateAvailable:!0,deviceSupported:!0},result:!1},{criteria:{deviceSupported:!1},result:!0},{criteria:{bitrateLevel:[Re.M4.UNKNOWN,Re.M4.LOW,Re.M4.NORMAL,Re.M4.HIGH,Re.M4.VERY_HIGH],targetBitrateLevel:[Re.M4.HIFI],targetBitrateAvailable:!1,deviceSupported:!0},result:!0},{criteria:{targetBitrateLevel:[Re.M4.HIFI]},result:!0}];function eN(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return tN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tN(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function tN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var nN=function(e,t){for(var n=0,r=Object.entries(t.criteria);n<r.length;n++){var a=(0,i.Z)(r[n],2),o=a[0],s=a[1];if(o===Ww.bitrateLevel){if(!s.includes(e[Ww.bitrateLevel]))return!1}else if(o===Ww.targetBitrateLevel){if(!s.includes(e[Ww.targetBitrateLevel]))return!1}else if(o===Ww.strategy){if(!s.includes(e[Ww.strategy]))return!1}else{if(!s===e[o])return!1}}return!0},iN=function(e){var t,n=eN($w);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(nN(e,i))return i.result}}catch(e){n.e(e)}finally{n.f()}return e[Ww.bitrateLevel]===Re.M4.HIFI||e[Ww.targetBitrateLevel]===Re.M4.HIFI},rN=function(e){var t,n=eN(Xw);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(nN(e,i))return i.result}}catch(e){n.e(e)}finally{n.f()}return e[Ww.strategy]===Re.kZ.BACKEND_ADVISED?Yw.Poor:Yw.Good},aN=n(43887);function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oN(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lN={hifiStatus:Re.dR.NONE,bitrateLevel:Re.M4.UNKNOWN,targetBitrateLevel:Re.M4.UNKNOWN,targetBitrateAvailable:!1,strategy:Re.kZ.UNKNOWN};function cN(){var e,t=(0,bl.Y)((function(e){var t;return sN(sN({},lN),null!==(t=null==e?void 0:e.playbackQuality)&&void 0!==t?t:null)}),Fu.V),n=t.hifiStatus,i=t.bitrateLevel,r=t.targetBitrateLevel,a=t.targetBitrateAvailable,o=t.strategy,s=bx((function(e){return e.activeDevice})),l=(0,ll.useMemo)((function(){return null!==s&&s.hifiSupport?s.hifiSupport:{fullySupported:!1,deviceSupported:!1,userEligible:!1}}),[s]).deviceSupported,c=(0,aN.rV)().settings.values["audio.allow_downgrade"],u=(null==s?void 0:s.isLocal)||!1;e=u?o===Re.kZ.CACHED_FILE||o===Re.kZ.OFFLINED_FILE?Kw.Downloads:Kw.Internet:Kw.Spotify_Connect;var d={bitrateLevel:i,targetBitrateLevel:r,targetBitrateAvailable:a,strategy:o,isLocal:u,deviceSupported:l,autoAdjust:c},p=iN(d),m=rN(d),f=(0,sh.k)(),v=r===Re.M4.HIFI&&a,g=function(e){var t,n=e.online,i=e.streamingHiFi,r=e.targetingHiFi,a=e.strategy,o=e.trackHiFiAvailable,s=e.autoAdjust,l=e.internetBandwidth,c=e.hifiCompatibleDevice,u=e.isLocal,d=[],p=qw(Jw);try{for(p.s();!(t=p.n()).done;){var m=t.value,f=m.criteria,v=m.result;f.online===n&&(void 0!==f.autoAdjust&&f.autoAdjust!==s||void 0!==f.streamingHiFi&&f.streamingHiFi!==i||void 0!==f.targetingHiFi&&f.targetingHiFi!==r||void 0!==f.deviceCompatible&&f.deviceCompatible!==c||void 0!==f.bitrateStrategy&&!1===u||(void 0===f.bitrateStrategy||void 0!==a&&f.bitrateStrategy.includes(a))&&(void 0!==f.internetBandwidth&&f.internetBandwidth!==l||void 0!==f.trackHiFiAvailable&&f.trackHiFiAvailable!==o||d.push(v)))}}catch(e){p.e(e)}finally{p.f()}return d}({online:f,streamingHiFi:i===Re.M4.HIFI,targetingHiFi:r===Re.M4.HIFI,strategy:o,trackHiFiAvailable:v,autoAdjust:c,internetBandwidth:m,hifiCompatibleDevice:l,isLocal:u});return{hifiStatus:n,bitrateLevel:i,flags:g,internetBandwidth:m,playingVia:{channelIsHiFi:p,channel:e},hifiCompatibleDevice:l}}var uN,dN=n(97422),pN=(n(96089),function(e){return e.INFO="INFO",e.ERROR="ERROR",e}({}));var mN=(uN={},(0,P.Z)(uN,zw.Connect_Explanation,(function(){return{type:"info",message:v.ag.get("hifi.connectExplanation","<img src='images/connect-to-devices-white.svg'\n        alt='".concat(v.ag.get("spotify-connect"),'\' width="16" height="16"/>'),"<img src='images/hifi.svg'\n    alt='".concat(v.ag.get("desktop.settings.streamingQualityHiFi"),'\' width="16" height="7"/>'))}})),(0,P.Z)(uN,zw.Change_Cellular_Settings,(function(){return{type:"info",message:v.ag.get("hifi.changeCellularSettings")}})),(0,P.Z)(uN,zw.Opt_Out_Of_Downgrade,(function(){return{type:"error",title:"Change your settings for a smoother listening experience",message:v.ag.get("hifi.optOutOfDowngrade")}})),(0,P.Z)(uN,zw.Poor_Bandwidth_Interferes,(function(){return{type:"error",title:"Check your connection",message:v.ag.get("hifi.poorBandwidthInterferes")}})),(0,P.Z)(uN,zw.Default_To_Very_High,(function(){return{type:"info",message:v.ag.get("hifi.defaultToVeryHigh")}})),(0,P.Z)(uN,zw.Need_To_Redownload,(function(){return{type:"error",title:"Re-download your songs to stream them in HiFi",message:v.ag.get("hifi.needToReDownload")}})),(0,P.Z)(uN,zw.Bluetooth_Degrades_HiFi,(function(){return{type:"info",message:v.ag.get("hifi.bluetoothDegradesHifi","<img src='images/hifi.svg'\n  alt='".concat(v.ag.get("desktop.settings.streamingQualityHiFi"),'\' width="16" height="7"/>'))}})),uN),fN=n(66220),vN=n(98030),gN=n(88843),hN=n(55961);const kN="KMRYEXD5N8nhIguIiBJX",yN="HI3xttOVfN5jrsTwwj9a",bN="x8K5uQB7yYKz5aXNXPMh",SN="JoW96RZ4olZzshuAYMQw",xN="aCwCCeV0KAq6w4Zzf7oE",ON="iZi3VhLGO2YSFt2iD5VM",wN="QGRlV_c_erx7kBMRvra5";var NN={value:0,label:function(){return v.ag.get("hifi.unknown")}},_N={value:1,label:function(){return v.ag.get("desktop.settings.streamingQualityLow")}},EN={value:2,label:function(){return v.ag.get("desktop.settings.streamingQualityNormal")}},CN={value:3,label:function(){return v.ag.get("desktop.settings.streamingQualityHigh")}},PN={value:4,label:function(){return v.ag.get("desktop.settings.streamingQualityVeryHigh")}},IN={value:5,label:function(){return v.ag.get("desktop.settings.streamingQualityHiFi")}},jN=function(e){var t,n;switch(e.quality){case Re.M4.LOW:t=_N.label(),n=_N.value;break;case Re.M4.NORMAL:t=EN.label(),n=EN.value;break;case Re.M4.HIGH:t=CN.label(),n=CN.value;break;case Re.M4.VERY_HIGH:t=PN.label(),n=PN.value;break;case Re.M4.HIFI:t=IN.label(),n=IN.value;break;case Re.M4.UNKNOWN:default:t=NN.label(),n=NN.value}return(0,dl.jsxs)("div",{className:kN,children:[(0,dl.jsx)(au.D,{as:"h2",children:v.ag.get("hifi.currentAudioQuality")}),(0,dl.jsx)(au.D,{as:"h1",variant:"alto",className:wN,children:t}),(0,dl.jsxs)("div",{className:yN,children:[(0,dl.jsx)(au.D,{as:"p",variant:"mestoBold",className:ON,children:v.ag.get("desktop.settings.streamingQualityLow")}),(0,dl.jsxs)("div",{className:bN,children:[(0,dl.jsx)("div",{className:Tc()(SN,(0,P.Z)({},xN,n>=1))}),(0,dl.jsx)("div",{className:Tc()(SN,(0,P.Z)({},xN,n>=2))}),(0,dl.jsx)("div",{className:Tc()(SN,(0,P.Z)({},xN,n>=3))}),(0,dl.jsx)("div",{className:Tc()(SN,(0,P.Z)({},xN,n>=4))}),(0,dl.jsx)("div",{className:Tc()(SN,(0,P.Z)({},xN,5===n))})]}),(0,dl.jsx)(au.D,{as:"p",variant:"mestoBold",className:ON,children:v.ag.get("desktop.settings.streamingQualityHiFi")})]})]})};const AN="ZPxtJCM9pDLDULYbxYlx";var TN=function(e){var t=e.children;return(0,dl.jsx)("div",{className:AN,children:t})},DN=n(68716);const RN="jDsXE7OLMWOY_76eZsPU",FN="L_WoceuKFbr6NJzlAgTI";var LN=(0,h.ZO)()===k.W.Desktop,MN=function(e){var t=e.device,n=LN?v.ag.get("connect-picker.this-computer"):v.ag.get("connect-picker.this-web-browser"),i=t.isLocal?n:t.name,r=(0,DN.z)(t.type,t.isGroup);return(0,dl.jsxs)("div",{className:RN,children:[(0,dl.jsx)(au.D,{as:"h2",variant:"mesto",semanticColor:"textBase",children:v.ag.get("connect-picker.listening-on")}),(0,dl.jsxs)("span",{children:[r&&(0,dl.jsx)(r,{iconSize:16,className:FN,color:ZS.ekl}),(0,dl.jsx)(au.D,{semanticColor:"textBrightAccent",children:i})]})]})},UN=n(13609),ZN=n(82504),BN=n(67212);const VN="novF8wEdTg7z80q3Ykws",HN="qYsWmMXU2vS2COWabAU3",GN="S7ZlyepCAF5STfR0svEU",WN="GpkwB7xWMvRcV_MNjswl",zN="rmlbOaIPSEWZfSAZsFlx";var KN=function(e){return e[e.PASSING=0]="PASSING",e[e.NEEDS_ATTENTION=1]="NEEDS_ATTENTION",e[e.UNKNOWN=2]="UNKNOWN",e}({}),YN=function(e){var t=e.metric,n=e.label,i=e.severity;return(0,dl.jsxs)("div",{className:Tc()(VN,(0,P.Z)({},WN,i===KN.UNKNOWN)),children:[function(){switch(i){case KN.PASSING:return(0,dl.jsx)(UN.K,{iconSize:32,className:HN,semanticColor:"textBase"});case KN.NEEDS_ATTENTION:return(0,dl.jsx)(ZN.l,{iconSize:32,className:GN,semanticColor:"textWarning"});case KN.UNKNOWN:return(0,dl.jsx)(BN.S,{iconSize:32,className:GN,semanticColor:"textBase"});default:return null}}(),(0,dl.jsxs)("div",{className:zN,children:[(0,dl.jsx)(au.D,{as:"p",variant:"ballad",semanticColor:"textBase",children:t}),(0,dl.jsx)(au.D,{as:"p",semanticColor:"textSubdued",variant:"mesto",children:n})]})]})},qN=function(){var e=cN(),t=e.hifiCompatibleDevice,n=e.playingVia,i=e.internetBandwidth;return(0,dl.jsxs)("div",{children:[(0,dl.jsx)(YN,{metric:v.ag.get("hifi.hifiCompatibleDevice"),label:t?v.ag.get("hifi.yes"):v.ag.get("hifi.no"),severity:t?KN.PASSING:KN.NEEDS_ATTENTION}),(0,dl.jsx)(YN,{metric:v.ag.get("hifi.playingVia"),label:function(){switch(n.channel){case Kw.Downloads:return v.ag.get("local-files.source.downloads");case Kw.Internet:return v.ag.get("hifi.networkConnection");case Kw.Spotify_Connect:return v.ag.get("spotify-connect");default:return""}}(),severity:n.channelIsHiFi?KN.PASSING:KN.NEEDS_ATTENTION}),(0,dl.jsx)(YN,{metric:v.ag.get("hifi.internetBandwidth"),label:function(){switch(i){case Yw.Good:return v.ag.get("hifi.good");case Yw.Poor:return v.ag.get("hifi.poor");case Yw.Unknown:default:return v.ag.get("hifi.unknown")}}(),severity:function(){switch(i){case Yw.Good:return KN.PASSING;case Yw.Poor:return KN.NEEDS_ATTENTION;case Yw.Unknown:default:return KN.UNKNOWN}}()})]})};const QN="dl5l7nGD0oOgTT_SLU40",JN="iU0USYhRL5JtiNcDbeZq";var XN=function(e){var t=e.cards,n=e.quality,i=e.bandwidth,r=void 0===i?Yw.Good:i,a=bx((function(e){return e.activeDevice}));return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(jN,{quality:n}),r!==Yw.Unavailable?(0,dl.jsxs)(dl.Fragment,{children:[a&&(0,dl.jsx)(MN,{device:a}),(0,dl.jsx)(qN,{}),t.map((function(e){var t=e.text,n=e.id;return(0,dl.jsx)(TN,{children:(0,dl.jsx)(hN.k,{LinkComponent:gN.default,source:t,splitter:/\|/g})},n)}))]}):(0,dl.jsxs)("div",{className:QN,children:[(0,dl.jsx)(au.D,{as:"h1",variant:"alto",className:JN,children:v.ag.get("hifi.songNotAvailableTitle")}),(0,dl.jsx)(au.D,{variant:"ballad",children:v.ag.get("hifi.songNotAvailable")})]})]})};const $N="IcRpuhMiXFmNIOuD_cPR",e_="o5zR0zFgzGL25I5HHXWO",t_="_Cg8FRzh4osI4pLPiDDu",n_="c3RiDQwNPpRxrL23ldVK",i_="gqdy85Mfj1EQdSDlLCXm";var r_=function(e){var t=e.cards,n=e.quality,i=e.bandwidth,r=void 0===i?Yw.Good:i;Gx();var a=(0,ll.useRef)(null);return(0,vN.H)(),(0,fN.K)({ref:a,preventScroll:!1}),(0,dl.jsx)(kx.yv,{className:$N,children:(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)("div",{className:t_}),(0,dl.jsx)(zx.U,{className:i_,children:(0,dl.jsx)("div",{className:e_,ref:a,tabIndex:-1,"aria-label":v.ag.get("web-player.hifi.aria-label"),children:(0,dl.jsx)(XN,{cards:t,quality:n,bandwidth:r})})}),(0,dl.jsx)("div",{className:n_})]})})};function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var o_=function(e){return e.visible?(0,dl.jsx)(l_,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a_(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)):(0,dl.jsx)(dl.Fragment,{children:e.children})},s_=5;function l_(e){var t=e.children,n=e.onClick,i=cN(),r=i.bitrateLevel,a=i.internetBandwidth,o=function(){var e=cN().flags,t=[];return e.forEach((function(e){if(mN[e]){var n=mN[e](),i=n.type,r=n.message,a=n.title;"info"===i?t.push({id:e,text:r,type:pN.INFO}):t.push({id:e,text:r,title:null!=a?a:"",type:pN.ERROR})}})),t}(),s=o.slice(0,s_);return(0,dl.jsx)("div",{children:(0,dl.jsx)(kx.Nt,{trigger:"click",action:"toggle",offset:[-122,20],onShow:function(){null==n||n(!0)},onHide:function(){null==n||n(!1)},content:(0,dl.jsx)(r_,{cards:s,quality:r,bandwidth:a}),children:t})})}const c_="luhVzGRctW4iXg7vzJOQ",u_="T0BdYnv2qXQqgvX3JgtL";var d_=function(e){var t=e.onClick,n=cN().hifiStatus,i=(0,bl.Y)((function(e){var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.type)===Le.p.TRACK}));return n!==Re.dR.NONE&&i?(0,dl.jsx)(o_,{onClick:t,visible:!0,children:(0,dl.jsx)("button",{className:Tc()(u_,(0,P.Z)({},c_,n===Re.dR.ON)),"aria-label":v.ag.get("web-player.hifi.aria-label"),children:(0,dl.jsx)(dN.Ee,{src:(0,ku.g)("images/hifi-button-".concat(n===Re.dR.ON?"on":"off",".svg")),loading:"eager"})})}):null},p_=n(7717),m_=n(35445),f_=n(86015),v_=function(e){return e.SET_LYRICS_MODE="SET_LYRICS_MODE",e}({}),g_=function(e){return{type:v_.SET_LYRICS_MODE,mode:e}},h_=function(e){return e.ui.lyrics.mode};const k_={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",lyricsCinemaVisible:"main-lyricsCinema-lyricsCinemaVisible",nonDisplayedArea:"main-lyricsCinema-nonDisplayedArea",Container:"main-lyricsCinema-container",Controls:"main-lyricsCinema-controls",Content:"main-lyricsCinema-content"};function y_(){var e=(0,nl.v9)(h_),t=(0,nl.I0)(),n=(0,f_.U)().setYlxSidebarState,i=(0,Au.W6)(ys.yA,{loadingValue:!1}),r=(0,Ny.Oh)(),a=r.mainLandmarkRef,o=r.topbarRef,s=r.lyricsCinemaRef,l=(0,m_.T)(Mh.s.NowPlayingView),c=l.toggle,u=l.isActive;return{mode:e,setMode:(0,ll.useCallback)((function(e){var r,l,d,p,m,f;e===_y.LyricsMode.cinema&&u?(null===(r=s.current)||void 0===r||r.classList.add(k_.lyricsCinemaVisible),null===(l=a.current)||void 0===l||l.classList.add(k_.nonDisplayedArea),null===(d=o.current)||void 0===d||d.classList.add(k_.nonDisplayedArea),i&&n(f_.c.COLLAPSED),c()):(null===(p=s.current)||void 0===p||p.classList.remove(k_.lyricsCinemaVisible),null===(m=a.current)||void 0===m||m.classList.remove(k_.nonDisplayedArea),null===(f=o.current)||void 0===f||f.classList.remove(k_.nonDisplayedArea),u||c());t(g_(e))}),[t,c,u,i,s,a,n,o])}}n(51735);var b_=n(15878),S_=n(4463),x_=n(59672),O_=n(81164),w_=function(e){var t,n;return null!==(t=null===(n=(0,f.EC)(e))||void 0===n?void 0:n.toURLPath(!0))&&void 0!==t?t:""},N_={context:null,item:null},__=n(29515),E_=n(96063),C_=n(10281),P_=n(20495),I_=function(){return(0,dl.jsx)(dl.Fragment,{})},j_=function(){return(0,dl.jsx)(dl.Fragment,{})},A_=n(9424),T_=n(8990),D_=n(81793),R_=n(13956),F_=Spicetify.GraphQL.Definitions["queryNpvEpisode"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryNpvEpisode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"transcripts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"cdnUrl"}},{kind:"Field",name:{kind:"Name",value:"language"}}]}}]}}]}}]}}]}}]},L_=n(25537),M_=n(80082),U_=n(1003);const Z_="YC6K2bFUeJkdE4cCvbD3",B_="vHQbygDcvOQ4Ls0W6vb1",V_="Ku9l84_lLCFE3crS1Y8B",H_="TortsxZeDfI28luc5Dac",G_="XHpZHlxCiVHe8qTVVskT",W_="lu9_R5Kw07YEWlq8eKs9",z_="RypbYIkqqlUkhxg_RwYm";var K_=(0,ll.memo)((function(e){var t=e.transcriptSections,n=e.onTimeStampClick,i=e.episodeUri,r=(0,vu.fU)(L_.m,{data:{uri:i}}),a=r.spec,o=r.logger,s=(0,U_.n)({uri:i},{featureIdentifier:"episode"}).isPlaying,l=a.timestampLinkFactory();return(0,dl.jsx)(dl.Fragment,{children:(0,dl.jsxs)("div",{className:B_,children:[(0,dl.jsx)("div",{className:H_,children:(0,dl.jsx)(au.D,{as:"p",variant:"finale",semanticColor:"textSubdued",children:v.ag.get("web-player.episode.transcript.disclaimer")})}),t.map((function(e,t){var r="transcript-section-".concat(t);return(0,dl.jsxs)("div",{className:V_,children:[(0,dl.jsx)("button",{className:G_,onClick:function(){n(e.startMs,r),o.logInteraction(s?l.hitSeekToTime({msToSeekTo:e.startMs}):l.hitPlay({itemToBePlayed:i}))},children:(0,dl.jsx)(M_.D,{id:r,targetURI:(0,f.EC)(i),fadeOut:!0,children:(0,dl.jsx)(au.D,{variant:"finaleBold",semanticColor:"textSubdued",className:W_,children:(0,Sl.m)(e.startMs)})})}),e.content.map((function(e,t){return(0,dl.jsx)(au.D,{variant:"viola",semanticColor:"textBase",className:z_,dir:"auto",children:e},"transcript-text-".concat(t))}))]},r)}))]})})}));function Y_(e){return!!(0,rm.G)().getCapabilities().isSupported&&function(e){var t,n=null===(t=e.metadata)||void 0===t?void 0:t["parent_episode.uri"];return!!n&&(0,f.hn)(n)}(e)}var q_=n(67262),Q_=n(71440),J_=n(69413),X_=n(15918),$_=n(66275),eE=n(48215);const tE="_QEMUk5U16U3CQn0wvbD",nE="mbkl2P60JUhDqc9qGvp9",iE="Xh6dG3pzi2SS7v4cvZzG",rE="sOdoW26RUwggLToa7xDt",aE="B_TcBcc1BM2yLgvXbh66",oE="tRnhyUQiKOxA3z8mUD_U",sE="_shxqlkLuB52H1iCh_OQ",lE="hAwePVlxumRNpdOSpwyV";var cE=ll.forwardRef((function(e,t){var n=e.className,r=void 0===n?"":n,a=e.segment,o=e.onClickPlay,s=e.isPlaying,l=(0,ll.useState)(!1),c=(0,i.Z)(l,2),u=c[0],d=c[1],p=(0,ll.useMemo)((function(){return function(e){var t;if("TALK"===e.type)return{Icon:Q_.J,label:v.ag.get("playlist.a11y.play",e.title)};var n=(null===(t=e.track.artists)||void 0===t?void 0:t.map((function(e){return e.name})).join(v.ag.getSeparator()))||"";return{Icon:J_.F,label:v.ag.get("tracklist.a11y.play",e.track.name,n)}}(a)}),[a]),m=p.label,f=p.Icon,g=(0,ll.useCallback)((function(){o()}),[o]);(0,ll.useEffect)((function(){var e=function(){d(!0)},t=function(){d(!1)};return s&&(d(document.hasFocus()),window.addEventListener("focus",e),window.addEventListener("blur",t)),function(){window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}),[s]);var h=!(0,fw.T)()&&u;return(0,dl.jsxs)("div",{className:Tc()(sE,r),children:[s?(0,dl.jsx)("img",{className:oE,width:"14",height:"14",alt:"",src:(0,ku.g)(h?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")}):(0,dl.jsx)("span",{className:oE,children:(0,dl.jsx)(f,{iconSize:16,"aria-hidden":"true"})}),(0,dl.jsx)($_.I,{className:aE,iconClassName:lE,onClick:g,isPlaying:s,isLocked:!1,playAriaLabel:m,ref:t})]})})),uE=function(e){var t=e.children,n=e.onTriggerPlay,i=e.episodeUri,r=e.index,a=(0,vu.fU)(X_.A,{}),o=a.spec,s=a.logger,l=(0,cu.o)(),c=(0,Cu.y1)((function(){l({intent:"play",type:"double-click"});var e=s.logInteraction(o.segmentItemFactory({uri:i,position:r||0}).doubleHitPlay({itemToBePlayed:i}));n(e)}),As.s_,{leading:!0,trailing:!1});return(0,dl.jsx)("div",{className:rE,onDoubleClick:c,children:t})},dE=function(e){var t=e.segment,n=e.episodeUri,i=e.index,r=(0,vu.fU)(X_.A,{}),a=r.spec,o=r.logger,s=(0,eE.k)({episodeUri:n,start:t.start,stop:t.stop}),l=s.isActive,c=s.isPlaying,u=s.onClick,d={uri:n},p=function(e){var t=[{url:e.track.album.image}];return{type:Le.p.TRACK,uri:e.uri,uid:null,provider:null,images:t,name:e.track.name,mediaType:"audio",duration:{milliseconds:0},album:{type:Le.p.ALBUM,uri:e.track.album.uri,name:e.track.album.name,images:t},artists:e.track.artists.map((function(e){return{type:Le.p.ARTIST,name:e.name,uri:e.uri}}))}}(t),m=a.segmentItemFactory({uri:n,position:i||0}).playbackButtonFactory(),f=(0,ll.useCallback)((function(){u({}),l&&c?o.logInteraction(m.hitPause({itemToBePaused:n})):l&&!c?o.logInteraction(m.hitResume({itemToBeResumed:n})):o.logInteraction(m.hitPlay({itemToBePlayed:n}))}),[n,l,c,o,u,m]);return(0,dl.jsxs)(uE,{onTriggerPlay:u,episodeUri:n,children:[(0,dl.jsx)(cE,{segment:t,isActive:l,isPlaying:c,onClickPlay:function(){f()}}),(0,dl.jsx)(ru._,{context:d,item:p,titleTypeVariant:"ballad",subtitleTypeVariant:"mesto",onTitleClick:function(e){o.logInteraction(a.segmentItemFactory({uri:n,position:i||0}).albumLinkFactory({uri:d.uri}).hitUiNavigate({destination:e||""}))},onSubtitleClick:function(e){o.logInteraction(a.segmentItemFactory({uri:n,position:i||0}).artistLinkFactory({uri:e||"",position:0}).hitUiNavigate({destination:e||""}))}})]})},pE=function(e){var t=e.segment,n=e.episodeUri,i=e.index,r=(0,vu.fU)(X_.A,{}),a=r.spec,o=r.logger,s=(0,eE.k)({episodeUri:n,start:t.start,stop:t.stop}),l=s.isActive,c=s.isPlaying,u=s.onClick,d=function(e){var t=[];return{type:Le.p.UNKNOWN,uri:e.uri,uid:null,provider:null,images:t,name:e.title,mediaType:"audio",duration:{milliseconds:0},album:{type:Le.p.ALBUM,uri:e.show.uri,name:e.show.name,images:t},artists:[]}}(t),p=a.segmentItemFactory({uri:n,position:i||0}).playbackButtonFactory(),m=(0,ll.useCallback)((function(){u({}),l&&c?o.logInteraction(p.hitPause({itemToBePaused:n})):l&&!c?o.logInteraction(p.hitResume({itemToBeResumed:n})):o.logInteraction(p.hitPlay({itemToBePlayed:n}))}),[n,l,c,o,u,p]);return(0,dl.jsxs)(uE,{onTriggerPlay:u,episodeUri:n,children:[(0,dl.jsx)(cE,{segment:t,isActive:l,isPlaying:c,onClickPlay:function(){m()}}),(0,dl.jsx)(Yx.R,{children:(0,dl.jsx)(au.D,{variant:"ballad",semanticColor:"textBase",children:d.name})},d.name)]})},mE=n(76997),fE=function(e){var t,n=e.item,a=null===(t=n.metadata)||void 0===t?void 0:t["parent_episode.uri"],s=function(e){var t=(0,rm.G)(),n=(0,ll.useCallback)(function(){var n=(0,r.Z)(o().mark((function n(i,r){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",[]);case 2:return n.prev=2,n.next=5,t.getSegments(e,i,r);case 5:return a=n.sent,n.abrupt("return",a);case 9:return n.prev=9,n.t0=n.catch(2),n.abrupt("return",[]);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e,t){return n.apply(this,arguments)}}(),[e,t]);return n}(a),l=(0,ll.useState)([]),c=(0,i.Z)(l,2),u=c[0],d=c[1],p=(0,ll.useRef)(!1),m=(0,ll.useRef)(0),f=(0,ll.useCallback)((function(){var e=m.current;null!==e&&(p.current||(p.current=!0,s(e,10).then((function(e){d((function(t){var n=t.concat(e);return m.current=n.length+1,n})),p.current=!1}))))}),[s]);return(0,ll.useEffect)((function(){d([])}),[n.uri]),a?(0,dl.jsxs)(mE.$,{className:tE,children:[(0,dl.jsx)(mE.M,{className:nE,children:v.ag.get("music_and_talk.in_this_episode")}),(0,dl.jsx)("div",{className:iE,children:(0,dl.jsx)(q_.C,{onReachBottom:f,triggerOnInitialLoad:!0,children:u.map((function(e,t){return"MUSIC"===e.type?(0,dl.jsx)(dE,{segment:e,episodeUri:a},"".concat(e.uri,"-").concat(t)):(0,dl.jsx)(pE,{segment:e,episodeUri:a},"".concat(e.uri,"-").concat(t))}))})})]}):null},vE=n(39059),gE=n(96692),hE=n(86005),kE=n(19968),yE=n(38590);const bE="main-nowPlayingView-queue",SE="main-nowPlayingView-nextInQueue",xE="main-nowPlayingView-queueItem",OE="main-nowPlayingView-playNextButton",wE="main-nowPlayingView-playNextIcon",NE="main-nowPlayingView-playNext",_E="main-nowPlayingView-openQueue",EE="main-nowPlayingView-playNextButtonIcon",CE="main-nowPlayingView-queueItemEntityImage";var PE=ll.forwardRef((function(e,t){var n=e.className,i=void 0===n?"":n,r=e.item,a=e.onClickPlay,o=(0,uu.g)(),s=(0,ll.useMemo)((function(){return function(e){if((0,Re.iw)(e))return{Icon:Q_.J,label:v.ag.get("tracklist.a11y.play",e.name,e.show.name)};if((0,Re.G7)(e))return{Icon:yE.P,label:v.ag.get("tracklist.a11y.play",e.name,e.book.name)};if((0,Re.G_)(e)||(0,Re.RB)(e)){var t,n=(null===(t=e.artists)||void 0===t?void 0:t.map((function(e){return e.name})).join(v.ag.getSeparator()))||"";return{Icon:J_.F,label:v.ag.get("tracklist.a11y.play",e.name,n)}}return{Icon:J_.F,label:v.ag.get("play")}}(r)}),[r]),l=s.label,c=s.Icon,u=(0,ll.useCallback)((function(){return a(),o.skipToNext({uri:r.uri,uid:r.uid})}),[o,r,a]);return(0,dl.jsxs)("div",{className:Tc()(NE,i),"":"play-next-button",children:[(0,dl.jsx)("span",{className:wE,children:(0,dl.jsx)(c,{iconSize:16,"aria-hidden":"true"})}),(0,dl.jsx)($_.I,{className:OE,iconClassName:EE,onClick:u,isPlaying:!1,isLocked:!1,playAriaLabel:l,ref:t})]})})),IE=n(37557),jE=n(75081),AE=n(76436),TE=n(4488),DE=["children"];function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function FE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RE(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LE=function(e){var t=e.children,n=(0,dp.Z)(e,DE);return(0,dl.jsx)(ME,FE(FE({buttonSize:"sm"},n),{},{$_css:Qm.$_Y.white70,children:t}))},ME=(0,TE.ZP)(Rb.P).withConfig({displayName:"ButtonSecondary___StyledEncoreButtonSecondary",componentId:"sc-1nxt2rd-0"})((function(e){return{borderColor:e.$_css}})),UE="/search",ZE="/queue",BE=function(){return(0,dl.jsxs)(mE.$,{className:bE,children:[(0,dl.jsx)(mE.M,{children:v.ag.get("yourdj.npv.queue.title")}),(0,dl.jsx)(au.D,{as:"div",semanticColor:"textSubdued",children:v.ag.get("yourdj.npv.queue.description")})]})},VE=function(e){var t,n=e.isContextAd,i=(0,hE.W)(),r=i.nextUp,a=i.queued,o=(0,uu.g)(),s=(0,lc.s0)(),l=(0,lp.x)(),c=(0,vu.fU)(vE.C,{}),u=c.spec,d=c.logger,p=function(){return(0,dl.jsxs)(mE.$,{className:bE,children:[(0,dl.jsx)(mE.M,{children:v.ag.get("web-player.now-playing-view.empty-queue")}),(0,dl.jsx)(gN.default,{to:UE,children:(0,dl.jsx)(LE,{onClick:function(){var e=u.searchButtonFactory().hitUiNavigate({destination:UE});d.logInteraction(e)},children:v.ag.get("web-player.now-playing-view.empty-queue-cta")})})]})},m=(0,ll.useCallback)((function(){var e=u.openQueueButtonFactory().hitUiNavigate({destination:ZE});d.logInteraction(e),s(ZE)}),[s,u,d]),f=a[0]||r[0],g=(0,gE.O)();if(null!=l&&null!==(t=l.context)&&void 0!==t&&t.uri&&(0,ks.MW)(l.context.uri))return(0,dl.jsx)(BE,{});if(!l||!f)return(0,dl.jsx)(p,{});var h=l.context;return(0,dl.jsxs)(mE.$,{className:bE,children:[(0,dl.jsxs)(mE.M,{children:[(0,dl.jsx)("div",{className:SE,children:v.ag.get("queue.next-in-queue")}),(0,dl.jsx)(Jm.o,{buttonSize:"sm",condensed:!0,onClick:m,className:_E,semanticColor:"textSubdued",children:v.ag.get("web-player.now-playing-view.open-queue")})]}),(0,dl.jsx)(md._P,{menu:(0,dl.jsx)(IE.$,{context:h,item:f}),children:(0,dl.jsxs)("div",{className:xE,draggable:(0,AE.Q)(f),onDragStart:function(e){e.target===e.currentTarget&&f.uri&&g(e,[f.uri],(0,jE.R)(f))},children:[!n&&(0,dl.jsx)(PE,{item:f,onClickPlay:function(){var e,t,n,i=o.getState();if(i){var r=u.playButtonFactory({uri:f.uri}).hitSkipToNext({itemToBeSkipped:(null===(e=i.item)||void 0===e?void 0:e.uri)||"",positionMs:null!==(t=(0,kE.k)(i))&&void 0!==t?t:-1,totalContentMs:null!==(n=i.duration)&&void 0!==n?n:-1});d.logInteraction(r)}}}),(0,dl.jsx)(iu.T,{item:f,size:46,desiredLabel:"small",className:CE}),(0,dl.jsx)(ru._,{context:h,item:f,titleTypeVariant:"ballad",subtitleTypeVariant:"mesto",onTitleClick:function(){var e=u.titleFactory({uri:f.uri}).hitUiNavigate({destination:f.uri});d.logInteraction(e)},onSubtitleClick:function(){var e=u.artistFactory({uri:f.uri}).hitUiNavigate({destination:f.uri});d.logInteraction(e)}})]})})]})},HE=n(62200);const GE="f6_Fu_ei4TIJWR0wzvTk",WE="TLmzadNIdvV8sYzTuXRg",zE="MT9De6UrCVQ8Qo6o3ikA";var KE=ll.memo((function(){return(0,dl.jsx)("div",{className:GE,"aria-hidden":!0,children:(0,dl.jsxs)("div",{className:WE,children:[(0,dl.jsx)(HE.C,{as:"div",variant:"balladBold",className:zE,charCount:8,isLoading:!0}),[20,50,25].map((function(e,t){return(0,dl.jsx)(HE.C,{as:"div",variant:"mesto",className:zE,charCount:e,isLoading:!0},t)}))]})})})),YE=n(82526);const qE="m3pzWNRu8xGY36YIaCY1";var QE=function(e){var t=e.topics,n=e.logTopicNavigation;return!t||t.length<1?null:(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(mE.M,{children:v.ag.get("web-player.now-playing-view.discover-more")}),(0,dl.jsx)(YE.v,{topics:t,onClick:n,className:qE})]})},JE=function(e){var t,n,a,s,l=e.item,c=e.spec,u=(0,ll.useCallback)((function(){}),[]),d=(0,bl.Y)((function(e){var t;return null!==(t=null==e?void 0:e.isPaused)&&void 0!==t?t:void 0})),p=(0,uu.g)(),m=(0,Rc.$o)(l.uri),f=m.isPlaying,g=m.isActive,h=(0,cu.o)(),k=(0,T_.E)(),y=null===(t=(0,D_.I)(l.uri))||void 0===t?void 0:t.episodeOrChapter,b=Y_(l),S=(0,ll.useCallback)((function(e,t,n,i){var r="play";!f||0!==e&&t||(r="pause"),h({intent:r,targetUri:l.uri,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),y&&k?A_.y.set((function(){return{triggerId:n||"activation-trigger-mme",triggerAction:null}})):g&&!t?d?(null==i||i("resume"),p.resume()):(null==i||i("pause"),p.pause()):p.seekTo(e)}),[f,h,l.uri,y,k,g,d,p]),x=(0,ll.useCallback)((function(e,t){S(e,!0,t)}),[S]),O=(a={uri:l.uri},(0,Mn.a)(F_,a,s)),w=O.loading,N=O.error,_=O.data,E=(0,ll.useState)(null),C=(0,i.Z)(E,2),P=C[0],I=C[1],j=(0,ll.useCallback)(function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R_.l)(t);case 2:n=e.sent,I(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);if((0,ll.useEffect)((function(){y&&!(0,Bo.Ey)(y)&&y.transcript&&y.transcript.length>0&&j(y.transcript[0].cdnUrl)}),[j,y]),w&&l.uri&&!N)return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(KE,{}),(0,dl.jsx)(KE,{})]});if(!l.uri||"Episode"!==(null==_||null===(n=_.episodeUnionV2)||void 0===n?void 0:n.__typename)||w||N)return null;var A=null==_?void 0:_.episodeUnionV2.podcastV2.data,T="Podcast"===A.__typename?A.topics.items:[];return(0,dl.jsxs)(dl.Fragment,{children:[b&&(0,dl.jsx)(fE,{item:l}),(0,dl.jsxs)(vu.Nh,{spec:c,children:[y&&y.type===Le.p.EPISODE&&y.transcript&&y.transcript.length>0?(0,dl.jsxs)(mE.$,{className:Z_,children:[(0,dl.jsx)(mE.M,{children:v.ag.get("web-player.now-playing-view.transcript")}),P&&(0,dl.jsx)(K_,{transcriptSections:P||[],onTimeStampClick:x,episodeUri:l.uri})]}):null,(0,dl.jsx)(VE,{}),(0,dl.jsx)(QE,{topics:T,logTopicNavigation:u})]})]})},XE=function(e){var t=e.item,n=e.spec;return(0,sh.k)()?(0,dl.jsx)(JE,{item:t,spec:n}):(0,dl.jsx)(dl.Fragment,{})},$E=function(){return(0,dl.jsx)(dl.Fragment,{})},eC=Spicetify.GraphQL.Definitions["queryNpvArtist"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryNpvArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"artistUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackUri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"artistUri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"verified"}},{kind:"Field",name:{kind:"Name",value:"biography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"Field",name:{kind:"Name",value:"externalLinks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistExternalLinkItem"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"visuals"}}]}},{kind:"Field",name:{kind:"Name",value:"goods"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"events"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"concerts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"2"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"concerts"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"stats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"monthlyListeners"}},{kind:"Field",name:{kind:"Name",value:"worldRank"}},{kind:"Field",name:{kind:"Name",value:"topCities"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"artistTopCity"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"followers"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"trackUri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"3"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"merchItem"}}]}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"artistExternalLinkItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Link"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"visuals"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistVisuals"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"}}]}},{kind:"Field",name:{kind:"Name",value:"gallery"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headerImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"image"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"image"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"concerts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"category"}},{kind:"Field",name:{kind:"Name",value:"festival"}},{kind:"Field",name:{kind:"Name",value:"venue"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artistsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"concertArtists"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"concertArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistPageV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"artistTopCity"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CityListenerStats"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"numberOfListeners"}},{kind:"Field",name:{kind:"Name",value:"city"}},{kind:"Field",name:{kind:"Name",value:"country"}},{kind:"Field",name:{kind:"Name",value:"region"}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"merchItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Merch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"price"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]))},tC=n(52008),nC=n(72590),iC=n(39447),rC=n(94715),aC=n(98335),oC=n(12033),sC=n(4762);const lC="main-nowPlayingView-artistBio",cC="main-nowPlayingView-artistBioContent",uC="main-nowPlayingView-artistBioButton",dC="main-nowPlayingView-artistBioHasImage",pC="muTn937T_T9l0xqjlN8A",mC="main-nowPlayingView-artistBioText",fC="main-nowPlayingView-artistBioPlaceholderWrapper";var vC=new Set(["spotify:artist:5UUG83KSlqPhrBssrducWV"]),gC=function(e){var t,n,r,a=e.artistUri,o=e.artist,s=e.visuals,l=e.stats,c=e.externalLinks,u=void 0===c?[]:c,d=(0,ll.useState)(!1),p=(0,i.Z)(d,2),m=p[0],g=p[1],h=s.gallery,k=s.avatarImage,y=l.monthlyListeners,b=l.worldRank,S=l.followers,x=l.topCities,O=(0,f.EC)(a).toURLPath(!0),w=(0,aC.k)({uri:a,type:"locale"})?(0,ms.is)(O,v.ag.getUrlLocale()):O,N=(0,vu.fU)(nC.w,{}),_=N.spec,E=N.logger,C=(0,lc.s0)(),I=(0,ll.useCallback)((function(){var e=_.hitUiReveal();E.logInteraction(e),g(!0),C(w)}),[_,E,C,w]);if(vC.has(a)||null===(t=o.biography)||void 0===t||!t.text)return null;var j=[];h.items.forEach((function(e){var t=e.sources.map(di.Bi),n=(0,oC.X)(t,{desiredLabel:"large",desiredSize:600});n&&j.push(n)}));var A=j.find((function(e){return(e.width||0)>=(e.height||0)})),T=[];null==k||k.sources.forEach((function(e){var t=(0,di.Bi)(e);t&&T.push(t)}));var D=A&&{backgroundImage:"linear-gradient(".concat(Qm.u1d," 0%, ").concat(Qm.ajA," 100%), url(").concat(A.url,")")},R=o.verified&&!A&&T.length>0||!o.verified&&!A;return(0,dl.jsxs)(mE.$,{className:lC,children:[(0,dl.jsx)("button",{type:"button","aria-label":o.name,className:Tc()(uC,(0,P.Z)({},dC,!!D)),onClick:I,style:D,"":"npv-artist-bio-button",children:(0,dl.jsxs)("div",{className:Tc()(cC),children:[o.verified&&(0,dl.jsx)(rC.S,{text:v.ag.get("artist.verified")}),R&&(0,dl.jsx)(iC.q,{images:T,label:o.name,width:80,userIconSize:30,testID:"npv-artist-bio-avatar",customPlaceholder:(0,dl.jsx)("div",{className:fC,"":"npv-artist-bio-placeholder-wrapper",children:(0,dl.jsx)(tC.a,{iconSize:30})})}),(0,dl.jsxs)("div",{className:mC,children:[(0,dl.jsx)(au.D,{as:"div",variant:"ballad",children:!!y&&v.ag.get("artist.monthly-listeners-count",y)}),(0,dl.jsx)("div",{children:(0,dl.jsx)(au.D,{as:"span",variant:"mesto",className:pC,children:(0,dl.jsx)(hN.N,{source:o.biography.text})})})]})]})}),(0,dl.jsx)(sC.W,{artistUri:a,name:o.name,bio:null===(n=o.biography)||void 0===n?void 0:n.text,bioSource:null===(r=o.biography)||void 0===r?void 0:r.type,worldRank:b||0,isOpen:m,closeModal:function(){return g(!1)},images:j,externalLinks:u,topCities:null==x?void 0:x.items,followers:S,monthlyListeners:l.monthlyListeners})]})};const hC="main-nowPlayingView-creditsHeader",kC="main-nowPlayingView-creditsGroup",yC="main-nowPlayingView-creditsSource",bC="M0CzbL0Aoihruh3FEV_c",SC="zhpxNFtPj9BgqjfJkKoP",xC="VPhePP8rNWdt0eVh5lJC";var OC=function(e){var t=e.roleCredits,n=e.sources;return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)("div",{className:kC,children:t.filter((function(e){return e.artists.length>0})).map((function(e){return(0,dl.jsxs)("div",{children:[(0,dl.jsx)(au.D,{as:"p",variant:"ballad",semanticColor:"textBase",children:Gv(e.roleTitle)}),(0,dl.jsx)(au.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",children:e.artists.map((function(e){return e.name})).join(v.ag.getSeparator())})]},e.roleTitle)}))}),n.length>0&&(0,dl.jsxs)(au.D,{className:yC,as:"p",variant:"mesto",children:[v.ag.get("track-credits.source"),":"," ",n.join(v.ag.getSeparator())]})]})},wC=function(e){var t=e.extendedCredits;return t&&0!==t.length?(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsxs)("div",{className:kC,children:[(0,dl.jsx)(mE.M,{className:hC,children:v.ag.get("track-credits.additional-credits")}),t.map((function(e){return(0,dl.jsxs)("div",{children:[(0,dl.jsx)(au.D,{as:"p",variant:"ballad",semanticColor:"textBase",children:Wv(e.roleTitle)}),(0,dl.jsx)(au.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",children:e.artists.length>0?e.artists.map((function(e){return e.name})).join(v.ag.getSeparator()):"-"})]},e.roleTitle)}))]}),(0,dl.jsxs)(au.D,{as:"p",variant:"mesto",className:SC,children:[v.ag.get("track-credits.source"),":"," ",(0,dl.jsxs)(gN.default,{to:"https://soundbetter.com",target:"_blank",className:xC,children:["SoundBetter",(0,dl.jsx)(_w.T,{iconSize:12,className:bC})]})]})]}):null},NC=function(e){var t=e.uri,n=(0,Hv.J)(cs.pH.V,[t.id],{cacheTime:12e6,staleTime:6e6}),i=n.data,r=n.error,a=n.loading;if(r||a||!i)return null;var o=i.body;return(0,dl.jsxs)(mE.$,{children:[(0,dl.jsx)(mE.M,{className:hC,children:v.ag.get("web-player.now-playing-view.credits")}),o.roleCredits&&(0,dl.jsx)(OC,{roleCredits:o.roleCredits,sources:o.sourceNames}),o.extendedCredits&&(0,dl.jsx)(wC,{extendedCredits:o.extendedCredits})]})},_C=function(){var e=(0,bl.Y)((function(e){var t,n;return{uri:null==e||null===(t=e.item)||void 0===t?void 0:t.uri,isTrackPlaying:(0,Re.G_)(null!==(n=null==e?void 0:e.item)&&void 0!==n?n:void 0)}}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)})),t=e.uri,n=e.isTrackPlaying,i=(0,f.EC)(t);return n&&i?(0,dl.jsx)(NC,{uri:i}):null},EC=n(67854),CC=n(28141);const PC="main-nowPlayingView-sectionHeaderSpacing",IC="main-nowPlayingView-lyricsTitle",jC="main-nowPlayingView-lyricsControls",AC="main-nowPlayingView-lyricsGradient",TC="main-nowPlayingView-lyricsContent";var DC=function(){var e=(0,vu.fU)(EC.p,{}),t=e.spec,n=e.logger,i=y_().setMode;return(0,dl.jsxs)("div",{className:jC,children:[(0,dl.jsx)(Lh,{label:v.ag.get("web-player.now-playing-view.lyrics.cinema-mode"),onClick:function(){i(_y.LyricsMode.cinema),n.logInteraction(t.cinemaModeButtonFactory().hitUiReveal()),n.logImpression(t.cinemaModeButtonFactory().impression())},children:(0,dl.jsx)(Ah.S,{iconSize:16})}),(0,dl.jsx)(Lh,{label:v.ag.get("web-player.now-playing-view.close.lyrics"),onClick:function(){i(_y.LyricsMode.none),n.logInteraction(t.closeLyricsButtonFactory().hitUiHide())},children:(0,dl.jsx)(Nv.k,{iconSize:16})})]})},RC=function(e){var t=e.item,n=(0,vu.fU)(EC.p,{}),i=n.spec,r=n.logger,a=(0,ll.useRef)(null),o=y_(),s=o.mode,l=o.setMode,c=(0,ll.useRef)(null),u=(0,ll.useRef)(0),d=(0,Oh.C)(t.uri,null==t?void 0:t.images).data,p=(0,bl.Y)((function(e){var t;return null==e||null===(t=e.nextItems)||void 0===t?void 0:t[0]}),(function(e,t){return(null==e?void 0:e.uri)===(null==t?void 0:t.uri)}));(0,Oh.C)(null==p?void 0:p.uri,null==p?void 0:p.images);var m=(0,ll.useCallback)((function(){u.current=Date.now()}),[]),f=(0,ll.useCallback)((function(e){var t,n,i=e.lineRef,r=e.isActiveLine,o=e.shouldAnimateScroll,s=e.activeLineIndex,l=e.isFirstLine;if(a.current&&c.current){var d,p,m=void 0;if(i.current&&r)m=(null===(d=i.current)||void 0===d?void 0:d.offsetTop)-(null===(p=c.current)||void 0===p?void 0:p.offsetTop)-16;else l&&s<0&&(m=0);if(void 0!==m){var f=null===(t=c.current)||void 0===t?void 0:t.scrollTop,v=Math.abs(f-m),g=a.current.clientHeight,h=Date.now()-u.current<2e3,k=u.current>0&&v>1*g;if(!(h||k)){u.current=0;var y="visible"===document.visibilityState&&o?"smooth":"auto";null===(n=c.current)||void 0===n||n.scrollTo({top:m,behavior:y})}}}}),[]);if((0,ll.useLayoutEffect)((function(){var e;u.current=0,null===(e=c.current)||void 0===e||e.scrollTo({top:0,behavior:"auto"})}),[t.uri]),null==d||!d.hasLyrics)return null;if(s===_y.LyricsMode.npv){var g=(null==d?void 0:d.hasLyrics)&&!d.isTimeSynced,h={"--lyrics-color-active":g?Qm.ixZ:d.colors.activeText,"--lyrics-color-inactive":d.colors.text,"--lyrics-color-passed":Ni.Il.fromCSS(d.colors.activeText,.7).toCSS(Ni.jT.RGBA),"--lyrics-color-background":d.colors.background};return(0,dl.jsxs)(mE.$,{className:Tc()(PC,AC),style:h,ref:a,children:[(0,dl.jsxs)(mE.M,{className:IC,children:[v.ag.get("web-player.lyrics.title"),(0,dl.jsx)(DC,{})]}),(0,dl.jsxs)("div",{className:TC,ref:c,onWheel:m,onScroll:m,children:[g&&(0,dl.jsx)(au.D,{as:"p",variant:"mesto",dir:"auto",style:{color:d.colors.text},children:v.ag.get("web-player.lyrics.unsynced")}),(0,dl.jsx)(CC.Z,{trackUri:t.uri,data:d,format:"card",onActiveLineChange:f})]})]})}return(0,dl.jsx)(mE.$,{className:PC,children:(0,dl.jsxs)(mE.M,{className:IC,children:[v.ag.get("web-player.lyrics.title"),(0,dl.jsx)(LE,{onClick:function(){l(_y.LyricsMode.npv),r.logInteraction(i.showLyricsButtonFactory().hitUiReveal()),r.logImpression(i.showLyricsButtonFactory().impression())},children:v.ag.get("web-player.now-playing-view.show.lyrics")})]})})},FC=n(6486);const LC="main-nowPlayingView-merch";var MC=function(e){var t=e.artistId,n=e.merch;return!n||n.length<1?null:(0,dl.jsxs)(mE.$,{className:LC,children:[(0,dl.jsx)(mE.M,{children:v.ag.get("web-player.now-playing-view.npv-merch")}),(0,dl.jsx)(FC.ArtistOffers,{items:n,artistId:t,merchVariant:qt.sM.VARIANTA,variant:"ballad"})]})},UC=n(61366),ZC=n(77617),BC=n(48547);const VC="IgTMXVbZtqtZwu3GZASd",HC="uvIvZ4XqfEFs88BAPaI8",GC="svHFeMC3Ef_TpSdRyvsM";function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WC(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var KC=function(e){var t=e.artistId,n=e.data,i=e.variant,r=void 0===i?"ballad":i,a=(0,BC.GJ)(t),o=(0,lc.s0)(),s=(0,vu.fU)(UC.createDesktopOnTourSectionEventFactory,{data:{uri:a,position:0,reason:""}}),l=s.spec,c=s.logger,u={items:n.items.map((function(e){return zC(zC({},e),{},{artists:{items:e.artistsV2.items.flatMap((function(e){return"Artist"===e.data.__typename?e.data:[]}))}})})),totalCount:n.totalCount};return u.items.length?(0,dl.jsxs)(mE.$,{className:VC,children:[(0,dl.jsxs)(mE.M,{children:[(0,dl.jsx)("div",{children:v.ag.get("web-player.now-playing-view.on-tour")}),u.items.length!==u.totalCount&&(0,dl.jsx)(Jm.o,{buttonSize:"sm",condensed:!0,className:GC,onClick:function(){!function(){var e=l.seeAllButtonFactory({uri:a}).hitUiNavigate({destination:"".concat(a,":concerts")});c.logInteraction(e);var t=(0,f.EC)("".concat(a,":concerts")).toURLPath(!0);o(t)}()},semanticColor:"textSubdued",children:v.ag.get("web-player.now-playing-view.show-all")})]}),u.items.map((function(e,t){return(0,dl.jsx)("div",{className:HC,children:(0,dl.jsx)(ZC.A,{concert:e,index:t,spec:l,condensed:!0,elevatedDate:!0,titleVariant:r})},e.uri)}))]}):null},YC=function(e){var t,n,i=e.item,r=e.spec,a=(t={artistUri:i.artists[0].uri,trackUri:i.uri},n={cacheTime:12e5,staleTime:6e5},(0,Mn.a)(eC,t,n)),o=a.loading,s=a.error,l=a.data,c=(0,Au.W6)(ys.Ol),u=(0,Au.W6)(ys.xU),d=Y_(i);if(o&&i.uri&&!s)return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(KE,{}),(0,dl.jsx)(KE,{}),(0,dl.jsx)(KE,{})]});if(!i.uri||"Artist"!==(null==l?void 0:l.artistUnion.__typename)||"Track"!==(null==l?void 0:l.trackUnion.__typename)||o||s)return null;var p=l.artistUnion,m=p.profile,f=p.stats,v=p.visuals,g=p.profile.externalLinks;return(0,dl.jsxs)(dl.Fragment,{children:[c&&(0,dl.jsx)(RC,{item:i}),(0,dl.jsxs)(vu.Nh,{spec:r,children:[(0,dl.jsx)(gC,{artistUri:l.artistUnion.uri,artist:m,stats:f,visuals:v,externalLinks:g.items}),u&&(0,dl.jsx)(_C,{}),(0,dl.jsx)(KC,{artistId:l.artistUnion.id,data:l.artistUnion.goods.events.concerts}),(0,dl.jsx)(MC,{artistId:l.artistUnion.id,artistUri:l.artistUnion.uri,merch:l.trackUnion.merch.items}),d&&(0,dl.jsx)(fE,{item:i})]})]})},qC=function(e){var t=e.item,n=e.spec;return(0,sh.k)()&&t.artists[0].uri?(0,dl.jsx)(YC,{item:t,spec:n}):(0,dl.jsx)(dl.Fragment,{})},QC=function(e){var t=e.item,n=e.spec;return(0,P_.G)(t)&&!t.isLocal?(0,dl.jsx)(qC,{item:t,spec:n}):(0,P_.G)(t)&&t.isLocal?(0,dl.jsx)($E,{}):(0,Re.iw)(t)?(0,dl.jsx)(XE,{item:t,spec:n}):(0,Re.G7)(t)?(0,dl.jsx)(j_,{}):(0,Re.k6)(t)?(0,dl.jsx)(I_,{}):null},JC=function(e){var t=e.item,n=e.spec,i=(0,vu.$P)(),r=(0,ll.useCallback)((function(e){var r=e?n.heartButtonFactory().hitLike({itemToBeLiked:t.uri}):n.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:t.uri});i.logInteraction(r)}),[t.uri,i,n]);return(0,Re.G_)(t)?(0,dl.jsx)(Ep.B,{uri:t.uri,size:Sk.q.xs,onClick:r}):(0,Re.iw)(t)?(0,dl.jsx)(xk.w,{uri:t.uri,size:Sk.q.xs,onClick:r}):null};function XC(e){return(0,Re.G_)(e)||(0,Re.RB)(e)||(0,Re.iw)(e)||(0,Re.G7)(e)?e.name:(0,Re.k6)(e)?"":(0,Me.U)(e)}var $C=function(e){var t=e.context,n=e.item,i=(0,vu.fU)(S_.createDesktopNpvHeaderSectionEventFactory,{}),r=i.spec,a=i.logger;return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(JC,{item:n,spec:r}),(0,dl.jsx)(md.yj,{menu:(0,dl.jsx)(IE.$,{context:t,item:n}),children:(0,dl.jsx)($x.z,{size:$x.q.xs,label:v.ag.get("more.label.context",XC(n)),onClick:function(){a.logInteraction(r.contextMenuButtonFactory().hitUiReveal())}})})]})},eP=n(64848),tP=n(16034);const nP="main-nowPlayingView-coverArt";var iP=function(e){var t,n=e.context,i=e.item,r=e.index,a=(0,vu.fU)(S_.createDesktopNpvHeaderSectionEventFactory,{}),o=a.spec,s=a.logger,l=(0,gE.O)();return(0,dl.jsx)(dl.Fragment,{children:(0,dl.jsx)(md._P,{menu:(0,dl.jsx)(IE.$,{context:n,item:i}),children:(0,dl.jsx)("div",{draggable:(0,Re.G_)(i)||(0,Re.iw)(i),onDragStart:function(e){l(e,[i.uri],(0,jE.R)(i))},children:(0,dl.jsx)(tP.y,{uri:n.uri,owner:null===(t=n.metadata)||void 0===t?void 0:t.context_owner,children:(0,dl.jsx)(eP.R,{context:n,item:i,index:r,isVisible:!0,onClick:function(){s.logInteraction(o.coverArtFactory({uri:i.uri}).hitUiNavigate({destination:i.uri}))},adEventReason:"visual_enhancement",children:(0,dl.jsx)(iu.T,{className:nP,item:i,maxSize:384,desiredLabel:"xlarge"})})})})})})};const rP="main-nowPlayingView-nowPlayingWidget",aP="main-nowPlayingView-nowPlayingGrid",oP="main-nowPlayingView-contextItemInfo",sP="main-nowPlayingView-trackInfo";var lP=(0,ll.lazy)((function(){return n.e(1048).then(n.bind(n,61048))})),cP=(0,ll.lazy)((function(){return n.e(5390).then(n.bind(n,60822))})),uP=function(e){var t,n,i=e.showContextItemInfo,r=void 0===i||i,a=e.hideCoverArt,o=void 0!==a&&a,s=(0,vu.fU)(S_.createDesktopNpvHeaderSectionEventFactory,{}),l=s.spec,c=s.logger,u=(0,lp.x)();if(null===u)return null;var d=u.context,p=u.item,m=u.index,f="isPodcastAd"in p&&p.isPodcastAd&&(null===(t=p.metadata)||void 0===t?void 0:t["podcast_ads.buttonMessage"])&&(null===(n=p.metadata)||void 0===n?void 0:n["podcast_ads.tagline"]);return(0,dl.jsxs)("div",{className:rP,children:[(0,dl.jsxs)("div",{className:aP,children:[!o&&(0,dl.jsx)(iP,{context:d,item:p,index:m}),r?(0,dl.jsxs)("div",{className:oP,children:[(0,dl.jsx)(ru._,{isNowPlayingView:!0,className:Tc()(sP),context:d,item:p,titleTypeVariant:"canon",subtitleTypeVariant:"ballad",onTitleClick:function(e){c.logInteraction(l.titleFactory({uri:p.uri}).hitUiNavigate({destination:e||""}))},onSubtitleClick:function(e){c.logInteraction(l.artistFactory({uri:p.uri}).hitUiNavigate({destination:e||""}))}}),(0,Re.k6)(p)?f?null:(0,dl.jsx)(ll.Suspense,{fallback:!0,children:(0,dl.jsx)(lP,{item:p,onCtaClick:function(e){c.logInteraction(l.titleFactory({uri:p.uri}).hitUiNavigate({destination:e||""}))}})}):(0,dl.jsx)($C,{context:d,item:p})]}):null]}),f&&(0,dl.jsx)(ll.Suspense,{fallback:!0,children:(0,dl.jsx)(cP,{item:p,onCtaClick:function(e){c.logInteraction(l.titleFactory({uri:p.uri}).hitUiNavigate({destination:e||""}))}})})]})},dP=function(){var e=(0,nl.I0)(),t=(0,Uh.m)();return(0,ll.useEffect)((function(){t===Mh.s.NowPlayingView&&e((0,cy.Bl)(Zh.B.npv))}),[e,t]),(0,dl.jsx)("div",{id:"VideoPlayerNpv_ReactPortal"})};const pP="main-nowPlayingView-content",mP="main-nowPlayingView-gradient",fP="main-nowPlayingView-panelOpenDiv";var vP=function(e){var t=e.item,n=e.spec,i=(0,nl.v9)((function(e){var t;return null===(t=e.ads)||void 0===t?void 0:t.vto})),r="audio"!==(null==t?void 0:t.mediaType)&&((null==t?void 0:t.type)===Le.p.AD&&(null==i?void 0:i.isMinimized)||(null==t?void 0:t.type)===Le.p.EPISODE);return(0,dl.jsx)("div",{className:fP,"":"NPV_Panel_OpenDiv",children:t&&(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(uP,{hideCoverArt:r}),(0,dl.jsx)(QC,{item:t,spec:n}),!(0,Re.iw)(t)&&(0,dl.jsx)(VE,{})]})})},gP=function(e){var t=e.item,n=e.spec,i=e.currentPanel;return i===Mh.s.NowPlayingView?(0,ks.At)(t)?(0,dl.jsx)(ks.tZ,{spec:n}):(0,dl.jsx)(vP,{currentPanel:i,item:t,spec:n}):(0,dl.jsx)("div",{"":"NPV_Panel_ClosedDiv"})},hP=function(e){var t=e.currentPanel,n=((0,lp.x)()||{item:null}).item,i=(0,vu.fU)(b_.m,{data:{uri:n?n.uri:""}}),r=i.spec,a=i.UBIFragment,o=(0,vu.Wi)(r),s=function(){var e,t,n=(0,nl.v9)(ef.Gg).user,i=(0,bl.Y)((function(e){return{item:null==e?void 0:e.item,context:null==e?void 0:e.context}}),(function(e,t){var n,i;return(null===(n=e.item)||void 0===n?void 0:n.uri)===(null===(i=t.item)||void 0===i?void 0:i.uri)})),r=i.item,a=i.context;if(!r||!a)return{title:null,link:null};var o=(0,x_.gB)();if(a.uri===o.uri||a.uri===O_.b)return{title:o.name,link:w_(O_.b)};if((0,Re.k6)(r))return{title:v.ag.get("ad-formats.advertisement"),link:null};if("queue"===r.provider)return{title:v.ag.get("playback-control.queue"),link:w_("spotify:app:queue")};var s=(0,x_.I2)(null==n?void 0:n.id);if(a.uri===(null==s?void 0:s.uri))return{title:null==s?void 0:s.name,link:w_(null==s?void 0:s.uri)};var l,c,u=(0,x_.bl)(null==n?void 0:n.id);if(a.uri===(null==u?void 0:u.uri))return{title:null==u?void 0:u.name,link:w_(null==u?void 0:u.uri)};if((0,ks.MW)(a.uri))return{title:null!==(l=null===(c=a.metadata)||void 0===c?void 0:c.context_description)&&void 0!==l?l:"",link:null};var d=(0,f.EC)(a.uri);if((null==d?void 0:d.type)===f.JM.TRACK||(null==d?void 0:d.type)===f.JM.EPISODE||(null==d?void 0:d.type)===f.JM.SHOW){if((0,Re.G_)(r))return{title:r.name,link:w_(r.uri)};var p,m;if((0,Re.iw)(r)||(0,Re.G7)(r))return{title:null!==(p=null===(m=r.metadata)||void 0===m?void 0:m["show.publisher"])&&void 0!==p?p:r.name,link:w_(r.uri)}}return{title:null!==(e=null===(t=a.metadata)||void 0===t?void 0:t.context_description)&&void 0!==e?e:"",link:w_(a.uri)}}(),l=s.title,c=s.link,u=function(){var e,t,n=((0,lp.x)()||N_).item,i=(0,ks.oP)().isNarrator,r=(0,Au.W6)(ys.Mk),a=(0,wh.b)(null==n||null===(e=n.images)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.url,ZS.Sns,"colorDark");return i?ks.QU:r?a:null}(),d=u?{"--background-base":u}:{},p=(0,vu.$P)(),m=(0,ll.useMemo)((function(){return(0,S_.createDesktopNpvHeaderSectionEventFactory)()}),[]);return(0,dl.jsx)(fx.fd,{surface:fx.Tg.NOW_PLAYING,children:(0,dl.jsx)(Gy.DJ.Provider,{value:"now_playing_panel",children:(0,dl.jsx)(__.l,{label:v.ag.get("web-player.now-playing-view.label"),style:d,itemUri:null!=n&&n.uri?n.uri:"","":"now-playing-view-container",children:(0,dl.jsx)(a,{spec:r,children:(0,dl.jsxs)(E_.K,{className:Tc()(pP,(0,P.Z)({},mP,null!==u)),ref:o,children:[(0,dl.jsx)(C_.V,{title:l,link:c,panel:Mh.s.NowPlayingView,onClose:function(){var e=m.closeButtonFactory().hitUiHide();p.logInteraction(e)},isAdvert:null!==n&&(0,Re.k6)(n)}),(0,dl.jsx)(dP,{}),(0,dl.jsx)(gP,{currentPanel:t,item:n,spec:r})]})})})})})},kP=n(81438);const yP="Cffu0OWzcoGaMWSXoGsq",bP="L5PLOiBhdFNjs4FEu8ln";var SP=Date.now()-6912e5,xP=ll.memo((function(e){var t=e.children,n=(0,ll.useState)(!1),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,Kc.z)("npv-onboarding-dismissed-time",SP),l=(0,i.Z)(s,2),c=(l[0],l[1]),u=(0,Kc.z)("npv-onboarding-never-show-again",!1),d=(0,i.Z)(u,2),p=(d[0],d[1]),m=(0,ll.useCallback)((function(){A_.y.set((function(){return{triggerId:null,triggerAction:null}})),c(Date.now()),p(a)}),[a,c,p]),f=(0,ll.useCallback)((function(e){var t=e.currentTarget.checked;o(t)}),[]),g=sb()(v.ag.get("web-player.now-playing-view.onboarding.description"),{transform:{b:function(e){return(0,dl.jsx)(au.D,{variant:"balladBold",semanticColor:"textBase",children:e.children})}}});return(0,dl.jsx)(kP.P,{id:"npv-onboarding",className:yP,options:{isCTA:!0,getTitle:function(){return v.ag.get("web-player.now-playing-view.onboarding.title")},getDescription:function(){return g},primaryButtonText:function(){return v.ag.get("web-player.now-playing-view.onboarding.dismiss")},checkboxText:function(){return v.ag.get("web-player.now-playing-view.onboarding.do-not-show-again")},placement:"top-end",tippyWrapperClassName:bP,shouldHideOnOutsideClick:function(){return!1}},onPrimaryButtonClick:m,onCheckboxClick:f,children:t})}));var OP=Date.now()-6912e5,wP=function(){var e,t,n,r,a,o,s=(e=(0,ll.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=(0,Uh.m)(),o=(0,ll.useRef)(Mh.s.Disabled),(0,ll.useEffect)((function(){a!==Mh.s.NowPlayingView&&o.current===Mh.s.NowPlayingView?r(!0):r(!1),o.current=a}),[a]),n),l=(0,Kc.z)("npv-onboarding-dismissed",!1),c=(0,i.Z)(l,2),u=c[0],d=c[1],p=(0,Kc.z)("npv-onboarding-dismissed-time",OP),m=(0,i.Z)(p,1)[0],f=(0,Kc.z)("npv-onboarding-never-show-again",!1),v=(0,i.Z)(f,1)[0],g=(Date.now()-m)/36e5<24,h=(0,ll.useMemo)((function(){return!v&&((!u||!g)&&!!s)}),[g,s,u,v]);(0,ll.useEffect)((function(){var e=null;return h&&(e=setTimeout((function(){A_.y.set((function(){return{triggerId:"npv-onboarding",triggerAction:null}})),d(!0)}),500)),function(){null!==e&&clearTimeout(e)}}),[d,h])},NP=function(e){var t=e.onClick,n=(0,m_.T)(Mh.s.NowPlayingView),i=n.isActive,r=n.toggle,a=y_(),o=a.mode,s=a.setMode,l=(0,bl.Y)((function(e){return{item:null==e?void 0:e.item}}),(function(e,t){var n,i;return(null===(n=e.item)||void 0===n?void 0:n.uri)===(null===(i=t.item)||void 0===i?void 0:i.uri)})).item,c=!l||(0,Re.k6)(l);return(0,dl.jsx)(xP,{children:(0,dl.jsx)(hk,{isActive:i,disabled:c,onToggle:function(){null==t||t(!i),r(),o===_y.LyricsMode.cinema&&s(_y.LyricsMode.npv)},icon:p_.$,label:v.ag.get("web-player.now-playing-view.label"),testId:"control-button-npv"})})},_P=n(16202);const EP="ZMXGDTbwxKJhbmEDZlYy";var CP=ll.memo((function(e){var t=e.onClick,n=(0,lc.TH)(),r=(0,ll.useState)(!1),a=(0,i.Z)(r,2),o=a[0],s=a[1],l=(0,bl.Y)((function(e){var t;return null==e||null===(t=e.item)||void 0===t?void 0:t.uri})),c="/lyrics"===n.pathname;return(0,ll.useEffect)((function(){l&&(0,f.wj)(l)?(0,_P.y)(l).then((function(e){s(e)})).catch((function(){s(!1)})):!0===o&&s(!1)}),[o,l]),o||c?(0,dl.jsx)(hk,{className:Tc()(EP,e.className),isActive:c,onToggle:t,label:v.ag.get("web-player.lyrics.title"),testId:"lyrics-button",icon:fk.r}):null})),PP="/lyrics",IP=function(e){var t=e.onClick,n=e.className,i=(0,nl.v9)(ef.Gg).isAnonymous,r=(0,lc.TH)(),a=(0,lc.s0)(),o=(0,bl.Y)((function(e){var t,n;return!(null==e||null===(t=e.item)||void 0===t||null===(n=t.metadata)||void 0===n||!n["segment.index"])})),s=(0,ll.useCallback)((function(){r.pathname.startsWith(PP)?(null==t||t(null),a(-1)):(null==t||t(PP),a(PP,{state:{referrer:"now_playing_bar"}}))}),[r.pathname,a,t]);return i||o?null:(0,dl.jsx)(CP,{onClick:s,className:n})},jP=n(4949),AP=n(36902),TP=n(25229),DP=n(50703);var RP=function(e){var t=e.uri,n=e.to,r=e.children,a=e.onDrop,o=e.onNavigate,s=e.className,l=(0,ll.useState)(!1),c=(0,i.Z)(l,2),u=c[0],d=c[1],p=(0,ll.useRef)(null),m=(0,lc.s0)(),v=(0,nl.I0)(),g=(0,Nf.y)(),h=(0,AP.o)(),k=(0,uu.g)(),y=function(e){var t=(0,f.EC)(e),n=(0,nl.v9)(ef.n5);switch(null==t?void 0:t.type){case f.JM.PLAYLIST:case f.JM.PLAYLIST_V2:var i;if((0,f.WP)(t)&&(i=t.username),n&&i===n)return[DP.ZP[f.JM.TRACK],DP.ZP[f.JM.LOCAL],DP.ZP[f.JM.ALBUM]];break;case f.JM.COLLECTION:return[DP.ZP[f.JM.TRACK],DP.ZP[f.JM.ALBUM],DP.ZP[f.JM.ARTIST],DP.ZP[f.JM.PLAYLIST],DP.ZP[f.JM.PLAYLIST_V2],DP.ZP[f.JM.SHOW]];case f.JM.QUEUE:return[DP.ZP[f.JM.TRACK],DP.ZP[f.JM.LOCAL],DP.ZP[f.JM.EPISODE]];default:return[]}return[]}(t),b=!!y.length;return(0,ll.useEffect)((function(){return u?p.current=window.setTimeout((function(){(0,f.wj)(t)||(null==o||o(),m(n||(0,f.EC)(t).toURLPath(!0)))}),1e3):!u&&p.current&&clearTimeout(p.current),function(){p.current&&clearTimeout(p.current)}}),[u,t,n,o,m]),b?(0,dl.jsx)(TP.Z,{types:y,onDrop:function(e){var n=(0,f.EC)(t),i=Array.from(e.dataTransfer.types).find((function(e){return y.includes(e)})),r=i&&e.dataTransfer.getData(i),o=r&&r.split("\n")[0],s=(0,f.EC)(o);if(s&&n)switch(null==a||a(s.toURI()),n.type){case f.JM.PLAYLIST:case f.JM.PLAYLIST_V2:v((0,uS.jV)(t,[s.toURI()]));break;case f.JM.COLLECTION:(0,f.YF)(s)||(0,f.OB)(s)||(0,f.wj)(s)?g.add(s.toURI()):(0,f.nK)(s)?h.add([s.toURI()],{before:"start"}):(0,f.RS)(s)&&g.add(s.toURI());break;case f.JM.QUEUE:k.addToQueue([{uri:s.toURI(),uid:null}])}},onDragEnter:function(){d(!0)},onDragLeave:function(){d(!1)},targetUri:t,className:s,children:r}):(0,dl.jsx)("div",{children:r})};function FP(e){var t=e.style,n=e.active,r=e.disabled,a=e.intent,o=e.label,s=e.labelActive,l=e.icon,c=e.iconActive,u=e.className,d=e.onClick,p=(0,ll.useState)(!1),m=(0,i.Z)(p,2),f=m[0],v=m[1],g=(0,cu.o)(),h=n&&s?s:o,k=n&&c?c:l;return(0,dl.jsx)(hk,{style:t,className:u,isActive:n,disabled:r,onToggle:function(e){null==d||d(),f||e.target.blur(),v(!1),a&&g({type:"click",intent:a,targetUri:""})},onKeyDown:function(e){"enter"===e.key.toLowerCase()&&v(!0)},label:h,icon:k,testId:"control-button-".concat(a)})}var LP=n(31895),MP=function(e){var t,n,i=e.onClick,r=(t=(0,nl.v9)(ef.Gg).isAnonymous,n=(0,ks.O6)().isActive,t||n?{isVisible:!1}:{isVisible:!0,isEnabled:!0}),a=r.isEnabled,o=r.isVisible,s=(0,lc.TH)(),l=(0,LP.D)(),c=(0,lc.s0)(),u=(0,ll.useMemo)((function(){return"/queue"===s.pathname||"/history"===s.pathname}),[s.pathname]),d=(0,ll.useCallback)((function(){var e,t,n,r=null===(e=l.entries)||void 0===e||null===(t=e.slice(0,l.index+1))||void 0===t||null===(n=t.reverse())||void 0===n?void 0:n.findIndex((function(e){var t=e.pathname;return"/queue"!==t&&"/history"!==t}));null==i||i(null),c(-1===r?"/":r>=0?-r:-1)}),[c,l,i]),p=(0,ll.useCallback)((function(){null==i||i("/queue"),c("/queue",{state:{referrer:"now_playing_bar"}})}),[i,c]),m=(0,ll.useCallback)((function(){a&&(u?d():p())}),[a,u,d,p]);return o?(0,dl.jsx)(RP,{uri:"spotify:queue",children:(0,dl.jsx)(FP,{intent:"queue",icon:jP.S,label:v.ag.get("playback-control.queue"),onClick:m,active:u,disabled:!a})}):null};const UP="main-nowPlayingBar-extraControls",ZP="main-nowPlayingBar-lyricsButton",BP="main-nowPlayingBar-volumeBar";var VP=function(){return null},HP=function(){var e=(0,uu.g)(),t=(0,nl.v9)(ef.Gg).isAnonymous,n=(0,Au.W6)(ys.JI),i=(0,Au.W6)(ys.Ol),r=(0,Au.W6)(ys.Ml),a=(0,ks._n)(),o=(0,vu.fU)(vx.T,{}),s=o.spec,l=o.logger,c=o.UBIFragment;return(0,dl.jsx)(c,{spec:s,children:(0,dl.jsxs)("div",{className:UP,children:[!t&&(0,h.wW)()&&(0,dl.jsx)(LS.F,{property:ys.y$,renderNewExperience:function(){return(0,dl.jsx)(d_,{onClick:function(e){e?l.logInteraction(s.hifiBadgeFactory().hitUiReveal()):l.logInteraction(s.hifiBadgeFactory().hitUiHide())}})}}),a&&(0,dl.jsx)(ks.Wc,{onClick:function(){var t,n,i,r,a=e.getState();l.logInteraction(s.djJumpButtonFactory().hitSkipToNext({itemToBeSkipped:null!==(t=null==a||null===(n=a.item)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",positionMs:null!==(i=(0,kE.k)(a))&&void 0!==i?i:-1,totalContentMs:null!==(r=null==a?void 0:a.duration)&&void 0!==r?r:-1}))}}),n&&(0,dl.jsx)(NP,{onClick:function(e){e?l.logInteraction(s.npvButtonFactory().hitUiReveal()):l.logInteraction(s.npvButtonFactory().hitUiHide())}}),(!i||i&&!n)&&(0,dl.jsx)(IP,{className:ZP,onClick:function(e){e?l.logInteraction(s.lyricsButtonFactory().hitUiNavigate({destination:e})):l.logInteraction(s.lyricsButtonFactory().hitUiNavigateBack())}}),(0,dl.jsx)(MP,{onClick:function(e){e?l.logInteraction(s.queueButtonFactory().hitUiNavigate({destination:e})):l.logInteraction(s.queueButtonFactory().hitUiNavigateBack())}}),r&&(0,dl.jsx)(VP,{}),!t&&(0,dl.jsx)(Gw,{}),(0,dl.jsx)(Op,{className:BP,onVolumeBarClick:function(e){l.logInteraction(s.volumeBarFactory().hitSetVolume({newVolumePercentage:Math.floor(100*e)}))},onToggleMuteClick:function(e){e?l.logInteraction(s.volumeMuteButtonFactory().hitMutePlayback()):l.logInteraction(s.volumeMuteButtonFactory().hitUnmutePlayback())},onVolumeBarDrag:function(e){l.logInteraction(s.volumeBarFactory().dragSetVolume({newVolumePercentage:Math.floor(100*e)}))}}),(0,dl.jsx)(hx,{className:"control-button",disabledClassName:"control-button--disabled",onClick:function(e){e&&l.logInteraction(s.fullscreenButtonFactory().hitUiReveal())}})]})})},GP=n(35699),WP=n(65549),zP=n(5881);function KP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,X.Z)(e);if(t){var r=(0,X.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,J.Z)(this,n)}}const YP=function(e){(0,Q.Z)(n,e);var t=KP(n);function n(){return(0,E.Z)(this,n),t.apply(this,arguments)}return(0,C.Z)(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return(0,dl.jsx)("div",{className:"icon",children:(0,dl.jsx)("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,dl.jsxs)("g",{fill:"currentColor",fillRule:"evenodd",children:[(0,dl.jsx)("path",{d:"M1 3v9h14V3H1zm0-1h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,dl.jsx)("path",{d:"M10 8h4v3h-4z"})]})})})}}]),n}(ll.Component);var qP=n(85358);var QP=n(98491),JP=n(23514),XP=n(54691),$P=n(43709),eI=n(5967);const tI="main-nowPlayingWidget-nowPlaying",nI="main-nowPlayingWidget-coverExpanded",iI="main-coverSlotCollapsed-navAltContainer",rI="main-nowPlayingWidget-coverArt",aI="WlJeGZh0DRN1R5IW84Yq",oI="main-nowPlayingWidget-trackInfo";var sI=function(e){var t,n=e.onClick,i=(0,$P.o)().expandedState,r=(0,eI.x)(),a=(0,gE.O)();if(null===r)return null;var o=i===_y.NowPlayingCoverStateEnum.expanded,s=r.context,l=r.item,c=r.index;return(0,dl.jsx)(XP._,{menu:(0,dl.jsx)(IE.$,{context:s,item:l}),children:(0,dl.jsx)("div",{draggable:(0,AE.Q)(l),onDragStart:function(e){a(e,[l.uri],(0,jE.R)(l))},children:(0,dl.jsx)(tP.y,{uri:s.uri,owner:null===(t=s.metadata)||void 0===t?void 0:t.context_owner,children:(0,dl.jsx)(eP.R,{context:s,item:l,index:c,isVisible:!o,onClick:function(e,t){null==n||n(t)},adEventReason:"cover_art_collapsed",children:(0,dl.jsx)(iu.T,{item:l,size:56,maxSize:56,className:rI})})})})})},lI=n(26912),cI=n(48855);const uI="main-coverSlotCollapsed-container",dI="main-coverSlotCollapsed-expandButton";var pI=function(e){var t=e.children,n=e.onArrowClick,r=e.className,a=(0,Au.W6)(ys.JI),o=(0,nl.v9)(fc.Y),s=(0,Kc.z)(Bt.cr,_y.NowPlayingCoverStateEnum.collapsed),l=(0,i.Z)(s,2),c=l[0],u=l[1],d=c===_y.NowPlayingCoverStateEnum.expanded||o===_y.NowPlayingCoverStateEnum.expanded,p=(0,m_.T)(Mh.s.NowPlayingView),m=p.isActive,f=p.toggle,g=(0,ll.useMemo)((function(){return a&&m?{label:v.ag.get("npb.collapseCoverArt"),Icon:cI.C}:{label:v.ag.get("npb.expandCoverArt"),Icon:lI.y}}),[a,m]);return(0,dl.jsxs)("div",{"":"CoverSlotCollapsed__container",className:Tc()(uI,r),"aria-hidden":d?"true":"false",children:[t,o===_y.NowPlayingCoverStateEnum.collapsed?null:(0,dl.jsx)(Ru.w,{label:g.label,children:(0,dl.jsx)("button",{tabIndex:d?-1:void 0,className:Tc()(dI),onClick:function(){a?f():(u(_y.NowPlayingCoverStateEnum.expanded),null==n||n())},"aria-label":g.label,children:(0,dl.jsx)(g.Icon,{iconSize:16})})})]})},mI=n(86557),fI=function(e){var t=e.item,n=e.onLike;return(0,Re.G_)(t)?t.isLocal?null:(0,dl.jsx)(Ep.B,{uri:t.uri,className:"control-button control-button-heart",onClick:n}):(0,Re.iw)(t)?(0,dl.jsx)(xk.w,{uri:t.uri,className:"control-button control-button-heart",onClick:n}):(0,Re.G7)(t)||(0,Re.k6)(t)||(0,Re.RB)(t)?null:(0,Me.U)(t)},vI=function(e){var t=e.context,n=e.item,i=((0,f.ie)(t.uri)||(0,f.oi)(t.uri))&&(0,Re.G_)(n),r=(0,QP.j)(t.uri,n.uri);return i?(0,dl.jsx)(FP,{intent:void 0,onClick:r,label:v.ag.get("playback-control.ban"),icon:nO.H}):null},gI=function(e){var t,n,i,a,s,l=e.context,c=e.item,u=e.onClick,d=void 0===u?function(){}:u,p=(0,ll.useContext)(bm.ZF),m=(0,uu.g)(),f=null!==(t=null===(n=l.metadata)||void 0===n?void 0:n["dislike-endpoint"])&&void 0!==t?t:null,v=(0,nl.I0)(),g=null!==(i=null===(a=l.metadata)||void 0===a?void 0:a[Re.sb.CONTEXT_DESCRIPTION])&&void 0!==i?i:"",h=(0,ll.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cs.x2.setFeedback(Jt.b.getInstance(),f,c.uri);case 4:if(!l.uri){e.next=7;break}return e.next=7,p.resync(l.uri);case 7:m.skipToNext(),v((0,$m.Oh)(g)),null==d||d();case 10:case"end":return e.stop()}}),e)}))),[l,c,p,m,f,v,g,d]);return(0,Re.G_)(c)&&"1"===(null===(s=l.metadata)||void 0===s?void 0:s["dislike-feedback-available"])&&null!==f?(0,dl.jsx)(zP.s,{size:16,className:"control-button control-button-feedback",isDisliked:!1,onClick:h}):null},hI=function(e){var t=e.item,n=e.onClick,i=(0,nl.I0)(),r=sm(),a=(0,cu.o)(),o=(0,qP.k)(),s=(0,bl.Y)(Ch.CM),l=(0,nl.v9)(Hh),c=(0,nl.v9)(Vh),u=l===Zh.B.npv,d=l===Zh.B.pip,p=r.getCapabilities().hasPipSupport,m=(0,ll.useCallback)((function(){if(s){var e=!c,l=e?"close-video":"show-video";null==n||n(c),a({type:"click",intent:l,targetUri:t.uri,itemIdSuffix:"video-toggle"}),r.getCapabilities().hasMinimizeBitrateSupport&&r.setMinimizeBitrate(e),d&&r.setPip&&p&&r.setPip(!1),i((0,cy.mO)(e))}else o(v.ag.get("video-player.video-not-available"))}),[s,c,n,a,t.uri,r,i,o,d,p]);if(!(0,Re.iw)(t))return null;var f=l===Zh.B.fullscreen;r.setFullscreen&&r.setFullscreen(f),p&&r.setPip&&r.setPip(d),r.reportVideoMode&&r.reportVideoMode(l);var g=(0,Re.iw)(t)&&("video"===t.mediaType||"mixed"===t.mediaType),h=g&&!f&&!u&&!d;return g&&r.getCapabilities().hasMinimizeBitrateSupport&&r.setMinimizeBitrate(c),h?(0,dl.jsx)(FP,{icon:GP.O,iconActive:GP.O,intent:"video-toggle",active:!c&&s,onClick:m,label:v.ag.get("video-player.show-video"),labelActive:v.ag.get("video-player.hide-video")}):null},kI=function(e){var t=e.item,n=e.onClick,r=(0,cu.o)(),a=function(){var e=kl(),t=(0,i.Z)(e,2),n=t[0],r=n.isEnabled,a=n.isVisible,o=t[1];return{isEnabled:r,isVisible:a,show:(0,ll.useCallback)((function(){return o({type:"OPEN_PICTURE_IN_PICTURE"})}),[o]),hide:(0,ll.useCallback)((function(){return o({type:"CLOSE_PICTURE_IN_PICTURE"})}),[o])}}(),o=a.isEnabled,s=a.isVisible,l=a.show,c=a.hide,u=(0,ll.useCallback)((function(){var e;s?(c(),e="close-picture-in-picture"):(l(),e="show-picture-in-picture"),null==n||n(!s),r({type:"click",intent:e,targetUri:t.uri,itemIdSuffix:"picture-in-picture-toggle"})}),[s,l,c,r,t.uri,n]),d=(0,Re.iw)(t)&&("video"===t.mediaType||"mixed"===t.mediaType),p=(0,Re.k6)(t);return!d&&!p&&o?(0,dl.jsx)("div",{children:(0,dl.jsx)(Ru.w,{label:v.ag.get("npb_pip_web_player"),children:(0,dl.jsx)("button",{"":"pip-toggle-button",className:Tc()(aI,"control-button",{"control-button--active":s}),onClick:u,children:(0,dl.jsx)(YP,{})})})}):null},yI=function(e){var t=e.isRemoteMode,n=(0,vu.fU)(WP.createDesktopNpbNowPlayingWidgetEventFactory,{}),i=n.spec,r=n.logger,a=(0,$P.o)().expandedState,o=(0,eI.x)();if(null===o)return(0,dl.jsx)("div",{className:Tc()("now-playing")});var s=o.context,l=o.item,c=a===_y.NowPlayingCoverStateEnum.expanded,u=(0,mI.b)(l);return(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsxs)("div",{"":"now-playing-widget",className:Tc()(tI,(0,P.Z)({},nI,c)),role:"contentinfo","aria-label":u,children:[(0,dl.jsx)(pI,{className:iI,onArrowClick:function(){r.logInteraction(i.coverartFactory({uri:l.uri}).coverartArrowFactory().hitUiReveal())},children:(0,dl.jsx)(sI,{onClick:function(e){r.logInteraction(i.coverartFactory({uri:l.uri}).hitUiNavigate({destination:e||""}))}})}),(0,dl.jsx)(JP._,{context:s,className:oI,item:l,onTitleClick:function(e){r.logInteraction(i.titleFactory({uri:l.uri}).hitUiNavigate({destination:e||""}))},onSubtitleClick:function(e){r.logInteraction(i.subtitleFactory({uri:l.uri}).hitUiNavigate({destination:e||""}))}}),(0,dl.jsx)(fI,{item:l,onLike:function(e){r.logInteraction(e?i.likeButtonFactory({uri:l.uri}).hitLike({itemToBeLiked:l.uri}):i.likeButtonFactory({uri:l.uri}).hitRemoveLike({itemNoLongerLiked:l.uri}))}}),(0,dl.jsx)(vI,{context:s,item:l}),(0,dl.jsx)(gI,{context:s,item:l,onClick:function(){r.logInteraction(i.hideButtonFactory().hitRemoveRecommendation({recommendedItemUri:l.uri,contextUri:s.uri}))}}),t?null:(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(hI,{onClick:function(e){r.logInteraction(e?i.videoToggleFactory({uri:l.uri}).hitUiHide():i.videoToggleFactory({uri:l.uri}).hitUiReveal())},item:l}),(0,dl.jsx)(kI,{onClick:function(e){r.logInteraction(e?i.pipButtonFactory({uri:l.uri}).hitUiHide():i.pipButtonFactory({uri:l.uri}).hitUiReveal())},item:l})]})]})})},bI=n(41583);const SI="aguQsGoZR9wZeawKGdDh",xI="ieqOSqJb6kk3bG5XDOHk";var OI=function(e){var t=e.paused,n=e.fromSeconds,r=(0,ll.useState)(n),a=(0,i.Z)(r,2),o=a[0],s=a[1],l=(0,ll.useCallback)((function(){s((function(e){return e-1}))}),[]),c=!t&&0!==o;return(0,bI.Y)(l,c?1e3:null),(0,dl.jsxs)("div",{className:SI,children:[v.ag.get("ad-formats.skippable_ads.skip_countdown"),(0,dl.jsx)("span",{className:xI,children:o})]})},wI=function(e){var t,n=e.children,i=(0,bl.Y)((function(e){return e}),(function(e,t){var n,i;return(0,Fu.V)(null==e?void 0:e.restrictions,null==t?void 0:t.restrictions)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(i=t.item)||void 0===i?void 0:i.uri)&&(null==e?void 0:e.isPaused)===(null==t?void 0:t.isPaused)})),r=null==i?void 0:i.restrictions.disallowSkippingNextReasons.includes("ad_disallow"),a=null!==(t=null==i?void 0:i.isPaused)&&void 0!==t&&t,o=rv(i),s=iv(i),l=(0,nl.v9)((function(e){var t,n,i,r,a,l;return o?null==e||null===(t=e.ads)||void 0===t||null===(n=t.audio)||void 0===n||null===(i=n.info)||void 0===i?void 0:i.skippableAdDelaySeconds:s?null==e||null===(r=e.ads)||void 0===r||null===(a=r.vto)||void 0===a||null===(l=a.info)||void 0===l?void 0:l.skippableAdDelaySeconds:void 0}));return r&&l?(0,dl.jsx)(OI,{paused:!!a,fromSeconds:l}):(0,dl.jsx)(dl.Fragment,{children:n})},NI=(0,ll.memo)((function(e){var t=e.isPreview,n=(0,uu.g)(),i=(0,vu.fU)(ou.createDesktopNpbPlayerControlsEventFactory,{}),r=i.spec,a=i.logger,o=sp();return(0,dl.jsxs)("div",{className:"player-controls","":"player-controls",dir:"ltr","aria-label":v.ag.get("playback-control.a11y.landmark-label"),children:[(0,dl.jsxs)("div",{className:"player-controls__buttons player-controls__buttons--new-icons",children:[(0,dl.jsxs)("div",{className:"player-controls__left",children:[o&&(0,dl.jsx)(op,{onClick:function(e){var t=n.getState();null!=t&&t.item&&a.logInteraction(r.speedControlButtonFactory().hitSetPlaybackSpeed({currentlyPlayedItem:t.item.uri,playbackSpeed:e}))}})," ",!o&&(0,dl.jsx)(od,{onClick:function(e){a.logInteraction(e?r.shuffleButtonFactory().hitShuffleEnable():r.shuffleButtonFactory().hitShuffleDisable())}}),o&&(0,dl.jsx)(Xu,{onClick:function(e){a.logInteraction(r.seekBackButtonFactory().hitSeekByTime({msSeekedOffset:e}))}}),(0,dl.jsx)(cd,{onClick:function(){var e,t,i,o=n.getState();o&&a.logInteraction(r.previousButtonFactory().hitSkipToPrevious({itemToBeSkipped:(null===(e=o.item)||void 0===e?void 0:e.uri)||"",positionMs:null!==(t=(0,kE.k)(o))&&void 0!==t?t:-1,totalContentMs:null!==(i=o.duration)&&void 0!==i?i:-1}))}})]}),(0,dl.jsx)(Mu,{onClick:function(e){var t=n.getState();null!=t&&t.item&&("resume"===e?a.logInteraction(null==r?void 0:r.playPauseButtonFactory().hitResume({itemToBeResumed:t.item.uri})):"pause"===e&&a.logInteraction(null==r?void 0:r.playPauseButtonFactory().hitPause({itemToBePaused:t.item.uri})))}}),(0,dl.jsxs)("div",{className:"player-controls__right",children:[(0,dl.jsx)(wI,{children:(0,dl.jsx)(pd,{onClick:function(){var e,t,i=n.getState();null!=i&&i.item&&a.logInteraction(r.nextButtonFactory().hitSkipToNext({itemToBeSkipped:i.item.uri,positionMs:null!==(e=(0,kE.k)(i))&&void 0!==e?e:-1,totalContentMs:null!==(t=i.duration)&&void 0!==t?t:-1}))}})}),o&&(0,dl.jsx)(td,{onClick:function(e){a.logInteraction(r.seekForwardButtonFactory().hitSeekByTime({msSeekedOffset:e}))}}),!o&&(0,dl.jsx)(qu,{onClick:function(e){var t,n=(t={},(0,P.Z)(t,Re.zq.REPEAT_NONE,r.repeatButtonFactory().hitRepeatDisable()),(0,P.Z)(t,Re.zq.REPEAT_TRACK,r.repeatButtonFactory().hitRepeatOneEnable()),(0,P.Z)(t,Re.zq.REPEAT_CONTEXT,r.repeatButtonFactory().hitRepeatEnable()),t);a.logInteraction(n[e])}})]})]}),(0,dl.jsx)(Eu,{isPreview:t})]})})),_I=n(871);const EI="main-nowPlayingBar-container",CI="main-nowPlayingBar-nowPlayingBar",PI="main-nowPlayingBar-isAnonymous",II="main-nowPlayingBar-enter",jI="main-nowPlayingBar-enterActive",AI="main-nowPlayingBar-enterDone",TI="main-nowPlayingBar-left",DI="main-nowPlayingBar-center",RI="main-nowPlayingBar-right";var FI=function(){var e,t,n,i,r=(0,nl.v9)(ef.Gg).isAnonymous,a=(0,nl.I0)(),o=(0,cu.o)(),s=(0,bl.Y)((function(e){return e}),(function(e,t){var n,i;return(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e||null===(n=e.item)||void 0===n?void 0:n.uri)===(null==t||null===(i=t.item)||void 0===i?void 0:i.uri)})),l=(0,bl.Y)((function(e){var t;return(0,Re.k6)(null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0)})),c=(0,uu.g)(),u=(0,_I.Y)(),d=(t=(0,yl.O)(),n=!1,i=void 0,t.connectionStatus===on.TK.CONNECTING?(n=!0,i=t.connectingDevice):t.connectionStatus===on.TK.CONNECTED&&(n=!0,i=t.activeDevice),{isPlayingRemotely:n,connectionStatus:t.connectionStatus,remoteDevice:i}),p=d.isPlayingRemotely,m=d.connectionStatus,f=d.remoteDevice;(0,ll.useEffect)((function(){c.setForcedShuffle(u)}),[u,c]);var v=(0,ll.useCallback)((function(e){e.stopPropagation(),a((0,mc.xO)()),o({intent:"signup",type:"click"})}),[a,o]),g=function(){return(0,dl.jsx)(Gy.DJ.Provider,{value:"now_playing_bar",children:(0,dl.jsxs)("div",{className:r?PI:CI,children:[(0,dl.jsx)("div",{className:TI,children:(0,dl.jsx)(yI,{isRemoteMode:p})}),(0,dl.jsx)("div",{className:DI,children:(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(NI,{isPreview:r})})}),(0,dl.jsx)("div",{className:RI,children:(0,dl.jsx)(HP,{})})]})})};return(0,dl.jsx)(fx.fd,{surface:fx.Tg.NOW_PLAYING,children:(0,dl.jsx)(Yh.ZP,{value:"now-playing-bar",children:(0,dl.jsxs)("footer",{className:EI,"":"now-playing-bar","data-testadtype":"ad-type-".concat(l?"ad":"none"),children:[r?(0,dl.jsx)(Yh.ZP,{value:"preview-bar",children:(0,dl.jsx)(sx,{handleClick:v})}):null,r?(0,dl.jsx)(lb.Z,{in:null!==(e=null==s?void 0:s.hasContext)&&void 0!==e&&e,timeout:200,classNames:{enter:II,enterActive:jI,enterDone:AI},children:g()}):g(),p&&f&&(0,dl.jsx)(mx,{status:m,deviceName:f.name,deviceType:f.type})]})})})},LI=n(60873),MI=n(64188),UI=n(62523),ZI=n(93494);var BI=n(89418),VI=n(70802),HI=n(94782),GI=n(91909),WI=n(73078),zI=function(e){var t=e.onChangePermission,n=e.onRemoveMember,i=e.onLeave,r=e.member,a=e.capabilities;return(0,dl.jsxs)(Jd.v,{children:[a.canAdministratePermissions&&"VIEWER"===r.permissionLevel&&(0,dl.jsx)($d.s,{role:"menuitemradio","aria-checked":!1,onClick:function(){return t("CONTRIBUTOR")},leadingIcon:(0,dl.jsx)(GI.h,{iconSize:16}),children:(0,dl.jsx)(au.D,{variant:"mesto",children:v.ag.get("contextmenu.make-collaborator")})}),a.canAdministratePermissions&&"CONTRIBUTOR"===r.permissionLevel&&(0,dl.jsx)($d.s,{role:"menuitemradio","aria-checked":!1,onClick:function(){return t("VIEWER")},leadingIcon:(0,dl.jsx)(GI.h,{iconSize:16}),children:(0,dl.jsx)(au.D,{variant:"mesto",children:v.ag.get("contextmenu.make-listener")})}),a.canAdministratePermissions&&(0,dl.jsx)($d.s,{role:"menuitemradio","aria-checked":!1,onClick:function(){return n()},leadingIcon:(0,dl.jsx)(WI.F,{iconSize:16}),children:(0,dl.jsx)(au.D,{variant:"mesto",children:v.ag.get("contextmenu.remove-user-from-playlist")})}),a.canCancelMembership&&(0,dl.jsx)($d.s,{role:"menuitemradio","aria-checked":!1,onClick:function(){return i()},leadingIcon:(0,dl.jsx)(WI.F,{iconSize:16}),children:(0,dl.jsx)(au.D,{variant:"mesto",children:v.ag.get("contextmenu.leave-playlist")})})]})};const KI="BcnmjYfXOAeitEfgAPl6",YI="TyF75BooCfm5fJnA4XQY",qI="TcErZJbTZpN8HIgWMd5n",QI="BmWdMJcMaW6bsnYoHvO5",JI="A01aXaVEC14dEvpLdH0h",XI="RRgksp2YQ5yCTY3fG8c5",$I="ttg4QuP3hS13nliEPlmS",ej="dfdmOp6sP6kvpppsfnoO",tj="Oxwpqw2lyewx__AmCPlS",nj="V1By35exkhnkgbEeAQXN",ij="_uwvL3Y_Wnj_KZiCTAks",rj="BvQLGIYvKgcZxPTGJnWc",aj="QIWSUTRvc_sCKCXhR1v4",oj="niUTA9FhPwaWPOpzcZOX",sj="uy6zaVvwrdXhU47KjWvA";var lj=function(e){var t=e.uri,n=e.member,a=e.capabilities,s=e.isCurrentUser,l=(0,nl.I0)(),c=(0,ll.useState)(!1),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=function(e){var t=(0,ZI.z)(),n=(0,ll.useCallback)(function(){var n=(0,r.Z)(o().mark((function n(i,r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setMemberPermission(e,i,r);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[t,e]),i=(0,ll.useCallback)(function(){var n=(0,r.Z)(o().mark((function n(i){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.removeMember(e,i);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]),a=(0,ll.useCallback)(function(){var n=(0,r.Z)(o().mark((function n(i){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.setBasePermission(e,i);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]);return{uri:e,changeMemberPermission:n,removeMember:i,changeBasePermission:a}}(t),f=m.changeMemberPermission,g=m.removeMember,h=(0,ll.useCallback)((function(e){n.user&&(f(n.user.username,e),p(!0))}),[f,n.user]),k=(0,ll.useCallback)((function(){n.user&&(g(n.user.username),p(!0))}),[n.user,g]),y=(0,ll.useCallback)((function(){l((0,el.IF)(t))}),[l,t]),b=!n.isOwner&&((null==a?void 0:a.canAdministratePermissions)||(null==a?void 0:a.canCancelMembership)&&s),S="CONTRIBUTOR"===n.permissionLevel?v.ag.get("permissions.collaborator"):v.ag.get("permissions.listener");return n.isOwner&&(S=v.ag.get("permissions.creator")),b&&a?(0,dl.jsx)(ug.y,{renderInline:!0,menu:(0,dl.jsx)(zI,{onChangePermission:h,onRemoveMember:k,onLeave:y,capabilities:a,member:n}),children:function(e,t,n){return(0,dl.jsxs)("button",{className:Tc()(aj,oj,(0,P.Z)({},sj,d)),onClick:t,ref:n,type:"button","":"permissions-menu",children:[(0,dl.jsx)(au.D,{variant:"mesto",children:S}),e?(0,dl.jsx)(VI.U,{iconSize:16}):(0,dl.jsx)(HI.i,{iconSize:16})]})}}):(0,dl.jsx)(au.D,{variant:"mesto",className:aj,children:S})},cj=function(e){var t=e.member,n=e.playlistUri,i=e.username,r=e.capabilities,a=e.onClose;if(!t.user)return null;var o=i===t.user.username,s=o&&t.user.displayName?v.ag.get("permissions.current-user-name",t.user.displayName):t.user.displayName;return(0,dl.jsxs)("div",{className:ej,children:[(0,dl.jsxs)("div",{className:tj,children:[(0,dl.jsx)(iC.q,{label:t.user.displayName,images:t.user.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),width:32,userIconSize:16}),(0,dl.jsxs)("div",{className:nj,children:[(0,dl.jsx)(md._P,{menu:(0,dl.jsx)(BI.I,{uri:t.user.uri}),children:(0,dl.jsx)(gN.default,{title:null!=s?s:t.user.username,to:t.user.uri,dir:"auto",onClick:a,children:(0,dl.jsx)(au.D,{variant:"mestoBold",children:s})})}),t.songsAdded>0&&(0,dl.jsx)(au.D,{className:ij,variant:"finale",children:v.ag.get("permissions.songs-added",t.songsAdded)})]})]}),(0,dl.jsx)(lj,{uri:n,member:t,capabilities:r,isCurrentUser:o})]},t.user.uri)};var uj=function(e){var t=e.isPublicPlaylist;return(0,dl.jsx)("div",{className:JI,children:t?(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(MI.z,{iconSize:16}),(0,dl.jsx)(au.D,{className:XI,variant:"finale",children:v.ag.get("permissions.public-playlist")})]}):(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(UI.Z,{iconSize:16}),(0,dl.jsx)(au.D,{className:XI,variant:"finale",children:v.ag.get("permissions.private-playlist")})]})})},dj=function(e){var t,n=e.isOpen,r=e.uri,a=e.onClose,o=function(e){var t=(0,ZI.z)(),n=(0,ll.useState)(null),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,ll.useCallback)((function(e,t){o(e||!t?null:t)}),[]);return(0,ll.useEffect)((function(){return t.subscribeToMembers(e,s)}),[t,e,s]),a}(r),s=(0,nl.v9)((function(e){var t,n=e.session;return null==n||null===(t=n.user)||void 0===t?void 0:t.id}))||null;return o?(0,dl.jsx)(tf.Z,{isOpen:n,onRequestClose:a,contentLabel:v.ag.get("permissions.modal-label"),children:(0,dl.jsxs)("div",{"":"playlist-permissions-modal",className:KI,children:[(0,dl.jsxs)("div",{className:YI,children:[(0,dl.jsxs)("div",{className:qI,children:[(0,dl.jsx)(uj,{isPublicPlaylist:(t=o.basePermissionLevel,"VIEWER"===t||"CONTRIBUTOR"===t)}),(0,dl.jsx)("button",{className:$I,onClick:a,children:(0,dl.jsx)(Nv.k,{iconSize:16,"aria-label":v.ag.get("close")})})]}),(0,dl.jsx)(au.D,{as:"h1",variant:"alto",children:v.ag.get("permissions.shared-with")})]}),(0,dl.jsx)(zx.U,{className:rj,children:(0,dl.jsx)("div",{className:QI,children:(0,dl.jsx)("div",{children:o.members&&o.members.map((function(e){var t;return(0,dl.jsx)(cj,{playlistUri:r,member:e,username:s,capabilities:o.capabilities,onClose:a},null===(t=e.user)||void 0===t?void 0:t.username)}))})})})]})}):null},pj=function(){var e=(0,Au.W6)(ys.bM),t=(0,ll.useContext)(al.vM),n=t.isOpen,i=t.uri,r=(0,ll.useContext)(al.S7),a=(0,ll.useCallback)((function(){r({type:"close"})}),[r]);return e&&n&&i?(0,dl.jsx)(dj,{isOpen:n,onClose:a,uri:i}):null},mj=new Map;mj.set("ad","€ 9,99"),mj.set("ar","$ 69,00"),mj.set("at","€ 9,99"),mj.set("au","$11.99"),mj.set("be","€ 9,99"),mj.set("bg","4.99 EUR"),mj.set("bo","5.99 USD"),mj.set("br","R$ 16,90"),mj.set("ca","9.99 CAD"),mj.set("ch","Fr. 12.95"),mj.set("cl","$ 3.490,00"),mj.set("co","$ 14.900,00"),mj.set("cr","5.99 USD"),mj.set("cy","6.99 EUR"),mj.set("cz","5.99 EUR"),mj.set("de","9,99 €"),mj.set("dk","kr 99,00"),mj.set("do","5.99 USD"),mj.set("ec","5.99 USD"),mj.set("ee","6.99 EUR"),mj.set("es","9,99 €"),mj.set("fi","9,99 €"),mj.set("fr","9,99 €"),mj.set("uk","£9.99"),mj.set("gr","6.99 EUR"),mj.set("gt","5.99 USD"),mj.set("hk","HK$58.00"),mj.set("hn","5.99 USD"),mj.set("hu","4.99 EUR"),mj.set("id","Rp 49.990"),mj.set("ie","€9.99"),mj.set("is","9.99 EUR"),mj.set("it","€ 9,99"),mj.set("kr","₩10,900"),mj.set("li","12.95 CHF"),mj.set("lt","6.99 EUR"),mj.set("lu","9.99 EUR"),mj.set("lv","6.99 EUR"),mj.set("mc","9.99 EUR"),mj.set("mt","6.99 EUR"),mj.set("mx","$ 99.00"),mj.set("my","RM14.90"),mj.set("ni","5.99 USD"),mj.set("nl","€9,99"),mj.set("no","kr109,00"),mj.set("nz","$14.99"),mj.set("pa","5.99 USD"),mj.set("pe","S/ 18.90"),mj.set("ph","₱129"),mj.set("pl","19,99 zł"),mj.set("pt","6.99 EUR"),mj.set("py","5.99 USD"),mj.set("se","99,00 kr"),mj.set("sg","S$9.90"),mj.set("sk","5.99 EUR"),mj.set("sv","5.99 USD"),mj.set("th","฿129.00"),mj.set("tr","13,99 TL"),mj.set("tw","NT$149.00"),mj.set("us","$9.99"),mj.set("uy","5.99 USD");var fj=new Map;fj.set("ad","€ 0,00"),fj.set("ar","$ 0,00"),fj.set("at","€ 0,00"),fj.set("au","$0.00"),fj.set("be","€ 0,00"),fj.set("bg","0.00 EUR"),fj.set("bo","0.00 USD"),fj.set("br","R$ 0,00"),fj.set("ca","0.00 CAD"),fj.set("ch","Fr. 0.00"),fj.set("cl","$ 0,00"),fj.set("co","$ 0,00"),fj.set("cr","0.00 USD"),fj.set("cy","0.00 EUR"),fj.set("cz","0.00 EUR"),fj.set("de","0,00 €"),fj.set("dk","kr 0,00"),fj.set("do","0.00 USD"),fj.set("ec","0.00 USD"),fj.set("ee","0.00 EUR"),fj.set("es","0,00 €"),fj.set("fi","0,00 €"),fj.set("fr","0,00 €"),fj.set("uk","£0.00"),fj.set("gr","0.00 EUR"),fj.set("gt","0.00 USD"),fj.set("hk","HK$0.00"),fj.set("hn","0.00 USD"),fj.set("hu","0.00 EUR"),fj.set("id","Rp 0.00"),fj.set("ie","€0.00"),fj.set("is","0.00 EUR"),fj.set("it","€ 0,00"),fj.set("li","0.00 CHF"),fj.set("lt","0.00 EUR"),fj.set("lu","0.00 EUR"),fj.set("lv","0.00 EUR"),fj.set("mc","0.00 EUR"),fj.set("mt","0.00 EUR"),fj.set("mx","$ 0.00"),fj.set("my","RM0.00"),fj.set("ni","0.00 USD"),fj.set("nl","€0,00"),fj.set("no","kr0,00"),fj.set("nz","$0.00"),fj.set("pa","0.00 USD"),fj.set("pe","S/ 0.00"),fj.set("ph","₱0.00"),fj.set("pl","0,00 zł"),fj.set("pt","0.00 EUR"),fj.set("py","0.00 USD"),fj.set("se","0,00 kr"),fj.set("sg","S$0.00"),fj.set("sk","0.00 EUR"),fj.set("sv","0.00 USD"),fj.set("th","฿0.00"),fj.set("tr","0,00 TL"),fj.set("tw","NT$0.00"),fj.set("us","$0.00"),fj.set("uy","0.00 USD");const vj="jqvEr4MvCdQ1QA_FSpe7",gj="sRkNI1Gya5aBxtf_vS1S",hj="WShxRrLdX9LzzqlCmWZy",kj="rlMoP29GxtDlHkDK_aci";var yj=(0,ll.memo)((function(){var e=(0,nl.I0)(),t=(0,nl.v9)((function(e){return e.ui.premiumDialog.isOpen})),n=(0,nl.v9)((function(e){var t=function(e){var t=e.toLowerCase();return{premiumPrice:mj.has(t)?mj.get(t):"99,00 kr",freePrice:fj.has(t)?fj.get(t):"0,00 kr"}}((0,ix.rZ)(e));return t.premiumPrice})),i=(0,nl.v9)(ix.C7),r=(0,ll.useCallback)((function(){return e((0,Rf.Tz)())}),[e]),a=(0,vh.e)().openURLWithSessionTransfer;return(0,dl.jsx)(tf.Z,{isOpen:t,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:v.ag.get("premium.dialog.title"),children:(0,dl.jsxs)("div",{className:vj,children:[(0,dl.jsx)("h1",{className:gj,children:v.ag.get("premium.dialog.title")}),(0,dl.jsx)("p",{className:hj,children:v.ag.get("premium.dialog.description",i?3:1)}),(0,dl.jsx)(Hm.D,{colorSet:"invertedLight",onClick:function(){return a(As.Np)},children:v.ag.get("premium.dialog.subscribe")}),(0,dl.jsx)(Jm.o,{semanticColor:"textBase",onClick:r,children:v.ag.get("user.log-out")}),(0,dl.jsx)("p",{className:kj,children:i?v.ag.get("premium.dialog.disclaimer.noprice"):v.ag.get("premium.dialog.disclaimer",{price:n})})]})})})),bj=n(94846),Sj={macOS:"https://download.scdn.co/SpotifyInstaller.zip",Windows:"https://download.scdn.co/SpotifySetup.exe"},xj={iOS:"https://app.adjust.com/wp2zrj?adgroup=signup_to_listen&campaign=default&tracker_limit=250000",Android:"https://app.adjust.com/ff0trr?adgroup=signup_to_listen&campaign=default&tracker_limit=250000"};const Oj="nA6L5ghQWwxyiSLduNyb",wj="CgsDbaLb2DCGHkrw4wiw",Nj="qp1xbhJfglEmJAWm6pdy",_j="fFk09sW_YL0Qsk8lYOfD",Ej="BDNNVyxsxgQQvGmij9M1",Cj="ChX5nojraEtlxQULfJFk",Pj="XV07akXqG5L_suY2X8ML",Ij="j8qAQ6XAb2YSBUEzUqEV",jj="xZnbvSzpNSY7qnC6X8Rf",Aj="FZncbwv9M2sxuY27K8YO";var Tj=(0,ll.memo)((function(){var e,t=(0,nl.I0)(),n=(0,nl.v9)((function(e){return e.ui.signupToListenDialog.isOpen})),i=(0,qx.S)(),r=(0,nl.v9)((function(e){return e.session.userCountry})),a=(0,nl.v9)((function(e){return e.features.isPodcastEnabled})),o=(0,cu.o)(),s=(e=(0,bj.y)(),Object.keys(Sj).includes(e)?Sj[e]:Object.keys(xj).includes(e)?xj[e]:"https://spotify.com/download"),l=(0,Tu.s4)();(0,ll.useEffect)((function(){o({intent:"navigate",type:"view"})}),[o]);var c=(0,ll.useCallback)((function(){var e={category:"in_app_message",action:"click",label:"dismiss",destination_url:"open.spotify.com",os:(0,de.y)(),country:r,context:window.location.search},n=(0,Lm.x)(e);l.send(n),o({intent:"close",type:"click"}),t((0,el.L9)())}),[t,o,l,r]),u=(0,ll.useCallback)((function(){var e={category:"in_app_message",action:"click",label:"download",destination_url:s,os:(0,de.y)(),country:r,context:window.location.search},n=(0,Lm.x)(e);l.send(n),o({intent:"download",type:"click"}),t((0,el.L9)()),window.open(s,"_self")}),[t,o,s,l,r]);return(0,dl.jsx)(tf.Z,{animated:!0,isOpen:n,className:Oj,overlayClassName:wj,contentLabel:v.ag.get("s2l.download_spotify"),onRequestClose:c,children:(0,dl.jsxs)("div",{className:Nj,children:[(0,dl.jsxs)("div",{className:_j,children:[(0,dl.jsx)("div",{className:"".concat(Cj),children:(0,dl.jsx)("img",{className:Pj,alt:"Web Player",src:(0,ku.g)(i?"images/s2l-desktopui-rtl.png":"images/s2l-desktopui-ltr.png")})}),(0,dl.jsxs)("div",{className:Ej,children:[(0,dl.jsx)(au.D,{as:"h1",variant:"canon",className:Ij,children:v.ag.get("s2l.download_spotify")}),(0,dl.jsx)(au.D,{as:"p",semanticColor:"textSubdued",className:jj,children:a?v.ag.get("s2l.play_millions_podcasts"):v.ag.get("s2l.play_millions")}),(0,dl.jsx)(Hm.D,{onClick:u,children:v.ag.get("s2l.download")})]})]}),(0,dl.jsx)(Jm.o,{onClick:c,semanticColor:"textBase",className:Aj,children:v.ag.get("s2l.dismiss")})]})})})),Dj=(0,ll.memo)((function(){return(0,dl.jsx)(Yh.ZP,{value:"signup-to-listen",children:(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(Tj,{})})})})),Rj=n(84377),Fj=n(23558),Lj=function(e){var t=e.elementRef,n=(0,Rj.LP)(),i=n.size,r=n.setSize,a=n.minMaxRanges;return(0,dl.jsx)(Fj.A,{elementRef:t,placement:"inline-end",label:v.ag.get("resize.sidebar"),cssCustomProperty:"--left-sidebar-width",onCSSPropertyChange:function(e){r(e)},initialValue:i,ranges:a,decreaseSizeKeyboardCombination:lf.lb.NAVIGATION_BAR_DECREASE_WIDTH,increaseSizeKeyboardCombination:lf.lb.NAVIGATION_BAR_INCREASE_WIDTH})},Mj={},Uj=function(e){return null===e.match(/\/search\/(\w+|\W+){1,}/gi)?e:"search-result"},Zj=function(e){var t=e.scrollNodeRef,n=e.children,i=e.scrollNodeChildRef,r=(0,ll.useRef)(""),a=(0,ll.useRef)(),o=(0,lc.TH)(),s=(0,lc.ur)(),l=(0,ll.useCallback)((function(){if(t.current){var e=Uj(o.pathname),n=Mj[e];if(n&&"POP"===s)var i=Date.now(),r=setInterval((function(){!t.current||Date.now()>i+3e3?clearInterval(r):t.current.scrollHeight>=n+t.current.offsetHeight&&(t.current.scrollTop=n,clearInterval(r))}),50);else t.current.scrollTop=0}}),[o.pathname,s,t]);(0,ll.useMemo)((function(){if(t.current){var e=Uj(r.current);Mj[e]=t.current.scrollTop,r.current=o.pathname,a.current=void 0}}),[o.pathname,t]),(0,ll.useEffect)((function(){l()}),[o.pathname,l,t]);var c=(0,ll.useMemo)((function(){return{scrollNodeRef:t,scrollNodeChildRef:i}}),[t,i]);return(0,dl.jsx)(Gy.VX.Provider,{value:c,children:n})},Bj=(0,ll.lazy)((0,r.Z)(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(1814),n.e(5320)]).then(n.bind(n,47162));case 2:return t=e.sent,i=t.DebugWindowContents,e.abrupt("return",{default:i});case 5:case"end":return e.stop()}}),e)})))),Vj=function(){var e=Cf(),t=e.handle,n=e.show;return(0,g.eY)(g.O4.SHOW_DEBUG_WINDOW,(function(){n()})),null!==t?l.createPortal((0,dl.jsx)(jl.WU,{handle:t,children:(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(Bj,{})})}),t.document.body):null},Hj=n(97330),Gj="search-modal-listbox",Wj=n(71218);const zj="search-modal-inputContainer",Kj="search-modal-searchIcon",Yj="search-modal-input";var qj=(0,ll.memo)((function(e){var t=e.value,n=e.onChange,i=e.onKeyPress,r=e.hasResults,a=e.activeResultId;return(0,dl.jsxs)("div",{className:zj,children:[(0,dl.jsx)(Wj.j,{className:Kj,"aria-hidden":!0}),(0,dl.jsx)(au.D,{as:"input",variant:"ballad",className:Yj,value:t,onKeyDown:i,onChange:n,placeholder:v.ag.get("web-player.search-modal.placeholder"),autoFocus:!0,role:"combobox","aria-expanded":r,"aria-controls":Gj,"aria-owns":Gj,"aria-activedescendant":a})]})}));const Qj={SearchModalInstructions:"search-modal-searchModalInstructions",hidden:"search-modal-hidden",key:"search-modal-key"};var Jj=function(e){var t=e.canOpen,n=e.canPlay,i=e.canSelect;return t||n||i?(0,dl.jsxs)("div",{className:Qj.SearchModalInstructions,children:[(0,dl.jsx)(nA,{isActive:i,children:(0,dl.jsx)(Xj,{})}),(0,dl.jsx)(nA,{isActive:t,children:(0,dl.jsx)($j,{})}),(0,dl.jsx)(nA,{isActive:n,children:(0,dl.jsx)(eA,{})})]}):null};function Xj(){return v.ag.get("web-player.search-modal.instructions.navigate",{keys:(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(tA,{children:"↑"}),(0,dl.jsx)(tA,{children:"↓"})]})})}function $j(){return v.ag.get("web-player.search-modal.instructions.open",{keys:(0,dl.jsx)(tA,{children:"Enter"})})}function eA(){return v.ag.get("web-player.search-modal.instructions.play",{keys:(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(tA,{children:"Shift"}),(0,dl.jsx)(tA,{children:"Enter"})]})})}function tA(e){var t=e.children;return(0,dl.jsx)(au.D,{as:"kbd",variant:"viola",className:Qj.key,semanticColor:"textBase",children:t})}function nA(e){var t=e.children,n=e.isActive;return(0,dl.jsx)(au.D,{as:"p",variant:"viola",semanticColor:"textSubdued",className:Tc()((0,P.Z)({},Qj.hidden,!n)),children:t})}n(71541);var iA=Spicetify.GraphQL.Definitions["searchModalResults"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchModalResults"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultWithMatchedFields"}}]}}]}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultWithMatchedFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultHit"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResult"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultAlbum"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultArtist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultEpisode"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultGenre"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultPlaylist"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultPodcast"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultTrack"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultUser"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultAudiobook"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageURLAndSize"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultImageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultArtist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultGenre"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultPlaylist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultPodcast"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"searchModalResultAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchModalResultImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]))};function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function aA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oA=(0,ll.memo)((function(e){var t,n,i=e.query,r=e.onResults,a=e.numberOfResults,o=(0,sh.k)(),s=(t={limit:a,numberOfTopResults:a,offset:0,searchTerm:i,includeAudiobooks:!0},n={cacheTime:18e5,staleTime:3e5,enabled:i.trim().length>0&&o},(0,Mn.a)(iA,t,n)),l=s.data,c=s.error,u=s.loading;return(0,ll.useEffect)((function(){for(var e,t,n,a=null!==(e=null==l||null===(t=l.searchV2)||void 0===t||null===(n=t.topResults)||void 0===n?void 0:n.itemsV2)&&void 0!==e?e:[],o=[],s=0;s<a.length;s++){var d=a[s],p=d.item,m=d.matchedFields;if("UnknownTypeWrapper"!==p.__typename&&p.data)switch(p.data.__typename){case"Genre":o.push(aA(aA({},p.data),{},{uri:sA(p.data.uri),matchedFields:m}));break;case"Album":case"Artist":case"Track":case"Playlist":case"User":case"Episode":case"Podcast":case"Audiobook":o.push(aA(aA({},p.data),{},{matchedFields:m}));break;case"NotFound":case"RestrictedContent":case"GenericError":break;default:(0,Me._)(p.data)}}r({query:i,error:!!c,loading:u,results:o})}),[l,c,u,r,i]),null}));function sA(e){return(0,f.EC)(e)?e:"spotify:genre:".concat(e)}const lA="OQZtYvcaWiQEaOOMZ54v";var cA=function(e){var t=e.children;return(0,dl.jsx)(au.D,{variant:"mesto",semanticColor:"textSubdued",className:lA,children:t})},uA=function(e){return"search-modal-result-".concat(e)},dA=n(72030);const pA="search-modal-resultItem",mA="search-modal-isSelected",fA="search-modal-searchResultTitle",vA="search-modal-entityImage",gA="search-modal-searchResultRow",hA="search-modal-searchResultType";var kA=function(e){var t=e.position,n=e.uri,i=e.title,r=e.image,a=e.color,o=e.subtitle,s=e.isSelected,l=e.onClick,c=e.tag,u=e.label,d=(0,ll.useRef)(null);(0,ll.useEffect)((function(){var e;s&&(null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"auto",block:"nearest"}))}),[s]);var p=(0,Rc.cR)(n).isActive,m=(0,ll.useCallback)((function(){l({uri:n,position:t})}),[l,t,n]),v=(0,P.Z)({},"--position",t);return(0,dl.jsxs)(gN.Link,{ref:d,to:n,className:Tc()(pA,(0,P.Z)({},mA,s)),role:"option","aria-selected":s,onClick:m,id:uA(n),style:v,tabIndex:-1,children:[(0,dl.jsx)("span",{className:"hidden-visually",children:u}),(0,dl.jsx)("div",{className:vA,"aria-hidden":!0,children:(0,dl.jsx)(dA.x,{images:[{url:r,width:40,height:40}],color:a,isCircular:(0,f.OB)(n)})}),(0,dl.jsxs)("div",{className:gA,"aria-hidden":!0,children:[(0,dl.jsx)(au.D,{as:"p",variant:"ballad",className:fA,semanticColor:p?"textBrightAccent":"textBase",children:i}),(0,dl.jsx)(au.D,{as:"p",variant:"mesto",className:fA,semanticColor:"textSubdued",children:o})]}),(0,dl.jsx)("div",{className:hA,"aria-hidden":!0,children:(0,dl.jsx)(cA,{children:c})})]})},yA=function(e){var t=e.results,n=e.onClick,i=e.selectedIndex;return(0,dl.jsx)(dl.Fragment,{children:t.map((function(e,t){return(0,dl.jsx)(ll.Fragment,{children:bA(e,t,n,i===t)},t)}))})};function bA(e,t,n,i){var r,a,o,s,l,c,u,d,p,m,f,g,h,k,y,b,S,x,O,w,N,_,E,C,P,I,j,A,T;switch(e.__typename){case"Album":var D,R,F,L,M,U=e.artists.items.map((function(e){return e.profile.name})).join(v.ag.getSeparator());return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.name,image:null!==(D=null===(R=e.coverArt)||void 0===R||null===(F=R.sources)||void 0===F||null===(L=F[0])||void 0===L?void 0:L.url)&&void 0!==D?D:"",color:(0,Ni.bS)(null===(M=e.coverArt)||void 0===M?void 0:M.extractedColors),subtitle:U,uri:e.uri,tag:v.ag.get("web-player.search-modal.result.album"),label:v.ag.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:U,type:v.ag.get("web-player.search-modal.result.album")})});case"Artist":return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.profile.name,image:null!==(r=null===(a=e.visuals.avatarImage)||void 0===a||null===(o=a.sources)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.url)&&void 0!==r?r:"",color:(0,Ni.bS)(null===(l=e.visuals.avatarImage)||void 0===l?void 0:l.extractedColors),subtitle:"",uri:e.uri,tag:v.ag.get("web-player.search-modal.result.artist"),label:v.ag.get("web-player.search-modal.a11y.label",{item:e.profile.name,type:v.ag.get("web-player.search-modal.result.artist")})});case"Track":var Z,B,V,H,G,W,z,K=e.artists.items.map((function(e){return e.profile.name})).join(v.ag.getSeparator()),Y=K;if(e.matchedFields.includes(Fi.$C.Lyrics)){var q=v.ag.get("web-player.search-modal.lyrics-match");Y="".concat(Y," · ").concat(q)}return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.name,image:null!==(Z=null===(B=e.albumOfTrack)||void 0===B||null===(V=B.coverArt)||void 0===V||null===(H=V.sources)||void 0===H||null===(G=H[0])||void 0===G?void 0:G.url)&&void 0!==Z?Z:"",color:(0,Ni.bS)(null===(W=e.albumOfTrack)||void 0===W||null===(z=W.coverArt)||void 0===z?void 0:z.extractedColors),subtitle:Y,uri:e.uri,tag:v.ag.get("web-player.search-modal.result.track"),label:v.ag.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:K,type:v.ag.get("web-player.search-modal.result.track")})});case"Playlist":var Q,J,X,$="User"===(null===(Q=e.ownerV2.data)||void 0===Q?void 0:Q.__typename)?e.ownerV2.data.name:"",ee=e.images.items.find((function(e){return e.sources}));return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.name,image:null!==(J=null==ee||null===(X=ee.sources)||void 0===X?void 0:X[0].url)&&void 0!==J?J:"",color:(0,Ni.bS)(null==ee?void 0:ee.extractedColors),subtitle:$,uri:e.uri,tag:v.ag.get("web-player.search-modal.result.playlist"),label:v.ag.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:$,type:v.ag.get("web-player.search-modal.result.playlist")})});case"User":return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.name,image:null!==(c=null===(u=e.avatar)||void 0===u||null===(d=u.sources)||void 0===d||null===(p=d[0])||void 0===p?void 0:p.url)&&void 0!==c?c:"",color:(0,Ni.bS)(null===(m=e.avatar)||void 0===m?void 0:m.extractedColors),subtitle:"",uri:e.uri,tag:v.ag.get("web-player.search-modal.result.user"),label:v.ag.get("web-player.search-modal.a11y.label",{item:e.name,type:v.ag.get("web-player.search-modal.result.user")})});case"Genre":return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.name,image:null!==(f=null===(g=e.image)||void 0===g||null===(h=g.sources)||void 0===h||null===(k=h[0])||void 0===k?void 0:k.url)&&void 0!==f?f:"",color:(0,Ni.bS)(null===(y=e.image)||void 0===y?void 0:y.extractedColors),subtitle:"",uri:e.uri,tag:v.ag.get("web-player.search-modal.result.genre"),label:v.ag.get("web-player.search-modal.a11y.label",{item:e.name,type:v.ag.get("web-player.search-modal.result.genre")})});case"Episode":var te,ne,ie,re,ae,oe,se="Podcast"===e.podcastV2.data.__typename&&e.podcastV2.data.name||void 0,le=[null!==(te=e.releaseDate)&&void 0!==te&&te.isoString?v.ag.formatDate(new Date(e.releaseDate.isoString)):void 0,se].filter(Boolean).join(" • "),ce=se?v.ag.get("web-player.search-modal.a11y.contentbyartist",{item:e.name,creator:se,type:v.ag.get("web-player.search-modal.result.episode")}):e.name;return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.name,image:null!==(ne=null===(ie=e.coverArt)||void 0===ie||null===(re=ie.sources)||void 0===re||null===(ae=re[0])||void 0===ae?void 0:ae.url)&&void 0!==ne?ne:"",color:(0,Ni.bS)(null===(oe=e.coverArt)||void 0===oe?void 0:oe.extractedColors),subtitle:le,uri:e.uri,tag:v.ag.get("web-player.search-modal.result.episode"),label:ce});case"Podcast":return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.name,image:null!==(b=null===(S=e.coverArt)||void 0===S||null===(x=S.sources)||void 0===x||null===(O=x[0])||void 0===O?void 0:O.url)&&void 0!==b?b:"",color:(0,Ni.bS)(null===(w=e.coverArt)||void 0===w?void 0:w.extractedColors),subtitle:null!==(N=null===(_=e.publisher)||void 0===_?void 0:_.name)&&void 0!==N?N:"",uri:e.uri,tag:v.ag.get("web-player.search-modal.result.podcast"),label:v.ag.get("web-player.search-modal.a11y.label",{item:e.name,type:v.ag.get("web-player.search-modal.result.podcast")})});case"Audiobook":return(0,dl.jsx)(kA,{isSelected:i,position:t,onClick:n,title:e.name,image:null!==(E=null===(C=e.coverArt)||void 0===C||null===(P=C.sources)||void 0===P||null===(I=P[0])||void 0===I?void 0:I.url)&&void 0!==E?E:"",color:(0,Ni.bS)(null===(j=e.coverArt)||void 0===j?void 0:j.extractedColors),subtitle:null!==(A=null===(T=e.publisher)||void 0===T?void 0:T.name)&&void 0!==A?A:"",uri:e.uri,tag:v.ag.get("web-player.search-modal.result.audiobook"),label:v.ag.get("web-player.search-modal.a11y.label",{item:e.name,type:v.ag.get("web-player.search-modal.result.audiobook")})});default:return(0,Me.U)(e)}}const SA="search-modal-modalWrapper",xA="search-modal-searchBar",OA="search-modal-hasResults",wA="G8UNZJv4HT1kOIolA_e7",NA="search-modal-emptyStateContainer",_A="search-modal-emptySearchTermContainer",EA="search-modal-modalBase",CA="search-modal-modalAfterOpen",PA="search-modal-modalBeforeClose";var IA={modal:{base:EA,afterOpen:CA,beforeClose:PA},overlay:{base:EA,afterOpen:CA,beforeClose:PA}},jA=function(){var e=(0,lc.s0)(),t=Df(),n=(0,vu.fU)(Hj.createDesktopQuickSearchEventFactory,{}),r=n.spec,a=n.logger,o=n.UBIFragment,s=(0,vu.Wi)(r),l=(0,ll.useState)(""),c=(0,i.Z)(l,2),u=c[0],d=c[1],p=(0,ll.useState)([]),m=(0,i.Z)(p,2),g=m[0],h=m[1],k=(0,ll.useState)(0),y=(0,i.Z)(k,2),b=y[0],S=y[1],x=(0,ll.useState)(!1),O=(0,i.Z)(x,2),w=O[0],N=O[1],_=!(0,sh.k)(),E=(0,ll.useMemo)((function(){return(0,f.EC)(u)}),[u]),C=E&&E.type!==f.JM.AD,I=(0,ll.useCallback)((function(e){var t=e.target.value;t!==u&&(d(t),S(0),a.logInteraction(r.inputFactory().keyStrokeChangeSearchQuery({searchQueryString:t})))}),[a,u,r]),j=(0,ll.useCallback)((function(){d(""),t({type:"CLOSE"})}),[t]),A=(0,ll.useCallback)((function(e){var t=e.uri,n=e.position;a.logInteraction(r.searchResultFactory({position:n}).hitUiNavigate({destination:t})),j()}),[j,a,r]),T=(0,uu.g)(),D=(0,ll.useCallback)((function(t){var n=t.key;if("ArrowUp"===n)S((function(e){return Math.max(e-1,0)})),t.preventDefault();else if("ArrowDown"===n)S((function(e){return Math.min(e+1,g.length-1)})),t.preventDefault();else if("Enter"===n){if(C)return e(E.toURLPath(!0)),void j();var i=g[b];if(i){var r=(0,f.EC)(i.uri);if(t.shiftKey)TA(null==r?void 0:r.type)&&T.play({uri:i.uri},{featureIdentifier:"quick_search",referrerIdentifier:"PlayerStub_UnknownReferrer"});else{var a=null==r?void 0:r.toURLPath(!0);a&&(e(a),A({uri:i.uri,position:b}))}}t.preventDefault()}}),[C,j,A,e,T,E,g,b]),R=(0,ll.useCallback)((function(e){N(e.loading),e.query===u&&h(e.results)}),[u]),F=g.length>0,L=g[b],M=L?uA(L.uri):void 0,U=(0,f.EC)(null==L?void 0:L.uri),Z=TA(null==U?void 0:U.type);return(0,dl.jsxs)(o,{spec:r,children:[(0,dl.jsx)(oA,{query:C?"":u,numberOfResults:30,onResults:R}),(0,dl.jsxs)("div",{className:SA,ref:s,children:[(0,dl.jsx)("div",{className:Tc()(xA,(0,P.Z)({},OA,g.length)),children:(0,dl.jsx)(qj,{value:u,onChange:I,onKeyPress:D,hasResults:F,activeResultId:M})}),(0,dl.jsx)(Jj,{canSelect:F&&!C,canPlay:Z,canOpen:F||!!C}),u&&!C&&F&&(0,dl.jsx)("div",{className:wA,id:Gj,role:"listbox",children:(0,dl.jsx)(yA,{results:g,onClick:A,selectedIndex:b})}),!w&&u&&!F&&(0,dl.jsxs)("div",{className:NA,onClick:j,children:[(0,dl.jsx)(au.D,{className:_A,as:"h1",variant:"canon",semanticColor:"textBase",children:v.ag.get("search.empty-results-title",u)}),_&&(0,dl.jsx)(au.D,{as:"p",semanticColor:"textBase",children:v.ag.get("web-player.search-modal.offline")})]})]})]})},AA=function(){var e=function(){var e=(0,ll.useContext)(Af);if(!e)throw new Error("useSearchModalState must be used within SearchModalProvider");return(0,i.Z)(e,1)[0]}().isOpen,t=Df(),n=(0,ll.useCallback)((function(){t({type:"CLOSE"})}),[t]);return e?(0,dl.jsx)(tf.Z,{contentLabel:v.ag.get("web-player.search-modal.title"),isOpen:e,onRequestClose:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animation:IA,children:(0,dl.jsx)(jA,{})}):null};function TA(e){switch(e){case"album":case"artist":case"track":case"playlist":case"playlist-v2":case"episode":case"show":return!0;default:return!1}}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DA(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var FA={isRightSidebarVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1},LA=function(e,t){switch(t.type){case"resetMainView":return RA(RA({},e),{},{isRightSidebarVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1});case"collapseMainView":return RA(RA({},e),{},{isRightSidebarVisible:!1,isNavBarVisible:!1,isNowPlayingBarVisible:!1,isTopBarVisible:!1,isMainViewExpanded:!0});default:return e}},MA=function(e){var t=e.children,n=(0,ll.useReducer)(LA,FA),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,ll.useMemo)((function(){return RA(RA({},a),{},{resetMainView:function(){return o({type:"resetMainView"})},collapseMainView:function(){return o({type:"collapseMainView"})}})}),[a,o]);return(0,dl.jsx)(Gy.$8.Provider,{value:s,children:t})},UA=n(98141),ZA=n(12734),BA=n(68569),VA=n(42336),HA=n(75938),GA=n(25244),WA=n(59702),zA=n(41212),KA=n(59190),YA=function(e,t){if(!t)return null;var n,r,a,o,s,l,c,u,d,p,m,f,v,g,h,k,y,b,S,x,O,w,N=(n=t,r=e.split("."),a=(0,i.Z)(r,4),o=a[0],s=void 0===o?1:o,l=a[1],c=void 0===l?0:l,u=a[2],d=void 0===u?0:u,p=a[3],m=void 0===p?0:p,f=n.split("."),v=(0,i.Z)(f,4),g=v[0],h=void 0===g?1:g,k=v[1],y=void 0===k?0:k,b=v[2],S=void 0===b?0:b,x=v[3],O=void 0===x?0:x,w=1e9*Number(s)+1e6*Number(c)+1e4*Number(d)+Number(m),1e9*Number(h)+1e6*Number(y)+1e4*Number(S)+Number(O)-w);return N>=2e4?"negative":N>=1e3?"warning":N>=500?"announcement":null},qA=function(){var e=(0,zA.g)(),t=(0,ll.useContext)(qp.z),n=(0,ll.useCallback)((function(){t.prepareUpdate()}),[t]),r=(0,ll.useCallback)((function(){t.applyUpdate()}),[t]),a=(0,ll.useState)(null),o=(0,i.Z)(a,2),s=o[0],l=o[1],c=null==e?void 0:e.version;if((0,ll.useEffect)((function(){t.getVersionInfo().then((function(e){var t=e.containerVersion.split(".");5===t.length&&t.pop(),l(t.join("."))}))}),[t]),(null==e?void 0:e.state)===KA.J.UPDATE_NONE)return null;if(!s||!c)return null;var u=YA(s,c);if(!u)return null;switch(null==e?void 0:e.state){case KA.J.UPDATE_AVAILABLE:return(0,dl.jsx)(Hm.D,{buttonSize:"sm",colorSet:u,onClick:n,children:v.ag.get("release-notifier.update-available",c)});case KA.J.UPDATE_PROCESSING:return(0,dl.jsx)(Hm.D,{buttonSize:"sm",colorSet:u,disabled:!0,onClick:r,children:v.ag.get("release-notifier.update-processing",c)});case KA.J.UPDATE_READY:return(0,dl.jsx)(Hm.D,{buttonSize:"sm",colorSet:u,onClick:r,children:v.ag.get("release-notifier.update-ready",c)});default:return null}},QA=function(){var e=(0,aN.rV)().settings;return(0,WA.getIsEmployeeDesktopSettings)(e.values)?(0,dl.jsx)(qA,{}):null},JA=function(){return(0,dl.jsx)(QA,{})};function XA(e){var t=(0,sl.cl)();return(0,i.Z)(t,1)[0].backgroundColor||e}var $A=n(69912),eT=n(97846),tT="sp_pfhp",nT="pfhp",iT=function(){var e,t,n=(0,Rt.vQ)(tT),i=(e=new URLSearchParams(window.location.search),(t=e.get(nT))&&(e.delete(nT),window.history.replaceState(null,"","".concat(window.location.origin).concat(window.location.pathname,"?").concat(e))),t);return i&&i!==n?((0,Rt.pC)({name:tT,value:i,days:30}),i):n},rT=function(){return"undefined"!=typeof window&&"2c2ccb58-8a92-4713-a1c0-8b43b3090b49"===iT()};n(16925);function aT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>t)return 1;var i=(e-n)/(t-n);return Number.isNaN(i)&&(i=1),Math.min(Math.max(i,0),1)}var oT=n(96084),sT=n(91255),lT=function(){var e=(0,ll.useRef)(null),t=(0,ll.useContext)(oT.E).setElementRef;return(0,ll.useEffect)((function(){t&&e.current&&t(e.current)}),[t]),(0,dl.jsx)("div",{"":"topbar-content-wrapper",className:sT.Z.topbarContentWrapper,ref:e})},cT=n(68058),uT=n(99055),dT=n(77940),pT=n(67946);const mT="400ms",fT="main-topBarStatusIndicator-TopBarStatusIndicatorContainer",vT="main-noConnection-button",gT="main-noConnection-isError",hT="main-noConnection-isNotice",kT="main-topBarStatusIndicator-hasTooltip",yT="main-topBarStatusIndicator-tooltipIsError",bT="main-topBarStatusIndicator-enter",ST="main-topBarStatusIndicator-enterActive",xT="main-topBarStatusIndicator-exitActive",OT="main-topBarStatusIndicator-tooltipEnter",wT="main-topBarStatusIndicator-notMinimized",NT="main-topBarStatusIndicator-tooltipEnterActive";var _T=(0,ll.memo)((function(e){var t,n=e.children,i=e.feedbackType,r=e.tooltip,a=e.itemId,o=e.display,s=void 0===o||o,l=e.minimized,c=void 0!==l&&l,u=e.spec,d=(0,ll.useRef)(null),p=(0,cu.o)(),m=(0,vu.$P)();return(0,dl.jsx)(lb.Z,{in:s,timeout:parseInt(mT,10),unmountOnExit:!0,onEnter:function(e){c||e.classList.add(OT)},onEntered:function(e){c||e.classList.add(NT)},onExited:function(e){c||e.classList.remove(NT)},classNames:{enter:bT,enterActive:ST,exitActive:xT},children:(0,dl.jsx)(Yh.ZP,{value:a,children:(0,dl.jsx)("div",{className:Tc()(fT,(0,P.Z)({},wT,!c)),children:(0,dl.jsx)(kx.Nt,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,dl.jsx)(kx.yv,{className:Tc()((0,P.Z)({},yT,i===$m.nY.ERROR)),children:(0,dl.jsx)("div",{children:r})}),renderInline:!1,children:(0,dl.jsx)("button",{className:Tc()(vT,(t={},(0,P.Z)(t,kT,r),(0,P.Z)(t,gT,i===$m.nY.ERROR),(0,P.Z)(t,hT,i===$m.nY.NOTICE),t)),onClick:function(){p({intent:"toggle",type:"click"}),u&&m.logInteraction(u.hitUiReveal())},ref:d,"":a,children:n})})})})})}));const ET="P8EYxpJkrSRcmY5CFfgZ",CT="oMR8tk4wMj9_exGQeapz",PT="qq3uDmbXwv31FKawHDIg",IT="B64o12iyKiKF4s8uuClS";function jT(e){if(null===e)return null;var t=Math.abs(Date.now()-e.getTime());if(t<1e3)return null;var n=(0,pT.P)(t),i=n.hours,r=n.minutes,a=n.seconds,o=(0,uT.N)({h:i,m:r,s:a});return v.ag.get("authorization-status.retrying",o)}var AT=function(e){var t=e.retryAt,n=(0,lm.V)(),r=(0,ll.useState)(jT(t)),a=(0,i.Z)(r,2),o=a[0],s=a[1],l=(0,Il.qT)();return(0,ll.useEffect)((function(){var e=window.setInterval((function(){s(jT(t))}),500);return function(){window.clearInterval(e)}}),[t,s]),(0,dl.jsxs)("div",{className:ET,children:[(0,dl.jsx)(au.D,{as:"p",variant:"cello",children:v.ag.get("authorization-status.title")}),(0,dl.jsx)("span",{className:CT,children:null!=o?o:v.ag.get("authorization-status.reconnecting")}),(0,dl.jsxs)("div",{className:PT,children:[(0,dl.jsx)(Jm.o,{semanticColor:"textBase",buttonSize:cT.z.sm,onClick:function(){l({type:"close"})},children:v.ag.get("authorization-status.dismiss")}),(0,dl.jsx)(Hm.D,{className:IT,buttonSize:cT.z.sm,onClick:function(){return n.tryAuthorize()},children:v.ag.get("authorization-status.retry")})]})]})},TT=function(e){var t=e.minimized,n=e.spec,i=(0,sh.k)(),r=(0,dT.p)(),a=r.isAuthorized,o=r.retryAt;return(0,Au.W6)(ys.Nc)?(0,dl.jsxs)(_T,{feedbackType:$m.nY.ERROR,minimized:t,display:i&&!a,spec:n,tooltip:(0,dl.jsx)(AT,{retryAt:o}),itemId:"authorization-status-indicator",children:[(0,dl.jsx)(ZN.l,{iconSize:16}),v.ag.get("authorization-status.badge")]}):null},DT=n(31761),RT=function(e){var t=e.minimized,n=e.spec,i=!(0,sh.k)();return(0,dl.jsxs)(_T,{feedbackType:$m.nY.NOTICE,minimized:t,display:i,spec:n,tooltip:v.ag.get("offline.callout-disconnected"),itemId:"offline-status-indicator",children:[(0,dl.jsx)(DT.i,{iconSize:16}),v.ag.get("offline.badge")]})},FT=n(22672),LT=n(17895),MT=function(e){var t=e.minimized,n=e.spec,i=(0,LT.M)().isPrivateSession;return(0,dl.jsxs)(_T,{feedbackType:$m.nY.NOTICE,minimized:t,display:i,tooltip:v.ag.get("private-session.callout"),spec:n,itemId:"private-session-indicator",children:[(0,dl.jsx)(FT.W,{iconSize:16}),v.ag.get("private-session.badge")]})},UT=ll.memo((function(e){var t=e.windowSize<=1024,n=(0,ll.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.privateSessionButtonFactory()}),[e.spec]),i=(0,ll.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.offlineButtonFactory()}),[e.spec]),r=(0,ll.useMemo)((function(){var t;return null===(t=e.spec)||void 0===t?void 0:t.authorizationButtonFactory()}),[e.spec]);return(0,dl.jsxs)("div",{className:sT.Z.indicators,children:[(0,dl.jsx)(MT,{spec:n,minimized:t}),(0,dl.jsx)(RT,{spec:i,minimized:t}),(0,dl.jsx)(TT,{spec:r,minimized:t})]})}));function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function BT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZT(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VT(e,t){switch(t.type){case"installed":return BT(BT({},e),{},{installed:!0});case"before-install":return BT(BT({},e),{},{deferredPrompt:t.prompt,canBeInstalled:!0});default:return e}}var HT,GT=ll.memo((function(e){var t=e.logger,n=e.spec,r=(0,nl.I0)(),a=(0,ll.useReducer)(VT,{deferredPrompt:void 0,installed:!1,canBeInstalled:!1}),o=(0,i.Z)(a,2),s=o[0],l=o[1];(0,ll.useEffect)((function(){var e=function(){l({type:"installed"}),r((0,Ys.oT)())},t=function(e){e.preventDefault(),l({type:"before-install",prompt:e})};return window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",e),function(){window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",e)}}),[r]);var c=(0,ll.useCallback)((function(e){if(e.preventDefault(),n&&t){var i=n.installPwaButtonFactory().hitInstallApp({appName:"PWA"});t.logInteraction(i)}s.deferredPrompt&&s.deferredPrompt.prompt()}),[n,t,s.deferredPrompt]),u=s.canBeInstalled,d=s.installed;return!u||d?null:(0,dl.jsx)(Hm.D,{colorSet:"overMedia",buttonSize:"sm",onClick:c,iconLeading:Lw.D,children:(0,dl.jsx)(au.D,{variant:"mestoBold",className:"ellipsis-one-line",children:v.ag.get("pwa.download-app")})})})),WT=n(12116),zT=ll.memo((function(e){var t=e.shouldCalloutPWA,n=e.spec,i=e.logger,r=(0,ll.useCallback)((function(){if(n&&i){var e=n.installAppButtonFactory().hitNavigateToExternalUri({destination:"/download"});i.logInteraction(e)}}),[i,n]);return t?(0,dl.jsx)(GT,{logger:i,spec:n}):(0,dl.jsx)(Hm.D,{colorSet:"overMedia",buttonSize:"sm",href:"/download",iconLeading:Lw.D,onClick:r,component:WT.Z,children:(0,dl.jsx)(au.D,{variant:"mestoBold",className:"ellipsis-one-line",children:v.ag.get("navbar.install-app")})})})),KT="ANONYMOUS_PLAYBACK_HOOK",YT=function(e,t){var n,i=null==t||null===(n=t.item)||void 0===n?void 0:n.type;e.dispatch(function(e){return{type:KT,entityType:e}}(i))},qT=function(e){return function(t,n,i){var r,a=e.getState(),o=function(e,t,n,i){var r,a=(null!==(r=(0,kE.k)(n))&&void 0!==r?r:0)>1e4,o=document.hasFocus();return!e&&a&&o&&i&&"now-playing-view"!==t}(t,null==a||null===(r=a.ui)||void 0===r?void 0:r.modal,n,i);return o}},QT=n(1646),JT=(n(70238),n(30067)),XT="STORE_DEFERRED_ACTION",$T="PULL_DEFERRED_ACTION",eD=function(e){return e.PLAY="play",e.PLAYING="playing",e.USER_INVESTMENT="user-investment",e}({}),tD=n(14706),nD=n(20346),iD=n(38156),rD="likedSongs",aD={getTitle:function(){return v.ag.get("action-trigger.liked-songs")},getDescription:function(){return v.ag.get("action-trigger.login-liked-songs")}},oD=function(e){var t=e.children;return(0,dl.jsx)(iD.P,{id:rD,options:aD,children:t})},sD="yourLibrary",lD={getTitle:function(){return v.ag.get("action-trigger.enjoy-library")},getDescription:function(){return v.ag.get("action-trigger.login-library")},zIndex:5},cD=function(e){var t=e.children;return(0,dl.jsx)(iD.P,{id:sD,options:lD,children:t})};function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uD(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pD="START_RADIO",mD="SAVE_TRACK",fD="SAVE_EPISODE",vD="FOLLOW_USER",gD=/(^PLAY_.+|QUEUE_UPDATE)/i,hD=dD(dD({},(HT={},(0,P.Z)(HT,mc.V5.ANONYMOUS_COLLECTION_NAVIGATION,mc.V5.ANONYMOUS_COLLECTION_NAVIGATION),(0,P.Z)(HT,mc.V5.ANONYMOUS_LIKED_SONGS_NAVIGATION,mc.V5.ANONYMOUS_LIKED_SONGS_NAVIGATION),(0,P.Z)(HT,KT,KT),HT)),QT.V5),kD=function(){var e=dD({},hD);return delete e.DEVICE_INFO_CHANGED,delete e.PLAYBACK_CLEAR_DATA,delete e.QUEUE_UPDATE,e},yD=function(e,t){if(kD()[t.type]){if(function(e){return e.type!==KT&&!![QT.V5.PLAYBACK_ERROR].includes(e.type)}(t))return!1;var n=function(e){var t=kD();switch(e.type){case t.ANONYMOUS_COLLECTION_NAVIGATION:return[!0,{triggerId:sD,triggerAction:e}];case t.ANONYMOUS_LIKED_SONGS_NAVIGATION:return[!0,{triggerId:rD,triggerAction:e}];case t.FOLLOW_PLAYLIST:return[!0,{triggerId:tD.J,triggerAction:e}];case t.CREATE_PLAYLIST:return[!0,{triggerId:nD.V,triggerAction:e}];case t.ADD_TO_QUEUE:case KT:return[!0,{triggerId:xD,triggerAction:e}];default:return[!1,null]}}(t),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=gD.test(t.type);if(e.dispatch((c=t,u=s?eD.PLAY:eD.USER_INVESTMENT,{type:XT,storeAction:c,actionIntent:u})),a)A_.y.set((function(e){return dD(dD({},e),o)}));else{var l=t.uri||t.contextURI;if(e.dispatch((0,el.lJ)(l)),t.type===Rf.VX)return!1}return!0}var c,u;return!1};function bD(e,t){if(e===ii.pT.ADD){if((0,f.wj)(t))return[!0,{triggerId:xD,triggerAction:{type:mD}}];if((0,f.hn)(t))return[!0,{triggerId:xD,triggerAction:{type:fD}}]}return e===Fe.zr.PLAY&&(0,f.oi)(t)?[!0,{triggerId:xD,triggerAction:{type:pD}}]:e===Ta.aY.ADD||e===Ta.aY.CREATE_PLAYLIST?[!0,{triggerId:nD.V,triggerAction:{type:null}}]:e===JT.BM.FOLLOW_USER?[!0,{triggerId:xD,triggerAction:{type:vD}}]:[!1,null]}var SD=function(e,t,n,r,a){return function(o){var s=e.getEvents(),l=t.getEvents(),c=n.getEvents(),u=r.getEvents();return s.addListener(Fe.rg.ACTION,(function(e){(function(e,t,n){var r,a,o=t.getState();if(!(0,ef.Gg)(o).isAnonymous)return!1;switch(e.action){case Fe.zr.PLAY:var s,l,c=e.context,u=e.options,d=function(e){return e.pages&&e.pages.length>0&&e.pages[0].items&&e.pages[0].items.length>0?e.pages[0].items[0]:null}(c);if((null==d?void 0:d.type)===Le.p.EPISODE&&(void 0===(null===(a=(r=d).metadata)||void 0===a?void 0:a.anonymousPlaybackAllowed)||r.metadata.anonymousPlaybackAllowed))return!1;var p=null!==(s=null==u||null===(l=u.skipTo)||void 0===l?void 0:l.uri)&&void 0!==s?s:c.uri;n.storeAction(R.gi,e);var m=bD(Fe.zr.PLAY,p),f=(0,i.Z)(m,2),v=f[0],g=f[1];return v?(A_.y.set((function(e){return dD(dD({},e),g)})),!0):(t.dispatch((0,el.lJ)(p)),!0);case Fe.zr.SKIP_TO_NEXT:case Fe.zr.SKIP_TO_PREVIOUS:return t.dispatch((0,el.lJ)()),!0;default:return!1}})(e.data,o,a)&&e.preventDefault()})),l.addListener(ii.EW.OPERATION,(function(e){(function(e,t,n){var r=t.getState();if(!(0,ef.Gg)(r).isAnonymous)return!1;if(e.operation===ii.pT.ADD){var a=(0,i.Z)(e.uris,1)[0];n.storeAction(R.wH,e);var o=bD(ii.pT.ADD,a),s=(0,i.Z)(o,2),l=s[0],c=s[1];return l?(A_.y.set((function(e){return dD(dD({},e),c)})),!0):(t.dispatch((0,el.lJ)(a)),!0)}return!1})(e.data,o,a)&&e.preventDefault()})),c.addListener(Ta.Yt.OPERATION,(function(e){(function(e,t,n){var r=t.getState();if(!(0,ef.Gg)(r).isAnonymous)return!1;switch(e.operation){case Ta.aY.ADD:var a=(0,i.Z)(e.uris,1)[0];n.storeAction(R.t3,e);var o=bD(Ta.aY.ADD,a),s=(0,i.Z)(o,2),l=s[0],c=s[1];return l?(A_.y.set((function(e){return dD(dD({},e),c)})),!0):(t.dispatch((0,el.lJ)(a)),!0);case Ta.aY.CREATE_PLAYLIST:var u=bD(Ta.aY.CREATE_PLAYLIST,""),d=(0,i.Z)(u,2),p=d[0],m=d[1];return p?(A_.y.set((function(e){return dD(dD({},e),m)})),!0):(t.dispatch((0,el.lJ)(null)),!0);default:return!1}})(e.data,o,a)&&e.preventDefault()})),u.addListener(JT.rA.OPERATION,(function(e){(function(e,t,n){var r=t.getState();if(!(0,ef.Gg)(r).isAnonymous)return!1;if(e.operation===JT.BM.FOLLOW_USER){var a=(0,i.Z)(e.uris,1)[0];n.storeAction(R.mZ,e);var o=bD(JT.BM.FOLLOW_USER,a),s=(0,i.Z)(o,2),l=s[0],c=s[1];return l?(A_.y.set((function(e){return dD(dD({},e),c)})),!0):(t.dispatch((0,el.lJ)(a)),!0)}return!1})(e.data,o,a)&&e.preventDefault()})),function(t){return function(n){var i=o.getState(),r=(0,ef.Gg)(i).isAnonymous,s=new URL(location.href).searchParams.has("signupPrompt");if(r){if(!yD(o,n)){switch(n.type){case mc.V5.ANONYMOUS_LOGIN_CLICK:var l=e.getState();if(function(e){var t;return(0,Ch.o9)(e)===Re.PO.PLAYING&&(0,Re.iw)(null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0)}(l)){var c=function(e,t){var n;if(null==e||!e.item)return null;var i={uri:e.context.uri,pages:[{items:[{type:e.item.type,uri:e.item.uri,uid:e.item.uid,metadata:e.item.metadata,provider:e.item.provider}]}]},r={referrerIdentifier:t.getReferrer(),featureIdentifier:"unknown"},a={seekTo:null!==(n=e.positionAsOfTimestamp)&&void 0!==n?n:void 0};return{action:Fe.zr.PLAY,context:i,origin:r,options:a}}(l,e);c&&a.storeAction(R.gi,c)}setTimeout(Ms.h$,500);break;case mc.V5.ANONYMOUS_SIGNUP_CLICK:setTimeout(Ms.L6,500);break;case mc.V5.ANONYMOUS_PREMIUM_CLICK:setTimeout((function(){window.location.assign(As.Np)}),500);break;case Rf.VX:s&&o.dispatch((0,el.lJ)((null===(S=(0,f.EC)(location.pathname))||void 0===S?void 0:S.toURI())||"")),u=e,d=".main-view-container .os-viewport-native-scrollbars-invisible",p=function(e){return function(t){YT(e,t)}}(o),m=qT(o),v=!1,g=Date.now(),h=document.querySelector(d),k=u.getEvents(),y=function(){g=Date.now()},b=function(){h||(h=document.querySelector(d))&&h.addEventListener("scroll",y)},k.addListener(Fe.rg.UPDATE,(function e(t){var n=t.data;b();var i=Date.now()-g>1e3;m(v,n,i)&&(v=!0,p(n),k.removeListener(Fe.rg.UPDATE,e),h&&h.removeEventListener("scroll",y))})),b()}var u,d,p,m,v,g,h,k,y,b,S;t(n)}}else t(n)}}}},xD="loginButton",OD={isCTA:!1,placement:iD.n.bottomLeft,shouldHideOnOutsideClick:function(e){var t=e.triggerAction;return!t||t.type!==KT},getTitle:function(){return v.ag.get("action-trigger.logged-out")},getDescription:function(e){var t=e.triggerAction;switch(null==t?void 0:t.type){case QT.V5.ADD_TO_QUEUE:return v.ag.get("action-trigger.logged-out-queue");case pD:return v.ag.get("action-trigger.logged-out-radio");case mD:return v.ag.get("action-trigger.log-in-like-action");case vD:return v.ag.get("action-trigger.log-in-follow-profile");case KT:return"track"===(null==t?void 0:t.entityType)?v.ag.get("action-trigger.logged-out-full-track"):v.ag.get("action-trigger.logged-out-synced");default:return v.ag.get("action-trigger.logged-out-continue")}}},wD=function(e){var t=e.children;return(0,dl.jsx)(iD.P,{id:xD,options:OD,children:t})},ND=n(42870);n(65477);function _D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ED(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_D(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var CD=function(e){var t=Object.assign({},((0,ND.Z)(e),e)),n=(0,Au.W6)(ys.yA),i=(0,Au.W6)(ys.hw),r=(0,Au.W6)(ys.Gu),a=(0,lc.s0)(),o=(0,vu.fU)(GA.o,{}),s=o.spec,l=o.logger,c=(0,ll.useMemo)((function(){return s.upgradeButtonFactory()}),[s]),u=(0,vu.Wi)(c),d=(0,ll.useCallback)((function(){l.logInteraction(c.hitUiNavigate({destination:"spotify:app:premium"}))}),[l,c]),p=function(){switch(i){case ys.bU.CONTROL:return v.ag.get("upgrade.button");case ys.bU.VARIANT_1:return v.ag.get("upgrade.variant1.button");case ys.bU.VARIANT_2:return v.ag.get("upgrade.variant2.button");case ys.bU.VARIANT_3:return v.ag.get("upgrade.variant3.button");default:return v.ag.get("upgrade.button")}};return n?(0,dl.jsx)(Hm.D,ED(ED({},t),{},{ref:u,buttonSize:"sm",onClick:r?function(){d(),a("/premium")}:t.onClick,"aria-label":v.ag.get("upgrade.tooltip.title"),title:v.ag.get("upgrade.tooltip.title"),colorSet:"invertedLight",children:p()})):(0,dl.jsx)(Rb.P,ED(ED({},t),{},{ref:u,buttonSize:"sm",onClick:r?function(){d(),a("/premium")}:t.onClick,"aria-label":v.ag.get("upgrade.tooltip.title"),title:v.ag.get("upgrade.tooltip.title"),children:p()}))},PD=n(55019),ID=n(28547),jD=n(93476);const AD="main-topBar-buddyFeedIcon",TD="main-topBar-buddyFeed",DD="main-topBar-buddyFeedActive";var RD=function(){var e=(0,m_.T)(Mh.s.BuddyFeed),t=e.isActive,n=e.toggle,i=(0,Cm.I)().getCapabilities().isSupported,r=(0,sh.k)();if(!i)return null;return(0,dl.jsx)(Ru.w,{label:r?v.ag.get("buddy-feed.friend-activity"):v.ag.get("offline.feedback-text"),children:(0,dl.jsx)("button",{"aria-label":v.ag.get("buddy-feed.friend-activity"),className:Tc()((0,PD.EG)("overMedia"),TD,(0,P.Z)({},DD,t)),onClick:function(){r&&n()},children:t?(0,dl.jsx)(ID.s,{className:AD,iconSize:16}):(0,dl.jsx)(jD.R,{className:AD,iconSize:16})})})},FD=n(34547);const LD="main-home-homeHeader",MD="main-home-withAds",UD="main-home-isOffline";var ZD=function(e){return e.platform},BD=function(){var e=(0,nl.v9)(ZD).isDesktop,t=(0,nl.v9)(FD.F7),n=(0,nl.v9)(ef.Gg).productState,i="premium"===(null==n?void 0:n.product);return e&&i&&t},VD=(0,ll.memo)((function(){var e,t=XA(ZS.Sns),n=!(0,sh.k)(),i=BD();return(0,dl.jsx)("div",{className:Tc()(LD,(e={},(0,P.Z)(e,UD,n),(0,P.Z)(e,MD,i),e)),style:{backgroundColor:t}})})),HD=n(6257),GD=n(64493),WD=n(16601),zD=n(31636),KD=Spicetify.GraphQL.Definitions["queryWhatsNewFeed"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryWhatsNewFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includedContentTypes"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WhatsNewFeedContentType"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"onlyUnPlayedItems"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whatsNewFeedItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includedContentTypes"},value:{kind:"Variable",name:{kind:"Name",value:"includedContentTypes"}}},{kind:"ObjectField",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"ObjectField",name:{kind:"Name",value:"onlyUnPlayedItems"},value:{kind:"Variable",name:{kind:"Name",value:"onlyUnPlayedItems"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"whatsNewFeedItem"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offset"}},{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}].concat((0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"whatsNewFeedItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhatsNewFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"whatsNewFeedAlbum"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"whatsNewFeedEpisode"}},{kind:"FragmentSpread",name:{kind:"Name",value:"whatsNewFeedChapter"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhatsNewFeedNotificationFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"subtitle"}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Concert"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"venue"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeOrChapterResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"contents"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"audiobookV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MerchResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Merch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"price"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastOrAudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"verified"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OtherSpotifyUriType"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"state"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"timestamp"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timestamp"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"whatsNewFeedAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"albumType"},name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"whatsNewFeedEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"contents"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]),(0,_.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"whatsNewFeedChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"audiobookV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]))},YD=Spicetify.GraphQL.Definitions["whatsNewFeedNewItems"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"whatsNewFeedNewItems"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whatsNewFeedHasNewItems"}}]}}]},qD=Spicetify.GraphQL.Definitions["SetItemsStateInWhatsNewFeed"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetItemsStateInWhatsNewFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"items"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetItemsStateInWhatsNewFeedInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setItemsStateInWhatsNewFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"items"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WhatsNewFeedPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"state"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"timestamp"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]},QD=n(54221);const JD="main-topBar-whatsNewFeedIcon",XD="main-topBar-whatsNewFeed",$D="main-topBar-whatsNewFeedActive",eR="main-topBar-whatsNewFeedNotification",tR="main-topBar-whatsNewFeedNotificationTitle",nR="main-topBar-whatsNewFeedNotificationDot";function iR(){return(0,xn.Y)(KD).name}var rR=function(){var e=(0,m_.T)(Mh.s.WhatsNewFeed),t=e.toggle,n=e.isActive,a=(0,ll.useState)(!1),s=(0,i.Z)(a,2),l=s[0],c=s[1],u=(0,ll.useContext)(bn.Ax).request,d=(0,tl.useQueryClient)(),p=(0,vu.fU)(WD.y,{}),m=p.spec,f=p.logger;(0,ll.useEffect)((function(){var e=!1,t=setInterval((0,r.Z)(o().mark((function t(){var i,r,a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,zD.J)(u,YD,{});case 2:r=t.sent,(a=(null==r||null===(i=r.data)||void 0===i?void 0:i.whatsNewFeedHasNewItems)||!1)&&!e&&(n?(d.refetchQueries(iR()),c(!1)):(s=m.notificationsBellToggleFactory().notificationsIndicatorFactory().impression(),f.logImpression(s),c(!0),d.invalidateQueries(iR()))),e=a;case 6:case"end":return t.stop()}}),t)}))),Mn.y/3);return function(){clearInterval(t)}}),[f,u,m,d,n]);var g=function(){return(0,dl.jsxs)("div",{className:eR,children:[(0,dl.jsx)("span",{className:tR,children:v.ag.get("new_releases")}),(0,dl.jsx)(QD.Z,{className:nR})]})},h=(0,ll.useCallback)((function(){var e=m.notificationsBellToggleFactory().hitUiHide(),i=m.notificationsBellToggleFactory().hitUiReveal();n?f.logInteraction(e):(f.logInteraction(i),c(!1)),t()}),[n,f,m,t]);return(0,dl.jsx)(Ru.w,{label:v.ag.get("web-player.whats-new-feed.button-label"),children:(0,dl.jsxs)("button",{"aria-label":v.ag.get("web-player.whats-new-feed.button-label"),className:Tc()((0,PD.EG)("overMedia"),XD,(0,P.Z)({},$D,n)),onClick:h,children:[n?(0,dl.jsx)(HD.M,{className:JD,iconSize:16}):(0,dl.jsx)(GD.G,{className:JD,iconSize:16}),l&&(0,dl.jsx)(g,{})]})})},aR=n(6034),oR=n(11595),sR=function(){var e=(0,aR.g)(),t=(0,nl.v9)(ef.OA),n=!!(0,lc.bS)({path:"/search",end:!1}),i=!!(0,lc.bS)({path:"/collection",end:!1}),r=!!(0,lc.bS)({path:"/collection/tracks"});return!(e||i&&!r||n)&&t},lR=n(14233);function cR(){var e=function(){var e=(0,ll.useContext)(Nm);if(null===e)throw new Error("Trying to use 'UserAPIContext' without 'UserAPIProvider'!");return e}(),t=(0,ll.useState)(!0),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=(0,ll.useState)(null),s=(0,i.Z)(o,2),l=s[0],c=s[1],u=(0,ll.useState)(null),d=(0,i.Z)(u,2),p=d[0],m=d[1];return(0,ll.useEffect)((function(){var t=!0;return e.getProductState().then((function(e){t&&c(e)})).catch((function(e){t&&m(e)})).finally((function(){t&&a(!1)})),function(){t=!1}}),[e]),{isLoading:r,data:l,error:p}}var uR=n(30855),dR=n(77451),pR=n(36487),mR=n(90813);function fR(e,t){return t?(0,mR.k)(e):(0,pR.x)(e)}var vR=function(e){var t=e.divider,n=e.visible,i=(0,Tu.s4)(),r=(0,aR.g)(),a=(0,ll.useCallback)((function(){i.send(fR({category:"masthead",action:"click",label:"download-link",destination_url:As.vF,context:window.location.href,os:(0,de.y)(),variant:"a"},r))}),[i,r]);return n?(0,dl.jsx)($d.s,{divider:t,role:"menuitem",href:As.vF,onClick:a,target:"_blank",trailingIcon:(0,dl.jsx)(dR.h,{iconSize:16}),children:v.ag.get("download.download")}):null},gR=function(e){var t=e.divider,n=e.ubiLogger,i=e.ubiSpec,r=(0,nl.I0)(),a=(0,ll.useCallback)((function(){n.logInteraction(i.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:As.Np})),r((0,oR._)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[r,n,i]);return(0,dl.jsx)($d.s,{divider:t,role:"menuitem",trailingIcon:(0,dl.jsx)(dR.h,{iconSize:16}),onClick:a,href:As.Np,target:"_blank",children:v.ag.get("navbar.premium")})},hR=function(e){var t=e.divider,n=e.visible,i=(0,Tu.s4)(),r=(0,aR.g)(),a=(0,ll.useCallback)((function(){i.send(fR({category:"masthead",action:"click",label:"support-link",destination_url:As.YJ,context:window.location.href,os:(0,de.y)(),variant:"a"},r))}),[i,r]);return n?(0,dl.jsx)($d.s,{divider:t,role:"menuitem",href:As.YJ,onClick:a,target:"_blank",trailingIcon:(0,dl.jsx)(dR.h,{iconSize:16}),children:v.ag.get("user.support")}):null};const kR="8px",yR="main-userWidget-box",bR="main-userWidget-boxCondensed",SR="main-userWidget-dropDownMenu",xR="main-userWidget-displayName",OR="main-userWidget-chevron",wR="main-userWidget-showDisplayName",NR="main-userWidget-screenReaderOnly",_R="main-userWidget-notificationDot",ER="main-userWidget-unableToUpdate",CR="main-userWidget-notificationIndicator",PR="main-userWidget-setupPlan",IR="main-userWidget-hasAvatar";var jR=function(){var e=(0,nl.v9)((function(e){return e.platform.isDesktop})),t=(0,vu.fU)(uR.createDesktopUserWidgetMenuEventFactory,{}),n=t.spec,i=t.logger;return(0,ll.useEffect)((function(){i.logImpression(n.impression())}),[i,n]),e?null:(0,dl.jsx)("div",{className:SR,children:(0,dl.jsxs)(Jd.v,{children:[(0,dl.jsx)(gR,{ubiSpec:n,ubiLogger:i}),(0,dl.jsx)(hR,{visible:!0}),(0,dl.jsx)(vR,{visible:!0})]})})};function AR(e){if(null===e)return null;var t=e["multiuserplan-member-type"],n=parseInt(e["multiuserplan-current-size"]||"1",10);switch(t){case"FAMILY_MANAGER":return{plan:"family",currentSize:n};case"DUO_MANAGER":return{plan:"duo",currentSize:n};default:return null}}var TR="".concat(As.ci,"?utm_source=spotify&utm_medium=menu&utm_campaign=your_account"),DR=function(e){var t=e.divider,n=e.ubiLogger,i=e.ubiSpec,r=(0,vh.e)().openURLWithSessionTransfer;return(0,dl.jsx)($d.s,{divider:t,role:"menuitem",trailingIcon:(0,dl.jsx)(dR.h,{iconSize:16}),onClick:function(){n.logInteraction(i.goToAccountPageRowFactory().hitUiNavigate({destination:TR})),r(TR)},children:v.ag.get("user.account")})},RR=n(11446),FR=n(14224),LR=function(){var e,t=(0,aN.rV)().settings,n=(0,WA.getIsEmployeeDesktopSettings)(t.values),i=Cf().show;return n?(0,dl.jsxs)(RR.W,{displayText:"Debug Tools",children:[(0,dl.jsx)($d.s,{role:"menuitem",onClick:function(){return i()},children:"Debug Window"}),"development"===(null===FR||void 0===FR||null===(e={})||void 0===e?void 0:e.NODE_ENV)&&(0,dl.jsx)($d.s,{role:"menuitem",to:"/debug/devplayground",children:"Developer Playground"}),(0,dl.jsx)($d.s,{role:"menuitem",to:"/debug/locales",children:"Locales"})]}):null},MR=function(e){var t=e.divider,n=e.ubiLogger,i=e.ubiSpec,r=(0,nl.I0)(),a=(0,ll.useCallback)((function(){n.logInteraction(i.logOutRowFactory().hitLogout()),r((0,Rf.Tz)())}),[r,n,i]);return(0,dl.jsx)($d.s,{divider:t,role:"menuitem",onClick:a,"":"user-widget-dropdown-logout",children:v.ag.get("user.log-out")})},UR=function(e){var t=e.divider,n=e.planAttributes,i=e.ubiSpec,r=e.ubiLogger,a=(0,vh.e)().openURLWithSessionTransfer,o="duo"===n.plan?"https://www.spotify.com/account/duo/":"https://www.spotify.com/account/family/";return(0,dl.jsx)($d.s,{divider:t,role:"menuitem",trailingIcon:(0,dl.jsx)(dR.h,{iconSize:16}),onClick:function(){r.logInteraction(i.goToPlanManagementFactory().hitNavigateToExternalUri({destination:o})),a(o)},children:(0,dl.jsxs)("span",{className:PR,children:["duo"===n.plan?v.ag.get("user.setup-duo"):v.ag.get("user.setup-family"),n.currentSize<=1&&(0,dl.jsx)(QD.Z,{className:_R,name:"dot-icon"})]})})},ZR=function(e){var t=e.visible,n=e.divider,i=e.ubiSpec,r=e.ubiLogger,a=(0,LT.M)(),o=a.isPrivateSession,s=a.setPrivateSession,l=(0,ll.useCallback)((function(){r.logInteraction(i.togglePrivateSessionRowFactory().hitSetSettingField()),s(!o)}),[s,o,r,i]);return t?(0,dl.jsx)($d.s,{divider:n,role:"menuitemcheckbox","aria-checked":o,onClick:l,children:v.ag.get("user.private-session")}):null},BR="/preferences",VR=function(e){var t=e.divider,n=e.ubiLogger,i=e.ubiSpec;return(0,dl.jsx)($d.s,{divider:t,role:"menuitem",to:BR,onClick:function(){n.logInteraction(i.goToSettingsRowFactory().hitUiNavigate({destination:BR}))},children:v.ag.get("user.settings")})},HR=function(e){var t=e.divider,n=e.ubiLogger,i=e.ubiSpec,r=(0,zA.g)(),a=(0,ll.useContext)(qp.z),o=(0,ll.useCallback)((function(){n.logInteraction(i.updateClientRowFactory().hitUiHide()),a.applyUpdate()}),[a,n,i]);return(null==r?void 0:r.state)!==KA.J.UPDATE_READY?null:(0,dl.jsx)($d.s,{divider:t,role:"menuitem",onClick:o,trailingIcon:(0,dl.jsx)(QD.Z,{className:_R}),"":"user-widget-update-available",children:v.ag.get("user.update-client")})},GR=function(e){var t=e.divider,n=(0,nl.I0)(),i=(0,ll.useCallback)((function(e){e.preventDefault(),n((0,el.$Y)())}),[n]);return(0,dl.jsx)($d.s,{divider:t,role:"menuitem",trailingIcon:(0,dl.jsx)(QD.Z,{className:ER}),onClick:i,href:"",target:"_blank",children:v.ag.get("user.unable-to-update")})},WR=function(e){var t=e.divider,n=e.ubiLogger,i=e.ubiSpec,r=(0,nl.I0)(),a=(0,nl.v9)((function(e){return e.platform})),o=a.isDesktop,s=a.isBrowser,l=(0,ll.useCallback)((function(e){return o?"".concat(e,"?ref=desktop_loggedin_upgrade_menu"):s?"".concat(e,"?ref=web_loggedin_upgrade_menu"):e}),[o,s]),c=(0,ll.useCallback)((function(){n.logInteraction(i.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:As.Np})),r((0,oR._)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[r,n,i]);return(0,nl.v9)((function(e){return(0,ef.OA)(e)}))?(0,dl.jsx)($d.s,{divider:t,role:"menuitem",trailingIcon:(0,dl.jsx)(dR.h,{iconSize:16}),onClick:c,href:l(As.Np),target:"_blank",children:v.ag.get("upgrade.tooltip.title")}):null},zR=function(e){var t=e.divider,n=e.ubiSpec,i=e.ubiLogger,r=(0,nl.v9)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.uri})),a=(0,uu.g)();if(!r)return null;var o=(0,f.EC)(r).toURLPath(!0);return(0,dl.jsx)($d.s,{divider:t,role:"menuitem",to:o,onClick:function(){i.logInteraction(n.goToUserProfileRowFactory().hitUiNavigate({destination:o})),a.setReferrer("user_profile")},children:v.ag.get("card.tag.profile")})},KR=function(){var e,t=(0,nl.v9)((function(e){return e.platform.isDesktop})),n=(0,vu.fU)(uR.createDesktopUserWidgetMenuEventFactory,{}),i=n.spec,r=n.logger;(0,ll.useEffect)((function(){r.logImpression(i.impression())}),[r,i]);var a=cR(),o=AR(a.data);return(0,dl.jsx)("div",{"":"user-widget-menu",className:SR,children:(0,dl.jsxs)(Jd.v,{children:[(0,dl.jsx)(DR,{ubiSpec:i,ubiLogger:r}),o&&(0,dl.jsx)(UR,{planAttributes:o,ubiSpec:i,ubiLogger:r}),(0,dl.jsx)(zR,{ubiSpec:i,ubiLogger:r}),(0,dl.jsx)(WR,{ubiSpec:i,ubiLogger:r}),(0,dl.jsx)(hR,{visible:rT()}),(0,dl.jsx)(vR,{visible:!t&&rT()}),(0,dl.jsx)(ZR,{visible:t,ubiSpec:i,ubiLogger:r}),(0,dl.jsx)(VR,{divider:"after",ubiSpec:i,ubiLogger:r}),(null==a||null===(e=a.data)||void 0===e?void 0:e["client-deprecated"])&&(0,dl.jsx)(GR,{}),(0,dl.jsx)(HR,{ubiSpec:i,ubiLogger:r})," ",t&&(0,dl.jsx)(LR,{}),(0,dl.jsx)(MR,{ubiSpec:i,ubiLogger:r})]})})},YR=function(){return(0,dl.jsxs)("div",{className:CR,children:[(0,dl.jsx)("span",{className:NR,children:v.ag.get("user.update-available")}),(0,dl.jsx)(QD.Z,{className:_R})]})},qR=function(e){var t=(0,nl.v9)((function(e){return e.session.user})),n=(0,zA.g)(),i=(0,Au.W6)(ys.yA),r=AR(cR().data),a=!!r&&r.currentSize<=1,o=(0,Ab.jh)();if(!t&&rT())return(0,dl.jsx)(md.yj,{offset:[0,parseInt(kR,10)],placement:"bottom-end",menu:(0,dl.jsx)(jR,{}),children:function(e,t,n){return(0,dl.jsx)("button",{className:Tc()(yR),type:"button",onClick:t,ref:n,"":"unauth-user-widget-link",children:e?(0,dl.jsx)(Nv.k,{iconSize:16,"aria-hidden":"true"}):(0,dl.jsx)(lR.d,{iconSize:16,"aria-hidden":"true"})})}});if(!t)return null;var s=t.display_name||t.id;return(0,dl.jsx)(md.yj,{offset:[0,parseInt(kR,10)],placement:"bottom-end",menu:(0,dl.jsx)(KR,{}),children:function(r,l,c){return(0,dl.jsx)(Ru.w,{label:s,children:i?(0,dl.jsxs)(Jm.o,{className:Tc()((0,PD.EG)("overMedia"),bR),onClick:function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t),l(t)},ref:c,"":"user-widget-link",condensedAll:!0,children:[(0,dl.jsx)(iC.q,{label:s,width:t.images.length?24:32,images:t.images,userIconSize:16,testID:"user-widget-avatar",transparent:!0,className:Tc()((0,P.Z)({},IR,t.images.length))}),((null==n?void 0:n.state)===KA.J.UPDATE_READY||a)&&(0,dl.jsx)(YR,{})]}):(0,dl.jsxs)("button",{className:Tc()(yR,e.className,(0,P.Z)({},wR,o===Ab.Uo.LARGE)),type:"button",onClick:function(t){var n;null===(n=e.onClick)||void 0===n||n.call(e,t),l(t)},ref:c,"":"user-widget-link",children:[(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(iC.q,{label:s,width:28,images:t.images,userIconSize:16,testID:"user-widget-avatar"}),(0,dl.jsx)(au.D,{dir:"auto",variant:"mestoBold",className:xR,"":"user-widget-name",children:s}),r?(0,dl.jsx)(VI.U,{className:OR,iconSize:16,"aria-hidden":"true"}):(0,dl.jsx)(HI.i,{className:OR,iconSize:16,"aria-hidden":"true"})]}),((null==n?void 0:n.state)===KA.J.UPDATE_READY||a)&&(0,dl.jsx)(YR,{})]})})}})},QR=n(98207),JR=parseInt(QR.Z.MINIMUM_HEADER_HEIGHT,10),XR=function(){var e,t,n=(0,cu.o)(),r=(0,nl.I0)(),a="/"===(0,lc.TH)().pathname,o="/lyrics"===(0,lc.TH)().pathname,s=BD(),l=XA(),c=(0,ll.useState)(window.innerWidth),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=function(){var e=(0,ll.useContext)(Gy.$8);if(null===e)throw new Error("Trying to use 'VisibilityContext' without 'VisibilityProvider'!");return e}().isNavBarVisible,f=(0,Au.W6)(ys.yA),g=(0,Au.W6)(ys.e8),h=(0,nl.v9)(ix.C7),k=(0,Uh.m)(),y=(0,sh.k)(),b=(0,vu.fU)(GA.o,{}),S=b.spec,x=b.logger,O=(0,aR.g)(),w=(0,Ab.Db)((e={},(0,P.Z)(e,Ab.Uo.MEDIUM,0),(0,P.Z)(e,Ab.Uo.LARGE,600),e)),N=w.ref,_=w.breakpoint,E=(0,ll.useRef)(null),C=(0,ll.useRef)(-1),I=(0,ll.useCallback)((function(e){var t,n=e.target.scrollTop;t=a?function(e,t){return aT(e,(t?350:80)+Bt.K1,Bt.K1)}(n,s):void 0===l?aT(n,Bt.K1):o?0:aT(n,JR,140+Bt.K1),C.current!==t&&requestAnimationFrame((function(){E.current&&(E.current.style.opacity="".concat(t))})),C.current=t}),[l,a,o,s]);(0,eT.c)(I,{executeOnceOnStart:!0}),(0,$A.a)((function(){p(window.innerWidth)}));var j=(0,lc.TH)(),A=(0,lc.s0)(),T=function(){var e=(0,nl.v9)((function(e){return[e.ui.history.canGoBack,e.ui.history.canGoForward]})),t=(0,i.Z)(e,2);return[t[0],t[1]]}(),D=(0,i.Z)(T,2),R=D[0],F=D[1],L=(0,ll.useCallback)((function(){x.logInteraction(S.backButtonFactory().hitUiNavigateBack()),A(-1)}),[x,A,S]),M=(0,ll.useCallback)((function(){x.logInteraction(S.forwardButtonFactory().hitUiNavigateForwardInHistory()),A(1)}),[x,A,S]),U=(0,ll.useCallback)((function(){r((0,mc.xO)()),n({intent:"signup",type:"click"})}),[r,n]),Z=(0,ll.useCallback)((function(){r((0,mc.sX)()),n({intent:"login",type:"click"})}),[r,n]),B=(0,vh.e)().openURLWithSessionTransfer,V=function(e){B(e,"_blank")},H=function(e,t){var n=(0,nl.I0)(),i=sR(),r=(0,vh.e)().openURLWithSessionTransfer,a=(0,nl.v9)((function(e){return e.platform})),o=a.isDesktop,s=a.isBrowser,l=(0,ll.useCallback)((function(e){return o?"".concat(e,"&ref=desktop_loggedin_upgrade_button"):s?"".concat(e,"&ref=web_loggedin_upgrade_button"):e}),[o,s]);return{shouldShowUpgradeButton:i,onUpgradeClick:(0,ll.useCallback)((function(){t.logInteraction(e.hitNavigateToExternalUri({destination:l(As.IT)})),r(l(As.IT),"_blank"),n((0,oR._)({action_type:"gtm.upgradeClick",action_intent:"upgrade-dwp",item_id:"dwp-top-bar"}))}),[n,r,l,t,e])}}((0,ll.useMemo)((function(){return S.upgradeButtonFactory()}),[S]),x),G=H.shouldShowUpgradeButton,W=H.onUpgradeClick,z=(0,nl.v9)((function(e){return e.platform})),K=z.isDesktop,Y=z.isPWA,q=z.shouldCalloutPWA,Q=(0,ll.useCallback)((function(){x.logInteraction(S.profileButtonFactory().hitUiReveal())}),[x,S]),J=0===j.pathname.indexOf("/artist"),X=d<850,$=rT()&&O&&X,ee=void 0!==l||!f;return(0,dl.jsx)(Ab.ZU.Provider,{value:_,children:(0,dl.jsxs)("header",{"aria-label":v.ag.get("topBar.label"),className:Tc()(sT.Z.container,(t={},(0,P.Z)(t,sT.Z.loggedOut,O&&!J),(0,P.Z)(t,sT.Z.rightSidebarVisible,k!==Mh.s.Disabled),t)),ref:N,children:[(0,dl.jsx)("div",{ref:E,className:sT.Z.background,style:{backgroundColor:l},children:ee&&(0,dl.jsx)("div",{className:sT.Z.overlay})}),(0,dl.jsxs)("div",{className:Tc()(sT.Z.historyButtons,(0,P.Z)({},sT.Z.fullscreenHistoryButtons,!m)),children:[(0,dl.jsx)(Ru.w,{label:v.ag.get("navbar.go-back"),children:(0,dl.jsx)("button",{"":"top-bar-back-button","aria-label":v.ag.get("navbar.go-back"),disabled:!R,className:"".concat(sT.Z.button),onClick:L,children:(0,dl.jsx)(VA.e,{className:sT.Z.icon,iconSize:16})})}),(0,dl.jsx)(Ru.w,{label:v.ag.get("navbar.go-forward"),children:(0,dl.jsx)("button",{"":"top-bar-forward-button","aria-label":v.ag.get("navbar.go-forward"),disabled:!F,className:"".concat(sT.Z.button," ").concat(sT.Z.forward),onClick:M,children:(0,dl.jsx)(HA.V,{className:sT.Z.icon,iconSize:16})})}),(0,dl.jsx)(Lp,{children:(0,dl.jsx)(Ru.w,{label:"Toggle mini-player",children:(0,dl.jsx)(nu,{})})})]}),(0,dl.jsx)(lT,{}),(0,dl.jsx)(UT,{windowSize:d}),O&&rT()&&!X?(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(Jm.o,{condensed:!0,onClick:function(){return V("".concat(As.IT,"&ref=web_loggedout_premium_button"))},className:sT.Z.topNavBarLinks,children:v.ag.get("navbar.premium")}),(0,dl.jsx)(Jm.o,{condensed:!0,onClick:function(){return V(As.YJ)},className:sT.Z.topNavBarLinks,children:v.ag.get("user.support")}),(0,dl.jsx)(Jm.o,{condensed:!0,onClick:function(){return V(As.vF)},className:sT.Z.topNavBarLinks,children:v.ag.get("download.download")}),(0,dl.jsx)("div",{className:sT.Z.topNavBarSeparator})]}):(0,dl.jsx)(dl.Fragment,{}),(0,dl.jsx)(JA,{}),G&&d>=1024&&(0,dl.jsx)(CD,{onClick:W,className:sT.Z.UpgradeButton}),f&&!O&&!h&&!K&&!Y&&(0,dl.jsx)(zT,{shouldCalloutPWA:q,logger:x,spec:S}),O&&(0,dl.jsxs)("div",{className:sT.Z.loginButtons,children:[(0,dl.jsx)(Jm.o,{className:sT.Z.signupButton,onClick:U,children:v.ag.get("sign_up")}),(0,dl.jsx)(wD,{children:(0,dl.jsx)(Hm.D,{colorSet:"invertedLight",onClick:Z,"":"login-button",children:v.ag.get("login")})})]}),!O&&g&&y&&(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(rR,{})}),!O&&(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(RD,{})}),(!O||$)&&(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(qR,{onClick:Q})})]})})};const $R="JCoroLSoJO7iJzBU1n2W",eF="aOxbsZDBlepfQptv_EfI";var tF=["children","isOpen","onRequestClose","className","animated","shouldCloseOnEsc","shouldCloseOnBackdropClick"];function nF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function iF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nF(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rF=function(e){var t,n=e.children,i=e.isOpen,r=e.onRequestClose,a=e.className,o=e.animated,s=void 0!==o&&o,l=e.shouldCloseOnEsc,c=void 0===l||l,u=e.shouldCloseOnBackdropClick,d=void 0===u||u,p=(0,dp.Z)(e,tF),m=(0,ll.useRef)(null);return function(e,t,n){(0,ll.useEffect)((function(){var i=t.current,r=function(t){t.preventDefault(),e&&n&&n()};return null==i||i.addEventListener("cancel",r),function(){null==i||i.removeEventListener("cancel",r)}}),[t,n,e])}(c,m,r),t=m,(0,ll.useEffect)((function(){var e=t.current;return function(){null==e||e.close()}}),[t]),(0,ll.useEffect)((function(){var e,t;i?null===(e=m.current)||void 0===e||e.showModal():null===(t=m.current)||void 0===t||t.close()}),[i]),(0,dl.jsx)("dialog",iF(iF({ref:m,className:Tc()($R,"encore-dark-theme",a,(0,P.Z)({},eF,s)),onClick:function(e){var t=e.target;t instanceof HTMLElement&&"DIALOG"===t.nodeName&&d&&(null==r||r())}},p),{},{children:n}))};const aF="t1hN4Ju87afc5N5fDTnm",oF="kq4vSktBwa0pcc1zklAo",sF="KSUTPJtu2PnuTb_RoGQX";var lF=function(e){var t=e.onClose,n=e.handleRemove,i=e.primaryButtonText,r=e.secondaryButtonText,a=e.primaryButtonLabel,o=void 0===a?i:a;return(0,dl.jsxs)("div",{className:sF,children:[(0,dl.jsx)(Jm.o,{onClick:t,semanticColor:"textSubdued","aria-label":"Cancel",children:r}),(0,dl.jsx)(Hm.D,{"aria-label":o,autofocus:"true",onClick:n,children:i})]})},cF=function(e){var t=e.onClose,n=e.primaryButtonText,i=e.secondaryButtonText;return(0,dl.jsxs)("div",{className:sF,children:[(0,dl.jsx)(Jm.o,{onClick:t,semanticColor:"textSubdued",as:"a",href:As.YJ,children:i}),(0,dl.jsx)(Hm.D,{autofocus:"true",onClick:t,children:n})]})},uF=function(){var e=(0,nl.I0)(),t=(0,qP.k)(),n=(0,gm.c)(),a=(0,ll.useState)(null),s=(0,i.Z)(a,2),l=s[0],c=s[1],u=(0,ll.useCallback)((function(){e((0,el.hx)())}),[e]),d=(0,ll.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.removeAllDownloads();case 3:u(),t(v.ag.get("desktop.settings.storage.downloads.success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0 instanceof Error?e.t0:new Error("Error when deleting all downloads."));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[u,n,t]);return(0,dl.jsx)(rF,{animated:!0,className:oF,onRequestClose:u,"aria-describedby":"remove-downloads-dialog-heading",isOpen:!0,children:(0,dl.jsxs)("div",{className:Tc()("encore-light-theme",aF),children:[(0,dl.jsx)(au.D,{as:"h2",variant:"canon",semanticColor:"textBase","aria-live":"polite",id:"remove-downloads-dialog-heading",children:l?v.ag.get("error.generic"):v.ag.get("desktop.settings.storage.downloads.dialog.heading")}),(0,dl.jsx)(au.D,{as:"p",variant:"mesto",paddingBottom:Qm.o78,semanticColor:"textSubdued","aria-live":"polite",children:l?v.ag.get("desktop.settings.storage.downloads.dialog.error"):v.ag.get("desktop.settings.storage.downloads.dialog.text")}),l?(0,dl.jsx)(cF,{onClose:u,primaryButtonText:v.ag.get("desktop.settings.storage.close"),secondaryButtonText:v.ag.get("desktop.settings.storage.help")}):(0,dl.jsx)(lF,{onClose:u,handleRemove:d,primaryButtonLabel:v.ag.get("desktop.settings.storage.downloads.button"),primaryButtonText:v.ag.get("desktop.settings.storage.downloads.remove"),secondaryButtonText:v.ag.get("desktop.settings.storage.cancel")})]})})},dF=function(){var e=(0,nl.I0)(),t=(0,qP.k)(),n=(0,gm.c)(),a=(0,ll.useState)(null),s=(0,i.Z)(a,2),l=s[0],c=s[1],u=(0,ll.useCallback)((function(){e((0,el.Ap)())}),[e]),d=(0,ll.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.removeCache();case 3:u(),t(v.ag.get("desktop.settings.storage.cache.success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0 instanceof Error?e.t0:new Error("Error when clearing cache."));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n,u,t]);return(0,dl.jsx)(rF,{animated:!0,className:oF,onRequestClose:u,"aria-describedby":"clear-cache-dialog-heading",isOpen:!0,children:(0,dl.jsxs)("div",{className:Tc()("encore-light-theme",aF),children:[(0,dl.jsx)(au.D,{id:"clear-cache-dialog-heading",as:"h2",variant:"canon",semanticColor:"textBase","aria-live":"polite",children:l?v.ag.get("error.generic"):v.ag.get("desktop.settings.storage.cache.dialog.heading")}),(0,dl.jsx)(au.D,{as:"p",variant:"mesto",paddingBottom:Qm.o78,semanticColor:"textSubdued","aria-live":"polite",children:l?v.ag.get("desktop.settings.storage.cache.dialog.error"):v.ag.get("desktop.settings.storage.cache.dialog.text")}),l?(0,dl.jsx)(cF,{onClose:u,primaryButtonText:v.ag.get("desktop.settings.storage.close"),secondaryButtonText:v.ag.get("desktop.settings.storage.help")}):(0,dl.jsx)(lF,{onClose:u,handleRemove:d,primaryButtonText:v.ag.get("desktop.settings.storage.cache.button"),secondaryButtonText:v.ag.get("desktop.settings.storage.cancel")})]})})},pF=n(36947),mF=n(35526),fF=(0,ll.forwardRef)((function(e,t){var n=e.children;(0,mF.i)();var i=(0,ll.useRef)(null),r=(0,ll.useCallback)((function(e){if(null===e||!i.current)return null;var t=window.getComputedStyle(i.current),n=Number(t.getPropertyValue("--content-spacing").replace("px","").trim())||0,r=Number(t.getPropertyValue("--content-max-width").replace("px","").trim())||0;return Math.min(e,r)-2*n}),[]);return(0,ll.useImperativeHandle)(t,(function(){return i.current}),[i]),(0,dl.jsx)(pF.M,{containerRef:i,postProcessWidth:r,children:(0,dl.jsx)("main",{ref:i,tabIndex:-1,children:n})})}));function vF(){return null}function gF(){var e,t=(0,Kc.z)("lintHtmlWithCss",!1);(0,i.Z)(t,1)[0];return e=vF,(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(e,{})})}var hF=(0,ll.lazy)((function(){return Promise.all([n.e(1814),n.e(4338)]).then(n.bind(n,98811))}));function kF(){var e,t=(0,Hv.J)(cs.q8.uM),n=t.data,i=t.error,r=t.loading,a=!(0,sh.k)(),o=(0,ll.useMemo)((function(){var e;return(null==n||null===(e=n.body)||void 0===e?void 0:e.friends)||[]}),[null==n||null===(e=n.body)||void 0===e?void 0:e.friends]);return a||r||i?null:(0,dl.jsx)(hF,{initialFriends:o})}var yF=n(704),bF=n(24570),SF=n(70420),xF=n(54847),OF=n(51537),wF=n(8608);const NF="CJs8iynYtMiMqyhSr3Mb";var _F=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","className","ChipComponent","spec","innerRef"];function EF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function CF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EF(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PF={marginBlockEnd:0,willChange:"transform, opacity"},IF=function(e){var t=e.filterId,n=e.isPrimaryFilter,i=e.isPlaceholder,r=e.resetFilterIds,a=e.toggleFilterId,o=e.className,s=e.ChipComponent,l=void 0===s?SF.A:s,c=e.spec,u=e.innerRef,d=(0,dp.Z)(e,_F),p=d.selected,m=(0,vu.$P)(),f=(0,ll.useCallback)((function(){var e;if(!t)return r(),void(e=null==c?void 0:c.hitClearFilter());(e=p?null==c?void 0:c.hitClearFilter():null==c?void 0:c.hitFilter())&&m.logInteraction(e),a(t)}),[t,p,r,a,m,c]),v=(0,ll.useCallback)((function(e){e.detail>1||i||f()}),[i,f]);return(0,dl.jsx)(l,CF(CF({},d),{},{"aria-label":d["aria-label"],className:Tc()(o,(0,P.Z)({},NF,i)),onClick:v,selectedColorSet:"invertedLight",secondary:p&&!n,style:PF,ref:u}))},jF=[{id:Fi.uh.Album,getName:function(){return v.ag.get("web-player.whats-new-feed.filters.music")},ubiId:"Music"},{id:Fi.uh.Episode,getName:function(){return v.ag.get("web-player.whats-new-feed.filters.episodes")},ubiId:"Podcast & Shows"},{id:Fi.uh.WhatsNewFeedNotification,getName:function(){return v.ag.get("web-player.whats-new-feed.filters.notifications")},ubiId:"Merch & Events"}],AF=(0,ll.memo)((function(e){var t=e.availableFilters,n=e.selectedFilters,i=e.toggleFilterId,r=e.resetFilterIds,a=e.className,o=e.spec,s=!(n||t),l=s?jF:[].concat((0,_.Z)(null!=n?n:[]),(0,_.Z)(null!=t?t:[])),c=(0,ll.useRef)(null),u=(0,vu.$P)(),d=(0,ll.useCallback)((function(){var e,t;(0,wF.Bu)(c.current,(null===(e=c.current)||void 0===e?void 0:e.nextElementSibling)instanceof HTMLElement?null===(t=c.current)||void 0===t?void 0:t.nextElementSibling:null);var n=o.clearFiltersFactory().hitClearFilter();u.logInteraction(n),r()}),[r,u,o]);return 0===l.length?null:(0,dl.jsx)("div",{children:(0,dl.jsxs)(OF.l,{className:a,ariaLabel:v.ag.get("web-player.your-library-x.filter_options"),children:[!(null==n||!n.length)&&(0,dl.jsx)(IF,{resetFilterIds:d,toggleFilterId:i,ChipComponent:xF.w,"aria-label":v.ag.get("web-player.whats-new-feed.filters.options"),innerRef:c}),l.map((function(e,t){var a=null==n?void 0:n.includes(e),l=0===t;return(0,dl.jsx)(IF,{filterId:e.id,isPrimaryFilter:l,isPlaceholder:s,resetFilterIds:r,toggleFilterId:i,selected:a,index:t,spec:o.filterChipFactory({identifier:e.ubiId,position:t}),children:e.getName()},e.id)}))]})})})),TF=n(12535),DF=n(40467),RF=n(4982),FF=n(34162),LF=n(76490),MF=n(62823),UF=n(54669),ZF=n(76561),BF=n(11864);const VF=function(e){var t=(0,ll.useState)(0),n=(0,i.Z)(t,2),r=n[0],a=n[1];function o(t){var n,i=null===(n=e.current)||void 0===n?void 0:n.querySelectorAll('button:not([disabled]), [href], input, select, textarea, a,[tabindex]:not([tabindex="-1"])');if(i){i.forEach((function(e){e.setAttribute("tabindex","-1")})),i&&i[0].setAttribute("tabindex","0");var o=r;if(i&&i.length>0)switch(t.key){case"Tab":document.activeElement&&a(0);break;case"ArrowUp":0===o?(t.preventDefault(),o=i.length-1):o-=1,i[o].focus(),a(o);break;case"ArrowDown":t.preventDefault(),o===i.length-1?o=0:o+=1,i[o].focus(),a(o)}}}ll.useEffect((function(){var t=e.current;return null==t||t.addEventListener("keydown",o),function(){null==t||t.removeEventListener("keydown",o)}}))};var HF=function(e){var t=(0,lc.s0)();return(0,ll.useCallback)((function(){""!==e&&t(e)}),[e,t])};const GF={row:"main-whatsNewFeed-listRow",content:"main-whatsNewFeed-listContent",subtitleLink:"main-whatsNewFeed-listSubtitleLink",imageWrapper:"main-whatsNewFeed-listImageWrapper",explicitIcon:"main-whatsNewFeed-listExplicitIcon",timeAgo:"main-whatsNewFeed-listTimeAgo",playButton:"main-whatsNewFeed-listPlayButton",footer:"main-whatsNewFeed-listFooter",episodeBody:"main-whatsNewFeed-listEpisodeBody",fallbackIcon:"main-whatsNewFeed-listFallbackIcon"};function WF(e){var t,n,a,s,l,c=e.album,u=e.onLike,d=e.onMoreButtonClick,p=e.onDownloadClick,m=e.spec,g=(0,ll.useRef)(null);VF(g),c.date&&(l=(0,dl.jsx)(BF.O,{dateAdded:new Date(c.date.isoString)}));var h=(0,Nf.Z)(c.uri),k=(0,i.Z)(h,2),y=k[0],b=k[1],S=(null===(t=c.artists)||void 0===t?void 0:t.items.map((function(e){return e.profile.name})).join(v.ag.getSeparator()))||"",x=(0,vu.$P)(),O=(0,ll.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b(!y);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])}))),[y,b]),w=(0,U_.n)({uri:c.uri},{featureIdentifier:"whats_new_panel",referrerIdentifier:"whats_new_panel"}),N=w.togglePlay,_=w.isPlaying,E=w.isActive,C=(0,ll.useCallback)((function(e){var t;e.preventDefault(),E&&!_&&(t=m.playButtonFactory().hitResume({itemToBeResumed:c.uri})),_||E||(t=m.playButtonFactory().hitPlay({itemToBePlayed:c.uri})),_&&(t=m.playButtonFactory().hitPause({itemToBePaused:c.uri})),t&&x.logInteraction(t),N()}),[N,E,_,x,m,c.uri]),P=(0,f.EC)(c.uri),I="";P&&(I=P.toURLPath(!0));var j=HF(I),A=(0,ll.useCallback)((function(){var e=m.hitUiNavigate({destination:c.uri});x.logInteraction(e),j()}),[c.uri,m,x,j]),T=(0,ll.useCallback)((function(e){var t=m.saveButtonFactory().hitLike({itemToBeLiked:c.uri}),n=m.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:c.uri});x.logInteraction(e?t:n),null==u||u(e)}),[m,x,c.uri,u]),D=(0,ll.useCallback)((function(e,t){var n;t===dr.mc.ADD?n=m.downloadButtonFactory().hitDownload({itemToDownload:c.uri}):t===dr.mc.REMOVE&&(n=m.downloadButtonFactory().hitUiReveal()),n&&x.logInteraction(n),null==p||p(e,t)}),[c.uri,x,m,p]),R=(0,ll.useCallback)((function(e){null==d||d(e)}),[d]),F=(0,ll.useCallback)((function(){var e=m.titleFactory().hitUiNavigate({destination:c.uri});x.logInteraction(e)}),[c.uri,x,m]),L=v.ag.get("tracklist.a11y.play",c.name,S),M=v.ag.get("tracklist.a11y.pause",c.name,S),U=(0,dl.jsx)(TF.g,{lineClamp:1,children:(0,dl.jsx)(gN.default,{to:c.uri,onClick:F,children:c.name})}),Z=c.artists?c.artists.items.map((function(e,t,n){return(0,dl.jsxs)(ll.Fragment,{children:[(0,dl.jsx)(gN.default,{to:e.uri,className:GF.subtitleLink,onClick:(i=e.uri,function(){var e=m.subtitleFactory().hitUiNavigate({destination:i});x.logInteraction(e)}),children:e.profile.name}),t<n.length-1&&v.ag.getSeparator()]},t);var i})):"",B=(0,dl.jsx)(DF.d,{src:null===(n=c.coverArt)||void 0===n||null===(a=n.sources)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.url,size:"xl"}),V=(0,dl.jsx)(au.D,{semanticColor:"textSubdued",children:(0,MF.R)(c.albumType)}),H=(0,dl.jsxs)("div",{className:GF.footer,children:[(0,dl.jsx)(Ep.B,{onClick:T,uri:c.uri}),(0,dl.jsx)(UF.o,{onClick:D,uri:c.uri,isFollowing:y,onFollow:O,size:UF.q.xs}),(0,dl.jsx)(vu.Nh,{spec:m,children:(0,dl.jsx)(md.yj,{menu:(0,dl.jsx)(ZF.Y,{uri:c.uri}),children:(0,dl.jsx)($x.z,{onClick:R,size:$x.q.xs})})}),(0,dl.jsx)("div",{className:GF.playButton,children:(0,dl.jsx)(LF.f,{"aria-label":"whats-new-feed-play-button",size:"sm",onClick:C,isPlaying:_,ariaPlayLabel:L,ariaPauseLabel:M,version:LF.u.secondary})})]});return(0,dl.jsx)(RF.w,{ref:g,pretitle:l,className:GF.row,media:B,title:U,subtitle:(0,dl.jsx)(FF.l,{lineClamp:1,children:Z}),id:c.uri,variant:"naked",body:V,footer:H,onClick:A,hoverBackgroundColor:"backgroundHighlight"})}var zF=n(22355);function KF(e){var t,n,i,r,a=e.onLike,o=e.onMoreButtonClick,s=e.chapter,l=e.subtitle,c=s.name,u=null!==(t=null===(n=s.coverArt)||void 0===n||null===(i=n.sources)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.url)&&void 0!==t?t:"",d=(0,dl.jsx)(au.D,{semanticColor:"textSubdued",children:"Chapter"}),p=(0,dl.jsxs)("div",{className:GF.footer,children:[(0,dl.jsx)(xk.w,{onClick:a,uri:s.uri}),(0,dl.jsx)(Lw.D,{iconSize:16,semanticColor:"textSubdued"}),(0,dl.jsx)(md.yj,{menu:(0,dl.jsx)(zF.k,{uri:s.uri}),children:(0,dl.jsx)($x.z,{onClick:o})}),(0,dl.jsx)("div",{className:GF.playButton,children:(0,dl.jsx)(Hm.D,{iconOnly:Pu.J,colorSet:"invertedLight",buttonSize:"sm"})})]});return(0,dl.jsx)(RF.w,{pretitle:undefined,className:GF.row,media:u,title:c,subtitle:l,id:s.uri,variant:"tinted",padding:Qm.o78,body:d,footer:p})}var YF=n(12191),qF=n(6336),QF=n(90902),JF=n(14227),XF=n(1962),$F=n(97427),eL=1e4;function tL(e){var t,n,r,a=e.episode,o=e.isPlaying,s=e.isActive,l=e.isFullyPlayed,c=e.setIsFullyPlayed,u=null!==(t=null===(n=a.restrictions)||void 0===n?void 0:n.paywallContent)&&void 0!==t&&t,d=(0,ll.useRef)(null),p=(0,du.z)(eL,(function(e){var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===a.uri})),m=(0,i.Z)(p,1)[0];(0,ll.useEffect)((function(){o&&(d.current=m)}),[o,m]),(0,ll.useEffect)((function(){!o&&d.current&&a.duration.totalMilliseconds<=d.current&&c(!0)}),[o,a.duration.totalMilliseconds,c]);var f=(0,XF.r)({contentRating:null===(r=a.contentRating)||void 0===r?void 0:r.label,isPaywalled:u}).badges,g=(0,dl.jsxs)(dl.Fragment,{children:[f.explicit&&(0,dl.jsx)(qF.N,{}),f.paid&&(0,dl.jsx)($F.g,{}),f.nineteen&&(0,dl.jsx)(QF.X,{size:16})]}),h=(0,dl.jsx)(JF.E,{isPlaying:o,fullyPlayed:l,durationMs:a.duration.totalMilliseconds,resumePositionMs:d.current||a.playedState.playPositionMilliseconds,position:s?m:void 0,compactVariant:!0});return(0,dl.jsxs)("div",{className:GF.episodeBody,children:[g,(0,dl.jsx)(au.D,{semanticColor:"textSubdued",children:v.ag.get("card.tag.episode")}),(0,dl.jsx)(YF.o,{children:"•"}),m>0&&h]})}function nL(e){var t,n,a,s,l=e.episode,c=e.podcastName,u=e.podcastUri,d=e.onLike,p=e.onMoreButtonClick,m=e.onDownloadClick,g=e.spec,h=(0,ll.useRef)(null);VF(h),l.releaseDate&&(s=(0,dl.jsx)(BF.O,{dateAdded:new Date(l.releaseDate.isoString)}));var k=(0,vu.$P)(),y=(0,Nf.Z)(l.uri),b=(0,i.Z)(y,2),S=b[0],x=b[1],O=(0,U_.n)({uri:l.uri},{featureIdentifier:"whats_new_panel",referrerIdentifier:"whats_new_panel"}),w=O.togglePlay,N=O.isPlaying,_=O.isActive,E=(0,ll.useState)(l.playedState.state===Fi.sY.Completed),C=(0,i.Z)(E,2),P=C[0],I=C[1],j=(0,f.EC)(l.uri),A="";j&&(A=j.toURLPath(!0));var T,D=HF(A),R=v.ag.get("tracklist.a11y.play",l.name,c),F=v.ag.get("tracklist.a11y.pause",l.name,c),L=(0,ll.useCallback)((function(){var e=g.hitUiNavigate({destination:l.uri});k.logInteraction(e),D()}),[D,k,g,l.uri]),M=(0,ll.useCallback)((function(e){var t=g.saveButtonFactory().hitLike({itemToBeLiked:l.uri}),n=g.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:l.uri});k.logInteraction(e?t:n),null==d||d(e)}),[g,k,l.uri,d]),U=(0,ll.useCallback)((function(e,t){var n;t===dr.mc.ADD?n=g.downloadButtonFactory().hitDownload({itemToDownload:l.uri}):t===dr.mc.REMOVE&&(n=g.downloadButtonFactory().hitUiReveal()),n&&k.logInteraction(n),null==m||m(e,t)}),[k,g,l.uri,m]),Z=(0,ll.useCallback)((function(){var e=g.titleFactory().hitUiNavigate({destination:l.uri});k.logInteraction(e)}),[k,g,l.uri]),B=(0,ll.useCallback)((function(e){var t;e.preventDefault(),_&&!N&&(t=g.playButtonFactory().hitResume({itemToBeResumed:l.uri})),N||_||(t=g.playButtonFactory().hitPlay({itemToBePlayed:l.uri})),N&&(t=g.playButtonFactory().hitPause({itemToBePaused:l.uri})),t&&k.logInteraction(t),w()}),[w,k,g,l.uri,N,_]),V=(0,ll.useCallback)((0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(!S);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])}))),[S,x]),H=(0,ll.useCallback)((function(e){null==p||p(e)}),[p]),G=(0,dl.jsx)(TF.g,{lineClamp:2,children:(0,dl.jsx)(gN.default,{to:l.uri,onClick:Z,children:l.name})}),W=(0,dl.jsx)(FF.l,{lineClamp:1,children:(0,dl.jsx)(gN.default,{to:u,className:GF.subtitleLink,onClick:(T=u,function(){var e=g.subtitleFactory().hitUiNavigate({destination:T});k.logInteraction(e)}),children:c})}),z=(0,dl.jsx)(DF.d,{src:null===(t=l.coverArt)||void 0===t||null===(n=t.sources)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.url,size:"xl"}),K=(0,dl.jsxs)("div",{className:GF.footer,children:[(0,dl.jsx)(xk.w,{onClick:M,uri:l.uri}),(0,dl.jsx)(UF.o,{onClick:U,uri:l.uri,isFollowing:S,onFollow:V,size:UF.q.xs}),(0,dl.jsx)(vu.Nh,{spec:g,children:(0,dl.jsx)(md.yj,{menu:(0,dl.jsx)(zF.k,{uri:l.uri,onMarkAsPlayed:I,isPlayed:P}),children:(0,dl.jsx)($x.z,{onClick:H,size:$x.q.xs})})}),(0,dl.jsx)("div",{className:GF.playButton,children:(0,dl.jsx)(LF.f,{"aria-label":"whats-new-feed-play-button",size:"sm",onClick:B,isPlaying:N,ariaPlayLabel:R,ariaPauseLabel:F,version:LF.u.secondary})})]}),Y=(0,dl.jsx)(tL,{episode:l,isPlaying:N,isActive:_,isFullyPlayed:P,setIsFullyPlayed:I});return(0,dl.jsx)(RF.w,{ref:h,pretitle:s,className:GF.row,media:z,title:G,subtitle:W,id:l.uri,variant:"naked",body:Y,footer:K,onClick:L,hoverBackgroundColor:"backgroundHighlight"})}function iL(e){var t,n,i,r,a,o,s,l,c,u=e.item,d=e.spec,p=(0,lc.s0)(),m=(0,vu.$P)();if("WhatsNewFeedNotificationFeedItem"!==u.content.__typename)return(0,dl.jsx)(dl.Fragment,{});var v,g,h,k=u.content.content;v=u.content.title;var y=(0,dl.jsx)("div",{className:GF.fallbackIcon,children:(0,dl.jsx)(GD.G,{})}),b=null!==(t=u.content.image)&&void 0!==t&&null!==(n=t.sources)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.url?(0,dl.jsx)(DF.d,{src:null===(r=u.content.image)||void 0===r||null===(a=r.sources)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.url,size:"xl"}):y,S=(null===(s=u.timestamp)||void 0===s?void 0:s.isoString)&&(0,dl.jsx)(BF.O,{dateAdded:new Date(null===(l=u.timestamp)||void 0===l?void 0:l.isoString)});switch(null==k?void 0:k.__typename){case"ArtistResponseWrapper":"Artist"===k.data.__typename&&(v=k.data.profile.name);break;case"ConcertResponseWrapper":"Concert"===k.data.__typename&&(v=k.data.title);break;case"GenreResponseWrapper":g=u.content.subtitle,h=(0,f.EC)(k._uri);break;case"OtherSpotifyUriType":g=u.content.subtitle,h=(0,f.EC)(k.uri);break;default:var x;if("GenericError"!==(null==k?void 0:k.data.__typename)&&"NotFound"!==(null==k?void 0:k.data.__typename)&&"RestrictedContent"!==(null==k?void 0:k.data.__typename))v=null==k||null===(x=k.data)||void 0===x?void 0:x.name}var O=null===(c=h)||void 0===c?void 0:c.toURLPath(!0);return(0,dl.jsx)(RF.w,{pretitle:S,className:GF.row,media:b,title:v,subtitle:undefined,id:u.id,variant:"naked",body:g,footer:undefined,hoverBackgroundColor:"backgroundHighlight",onClick:function(){return function(e){""!==e&&p(e);var t=d.hitUiNavigate({destination:e});m.logInteraction(t)}(O||"")}})}function rL(e){var t=e.item,n=e.spec;if("AlbumResponseWrapper"===t.content.__typename){var i=t.content.data;if("Album"===i.__typename)return(0,dl.jsx)(WF,{album:i,spec:n})}if("EpisodeOrChapterResponseWrapper"===t.content.__typename){var r=t.content.data;if("Chapter"===r.__typename)return(0,dl.jsx)(KF,{chapter:r,spec:n});if("Episode"===r.__typename){var a="",o="";return"Podcast"===r.podcastV2.data.__typename&&(a=r.podcastV2.data.name,o=r.podcastV2.data.uri),(0,dl.jsx)(nL,{episode:r,podcastName:a,podcastUri:o,spec:n})}}return"WhatsNewFeedNotificationFeedItem"===t.content.__typename?(0,dl.jsx)(iL,{item:t,spec:n}):(0,dl.jsx)(dl.Fragment,{})}const aL="main-whatsNewFeed-content",oL="main-whatsNewFeed-listHeader",sL="AJjZ1RU3WLdbao4Z8P5p",lL="abK9JULKblJRgFwPOFVE",cL="main-whatsNewFeed-list",uL="NaRE2l7NC4qwYGmtIhLj",dL="efdmucpG0CLVCpc0_cZz";var pL,mL=ll.memo((function(){return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(HE.C,{as:"h3",variant:"celloCanon",className:dL,charCount:4,isLoading:!0}),(0,dl.jsx)("div",{className:uL,children:[20,50,25].map((function(e,t){return(0,dl.jsx)(HE.C,{as:"div",variant:"mesto",className:dL,charCount:e,isLoading:!0},"".concat(e,"-").concat(t))}))})]})})),fL=n(77999);function vL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vL(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hL={offset:0,limit:50,onlyUnPlayedItems:!1};function kL(){return(kL=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(qD,{items:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yL=(pL={},(0,P.Z)(pL,Fi.uh.Album,{id:Fi.uh.Album,getName:function(){return v.ag.get("web-player.whats-new-feed.filters.music")},ubiId:"Music",active:!1}),(0,P.Z)(pL,Fi.uh.Episode,{id:Fi.uh.Episode,getName:function(){return v.ag.get("web-player.whats-new-feed.filters.episodes")},ubiId:"Podcast & Shows",active:!1}),pL),bL=function(e){var t,n,i,r,a,o=e.includedContentTypes,s=e.spec,l=e.onClick,c=e.setHasError,u=(r=gL(gL({},hL),{},{includedContentTypes:null!=o?o:[]}),a={cacheTime:30*Mn.y,staleTime:10*Mn.y},(0,Mn.a)(KD,r,a)),d=u.loading,p=u.data,m=u.error,f=(0,(0,Tu.tc)().getGraphQLLoader)();if((0,ll.useEffect)((function(){var e,t;if(null!=p&&null!==(e=p.whatsNewFeedItems)&&void 0!==e&&e.items){var n=null==p||null===(t=p.whatsNewFeedItems)||void 0===t?void 0:t.items.filter((function(e){return e.state.state===Fi.RR.New})).map((function(e){return{id:e.id,state:Fi.RR.Seen}}));n.length>0&&function(e,t){kL.apply(this,arguments)}(f,{items:n})}}),[null==p||null===(t=p.whatsNewFeedItems)||void 0===t?void 0:t.items,f]),m&&(null==p||null===(n=p.whatsNewFeedItems)||void 0===n||!n.items))return c(!0),(0,dl.jsxs)("div",{className:sL,dir:"auto",children:[(0,dl.jsx)(au.D,{as:"h2",variant:"canon",weight:"bold",semanticColor:"textBase",children:v.ag.get("error.generic")}),(0,dl.jsx)(au.D,{as:"p",variant:"ballad",children:v.ag.get("web-player.whats-new-feed.panel.error")}),(0,dl.jsx)(Rb.P,{className:lL,onClick:l,buttonSize:"sm",children:(0,dl.jsx)(au.D,{as:"span",variant:"balladBold",semanticColor:"textBase",children:v.ag.get("web-player.whats-new-feed.panel.error.button")})})]});if(d)return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(mL,{}),(0,dl.jsx)(mL,{})]});var g=null==p||null===(i=p.whatsNewFeedItems)||void 0===i?void 0:i.items;if(!g||0===g.length){var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.includes(Fi.uh.Episode)?{title:v.ag.get("web-player.whats-new-feed.panel.empty-results-podcast.title"),message:v.ag.get("web-player.whats-new-feed.panel.empty-results-podcast.message")}:e.includes(Fi.uh.Album)?{title:v.ag.get("web-player.whats-new-feed.panel.empty-results-music.title"),message:v.ag.get("web-player.whats-new-feed.panel.empty-results-music.message")}:{title:v.ag.get("web-player.whats-new-feed.panel.empty-results-all.title"),message:v.ag.get("web-player.whats-new-feed.panel.empty-results-all.message")}}(o),k=h.title,y=h.message;return(0,dl.jsx)(fL.u,{title:k,message:y,renderInline:!0})}var b=function(e){var t,n,i=e.state.state;if((null===(t=e.state.timestamp)||void 0===t||!t.isoString)&&i===Fi.RR.New)return!0;if(null!==(n=e.state.timestamp)&&void 0!==n&&n.isoString){var r=new Date(e.state.timestamp.isoString).getTime();return Date.now()-r<=36e5}return!1},S=g.findIndex((function(e){return!b(e)}));return(0,dl.jsx)("div",{className:cL,role:"list",children:g.map((function(e,t){var n=b(e)&&t<S,i=n&&0===t;return(0,dl.jsxs)(ll.Fragment,{children:[i&&(0,dl.jsx)(au.D,{as:"h3",variant:"celloCanon",className:oL,semanticColor:"textBase",children:v.ag.get("web-player.whats-new-feed.new-section-title")}),!n&&t===S&&(0,dl.jsx)(au.D,{as:"h3",variant:"celloCanon",className:oL,semanticColor:"textBase",children:v.ag.get("web-player.whats-new-feed.earlier-section-title")}),(0,dl.jsx)(rL,{item:e,spec:s.notificationItemFactory({identifier:e.id,position:t})},e.id)]},e.id)}))})},SL=function(){var e=(0,ll.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=(0,tl.useQueryClient)(),o=(0,ll.useState)(yL),s=(0,i.Z)(o,2),l=s[0],c=s[1],u=(0,vu.fU)(WD.y,{}),d=u.spec,p=u.logger,m=Object.values(l),f=m.filter((function(e){return e.active})),g=f.length>0?[]:m,h=f.map((function(e){return e.id})),k=(0,ll.useCallback)((function(e){var t,n,i,r,a=gL(gL(gL({},yL),l),{},(0,P.Z)({},(null===(t=l[e])||void 0===t?void 0:t.id)||Fi.uh.Unknown,{id:(null===(n=l[e])||void 0===n?void 0:n.id)||Fi.uh.Unknown,getName:function(){var t;return(null===(t=l[e])||void 0===t?void 0:t.getName())||""},ubiId:null===(i=l[e])||void 0===i?void 0:i.ubiId,active:!(null!==(r=l[e])&&void 0!==r&&r.active)}));c(a)}),[l]),y=(0,ll.useCallback)((function(){c(yL)}),[c]),b=(0,ll.useCallback)((function(){var e=d.closeButtonFactory().hitUiHide();p.logInteraction(e)}),[p,d]);var S=(0,ll.useCallback)((function(){a.invalidateQueries((0,xn.Y)(KD).name),r(!1)}),[a]);return(0,ll.useEffect)((function(){p.logImpression(d.impression())}),[p,d]),(0,dl.jsx)(Gy.DJ.Provider,{value:"whats_new_panel",children:(0,dl.jsx)(__.l,{label:v.ag.get("web-player.whats-new-feed.panel.title"),children:(0,dl.jsxs)(E_.K,{className:aL,children:[(0,dl.jsx)(C_.V,{title:v.ag.get("web-player.whats-new-feed.panel.title"),panel:Mh.s.WhatsNewFeed,onClose:b}),(0,dl.jsx)(au.D,{as:"p",semanticColor:"textSubdued",variant:"mesto",children:v.ag.get("web-player.whats-new-feed.panel.subtitle")}),!n&&(0,dl.jsx)(AF,{availableFilters:g,toggleFilterId:k,selectedFilters:f,resetFilterIds:y,spec:d.filterChipsFactory()}),(0,dl.jsx)(bL,{includedContentTypes:h,spec:d,onClick:S,setHasError:r})]})})})},xL=n(77062),OL="NpvPanel_PreAdNpvState",wL=function(){return null},NL=function(){var e,t,n,i,r,a,o,s,l,c,u,d=(0,xL.m)(),p=(0,Au.W6)(ys.JI);switch(e=(0,yF.W)(),t=(0,bF.B)(),n=!(0,sh.k)(),i=(0,ll.useRef)(t),r=(0,Au.W6)(ys.JI),a=(0,bl.Y)((function(e){var t;return{contextUri:null==e?void 0:e.context.uri,timestamp:null==e?void 0:e.timestamp,isVideo:"audio"!==(null==e||null===(t=e.item)||void 0===t?void 0:t.mediaType)}}),(function(e,t){return e.contextUri===t.contextUri})),o=a.contextUri,s=a.timestamp,l=void 0===s?0:s,c=a.isVideo,u=(0,ll.useRef)(o),(0,ll.useEffect)((function(){i.current=t}),[t]),(0,ll.useEffect)((function(){o&&"invalid_context_uri"!==o?r&&!n&&i.current&&o!==u.current&&(Date.now()-l<=5e3||c)&&e.setPanelState(j.s.NowPlayingView):e.setPanelState(j.s.Disabled)}),[e,o,l,r,c,n]),function(){var e=(0,yF.W)(),t=(0,Au.W6)(ys.JI),n=(0,xL.m)(),i=(0,vm.um)(),r=(0,bl.Y)((function(e){return{item:null==e?void 0:e.item}})).item;(0,ll.useEffect)((function(){if(null!==r&&!(0,Re.RB)(r)&&t)if((0,Re.k6)(r))i.getItem(OL)instanceof Hf.d&&i.setItem(OL,n),e.setPanelState(j.s.NowPlayingView);else{var a=i.getItem(OL);a instanceof Hf.d||a instanceof Gf.y||(e.setPanelState(a),i.clearItem(OL))}}),[e,r,t,n,i])}(),d){case j.s.BuddyFeed:return(0,dl.jsx)(kF,{});case j.s.WhatsNewFeed:return(0,dl.jsx)(SL,{});case j.s.Puffin:return(0,dl.jsx)(wL,{});case j.s.NowPlayingView:return p?(0,dl.jsx)(hP,{currentPanel:d}):null;default:return  Spicetify.Panel?.render()??null}};const _L="ZjyLlDvxh8QqNVY2vMsF",EL="sx8Bf4udHt_kPAnxmGW8",CL="sfaREUmOnuxlr99uOYnS",PL="RTGGeDA2P3rKc6r96vqA",IL="e1NO8ZuDIwSef3E4ppfX",jL="Fo3Fe1PpXtQ3G32BqnwP",AL="aRZZo0b_4ktkI0mPQ7Vw";var TL=function(e){var t=e.name,n=e.onRename,r=(0,nl.I0)(),a=(0,ll.useState)(null),o=(0,i.Z)(a,2),s=o[0],l=o[1],c=(0,ll.useCallback)((function(e){null!==e&&l(e)}),[]);(0,ll.useEffect)((function(){null==s||s.select()}),[s]);var u=function(){r((0,el.TH)())},d=function(){var e;n(null!==(e=null==s?void 0:s.value)&&void 0!==e?e:""),u()};return(0,dl.jsx)(tf.Z,{contentLabel:v.ag.get("playlist.edit-details.title"),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:u,shouldFocusAfterRender:!0,isOpen:!0,children:(0,dl.jsxs)("div",{"":"playlist-edit-details-modal",className:_L,children:[(0,dl.jsxs)("div",{className:CL,children:[(0,dl.jsx)(au.D,{as:"h1",variant:"canon",children:v.ag.get("web-player.your-library-x.rename-folder")}),(0,dl.jsx)("button",{className:PL,onClick:u,children:(0,dl.jsx)(Nv.k,{iconSize:24,"aria-label":v.ag.get("close")})})]}),(0,dl.jsxs)("form",{className:EL,onSubmit:function(e){e.preventDefault(),d()},children:[(0,dl.jsx)("input",{ref:c,type:"text",defaultValue:t,onSubmit:d,className:Tc()(IL,jL)}),(0,dl.jsx)("div",{className:AL,children:(0,dl.jsx)(Hm.D,{colorSet:"invertedLight",type:"submit",children:v.ag.get("save")})})]})]})})},DL=n(31271),RL=function(e){var t=e.uri,n=e.onConfirm,i=e.onCancel,r=e.remoteDeviceInfo,a=(0,vu.$P)(),o=(0,ll.useMemo)((function(){return(0,DL.z)()}),[]);(0,ll.useEffect)((function(){a.logImpression(o.impression())}),[a,o]);var s=(0,nl.I0)();return(0,dl.jsx)($k.Q,{"aria-label":v.ag.get("web-player.download.remove-download-confirmation-dialog.title"),titleText:v.ag.get("web-player.download.remove-download-confirmation-dialog.title"),descriptionText:r?v.ag.get("web-player.download.remove-download-confirmation-dialog.message-remote",r.deviceName):v.ag.get("web-player.download.remove-download-confirmation-dialog.message"),onConfirm:function(){n(),s((0,el.rV)()),a.logInteraction(r?o.confirmRemoveDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice({itemToRemoveFromDownloads:t,remoteDeviceId:r.deviceId,remoteDeviceType:r.deviceType.toString(),remoteClientPlatform:r.clientPlatform.toString()}):o.confirmRemoveDownloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:t}))},onClose:function(){i(),s((0,el.rV)()),a.logInteraction(o.cancelButtonFactory().hitUiHide())},confirmText:v.ag.get("web-player.download.remove-download-confirmation-dialog.confirm-button-text"),confirmLabel:v.ag.get("web-player.download.remove-download-confirmation-dialog.confirm-button-label"),cancelText:v.ag.get("web-player.download.remove-download-confirmation-dialog.cancel-button-text"),allowHTML:!0})},FL=n(89860),LL=n(89874),ML=n(6404),UL=n(87132),ZL=null;var BL=function(){var e=function(){var e,t=(0,ll.useState)(null),n=(0,i.Z)(t,2),a=n[0],s=n[1],l=(0,Tu.s4)(),c=(0,tl.useQuery)({enabled:!1,queryFn:(e=(0,r.Z)(o().mark((function e(){var t,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Jt.b.getInstance(),e.next=3,(0,ML.u)(t);case 3:return n=e.sent,i=n.body,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),onSuccess:function(e){if(null!=e&&e.length){var t=e[0].id;s(t),l.send((0,FL.x)({id:t,method:"IN_APP_VERIFICATION_V0"}))}},onError:function(e){l.send((0,LL.b)({method:"IN_APP_VERIFICATION_V0",error_message:e instanceof UL.m?e.name:null,http_method:"get",http_path:"/verifications"}))}});return{verificationId:a,refetch:c.refetch}}(),t=e.verificationId,n=e.refetch;return(0,ql.G)(Fe.rg.UPDATE,(function(e){var i,r;if(!t){var a,o="number"==typeof(null==e||null===(i=e.data)||void 0===i?void 0:i.positionAsOfTimestamp)&&e.data.positionAsOfTimestamp>=0&&e.data.positionAsOfTimestamp<=1e3;null!=e&&null!==(r=e.data)&&void 0!==r&&r.isPaused||!o||(a=performance.now(),ZL&&a-ZL<6e5||(ZL=a,0))||n()}})),t},VL=(0,ll.lazy)((function(){return Promise.all([n.e(1814),n.e(6143)]).then(n.bind(n,6143))})),HL=function(){var e=(0,Au.W6)(ys.nv),t=(0,ll.useState)(!1),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=BL();return(0,ll.useEffect)((function(){a(!!o)}),[o]),e&&r?(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(VL,{verificationId:"".concat(o)})}):null},GL=n(23197),WL=function(){var e=(0,vu.fU)(EC.p,{}),t=e.spec,n=e.logger,i=(0,m_.T)(Mh.s.NowPlayingView),r=i.isActive,a=i.toggle,o=(0,nl.I0)(),s=y_().setMode;return(0,ll.useEffect)((function(){var e=function(e){"Escape"===e.key&&s(GL.f.npv)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[o,r,a,s]),(0,dl.jsxs)("div",{className:k_.Controls,children:[(0,dl.jsx)(Lh,{focus:!0,label:v.ag.get("web-player.now-playing-view.minimize.lyrics"),onClick:function(){s(GL.f.npv),n.logInteraction(t.minimizeCinemaModeButtonFactory().hitUiHide()),n.logImpression(t.minimizeCinemaModeButtonFactory().impression())},children:(0,dl.jsx)(jh.o,{iconSize:16})}),(0,dl.jsx)(Lh,{focus:!0,label:v.ag.get("web-player.now-playing-view.close.lyrics"),onClick:function(){s(GL.f.none),n.logInteraction(t.closeLyricsButtonFactory().hitUiHide())},children:(0,dl.jsx)(Nv.k,{iconSize:16})})]})},zL=n(57360);var KL=function(){var e=y_(),t=e.mode,n=e.setMode,i=(0,Ny.Oh)().lyricsCinemaRef;!function(){var e=(0,lc.TH)().pathname,t=y_(),n=t.mode,i=t.setMode;(0,ll.useEffect)((function(){n===_y.LyricsMode.cinema&&i(_y.LyricsMode.npv)}),[e])}();var r=(0,bl.Y)((function(e){var t;return{item:null==e||null===(t=e.item)||void 0===t?void 0:t.type}})).item;return t!==_y.LyricsMode.cinema?null:(r&&r===Le.p.TRACK||n(_y.LyricsMode.npv),i.current?l.createPortal((0,dl.jsxs)("div",{className:k_.Container,children:[(0,dl.jsx)(WL,{}),(0,dl.jsx)(zx.U,{className:k_.Content,children:(0,dl.jsx)(zL.Z,{coverTopBar:!0,format:"cinema"})})]}),i.current):(console.error("No container found for cinema video!"),null))},YL=function(){return(0,dl.jsx)(il.L,{children:(0,dl.jsx)(KL,{})})},qL=(0,ll.memo)((function(){var e=(0,nl.I0)(),t=(0,Om.zZ)(),n=(0,nl.v9)((function(e){return e.ui.removeFromLibraryDialog.uri})),a=(0,Nf.Z)(null!=n?n:""),s=(0,i.Z)(a,2),l=s[0],c=s[1],u=(0,ll.useState)(""),d=(0,i.Z)(u,2),p=d[0],m=d[1];(0,ll.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null===(i=(0,f.EC)(n))||void 0===i?void 0:i.type,e.t0=r,e.next=e.t0===f.JM.ALBUM?4:e.t0===f.JM.ARTIST?6:e.t0===f.JM.SHOW?8:e.t0===f.JM.PLAYLIST||e.t0===f.JM.PLAYLIST_V2?21:23;break;case 4:return m(v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-album")),e.abrupt("break",25);case 6:return m(v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-artist")),e.abrupt("break",25);case 8:return e.t1=m,e.t2=Bo.l6,e.next=12,t.getMetadata(null!=n?n:"");case 12:if(e.t3=e.sent,!(0,e.t2)(e.t3)){e.next=17;break}e.t4=v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-audiobook"),e.next=18;break;case 17:e.t4=v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-show");case 18:return e.t5=e.t4,(0,e.t1)(e.t5),e.abrupt("break",25);case 21:return m(v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-playlist")),e.abrupt("break",25);case 23:return m(v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-title")),e.abrupt("break",25);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]);var g=(0,ll.useCallback)((function(){e((0,el.F1)())}),[e]),h=(0,ll.useCallback)((function(){n&&l&&(c(!1),g())}),[n,l,c,g]);return(0,dl.jsx)($k.Q,{"aria-label":"".concat(v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-title")," ").concat(p),titleText:v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-title"),descriptionText:p,onConfirm:h,onClose:g,confirmText:v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-confirm-button"),cancelText:v.ag.get("web-player.your-library-x.feedback-remove-from-library-dialog-cancel-button"),allowHTML:!0})})),QL=n(44185),JL=n(84340),XL=function(){var e=(0,ll.useState)(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],a=(0,ll.useState)(""),o=(0,i.Z)(a,2),s=o[0],l=o[1],c=(0,ll.useState)(""),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=location.pathname,f=(0,nl.v9)(ix.rZ),g=(0,aR.g)();(0,ll.useEffect)((function(){var e=setTimeout((function(){r(!0)}),1100);return function(){r(!1),clearTimeout(e)}}),[m]);var h=(0,ll.useCallback)((function(e){var t=e.columnWidth,n=e.gridGap,i="".concat(t.toString(),"px"),r="".concat(n.toString(),"px");l(i),p(r)}),[]),k=(0,ll.useCallback)((function(){return(0,dl.jsx)(dl.Fragment,{})}),[]);return n?(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)("div",{className:"contentSpacing",children:(0,dl.jsx)(JL.T,{render:k,onLayoutChange:h})}),(0,dl.jsx)(QL.VB,{language:v.ag.getSmartlingLocale(),market:f.toLowerCase(),children:(0,dl.jsx)(QL.$_,{hideWebPlayerLink:!0,columnGap:d,columnWidth:s,hideLegalLinks:g})})]}):(0,dl.jsx)(dl.Fragment,{})},$L=n(76924),eM=n(88788),tM=function(e){var t=e.consumptionCapExplanation,n=(0,nl.I0)(),i=(0,ll.useCallback)((function(){n((0,el.mB)())}),[n]);return(0,dl.jsx)($k.Q,{"aria-label":t.title,titleText:t.title,descriptionText:t.body,onConfirm:i,onClose:i,confirmText:t.cta,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1})};const nM="Root__top-container",iM="Root__top-container--has-notice-bar";function rM(e){var t=e.children,n=(0,nl.v9)((function(e){return e.ui.unsupportedBrowser.isOpen}));return(0,dl.jsx)("div",{className:Tc()(nM,(0,P.Z)({},iM,n)),children:t})}const aM="Root__main-view-overlay";var oM=(0,ll.forwardRef)((function(e,t){var n=e.children;return(0,dl.jsx)("div",{ref:t,className:aM,children:n})}));const sM="Root__top-bar";function lM(e){var t=e.children,n=(0,Ny.Oh)().topbarRef;return(0,dl.jsx)("div",{ref:n,className:sM,children:t})}const cM="Root__nav-bar";function uM(e){var t=e.children,n=(0,Ny.Oh)().leftSidebarRef;return(0,dl.jsx)("div",{ref:n,className:cM,children:t})}var dM=n(42751),pM=n(93640),mM=n(26484),fM=n(46747),vM=n(93235);const gM="ftcQYbC5YLLX7tb_GcHP";var hM=function(e){var t=e.children,n=(0,Kc.z)("search-callout-seen",!1),r=(0,i.Z)(n,2),a=r[0],o=r[1],s=(0,lc.TH)(),l=(0,ll.useCallback)((function(){o(!0)}),[o]);return(0,ll.useEffect)((function(){s.pathname.startsWith("/search")&&l()}),[s,l]),(0,dl.jsx)(vM.G,{title:v.ag.get("navbar.search.callout-title"),description:v.ag.get("navbar.search.callout-description"),id:"searchCallout",visible:!a,onHide:l,onPrimaryButtonClick:function(){},showButtons:!1,hideOnClickOutside:!1,placement:"left-start",tippyClassName:gM,children:t})},kM=function(e){var t=e.children;return(0,Au.W6)(ys.Jw)===ys.pF.CALLOUT?(0,dl.jsx)(hM,{children:t}):t},yM=function(e){var t=e.children;return(0,dl.jsx)(ll.Suspense,{fallback:t,children:(0,dl.jsx)(kM,{children:t})})};const bM="main-yourLibraryX-navItems",SM="main-yourLibraryX-navItem",xM="main-yourLibraryX-navLink",OM="main-yourLibraryX-navItemOffline",wM="main-yourLibraryX-navLinkActive";var NM=function(){var e,t,n=(0,f_.U)().isCollapsed,i=(0,lc.TH)(),r=!(0,sh.k)(),a=(0,aC.k)({type:"locale",uri:""})?(0,ms.is)("/",v.ag.getUrlLocale()):"/";return(0,dl.jsxs)("ul",{className:bM,children:[(0,dl.jsx)("li",{className:Tc()(SM,"InvalidDropTarget"),children:(0,dl.jsx)(Ru.w,{label:n?v.ag.get("view.web-player-home"):null,disabled:!n,placement:"right",children:(0,dl.jsxs)(fM.O,{to:a,referrer:"home",className:Tc()("link-subtle",xM,(0,P.Z)({},wM,"/"===i.pathname)),"aria-label":v.ag.get("view.web-player-home"),children:[(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(dM.A,{className:"home-icon","aria-hidden":"true"}),(0,dl.jsx)(pM.v,{className:"home-active-icon","aria-hidden":"true"})]}),!n&&(0,dl.jsx)(au.D,{variant:"balladBold",children:v.ag.get("view.web-player-home")})]})})}),(0,dl.jsx)("li",{className:Tc()(SM,"InvalidDropTarget"),children:(0,dl.jsx)(Ru.w,{label:r?v.ag.get("offline.feedback-text"):v.ag.get("navbar.search"),disabled:!r&&!n,placement:n?"right":"top",children:(0,dl.jsxs)(fM.O,{to:"/search",referrer:"search",className:Tc()("link-subtle",xM,(t={},(0,P.Z)(t,wM,i.pathname.startsWith("/search")||"search"===(null===(e=i.state)||void 0===e?void 0:e.pageId)),(0,P.Z)(t,OM,r),t)),onClick:function(e){r&&e.preventDefault()},"aria-label":v.ag.get("navbar.search"),children:[(0,dl.jsx)(Wj.j,{className:"search-icon","aria-hidden":"true"}),(0,dl.jsx)(mM.g,{className:"search-active-icon","aria-hidden":"true"}),!n&&(0,dl.jsx)(yM,{children:(0,dl.jsx)(au.D,{variant:"balladBold",children:v.ag.get("navbar.search")})})]})})})]})};const _M="main-yourLibraryX-entryPoints",EM="main-yourLibraryX-library";var CM=(0,ll.lazy)((0,r.Z)(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,86409));case 2:return t=e.sent,i=t.YourLibraryX,e.abrupt("return",{default:i});case 5:case"end":return e.stop()}}),e)})))),PM=function(e){var t=e.npbVideoAdRef;return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)("div",{className:_M,children:(0,dl.jsx)(NM,{})}),(0,dl.jsx)("div",{className:Tc()(_M,EM),children:(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(CM,{npbVideoAdRef:t})})})]})},IM=n(76702),jM=n(91097),AM=n(73658),TM=n(39826);const DM="CCeu9OfWSwIAJqA49n84",RM="NdVm10_yLWkkgq87jOMk";var FM=ll.memo((function(e){var t=e.onClick,n=e.iconReplacement,r=void 0===n?null:n,a=e.size,o=void 0===a?32:a,s=e.className,l=(0,ll.useState)(!1),c=(0,i.Z)(l,2),u=c[0],d=c[1],p={"--button-size":"".concat(o,"px")};return(0,dl.jsx)("button",{className:Tc()(DM,s,(0,P.Z)({},RM,u)),style:p,"aria-label":u?v.ag.get("pause"):v.ag.get("playing"),onClick:t,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:null!=r?r:u?(0,dl.jsx)(Iu.k,{iconSize:o}):(0,dl.jsx)(vp.d,{iconSize:o})})}));const LM="main-collectionLinkButton-iconWrapper",MM="rWC_mXq9vNEjP4yvvEeC",UM="main-collectionLinkButton-collectionLinkButton",ZM="main-collectionLinkButton-icon",BM="main-collectionLinkButton-collectionLinkText",VM="main-collectionLinkButton-selected",HM="main-collectionLinkButton-dragEnter",GM="Frn4juLXf6zInWBEFFzr",WM="main-rootlist-statusIcons";var zM=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e}(zM||{}),KM=(0,ll.memo)((function(){var e=(0,ks.O6)({featureIdentifier:"your_dj_navbar_button"}),t=e.isPlaying,n=e.togglePlay,r=(0,ks.Kc)(),a=(0,ks.O9)().metadata,o=(0,ll.useState)(!1),s=(0,i.Z)(o,2),l=s[0],c=s[1],u=(0,ll.useCallback)((function(){n()}),[n]);if(!r)return null;if(null==a||!a.name)return null;var d=function(){return t?(0,dl.jsx)(FM,{className:GM,size:16}):l?(0,dl.jsx)(FM,{className:GM,size:16,iconReplacement:(0,dl.jsx)(Pu.J,{iconSize:16,className:MM})}):null};return(0,dl.jsxs)("button",{className:UM,onClick:u,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:[(0,dl.jsx)("div",{className:ZM,"aria-hidden":!0,children:(0,dl.jsx)("div",{className:LM,children:(0,dl.jsx)(TM.E,{iconSize:zM.xs})})}),(0,dl.jsx)(au.D,{variant:"mestoBold",className:Tc()("standalone-ellipsis-one-line",BM),children:a.name}),(0,dl.jsx)("div",{className:WM,children:(0,dl.jsx)(d,{})})]})})),YM=n(57035);const qM="main-createPlaylistButton-button",QM="Jz6S0hp1vLCJM0pIKwow",JM="main-createPlaylistButton-icon",XM="main-createPlaylistButton-createPlaylistIcon",$M="Mvo56wLT_lMG_re9vA7W",eU="main-createPlaylistButton-text";var tU=(0,ll.memo)((function(e){var t,n=e.spec,a=(0,vu.$P)(),s=(0,cu.o)(),l=(0,sh.k)(),c=(0,ll.useState)(!1),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=(0,wf.K)(),g=m.createPlaylistFromAlbum,h=m.createPlaylistFromTracks,k=m.createPlaylist,y=(0,nl.v9)(ef.Gg).isAnonymous,b=(0,ll.useContext)(bm.ZF).getCapabilities().canModifyOffline,S=!l&&!b,x=(0,Cu.y1)((0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return t=y?a.logInteraction(n.hitUiReveal()):a.logInteraction(n.hitCreatePlaylist()),s({targetUri:"",intent:"playlisting",type:"click",itemIdSuffix:"create-playlist"}),e.next=6,k(t.interactionId);case 6:case"end":return e.stop()}}),e)}))),2e3,{leading:!0,trailing:!1}),O=(0,ll.useCallback)((function(e,t){y||a.logInteraction(n.dragCreatePlaylist());var i=t[DP.ZP[f.JM.ALBUM]];i&&i[0]&&g(i[0],{before:"start"});var r=[].concat((0,_.Z)(t[DP.ZP[f.JM.TRACK]]||[]),(0,_.Z)(t[DP.ZP[f.JM.LOCAL]]||[]),(0,_.Z)(t[DP.ZP[f.JM.EPISODE]]||[]));r&&r[0]&&h(r,{before:"start"})}),[g,h,y,a,n]),w=(0,ll.useCallback)((function(){p(!0)}),[]),N=(0,ll.useCallback)((function(){p(!1)}),[]),E=(0,ll.useMemo)((function(){return l?[DP.ZP[f.JM.ALBUM],DP.ZP[f.JM.TRACK],DP.ZP[f.JM.LOCAL],DP.ZP[f.JM.EPISODE]]:[]}),[l]);return(0,dl.jsx)(TP.Z,{types:E,onDrop:O,onDragEnter:w,onDragLeave:N,children:(0,dl.jsx)(nD.D,{children:(0,dl.jsxs)("button",{type:"button",className:Tc()(qM,(t={},(0,P.Z)(t,$M,d&&!S),(0,P.Z)(t,QM,S),t)),onClick:x,"":"create-playlist-button",children:[(0,dl.jsx)("div",{className:JM,children:(0,dl.jsx)("div",{className:XM,children:(0,dl.jsx)(YM.S,{iconSize:12,"aria-hidden":!0})})}),(0,dl.jsx)(au.D,{variant:"mestoBold",className:Tc()(eU,"standalone-ellipsis-one-line"),children:v.ag.get("sidebar.playlist_create")})]})})})})),nU=n(95113);const iU="L3vU7A1LzZSa3DcQcnmK";var rU=function(){var e=(0,nU.W)(),t=e.syncing,n=e.currentItem,i=e.totalItems;return t?(0,dl.jsx)(au.D,{as:"div",variant:"mesto",className:iU,children:v.ag.get("download.progress-global","".concat(n),"".concat(i))}):null};const aU="Ym_p2Bk1FWRtvgNjq2Ez",oU="PJuB4n2TjjZFBiWAW2zx";function sU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sU(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cU=function(e){var t=e.percentage,n=e.ariaValueText;return(0,dl.jsx)("div",{className:aU,children:(0,dl.jsx)("div",lU({style:{transform:"translateX(-".concat(100-Math.round(t),"%)")},className:oU,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(t)},n?(0,P.Z)({},"aria-valuetext",n):{}))})};const uU="ewscCyNhoCkYK_f_8jkz";var dU=function(){var e=(0,nU.W)(),t=e.syncing,n=e.percentage;return t?(0,dl.jsx)("div",{className:uU,children:(0,dl.jsx)(cU,{percentage:n})}):null},pU=n(34148),mU=n(44738),fU=n(72481),vU=n(17646),gU=ll.memo((function(e){var t,n,a=e.children,s=e.contextUri,l=e.href,c=e.name,u=e.onClick,d=e.onDrop,p=e.types,m=e.spec,f=e.navigationalRoot,v=(0,lc.TH)().pathname,g=(0,vu.$P)(),h=(0,cu.o)(),k=(0,ll.useState)(!1),y=(0,i.Z)(k,2),b=y[0],S=y[1],x=(0,nl.v9)(ef.Gg).isAnonymous,O=!(null===(t=(0,lc.bS)(l))||void 0===t||!t.pattern.end),w=(0,ll.useCallback)(function(){var e=(0,r.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:i=p.flatMap((function(e){return n[DP.ZP[e]]})),g.logInteraction(m.dragLike({itemToBeLiked:i[0]})),null==d||d(i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[x,d,p,g,m]),N=(0,U_.n)({uri:s},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),_=N.isPlaying,E=N.isActive,C=N.togglePlay,I=(0,ll.useCallback)((function(e){x&&m.hitUiReveal?g.logInteraction(m.hitUiReveal()):x||v!==l&&g.logInteraction(m.hitUiNavigate({destination:l})),null==u||u(e)}),[x,m,u,g,v,l]),j=(0,ll.useCallback)((function(){C()}),[C]),A=(0,ll.useCallback)((function(){S(!0)}),[]),T=(0,ll.useCallback)((function(){S(!1)}),[]),D=(0,ll.useCallback)((function(){if(!x){var e;e=_?m.doubleHitPause({itemToBePaused:s}):E?m.doubleHitResume({itemToBeResumed:s}):m.doubleHitPlay({itemToBePlayed:s});var t=g.logInteraction(e);C({loggingParams:t}),h({targetUri:s,intent:"play",type:"double-click"})}}),[x,_,E,g,C,h,s,m]);return(0,dl.jsx)(TP.Z,{types:p.map((function(e){return DP.ZP[e]})),onDrop:w,onDragEnter:A,onDragLeave:T,children:(0,dl.jsxs)(fM.O,{to:l,referrer:"your_library",navigationalRoot:f,onClick:I,onDoubleClick:D,className:Tc()(UM,(n={},(0,P.Z)(n,HM,b),(0,P.Z)(n,VM,O),n)),children:[(0,dl.jsx)("div",{className:ZM,children:a}),(0,dl.jsx)(au.D,{variant:"mestoBold",className:Tc()("standalone-ellipsis-one-line",BM),children:c}),(0,dl.jsx)("div",{className:WM,children:_?(0,dl.jsx)(FM,{className:GM,onClick:j,size:16}):s&&(0,dl.jsx)(vU.$,{uri:s,size:16})})]})})}));const hU="main-likedSongsButton-likedSongsIcon";var kU=ll.memo((function(e){var t=e.spec,n=(0,nl.v9)(ef.Gg),i=n.user,a=n.isAnonymous,s=(0,x_.I2)(null==i?void 0:i.id),l=(null==s?void 0:s.uri)||"",c="/collection/tracks",u=(0,nl.I0)(),d=(0,Nf.y)(),p=(0,ll.useCallback)(function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:if(!(t.length>0)){e.next=5;break}return e.next=5,d.add.apply(d,(0,_.Z)(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]),m=(0,ll.useCallback)((function(e){a&&(u((0,mc.BH)(c)),e.preventDefault())}),[a,u,c]);return(0,dl.jsx)(oD,{children:(0,dl.jsx)(gU,{contextUri:l,href:c,name:v.ag.get("sidebar.liked_songs"),types:[f.JM.TRACK],onClick:m,onDrop:p,spec:t,navigationalRoot:fU.U.LIKED_SONGS,children:(0,dl.jsx)("div",{className:hU,children:(0,dl.jsx)(mU.a,{iconSize:12,"aria-hidden":!0})})})})})),yU=n(20808),bU=n(23929);const SU="main-yourEpisodesButton-yourEpisodesIcon";var xU=ll.memo((function(e){var t=e.spec,n=(0,yU.x)(),i=(0,nl.I0)(),a=(0,Nf.y)(),s=(0,ll.useCallback)(function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(!(t.length>0)){e.next=6;break}return e.next=5,a.add.apply(a,(0,_.Z)(t));case 5:i((0,$m.kK)());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,a]);return null!=n&&n.totalLength?(0,dl.jsx)(gU,{contextUri:n.uri,href:"/collection/episodes",name:v.ag.get("sidebar.your_episodes"),types:[f.JM.EPISODE],onDrop:s,spec:t,navigationalRoot:fU.U.YOUR_EPISODES,children:(0,dl.jsx)(bU.P,{iconSize:16,"aria-hidden":!0,className:SU})}):null})),OU=n(15082),wU=n(53720),NU=n(13752),_U=n(78403),EU=n(97120);const CU="main-rootlist-rootlist",PU="main-rootlist-rootlistContent",IU="main-rootlist-rootlistDividerContainer",jU="main-rootlist-rootlistDivider",AU="main-rootlist-rootlistDividerGradient",TU="main-rootlist-rootlistPlaylistsScrollNode",DU="main-rootlist-dropIndicator",RU="main-rootlist-textWrapper",FU="main-rootlist-expandArrow",LU="main-rootlist-expandArrowActive",MU="main-rootlist-rootlistItem",UU="main-rootlist-rootlistItemOverlay",ZU="main-rootlist-rootlistItemLink",BU="main-rootlist-rootlistItemLinkActive",VU="UCEIwrWMxnBFH4uoPybJ",HU="xbsDt2_VfIDs0cQOXvgf",GU="ZcKzjCkYGeMizcSAP8UX",WU="daCBcwvAGyqpyuBNaWTY",zU="main-rootlist-statusIcons";var KU=function(e){return e[e.None=0]="None",e[e.Before=1]="Before",e[e.After=2]="After",e}(KU||{}),YU=(0,ll.memo)((function(e){var t=e.uri,n=e.indentation,i=e.name,r=e.allowedDropTypes,a=e.onDrop,o=e.onDragOverItem,s=e.onDelete,l=e.onContextMenu,c=e.onTouchStart,u=e.onTouchEnd,d=e.expandFolder,p=e.children,m=e.spec,v=(0,lc.s0)(),h=(0,ll.useRef)(null),k=(0,ll.useRef)(0),y=(0,gE.O)([t],i),b=(0,ll.useRef)(KU.None),S=(0,vu.$P)();(0,ll.useEffect)((function(){return function(){return window.clearTimeout(k.current)}}),[]);var x=(0,ll.useCallback)((function(){var e;null!==(e=h.current)&&void 0!==e&&e.contains(document.activeElement)&&s()}),[s]);(0,g.eY)(g.O4.DELETE,x);var O=(0,ll.useCallback)((function(e,t){return e.find((function(e){return null==t?void 0:t.includes(e)}))}),[]),w=(0,ll.useCallback)((function(){h.current&&(h.current.classList.remove(HU),window.clearTimeout(k.current),k.current=0,b.current=KU.None)}),[]),N=(0,ll.useCallback)((function(e){if(h.current){var i=O(Array.from(e.dataTransfer.types),[gE.a[f.JM.PLAYLIST],gE.a[f.JM.FOLDER]]),a=O(Array.from(e.dataTransfer.types),r),s=h.current.getBoundingClientRect(),l=s.top,c=s.height,u=e.clientY<l+c/2,p=!!i&&(!(0,f.L0)(t)||e.clientY<l+c/4);if(i)if(p){var g=u?KU.Before:KU.After;b.current!==g&&o(u?l:l+c,n,!0),b.current=g}else o(u?l:l+c,n,!1);a&&(p?h.current.classList.remove(HU):h.current.classList.add(HU),0===k.current&&((0,f.L0)(t)&&d?k.current=window.setTimeout((function(){d()}),1e3):k.current=window.setTimeout((function(){var e,n=null===(e=(0,f.EC)(t))||void 0===e?void 0:e.toURLPath(!0);n&&(v(n),S.logInteraction(m.dragUiNavigate({destination:n})))}),1e3)))}}),[O,r,t,o,n,d,v,S,m]);return(0,dl.jsx)(TP.Z,{as:"div",types:[].concat((0,_.Z)(r),[gE.a[f.JM.PLAYLIST],gE.a[f.JM.FOLDER]]),onDrop:a,onDragLeave:w,children:(0,dl.jsx)(wU.E,{innerRef:h,className:Tc()(MU),style:{"--indentation":n},draggable:!0,onDragStart:y,onDragOver:N,onContextMenu:l,onTouchStart:c,onTouchEnd:u,"":"rootlist-item",children:p})})})),qU=ll.memo((function(e){var t=e.name,n=e.onRename,i=(0,ll.useRef)(null),r=(0,ll.useCallback)((function(e){e.target.select()}),[]),a=(0,ll.useCallback)((function(e){"Enter"===e.key?n(e.target.value):"Escape"===e.key&&n(null)}),[n]),o=(0,ll.useCallback)((function(e){n(e.target.value)}),[n]);(0,ll.useEffect)((function(){i.current&&i.current.focus()}),[]);var s=(0,ll.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]);return(0,dl.jsx)("input",{ref:i,type:"text","":"rename-input",className:WU,defaultValue:t,onFocus:r,onBlur:o,onKeyDown:a,draggable:!0,onDragStart:s})})),QU=ll.memo((function(e){var t,n=e.uri,i=e.name,r=e.isRenaming,a=e.onRename,o=e.onDoubleClick,s=e.onKeyDown,l=e.children,c=e.spec,u=(0,lc.s0)(),d=(0,ll.useRef)(null),p="/".concat(null===(t=(0,f.EC)(n,{parseUnknown:!0}))||void 0===t?void 0:t.toURLPath()),m=(0,vu.$P)(),v=(0,ll.useCallback)((function(){m.logInteraction(c.hitUiNavigate({destination:p}))}),[p,m,c]);return r?(0,dl.jsx)(qU,{name:i,onRename:a}):(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)("div",{"aria-hidden":"true",className:UU,onDoubleClick:o,onClick:function(){var e;u(p,{state:{preventMoveFocus:!0,referrer:"playlists_sidebar"}}),null===(e=d.current)||void 0===e||e.focus(),v()}}),(0,dl.jsx)(fM.O,{ref:d,referrer:"playlists_sidebar",className:function(e){var t=e.isActive;return Tc()("standalone-ellipsis-one-line",ZU,(0,P.Z)({},BU,t))},to:p,onDoubleClick:o,onKeyDown:s,tabIndex:-1,onClick:v,children:(0,dl.jsx)(au.D,{className:RU,dir:"auto",children:l})})]})})),JU=n(69716),XU=(0,ll.memo)((function(e){var t,n=e.folder,r=e.indentation,a=e.resolveItem,o=e.onDragOverItem,s=e.isExpanded,l=e.onToggleExpandedClick,c=e.index,u=e.spec,d=(0,wf.K)(),p=d.createPlaylistFromAlbum,m=d.createPlaylistFromTracks,g=(0,Xk.l)(),h=g.addPlaylists,k=g.movePlaylists,y=g.renameFolder,b=g.moveFolder,S=(0,nl.v9)((function(e){return e.platform.isDesktop})),x=(0,ll.useState)(!1),O=(0,i.Z)(x,2),w=O[0],N=O[1],E=(0,nl.I0)(),C=(0,vu.$P)(),I=(0,ll.useMemo)((function(){return u.rootlistItemFactory({position:c,uri:n.uri})}),[n.uri,c,u]),j=(0,qx.S)(),A=(0,ll.useCallback)((function(e,t){var i=a(t.all[0]),r=e.target.getBoundingClientRect(),o=r.top,s=r.height,l=e.clientY<o+s/4;if(i)(0,Ia.lU)(i)?b(i,l?{before:n}:{after:n}):k(i,l?{before:n}:{after:n}),C.logInteraction(u.dragSort());else{var c=t[gE.a[f.JM.PLAYLIST]],d=t[gE.a[f.JM.TRACK]],v=t[gE.a[f.JM.EPISODE]],g=t[gE.a[f.JM.ALBUM]];if(null!=c&&c.length)h(c,l?{before:n}:{after:n}),C.logInteraction(u.dragLike({itemToBeLiked:c[0]}));else{var y=I.dragCreatePlaylist();null!=g&&g.length?(p(g[0],{after:n}),C.logInteraction(y)):(null!=d&&d.length||null!=v&&v.length)&&(m([].concat((0,_.Z)(d||[]),(0,_.Z)(v||[])),{after:n}),C.logInteraction(y))}}}),[a,C,u,b,n,k,h,I,p,m]),T=(0,ll.useCallback)((function(){N(!0)}),[]),D=(0,ll.useCallback)((function(e){e&&e!==name&&y(n,e),N(!1)}),[y,n]),R=(0,ll.useCallback)((function(){s(n.uri)||l(n.uri)}),[n.uri,s,l]),F=(0,ll.useCallback)((function(){s(n.uri)&&l(n.uri)}),[n.uri,s,l]),L=(0,ll.useCallback)((function(){s(n.uri)?C.logInteraction(I.toggleFolderButtonFactory().hitUiHide()):C.logInteraction(I.toggleFolderButtonFactory().hitUiReveal()),l(n.uri)}),[n.uri,s,C,l,I]),M=(0,ll.useCallback)((function(){E((0,el.Q2)(n.uri))}),[E,n.uri]),U=(0,U_.n)({uri:n.uri},{featureIdentifier:"playlist",referrerIdentifier:"playlists_sidebar"}),Z=U.togglePlay,B=U.isActive,V=U.isPlaying,H=(0,ll.useCallback)((function(){S&&(B?V?C.logInteraction(I.doubleHitPause({itemToBePaused:n.uri})):C.logInteraction(I.doubleHitResume({itemToBeResumed:n.uri})):C.logInteraction(I.doubleHitPlay({itemToBePlayed:n.uri})),Z())}),[n.uri,B,V,C,I,S,Z]),G=(0,ll.useCallback)((function(e){e.repeat||("Backspace"!==e.key&&"Delete"!==e.key||M(),"Enter"===e.key&&H(),"ArrowRight"===e.key&&(j?F():R()),"ArrowLeft"===e.key&&(j?R():F()))}),[M,F,R,j,H]),W=(0,ll.useCallback)((function(){C.logInteraction(I.secondaryHitUiReveal())}),[C,I]),z=(0,ll.useMemo)((function(){return[gE.a[f.JM.PLAYLIST],gE.a[f.JM.FOLDER],gE.a[f.JM.TRACK],gE.a[f.JM.ALBUM],gE.a[f.JM.EPISODE]]}),[]),K="spotify:folder:".concat(null===(t=(0,f.EC)(n.uri))||void 0===t?void 0:t.id);return(0,dl.jsx)(Yh.ZP,{value:"row",index:c,children:(0,dl.jsx)(XP._,{menu:(0,dl.jsx)(JU.A,{reference:n,onRename:T,onCreateCallback:R}),onShow:W,children:(0,dl.jsxs)(YU,{uri:n.uri,indentation:r,name:n.name,allowedDropTypes:z,onDrop:A,onDragOverItem:o,onDelete:M,expandFolder:R,spec:I,children:[(0,dl.jsx)(QU,{uri:K,name:n.name,isRenaming:w,onRename:D,onKeyDown:G,onDoubleClick:H,spec:I,children:n.name}),(0,dl.jsx)(Jm.o,{"aria-label":v.ag.get("sidebar.expand_folder"),iconOnly:HI.i,buttonSize:"sm",condensedAll:!0,onClick:L,tabIndex:-1,className:Tc()(FU,(0,P.Z)({},LU,s(n.uri)))})]})})})})),$U=n(12182),eZ=(0,ll.memo)((function(e){var t=e.indentation,n=e.onDragOverItem,r=e.resolveItem,a=e.playlistName,o=e.reference,s=e.canAdd,l=e.couldBePlayable,c=e.isCollaborative,u=e.index,d=e.spec,p=o.uri,m=(0,ll.useState)(a),g=(0,i.Z)(m,2),h=g[0],k=g[1],y=(0,ll.useState)(!1),b=(0,i.Z)(y,2),S=b[0],x=b[1],O=(0,cu.o)(),w=(0,Xk.l)(),N=w.addPlaylists,E=w.movePlaylists,C=w.moveFolder,P=(0,bm.Yv)(p).updateDetails,I=(0,nl.I0)(),j=(0,vu.$P)(),A=(0,ll.useMemo)((function(){return d.rootlistItemFactory({position:u,uri:p})}),[u,p,d]),T=(0,U_.n)({uri:p},{featureIdentifier:"playlist",referrerIdentifier:"playlists_sidebar"}),D=T.isPlaying,R=T.togglePlay,F=T.isActive;(0,ll.useEffect)((function(){k(a)}),[a]);var L=(0,ll.useCallback)((function(e,t){var n=[].concat((0,_.Z)(t[gE.a[f.JM.ALBUM]]||[]),(0,_.Z)(t[gE.a[f.JM.TRACK]]||[]),(0,_.Z)(t[gE.a[f.JM.LOCAL]]||[]),(0,_.Z)(t[gE.a[f.JM.EPISODE]]||[]));if(n.length>0)I((0,uS.jV)(p,n)),O({targetUri:p,intent:"add",type:"drop"}),j.logInteraction(A.dragAddToPlaylist({itemToBeAdded:n[0],playlist:p}));else{var i=t.all[0],a=r(i),s=e.target.getBoundingClientRect(),l=s.top,c=s.height,u=e.clientY<l+c/2;a?((0,Ia.lU)(a)?C(a,u?{before:o}:{after:o}):E(a,u?{before:o}:{after:o}),j.logInteraction(d.dragSort())):(N(t.all,u?{before:o}:{after:o}),j.logInteraction(d.dragLike({itemToBeLiked:i})))}}),[I,p,O,j,A,r,d,C,o,E,N]),M=(0,ll.useCallback)((function(){var e=j.logInteraction(A.pauseButtonFactory().hitPause({itemToBePaused:p}));R({loggingParams:e})}),[j,p,A,R]),U=(0,ll.useCallback)((function(){if(l){var e;e=F?D?A.doubleHitPause({itemToBePaused:p}):A.doubleHitResume({itemToBeResumed:p}):A.doubleHitPlay({itemToBePlayed:p});var t=j.logInteraction(e);R({loggingParams:t})}}),[l,F,D,j,p,A,R]),Z=(0,ll.useCallback)((function(){x(!0)}),[]),B=(0,ll.useCallback)((function(e){e&&e!==a&&(k(e),P({name:e})),x(!1)}),[a,P]),V=(0,ll.useCallback)((function(){I((0,el.p_)(p))}),[I,p]),H=(0,ll.useCallback)((function(e){e.repeat||("Backspace"!==e.key&&"Delete"!==e.key||(V(),j.logInteraction(A.keyStrokeDeletePlaylist({playlistToBeDeleted:p}))),"Enter"===e.key&&R())}),[V,j,p,A,R]),G=(0,ll.useCallback)((function(){j.logInteraction(A.secondaryHitUiReveal())}),[j,A]),W=(0,ll.useMemo)((function(){return s?[gE.a[f.JM.ALBUM],gE.a[f.JM.TRACK],gE.a[f.JM.LOCAL],gE.a[f.JM.EPISODE]]:[]}),[s]);return(0,dl.jsx)(Yh.ZP,{value:"row",index:u,children:(0,dl.jsx)(md._P,{menu:(0,dl.jsx)($U.j,{reference:o,onRename:Z}),onShow:G,children:(0,dl.jsxs)(YU,{uri:p,indentation:t,name:h,allowedDropTypes:W,onDrop:L,onDragOverItem:n,onDelete:V,spec:A,children:[(0,dl.jsx)(QU,{uri:p,name:h,isRenaming:S,onRename:B,onDoubleClick:U,onKeyDown:H,spec:A,children:h}),(0,dl.jsx)("div",{className:zU,children:D?(0,dl.jsx)(FM,{className:GU,onClick:M,size:12}):(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(vU.$,{uri:p,size:12}),c&&(0,dl.jsx)(Ru.w,{label:v.ag.get("sidebar.collaborative_playlist"),children:(0,dl.jsx)("span",{"aria-label":v.ag.get("sidebar.collaborative_playlist"),children:(0,dl.jsx)(jD.R,{iconSize:12})})})]})})]})})})})),tZ=n(16547),nZ=(n(61391),32),iZ=function(){var e=(0,_U.C)(),t=(0,bm.lh)().createFolder,n=(0,vu.fU)(OU.createDesktopRootlistEventFactory,{}).spec,r=(0,ll.useRef)(null),a=(0,ll.useRef)(null),o=(0,Kc.z)("expanded-folder",[]),s=(0,i.Z)(o,2),l=s[0],c=void 0===l?[]:l,u=s[1],d=(0,ll.useCallback)((function(e){var t;return c.includes(null===(t=(0,f.EC)(e))||void 0===t?void 0:t.id)}),[c]),p=(0,ll.useMemo)((function(){if(!e)return[];return function e(t,n){return t.reduce((function(t,i){return((0,Ia.lU)(i)||(0,Ia.no)(i))&&i.name&&(t.push({rootlistItem:i,depth:n}),(0,Ia.lU)(i)&&d(i.uri)&&(t=t.concat(e(i.items,n+1)))),t}),[])}(e.items,0)}),[e,d]),m=(0,ll.useMemo)((function(){return p.reduce((function(e,t,n){return e[t.rootlistItem.uri]=n,e}),{})}),[p]),h=(0,ll.useCallback)((function(e){var t=(0,_.Z)(c);e.forEach((function(e){var n,i=null===(n=(0,f.EC)(e))||void 0===n?void 0:n.id;t.includes(i)||t.push(i)})),t.length>c.length&&u(t)}),[c,u]);!function(e,t,n,i){var r=(0,ll.useRef)(""),a=(0,lc.TH)(),o=(0,ll.useMemo)((function(){if(!n)return{};var e={};return function t(n,i){n.forEach((function(n){(0,Ia.lU)(n)&&t(n.items,[].concat((0,_.Z)(i),[n.uri])),e[n.uri]=i}))}(n.items,[]),e}),[n]),s=(0,ll.useCallback)((function(t){if(e.current){var n=e.current,i=n.scrollTop,r=n.offsetHeight;if(t<i||t>i+r){var a=t-r/2;e.current.scrollTop=a}}}),[e]);(0,ll.useEffect)((function(){var n;if(e.current){var l=null===(n=(0,f.EC)(a.pathname))||void 0===n?void 0:n.toURI();if(l&&l!==r.current){var c,u=t[l];Number.isInteger(u)?(s(u*nZ),r.current=l):i(null!==(c=o[l])&&void 0!==c?c:[])}}}),[t,a,s,e,i,o])}(a,m,e,h);var k=(0,ll.useCallback)((function(){return t(v.ag.get("playlist.default_folder_name"),{before:"start"})}),[t]);(0,g.eY)(g.O4.CREATE_NEW_FOLDER,k);var y=(0,ll.useCallback)((function(e){r.current&&(e.currentTarget.contains(e.relatedTarget)||(r.current.style.display="none"))}),[]),b=(0,ll.useCallback)((function(){r.current&&(r.current.style.display="none")}),[]),S=(0,ll.useCallback)((function(e,t,n){if(r.current&&a.current)if(n){var i=a.current.getBoundingClientRect().top;r.current.style.display="block",r.current.style.top="".concat(e-i+a.current.scrollTop,"px"),r.current.style.setProperty("--indentation",t+1)}else r.current.style.display="none"}),[]),x=(0,ll.useCallback)((function(e){var t,n=null===(t=(0,f.EC)(e))||void 0===t?void 0:t.id,i=d(e),r=c.filter((function(e){return e!==n}));i||r.push(n),u(r)}),[c,d,u]),O=(0,ll.useCallback)((function(t){for(var n=[e];n.length>0;){var i=n.pop();if(!i)return null;for(var r=0;r<i.items.length;r++){var a=i.items[r];if((0,Ba.U4)(a.uri,t))return a;(0,Ia.lU)(a)&&n.push(a)}}return null}),[e]),w=(0,ll.useCallback)((function(e,t){return p.slice(e,t+1).reduce((function(t,i,r){var a=i.rootlistItem,o=i.depth;if((0,Ia.lU)(a)&&t.push((0,dl.jsx)(XU,{folder:a,indentation:o,resolveItem:O,onDragOverItem:S,isExpanded:d,onToggleExpandedClick:x,index:e+r,spec:n},a.uri)),(0,Ia.no)(a)){if((0,ks.MW)(a.uri))return t;t.push((0,dl.jsx)(eZ,{indentation:o,resolveItem:O,onDragOverItem:S,reference:a,playlistName:a.name,canAdd:a.canAdd,couldBePlayable:a.totalLength>0,isCollaborative:(0,EU.c)(a),index:e+r,spec:n},a.uri))}return t}),[])}),[p,S,x,d,O,n]);return e?(0,dl.jsx)(XP._,{menu:(0,dl.jsx)(tZ.a,{position:{before:"start"},onCreateCallback:function(){}}),children:(0,dl.jsx)("div",{className:VU,children:(0,dl.jsxs)(zx.U,{className:TU,ref:function(e){e&&!a.current&&(a.current=e.osInstance().getElements().viewport)},children:[(0,dl.jsx)(wU.A,{"":"rootlist",onDragLeave:y,onDrop:b,circular:!1,children:(0,dl.jsx)(NU.V,{renderRows:w,nrRows:p.length,rowHeight:nZ,scrollNodeRef:a})}),(0,dl.jsx)("div",{className:DU,ref:r})]})})}):null},rZ=function(e){var t=e.isAnonymous,n=e.children;return(0,dl.jsx)(il.L,{onError:function(e){return(0,Ls.vK)(e,"RootlistContainer")},children:(0,dl.jsx)(Yh.ZP,{value:"rootlist",children:(0,dl.jsx)("div",{className:CU,"":"rootlist-container",children:(0,dl.jsxs)("div",{className:PU,children:[n,!t&&(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsxs)("div",{className:IU,children:[(0,dl.jsx)("hr",{className:jU}),(0,dl.jsx)("div",{className:AU})]}),(0,dl.jsx)(iZ,{})]})]})})})})},aZ=n(84371),oZ=ll.memo(ll.forwardRef((function(e,t){var n,i=(0,nl.I0)(),r=(0,lc.TH)(),a=(0,nl.v9)((function(e){return e.platform.isBrowser})),o=(0,aR.g)(),s=(0,ks._n)(),l=(0,aC.k)({type:"locale",uri:""})?(0,ms.is)("/",v.ag.getUrlLocale()):"/",c=(0,vu.fU)(AM.createDesktopRootNavigationEventFactory,{}),u=c.spec,d=c.logger,p=(0,ll.useMemo)((function(){return u.libraryButtonFactory()}),[u]),m=(0,ll.useMemo)((function(){return u.createPlaylistButtonFactory()}),[u]),f=(0,ll.useMemo)((function(){return u.likedSongsButtonFactory()}),[u]),g=(0,ll.useMemo)((function(){return u.yourEpisodesButtonFactory()}),[u]),h=(0,ll.useCallback)((function(e){if(o)return d.logInteraction(p.hitUiReveal()),i((0,mc.G1)("/collection")),void(null==e||e.preventDefault());d.logInteraction(p.hitUiNavigate({destination:"spotify:app:collection"}))}),[o,p,d,i]),k=(0,ll.useCallback)((function(e){o||d.logInteraction(p.dragLike({itemToBeLiked:e}))}),[o,p,d]),y=(0,ll.useMemo)((function(){return u.homeButtonFactory()}),[u]),b=(0,ll.useCallback)((function(){d.logInteraction(y.hitUiNavigate({destination:"spotify:app:home"}))}),[y,d]),S=(0,ll.useMemo)((function(){return u.searchButtonFactory()}),[u]),x=(0,ll.useCallback)((function(){d.logInteraction(S.hitUiNavigate({destination:"spotify:app:search"}))}),[S,d]);return(0,dl.jsxs)("div",{className:aZ.Z.navBar,children:[a&&(0,dl.jsx)("div",{className:aZ.Z.banner,role:"banner",children:(0,dl.jsx)(Yh.ZP,{value:"spotify-logo",children:(0,dl.jsx)(Gm.Z,{className:aZ.Z.logo,hasText:!0,customLink:l})})}),(0,dl.jsxs)("ul",{className:aZ.Z.entryPoints,children:[(0,dl.jsx)("li",{className:Tc()(aZ.Z.navBarItem,"InvalidDropTarget"),children:(0,dl.jsx)(Yh.ZP,{value:"0/browse",children:(0,dl.jsxs)(fM.O,{to:l,referrer:"home",className:Tc()("link-subtle",aZ.Z.navBarLink,(0,P.Z)({},aZ.Z.navBarLinkActive,"/"===r.pathname)),onClick:b,children:[(0,dl.jsx)(dM.A,{className:"home-icon","aria-hidden":"true"}),(0,dl.jsx)(pM.v,{className:"home-active-icon","aria-hidden":"true"}),(0,dl.jsx)(au.D,{variant:"mestoBold",className:"ellipsis-one-line",children:v.ag.get("view.web-player-home")})]})})}),(0,dl.jsx)("li",{className:Tc()(aZ.Z.navBarItem,"InvalidDropTarget"),children:(0,dl.jsx)(Yh.ZP,{value:"1/search",children:(0,dl.jsxs)(fM.O,{to:"/search",referrer:"search",className:Tc()("link-subtle",aZ.Z.navBarLink,(0,P.Z)({},aZ.Z.navBarLinkActive,r.pathname.startsWith("/search")||"search"===(null===(n=r.state)||void 0===n?void 0:n.pageId))),onClick:x,children:[(0,dl.jsx)(Wj.j,{className:"search-icon","aria-hidden":"true"}),(0,dl.jsx)(mM.g,{className:"search-active-icon","aria-hidden":"true"}),(0,dl.jsx)(yM,{children:(0,dl.jsx)(au.D,{variant:"mestoBold",className:"ellipsis-one-line",children:v.ag.get("navbar.search")})})]})})}),(0,dl.jsx)("li",{className:aZ.Z.navBarItem,children:(0,dl.jsxs)(RP,{uri:"spotify:user:@:collection",to:"/collection",onDrop:k,onNavigate:h,className:aZ.Z.navBarItemDropTarget,children:[(0,dl.jsx)(cD,{children:(0,dl.jsx)(Yh.ZP,{value:"2/collection",children:(0,dl.jsxs)(fM.O,{to:"/collection",referrer:"your_library",className:Tc()("link-subtle",aZ.Z.navBarLink,(0,P.Z)({},aZ.Z.navBarLinkActive,r.pathname.startsWith("/collection")&&"/collection/tracks"!==r.pathname&&"/collection/episodes"!==r.pathname)),onClick:h,children:[(0,dl.jsx)(IM.$,{className:"collection-icon","aria-hidden":"true"}),(0,dl.jsx)(jM.n,{className:"collection-active-icon","aria-hidden":"true"}),(0,dl.jsx)(au.D,{variant:"mestoBold",className:"ellipsis-one-line",children:v.ag.get("navbar.your-library")}),(0,dl.jsx)(rU,{})]})})}),(0,dl.jsx)(dU,{})]})})]}),(0,dl.jsxs)(rZ,{isAnonymous:o,children:[(0,dl.jsx)(tU,{spec:m}),(0,dl.jsx)(kU,{spec:f}),(0,dl.jsx)(xU,{spec:g}),s&&(0,dl.jsx)(KM,{})]}),(0,dl.jsx)(pU.Z,{ref:t,isAnonymous:o})]})})));const sZ="main-navBar-mainNav";function lZ(e){var t=e.npbVideoAdRef,n=(0,Au.W6)(ys.yA,{loadingValue:!1});return(0,dl.jsx)("nav",{className:sZ,"aria-label":v.ag.get("sidebar.a11y.landmark-label"),children:(0,dl.jsx)(Yh.ZP,{value:"nav-bar",children:n?(0,dl.jsx)(PM,{npbVideoAdRef:t}):(0,dl.jsx)(oZ,{ref:t})})})}const cZ="Root__main-view",uZ="Root__top-container--right-sidebar-hidden";function dZ(e){var t=e.children,n=(0,Uh.m)();return(0,dl.jsx)("div",{className:Tc()(cZ,(0,P.Z)({},uZ,n===Mh.s.Disabled)),children:t})}const pZ="Root__right-sidebar";function mZ(e){var t=e.children;return(0,dl.jsx)("div",{className:pZ,children:t})}const fZ="Root__now-playing-bar";function vZ(e){var t=e.children,n=(0,Ny.Oh)().nowPlayingBarRef;return(0,dl.jsx)("div",{ref:n,className:fZ,children:t})}var gZ=n(68961),hZ=n.n(gZ),kZ=n(23047);function yZ(){var e=document.createElement("canvas"),t=e.getContext("2d");return t&&(function(e){e.beginPath(),e.fillStyle="rgb(0, 200, 255)",e.arc(50,50,50,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath()}(t),function(e){e.textBaseline="top",e.font="13pt Arial",e.textBaseline="alphabetic",e.fillStyle="rgb(255, 5, 5)",e.rotate(.8),e.fillText("random#$%^@£éú",4,17),e.fillStyle="rgb(165,205,5)",e.shadowBlur=8,e.shadowColor="green",e.fillRect(20,12,105,5)}(t)),e}var bZ=function(){var e=(0,Tu.s4)();return(0,ll.useEffect)((function(){var t=yZ().toDataURL("image/png"),n=hZ()(t);e.send((0,kZ.x)({h:n}))}),[e]),null},SZ=!1,xZ=function(){return!(0,Au.W6)(ys.gO)||SZ?null:(SZ=!0,(0,dl.jsx)(bZ,{}))};function OZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OZ(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NZ=function(e){var t=e.accessTokenIsSet,n=e.ui,i=e.onClose,r=e.onBrowserNotSupported,a=e.onCloseFullscreenMode,o=e.onReachUsableState,s=e.isVideoSupported,l=e.isDesktop,c=e.billboardMinimized,u=e.isDeveloperMode,d=e.adsEnabled,p=e.children,m=(0,Au.W6)(ys.yA,{loadingValue:!1}),f=(0,eM.Y)(),y=(0,ll.useContext)(g.r$);(0,ll.useEffect)((function(){document.body.classList[m?"add":"remove"]("ylx")}),[m]),(0,ll.useEffect)((function(){m?y.setTitlebarHeight(BA.H):y.setTitlebarHeight(BA.m)}),[y,m]);var b,S,x=(0,h.ZO)()===k.W.Desktop,O=(0,ll.useRef)(null),w=(0,ll.useRef)(null),N=(0,ll.useRef)(null),_=(0,ll.useRef)(null),E=(0,ll.useRef)(null),C=(0,ll.useRef)(null),P=(0,ll.useRef)(null),I=(0,ll.useRef)(null),j=(0,ll.useRef)(null),A=(0,ll.useRef)(null),T=(0,ll.useRef)(null),D=(0,lc.TH)(),R=!x&&"/lyrics"!==D.pathname;b=x,S=(0,lc.s0)(),(0,ll.useEffect)((function(){var e=function(e){b&&(3===e.button?S(-1):4===e.button&&S(1))};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[b,S]),function(e){(0,ll.useEffect)((function(){if(e){var t=function(e){var t=e.target;["INPUT","TEXTAREA"].includes(t.tagName)||e.preventDefault()};return document.addEventListener("contextmenu",t),function(){document.removeEventListener("contextmenu",t)}}}),[e])}(!u),function(e){var t=e.onBrowserNotSupported,n=e.onReachUsableState;(0,ll.useEffect)((function(){var e=me().getParser(window.navigator.userAgent);e.satisfies({chrome:"<62"})||e.satisfies({edge:"<16"})?t(v.ag.get("browser_upgrade_notice",e.getBrowserName())):n("home")}),[t,n])}({onBrowserNotSupported:r,onReachUsableState:o}),wP();var F=(0,f_.U)().isCollapsed,L=(0,Ey.o)().isExpanded&&F&&m,M=function(){var e=(0,ll.useCallback)((function(e){e.preventDefault(),document.body.removeAttribute("data-dragging-type"),document.body.removeAttribute("data-dragging-uri-type")}),[]),t=(0,ll.useCallback)((function(e){document.body.removeAttribute("data-dragging-type"),document.body.removeAttribute("data-dragging-uri-type")}),[]),n=(0,ll.useCallback)((function(e){e.preventDefault()}),[]);return{handleDrop:e,handleDragStart:(0,ll.useCallback)((function(e){e.target instanceof Element&&"true"!==e.target.getAttribute("draggable")&&(e.preventDefault(),e.stopPropagation())}),[]),handleDragEnd:t,handleDragOver:n}}(),U=M.handleDrop,Z=M.handleDragStart,B=M.handleDragEnd,V=M.handleDragOver;(0,ll.useEffect)((function(){window&&window.history&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual")}),[]),(0,ll.useEffect)((function(){y.notifyReadyStateReached()}),[y]);var H=(0,ll.useMemo)((function(){return[(0,dl.jsx)(Zj,{scrollNodeRef:j,scrollNodeChildRef:A}),(0,dl.jsx)(oT.y,{}),(0,dl.jsx)(Ny.aC,{mainLandmarkRef:O,lyricsCinemaRef:E,topbarRef:I,leftSidebarRef:P,nowPlayingBarRef:N}),(0,dl.jsx)(yS,{}),(0,dl.jsx)(Sh.Z,{}),(0,dl.jsx)(Ih,{}),(0,dl.jsx)(Tf,{}),(0,dl.jsx)(MA,{}),(0,dl.jsx)(ZA.jg,{}),(0,dl.jsx)($L.r7,{})]}),[]);return(0,dl.jsxs)(Em,{providers:H,children:[(0,dl.jsxs)("div",{"":"root",className:Tc()("Root encore-dark-theme",{"nav-ylx":m}),style:{"--panel-gap":"".concat(f,"px")},onDrop:U,onDragOver:V,onDragStart:Z,onDragEnd:B,children:[(0,dl.jsx)(IS,{message:n.unsupportedBrowser.isOpen?n.unsupportedBrowser.message:null,allowHTML:!0,onClose:i,isNotSupported:!0}),(0,dl.jsxs)(rM,{children:[(0,dl.jsx)(lM,{children:(0,dl.jsx)(Yh.ZP,{value:"top-bar",children:(0,dl.jsx)(XR,{})})}),(0,dl.jsxs)(uM,{children:[(0,dl.jsx)(lZ,{npbVideoAdRef:w}),(0,dl.jsx)(Lj,{elementRef:P})]}),(0,dl.jsx)(vZ,{children:(0,dl.jsx)(FI,{})}),(0,dl.jsxs)(dZ,{children:[(0,dl.jsxs)("div",{className:"main-view-container",children:[(0,dl.jsx)("div",{className:"under-main-view"}),(0,dl.jsxs)(zx.U,{className:"main-view-container__scroll-node",ref:function(e){e&&!j.current&&(j.current=e.osInstance().getElements().viewport)},options:{sizeAutoCapable:!1},children:[(0,dl.jsx)("div",{className:"main-view-container__scroll-node-child-spacer"}),(0,dl.jsx)("div",{ref:A,className:Tc()("main-view-container__scroll-node-child",{"main-view-container__scroll-node-child--is-floating-cover-art-expanded-with-ylx-sidebar":L}),style:{minHeight:"calc(100vh - ".concat(64,"px - ").concat(90,"px - ").concat(519,"px)")},children:(0,dl.jsx)(fF,{ref:O,children:(0,dl.jsxs)(il.L,{FallbackComponent:function(){return(0,dl.jsx)(LI.p,{})},onError:function(e){return(0,Ls.vK)(e,"Root")},children:[p,R&&(0,dl.jsx)("div",{className:"main-view-container__mh-footer-container",children:(0,dl.jsx)(XL,{})})]})})})]}),s&&(0,dl.jsx)(ab,{fullscreenModeRef:C,cinemaModeRef:_,npbVideoAdRef:w})]}),(0,dl.jsx)(YL,{}),t&&d&&(0,dl.jsx)(Jk,{}),l&&(0,dl.jsx)("div",{className:Tc()("",{"Root__ads-container-desktop--is-hidden":!c}),children:(0,dl.jsx)(Gk,{})}),(0,dl.jsx)("div",{className:"Root__modal-slot"})]}),(0,dl.jsx)(mZ,{children:(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(NL,{})})}),(0,dl.jsx)("div",{id:"lyrics-cinema",className:"Root__lyrics-cinema",ref:E}),(0,dl.jsx)(oM,{ref:_}),(0,dl.jsx)(oM,{children:(0,dl.jsx)(pb,{})})]}),n.deletePlaylistDialog.isOpen&&(0,dl.jsx)(Yh.ZP,{value:"delete-playlist-modal",children:(0,dl.jsx)(ay,{})}),n.deleteFolderDialog.isOpen&&(0,dl.jsx)(Yh.ZP,{value:"delete-folder-modal",children:(0,dl.jsx)(ey,{})}),n.removeFromLibraryDialog.isOpen&&(0,dl.jsx)(Yh.ZP,{value:"delete-folder-modal",children:(0,dl.jsx)(qL,{})}),n.premiumDialog.isOpen&&(0,dl.jsx)(Yh.ZP,{value:"premium-modal",children:(0,dl.jsx)(yj,{})}),n.loginToListenDialog.isOpen&&(0,dl.jsx)(Yh.ZP,{value:"login-to-listen-modal",children:(0,dl.jsx)(nx,{})}),n.signupToListenDialog.isOpen&&(0,dl.jsx)(Yh.ZP,{value:"signup-to-listen-modal",children:(0,dl.jsx)(Dj,{})}),n.improvedSignupPromptDialog.isOpen&&(0,dl.jsx)(Wb,{uri:n.improvedSignupPromptDialog.uri}),n.removeDownloadsDialog.isOpen&&(0,dl.jsx)(uF,{}),n.clearCacheDialog.isOpen&&(0,dl.jsx)(dF,{}),n.renameFolderModal.isOpen&&(0,dl.jsx)(TL,{name:n.renameFolderModal.name,onRename:n.renameFolderModal.handleRename}),n.removeDownloadConfirmationDialog.isOpen&&(0,dl.jsx)(RL,wZ({},n.removeDownloadConfirmationDialog)),n.bookConsumptionCapModal.isOpen&&(0,dl.jsx)(tM,{consumptionCapExplanation:n.bookConsumptionCapModal.consumptionCapExplanation}),(0,dl.jsx)(HL,{}),(0,dl.jsx)(xZ,{}),(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(mh,{})}),(0,dl.jsx)(ll.Suspense,{fallback:null,children:(0,dl.jsx)(pj,{})}),(0,dl.jsx)(Rk.zs,{}),(0,dl.jsx)(hS,{}),(0,dl.jsx)(FS,{}),(0,dl.jsx)(sf,{}),l&&(0,dl.jsx)(Rv,{}),(0,dl.jsx)(Av,{}),(0,dl.jsx)(UA.K,{languageSelectionModalRef:T}),(0,dl.jsx)(yv,{}),(0,dl.jsx)(kb,{}),(0,dl.jsx)(vb,{}),(0,dl.jsx)(cS,{}),(0,dl.jsx)(Uf,{}),(0,dl.jsx)(Vj,{}),(0,dl.jsx)(gF,{}),(0,dl.jsx)(AA,{}),(0,dl.jsx)(bh,{}),n.trackCreditsModal.isOpen&&(0,dl.jsx)(ig,{}),(0,dl.jsx)("div",{ref:T}),(0,dl.jsx)(il.L,{onError:function(e){a(),(0,Ls.vK)(e,"FullscreenMode")},children:(0,dl.jsx)(Dk,{videoRef:C})})]}),(0,dl.jsx)(og,{})]})},_Z=function(e){var t=e.children,n=(0,lc.s0)(),i=(0,lc.TH)(),r=(0,nl.I0)(),a=(0,Tu.tc)(),o=(0,nl.v9)((function(e){return e.session.accessToken})),s=(0,nl.v9)((function(e){return e.ui})),l=(0,ll.useContext)(g.r$),c=(0,nl.v9)((function(e){return e.platform.isDesktop?e.ads.root.adsEnabled:!!e.session.productState&&1===parseInt(e.session.productState.ads,10)})),u=(0,nl.v9)((function(e){return!!e.ads.billboard&&e.ads.billboard.isMinimized})),d=(0,nl.v9)((function(e){return e.platform})),p=d.isDesktop,m=d.isDeveloperMode,f=d.isVideoSupported,v=s.errorPage.isError,h=s.errorPage.name,k=!!o;return(0,ll.useEffect)((function(){r(el.Oy())}),[r]),(0,ll.useEffect)((function(){l.notifyViewLoaded(i.pathname)}),[l,i.pathname]),(0,ll.useEffect)((function(){Bm({locationSearch:i.search,navigate:n,logDialog:function(){a.getEventSender().send(Zm({os:(0,de.y)()}))},showDialog:function(){r(el.D8())}})}),[r,i.search,n,a]),(0,ll.useEffect)((function(){Fm({isPremiumUser:!1,locationSearch:i.search,navigate:n,logNavigation:function(){return a.getEventSender().send((0,Dm.t)({category:"open",action:"pageview",label:"login",destination_url:"open.spotify.com",os:(0,de.y)()}))},showDialog:function(){r(el.HU())}})})),v?(0,dl.jsx)(qm,{errorName:h}):(0,dl.jsx)(g.r$.Consumer,{children:function(e){return(0,dl.jsx)(NZ,{billboardMinimized:u,isVideoSupported:f,onReachUsableState:function(t){e.notifyUsableStateReached(t)},accessTokenIsSet:k,ui:s,onClose:function(){r(el.lW())},onBrowserNotSupported:function(e){r(el.Id(e))},onCloseFullscreenMode:function(){r(el.oH())},isDesktop:p,isDeveloperMode:m,adsEnabled:c,children:t})}})},EZ=n(53361),CZ=n(78960);function PZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function IZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PZ(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jZ="auth_redirect";function AZ(e,t){return t?"spotify:playlist-format:".concat(e,":").concat(t):"spotify:playlist-format:".concat(e)}var TZ={uri:null,error:null};function DZ(e,t){switch(t.type){case"SUCCESS":return IZ(IZ({},e),{},{uri:t.uri});case"FAILURE":return IZ(IZ({},e),{},{error:t.error});default:throw new Error}}var RZ=function(e){var t,n=e.isAnonymous,r=e.playlistFormatURI,a=(0,ll.useContext)(bm.ZF),o=(0,ll.useReducer)(DZ,TZ),s=(0,i.Z)(o,2),l=s[0],c=s[1];if((0,ll.useEffect)((function(){n&&window.location.hash!=="#".concat(jZ)?(window.location.hash=jZ,(0,Ms.h$)()):a.resolvePlaylistFormatURI(r).then((function(e){return c({type:"SUCCESS",uri:e})})).catch((function(e){return c({type:"FAILURE",error:e})}))}),[a,n,r,c]),null!==l.uri){var u=(t=l.uri,(0,f.EC)(t).id);return(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/playlist/".concat(u)})}return(0,dl.jsx)(Tm.h,{hasError:null!==l.error,errorMessage:v.ag.get("error.not_found.title.playlist"),timeoutInMs:5e3})},FZ=ll.memo((function(e){var t=e.isAnonymous,n=(0,lc.UO)(),i=n.title,r=void 0===i?"":i,a=n.category;return(0,dl.jsx)(RZ,{isAnonymous:t,playlistFormatURI:AZ(r,a)})})),LZ=n(5556),MZ=n(82166),UZ=n(44813);function ZZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function BZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZZ(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VZ=(0,ll.lazy)((function(){return n.e(8059).then(n.bind(n,38354))}));var HZ=n(57558);function GZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function WZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GZ(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zZ=(0,ll.lazy)((function(){return n.e(6923).then(n.bind(n,91441))}));function KZ(e){return{allShowSponsorsRoute:{isShowSponsorsEnabled:(0,Au.W6)(ys.$f)}.isShowSponsorsEnabled?(0,dl.jsx)(lc.AW,{path:(0,HZ.D)(LZ.j),element:(0,dl.jsx)(zZ,WZ({},e))},"all-show-sponsors"):null}}function YZ(){var e,t=(0,lc.TH)(),n=null!==(e=(0,lc.UO)()["*"])&&void 0!==e?e:"",i="/".concat(n).concat(t.search),r=t.pathname+t.search;return(0,dl.jsx)(lc.Fg,{to:i===r?"/".concat(t.search):i,replace:!0})}var qZ=n(70571),QZ=n(45099),JZ=n(22679),XZ=n(42957);const $Z=function(){var e=(0,lc.TH)().state.playlistUri,t=(0,QZ.OO)(QZ.Tg.MUSIC_SEE_ALL),n=(0,nl.v9)(JZ.v);return n?(0,dl.jsx)("div",{className:"contentSpacing",children:(0,dl.jsx)(XZ.Z,{leavebehinds:n.slice(0,qZ.fz),surface:t,playlistUri:e})}):null};var eB=(0,ll.lazy)((function(){return n.e(9540).then(n.bind(n,7115)).then((function(e){return{default:e.AlbumPrerelease}}))})),tB=n(54334),nB=function(e){return(0,dl.jsx)(tB.K,{pageId:EZ.Wg.PRERELEASE,children:e})},iB=function(){var e=(0,lc.UO)().id;if(!e)return nB((0,dl.jsx)(Tm.h,{hasError:!0,errorMessage:v.ag.get("error.not_found.title.album")}));var t=(0,f.vo)(e);return nB((0,dl.jsx)(eB,{uri:t.toString()},e))},rB=function(){return(0,Au.W6)(ys.eQ,{loadingValue:!1})?(0,dl.jsx)(lc.AW,{path:"/prerelease/:id",element:(0,dl.jsx)(iB,{})},"album-prerelease"):(0,dl.jsx)(lc.AW,{path:"/prerelease/:id",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})},"album-prerelease")},aB=n(78689);function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var sB=function(e){return"spotify:cultural-moment:hub:".concat(e)},lB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(5103),n.e(8420)]).then(n.bind(n,89861))})),cB=function(e){var t=(0,lc.UO)().id,n=void 0===t?"":t;return(0,dl.jsx)(lB,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oB(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uri:sB(n),id:n},e))},uB=(0,ll.lazy)((function(){return Promise.all([n.e(1814),n.e(9694)]).then(n.bind(n,76176))})),dB=(0,ll.lazy)((function(){return n.e(1997).then(n.bind(n,74393))})),pB=(0,ll.lazy)((function(){return Promise.all([n.e(1814),n.e(5103),n.e(2760),n.e(7704)]).then(n.bind(n,50968))})),mB=(0,ll.lazy)((function(){return Promise.all([n.e(1814),n.e(5103),n.e(2760),n.e(5070)]).then(n.bind(n,86603))})),fB=function(){var e=(0,lc.UO)().sectionId;return(0,dl.jsx)(mB,{uri:"spotify:section:".concat(e)})},vB=function(e){var t=e.isDesktop,n=e.isPremium,i=e.isOffline;return(0,dl.jsxs)(dl.Fragment,{children:[(0,dl.jsx)(VD,{}),t&&(0,dl.jsx)(uB,{}),t&&n&&i&&(0,dl.jsx)(dB,{}),!i&&(0,dl.jsx)(pB,{})]})},gB=n(58827),hB=n(2409),kB=n(80487),yB=n(14224);function bB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function SB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bB(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(2342)]).then(n.bind(n,45286))})),OB=ll.lazy((function(){return Promise.resolve().then(n.bind(n,6486))})),wB=ll.lazy((function(){return Promise.all([n.e(2465),n.e(730)]).then(n.bind(n,59668))})),NB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(2465),n.e(4179)]).then(n.bind(n,4978))})),_B=ll.lazy((function(){return Promise.all([n.e(1814),n.e(2499)]).then(n.bind(n,42068))})),EB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(708)]).then(n.bind(n,20151))})),CB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(7521)]).then(n.bind(n,28359))})),PB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(7288)]).then(n.bind(n,90706))})),IB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(8387)]).then(n.bind(n,56194))})),jB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(6309)]).then(n.bind(n,62066))})),AB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(4125),n.e(7553)]).then(n.bind(n,11425))})),TB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(7924),n.e(1289)]).then(n.bind(n,87915))})),DB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(7379)]).then(n.bind(n,33155))})),RB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(5835)]).then(n.bind(n,46546))})),FB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(5103),n.e(1780),n.e(7924),n.e(2219)]).then(n.bind(n,58159))})),LB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(5103),n.e(1780),n.e(8785)]).then(n.bind(n,11858))})),MB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(4125),n.e(3878)]).then(n.bind(n,4493))})),UB=ll.lazy((function(){return n.e(7985).then(n.bind(n,93506))})),ZB=ll.lazy((function(){return Promise.resolve().then(n.bind(n,2409))})),BB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(5103),n.e(1780),n.e(6450)]).then(n.bind(n,53410))})),VB=ll.lazy((function(){return n.e(9124).then(n.bind(n,77473))})),HB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(7924),n.e(2156),n.e(5713)]).then(n.bind(n,62805))})),GB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(2156),n.e(3472)]).then(n.bind(n,45917))})),WB=ll.lazy((function(){return n.e(6008).then(n.bind(n,79267))})),zB=ll.lazy((function(){return n.e(5194).then(n.bind(n,44873))})),KB=ll.lazy((function(){return n.e(6025).then(n.bind(n,66137))})),YB=ll.lazy((function(){return Promise.resolve().then(n.bind(n,8643))})),qB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(8123)]).then(n.bind(n,50562))})),QB=ll.lazy((function(){return Promise.all([n.e(1814),n.e(8123)]).then(n.bind(n,85402))})),JB=ll.lazy((function(){return n.e(4570).then(n.bind(n,71390))})),XB=ll.lazy((function(){return n.e(5525).then(n.bind(n,86020))})),$B=ll.lazy((function(){return Promise.resolve().then(n.bind(n,58827))})),eV=function(e){var t=(0,lc.UO)().viewId,n=void 0===t?"":t,i=(0,aB.Xh)(n);return n===hB.RECENTLY_PLAYED_VIEW_ID?(0,dl.jsx)(ZB,SB(SB({},e),{},{showAll:!0})):i?(0,dl.jsx)(aB.w2,{id:n}):(0,dl.jsx)(BB,{viewId:n})},tV=function(){var e=(0,fm.u)();return(0,dl.jsxs)(lc.Z5,{children:[(0,dl.jsx)(lc.AW,{path:"tracks",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.COLLECTION_SONGS,children:(0,dl.jsx)(AB,{})})}),(0,dl.jsx)(lc.AW,{path:"episodes",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.COLLECTION_PODCASTS_EPISODES,children:(0,dl.jsx)(TB,{})})}),(0,dl.jsx)(lc.AW,{path:"your-episodes",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.COLLECTION_PODCASTS_EPISODES,children:(0,dl.jsx)(TB,{})})}),e.canFetchAllTracks&&(0,dl.jsx)(lc.AW,{path:"local-files",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.LOCALFILES,children:(0,dl.jsx)(DB,{})})}),(0,dl.jsx)(lc.AW,{path:"/*",element:(0,dl.jsx)(tB.K,{navigationalRoot:fU.U.COLLECTION,children:(0,dl.jsx)(jB,{})})})]})},nV=function(e){var t=(0,lc.UO)().playlistId;return(0,ll.createElement)(MB,SB(SB({},e),{},{key:t}))},iV=function(e){var t=(0,lc.UO)().artistId;return(0,ll.createElement)(OB,SB(SB({},e),{},{key:t}))},rV=function(e){var t=(0,lc.UO)().albumId;return(0,ll.createElement)(xB,SB(SB({},e),{},{key:t}))},aV=function(){var e,t=(0,lc.TH)(),i=(0,nl.v9)((function(e){return e.features.enableShows})),r=(0,nl.v9)((function(e){return e.platform})),a=r.isDesktop,o=r.isBrowser,s=(0,nl.v9)(ef.Gg),l=s.isAnonymous,c=s.productState,u="premium"===(null==c?void 0:c.product),d=!(0,sh.k)();(0,kB.a)();var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{allEpisodeSponsorsRoute:(0,UZ.m)()?(0,dl.jsx)(lc.AW,{path:(0,MZ.e)(LZ.yO),element:(0,dl.jsx)(VZ,BZ({},e))},"all-episode-sponsors"):null}}(),m=p.allEpisodeSponsorsRoute,f=KZ().allShowSponsorsRoute,v=function(e){var t=e.isDesktop,n=e.isPremium,i=e.isOffline,r=(0,aC.k)({type:"locale",uri:"home"});return[(0,dl.jsx)(lc.AW,{path:"/",element:(0,dl.jsx)(tB.K,{navigationalRoot:fU.U.HOME,pageId:EZ.Wg.HOME,entityUri:"spotify:app:home",children:(0,dl.jsx)(vB,{isDesktop:t,isPremium:n,isOffline:i})})},"home"),r?As.BK.map((function(e){return(0,dl.jsx)(lc.AW,{path:"/".concat(As.F0).concat(e),element:(0,dl.jsx)(tB.K,{navigationalRoot:fU.U.HOME,pageId:EZ.Wg.HOME,entityUri:"spotify:app:home",children:(0,dl.jsx)(vB,{isDesktop:t,isPremium:n,isOffline:i})})},"home-i18n")})):null,(0,dl.jsx)(lc.AW,{path:"/section/:sectionId",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.HOME_DRILLDOWN,children:(0,dl.jsx)(fB,{})})},"home-section")]}({isDesktop:a,isPremium:u,isOffline:d}),g=(0,ks.WM)(),h=[(0,dl.jsx)(lc.AW,{path:"/cultural-moment/hub/:id",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.CULTURALMOMENTSHUB,children:(0,dl.jsx)(cB,{})})},"cultural-moment-hub")],k=rB(),y=(0,gB.usePremiumRoutes)();return(0,dl.jsxs)(lc.Z5,{children:[(0,dl.jsx)(lc.AW,{path:"/user/:userId/collection/your-episodes",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/collection/episodes"})}),(0,dl.jsx)(lc.AW,{path:"/user/:userId/collection/album/:albumId",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/album/:albumId"})}),(0,dl.jsx)(lc.AW,{path:"/user/:userId/collection/artist/:artistId",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/artist/:artistId/saved"})}),(0,dl.jsx)(lc.AW,{path:"/user/:userId/playlist/:playlistId",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/playlist/:playlistId"})}),(0,dl.jsx)(lc.AW,{path:"/browse/genres",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/hub-browse-grid"})}),(0,dl.jsx)(lc.AW,{path:"/browse/newreleases",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/new-releases-page"})}),(0,dl.jsx)(lc.AW,{path:"/browse/discover",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/discover-page"})}),(0,dl.jsx)(lc.AW,{path:"/browse/charts",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/browse-charts-tab"})}),(0,dl.jsx)(lc.AW,{path:"/browse/featured",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})}),(0,dl.jsx)(lc.AW,{path:"/browse",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})}),(0,dl.jsx)(lc.AW,{path:"/daily-mix-hub-page",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/made-for-x-hub"})}),(0,dl.jsx)(lc.AW,{path:"/made-for-you-page",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/made-for-x-hub"})}),(0,dl.jsx)(lc.AW,{path:"/made-for-you",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/made-for-x-hub"})}),(0,dl.jsx)(lc.AW,{path:"/internal/recs/playlist/:playlistId",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/playlist/:playlistId"})}),(0,dl.jsx)(lc.AW,{path:"/settings",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})}),l?[(0,dl.jsx)(lc.AW,{path:"/collection/*",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})},"collection-redirect"),(0,dl.jsx)(lc.AW,{path:"/genre/made-for-x-hub",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})},"made-for-you-redirect")]:[(0,dl.jsx)(lc.AW,{path:"/collection",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/collection/playlists"})},"collection-redirect")],v,g,h,k,y,(0,dl.jsx)(lc.AW,{path:"/user/:userId/collection",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:{search:t.search,pathname:"/collection/tracks"}})}),(0,dl.jsx)(lc.AW,{path:"/search/*",element:(0,dl.jsx)(tB.K,{navigationalRoot:fU.U.SEARCH,children:(0,dl.jsx)(FB,{})})}),(0,dl.jsx)(lc.AW,{path:"/recent-searches",element:(0,dl.jsx)(tB.K,{navigationalRoot:fU.U.SEARCH,pageId:EZ.Wg.SEARCH_RECENT,children:(0,dl.jsx)(LB,{})})}),(0,dl.jsx)(lc.AW,{path:"/collection/*",element:(0,dl.jsx)(tB.K,{children:(0,dl.jsx)(tV,{})})}),(0,dl.jsx)(lc.AW,{path:"/artist/:artistId/*",element:(0,dl.jsx)(tB.K,{children:(0,dl.jsx)(iV,{})})}),(0,dl.jsx)(lc.AW,{path:"/album/:albumId/*",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.ALBUM,children:(0,dl.jsx)(rV,{})})}),(0,dl.jsx)(lc.AW,{path:"/playlist-format/:title",element:(0,dl.jsx)(tB.K,{children:(0,dl.jsx)(FZ,{isAnonymous:l})})}),(0,dl.jsx)(lc.AW,{path:"/playlist-format/:title/:category",element:(0,dl.jsx)(tB.K,{children:(0,dl.jsx)(FZ,{isAnonymous:l})})}),(0,dl.jsx)(lc.AW,{path:"/track/:trackId/*",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.TRACK,children:o?(0,dl.jsx)(NB,{}):(0,dl.jsx)(wB,{})})}),(0,dl.jsx)(lc.AW,{path:"/playlist/:playlistId/see-all-ads",element:(0,dl.jsx)($Z,{})}),(0,dl.jsx)(lc.AW,{path:"/playlist/:playlistId/*",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.PLAYLIST,children:(0,dl.jsx)(nV,{})})}),(0,dl.jsx)(lc.AW,{path:"/user/:username/folder/:folderId",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/folder/:folderId"})}),(0,dl.jsx)(lc.AW,{path:"/folder/:folderId/*",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.COLLECTION_FOLDER,children:(0,dl.jsx)(VB,{})})}),(0,dl.jsx)(lc.AW,{path:"/user/:userId/*",element:(0,dl.jsx)(tB.K,{children:(0,dl.jsx)(_B,{})})}),(0,dl.jsx)(lc.AW,{path:"/genre/corona_news_podcasts",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/corona_news_podcasts-page"})}),(0,dl.jsx)(lc.AW,{path:"/genre/:viewId",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.GENRE,children:(0,dl.jsx)(eV,{})})}),(0,dl.jsx)(lc.AW,{path:"/view/:viewId",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.HOME_DRILLDOWN,children:(0,dl.jsx)(eV,{})})}),(0,dl.jsx)(lc.AW,{path:"/concerts-page",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/concerts"})}),(0,dl.jsx)(lc.AW,{path:"/concerts/location/:location",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.CONCERTS,children:(0,dl.jsx)(RB,{})})}),(0,dl.jsx)(lc.AW,{path:"/concerts",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.CONCERTS,children:(0,dl.jsx)(RB,{})})}),(0,dl.jsx)(lc.AW,{path:"/concert/:concertId",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.CONCERTS_CONCERT,children:(0,dl.jsx)(PB,{})})}),(0,dl.jsx)(lc.AW,{path:"/queue",element:(0,dl.jsx)(tB.K,{navigationalRoot:fU.U.NOW_PLAYING_BAR,pageId:EZ.Wg.NOWPLAYING_QUEUE,children:(0,dl.jsx)(CB,{})})}),(0,dl.jsx)(lc.AW,{path:"/history",element:(0,dl.jsx)(tB.K,{navigationalRoot:fU.U.NOW_PLAYING_BAR,pageId:EZ.Wg.NOWPLAYING_HISTORY,children:(0,dl.jsx)(EB,{})})}),(0,dl.jsx)(lc.AW,{path:"/download",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.DOWNLOAD_DESKTOP,children:(0,dl.jsx)(IB,{})})}),(0,dl.jsx)(lc.AW,{path:"/lyrics",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.LYRICS,children:(0,dl.jsx)(KB,{format:"fullscreen"})})}),(0,dl.jsx)(lc.AW,{path:"/preferences",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.SETTINGS,navigationalRoot:fU.U.SETTINGS,children:(0,dl.jsx)(WB,{})})}),(0,dl.jsx)(lc.AW,{path:"/premium",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.PREMIUM,entityUri:"spotify:app:premium",children:(0,dl.jsx)($B,{})})}),(0,dl.jsx)(lc.AW,{path:"/radio/:entity/:id",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/station/:entity/:id"})}),(0,dl.jsx)(lc.AW,{path:"/station/:entity/:id",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.RADIO_STATION,children:(0,dl.jsx)(YB,{})})}),(0,dl.jsx)(lc.AW,{path:"/new/playlist",element:(0,dl.jsx)(tB.K,{children:(0,dl.jsx)(UB,{})})}),(0,dl.jsx)(lc.AW,{path:"/blend/taste-match/:invitationId",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.BLEND_TASTE_MATCH,children:(0,dl.jsx)(qB,{})})}),(0,dl.jsx)(lc.AW,{path:"/blend/invitation",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.BLEND_INVITATION,children:(0,dl.jsx)(QB,{})})}),(0,dl.jsx)(lc.AW,{path:"/_pong",element:(0,dl.jsx)(XB,{})}),(0,dl.jsx)(lc.AW,{path:"/blend/invitation-page",element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.BLEND_INVITATION,children:(0,dl.jsx)(QB,{})})}),(0,dl.jsx)(lc.AW,{path:"/blend/ci/:playlistId",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/playlist/:playlistId"})}),(0,dl.jsx)(lc.AW,{path:"/blend/party/:id",element:(0,dl.jsx)(JB,{})}),(0,dl.jsx)(lc.AW,{path:"/__noul__",element:(0,dl.jsx)(YZ,{})}),(0,dl.jsx)(lc.AW,{path:"/__noul__/*",element:(0,dl.jsx)(YZ,{})}),i?[(0,dl.jsx)(lc.AW,{path:"/browse/podcasts",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/genre/podcasts-web"})},"podcasts"),f,(0,dl.jsx)(lc.AW,{path:LZ.i$,element:(0,dl.jsx)(HB,{})},LZ.i$),m,(0,dl.jsx)(lc.AW,{path:LZ.yB,element:(0,dl.jsx)(GB,{})},"episode")]:[(0,dl.jsx)(lc.AW,{path:"/browse/podcasts",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})},"podcasts"),(0,dl.jsx)(lc.AW,{path:"/show/*",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})},"show"),(0,dl.jsx)(lc.AW,{path:"/episode/*",element:(0,dl.jsx)(CZ.InstrumentedRedirect,{to:"/"})},"episode")],As.BK.map((function(e){return function(e,t){return[(0,dl.jsx)(lc.AW,{path:"/".concat(As.F0).concat(t,"/track/:trackId"),element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.TRACK,children:e?(0,dl.jsx)(NB,{}):(0,dl.jsx)(wB,{})})},"locale_track"),(0,dl.jsx)(lc.AW,{path:"/".concat(As.F0).concat(t,"/artist/:artistId/*"),element:(0,dl.jsx)(tB.K,{children:(0,dl.jsx)(iV,{})})},"locale_artist"),(0,dl.jsx)(lc.AW,{path:"/".concat(As.F0).concat(t,"/album/:albumId"),element:(0,dl.jsx)(tB.K,{pageId:EZ.Wg.ALBUM,children:(0,dl.jsx)(xB,{})})},"locale_album")]}(o,e)})),(0,dl.jsx)(lc.AW,{path:"/debug/locales",element:ll.lazy((function(){return Promise.all([n.e(1814),n.e(6658)]).then(n.bind(n,35323))}))}),"development"===(null===yB||void 0===yB||null===(e={})||void 0===e?void 0:e.NODE_ENV)&&(0,dl.jsx)(lc.AW,{path:"/debug/devplayground",element:(0,dl.jsx)(zB,{})})]})},oV=(0,ll.memo)((function(){return(0,dl.jsx)(_Z,{children:(0,dl.jsx)(ll.Suspense,{fallback:(0,dl.jsx)(Tm.h,{hasError:!1,errorMessage:"",loadOffline:(0,h.wW)()}),children:(0,dl.jsx)(aV,{})})})}));const sV=function(e){var t=e.store,n=e.platform,i=new tl.QueryClient({defaultOptions:{queries:{notifyOnChangeProps:"tracked"}}}),r=[(0,dl.jsx)(jl.WU,{}),(0,dl.jsx)(Al,{queryClient:i}),(0,dl.jsx)(sl.VG,{}),(0,dl.jsx)(Yl.IW,{}),(0,dl.jsx)(hl,{}),(0,dl.jsx)(jc,{}),(0,dl.jsx)(Oc.ME,{}),(0,dl.jsx)(al.tS,{}),(0,dl.jsx)(Il.du,{}),(0,dl.jsx)(Dl.ye,{}),(0,dl.jsx)(Tl.m9,{}),(0,dl.jsx)(ol.M,{}),(0,dl.jsx)(rl.F,{})];return(0,dl.jsx)(Am,{history:n.getHistory(),children:(0,dl.jsx)(il.L,{onError:function(e){return(0,Ls.vK)(e,"App")},FallbackComponent:Kl,children:(0,dl.jsx)(nl.zt,{store:t,children:(0,dl.jsxs)(jm,{platform:n,children:[(0,dl.jsx)(bc,{eventSender:n.getEventSender()}),(0,dl.jsxs)(Em,{providers:r,children:[(0,dl.jsx)($l,{}),(0,dl.jsx)(Pl,{}),(0,dl.jsx)(wc,{apiInstance:n.getRecaptchaLoggerAPI()}),(0,dl.jsx)(oV,{}),(0,dl.jsx)(Mp,{})]})]})})})})};var lV={pop:"POP",push:"PUSH",replace:"REPLACE"};function cV(e,t){var n=[],i=0;return n.push(e.location),e.listen((function(e,r){r===lV.push&&(i+=1,n.splice(i),n.push(e)),r===lV.pop&&(i=n.findIndex((function(t){return t.key===e.key}))),r===lV.replace&&n.splice(i,1,e),t(uV(i,n))})),t(uV(i,n)),function(e){if(!e.isBrowserBlockerApplied){e.isBrowserBlockerApplied=!0;var t="";e.block((function(e,n){var i=e.pathname+e.search+e.hash;if(n===lV.push&&t===i)return!1;t=i}))}}(e),e}function uV(e,t){return{canGoBack:e>0,canGoForward:e<t.length-1}}var dV=function(e){var t=window.matchMedia("(display-mode: standalone)");t.addEventListener?t.addEventListener("change",(function(t){return e(t.matches)})):t.addListener((function(t){return e(t.matches)}))},pV=function(e,t,n){e&&e.mediaSession&&t&&n&&(e.mediaSession.setActionHandler("previoustrack",(function(){return n.skipToPrevious()})),e.mediaSession.setActionHandler("nexttrack",(function(){return n.skipToNext()})),e.mediaSession.setActionHandler("play",(function(){return n.resume()})),e.mediaSession.setActionHandler("pause",(function(){return n.pause()})))},mV=function(e){var t,n;null!==(t=window)&&void 0!==t&&null!==(n=t.performance)&&void 0!==n&&n.mark&&e&&window.performance.mark(e)},fV=function(e,t,n){var i,r,a,o;return null!==(i=window)&&void 0!==i&&null!==(r=i.performance)&&void 0!==r&&r.measure&&null!==(a=window)&&void 0!==a&&null!==(o=a.performance)&&void 0!==o&&o.getEntriesByName&&e&&t&&n?(window.performance.measure(n,e,t),window.performance.getEntriesByName(n)):[]},vV=n(39366),gV=n(60874),hV=function(e){return!(e.type===eD.PLAY||e.type===eD.PLAYING)},kV=function(e){return!(e.type===eD.PLAY||e.type===eD.USER_INVESTMENT)},yV=function(e){return function(t){return function(n){return function(i){var r=n(i);switch(i.type){case XT:var a=i.storeAction,o=i.actionIntent;e.storeAction((function(e){return function(e,t){switch(t.type){case eD.PLAY:return[t];case eD.PLAYING:return[].concat((0,_.Z)(e.filter(hV)),[t]);case eD.USER_INVESTMENT:return[].concat((0,_.Z)(e.filter(kV)),[t]);default:return[t]}}(e,{storeAction:a,type:o})}));break;case $T:var s=e.pullAction()||null;t.dispatch({type:"PLAY_AT_FIRST_TAP_HAD_DEFERRED_ACTIONS",had:!!s&&s.length>0}),s&&s.forEach((function(e){var n=e.storeAction;t.dispatch(n)}))}return r}}}},bV=n(22720),SV=n(68894),xV=(n(405),"ui.hide_hpto"),OV=function(){function e(t,n){(0,E.Z)(this,e),this.cosmosConnector=t,this.prefs=n}var t;return(0,C.Z)(e,[{key:"requestPreviewAd",value:function(e){return this.cosmosConnector.requestPreviewAd(e)}},{key:"subscribeToAdsProductState",value:function(e){return this.cosmosConnector.subscribeToAdsProductState(e)}},{key:"subscribeToPremiumState",value:function(e){return this.cosmosConnector.subscribeToProductState("catalogue",e)}},{key:"fakeSubscribe",value:function(){}},{key:"subscribeToHpto",value:function(e){var t=xV;return this.prefs.sub({key:t},(function(n){var i=n.entries;return e((0,P.Z)({},t,!!i[t].bool))}))}},{key:"hideHpto",value:(t=(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xV,e.next=3,this.prefs.set({entries:(0,P.Z)({},t,{bool:!0})});case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),wV=function(){function e(){(0,E.Z)(this,e)}var t;return(0,C.Z)(e,[{key:"requestPreviewAd",value:function(){return Promise.resolve({})}},{key:"subscribeToAdsProductState",value:function(){return{cancel:function(){}}}},{key:"subscribeToPremiumState",value:function(){return{cancel:function(){}}}},{key:"subscribeToHpto",value:function(){return{cancel:function(){}}}},{key:"hideHpto",value:(t=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"fakeSubscribe",value:function(e,t){e(t)}}]),e}(),NV={subscription:void 0};function _V(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Re.iw)(n)?"audio"===n.mediaType||"mixed"===n.mediaType:!!(0,Re.k6)(n)&&n.isPodcastAd}"SET_".concat("volumeLogger");var EV="SET_AUDIO_AD_INFO",CV=function(e){return{type:EV,info:e}},PV=n(16296);function IV(e,t){return t?{enableAudioIfNotAlreadyEnabled:function(){if(!t.getEnabled())return t.enable((function(t){return e.dispatch(CV(t))}))},disableAudioIfNotAlreadyDisabled:function(){if(t.getEnabled())return t.disable()}}:{}}function jV(e,t,n){var i=t.getEvents();return(0,h.wW)()&&i.addListener(xe.r.VOLUME,(function(e){var t=e.data,n=t.volume;t.isLocal&&PV.gN.logAudioVolume(n)})),function(t){var i=IV(t,e),a=i.enableAudioIfNotAlreadyEnabled,s=i.disableAudioIfNotAlreadyDisabled;return function(t){return function(){var i=(0,r.Z)(o().mark((function i(r){var l;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:l=t(r),i.t0=r.type,i.next=i.t0===eb.Hp.ADS_ENABLED?4:i.t0===eb.Hp.ADS_DISABLED?6:i.t0===eb.Hp.LOG_NOW_PLAYING_AD_CLICK?8:10;break;case 4:return null==a||a(),i.abrupt("break",11);case 6:return null==s||s(),i.abrupt("break",11);case 8:return rv(n.getState())&&e.logClick(),i.abrupt("break",11);case 10:return i.abrupt("break",11);case 11:return i.abrupt("return",l);case 12:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}}}var AV=function(e,t){var n,i;if(!(null===(null==e||null===(n=e.ads)||void 0===n||null===(i=n.vto)||void 0===i?void 0:i.info))&&t&&!t.isPaused){var r=document.getElementsByClassName("VideoPlayer__container")[0];if(r){var a=r.getElementsByTagName("video")[0];a&&a.play&&a.play()}}},TV=function(e,t){e.getState().ads.vto.isMinimized||(e.dispatch((0,ly.w9)()),t.logEvent(uy.W9.COLLAPSED))};function DV(e,t,n){return n?{enableVideoTakeoverIfNotAlreadyEnabled:function(){if(!n.getEnabled()){var i={onCreated:function(){e.dispatch((0,ly.hX)())},onInfo:function(t){e.dispatch((0,ly.SY)(t))},onFirstReady:function(){AV(e.getState(),t.getState())},onStarted:function(){},onEnded:function(){e.dispatch((0,ly.SY)(null)),e.dispatch((0,ly.Vb)())}};return n.enable(i)}},disableVideoTakeoverIfNotAlreadyDisabled:function(){if(n.getEnabled())return n.disable()}}:{}}var RV=function(e,t){return function(n){var i=DV(n,t,e),a=i.enableVideoTakeoverIfNotAlreadyEnabled,s=i.disableVideoTakeoverIfNotAlreadyDisabled;return function(i){return function(){var l=(0,r.Z)(o().mark((function r(l){var c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c=i(l),r.t0=l.type,r.next=r.t0===eb.Hp.ADS_ENABLED?4:r.t0===eb.Hp.ADS_DISABLED?7:r.t0===ly.Hp.VTO_LOG_EVENT?10:r.t0===eb.Hp.LOG_NOW_PLAYING_AD_CLICK?13:r.t0===ly.Hp.VTO_NAVIGATION_CHANGE?15:r.t0===ly.Hp.MAXIMIZE_VIDEO_AD_VIEW||r.t0===ly.Hp.MINIMIZE_VIDEO_AD_VIEW?17:19;break;case 4:return r.next=6,null==a?void 0:a();case 6:case 9:return r.abrupt("break",19);case 7:return r.next=9,null==s?void 0:s();case 10:return e.logEvent(l.event,l.eventReason),l.event===uy.W9.CLICKED&&TV(n,e),r.abrupt("break",19);case 13:return iv(t.getState())&&(e.logEvent(uy.W9.CLICKED,l.eventReason),TV(n,e)),r.abrupt("break",19);case 15:return TV(n,e),r.abrupt("break",19);case 17:return AV(n.getState(),t.getState()),r.abrupt("break",19);case 19:return r.abrupt("return",c);case 20:case"end":return r.stop()}}),r)})));return function(e){return l.apply(this,arguments)}}()}}};function FV(e){var t=e.rootApi,n=e.store,i=e.adManagers,a=e.isDesktop,s=e.playerAPI,l=e.toggleAdManagers,c=void 0===l?function(e){var t=e.store,n=e.adManagers,i=e.isDesktop,r=e.playerAPI;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.adsEnabled,o=void 0===a?t.getState().ads.root.adsEnabled:a,s=e.playerState,l=void 0===s?r.getState():s,c=e.isPodcastContent,u=void 0===c?_V(l):c;o!==t.getState().ads.root.adsEnabled&&t.dispatch((o?eb.jj:eb.Iq)());var d=DV(t,r,null==n?void 0:n.vto.manager),p=d.enableVideoTakeoverIfNotAlreadyEnabled,m=d.disableVideoTakeoverIfNotAlreadyDisabled,f=IV(t,null==n?void 0:n.audio),v=f.enableAudioIfNotAlreadyEnabled,g=f.disableAudioIfNotAlreadyDisabled;return Promise.all(i&&(u||o)?[null==p?void 0:p(),null==v?void 0:v()]:[null==m?void 0:m(),null==g?void 0:g()])}}({store:n,adManagers:i,isDesktop:a,playerAPI:s}):l;function u(){return d.apply(this,arguments)}function d(){return d=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=l.length>0&&void 0!==l[0]?l[0]:{}).playerState,i=void 0===n?s.getState():n,r=t.isPodcastContent,a=void 0===r?_V(i):r,e.next=3,c({playerState:i,isPodcastContent:a});case 3:return e.abrupt("return",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0].ads;return c({adsEnabled:"1"===r,playerState:i,isPodcastContent:a})}));case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var p=_V(s.getState());function m(){return(m=(0,r.Z)(o().mark((function e(n){var i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_V(n),null!==n&&p===i){e.next=9;break}return p=i,null===(r=NV.subscription)||void 0===r||r.cancel(),e.t0=t,e.next=7,u({playerState:n,isPodcastContent:i});case 7:return e.t1=e.sent,e.abrupt("return",NV.subscription=e.t0.subscribeToAdsProductState.call(e.t0,e.t1));case 9:return e.abrupt("return",NV.subscription);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{handleAdsProductState:u,activateAdsProductStateSubscription:function(e){return m.apply(this,arguments)}}}var LV,MV,UV=n(67268),ZV=n(30993),BV=n(47343),VV=function(e){var t=e.history,n=e.blockedPaths,i=e.rootApi,a=e.adManagers,s=e.isDesktop,l=e.playerAPI;return function(e){var c=FV({rootApi:i,store:e,adManagers:a,isDesktop:s,playerAPI:l}),u=c.handleAdsProductState,d=c.activateAdsProductStateSubscription;return l.getEvents().addListener(Fe.rg.UPDATE,function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,d(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(a){return function(){var s=(0,r.Z)(o().mark((function r(s){var c,p,m,f,v,g,h,k;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=s.type,r.next=r.t0===Rf.VX?3:r.t0===UV.e?6:13;break;case 3:return r.next=5,d(null);case 5:return r.abrupt("break",13);case 6:return r.t1=i,r.next=9,u();case 9:return r.t2=r.sent,r.t3=s.data,r.t1.fakeSubscribe.call(r.t1,r.t2,r.t3),r.abrupt("break",13);case 13:if(c=a(s),(p=e.getState()).ads.root.adsEnabled){r.next=17;break}return r.abrupt("return",c);case 17:m=p.platform.isDesktop,f=m&&p.ads.billboard.isOpen,v=p.ads.sponsoredPlaylist.isVisible,g=n.includes(t.location.pathname),h=p.ads.leaderboard.isEnabled,k=p.ui.videoPlayer.mode===Zh.B.cinema,g||nv(l.getState())?(f&&e.dispatch(ev()),h&&e.dispatch(qk())):!m||h||f||v||k||e.dispatch({type:Kk}),r.t4=s.type,r.next=r.t4===cy.Iq.SET_VIDEO_MODE?27:r.t4===Wf?29:r.t4===BV.hk?31:r.t4===ZV.Hp.HPTO_PREVIEW_HOME_NAVIGATION?34:37;break;case 27:return s.mode===Zh.B.cinema&&e.dispatch(qk()),r.abrupt("break",37);case 29:return e.dispatch(qk()),r.abrupt("break",37);case 31:return e.dispatch(qk()),e.dispatch(ev()),r.abrupt("break",37);case 34:return"/"===t.location.pathname||t.push("/"),r.abrupt("break",37);case 37:return r.abrupt("return",c);case 38:case"end":return r.stop()}}),r)})));return function(e){return s.apply(this,arguments)}}()}}},HV=n(47728),GV=function(e){var t=e.rootApi;return function(e){return function(n){return function(){var i=(0,r.Z)(o().mark((function i(a){var s;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:s=n(a),i.t0=a.type,i.next=i.t0===Rf.VX?4:i.t0===eb.Hp.ADS_POST_HIDE_HPTO?8:i.t0===UV.e?10:i.t0===eb.Hp.TRIGGER_PREVIEW_AD?12:14;break;case 4:return(0,h.ZO)()===k.W.Desktop&&(0,HV.f)({_debugForceRefreshHpto:function(){return e.dispatch((0,ZV.kH)())},overrideSponsoredPlaylistEndpoint:function(){return e.dispatch((0,BV.z8)())}}),LV||(LV=t.subscribeToPremiumState(function(){var t=(0,r.Z)(o().mark((function t(n){var i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.catalogue,r="premium"===i,e.dispatch((0,eb.tv)(r));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),MV||(MV=t.subscribeToHpto((function(t){return e.dispatch((0,eb.Ru)(t["ui.hide_hpto"]))}))),i.abrupt("break",14);case 8:return t.hideHpto(),i.abrupt("break",14);case 10:return t.fakeSubscribe(function(){var t=(0,r.Z)(o().mark((function t(n){var i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.catalogue,r="premium"===i,e.dispatch((0,eb.tv)(r)),e.dispatch((0,eb.Ru)(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.data),i.abrupt("break",14);case 12:return t.requestPreviewAd(a.adUriHexId),i.abrupt("break",14);case 14:return i.abrupt("return",s);case 15:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}}},WV=function(e,t,n){return function(i){return function(a){return function(){var s=(0,r.Z)(o().mark((function r(s){var l,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:l=a(s),r.t0=s.type,r.next=r.t0===eb.Hp.ADS_ENABLED?4:r.t0===eb.Hp.ADS_DISABLED?8:r.t0===Kf?11:r.t0===Yf?17:r.t0===qf?19:r.t0===Qf?21:r.t0===Xf?23:25;break;case 4:return c={create:function(e){i.dispatch($f(e))},canShow:function(){var e=n.getState();return!("/"===t.location.pathname)&&!(0,Ch.CM)(e)&&!nv(e)},isActive:function(){return i.getState().ads.billboard.isOpen},minimize:function(){i.dispatch({type:Jf})},destroy:function(){return i.dispatch(tv()),Promise.resolve()}},r.next=7,e.enable(c);case 7:case 10:return r.abrupt("break",25);case 8:return r.next=10,e.disable();case 11:if(!i.getState().ads.sponsoredPlaylist.isVisible){r.next=15;break}return i.dispatch(tv()),r.abrupt("return",Promise.resolve());case 15:return e.minimize(),r.abrupt("break",25);case 17:return e.adClick(),r.abrupt("break",25);case 19:return e.onRender(),r.abrupt("break",25);case 21:return e.onError(),r.abrupt("break",25);case 23:return e.onFinish(),r.abrupt("break",25);case 25:return r.abrupt("return",l);case 26:case"end":return r.stop()}}),r)})));return function(e){return s.apply(this,arguments)}}()}}},zV=n(87624);function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function YV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KV(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qV={adsEnabled:!1,isPremium:!1,isHptoHidden:!0},QV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qV,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eb.Hp.ADS_ENABLED:return YV(YV({},e),{},{adsEnabled:!0});case eb.Hp.ADS_DISABLED:return YV(YV({},e),{},{adsEnabled:!1});case eb.Hp.ADS_PREMIUM:return YV(YV({},e),{},{isPremium:!!t.isPremium});case eb.Hp.ADS_HPTO_HIDDEN:return YV(YV({},e),{},{isHptoHidden:!!t.isHptoHidden});default:return e}};function JV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function XV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JV(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $V={info:null},eH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$V,t=arguments.length>1?arguments[1]:void 0;return t.type===EV?XV(XV({},e),{},{info:t.info}):e};function tH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iH={isOpen:!1,imageLoaded:!1,isMinimized:!1,data:{}},rH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wf:return nH(nH({},e),{},{isOpen:!0,data:null==t?void 0:t.data});case zf:return nH(nH({},e),{},{isOpen:!1,isMinimized:!1,imageLoaded:!1});case qf:return nH(nH({},e),{},{imageLoaded:!0});case Jf:case Kf:return nH(nH({},e),{},{isMinimized:!0});default:return e}};function aH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sH={hptoEnabled:!1,template:null,creative:null,preview:null,creativeFetchingState:zV.Y.NOT_FETCHING,hptoContainerMounted:!1,enableHptoLocationRefactor:!1,hptoIsStable:!0},lH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eb.Hp.ADS_ENABLED:return oH(oH({},e),{},{hptoEnabled:!0});case ZV.Hp.HPTO_CONTAINER_MOUNTED:return oH(oH({},e),{},{hptoContainerMounted:!0,enableHptoLocationRefactor:t.data.enableHptoLocationRefactor});case ZV.Hp.HPTO_COMPONENT_UNMOUNTED:return oH(oH({},e),{},{preview:null,creativeFetchingState:zV.Y.NOT_FETCHING,creative:t.data.clearCreative?null:e.creative});case ZV.Hp.HPTO_CONTAINER_UNMOUNTED:return oH(oH({},e),{},{hptoContainerMounted:!1});case ZV.Hp.GOT_TEMPLATE:return oH(oH({},e),{},{template:t.data});case ZV.Hp.SET_HPTO_PREVIEW:return oH(oH({},e),{},{preview:t.data});case ZV.Hp.GOT_CREATIVE:return oH(oH({},e),{},{creative:t.data,creativeFetchingState:zV.Y.FETCHED,hptoIsStable:!0});case ZV.Hp.FETCHING_CREATIVE:return oH(oH({},e),{},{creativeFetchingState:zV.Y.FETCHING,creative:e.enableHptoLocationRefactor?null:e.creative});case ZV.Hp.CREATIVE_FETCH_FAILED:return oH(oH({},e),{},{creativeFetchingState:zV.Y.FAILED,hptoIsStable:!1});default:return e}};function cH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dH={isEnabled:!1};function pH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dH;switch((arguments.length>1?arguments[1]:void 0).type){case Kk:return uH(uH({},e),{},{isEnabled:!0});case Yk:return uH(uH({},e),{},{isEnabled:!1});default:return e}}var mH=n(32865),fH=n(41434);function vH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hH={leavebehinds:[],fetchingState:fH.I.NOT_FETCHING,playlistId:void 0},kH=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mH.Wi.FETCH_LEAVEBEHINDS:return gH(gH({},e),{},{leavebehinds:[],fetchingState:fH.I.FETCHING,playlistId:t.data&&"string"==typeof(null==t?void 0:t.data)?t.data:void 0});case mH.Wi.UPDATE_LEAVEBEHINDS:return gH(gH({},e),{},{leavebehinds:t.data&&Array.isArray(t.data)?t.data:[],fetchingState:fH.I.FETCHED});case mH.Wi.CLEAR_LEAVEBEHINDS:return gH(gH({},e),{},{leavebehinds:[],fetchingState:fH.I.NOT_FETCHING,playlistId:void 0});case mH.Wi.ERROR_FETCHING_LEAVEBEHINDS:return gH(gH({},e),{},{leavebehinds:[],fetchingState:fH.I.FAILED,playlistId:void 0});default:return e}};function yH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SH={sponsoredPlaylist:new Map,isVisible:!1,previewAd:null};function xH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case BV.i7:return function(e,t){return bH(bH({},e),{},{sponsoredPlaylist:e.sponsoredPlaylist.set("allSponsorships",t.sponsorships)})}(e,t);case BV.mr:return function(e,t){return bH(bH({},e),{},{sponsoredPlaylist:e.sponsoredPlaylist.set(t.playlistUri,t.ad)})}(e,t);case BV.hk:return bH(bH({},e),{},{isVisible:!0});case BV.IP:return bH(bH({},e),{},{isVisible:!1});case BV.bQ:return bH(bH({},e),{},{previewAd:t.previewAd});default:return e}}function OH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NH={isMinimized:!1,isHidden:!0,info:null},_H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ly.Hp.MINIMIZE_VIDEO_AD_VIEW:return wH(wH({},e),{},{isMinimized:!0});case ly.Hp.MAXIMIZE_VIDEO_AD_VIEW:return wH(wH({},e),{},{isMinimized:!1});case ly.Hp.HIDE_VIDEO_AD_VIEW:return wH(wH({},e),{},{isHidden:!0});case ly.Hp.SHOW_VIDEO_AD_VIEW:return wH(wH({},e),{},{isHidden:!1});case ly.Hp.VTO_SET_INFO:return wH(wH({},e),{},{info:t.info});default:return e}};function EH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var CH=function(e){return(0,vV.UY)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sponsoredPlaylist:xH,leaderboard:pH,root:QV},e===k.W.Desktop?{billboard:rH,hpto:lH,vto:_H,audio:eH,musicLeavebehinds:kH}:{}))},PH=n(62960);const IH=JSON.parse('{"spotify:genre:browse-charts-tab":{"backgroundColor":"#8D67AB","imageURI":"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg","page":"browse-charts-tab","uri":"spotify:genre:browse-charts-tab"},"spotify:concerts":{"backgroundColor":"#7358FF","imageURI":"https://concerts.spotifycdn.com/images/live-events_category-image.jpg","page":"concerts","uri":"spotify:concerts"},"spotify:genre:2018-page":{"backgroundColor":"#b49bc8","imageURI":"https://t.scdn.co/images/5f16ac10ba584516bc9dea719669b22d.jpeg","page":"2018-page","uri":"spotify:genre:2018-page"},"spotify:genre:2019-page":{"backgroundColor":"#f037a5","imageURI":"https://t.scdn.co/images/045289258446455ab2ca810385f38f77.jpeg","page":"2019-page","uri":"spotify:genre:2019-page"},"spotify:genre:afro-page":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f0000000293c88c83bcb12b0800281074","page":"afro-page","uri":"spotify:genre:afro-page"},"spotify:genre:amplify-page":{"backgroundColor":"#eb1e32","imageURI":"https://t.scdn.co/images/541c4204fc3c4c2eb70a5fd433c1f778.jpeg","page":"amplify-page","uri":"spotify:genre:amplify-page"},"spotify:genre:arab-page":{"backgroundColor":"#0D73EC","imageURI":"https://i.scdn.co/image/ab67706f000000020c0c507103ed7577e21419f8","page":"arab-page","uri":"spotify:genre:arab-page"},"spotify:genre:arabic-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/47d9e28592b64a95a60bdbe9ae7fb2c8.jpeg","page":"arabic-page","uri":"spotify:genre:arabic-page"},"spotify:genre:artist_playlists-page":{"backgroundColor":"#1e3264","imageURI":"https://t.scdn.co/images/dbea9fc5c21648fe92ca4b1680f8281b.jpeg","page":"artist_playlists-page","uri":"spotify:genre:artist_playlists-page"},"spotify:genre:arts_entertainment_v2_podcast-page":{"backgroundColor":"#b49bc8","page":"arts_entertainment_v2_podcast-page","uri":"spotify:genre:arts_entertainment_v2_podcast-page"},"spotify:genre:audiobooks-page":{"backgroundColor":"#283ea3","imageURI":"https://t.scdn.co/images/d12a63c60f524516b892974cedac2a67.jpeg","page":"audiobooks-page","uri":"spotify:genre:audiobooks-page"},"spotify:genre:0JQ5DAqbMKFETqK4t8f1n3":{"backgroundColor":"#283ea3","imageURI":"https://i.scdn.co/image/ab67fb8200008e2cd7d76fc8a9096042a317ddb7","page":"0JQ5DAqbMKFETqK4t8f1n3","uri":"spotify:genre:0JQ5DAqbMKFETqK4t8f1n3"},"spotify:genre:blackhistorymonth-page":{"backgroundColor":"#f59b23","imageURI":"https://t.scdn.co/images/cfe7acd7b6624762af294483e0915275.jpeg","page":"blackhistorymonth-page","uri":"spotify:genre:blackhistorymonth-page"},"spotify:genre:blues-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f0000000285c3e89f02770deb7691451c","page":"blues-page","uri":"spotify:genre:blues-page"},"spotify:genre:bollywood-page":{"backgroundColor":"#ff4632","imageURI":"https://t.scdn.co/images/29d2df7525b64ed49889c93d06c9e83b.jpeg","page":"bollywood-page","uri":"spotify:genre:bollywood-page"},"spotify:genre:brazilian-page":{"backgroundColor":"#ffc864","imageURI":"https://t.scdn.co/images/f0dd678dd57645159dc42c106e93b9ca.jpeg","page":"brazilian-page","uri":"spotify:genre:brazilian-page"},"spotify:genre:business_technology_v2_podcast-page":{"backgroundColor":"#ff4632","page":"business_technology_v2_podcast-page","uri":"spotify:genre:business_technology_v2_podcast-page"},"spotify:genre:cantopop-page":{"backgroundColor":"#b49bc8","imageURI":"https://t.scdn.co/images/20768b9d093d4e26aa1335e7a84a782d.jpeg","page":"cantopop-page","uri":"spotify:genre:cantopop-page"},"spotify:genre:chill-page":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f00000002c414e7daf34690c9f983f76e","page":"chill-page","uri":"spotify:genre:chill-page"},"spotify:genre:classical-page":{"backgroundColor":"#8D67AB","imageURI":"https://i.scdn.co/image/ab67706f000000023e0130fcd5d106f1402b4707","page":"classical-page","uri":"spotify:genre:classical-page"},"spotify:genre:colombian-page":{"backgroundColor":"#ff6437","imageURI":"https://t.scdn.co/images/1d06bf244b1943d6a3f3dd53086a9ac6.jpeg","page":"colombian-page","uri":"spotify:genre:colombian-page"},"spotify:genre:comedy-page":{"backgroundColor":"#f037a5","imageURI":"https://t.scdn.co/images/6ea6d5fe357f437ca579cb52c2120aec.jpeg","page":"comedy-page","uri":"spotify:genre:comedy-page"},"spotify:genre:comedy_v2_podcast-page":{"backgroundColor":"#af2896","page":"comedy_v2_podcast-page","uri":"spotify:genre:comedy_v2_podcast-page"},"spotify:genre:country-page":{"backgroundColor":"#E13300","imageURI":"https://i.scdn.co/image/ab67706f00000002a980b152e708b33c6516d848","page":"country-page","uri":"spotify:genre:country-page"},"spotify:genre:danish-page":{"backgroundColor":"#006450","imageURI":"https://t.scdn.co/images/2e04c55407984a579daf147e7cf02bc3.jpeg","page":"danish-page","uri":"spotify:genre:danish-page"},"spotify:genre:dansband-page":{"backgroundColor":"#8c1932","imageURI":"https://t.scdn.co/images/539855dca17c4d4b81338d42a2dc4c0f.jpeg","page":"dansband-page","uri":"spotify:genre:dansband-page"},"spotify:genre:decades-page":{"backgroundColor":"#BA5D07","imageURI":"https://t.scdn.co/images/4c8b58ab42b54296ad5379514d36edac","page":"decades-page","uri":"spotify:genre:decades-page"},"spotify:genre:desi-page":{"backgroundColor":"#E13300","imageURI":"https://i.scdn.co/image/ab67706f00000002cc485e3902f426d5d3e21558","page":"desi-page","uri":"spotify:genre:desi-page"},"spotify:genre:dinner-page":{"backgroundColor":"#BA5D07","imageURI":"https://i.scdn.co/image/ab67706f000000025a051b0271d3e98edfdc4c09","page":"dinner-page","uri":"spotify:genre:dinner-page"},"spotify:genre:discover-page":{"backgroundColor":"#8D67AB","imageURI":"https://t.scdn.co/images/d0fb2ab104dc4846bdc56d72b0b0d785.jpeg","page":"discover-page","uri":"spotify:genre:discover-page"},"spotify:genre:dutch-page":{"backgroundColor":"#ff4632","imageURI":"https://t.scdn.co/images/d968dc9c903b41758a9af78f3e1c8c0e.jpeg","page":"dutch-page","uri":"spotify:genre:dutch-page"},"spotify:genre:edm_dance-page":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000020377baccf69ede3cf1a26eff","page":"edm_dance-page","uri":"spotify:genre:edm_dance-page"},"spotify:genre:educational_v2_podcast-page":{"backgroundColor":"#a0c3d2","page":"educational_v2_podcast-page","uri":"spotify:genre:educational_v2_podcast-page"},"spotify:genre:ellen-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/ea580b7dfc584f7183037fe66d743817.jpeg","page":"ellen-page","uri":"spotify:genre:ellen-page"},"spotify:genre:family-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/f4393ac2106e4583ac86e2ddd7ae827d.jpeg","page":"family-page","uri":"spotify:genre:family-page"},"spotify:genre:festivals-page":{"backgroundColor":"#1e3264","imageURI":"https://t.scdn.co/images/8cee887fed054786b8b5d57f80af68ab.jpeg","page":"festivals-page","uri":"spotify:genre:festivals-page"},"spotify:genre:focus-page":{"backgroundColor":"#503750","imageURI":"https://i.scdn.co/image/ab67706f00000002e4eadd417a05b2546e866934","page":"focus-page","uri":"spotify:genre:focus-page"},"spotify:genre:francophone-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/e825b23138f7416589d60dc6d2de3e52.jpeg","page":"francophone-page","uri":"spotify:genre:francophone-page"},"spotify:genre:french_variety-page":{"backgroundColor":"#2d46b9","imageURI":"https://t.scdn.co/images/ab71e150e8ac4c179fdcef7267e5453b.jpeg","page":"french_variety-page","uri":"spotify:genre:french_variety-page"},"spotify:genre:funk-page":{"backgroundColor":"#E61E32","imageURI":"https://i.scdn.co/image/ab67706f00000002f16913f0326b9d44bf78fc88","page":"funk-page","uri":"spotify:genre:funk-page"},"spotify:genre:funkbrazil-page":{"backgroundColor":"#2d46b9","imageURI":"https://t.scdn.co/images/d0462afda39e48d4bcb28d6f4802c322.jpeg","page":"funkbrazil-page","uri":"spotify:genre:funkbrazil-page"},"spotify:genre:games_v2_podcast-page":{"backgroundColor":"#509bf5","page":"games_v2_podcast-page","uri":"spotify:genre:games_v2_podcast-page"},"spotify:genre:gaming-page":{"backgroundColor":"#E8115B","imageURI":"https://i.scdn.co/image/ab67706f0000000221a2087747d946f16704b8af","page":"gaming-page","uri":"spotify:genre:gaming-page"},"spotify:genre:hiphop-page":{"backgroundColor":"#ba5d07","imageURI":"https://i.scdn.co/image/ab67706f000000029bb6af539d072de34548d15c","page":"hiphop-page","uri":"spotify:genre:hiphop-page"},"spotify:genre:holidays-page":{"backgroundColor":"#8c1932","imageURI":"https://t.scdn.co/images/8095bb75a61e4623906cb847ae87d9da.jpeg","page":"holidays-page","uri":"spotify:genre:holidays-page"},"spotify:genre:indie_alt-page":{"backgroundColor":"#608108","imageURI":"https://i.scdn.co/image/ab67706f000000025f7327d3fdc71af27917adba","page":"indie_alt-page","uri":"spotify:genre:indie_alt-page"},"spotify:genre:inspirational-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/393d33c09d7c4142a40fb9bad4852cab.jpeg","page":"inspirational-page","uri":"spotify:genre:inspirational-page"},"spotify:genre:j_tracks-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/1ecbe139948f4144a78971bf5004e1ef.jpeg","page":"j_tracks-page","uri":"spotify:genre:j_tracks-page"},"spotify:genre:jazz-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f00000002d72ef75e14ca6f60ea2364c2","page":"jazz-page","uri":"spotify:genre:jazz-page"},"spotify:genre:karaoke-page":{"backgroundColor":"#ff6437","imageURI":"https://t.scdn.co/images/4f2d757d1c8a4eab80008e9058d0e129.jpeg","page":"karaoke-page","uri":"spotify:genre:karaoke-page"},"spotify:genre:khaleeji-page":{"backgroundColor":"#8c1932","imageURI":"https://t.scdn.co/images/6592b80e053e46af83e46c91cd07c6e6.jpeg","page":"khaleeji-page","uri":"spotify:genre:khaleeji-page"},"spotify:genre:kids-page":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f000000023b4d1bd8fc061c7b1cb33cb1","page":"kids-page","uri":"spotify:genre:kids-page"},"spotify:genre:kids_family_v2_podcast-page":{"backgroundColor":"#ffc864","page":"kids_family_v2_podcast-page","uri":"spotify:genre:kids_family_v2_podcast-page"},"spotify:genre:kpop-page":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f00000002978b9f4a4f40b430fd0d837e","page":"kpop-page","uri":"spotify:genre:kpop-page"},"spotify:genre:latin-page":{"backgroundColor":"#e1118b","imageURI":"https://t.scdn.co/images/6a48e36b373a4d879a9340076db03a7b","page":"latin-page","uri":"spotify:genre:latin-page"},"spotify:genre:latin_moods-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/535aeb8b65bf4278bde1b37880f63d48.jpeg","page":"latin_moods-page","uri":"spotify:genre:latin_moods-page"},"spotify:genre:latin_pop_page-page":{"backgroundColor":"#c3f0c8","imageURI":"https://t.scdn.co/images/f576cc1c0d284a3f9decd45cc9c0e332.jpeg","page":"latin_pop_page-page","uri":"spotify:genre:latin_pop_page-page"},"spotify:genre:latin_rock_indie-page":{"backgroundColor":"#eb1e32","imageURI":"https://t.scdn.co/images/e2eae19f603a42cd847adfbdd87ec68b.jpeg","page":"latin_rock_indie-page","uri":"spotify:genre:latin_rock_indie-page"},"spotify:genre:latin_tropical-page":{"backgroundColor":"#ff6437","imageURI":"https://t.scdn.co/images/b7d701904a634d059d36afd4910cc53e.jpeg","page":"latin_tropical-page","uri":"spotify:genre:latin_tropical-page"},"spotify:genre:latin_urban_page-page":{"backgroundColor":"#ffc864","imageURI":"https://t.scdn.co/images/b951da0b1d754316b3f65a70a8a5820b.jpeg","page":"latin_urban_page-page","uri":"spotify:genre:latin_urban_page-page"},"spotify:genre:lifestyle_health_v2_podcast-page":{"backgroundColor":"#f573a0","page":"lifestyle_health_v2_podcast-page","uri":"spotify:genre:lifestyle_health_v2_podcast-page"},"spotify:genre:listening_together-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/ae860aa5e8d24786ab5f1842fd9e1aea.jpeg","page":"listening_together-page","uri":"spotify:genre:listening_together-page"},"spotify:genre:malaypop-page":{"backgroundColor":"#c3f0c8","imageURI":"https://t.scdn.co/images/9916ca60858f4f4497657e7aaa53195d.jpeg","page":"malaypop-page","uri":"spotify:genre:malaypop-page"},"spotify:genre:mandopop-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/a0feab8b3bd64d2a876e0f57be244bc4.jpeg","page":"mandopop-page","uri":"spotify:genre:mandopop-page"},"spotify:genre:metal-page":{"backgroundColor":"#777777","imageURI":"https://i.scdn.co/image/ab67706f0000000285704160b49125ac95099ec8","page":"metal-page","uri":"spotify:genre:metal-page"},"spotify:genre:mexican-page":{"backgroundColor":"#006450","imageURI":"https://t.scdn.co/images/950aa388f0b84e88a71abc111894c85e.jpeg","page":"mexican-page","uri":"spotify:genre:mexican-page"},"spotify:genre:mood-page":{"backgroundColor":"#8D67AB","imageURI":"https://i.scdn.co/image/ab67706f00000002aa93fe4e8c2d24fc62556cba","page":"mood-page","uri":"spotify:genre:mood-page"},"spotify:genre:music_v2_podcast-page":{"backgroundColor":"#af2896","page":"music_v2_podcast-page","uri":"spotify:genre:music_v2_podcast-page"},"spotify:genre:new-releases-page":{"backgroundColor":"#E8115B","imageURI":"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112","page":"new_releases-page","uri":"spotify:genre:new-releases-page"},"spotify:genre:news_politics_v2_podcast-page":{"backgroundColor":"#4b917d","page":"news_politics_v2_podcast-page","uri":"spotify:genre:news_politics_v2_podcast-page"},"spotify:genre:opm-page":{"backgroundColor":"#f573a0","imageURI":"https://t.scdn.co/images/fc0e34ef07ee494a81548532c90193d9.jpeg","page":"opm-page","uri":"spotify:genre:opm-page"},"spotify:genre:party-page":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f00000002caa115cbdb8cd3d39d67cdc0","page":"party-page","uri":"spotify:genre:party-page"},"spotify:genre:podcasts-web":{"backgroundColor":"#27856A","imageURI":"https://i.scdn.co/image/567158eb895ad26718a814345af0fc43ee785ec5","page":"podcasts-web","uri":"spotify:genre:podcasts-web"},"spotify:genre:pop-page":{"backgroundColor":"#8D67AB","imageURI":"https://t.scdn.co/images/0a74d96e091a495bb09c0d83210910c3","page":"pop-page","uri":"spotify:genre:pop-page"},"spotify:genre:popculture-page":{"backgroundColor":"#f59b23","imageURI":"https://t.scdn.co/images/21a2ccde5f5c42b0858600a19153ce8d.jpeg","page":"popculture-page","uri":"spotify:genre:popculture-page"},"spotify:genre:popindo-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/a141533c15e746b0989040e6a59488dd.jpeg","page":"popindo-page","uri":"spotify:genre:popindo-page"},"spotify:genre:pride-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/c9a01586687a45a78c56d9be5aed3c79.jpeg","page":"pride-page","uri":"spotify:genre:pride-page"},"spotify:genre:punjabi-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/fc525ffce9f74e0792b9438ae541a5b1.jpeg","page":"punjabi-page","uri":"spotify:genre:punjabi-page"},"spotify:genre:punk-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f0000000275251d7d488b0fd69e4c50bd","page":"punk-page","uri":"spotify:genre:punk-page"},"spotify:genre:reggae-page":{"backgroundColor":"#006450","imageURI":"https://t.scdn.co/images/46e47036f0ae4608a61c68b65750610f.jpeg","page":"reggae-page","uri":"spotify:genre:reggae-page"},"spotify:genre:rnb-page":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000023c5a4aaf5df054a9beeb3d82","page":"rnb-page","uri":"spotify:genre:rnb-page"},"spotify:genre:rock-page":{"backgroundColor":"#E61E32","imageURI":"https://i.scdn.co/image/ab67706f00000002fe6d8d1019d5b302213e3730","page":"rock-page","uri":"spotify:genre:rock-page"},"spotify:genre:romance-page":{"backgroundColor":"#8C1932","imageURI":"https://i.scdn.co/image/ab67706f0000000213601d4833623a4d6b328e38","page":"romance-page","uri":"spotify:genre:romance-page"},"spotify:genre:roots-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f0000000237df164786f688dd0ccd8744","page":"roots-page","uri":"spotify:genre:roots-page"},"spotify:genre:sertanejo-page":{"backgroundColor":"#c39687","imageURI":"https://t.scdn.co/images/fbfe20a3a90b4fcca73be4495b5e6d5b.jpeg","page":"sertanejo-page","uri":"spotify:genre:sertanejo-page"},"spotify:genre:sessions-page":{"backgroundColor":"#4b917d","imageURI":"https://t.scdn.co/images/ccd24ffb79594628a20a5e52b49c614f.jpeg","page":"sessions-page","uri":"spotify:genre:sessions-page"},"spotify:genre:sleep-page":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f00000002b70e0223f544b1faa2e95ed0","page":"sleep-page","uri":"spotify:genre:sleep-page"},"spotify:genre:society_v2_podcast-page":{"backgroundColor":"#1e3264","page":"society_v2_podcast-page","uri":"spotify:genre:society_v2_podcast-page"},"spotify:genre:soul-page":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000026e1034ebd7b7c86546c6acca","page":"soul-page","uri":"spotify:genre:soul-page"},"spotify:genre:sports_recreation_v2_podcast-page":{"backgroundColor":"#f59b23","page":"sports_recreation_v2_podcast-page","uri":"spotify:genre:sports_recreation_v2_podcast-page"},"spotify:genre:stories_v2_podcast-page":{"backgroundColor":"#ffc864","page":"stories_v2_podcast-page","uri":"spotify:genre:stories_v2_podcast-page"},"spotify:genre:summer-page":{"backgroundColor":"#ffc864","imageURI":"https://t.scdn.co/images/a2a24668f16c4e9680233a0d7d244a4b.jpeg","page":"summer-page","uri":"spotify:genre:summer-page"},"spotify:genre:tamil-page":{"backgroundColor":"#ffc864","imageURI":"https://t.scdn.co/images/2009b6515219438382ad57192173de13.jpeg","page":"tamil-page","uri":"spotify:genre:tamil-page"},"spotify:genre:telugu-page":{"backgroundColor":"#19e68c","imageURI":"https://t.scdn.co/images/a33f9b9872a84bba9a4e058d4f863915.jpeg","page":"telugu-page","uri":"spotify:genre:telugu-page"},"spotify:genre:test_latin-page":{"backgroundColor":"#ff6437","imageURI":"https://t.scdn.co/images/1d7841c92c504343a391dfa0626fc22c.jpeg","page":"test_latin-page","uri":"spotify:genre:test_latin-page"},"spotify:genre:thai-page":{"backgroundColor":"#ff4632","imageURI":"https://t.scdn.co/images/3b17581553a14deb912e8405bf90890c.jpeg","page":"thai-page","uri":"spotify:genre:thai-page"},"spotify:genre:throwback-page":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/d320819abf714ae5af0f91482fcd6ad7.jpeg","page":"throwback-page","uri":"spotify:genre:throwback-page"},"spotify:genre:top-podcasts-page":{"backgroundColor":"#509bf5","page":"top-podcasts-page","uri":"spotify:genre:top-podcasts-page"},"spotify:genre:travel-page":{"backgroundColor":"#2D46B9","imageURI":"https://t.scdn.co/images/44cf5615d3244f289fcedefa96b85db9","page":"travel-page","uri":"spotify:genre:travel-page"},"spotify:genre:true-crime_v2_podcast-page":{"backgroundColor":"#503750","page":"true-crime_v2_podcast-page","uri":"spotify:genre:true-crime_v2_podcast-page"},"spotify:genre:videos-page":{"backgroundColor":"#509bf5","imageURI":"https://t.scdn.co/images/d25910c96bba4229adc121480d164bab.jpeg","page":"videos-page","uri":"spotify:genre:videos-page"},"spotify:genre:vietnamese-page":{"backgroundColor":"#c3f0c8","imageURI":"https://t.scdn.co/images/841d524163d94e98b0becfd8c920efde.jpeg","page":"vietnamese-page","uri":"spotify:genre:vietnamese-page"},"spotify:genre:whm-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/9fc209cc8e0e4de1be2ebaf92d4f280e.jpeg","page":"whm-page","uri":"spotify:genre:whm-page"},"spotify:genre:women_s_history_month-page":{"backgroundColor":"#af2896","imageURI":"https://t.scdn.co/images/662aa765ebd94d7a9fab9d5392eb1ca0.jpeg","page":"women_s_history_month-page","uri":"spotify:genre:women_s_history_month-page"},"spotify:genre:word-page":{"backgroundColor":"#f573a0","imageURI":"https://t.scdn.co/images/29bfbe4d5a564bad8f10f9e6d6e654e0.jpeg","page":"word-page","uri":"spotify:genre:word-page"},"spotify:genre:workout-page":{"backgroundColor":"#777777","imageURI":"https://i.scdn.co/image/ab67706f000000029249b35f23fb596b6f006a15","page":"workout-page","uri":"spotify:genre:workout-page"},"spotify:made-for-you":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/68433b0ee5b5465b8e926c42b84cbcdb.jpeg","page":"made-for-you","uri":"spotify:made-for-you"},"spotify:genre:made-for-x-hub":{"backgroundColor":"#a0c3d2","imageURI":"https://t.scdn.co/images/68433b0ee5b5465b8e926c42b84cbcdb.jpeg","page":"made-for-x-hub","uri":"spotify:genre:made-for-x-hub"},"spotify:radio":{"backgroundColor":"#f573a0","imageURI":"https://t.scdn.co/images/d2d0df1378b24addb9c30eb81b4abc23.jpeg","page":"radio","uri":"spotify:radio"},"spotify:genre:wellness-page":{"backgroundColor":"#a56752","imageURI":"https://i.scdn.co/image/ab67656300005f1ff234909e69a68d92ca0af6ca","page":"wellness-page","uri":"spotify:genre:wellness-page"},"spotify:genre:tv_movies-page":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f000000026abff8de68c75470ea8f0665","page":"tv_movies-page","uri":"spotify:genre:tv_movies-page"},"spotify:charts:root":{"backgroundColor":"#8D67AB","imageURI":"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg","page":"root","uri":"spotify:charts:root"},"spotify:genre:at_home-page":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f00000002ec9d60059aa215a7ba364695","page":"at_home-page","uri":"spotify:genre:at_home-page"},"spotify:genre:thirdparty-page":{"backgroundColor":"#eb1e32","uri":"spotify:genre:thirdparty-page","page":"thirdparty-page","imageURI":"https://t.scdn.co/images/7ef1d6445a684e30bdd78f09507d688c.jpeg"},"spotify:genre:corona_news_podcasts-page":{"backgroundColor":"#509bf5","uri":"spotify:genre:corona_news_podcasts-page","page":"corona_news_podcasts-page","imageURI":"https://i.scdn.co/image/0e121a9a02c17d6703e7c12ba0c704166f9afac9"},"spotify:genre:higher_ground-page":{"backgroundColor":"#a0c3d2","uri":"spotify:genre:higher_ground-page","page":"higher_ground-page","imageURI":"https://i.scdn.co/image/4f26db8239305bef29ef956b331b31407cbf51f9"},"spotify:genre:league_of_legends-page":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f000000025f0ff9251e3cfe641160dc31","page":"league_of_legends-page","uri":"spotify:genre:league_of_legends-page"},"spotify:genre:hw2019-internal-podcasts-page":{"backgroundColor":"#4100F5","imageURI":"https://i.imgur.com/dZQu0Yz.png","page":"hw2019-internal-podcasts-page","uri":"spotify:genre:hw2019-internal-podcasts-pagee"},"spotify:genre:in_the_car-page":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f00000002ffa215be1a4c64e3cbf59d1e","page":"in_the_car-page","uri":"spotify:genre:in_the_car-page"},"spotify:genre:caribbean-page":{"backgroundColor":"#0D73EC","imageURI":"https://i.scdn.co/image/ab67706f00000002a76a2ccb454ff0e1720a51a5","page":"caribbean-page","uri":"spotify:genre:caribbean-page"},"spotify:genre:instrumental-page":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f000000028ed1a5002b96c2ea882541b2","page":"instrumental-page","uri":"spotify:genre:instrumental-page"},"spotify:space:2020-page":{"backgroundColor":"#9cf0e1","imageURI":"https://lineup-images.scdn.co/wrapped-2020-top100_LARGE-en.jpg","page":"2020-page","uri":"spotify:space:2020-page"},"spotify:genre:songwriters-page":{"backgroundColor":"#8C1932","imageURI":"https://i.scdn.co/image/ab676d63000076a0c9657833d9c169782b961c9c","page":"songwriters-page","uri":"spotify:genre:songwriters-page"},"spotify:genre:equal-page":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f0000000284a1ec26f589f0d569805a07","page":"equal-page","uri":"spotify:genre:equal-page"},"spotify:genre:kids_family-page":{"backgroundColor":"#8D67AB","imageURI":"https://t.scdn.co/images/15a38c44c4484cc3a078aaab5bd4e828","page":"kids_family-page","uri":"spotify:genre:kids_family-page"},"spotify:genre:frequency-page":{"backgroundColor":"#0D73EC","imageURI":"https://t.scdn.co/images/4e5db92a959b47548de10712dc4c7c70","page":"frequency-page","uri":"spotify:genre:frequency-page"},"spotify:genre:ambient-page":{"backgroundColor":"#477D95","imageURI":"https://t.scdn.co/images/a45c0978c7784da8b83cadbca8b815d1","page":"ambient-page","uri":"spotify:genre:ambient-page"},"spotify:genre:happier_than_ever-page":{"backgroundColor":"#907255","imageURI":"https://t.scdn.co/images/a5ddeea115874aeeb8923d17f56ced1d","page":"happier_than_ever-page","uri":"spotify:genre:happier_than_ever-page"},"spotify:genre:2021-page":{"backgroundColor":"#d7f27d","imageURI":"https://t.scdn.co/images/6bbcb75a98004dd3b306e0f9ca659318","page":"2021-page","uri":"spotify:genre:2021-page"},"spotify:genre:sanremo-page":{"backgroundColor":"#1d3164","imageURI":"https://t.scdn.co/images/61ad00d872894117a084cb5fbd1e7f12","page":"sanremo-page","uri":"spotify:genre:sanremo-page"},"spotify:genre:0JQ5DAqbMKFPw634sFwguI":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f0000000284a1ec26f589f0d569805a07","page":"0JQ5DAqbMKFPw634sFwguI","uri":"spotify:genre:0JQ5DAqbMKFPw634sFwguI"},"spotify:genre:0JQ5DAqbMKFQ1UFISXj59F":{"backgroundColor":"#8D67AB","imageURI":"https://i.scdn.co/image/ab67706f00000002d3f07aa10d05fb4baab12b94","page":"0JQ5DAqbMKFQ1UFISXj59F","uri":"spotify:genre:0JQ5DAqbMKFQ1UFISXj59F"},"spotify:genre:0JQ5DAqbMKFCfObibaOZbv":{"backgroundColor":"#E8115B","imageURI":"https://i.scdn.co/image/ab67706f0000000221a2087747d946f16704b8af","page":"0JQ5DAqbMKFCfObibaOZbv","uri":"spotify:genre:0JQ5DAqbMKFCfObibaOZbv"},"spotify:genre:0JQ5DAqbMKFLYQVFHcXMae":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f000000025f0ff9251e3cfe641160dc31","page":"0JQ5DAqbMKFLYQVFHcXMae","uri":"spotify:genre:0JQ5DAqbMKFLYQVFHcXMae"},"spotify:genre:0JQ5DAqbMKFCbimwdOYlsl":{"backgroundColor":"#503750","imageURI":"https://i.scdn.co/image/ab67706f00000002e4eadd417a05b2546e866934","page":"0JQ5DAqbMKFCbimwdOYlsl","uri":"spotify:genre:0JQ5DAqbMKFCbimwdOYlsl"},"spotify:genre:0JQ5DAqbMKFCuoRTxhYWow":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f00000002b70e0223f544b1faa2e95ed0","page":"0JQ5DAqbMKFCuoRTxhYWow","uri":"spotify:genre:0JQ5DAqbMKFCuoRTxhYWow"},"spotify:genre:0JQ5DAqbMKFDkd668ypn6O":{"backgroundColor":"#777777","imageURI":"https://i.scdn.co/image/ab67706f0000000285704160b49125ac95099ec8","page":"0JQ5DAqbMKFDkd668ypn6O","uri":"spotify:genre:0JQ5DAqbMKFDkd668ypn6O"},"spotify:genre:0JQ5DAqbMKFRY5ok2pxXJ0":{"backgroundColor":"#BA5D07","imageURI":"https://i.scdn.co/image/ab67706f000000025a051b0271d3e98edfdc4c09","page":"0JQ5DAqbMKFRY5ok2pxXJ0","uri":"spotify:genre:0JQ5DAqbMKFRY5ok2pxXJ0"},"spotify:genre:0JQ5DAqbMKFEZPnFQSFB1T":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000023c5a4aaf5df054a9beeb3d82","page":"0JQ5DAqbMKFEZPnFQSFB1T","uri":"spotify:genre:0JQ5DAqbMKFEZPnFQSFB1T"},"spotify:genre:0JQ5DAqbMKFRieVZLLoo9m":{"backgroundColor":"#477D95","imageURI":"https://i.scdn.co/image/ab67706f000000028ed1a5002b96c2ea882541b2","page":"0JQ5DAqbMKFRieVZLLoo9m","uri":"spotify:genre:0JQ5DAqbMKFRieVZLLoo9m"},"spotify:genre:0JQ5DAqbMKFAUsdyVjCQuL":{"backgroundColor":"#8C1932","imageURI":"https://i.scdn.co/image/ab67706f0000000213601d4833623a4d6b328e38","page":"0JQ5DAqbMKFAUsdyVjCQuL","uri":"spotify:genre:0JQ5DAqbMKFAUsdyVjCQuL"},"spotify:genre:0JQ5DAqbMKFFoimhOqWzLB":{"backgroundColor":"#8D67AB","imageURI":"https://t.scdn.co/images/15a38c44c4484cc3a078aaab5bd4e828","page":"0JQ5DAqbMKFFoimhOqWzLB","uri":"spotify:genre:0JQ5DAqbMKFFoimhOqWzLB"},"spotify:genre:0JQ5DAqbMKFPrEiAOxgac3":{"backgroundColor":"#8D67AB","imageURI":"https://i.scdn.co/image/ab67706f000000023e0130fcd5d106f1402b4707","page":"0JQ5DAqbMKFPrEiAOxgac3","uri":"spotify:genre:0JQ5DAqbMKFPrEiAOxgac3"},"spotify:genre:0JQ5DAqbMKFxXaXKP7zcDp":{"backgroundColor":"#e1118b","imageURI":"https://t.scdn.co/images/6a48e36b373a4d879a9340076db03a7b","page":"0JQ5DAqbMKFxXaXKP7zcDp","uri":"spotify:genre:0JQ5DAqbMKFxXaXKP7zcDp"},"spotify:genre:0JQ5DAqbMKFSCjnQr8QZ3O":{"backgroundColor":"#8C1932","imageURI":"https://i.scdn.co/image/ab676d63000076a0c9657833d9c169782b961c9c","page":"0JQ5DAqbMKFSCjnQr8QZ3O","uri":"spotify:genre:0JQ5DAqbMKFSCjnQr8QZ3O"},"spotify:genre:0JQ5DAqbMKFObNLOHydSW8":{"backgroundColor":"#0D73EC","imageURI":"https://i.scdn.co/image/ab67706f00000002a76a2ccb454ff0e1720a51a5","page":"0JQ5DAqbMKFObNLOHydSW8","uri":"spotify:genre:0JQ5DAqbMKFObNLOHydSW8"},"spotify:genre:0JQ5DAqbMKFFsW9N8maB6z":{"backgroundColor":"#E61E32","imageURI":"https://i.scdn.co/image/ab67706f00000002f16913f0326b9d44bf78fc88","page":"0JQ5DAqbMKFFsW9N8maB6z","uri":"spotify:genre:0JQ5DAqbMKFFsW9N8maB6z"},"spotify:genre:0JQ5DAqbMKFQVdc2eQoH2s":{"backgroundColor":"#E13300","imageURI":"https://i.scdn.co/image/ab67706f00000002cc485e3902f426d5d3e21558","page":"0JQ5DAqbMKFQVdc2eQoH2s","uri":"spotify:genre:0JQ5DAqbMKFQVdc2eQoH2s"},"spotify:genre:0JQ5DAqbMKFNQ0fGp4byGU":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f0000000293c88c83bcb12b0800281074","page":"0JQ5DAqbMKFNQ0fGp4byGU","uri":"spotify:genre:0JQ5DAqbMKFNQ0fGp4byGU"},"spotify:genre:0JQ5DAqbMKFAQy4HL4XU2D":{"backgroundColor":"#2D46B9","imageURI":"https://t.scdn.co/images/44cf5615d3244f289fcedefa96b85db9","page":"0JQ5DAqbMKFAQy4HL4XU2D","uri":"spotify:genre:0JQ5DAqbMKFAQy4HL4XU2D"},"spotify:genre:0JQ5DAqbMKFGvOw3O4nLAf":{"backgroundColor":"#148A08","imageURI":"https://i.scdn.co/image/ab67706f00000002978b9f4a4f40b430fd0d837e","page":"0JQ5DAqbMKFGvOw3O4nLAf","uri":"spotify:genre:0JQ5DAqbMKFGvOw3O4nLAf"},"spotify:genre:0JQ5DAqbMKFOzQeOmemkuw":{"backgroundColor":"#AF2896","imageURI":"https://i.scdn.co/image/ab67706f000000026abff8de68c75470ea8f0665","page":"0JQ5DAqbMKFOzQeOmemkuw","uri":"spotify:genre:0JQ5DAqbMKFOzQeOmemkuw"},"spotify:genre:0JQ5DAqbMKFLjmiZRss79w":{"backgroundColor":"#477D95","imageURI":"https://t.scdn.co/images/a45c0978c7784da8b83cadbca8b815d1","page":"0JQ5DAqbMKFLjmiZRss79w","uri":"spotify:genre:0JQ5DAqbMKFLjmiZRss79w"},"spotify:genre:0JQ5DAqbMKFDKyRxRDLIbk":{"backgroundColor":"#8c1932","imageURI":"https://t.scdn.co/images/8095bb75a61e4623906cb847ae87d9da.jpeg","page":"0JQ5DAqbMKFDKyRxRDLIbk","uri":"spotify:genre:0JQ5DAqbMKFDKyRxRDLIbk"},"spotify:genre:0JQ5DAqbMKFIVNxQgRNSg0":{"backgroundColor":"#BA5D07","imageURI":"https://t.scdn.co/images/4c8b58ab42b54296ad5379514d36edac","page":"0JQ5DAqbMKFIVNxQgRNSg0","uri":"spotify:genre:0JQ5DAqbMKFIVNxQgRNSg0"},"spotify:genre:0JQ5DAqbMKFIpEuaCnimBj":{"backgroundColor":"#DC148C","imageURI":"https://i.scdn.co/image/ab67706f000000026e1034ebd7b7c86546c6acca","page":"0JQ5DAqbMKFIpEuaCnimBj","uri":"spotify:genre:0JQ5DAqbMKFIpEuaCnimBj"},"spotify:genre:0JQ5DAqbMKFAXlCG6QvYQ4":{"backgroundColor":"#777777","imageURI":"https://i.scdn.co/image/ab67706f000000029249b35f23fb596b6f006a15","page":"0JQ5DAqbMKFAXlCG6QvYQ4","uri":"spotify:genre:0JQ5DAqbMKFAXlCG6QvYQ4"},"spotify:genre:0JQ5DAqbMKFQiK2EHwyjcU":{"backgroundColor":"#1E3264","imageURI":"https://i.scdn.co/image/ab67706f0000000285c3e89f02770deb7691451c","page":"0JQ5DAqbMKFQiK2EHwyjcU","uri":"spotify:genre:0JQ5DAqbMKFQiK2EHwyjcU"}}');function jH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function AH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TH=Object.keys(IH).reduce((function(e,t){var n=t.split(":").reduce((function(e,t){return t}),t).replace("-page","");return AH(AH({},e),{},(0,P.Z)({},n,AH({},IH[t])))}),{}),DH=function(e){var t=Object.values(TH).map((function(e){return e.backgroundColor})).filter(Boolean);return e.map((function(e){var n,i,r=e.name,a=e.href.split("/").reduce((function(e,t){return t}),""),o=a,s=TH[a.replace("-page","")],l=s&&s.backgroundColor,c=s&&s.imageURI;return{viewId:a,title:r,imageUrl:null!=c?c:null===(n=e.images)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.url,color:null!=l?l:t.shift(),ubiId:o}}))},RH=["id"];function FH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function LH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MH={platform:"web",content_limit:20,limit:50},UH={method:"GET",authorize:!0,responseType:"json",rejectNotOk:!0,allowOffline:!0},ZH=function(){function e(t,n){var i=this;(0,E.Z)(this,e),(0,P.Z)(this,"_transformItems",function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._getNextItems(t.content);case 2:return n=e.sent,e.abrupt("return",{id:t.id,title:t.name,items:DH(n.items)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.transport=t,this.enableShows=n}var t,n,i;return(0,C.Z)(e,[{key:"getSearchBrowse",value:(i=(0,r.Z)(o().mark((function e(){var t,n,i,r,a,s,l,c,u,d,p,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},n=m.length>1&&void 0!==m[1]?m[1]:{},i=new URLSearchParams(LH(LH({timestamp:(new Date).toISOString()},MH),t)).toString(),r="".concat("https://api.spotify.com/v1/views","/").concat("browse-page-cx-test"),a="".concat(r,"?").concat(i),e.next=7,this.transport.request(a,UH);case 7:return s=e.sent,l=s.body.content.items.map(this._transformItems),e.next=11,Promise.all(l);case 11:return c=e.sent,(u=c.reduce((function(e,t){var n=t.id,i=(0,dp.Z)(t,RH);return LH(LH({},e),{},(0,P.Z)({},n,LH({},i)))}),{}))["browse-grid-mobile"]&&(u["browse-grid-mobile"].items=this.getHardcodedFeatureCards(n).concat(u["browse-grid-mobile"].items),(d=u["browse-grid-mobile"].items.findIndex((function(e){return"0JQ5DAqbMKFETqK4t8f1n3"===e.viewId})))>-1&&1!==d&&(p=u["browse-grid-mobile"].items[d],u["browse-grid-mobile"].items.splice(d,1),u["browse-grid-mobile"].items.splice(1,0,p))),e.abrupt("return",u);case 15:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getHardcodedFeatureCards",value:function(e){var t=[{href:"/genre/made-for-x-hub",title:v.ag.get("browse.made-for-you"),color:"#1E3264",imageUrl:"https://t.scdn.co/images/ea364e99656e46a096ea1df50f581efe",ubiId:EZ.Wg.MADE_FOR_YOU},{href:"/genre/browse-charts-tab",title:v.ag.get("browse.charts"),color:"#8D67AB",imageUrl:"https://charts-images.scdn.co/assets/locale_en/regional/weekly/region_global_default.jpg",ubiId:EZ.Wg.CHARTS},{href:"/genre/new-releases-page",title:v.ag.get("new_releases"),color:"#E8115B",imageUrl:"https://i.scdn.co/image/ab67706f000000027ea4d505212b9de1f72c5112",ubiId:EZ.Wg.BROWSE_NEWRELEASES},{href:"/genre/discover-page",title:this.capitalize(v.ag.get("browse.discover")),color:"#8D67AB",imageUrl:"https://t.scdn.co/images/d0fb2ab104dc4846bdc56d72b0b0d785.jpeg",ubiId:EZ.Wg.BROWSE_DISCOVER}];return e.enableClientXConcertsHub&&t.push({href:"/concerts",title:v.ag.get("browse.live-events"),imageUrl:"https://concerts.spotifycdn.com/images/live-events_category-image.jpg",color:"#7358FF",ubiId:EZ.Wg.CONCERTS}),this.enableShows?[{href:"/genre/podcasts-web",title:this.capitalize(v.ag.get("browse.podcasts")),color:"#27856A",imageUrl:"https://i.scdn.co/image/567158eb895ad26718a814345af0fc43ee785ec5",ubiId:EZ.Wg.BROWSE_PODCASTS}].concat(t):t}},{key:"capitalize",value:function(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1).toLocaleLowerCase()}},{key:"getItemsStyle",value:(n=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(TH).reduce((function(e,t){return AH(AH({},e),{},(0,P.Z)({},t,{color:TH[t].backgroundColor,imageUrl:TH[t].imageURI}))}),{}));case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"_getNextItems",value:(t=(0,r.Z)(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.next){e.next=6;break}return e.next=3,this.transport.request(t.next,UH);case 3:return n=e.sent,i=n.body.content,e.abrupt("return",this._getNextItems(LH(LH({},i),{},{items:[].concat((0,_.Z)(t.items),(0,_.Z)(i.items))})));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function BH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function VH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HH=null;function GH(e){return e?function(e){return!e.includes("-page")&&(0,f.QS)(e)===e}(e)?"".concat(e,"-page"):e:null}function WH(e){return HH||(HH=new ZH((0,Bf.k)(),e.features.enableShows))}var zH=function(e){return function(t){return function(n){var i=e.getState();switch(n.type){case PH.ul:var r={enableClientXConcertsHub:n.isClientXConcertsHubEnabled};WH(i).getSearchBrowse(function(e){var t=e.session,n=(null==t?void 0:t.overrides)||{},i=(0,ix.rZ)(e);return{country:n.country||i,locale:n.locale||v.ag.getLocale()}}(i),r).then((function(t){e.dispatch((0,PH.ot)(function(e){return Object.keys(e).reduce((function(t,n){var i=e[n].items.map((function(e){return VH(VH({},e),{},{viewId:GH(e.viewId)})})).map((function(e){return e.title?VH(VH({},e),{},{title:e.title.replace(/\//g," / ")}):e}));return VH(VH({},t),{},(0,P.Z)({},n,VH(VH({},e[n]),{},{items:i})))}),{})}(t)))}),(function(t){e.dispatch((0,PH.bb)(t))}));break;case PH.R$:WH(i).getItemsStyle().then((function(t){e.dispatch((0,PH.RD)(function(e){return Object.keys(e).reduce((function(t,n){return VH(VH({},t),{},(0,P.Z)({},GH(n),VH({},e[n])))}),{})}(t)))})).catch((function(t){e.dispatch((0,PH.Vv)(t))}))}return t(n)}}};function KH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function YH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KH(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qH={topGenres:null,browseAll:null,allItemsStyle:null};function QH(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case PH.tk:return YH(YH({},e),{},{topGenres:t.data&&t.data["top-genres"]||null,browseAll:t.data&&t.data["browse-grid-mobile"]||null});case PH.vj:return YH(YH({},e),{},{allItemsStyle:t.items});default:return e}}var JH=function(){return(0,Rt.vQ)("sp_key")},XH=function(e){var t,n=(0,Bf.k)(),i=(t=JH(),setInterval((function(){t!==JH()&&window.location.reload()}),5e3));n.on(m.TransportEvent.LOGGED_OUT,(function(){clearInterval(i),e()}))};const $H=function(e){return function(t){return function(n){var i,r=t(n);switch(n.type){case Rf.VX:XH((function(){return e.dispatch({type:Rf.y})}));break;case Rf.y:(i=Jt.b.getInstance(),i.build().withHost(Z.SW).withHostIdentifier("https://open.spotify.com").withPath("/logout").withoutMarket().withoutAuthorization().withEndpointIdentifier("/logout").send()).then((function(){e.dispatch((0,Rf.ls)()),window.location.assign("/")}),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return console.error(n),e&&e(n),t?Promise.reject(n):Promise.resolve(void 0)}}())}return r}}};var eG=n(32264),tG=n(7145),nG="urn:x-cast:com.spotify.chromecast.secure.v1",iG=!1,rG=function(){var e;return null===(e=window.cast)||void 0===e?void 0:e.framework.CastContext.getInstance()},aG=function(e){return hZ()(e)},oG=function(e,t){e.send((0,eG.I)(t))},sG=function(e,t,n){var i,r,a=rG();a&&(a.setOptions({receiverApplicationId:tG.cast.appId,autoJoinPolicy:"page_scoped",androidReceiverCompatible:n}),e.dispatch(iw(a.getCastState())),a.addEventListener(null===(i=window.cast)||void 0===i?void 0:i.framework.CastContextEventType.CAST_STATE_CHANGED,(function(t){var n=t.castState;return e.dispatch(iw(n))})),a.addEventListener(null===(r=window.cast)||void 0===r?void 0:r.framework.CastContextEventType.SESSION_STATE_CHANGED,(function(n){var i,r,a=n.sessionState,o=n.session;if(a===(null===(i=window.cast)||void 0===i?void 0:i.framework.SessionState.SESSION_STARTING))oG(t,{step:"transfer_requested"});else if(a===(null===(r=window.cast)||void 0===r?void 0:r.framework.SessionState.SESSION_STARTED)){var s,l=null;null!=o&&null!==(s=o.getCastDevice())&&void 0!==s&&s.friendlyName&&(l=aG(o.getCastDevice().friendlyName)),e.dispatch({type:tw,deviceId:l}),oG(t,{step:"receiver_app_started"})}})))},lG=function(e,t,n){var i={tokenType:"accesstoken",blob:t.accessToken};e.sendMessage(nG,{type:"addUser",payload:i}),oG(n,{step:"message_from_sender"})},cG=function(){var e=(0,r.Z)(o().mark((function e(t,n,i,r){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.request("https://spclient.wg.spotify.com/device-auth/v1/refresh",{method:"POST",authorize:!0,payload:JSON.stringify({clientId:"d7df0887fb71494ea994202cb473eae7",deviceId:t})});case 2:if(null!==(a=e.sent).body){e.next=5;break}throw new Error("Invalid response from device-auth!");case 5:s=JSON.parse(a.body),lG(i,s,r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),uG=function(e,t,n){var i=rG().getCurrentSession();if(null!==i){i.addMessageListener(nG,(function(r,a){var o=JSON.parse(a);oG(n,{step:"message_from_receiver"});try{if("getInfoResponse"===o.type){var s=o.payload;cG(s.deviceID,e,i,n)}else if("addUserResponse"===o.type){var l=o.payload;t.dispatch((0,QT.Tu)(l.deviceId))}else if(o.type.endsWith("Error"))throw new Error(o.payload.status)}catch(e){console.error("Failed to transfer playback to Cast device!",e)}})),function(e,t){var n,i,r=e.getCastDevice(),a={remoteName:r.friendlyName,deviceID:aG(r.friendlyName),deviceAPI_isGroup:r.capabilities.includes(null===(n=chrome)||void 0===n||null===(i=n.cast)||void 0===i?void 0:i.Capability.MULTIZONE_GROUP)};e.sendMessage(nG,{type:"getInfo",payload:a}),oG(t,{step:"message_from_sender"})}(i,n)}},dG=function(e,t,n){var i=n.deviceInfo;if(i&&i.is_active&&(0,DN.j)(i.type)){var r,a,o,s=(null===(r=rG())||void 0===r?void 0:r.getCastState())===(null===(a=window.cast)||void 0===a?void 0:a.framework.CastState.CONNECTED),l=null===(o=e.getState().playback)||void 0===o?void 0:o.connectingCastDeviceId;s&&i.id===l&&(oG(t,{step:"transfer_finished"}),e.dispatch({type:nw}))}};function pG(e,t,n){return function(i){return function(r){return function(a){switch(a.type){case Rf.VX:!function(e,t,n){if(!window.cast){window.__onGCastApiAvailable=function(i){i&&!iG&&(sG(e,t,n),iG=!0)};var i=document.createElement("script");i.async=!0,i.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.body.appendChild(i)}}(i,t,n);break;case ew:(o=rG())&&o.requestSession();break;case $O:!function(e,t,n,i){var r;i.castState===(null===(r=window.cast)||void 0===r?void 0:r.framework.CastState.CONNECTED)&&uG(e,t,n)}(e,i,t,a);break;case QT.V5.DEVICE_INFO_CHANGED:dG(i,t,a)}var o;return r(a)}}}}var mG=n(12088),fG=n(60475),vG=function(e,t){return t.reduce((function(t,n){var i=e.includes(n);return{duplicates:i?[].concat((0,_.Z)(t.duplicates),[n]):t.duplicates,newUris:i?t.newUris:[].concat((0,_.Z)(t.newUris),[n])}}),{duplicates:[],newUris:[]})},gG=function(e){return function(t){return function(n){return function(){var i=(0,r.Z)(o().mark((function i(r){var a,s,l,c,u,d,p,m,v,g,h,k,y,b,S,x;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=n(r),i.t0=r.type,i.next=i.t0===uS.Hp.CHECK_DUPLICATE_TRACKS?4:31;break;case 4:return s=r.playlistUri,l=r.uris,c=r.position,u=void 0===c?{after:"end"}:c,i.prev=5,i.next=8,e.getMetadata(s);case 8:return d=i.sent,p=d.name,i.next=12,e.getContents(s);case 12:if(m=i.sent,v=(0,_.Z)(l),!(0,f.YF)(l[0])){i.next=21;break}return g=(0,bn.PQ)(Jt.b.getInstance()),i.next=18,(0,fG.Z)(l[0],0,g);case 18:h=i.sent,k=h.trackUris,v=k;case 21:y=m.items.map((function(e){return null==e?void 0:e.uri})),b=vG(y,v),S=b.duplicates,x=b.newUris,0===S.length?e.add(s,v,u):1===v.length?t.dispatch((0,uS.Ke)({playlistName:p,playlistUri:s,uri:v[0],position:u})):t.dispatch((0,uS.Ke)({playlistName:p,playlistUri:s,uris:v,newUris:x,position:u})),i.next=30;break;case 26:i.prev=26,i.t1=i.catch(5),e.add(s,l,u),window.console.error(i.t1);case 30:case 31:return i.abrupt("break",32);case 32:return i.abrupt("return",a);case 33:case"end":return i.stop()}}),i,null,[[5,26]])})));return function(e){return i.apply(this,arguments)}}()}}},hG=n(20979),kG=n(30694);const yG=function(e){return function(t){return function(n){return function(i){var r=n(i),a=i.type,o=t.getState().session.isAnonymous;switch(a){case oR.V.LOG_INTERACTION:e.send(o?(0,kG.w)(i.logData):(0,hG.p)(i.logData));break;case Ys.V5.PWA_INSTALL_COMPLETED:var s={action_type:"unknown",action_intent:"pwa-installed",target_uri:"/pwa-install-confirmation",item_id:"pwa",view_uri:"/unknown",page:"/page"};e.send(o?(0,kG.w)(s):(0,hG.p)(s))}return r}}}};var bG=n(36429),SG={get DEFAULT_PLAYBACK_STUCK(){return v.ag.get("feedback.cant-play-track")},get FORCED_OFFLINE_MODE(){return v.ag.get("feedback.track-not-available-forced-offline")},get CANT_OFFLINE_SYNC_PLAYLIST_IN_OFFLINE_MODE(){return v.ag.get("feedback.cant-offline-sync-playlist-in-offline-mode")},get ARTIST_BANNED_BY_USER(){return v.ag.get("feedback.artist-banned-by-user")},get TRACK_BANNED_BY_USER(){return v.ag.get("feedback.track-banned-by-user")},get REGION_RESTRICTED(){return v.ag.get("feedback.track-not-available-in-region")},get DEFAULT_PLAYER_ERROR(){return v.ag.get("feedback.track-not-available")},get NETWORK_ERROR(){return v.ag.get("feedback.video-playback-network-error")},get PREMIUM_RESTRICTED(){return v.ag.get("feedback.track-exclusive-premium")},get CANT_SKIP_ADS(){return v.ag.get("feedback.cant-skip-ads")},get CANT_PLAY_DURING_ADS(){return v.ag.get("feedback.cant-play-during-ads")},get SKIP_ADS_TO_HEAR_SONG(){return v.ag.get("feedback.skip-ads-to-hear-song")},get SKIP_AFTER_DELAY(){return v.ag.get("feedback.skip-ads-after-delay")},get CAPPING_REACHED(){return v.ag.get("capping.upsell-title")},get VIDEO_GEORESTRICTED(){return v.ag.get("feedback.video-georestricted")},get VIDEO_UNSUPPORTED_CLIENT_VERSION(){return v.ag.get("feedback.video-unsupported-client-version")},get VIDEO_UNSUPPORTED_PLATFORM_VERSION(){return v.ag.get("feedback.video-unsupported-platform-version")},get VIDEO_COUNTRY_RESTRICTED(){return v.ag.get("feedback.video-country-restricted")},get VIDEO_UNAVAILABLE(){return v.ag.get("feedback.video-unavailable")},get VIDEO_CATALOGUE_RESTRICTED(){return v.ag.get("feedback.video-catalogue-restricted")},get VIDEO_PLAYBACK_ERROR(){return v.ag.get("feedback.video-playback-error")},get VIDEO_UNSUPPORTED_KEY_SYSTEM(){return v.ag.get("feedback.video-unsupported-key-system")},get EXPLICIT_CONTENT_FILTERED(){return v.ag.get("feedback.explicit-content-filtered")},get INTERRUPT_PLAYBACK_RESTRICTED(){return v.ag.get("feedback.play-after-ad")}};function xG(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,Re.k6)(n)&&n.isSkippableAd}function OG(e,t){switch(t.code){case st.cg.PLAYBACK_STUCK:return SG.DEFAULT_PLAYBACK_STUCK;case st.cg.ONE_TRACK_UNPLAYABLE:case st.cg.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:case st.cg.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return(n=t.reasons).includes(st.Su.NOT_AVAILABLE_IN_CURRENT_REGION)?SG.REGION_RESTRICTED:n.includes(st.Su.NOT_AVAILABLE_IN_NON_PREMIUM)?SG.PREMIUM_RESTRICTED:n.includes(st.Su.NOT_AVAILABLE_OFFLINE)?SG.FORCED_OFFLINE_MODE:n.includes(st.Su.USER_CAPPING_REACHED)?SG.CAPPING_REACHED:n.includes(st.Su.BANNED_BY_USER_ARTIST)?SG.ARTIST_BANNED_BY_USER:n.includes(st.Su.BANNED_BY_USER_TRACK)?SG.TRACK_BANNED_BY_USER:n.includes(st.Su.EXPLICIT_CONTENT_FILTERED)?SG.EXPLICIT_CONTENT_FILTERED:SG.DEFAULT_PLAYER_ERROR;case st.cg.INTERRUPT_PLAYBACK_RESTRICTED:return SG.INTERRUPT_PLAYBACK_RESTRICTED;case st.cg.VIDEO_GEORESTRICTED:return SG.VIDEO_GEORESTRICTED;case st.cg.VIDEO_UNSUPPORTED_CLIENT_VERSION:return SG.VIDEO_UNSUPPORTED_CLIENT_VERSION;case st.cg.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return SG.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case st.cg.VIDEO_COUNTRY_RESTRICTED:return SG.VIDEO_COUNTRY_RESTRICTED;case st.cg.VIDEO_UNAVAILABLE:return SG.VIDEO_UNAVAILABLE;case st.cg.VIDEO_CATALOGUE_RESTRICTED:return SG.VIDEO_CATALOGUE_RESTRICTED;case st.cg.VIDEO_PLAYBACK_ERROR:return SG.VIDEO_PLAYBACK_ERROR;case st.cg.VIDEO_UNSUPPORTED_KEY_SYSTEM:return SG.VIDEO_UNSUPPORTED_KEY_SYSTEM;case st.cg.PAUSE_RESTRICTED:return t.reasons.includes(st.Su.ALREADY_PAUSED)?null:SG.DEFAULT_PLAYER_ERROR;case st.cg.RESUME_RESTRICTED:return t.reasons.includes(st.Su.NOT_PAUSED)?null:SG.DEFAULT_PLAYER_ERROR;case st.cg.PLAY_RESTRICTED:return t.reasons.includes(st.Su.AD_DISALLOW)?xG(e)?SG.SKIP_ADS_TO_HEAR_SONG:SG.CANT_SKIP_ADS:null;case st.cg.SKIP_TO_NEXT_RESTRICTED:return t.reasons.includes(st.Su.AD_DISALLOW)?xG(e)?SG.SKIP_AFTER_DELAY:SG.CANT_PLAY_DURING_ADS:null;case st.cg.TIMEOUT:return SG.NETWORK_ERROR;case st.cg.SKIP_TO_PREV_RESTRICTED:return t.reasons.includes(st.Su.THROTTLED)?null:SG.DEFAULT_PLAYER_ERROR;default:return SG.DEFAULT_PLAYER_ERROR}var n}var wG=n(45044);var NG=function(e,t){return t?v.ag.get("offline.feedback-text"):e},_G=function(e,t){return t?"offline.feedback-text":e},EG=function(e){return e?$m.nY.NOTICE:$m.nY.ERROR},CG=function(e,t,n,a,s,l,c,u){return function(d){var p;globalThis.Spicetify.showNotification=(message,isError=false,msTimeout)=>m({message,feedbackType:isError?"ERROR":"NOTICE",msTimeout});const m=(p=d.dispatch,function(e){var t=e.message,n=e.errorKey,i=e.feedbackType,r=void 0===i?$m.nY.NOTICE:i,a=e.msTimeout,o=void 0===a?2500:a;r===$m.nY.ERROR&&pc("feedback_banner","error",n),(0,wG.T)({hide:function(){return p((0,$m.Xe)())},show:function(){return p((0,$m.TB)(t,r))},msTimeout:o})}),g=e.getEvents();g.addListener(Fe.rg.ERROR,(function(t){var n=t.data;!function(e,t,n){var i=OG(t,n);null!==i&&(0,wG.T)({hide:function(){return e.dispatch((0,$m.Xe)())},show:function(){return e.dispatch((0,$m.TB)(i))},msTimeout:4e3})}(d,e.getState(),n)})),g.addListener(Fe.rg.QUEUE_ACTION_COMPLETE,(function(e){var t=d.getState(),n=t.onlineStatus&&!t.onlineStatus.online;if(e.data.action===Fe.FE.ADD)e.data.error?m({message:NG(v.ag.get("error.generic"),n),errorKey:_G("error.generic",n),feedbackType:EG(n),msTimeout:5e3}):m({message:v.ag.get("queue.added-to-queue")})})),t.getEvents().addListener(_r.XL.OPERATION_COMPLETE,(function(e){var t=d.getState(),n=t.onlineStatus&&!t.onlineStatus.online;if(e.data.operation===_r.If.ADD)e.data.error?m({message:NG(v.ag.get("error.generic"),n),errorKey:_G("error.generic",n),feedbackType:EG(n),msTimeout:5e3}):m({message:v.ag.get("feedback.added-to-playlist-generic")})})),s.getEvents().addListener(ka.fv.OPERATION_COMPLETE,(function(e){var t,n=d.getState(),i=n.session.user,r=n.onlineStatus&&!n.onlineStatus.online;if(e.data.error)m({message:NG(v.ag.get("error.generic"),r),errorKey:_G("error.generic",r),feedbackType:EG(r),msTimeout:5e3});else switch(e.data.operation){case ka.Qd.SET_BASE_PERMISSION:t="VIEWER"===e.data.permissionLevel?v.ag.get("feedback.playlist-made-public"):v.ag.get("feedback.playlist-made-private"),m({message:t});break;case ka.Qd.SET_MEMBER_PERMISSION:t="VIEWER"===e.data.permissionLevel?v.ag.get("feedback.member-made-listener"):v.ag.get("feedback.member-made-contributor"),m({message:t});break;case ka.Qd.REMOVE_MEMBER:t=(null==i?void 0:i.id)===e.data.username?v.ag.get("feedback.left-playlist"):v.ag.get("feedback.removed-member"),m({message:t})}})),a.getEvents().addListener(Ta.Yt.OPERATION_COMPLETE,(function(e){var t=d.getState(),n=t.onlineStatus&&!t.onlineStatus.online;if(e.data.error)m({message:NG(v.ag.get("error.generic"),n),errorKey:_G("error.generic",n),feedbackType:EG(n),msTimeout:5e3});else switch(e.data.operation){case Ta.aY.ADD:m({message:v.ag.get("feedback.saved-to-your-library")});break;case Ta.aY.REMOVE:m({message:v.ag.get("feedback.removed-from-your-library")});break;case Ta.aY.MOVE:e.data.showAddConfirmation&&m({message:v.ag.get("feedback.saved-to-your-library")})}})),n.getEvents().addListener(ii.EW.OPERATION_COMPLETE,function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,s,l,c,p,g,h,k,y,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.getState(),r=n.onlineStatus&&!n.onlineStatus.online,!t.data.error){e.next=5;break}return m({message:NG(v.ag.get("error.generic"),r),errorKey:_G("error.generic",r),feedbackType:EG(r),msTimeout:5e3}),e.abrupt("return");case 5:e.t0=t.data.operation,e.next=e.t0===ii.pT.ADD?8:e.t0===ii.pT.REMOVE?39:70;break;case 8:if(s=(0,i.Z)(t.data.uris,1),l=s[0],(c=null===(a=(0,f.EC)(l))||void 0===a?void 0:a.type)!==f.JM.TRACK){e.next=14;break}m({message:v.ag.get("feedback.added-to-your-liked-songs")}),e.next=38;break;case 14:if(c!==f.JM.EPISODE){e.next=18;break}m({message:v.ag.get("feedback.added-to-your-episodes")}),e.next=38;break;case 18:if(c!==f.JM.ARTIST){e.next=22;break}m({message:v.ag.get("web-player.your-library-x.feedback-added-to-your-artists")}),e.next=38;break;case 22:if(c!==f.JM.ALBUM){e.next=26;break}m({message:v.ag.get("web-player.your-library-x.feedback-added-to-your-albums")}),e.next=38;break;case 26:if(c!==f.JM.PLAYLIST&&c!==f.JM.PLAYLIST_V2){e.next=30;break}m({message:v.ag.get("web-player.your-library-x.feedback-added-to-your-playlists")}),e.next=38;break;case 30:if(c!==f.JM.SHOW){e.next=37;break}return e.next=33,u.getMetadata(l).then(Bo.l6);case 33:p=e.sent,m(p?{message:v.ag.get("web-player.your-library-x.feedback-added-to-your-audiobooks")}:{message:v.ag.get("web-player.your-library-x.feedback-added-to-your-podcasts-and-shows")}),e.next=38;break;case 37:m({message:v.ag.get("web-player.your-library-x.feedback-added-to-your-library")});case 38:return e.abrupt("break",71);case 39:if(h=(0,i.Z)(t.data.uris,1),k=h[0],(y=null===(g=(0,f.EC)(k))||void 0===g?void 0:g.type)!==f.JM.TRACK){e.next=45;break}m({message:v.ag.get("feedback.removed-from-your-liked-songs")}),e.next=69;break;case 45:if(y!==f.JM.EPISODE){e.next=49;break}m({message:v.ag.get("feedback.removed-from-your-episodes")}),e.next=69;break;case 49:if(y!==f.JM.ARTIST){e.next=53;break}m({message:v.ag.get("web-player.your-library-x.feedback-removed-from-your-artists")}),e.next=69;break;case 53:if(y!==f.JM.ALBUM){e.next=57;break}m({message:v.ag.get("web-player.your-library-x.feedback-removed-from-your-albums")}),e.next=69;break;case 57:if(y!==f.JM.PLAYLIST&&y!==f.JM.PLAYLIST_V2){e.next=61;break}m({message:v.ag.get("web-player.your-library-x.feedback-removed-from-your-playlists")}),e.next=69;break;case 61:if(y!==f.JM.SHOW){e.next=68;break}return e.next=64,u.getMetadata(k).then(Bo.l6);case 64:b=e.sent,m(b?{message:v.ag.get("web-player.your-library-x.feedback-removed-from-your-audiobooks")}:{message:v.ag.get("web-player.your-library-x.feedback-removed-from-your-podcasts-and-shows")}),e.next=69;break;case 68:m({message:v.ag.get("feedback.removed-from-your-library")});case 69:case 70:return e.abrupt("break",71);case 71:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var h=l.getEvents();h.addListener(bG.c.ENHANCED_WITH_NUM_RECS,(function(e){m({message:v.ag.get("web-player.enhance.feedback.recommended_songs_added",e.data.numRecs)})})),h.addListener(bG.c.RECOMMENDATION_ADDED,(function(e){(0,f.nK)(e.data.uri)&&m({message:v.ag.get("web-player.enhance.feedback.added_recommendation_to_playlist")})})),h.addListener(bG.c.RECOMMENDATION_ADD_FAIL,(function(){m({message:v.ag.get("web-player.enhance.feedback.something_went_wrong"),feedbackType:$m.nY.ERROR})})),h.addListener(bG.c.RECOMMENDATION_REMOVED,(function(){m({message:v.ag.get("web-player.enhance.feedback.removed_recommendation")})})),h.addListener(bG.c.RECOMMENDATION_REMOVE_FAIL,(function(){m({message:v.ag.get("web-player.enhance.feedback.something_went_wrong"),feedbackType:$m.nY.ERROR})})),h.addListener(bG.c.ENHANCE_OFFLINE_FAILURE,(function(e){var t=e.data.uri;(0,f.nK)(t)&&m({message:v.ag.get("web-player.enhance.feedback.enhance_playlist_not_possible_offline"),feedbackType:$m.nY.ERROR})}));var k=c.getEvents();return k.addListener(z.zy.ADDED,(function(e){"client"===e.data.source&&"ignoreinrecs"===e.data.set&&m({message:v.ag.get("feedback.exclude-playlist-from-recommendations")})})),k.addListener(z.zy.REMOVED,(function(e){"client"===e.data.source&&"ignoreinrecs"===e.data.set&&m({message:v.ag.get("feedback.include-playlist-in-recommendations")})})),function(e){return function(t){var n=e(t);if(t.err&&"DUPLICATE_REQUEST_ERROR"===t.err.name)return null;var i=d.getState(),r=i.onlineStatus&&!i.onlineStatus.online;switch(t.type){case el.V5.COPY_LINK_SUCCESS:m({message:v.ag.get("feedback.link-copied")});break;case QT.V5.PLAYBACK_ERROR:m({message:NG(v.ag.get("error.playback"),r),errorKey:_G("error.playback",r),feedbackType:EG(r),msTimeout:1e4});break;case QT.V5.UNABLE_TO_PLAY_TRACK:m({message:v.ag.get("feedback.unable-to-play")});break;case Ys.V5.PWA_INSTALL_COMPLETED:m({message:v.ag.get("pwa.confirm")});break;case $m.zn:m({message:v.ag.get("feedback.radio.ban-track")});break;case $m.c4:m({message:v.ag.get("feedback.format-list-ban-artist",t.artistName,t.playlistName)});break;case $m.Mn:m({message:v.ag.get("feedback.format-list-ban-track",t.artistName,t.playlistName)});break;case $m.Rm:m({message:v.ag.get("feedback.added-to-your-episodes")});break;case $m.EQ:m({message:v.ag.get("feedback.removed-from-your-episodes")});break;case $m.Jf:m({message:v.ag.get("feedback.playlist-publish")});break;case $m.rp:m({message:v.ag.get("feedback.playlist-unpublish")});break;case $m.xh:m({message:v.ag.get("feedback.block-user")});break;case $m.vx:m({message:v.ag.get("feedback.unblock-user")});break;case el.V5.EMPLOYEE_PODCASTS_AUTH_SUCCESS:m({message:v.ag.get("feedback.employee-podcast-access")})}return n}}}};const PG=function(){return function(e){return function(t){var n=e(t);if(t.type===oR.V.LOG_INTERACTION){var i=t.logData;pc(i.action_type,i.action_intent,i.item_id)}return n}}};var IG,jG,AG=!1,TG=[],DG=[],RG=function(e){try{(0,Fs.sQ)({metric_type:Vs.MetricTypes.COUNTER,what:"harmony-error",value:1,tags:{type:e}})}catch(e){}},FG=function(e,t){return(jG=function(){if(null===Ae)throw new Error("Missing `instance`. Have you called `createHarmony` yet?");return Ae}()).on(be.ih.LOCAL_PLAYER_ENABLED,(function(){var e=function(){try{var e=localStorage.getItem(Oe);return null===e?null:JSON.parse(e).volume||null}catch(e){return null}}();null!==e&&jG.setVolume(e,"@local");try{mV("playback_load_end");var t=fV("playback_load_start","playback_load_end","time_to_playback_ready"),n=(0,i.Z)(t,1)[0],r=(void 0===n?{}:n).duration;Boolean(r)&&(0,Fs.sQ)({metric_type:Vs.MetricTypes.TIMER,what:"playback-ready",value:Vs.Time.fromMillis(r).asNanos()}).catch((function(){return{}}))}catch(e){}})),jG.on(be.ih.AUTHENTICATION_ERROR,(function(){RG(be.ih.AUTHENTICATION_ERROR)})),jG.on(be.ih.UNRECOVERABLE_FAILURE,(function(t){var n=t.data,i=n.error.message||"";navigator.userAgent.indexOf("Edge")>-1?(e.dispatch(QT.J_()),(0,Ls.PC)(n.error),RG(QT.V5.CDM_ERROR)):n.source===be.cI.PLAYBACK&&e.dispatch(QT.cJ(n.name,n.source,i)),RG(be.ih.UNRECOVERABLE_FAILURE)})),jG.on(be.ih.ERROR,(function(t){var n,i,r=t.data;if(r.error.code===be._j.EME_LICENSE_REQUEST_WIDEVINE_ERROR&&e.dispatch(el.jv()),r.error.code===be._j.MEDIA_DECODING_ERROR&&!AG){var a=r.source,o=r.error.message||"";e.dispatch(QT.cJ("media_decoding_error",a,o))}var s=r.name||(null===(n=r.error)||void 0===n?void 0:n.name)||(null===(i=r.error)||void 0===i?void 0:i.code)||"unknown";RG(s)})),jG.on(be.ih.PLAYER_INITIALIZATION_DONE,(function(){t.triggerActions(),e.dispatch({type:$T})})),jG.on(be.ih.PLAYER_INITIALIZATION_FAILED,(function(t){var n=t.data;if(!navigator.webdriver&&(RG(QT.V5.CDM_ERROR),n.error)){if(n.error.message&&n.error.message.indexOf("0x80004005")>=0)return;e.dispatch(QT.J_()),(0,Ls.PC)(n.error)}})),jG.on(be.ih.MAX_SUBSCRIPTIONS_REACHED,(function(t){var n=t.data;e.dispatch(QT.lY(n.source)),RG(be.ih.MAX_SUBSCRIPTIONS_REACHED)})),jG.on(be.ih.PRODUCT_STATE_CHANGED,(function(){})),jG.on(be.ih.STATE_CHANGED,(function(e){var t;if(e.data.state&&e.data.state.context&&e.data.state.context.uri&&(e.data.state.context.uri=e.data.state.context.uri.replace(/:user:([^:]+):playlist:/g,":playlist:")),0===TG.length)try{mV("playback_load_update");var n=TG=fV("playback_load_start","playback_load_update","time_to_playback_fetched"),r=(0,i.Z)(n,1)[0],a=(void 0===r?{}:r).duration;Boolean(a)&&(0,Fs.sQ)({metric_type:Vs.MetricTypes.TIMER,what:"playback-fetched",value:Vs.Time.fromMillis(a).asNanos()}).catch((function(){return{}}))}catch(e){}(null===(t=e.data.state)||void 0===t||!t.paused)&&DG.length})),jG.on(be.ih.LAST_ACTIVE_DEVICE_INFO_CHANGED,(function(t){var n=t.data.deviceInfo;e.dispatch(QT.$P(n))})),jG.on(be.ih.PROGRESS,(function(){AG=!0})),jG},LG=function(e,t){var n=e.getState();return(0,ef.Gg)(n).isAnonymous?null:FG(e,t)};var MG="STORE_SEARCH",UG="SEARCH_HISTORY_CLEAR_DATA",ZG=n(59648),BG=function(){return function(e){return function(t){if(t.type===UG)localStorage.removeItem(ZG.J);return e(t)}}},VG=function(){return function(e){return function(){var t=(0,r.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};function HG(e){return function(t){return function(n){return function(i){var r=n(i);if(i.type===Rf.y){e.finalFlush(),t.dispatch((0,QT.Nk)()),t.dispatch({type:UG});var a=document.getElementById("session");a&&a.remove()}return r}}}}var GG=!1;const WG=function(e,t){var n=e.getEvents();return function(e){return n.addListener(Fe.rg.ACTION,(function(n){var i,r,a,o=e.getState(),s=Vm(),l=null!==s&&!1===(null==s?void 0:s.seen);GG||n.data.action!==Fe.zr.PLAY||(GG=!0,l&&(GG=!0,i=!0,r=encodeURIComponent(JSON.stringify({seen:i})),null!==(a=Vm())&&a.seen===i||(0,Rt.pC)({name:Mm,days:30,domain:".spotify.com",value:r}),t.send(Zm({country:o.session.userCountry,os:(0,de.y)()})),e.dispatch((0,el.D8)())))})),function(e){return function(t){return e(t)}}}},zG=function(){return function(e){return function(t){var n=e(t);switch(t.type){case el.V5.ENTER_FULLSCREEN:document.documentElement.classList.add("fullscreen");break;case el.V5.LEAVE_FULLSCREEN:document.documentElement.classList.remove("fullscreen")}return n}}};function KG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function YG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KG(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qG={isOpen:!1};const QG=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qG;switch((arguments.length>1?arguments[1]:void 0).type){case _v.Hp.SHOW_ABOUT_RECS_MODAL:return YG(YG({},e),{},{isOpen:!0});case _v.Hp.HIDE_ABOUT_RECS_MODAL:return YG(YG({},e),{},{isOpen:!1});default:return e}};function JG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function XG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JG(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $G={isOpen:!1};const eW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$G;switch((arguments.length>1?arguments[1]:void 0).type){case gh.Hp.SHOW_ABOUT_SPOTIFY_MODAL:return XG(XG({},e),{},{isOpen:!0});case gh.Hp.HIDE_ABOUT_SPOTIFY_MODAL:return XG(XG({},e),{},{isOpen:!1});default:return e}};function tW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iW={isOpen:!1,uri:"",dialog:void 0},rW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iW,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aS.Hp.SHOW_AGE_RESTRICTION_MODAL:return nW(nW({},e),{},{isOpen:!0,dialog:t.dialog});case aS.Hp.GET_AGE_RESTRICTION_MODAL:return nW(nW({},e),{},{uri:t.uri});case aS.Hp.HIDE_AGE_RESTRICTION_MODAL:return nW(nW({},e),{},{isOpen:!1});default:return e}};function aW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sW={isOpen:!1,playlistUri:void 0,uris:void 0,position:void 0,playlistName:void 0,newUris:void 0},lW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sW,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uS.Hp.SHOW_DUPLICATE_TRACKS_DIALOG:return oW(oW({},e),{},{isOpen:!0,playlistUri:t.playlistUri,uri:t.uri,uris:t.uris,position:t.position,playlistName:t.playlistName,newUris:t.newUris});case uS.Hp.HIDE_DUPLICATE_TRACKS_DIALOG:return oW(oW({},e),{},{isOpen:!1});default:return e}},cW={ads:!1};const uW=function(e,t){return t.type,e||cW};function dW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mW={message:null,feedbackType:$m.nY.NOTICE,isHidden:!0};const fW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mW,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $m.Gh:return pW(pW({},e),{},{message:t.message,feedbackType:t.feedbackType||$m.nY.NOTICE,isHidden:!1});case $m.X3:return pW(pW({},e),{},{isHidden:!0});default:return e}};function vW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hW={isOpen:!1};const kW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hW;switch((arguments.length>1?arguments[1]:void 0).type){case hh.Hp.SHOW_LICENSES_MODAL:return gW(gW({},e),{},{isOpen:!0});case hh.Hp.HIDE_LICENSES_MODAL:return gW(gW({},e),{},{isOpen:!1});default:return e}};var yW=function(e){var t=(0,h.ZO)();return{isBrowser:t===k.W.Web,isPWA:t===k.W.PWA,isDesktop:t===k.W.Desktop,shouldCalloutPWA:(0,h.bX)(),isDeveloperMode:e.isDeveloperMode,isVideoSupported:e.isVideoSupported}},bW=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yW(e);return(arguments.length>1?arguments[1]:void 0).type===Ys.V5.PWA_DISPLAY_MODE_CHANGED?yW(e):t}};function SW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OW={device:null,castState:"NO_DEVICES_AVAILABLE",connectingCastDeviceId:null,radioStation:{tracks:[]}},wW=function(e,t){var n=t.deviceInfo;return n&&isNaN(n.volume)&&(n.volume=0),xW(xW({},e),{},{device:n})},NW=function(e,t){return xW(xW({},e),{},{castState:t.castState})},_W=function(e,t){return xW(xW({},e),{},{connectingCastDeviceId:t.deviceId})},EW=function(e){return xW(xW({},e),{},{connectingCastDeviceId:null})},CW=function(e){return localStorage.removeItem(Oe),xW({},e)};const PW=(IW={},(0,P.Z)(IW,QT.V5.DEVICE_INFO_CHANGED,wW),(0,P.Z)(IW,QT.V5.PLAYBACK_CLEAR_DATA,CW),(0,P.Z)(IW,$O,NW),(0,P.Z)(IW,tw,_W),(0,P.Z)(IW,nw,EW),jW=IW,function(e,t){var n=null;return t.type in jW&&(n=jW[t.type](n||e,t)),n||e||OW});var IW,jW;function AW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function TW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var DW,RW="searchHistory",FW={contexts:(DW=localStorage.getItem(RW),DW?JSON.parse(DW).filter((function(e){return"uri"in e})):[])};const LW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FW,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case MG:var n=t.uri?function(e,t,n,i){return[{uri:e,name:t,image:n}].concat(i.filter((function(t){return t.uri!==e}))).splice(0,4)}(t.uri,t.name,t.image,e.contexts):e.contexts;try{localStorage.setItem(RW,JSON.stringify(n))}catch(e){}return TW(TW({},e),{},{contexts:n});case UG:return localStorage.removeItem(RW),TW(TW({},e),{},{contexts:[]});default:return e}};var MW={};const UW=function(e){return null!=e?e:MW};function ZW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function BW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function HW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function WW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zW=(0,vV.UY)({premiumDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case UV.A:var n=t.data,i=n.product,r=n.country,a=n.policies;return("premium"!==i||null!=a&&a.opt_in_trial_premium_only_market)&&"KR"===r?WW(WW({},e),{},{isOpen:!0}):e;case el.V5.HIDE_PREMIUM_MODAL:return WW(WW({},e),{},{isOpen:!1});case el.V5.SHOW_PREMIUM_MODAL:return WW(WW({},e),{},{isOpen:!0});default:return e}},loginToListenDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.HIDE_L2L_MODAL:return WW(WW({},e),{},{isOpen:!1});case el.V5.SHOW_L2L_MODAL:return WW(WW({},e),{},{isOpen:!0});default:return e}},signupToListenDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.HIDE_S2L_MODAL:return WW(WW({},e),{},{isOpen:!1});case el.V5.SHOW_S2L_MODAL:return WW(WW({},e),{},{isOpen:!0});default:return e}},deletePlaylistDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.OPEN_DELETE_PLAYLIST_DIALOG:return WW(WW({},e),{},{isOpen:!0,uri:t.uri});case el.V5.CLOSE_DELETE_PLAYLIST_DIALOG:return WW(WW({},e),{},{isOpen:!1});default:return e}},deleteFolderDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.OPEN_DELETE_FOLDER_DIALOG:return WW(WW({},e),{},{isOpen:!0,uri:t.uri,onDeleteCallback:t.onDeleteCallback});case el.V5.CLOSE_DELETE_FOLDER_DIALOG:return WW(WW({},e),{},{isOpen:!1});default:return e}},removeFromLibraryDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.OPEN_REMOVE_FROM_LIBRARY_DIALOG:return WW(WW({},e),{},{isOpen:!0,uri:t.uri});case el.V5.CLOSE_REMOVE_FROM_LIBRARY_DIALOG:return WW(WW({},e),{},{isOpen:!1});default:return e}},leavePlaylistDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,playlistUri:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.OPEN_LEAVE_PLAYLIST_DIALOG:return{isOpen:!0,playlistUri:t.playlistUri};case el.V5.CLOSE_LEAVE_PLAYLIST_DIALOG:return{isOpen:!1,playlistUri:t.playlistUri};default:return e}},blockUserDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.OPEN_BLOCK_USER_DIALOG:return WW(WW({},e),{},{isOpen:!0,uri:t.uri,name:t.name});case el.V5.CLOSE_BLOCK_USER_DIALOG:return WW(WW({},e),{},{isOpen:!1});default:return e}},improvedSignupPromptDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uri:null,isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.OPEN_SIGNUP_PROMPT_DIALOG:return WW(WW({},e),{},{uri:t.uri,isOpen:!0});case el.V5.CLOSE_SIGNUP_PROMPT_DIALOG:return WW(WW({},e),{},{isOpen:!1});default:return e}},unsupportedBrowser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null,isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.HIDE_UNSUPPORTED_MESSAGE:return WW(WW({},e),{},{message:null,isOpen:!1});case el.V5.SHOW_UNSUPPORTED_MESSAGE:return WW(WW({},e),{},{message:t.message,isOpen:!0});default:return e}},offlineDeviceLimitReachedDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.HIDE_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:return WW(WW({},e),{},{isOpen:!1});case el.V5.SHOW_OFFLINE_DEVICE_LIMIT_REACHED_MODAL:return WW(WW({},e),{},{isOpen:!0});default:return e}},playbackNotSupportedErrorDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,hasOccurred:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.HIDE_PLAYBACK_NOT_SUPPORTED_MODAL:return WW(WW({},e),{},{isOpen:!1});case el.V5.SHOW_PLAYBACK_NOT_SUPPORTED_MODAL:return WW(WW({},e),{},{isOpen:!0,hasOccurred:!0});default:return e}},errorPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isError:!1,name:""};switch((arguments.length>1?arguments[1]:void 0).type){case QT.V5.CDM_ERROR:return WW(WW({},e),{},{isError:!0,name:"cdmerror"});case QT.V5.HARMONY_MAX_SUBSCRIPTIONS_REACHED:return WW(WW({},e),{},{isError:!0,name:"max_subscriptions_reached"});default:return e}},fullscreenMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.OPEN_FULLSCREEN_MODE:return{isOpen:!0};case el.V5.CLOSE_FULLSCREEN_MODE:case el.V5.LEAVE_FULLSCREEN:return{isOpen:!1};default:return e}},nowPlayingCover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forcedExpandedState:_y.NowPlayingCoverStateEnum.none},t=arguments.length>1?arguments[1]:void 0;return t.type===el.V5.SET_NOW_PLAYING_COVER_FORCED_EXPANDED_STATE?WW(WW({},e),{},{forcedExpandedState:t.forcedExpandedState}):e},connectDevicePicker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.CONNECT_DEVICE_PICKER_OPENED:return WW(WW({},e),{},{isOpen:!0});case el.V5.CONNECT_DEVICE_PICKER_CLOSED:return WW(WW({},e),{},{isOpen:!1});default:return e}},connectNudge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.SHOW_CONNECT_NUDGE:return WW(WW({},e),{},{isOpen:!0});case el.V5.HIDE_CONNECT_NUDGE:return WW(WW({},e),{},{isOpen:!1});default:return e}},videoPlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSubtitlesEnabled:!1,hiddenByUser:!1,mode:Zh.B.none},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bh.Iq.SET_VIDEO_MODE:return BW(BW({},e),{},{mode:t.mode});case Bh.Iq.SET_HIDDEN_BY_USER:return BW(BW({},e),{},{hiddenByUser:t.hiddenByUser});default:return e}},textDirection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isRTL:!1},t=arguments.length>1?arguments[1]:void 0;return t.type===Xs.SET_RTL_MODE?WW(WW({},e),{},{isRTL:t.isRTL}):e},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{canGoBack:!1,canGoForward:!1},t=arguments.length>1?arguments[1]:void 0;return t.type===el.V5.UPDATE_UI_HISTORY_STATE?t.historyState:e},keyboardShortcutsHelpModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;return t.type===el.V5.SET_KEYBOARD_SHORTCUTS_HELP_VISIBILITY?WW(WW({},e),{},{isOpen:t.isOpen}):e},trackCreditsModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,trackUri:""},t=arguments.length>1?arguments[1]:void 0;return t.type===el.V5.SHOW_TRACK_CREDITS?WW(WW({},e),{},{isOpen:t.isOpen,trackUri:t.trackUri}):e},removeDownloadsDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.OPEN_REMOVE_DOWNLOADS_DIALOG:return WW(WW({},e),{},{isOpen:!0});case el.V5.CLOSE_REMOVE_DOWNLOADS_DIALOG:return WW(WW({},e),{},{isOpen:!1});default:return e}},clearCacheDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1};switch((arguments.length>1?arguments[1]:void 0).type){case el.V5.OPEN_CLEAR_CACHE_DIALOG:return WW(WW({},e),{},{isOpen:!0});case el.V5.CLOSE_CLEAR_CACHE_DIALOG:return WW(WW({},e),{},{isOpen:!1});default:return e}},renameFolderModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,name:"",handleRename:function(){}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_RENAME_FOLDER_MODAL":return WW(WW({},e),{},{isOpen:!0,name:t.name,handleRename:t.handleRename});case"CLOSE_RENAME_FOLDER_MODAL":return WW(WW({},e),{},{isOpen:!1});default:return e}},lyrics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mode:GL.f.none},t=arguments.length>1?arguments[1]:void 0;return t.type===v_.SET_LYRICS_MODE?HW(HW({},e),{},{mode:t.mode}):e},removeDownloadConfirmationDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.OPEN_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG:return{uri:t.uri,isOpen:!0,onConfirm:t.onConfirm,onCancel:t.onCancel,remoteDeviceInfo:t.remoteDeviceInfo};case el.V5.CLOSE_REMOVE_DOWNLOAD_CONFIRMATION_DIALOG:return{isOpen:!1};default:return e}},bookConsumptionCapModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1,consumptionCapExplanation:{title:"",body:"",cta:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el.V5.OPEN_BOOK_CONSUMPTION_CAP_MODAL:return WW(WW({},e),{},{isOpen:!0,consumptionCapExplanation:t.consumptionCapExplanation});case el.V5.CLOSE_BOOK_CONSUMPTION_CAP_MODAL:return WW(WW({},e),{},{isOpen:!1});default:return e}}});function KW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var YW=function(e){return(0,vV.UY)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KW(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({playback:PW,session:Rf.cY,ui:zW,feedbackBubble:fW,searchHistory:LW,features:uW,browse:QH,duplicateTracks:lW,ageRestriction:rW,platform:bW(e),ads:CH(e.container),inAppMessaging:wv,aboutRecs:QG,seoExperiment:UW},e.container===k.W.Desktop&&{aboutSpotify:eW,licenses:kW}))},qW=vV.qC,QW=function(e,t){var n,i,a,s,l,c=e.session,u=t.platform,d=t.rootlistApi,p=t.playlistApi,m=t.permissionsApi,f=t.libraryApi,v=t.playbackApi,g=t.playerApi,h=t.followApi,k=t.showApi,y=t.actionStoreApi,b=t.enhanceApi,S=t.collectionPlatformApi,x=js(u),O=[];return x?O.push((n=t.eventSender,function(){return function(e){return function(t){var i=e(t);return t.type===Rf.y&&n.finalFlush().finally(mG.k),i}}})):(null!=c&&c.isAnonymous||O.push(function(e){return function(t){return function(n){return function(i){var r=n(i),a=t.getState(),o=a.session;if(i.type in QT.V5){var s=t.getState().ui.playbackNotSupportedErrorDialog,l=s.hasOccurred,c=s.isOpen;if(l&&!c)return t.dispatch(el.jv()),r}switch(i.type){case Rf.VX:!IG&&o.accessToken&&(IG=LG(t,e),t.getState().features&&t.getState().features.mwp&&window.addEventListener("focus",(function(){IG&&IG._controller&&!IG._controller._state?IG=LG(t,e):IG.getCurrentState().then((function(n){n||(IG=LG(t,e))}))})));break;case QT.V5.SET_ACTIVE_DEVICE:a.playback.device&&a.playback.device.id===i.id||IG.transfer(i.id)}return r}}}}(y)),O.push($H),O.push(pG(t.transport,t.eventSender,u.enableCastConnect))),[SD(g,f,d,h,y),(l=t.offlineApi,function(e){return l.getEvents().addListener(pr.X.ERROR,(function(t){t.data.code===dr.jK.DEVICE_LIMIT_REACHED&&e.dispatch((0,el.p)())})),function(e){return function(){var t=(0,r.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),(s=t.history.push,function(e){return function(t){return function(n){var i=window.location,r=i.pathname,a=i.search,o=i.hash,l=e.dispatch,c=e.getState(),u=new RegExp(vc),d=el.V5.OPEN_SIGNUP_PROMPT_DIALOG,p=el.V5.CLOSE_SIGNUP_PROMPT_DIALOG,m=el.V5.UPDATE_UI_HISTORY_STATE,f=mc.V5.ANONYMOUS_COLLECTION_NAVIGATION,v=mc.V5.ANONYMOUS_LIKED_SONGS_NAVIGATION;switch(n.type){case d:s({pathname:r,search:a,state:{},hash:vc});break;case p:s({pathname:r,search:a,state:{},hash:""});break;case m:(0,fc.G)(c)&&!u.test(o)&&l((0,el.dE)());break;case f:case v:s({pathname:n.pathname,search:a,state:{},hash:""})}return t(n)}}}),yV(t.deferredAction)].concat(O,(0,_.Z)(function(e,t,n,i,a){var s,l,c,u=e?new OV(PV.gN,(0,bV.makePrefs)((0,SV.G)())):new wV,d=e?["/"]:[];return[GV({rootApi:u}),(c=n.sponsoredPlaylist,function(e){return function(t){return function(){var n=(0,r.Z)(o().mark((function n(i){var r,a,s,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t(i),n.t0=i.type,n.next=n.t0===eb.Hp.ADS_ENABLED?4:n.t0===eb.Hp.ADS_DISABLED?6:n.t0===BV.jY?8:n.t0===BV.Gi?19:n.t0===BV.Kf?31:n.t0===BV.IP?33:35;break;case 4:return c.enable((function(t){e.dispatch((0,BV.uE)(t))})),n.abrupt("break",36);case 6:return c.disable(),n.abrupt("break",36);case 8:return n.prev=8,n.next=11,c.requestSponsoredPlaylists();case 11:a=n.sent,e.dispatch((0,BV.iN)(a)),n.next=18;break;case 15:n.prev=15,n.t1=n.catch(8),e.dispatch((0,BV.Pu)(n.t1 instanceof Error?n.t1:new Error("Unknown error object")));case 18:return n.abrupt("break",36);case 19:return n.prev=19,s=i.playlistUri,n.next=23,c.requestSponsoredPlaylistAd(s);case 23:l=n.sent,e.dispatch((0,BV.Ot)(s,l)),n.next=30;break;case 27:n.prev=27,n.t2=n.catch(19),e.dispatch((0,BV.Ud)(n.t2 instanceof Error?n.t2:new Error("Unknown error object")));case 30:return n.abrupt("break",36);case 31:return c.logEvent(i.message),n.abrupt("break",36);case 33:return e.dispatch((0,BV.uE)(null)),n.abrupt("break",36);case 35:return n.abrupt("break",36);case 36:return n.abrupt("return",r);case 37:case"end":return n.stop()}}),n,null,[[8,15],[19,27]])})));return function(e){return n.apply(this,arguments)}}()}}),VV({history:t,blockedPaths:d,rootApi:u,adManagers:n,isDesktop:e,playerAPI:a})].concat((0,_.Z)(e?[(l=n.leaderboard,function(e){return function(e){return function(){var t=(0,r.Z)(o().mark((function t(n){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e(n),t.t0=n.type,t.next=t.t0===eb.Hp.ADS_ENABLED?4:t.t0===eb.Hp.ADS_DISABLED||t.t0===Yk?5:t.t0===Wk?7:t.t0===zk?10:12;break;case 4:case 12:return t.abrupt("break",13);case 5:return l.disableLeaderboard(),t.abrupt("break",13);case 7:return l.setLeaderboardElement(n.element),l.enableLeaderboard(),t.abrupt("break",13);case 10:return l.onNavigationChanged(),t.abrupt("break",13);case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),WV(n.billboard,t,a),(s=n.hpto,function(e){return function(t){return function(){var n=(0,r.Z)(o().mark((function n(i){var a,l,c,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=t(i),l=e.getState(),n.t0=i.type,n.next=n.t0===Rf.VX?5:n.t0===ZV.Hp.HPTO_CONTAINER_MOUNTED?8:n.t0===ZV.Hp.FETCH_CREATIVE?14:n.t0===ZV.r1?35:n.t0===ZV.Hp.HPTO_COMPONENT_NEW_AD_RENDERED?37:n.t0===ZV.Hp.HPTO_COMPONENT_UNMOUNTED?39:n.t0===eb.Hp.ADS_POST_HIDE_HPTO?41:n.t0===ZV._G?43:n.t0===ZV.rt?45:n.t0===ZV.Hp.DEBUG_FORCE_REFRESH_HPTO?47:53;break;case 5:return s.subscribeToPreview((function(t){e.dispatch((0,ZV.bo)(t)),e.dispatch((0,ZV.dk)())})),s.onRefresh((0,r.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.fetchTemplate();case 2:return n=t.sent,e.dispatch((0,ZV.uE)(n)),e.dispatch((0,ZV.lb)()),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))),n.abrupt("break",54);case 8:return n.next=10,s.fetchTemplate();case 10:return c=n.sent,e.dispatch((0,ZV.uE)(c)),e.dispatch((0,ZV.lb)()),n.abrupt("break",54);case 14:if(!l.ads.hpto.preview){n.next=16;break}return n.abrupt("break",54);case 16:if(l.ads.hpto.creativeFetchingState!==zV.Y.FETCHING){n.next=18;break}return n.abrupt("break",54);case 18:if(l.ads.hpto.template){n.next=20;break}return n.abrupt("break",54);case 20:if(l.ads.hpto.hptoContainerMounted){n.next=22;break}return n.abrupt("break",54);case 22:if(!l.ads.root.isPremium||!l.ads.root.isHptoHidden){n.next=24;break}return n.abrupt("break",54);case 24:return n.prev=24,e.dispatch((0,ZV.Ir)()),n.next=28,s.fetchCreative(l.ads.hpto.template).then((function(t){e.dispatch((0,ZV._M)(t))}));case 28:n.next=34;break;case 30:n.prev=30,n.t1=n.catch(24),console.error(n.t1),e.dispatch((0,ZV.yg)());case 34:return n.abrupt("break",54);case 35:return s.viewRendered(i.element),n.abrupt("break",54);case 37:return s.logViewed(),n.abrupt("break",54);case 39:return s.viewDestroyed(),n.abrupt("break",54);case 41:return s.logEvent("event_collapsed"),n.abrupt("break",54);case 43:return s.logEvent(i.event,i.context),n.abrupt("break",54);case 45:return s.logErrorEvent(i.error),n.abrupt("break",54);case 47:return n.next=49,s.fetchTemplate();case 49:return u=n.sent,e.dispatch((0,ZV.uE)(u)),e.dispatch((0,ZV.lb)()),n.abrupt("break",54);case 53:return n.abrupt("break",54);case 54:return n.abrupt("return",a);case 55:case"end":return n.stop()}}),n,null,[[24,30]])})));return function(e){return n.apply(this,arguments)}}()}}),jV(n.audio,i,a),RV(n.vto.manager,a)]:[]))}(x,t.history,t.adManagers,v,g)),[(a=t.serviceWorkerMessenger,function(){return function(e){return function(t){var n=e(t);return t.type===Rf.y&&a(t),n}}}),(i=t.ageRestrictionApi,function(e){return function(t){return function(){var n=(0,r.Z)(o().mark((function n(r){var a,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=t(r),n.t0=r.type,n.next=n.t0===aS.Hp.GET_AGE_RESTRICTION_MODAL?4:14;break;case 4:return n.prev=4,n.next=7,i.getDialog(r.uri);case 7:s=n.sent,e.dispatch((0,aS.vQ)(s)),n.next=13;break;case 11:n.prev=11,n.t1=n.catch(4);case 13:case 14:return n.abrupt("break",15);case 15:return n.abrupt("return",a);case 16:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}()}}),gG(p),HG(t.eventSender),zG,CG(g,p,f,d,m,b,S,k),fv(t.history,g),zH,BG,yG(t.eventSender),PG,WG(g,t.eventSender),VG,gV.Z])};function JW(e,t){var n=t.platform,i=QW(e,t);return(0,vV.MT)(YW(n),e,qW(vV.md.apply(void 0,(0,_.Z)(i))))}function XW(e){return{type:UV.e,data:e}}mV("playback_load_start");var $W=function(){var e=document.getElementById("main");return e||((e=document.createElement("div")).id="main",document.body.appendChild(e)),e};function ez(e,t){return tz.apply(this,arguments)}function tz(){return tz=(0,r.Z)(o().mark((function e(t,n){var r,a,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.getUser(),t.getProductState()]);case 2:if(r=e.sent,a=(0,i.Z)(r,2),l=a[0],c=a[1],null!==l&&null!==c){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,Us.k.hash(l.username);case 10:u=e.sent,(0,s.e)((function(e){(0,h.ZO)()===k.W.Desktop&&e.setUser({id:u}),e.setTag("product",c.product)})),n.dispatch((o={country:c.country,uri:l.uri,id:l.username,display_name:l.displayName||void 0,images:l.images.map((function(e){return{url:e.url,width:e.width||null,height:e.height||null}})),product:c.product,policies:{opt_in_trial_premium_only_market:l.optInTrialPremiumOnlyMarket},type:"user"},{type:UV.A,data:o})),n.dispatch(XW(c));case 14:case"end":return e.stop()}var o}),e)}))),tz.apply(this,arguments)}function nz(){return nz=(0,r.Z)(o().mark((function e(){var t,n,a,h,y,S,x,O,w,N,_,E,C,P,I,j,A,T,D,R,F,L;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(b()||"1"==={}.DEBUG_SENTRY)&&("xpui_2023-06-05_1685977752132_a588f74",(0,Ls.j6)("https://de32132fc06e4b28965ecf25332c3a25@sentry.io/114855","xpui_2023-06-05_1685977752132_a588f74",{sampleRate:.001})),e.next=3,_s();case 3:return t=e.sent,n=t.getSession(),a=t.getHistory(),h=t.getFeatureFlags(),y=t.getSEOExperiments(),S=t.getControlMessageAPI(),(0,s.e)((function(e){Object.keys(h).forEach((function(t){e.setExtra(t,h[t])})),t.container&&e.setTag("container",t.container)})),Zs.setup(),yh(t.container,t.operatingSystem),x=t.getEventSender(),S.getEvents().addListener("message",(function(e){if(e.data.type===g.O4.NAVIGATION&&e.data.data){var t,n=null===(t=(0,f.EC)(e.data.data))||void 0===t?void 0:t.toURLPath(!0),r=e.data.data.split("?"),o=(0,i.Z)(r,2),s=o[0],l=o[1],u=new URLSearchParams(l);if(u.has("dlsi")){var d=u.get("dlsi"),p=u.get("si");if(d){var m={link:"".concat(As.Li).concat(null==n?void 0:n.slice(1),"?si=").concat(p),entity_uri:s,source:navigator.userAgent,deeplink_session_id:d};x.send((0,c.K)(m))}}n&&a.push(n,{referrer:"deeplink"})}})),Ps()&&!h.mwp&&(window.location.href="https://www.spotify.com"),O=(0,ye.Z)("config"),w=O.recaptchaWebPlayerFraudSiteKey,N=O.gtmId,_=O.market,E=O.locale,C=O.userCountry,P=js(t),I=t.getPlayerAPI(),j=t.getAuthorizationAPI(),A=t.getTransport(),e.next=22,t.getServiceWorkerMessenger();case 22:return T=e.sent,D=JW({session:n,features:h,seoExperiment:y},{platform:t,history:a,playbackApi:t.getPlaybackAPI(),playerApi:I,rootlistApi:t.getRootlistAPI(),rootlist:t.getRootlistAPI(),playlistApi:t.getPlaylistAPI(),permissionsApi:t.getPlaylistPermissionsAPI(),radioStationAPI:t.getRadioStationAPI(),followApi:t.getFollowAPI(),libraryApi:t.getLibraryAPI(),library:t.getLibraryAPI(),actionStoreApi:t.getActionStoreAPI(),enhanceApi:t.getEnhanceAPI(),collectionPlatformApi:t.getCollectionPlatformAPI(),showApi:t.getShowAPI(),serviceWorkerMessenger:T,offlineApi:t.getOfflineAPI(),remoteConfigResolver:t.getRemoteConfiguration(),transport:A,eventSender:x,adManagers:t.getAdManagers(),deferredAction:Rs(sessionStorage,"ANONYMOUS_DEFERRED_ACTION_KEY"),ageRestrictionApi:new Ds(Jt.b.getInstance()),data:{recaptchaWebPlayerFraudSiteKey:w}}),A.on(m.TransportEvent.ACCESS_TOKEN,(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.getTokenProvider(),e.next=3,t({preferCached:!0});case 3:null!==(n=e.sent)&&(Jt.b.setSession(n),D.dispatch((0,Rf.qR)(n)));case 5:case"end":return e.stop()}}),e)})))),R=!1,A.on(m.TransportEvent.RECONNECTING,(function(){R=!0})),A.on(m.TransportEvent.RECONNECTED,(function(){R=!1})),A.on(m.TransportEvent.AUTHENTICATION_FAILED,(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=2;break}return e.abrupt("return");case 2:if(P){e.next=8;break}return t=j.getTokenProvider(),e.next=6,t({preferCached:!0});case 6:null!==(n=e.sent)&&n.isAnonymous||D.dispatch((0,Rf.Tz)());case 8:case"end":return e.stop()}}),e)})))),(0,Fs.p1)("desktop-web-player",A),Ks(),F=v.ag.getLocale(),D.dispatch((0,Rf.zD)()),D.dispatch($s(F)),P&&document.documentElement.setAttribute("lang",F),pV(window.navigator,D.dispatch,I),dV((function(){D.dispatch((0,Ys.xH)())})),cV(a,(function(e){D.dispatch((0,el.x0)(e))})),e.next=40,ez(t.getUserAPI(),D);case 40:L=$W(),(0,Ms.cM)(),(0,l.render)((0,dl.jsx)(sV,{store:D,platform:t}),L),!P&&N&&(0,p.track)({dataLayerPushInitial:!0,googleTagManagerId:N,language:null==E?void 0:E.locale,market:_,loggedIn:!n.isAnonymous,oneTrust:Is(),userCountry:C}),t.operatingSystem===k.U.macOS&&window.outerHeight===window.screen.height&&window.outerWidth===window.screen.width&&D.dispatch((0,el.rM)()),(0,d.wm)("UI init phase is done for logged-in experience"),n.isAnonymous||x.send((0,u._)({width:window.outerWidth,height:window.outerHeight,mode:0,duration:0}),{flush:!1});case 47:case"end":return e.stop()}}),e)}))),nz.apply(this,arguments)}(0,d.hb)(),function(){return nz.apply(this,arguments)}().catch((function(e){(0,Ls.CG)(e),console.error(e);var t=$W();(0,l.render)((0,dl.jsx)(Kl,{}),t)}))},58162:(e,t,n)=>{"use strict";n.d(t,{aK:()=>o,l7:()=>a,qq:()=>r});var i=n(48850),r=function(e,t){var n=e.contextMenuButtonFactory().hitUiReveal();t.logInteraction(n)},a=function(e,t,n,r){var a=void 0;if(e===i.mc.ADD)a=t.hitDownload({itemToDownload:r});else if(e===i.mc.REMOVE)a=t.hitRemoveDownload({itemToRemoveFromDownloads:r});else if(e===i.mc.NO_PERMISSION){var o;a=null===(o=t.hitUiReveal)||void 0===o?void 0:o.call(t)}a&&n.logInteraction(a)},o=function(e){var t,n=e.isPlaying,i=e.isActive,r=e.spec,a=e.logger,o=e.uri;return t=n?r.hitPause({itemToBePaused:o}):i?r.hitResume({itemToBeResumed:o}):r.hitPlay({itemToBePlayed:o}),a.logInteraction(t)}},41860:(e,t,n)=>{"use strict";n.d(t,{gi:()=>i,mZ:()=>o,t3:()=>a,wH:()=>r});var i="player.play",r="library.add",a="rootlist.add",o="follow.user"},45327:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,j:()=>s});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("useActionStore must be used within a ActionStoreProvider");return e}},1059:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var i=function(e){return"spotify:artist:0LyfQWJT6nXafLPZqxe9Of"!==e.uri}},89246:(e,t,n)=>{"use strict";n.d(t,{A5:()=>s,S2:()=>o,VG:()=>d,cl:()=>p});var i=n(39130),r=(n(59538),n(79611),n(59496)),a=n(4637),o=function(e){return{type:"SET_BACKGROUND_COLOR",color:e}},s=function(){return{type:"CLEAR_BACKGROUND_COLOR"}};function l(e,t){switch(t.type){case"SET_BACKGROUND_COLOR":return{backgroundColor:t.color};case"CLEAR_BACKGROUND_COLOR":return{backgroundColor:null}}return e}var c={backgroundColor:null},u=(0,r.createContext)(null),d=function(e){var t=e.children,n=(0,r.useReducer)(l,c),o=(0,i.Z)(n,2),s=o[0],d=o[1];return(0,a.jsx)(u.Provider,{value:[s,d],children:t})};function p(){var e=(0,r.useContext)(u);if(null===e)throw new Error("Trying to use 'BackgroundColorContext' without 'BackgroundColorProvider'!");return e}},79105:(e,t,n)=>{"use strict";n.d(t,{Y5:()=>r.Y,Zj:()=>a.Z,cl:()=>i.cl});var i=n(89246),r=n(8161),a=n(17295)},8161:(e,t,n)=>{"use strict";n.d(t,{H:()=>l,Y:()=>s});var i=n(39130),r=n(59496),a=n(38185),o=n(89246);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Sns,n=(0,o.cl)(),s=(0,i.Z)(n,2)[1];return(0,r.useEffect)((function(){return e&&s((0,o.S2)(e)),function(){s((0,o.A5)())}}),[e,s]),e||t}var l=function(e){return s(e.color,e.fallbackColor),null}},17295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(39130),r=n(59496),a=n(38185),o=n(95055),s=n(89246);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Sns,n=arguments.length>2?arguments[2]:void 0,l=(0,s.cl)(),c=(0,i.Z)(l,2),u=c[0].backgroundColor,d=c[1],p=(0,o.b)(e);return(0,r.useEffect)((function(){return d((0,s.S2)(null!=n?n:p)),function(){d((0,s.A5)())}}),[n,p,d]),null!=n?n:u||t}},7431:(e,t,n)=>{"use strict";n.d(t,{dD:()=>o,TQ:()=>m,gs:()=>y,aw:()=>g});var i=n(59496),r=n(4637),a=(0,i.createContext)({copy:function(){}}),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=n(85830),l=n(4626),c=n(65071),u=50,d=["meta+c"],p=["meta+shift+c"];function m(e){var t=(0,i.useContext)(a),n=(0,s.y1)((function(){e((function(e){return t.copy(e)}),!1)}),u,{leading:!0,trailing:!1}),r=(0,s.y1)((function(){e((function(e){return t.copy(e)}),!0)}),u,{leading:!0,trailing:!1});(0,c.x)(d,n),(0,c.x)(p,r),(0,l.eY)(l.O4.COPY,n),(0,l.eY)(l.O4.COPY_ADVANCED,r)}var f=500,v=["meta+v"];function g(e){var t=(0,i.useContext)(a),n=(0,s.y1)((function(){t.paste().then((function(t){return e(t)}))}),f,{leading:!0,trailing:!1});(0,c.x)(v,n),(0,l.eY)(l.O4.PASTE,n)}var h=50,k=["meta+x"];function y(e){var t=(0,i.useContext)(a),n=(0,s.y1)((function(){e((function(e){return t.copy(e)}))}),h,{leading:!0,trailing:!1});(0,c.x)(k,n),(0,l.eY)(l.O4.CUT,n)}},23637:(e,t,n)=>{"use strict";n.d(t,{XC:()=>d,yF:()=>m,zy:()=>p});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=(n(4302),n(87252));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=["artist","artistban","ban","collection","enhanced","ignoreinrecs","listenlater","show","ylpin"];function d(e){return u.includes(e)}var p=function(e){return e.ADDED="added",e.REMOVED="removed",e}({}),m=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},12159:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,s:()=>s});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("useCollectionPlatformAPI must be used within a CollectionPlatformAPIProvider");return e}},82387:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var i=n(39130),r=n(59496),a=n(12159);function o(e){var t=(0,a.s)(),n=(0,r.useCallback)((function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.add(e,i)}),[t,e]),o=(0,r.useCallback)((function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.remove(e,i)}),[t,e]),s=(0,r.useCallback)((function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.contains(e,i)}),[t,e]),l=(0,r.useCallback)((function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var s=(0,r.useState)([]),l=(0,i.Z)(s,2),c=l[0],u=l[1];return(0,r.useEffect)((function(){return u((function(e){return e.length?[]:e})),t.subscribeContains(e,a,u)}),a),c}),[t,e]);return{add:n,remove:o,contains:s,useContains:l}}},68569:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,m:()=>i});var i=56,r=42},55413:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var c=function(e){(0,a.Z)(n,e);var t=l(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(n(74772).vp)},4626:(e,t,n)=>{"use strict";n.d(t,{O4:()=>c,r$:()=>a,J$:()=>o,sN:()=>u,eY:()=>s,J4:()=>l});var i=n(59496),r=n(4637),a=(0,i.createContext)({getEvents:function(){}}),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})};function s(e,t){var n=(0,i.useContext)(a),r=(0,i.useRef)(t);(0,i.useEffect)((function(){r.current=t})),(0,i.useEffect)((function(){var t=n.getEvents();function i(t){var n=t.data,i=n.type,a=n.data;i===e&&r.current(a)}return t.addListener("message",i),function(){t.removeListener("message",i)}}),[e,n])}function l(e){var t=(0,i.useContext)(a);(0,i.useEffect)((function(){return t.enableMenuItem(e),function(){t.disableMenuItem(e)}}),[t,e])}var c=function(e){return e.COPY="copy",e.COPY_ADVANCED="copy_advanced",e.CUT="cut",e.PASTE="paste",e.SELECT_ALL="select_all",e.FILTER="filter",e.DELETE="delete",e.CREATE_NEW_FOLDER="create_new_folder",e.CREATE_NEW_PLAYLIST="create_new_playlist",e.BROWSE_BACKWARD="browse_backward",e.BROWSE_FORWARD="browse_forward",e.LOGOUT="logout",e.SHOW_ABOUT="show_about",e.SHOW_PREFERENCES="show_preferences",e.SHOW_SEARCH="show_search",e.SHOW_DEBUG_WINDOW="show_debug_window",e.SHOW_ACCOUNT="show_account",e.SHOW_COMMUNITY="show_community",e.SHOW_HELP="show_help",e.SHOW_LICENSES="show_licenses",e.SHOW_LICENSING_INFORMATION="show_licensing_information",e.SHOW_SCTA_INFORMATION="show_scta_information",e.NAVIGATION="navigation",e.ENTER_FULLSCREEN="enter_fullscreen",e.LEAVE_FULLSCREEN="leave_fullscreen",e.SET_PLATFORM_EMULATION_AUTO="set_platform_emulation_auto",e.SET_PLATFORM_EMULATION_MACOS="set_platform_emulation_macos",e.SET_PLATFORM_EMULATION_WINDOWS="set_platform_emulation_windows",e.SET_PLATFORM_EMULATION_LINUX="set_platform_emulation_linux",e}({}),u=function(e){return e.FILTER="enable_filter_item",e}({})},27436:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,b:()=>a});n(4302);var i=["ar","az","bg","cs_CZ","da","de","ee","el","en","es","es_mx","fi","fp","fr","fr_ca","he","hu","id","it","ja","ko","lt","lv","ms","mt","nb","nl","pl","pt","pt_br","ro","ru","sk","sl","sv","th_TH","tr","vi_VN","zh_HANS","zh_HANT"],r=["af","ar","am","az","be","bg","bn","bs","ca","cr","cs_CZ","da","de","el","en","es","es_419","et","eu","fa","fi","fp","fr","fr_ca","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","nb","ne","nl","pa","pl","pt","pt_br","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th_TH","tr","ua","ur","uz","vi_VN","zh_HANS","zh_HANT","zh_hk","zu"],a=function(e){var t=i.includes(e)?e:"int";return"images/download-badges/apple/".concat(t,".svg")},o=function(e){var t=r.includes(e)?e:"int";return"images/download-badges/google/".concat(t,".svg")}},89576:(e,t,n)=>{"use strict";n.d(t,{t:()=>d});var i=n(8850),r=n(27915),a=n(92449),o=n(10995),s=n.n(o),l=(n(89620),n(59538),n(79611),n(29543),n(22369),n(70969),n(52040),n(58944),n(21206)),c=n(75720),u=n(64234),d=function(){function e(t){(0,r.Z)(this,e),this.localStorageAPI=t,this.filters=JSON.parse(JSON.stringify(this.getPreset().filters))}var t,n;return(0,a.Z)(e,[{key:"subscribeToEnabledState",value:function(e){throw new Error("subscribeToEnabledState not yet implemented")}},{key:"setEnabledState",value:function(e){throw new Error("setEnabledState not yet implemented")}},{key:"setFilterGain",value:(n=(0,i.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setFilterGain not yet implemented");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"getFilters",value:(t=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getFilters not yet implemented");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"isSupported",value:function(){throw new Error("isSupported not yet implemented")}},{key:"setPreset",value:function(e){var t=this,n="string"==typeof e?u.PG[e]:e;this.localStorageAPI.setItem(c.V,n),n.filters.forEach((function(e){t.setFilterGain(e.key,e.gain)}))}},{key:"getPreset",value:function(){var e=this.localStorageAPI.getItem(c.V);return e instanceof Error?u.PG.flat:e}},{key:"subscribeToPresetChange",value:function(e){var t=this.localStorageAPI.getEvents(),n=function(t){if(t.data.key===c.V){var n=t.data.value;e(n)}};return t.addListener(l.u.UPDATE,n),function(){t.removeListener(l.u.UPDATE,n)}}}]),e}()},75720:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,V:()=>r});var i="audio.equalizer.enabled",r="audio.equalizer.saved_preset"},64234:(e,t,n)=>{"use strict";n.d(t,{PG:()=>d,f8:()=>p,l5:()=>l});n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(39130),a=(n(81289),n(22369),n(84456),n(162),n(62995),n(52040),n(58944),n(17249));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=12,c=[{type:"lowshelf",frequency:60,key:"audio.equalizer.low_shelf_gain_v2",gain:0},{type:"peaking",frequency:150,key:"audio.equalizer.low_peak_gain_v2",gain:0},{type:"peaking",frequency:400,key:"audio.equalizer.low_mid_peak_gain_v2",gain:0},{type:"peaking",frequency:1e3,key:"audio.equalizer.high_mid_peak_gain_v2",gain:0},{type:"peaking",frequency:2400,key:"audio.equalizer.high_peak_gain_v2",gain:0},{type:"highshelf",frequency:15e3,key:"audio.equalizer.high_shelf_gain_v2",gain:0}],u={flat:{gains:[0,0,0,0,0,0],get displayName(){return a.ag.get("equalizer.preset.flat")}},acoustic:{gains:[4.9,3.95,2.15,1.75,3.5,2.15],get displayName(){return a.ag.get("equalizer.preset.acoustic")}},bassBooster:{gains:[4.25,3.5,1.25,0,0,0],get displayName(){return a.ag.get("equalizer.preset.bassBooster")}},bassReducer:{gains:[-4.25,-3.5,-1.25,0,0,0],get displayName(){return a.ag.get("equalizer.preset.bassReducer")}},classical:{gains:[3.75,3,-1.5,-1.5,0,3.75],get displayName(){return a.ag.get("equalizer.preset.classical")}},dance:{gains:[6.55,4.99,1.92,3.65,5.15,0],get displayName(){return a.ag.get("equalizer.preset.dance")}},deep:{gains:[3.55,1.75,2.85,2.5,1.45,-2.15,-3.55,-4.6],get displayName(){return a.ag.get("equalizer.preset.deep")}},electronic:{gains:[3.8,1.2,-2.15,2.25,.85,4.8],get displayName(){return a.ag.get("equalizer.preset.electronic")}},hiphop:{gains:[4.25,1.5,-1,-1,1.5,3],get displayName(){return a.ag.get("equalizer.preset.hiphop")}},jazz:{gains:[3,1.5,-1.5,-1.5,0,3.75],get displayName(){return a.ag.get("equalizer.preset.jazz")}},latin:{gains:[3,0,-1.5,-1.5,-1.5,4.5],get displayName(){return a.ag.get("equalizer.preset.latin")}},loudness:{gains:[4,0,-2,0,-1,1],get displayName(){return a.ag.get("equalizer.preset.loudness")}},lounge:{gains:[-1.5,-.5,4,2.5,0,1],get displayName(){return a.ag.get("equalizer.preset.lounge")}},piano:{gains:[2,0,3,1.5,3.5,3.5],get displayName(){return a.ag.get("equalizer.preset.piano")}},pop:{gains:[-1,0,4,4,2,-1.5],get displayName(){return a.ag.get("equalizer.preset.pop")}},rnb:{gains:[6.92,5.65,-2.19,-1.5,2.32,3.75],get displayName(){return a.ag.get("equalizer.preset.rnb")}},rock:{gains:[4,3,-.5,-1,.5,4.5],get displayName(){return a.ag.get("equalizer.preset.rock")}},smallSpeakers:{gains:[4.25,3.5,1.25,0,-1.25,-4.25],get displayName(){return a.ag.get("equalizer.preset.smallSpeakers")}},spokenWord:{gains:[-.47,0,3.46,4.61,4.84,0],get displayName(){return a.ag.get("equalizer.preset.spokenWord")}},trebleBooster:{gains:[0,0,0,1.25,2.5,5.5],get displayName(){return a.ag.get("equalizer.preset.trebleBooster")}},trebleReducer:{gains:[0,0,0,-1.25,-2.5,-5.5],get displayName(){return a.ag.get("equalizer.preset.trebleReducer")}},vocalBooster:{gains:[-3,-3,3.75,3.75,3,-1.5],get displayName(){return a.ag.get("equalizer.preset.vocalBooster")}}},d=Object.entries(u).reduce((function(e,t){var n=(0,r.Z)(t,2),a=n[0],o=n[1],l=c.map((function(e,t){return Object.freeze(s(s({},e),{},{gain:o.gains[t]}))}));return s(s({},e),{},(0,i.Z)({},a,{filters:l,key:a,get displayName(){return o.displayName}}))}),{});function p(e){return{key:"custom",displayName:a.ag.get("equalizer.preset.manual"),filters:e.map((function(e,t){return{frequency:d.flat.filters[t].frequency,key:d.flat.filters[t].key,type:d.flat.filters[t].type,gain:e}}))}}},87774:(e,t,n)=>{"use strict";n.d(t,{f:()=>s,x:()=>o});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("useEqualizerAPI must be used within a EqualizerProvider");return e}},76872:(e,t,n)=>{"use strict";n.d(t,{D:()=>u,Z:()=>d});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.CONNECTION_STATE_CHANGE="connection_state_change",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},93416:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,e:()=>r});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use FacebookContext without FacebookProvider!");return e}},30067:(e,t,n)=>{"use strict";n.d(t,{BM:()=>u,rA:()=>d,uZ:()=>p});n(22369),n(39723),n(21861);var i=n(27915),r=n(92449),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.FOLLOW_USER="follow_user",e.UNFOLLOW_USER="unfollow_user",e.IS_FOLLOWING_USER="is_following_user",e}({}),d=function(e){return e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({}),p=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"emitOperationSync",value:function(e,t){return this.emitSync(d.OPERATION,{operation:e,uris:t}).defaultPrevented}},{key:"emitOperationComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.emit(d.OPERATION_COMPLETE,{operation:e,uris:t,error:n})}}]),n}(l.r)},29761:(e,t,n)=>{"use strict";n.d(t,{$:()=>_});var i=n(39130),r=n(8850),a=n(27915),o=n(92449),s=n(10995),l=n.n(s),c=(n(61235),n(69724),n(22369),n(29543),n(70969),n(84456),n(59538),n(79611),n(59272)),u=n(37253),d=(n(90511),n(162),n(81289),n(81804)),p=n(32953),m=n(51770),f=50,v="/me/following";function g(e,t,n,i){return h.apply(this,arguments)}function h(){return h=(0,r.Z)(l().mark((function e(t,n,i,a){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.s)(a,function(){var e=(0,r.Z)(l().mark((function e(r){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(p.H).withPath(i).withMethod(n).withQueryParameters({type:"user",ids:r.join(",")}).withEndpointIdentifier("".concat(i,"?type=user&ids={ids}")).withoutMarket().send();case 2:return a=e.sent,e.abrupt("return",a.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f);case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function k(e,t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,g(t,"PUT",v,n.map((function(e){return encodeURIComponent((0,m.C)(e))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=3;break}return e.next=3,g(t,"DELETE",v,n.map((function(e){return encodeURIComponent((0,m.C)(e))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)(l().mark((function e(t,n){var i,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=7;break}return e.next=3,g(t,"GET","".concat(v,"/contains"),n.map((function(e){return(0,m.C)(e)})));case 3:return i=e.sent,r=i[0]||[],a=n.reduce((function(e,t,n){var i=r[n];return e[t]=!!i,e}),{}),e.abrupt("return",a);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n(30067),N=Symbol(),_=function(){function e(t,n){(0,a.Z)(this,e),this._builder=t,this._events=new w.uZ,this._cache=null!=n?n:new u.Ct}var t,n,s,d;return(0,o.Z)(e,[{key:"getEvents",value:function(){return this._events}},{key:"isFollowing",value:(d=(0,r.Z)(l().mark((function e(t){var n,r,a,o=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},r=[],this._validateURIs(t),t.forEach((function(e){var t=o._cache.get(e);void 0!==t?n[e]=t:r.push(e)})),!(r.length>0)){e.next=9;break}return e.next=7,this.executeOperation(w.BM.IS_FOLLOWING_USER,r,x);case 7:(a=e.sent)!==N?Object.entries(a).forEach((function(e){var t=(0,i.Z)(e,2),r=t[0],a=t[1];o._cache.set(r,a),n[r]=a})):r.forEach((function(e){n[e]=!1}));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"followUsers",value:(s=(0,r.Z)(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._validateURIs(t),e.next=3,this.executeOperation(w.BM.FOLLOW_USER,t,k);case 3:e.sent!==N&&t.forEach((function(e){n._cache.set(e,!0)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"unfollowUsers",value:(n=(0,r.Z)(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._validateURIs(t),e.next=3,this.executeOperation(w.BM.UNFOLLOW_USER,t,b);case 3:e.sent!==N&&t.forEach((function(e){n._cache.set(e,!1)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"executeOperation",value:(t=(0,r.Z)(l().mark((function e(t,n,i){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitOperationSync(t,n)){e.next=2;break}return e.abrupt("return",N);case 2:return e.prev=2,e.next=5,i(this._builder,n);case 5:return r=e.sent,this._events.emitOperationComplete(t,n),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(t,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,n,i){return t.apply(this,arguments)})},{key:"_validateURIs",value:function(e){e.forEach((function(e){if(!(0,c.Kv)(e))throw new Error("Expected a profile URI, but got ".concat(e,"!"))}))}}]),e}()},86858:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,q:()=>s});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("useFollowAPI must be used within a FollowAPIProvider");return e}},88237:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var i=n(59496),r=n(86858),a=function(e,t){var n=(0,r.q)();(0,i.useEffect)((function(){var i=n.getEvents();return i.addListener(e,t),function(){i.removeListener(e,t)}}),[e,n,t])}},43597:(e,t,n)=>{"use strict";n.d(t,{H:()=>c});var i=n(39130),r=(n(59538),n(79611),n(22369),n(8760),n(4302),n(66469),n(59496)),a=n(59272),o=n(86858),s=n(88237),l=n(30067),c=function(e){var t=(0,o.q)(),n=(0,r.useState)(!1),c=(0,i.Z)(n,2),u=c[0],d=c[1];if(!(0,a.Kv)(e))throw new Error("Expected a Spotify uri in format 'spotify:user:***', got \"".concat(e,'"'));var p=(0,r.useCallback)((function(n){return n&&!u?t.followUsers([e]):!n&&u?t.unfollowUsers([e]):Promise.resolve()}),[t,u,e]);return(0,r.useEffect)((function(){d(!1),t.isFollowing([e]).then((function(t){var n;d(null!==(n=t[e])&&void 0!==n&&n)}))}),[t,e]),(0,s.d)(l.rA.OPERATION_COMPLETE,(function(t){t.data.uris.includes(e)&&!t.data.error&&(t.data.operation===l.BM.FOLLOW_USER?d(!0):t.data.operation===l.BM.UNFOLLOW_USER&&d(!1))})),[u,p]}},65071:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});n(83001),n(42617),n(22369),n(27639),n(71756),n(27535),n(63691),n(79611),n(40265),n(46743),n(98853),n(29543);var i=n(59496),r=n(66685),a=n.n(r),o=new Map;function s(e,t){var n=function(e){var t=o.get(e.toString());if(t)return t;var n=[];return a().bind(e,(function(){return n.forEach((function(e){return e()}))})),o.set(e.toString(),n),n}(e);(0,i.useEffect)((function(){return n.push(t),function(){n.splice(n.indexOf(t),1)}}),[n,t])}},44972:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,u:()=>o});var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.platformData,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})}},8554:(e,t,n)=>{"use strict";n.d(t,{R:()=>qe});var i=n(8850),r=n(10995),a=n.n(r),o=n(27915),s=n(92449),l=n(45389);n(30246),n(162),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){function e(t,n,i){var r=this;(0,o.Z)(this,e),(0,l.Z)(this,"mapEpisode",(function(e){return u(u({},e),{},{episodeShowUri:e.show.uri})})),(0,l.Z)(this,"mapTrack",(function(e){return u(u({},e),{},{smallImage:r.imageSelection(e.album.images||[],{desiredSize:210})})})),(0,l.Z)(this,"mapDefaultData",(function(e){var t=e.body;return u(u({},t),{},{smallImage:r.imageSelection(t.images||[],{desiredSize:210}),name:t.name,artists:t.artists?t.artists.map((function(e){return{name:e.name,uri:e.uri}})):[]})})),this.spotifyTransport=t,this.endpoints=n,this.imageSelection=i}return(0,s.Z)(e,[{key:"getAlbum",value:function(e){return this.endpoints.Album.getAlbum(this.spotifyTransport,e).then(this.mapDefaultData)}},{key:"getArtist",value:function(e){return this.endpoints.Artist.getArtist(this.spotifyTransport,e).then(this.mapDefaultData)}},{key:"getEpisode",value:function(e){return this.endpoints.Show.getEpisode(this.spotifyTransport,e).then(this.mapDefaultData).then(this.mapEpisode)}},{key:"getPlaylist",value:function(e){return this.endpoints.Playlist.getPlaylist(this.spotifyTransport,e).then(this.mapDefaultData)}},{key:"getShow",value:function(e){return this.endpoints.Show.getShow(this.spotifyTransport,e).then(this.mapDefaultData)}},{key:"getTrack",value:function(e){return this.endpoints.Track.getTrack(this.spotifyTransport,e).then(this.mapDefaultData).then(this.mapTrack)}}]),e}(),p=function(){function e(t){(0,o.Z)(this,e),this.cosmosConnector=t}return(0,s.Z)(e,[{key:"postEvent",value:function(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}},{key:"addNewSlot",value:function(e,t){return this.cosmosConnector.addNewSlot(e,t)}},{key:"subscribeToSlotType",value:function(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}}]),e}(),m=n(16296),f=(n(5538),n(59538),n(79611),n(43714)),v="stream",g=function(){function e(t,n){var i=this;(0,o.Z)(this,e),(0,l.Z)(this,"enabled",!1),(0,l.Z)(this,"onAdMessage",(function(e){if("audio"===e.format&&"play"===e.event){var t,n,r,a,o,s,l="Play"===(null===(t=e.ad)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.featuredAction),c={buttonMessage:null===(r=e.ad)||void 0===r||null===(a=r.metadata)||void 0===a?void 0:a.buttonMessage,clickUrl:(0,f.p)(e.ad.click_url),isFeaturedActionPlay:l,skippableAdDelaySeconds:parseInt(null===(o=e.ad)||void 0===o||null===(s=o.metadata)||void 0===s?void 0:s.skippable_ad_delay,10)||0};i.onInfoCallback&&i.onInfoCallback(c)}})),this.audioApi=t,this.getContextAdInfo=n}var t,n,r;return(0,s.Z)(e,[{key:"enable",value:(r=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.enabled=!0,this.onInfoCallback=t,e.next=4,this.audioApi.addNewSlot(v,"audio");case 4:this.subscription=this.audioApi.subscribeToSlotType(v,this.onAdMessage);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"disable",value:(n=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.enabled=!1,this.subscription&&this.subscription.cancel();case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"logClick",value:(t=(0,i.Z)(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("You have to enable the manager before calling logEvent");case 2:return e.next=4,this.getContextAdInfo();case 4:if(null!==(t=e.sent)){e.next=7;break}return e.abrupt("return");case 7:if(n=t.positionMs,null!==(i=t.adId)){e.next=10;break}return e.abrupt("return");case 10:this.audioApi.postEvent(i,"clicked",null!==n?{playback_position:Math.round(n)}:{});case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getEnabled",value:function(){return this.enabled}}]),e}();function h(e){return new g(new p(m.gN),e)}var k=function(){function e(t){(0,o.Z)(this,e),this.cosmosConnector=t}return(0,s.Z)(e,[{key:"addNewSlot",value:function(e,t){return this.cosmosConnector.addNewSlot(e,t)}},{key:"getSlotConfiguration",value:function(e,t){return this.cosmosConnector.getSlotConfiguration(e,t)}},{key:"patchTargeting",value:function(e,t){return this.cosmosConnector.patchTargeting(e,t)}},{key:"postEvent",value:function(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}},{key:"postToSlot",value:function(e,t){return this.cosmosConnector.postToSlot(e,t)}},{key:"subscribeToSlotType",value:function(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}},{key:"triggerSlotClearAll",value:function(e){return this.cosmosConnector.triggerSlotClearAll(e)}}]),e}(),y=(n(94562),function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,null,[{key:"reset",value:function(){e.listeners=[],e.previousFocus=!1,e.intervalId&&(clearInterval(e.intervalId),e.intervalId=null)}},{key:"maybeStartPolling",value:function(){null===e.intervalId&&(e.intervalId=setInterval(e.checkFocusState,e.kPollTimeout))}},{key:"maybeStopPolling",value:function(){e.intervalId&&0===e.listeners.length&&(clearInterval(e.intervalId),e.intervalId=null)}},{key:"addFocusListener",value:function(t){t.onFocusChanged(document.hasFocus()),e.listeners.push(t),e.maybeStartPolling()}},{key:"removeFocusListener",value:function(t){e.listeners=e.listeners.filter((function(e){return e!==t})),e.maybeStopPolling()}}]),e}());(0,l.Z)(y,"listeners",[]),(0,l.Z)(y,"intervalId",null),(0,l.Z)(y,"previousFocus",!1),(0,l.Z)(y,"kPollTimeout",500),(0,l.Z)(y,"checkFocusState",(function(){var e=document.hasFocus();e!==y.previousFocus&&(y.previousFocus=e,y.listeners.forEach((function(t){t.onFocusChanged(e)})))}));var b=function(){function e(){(0,o.Z)(this,e),this.listeners=[]}return(0,s.Z)(e,[{key:"addFocusListener",value:function(e){this.listeners.push(e),y.addFocusListener(e)}},{key:"removeFocusListener",value:function(e){this.listeners=this.listeners.filter((function(t){return t!==e})),y.removeFocusListener(e)}},{key:"removeAllFocusListeners",value:function(){this.listeners.forEach((function(e){return y.removeFocusListener(e)})),this.listeners=[]}},{key:"hasFocus",value:function(){return document.hasFocus()}}]),e}(),S=(n(40265),n(98853),n(27535),n(72304),!0),x=!1,O=[];function w(e,t){var n=P(t);if(-1===n)O.push({fn:t,msInactive:e,isActive:!1});else{var i=O[n];i.msInactive=e,clearTimeout(i.inactiveTimeout),i.inactiveTimeout=setTimeout(i.fn.bind(null,x),i.msInactive)}return N.bind(null,t)}function N(e){var t=P(e);return-1!==t&&(O.splice(t,1),!0)}function _(e){return e.addEventListener("mousemove",C),e.addEventListener("mouseup",C),e.addEventListener("keydown",C),e.addEventListener("scroll",C,!0),E.bind(null,e)}function E(e){e.removeEventListener("mousemove",C),e.removeEventListener("mouseup",C),e.removeEventListener("keydown",C),e.removeEventListener("scroll",C,!0)}function C(){O.forEach((function(e){e.isActive||(e.isActive=!0,e.fn(S)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((function(){e.isActive=!1,e.fn(x)}),e.msInactive)}))}function P(e){var t=-1;return O.some((function(n,i){return n.fn===e&&(t=i,!0)})),t}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A="billboard",T="foregrounded",D="backgrounded",R=function(){function e(t,n){var r=this;(0,o.Z)(this,e),(0,l.Z)(this,"enabled",!1),(0,l.Z)(this,"activating",!1),(0,l.Z)(this,"viewedTimestamp",0),(0,l.Z)(this,"onActivity",function(){var e=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return e.next=3,r.displayBillboard();case 3:e.next=6;break;case 5:r.focusState.hasFocus()&&r.triggerAutoMinimizeIfPossible();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,l.Z)(this,"onAdMessage",(function(e){if(r.isPreviewServiceAd(e.ad.metadata))r.handlePreview(e);else if(r.listener)switch(e.event){case"available":r.adId=e&&e.ad?e.ad.id:void 0,r.listener.canShow()?r.listener.create(r.mapBillboardData(e)):r.clearSlot();break;case"play":break;case"discard":r.handleDiscard();break;default:throw new Error("[Billboard] Unsupported event type: ".concat(e.event))}})),(0,l.Z)(this,"focusMinimize",(function(){clearInterval(r.focusMinimizeTimeoutId),r.listener&&r.listener.isActive()&&(r.listener.minimize(),r.minimize())})),(0,l.Z)(this,"finish",(function(){clearInterval(r.minimizeTimeoutId),r.listener&&r.listener.isActive()&&(r.listener.destroy(),r.logEvent("ended"),r.resetState())})),(0,l.Z)(this,"triggerAutoMinimizeIfPossible",(function(){r.listener&&r.listener.isActive()&&!r.focusMinimizeTimeoutId&&(r.focusMinimizeTimeoutId=window.setTimeout(r.focusMinimize,3e4),r.viewedTimestamp=(new Date).getTime(),r.logEvent("viewed"))})),(0,l.Z)(this,"displayBillboard",(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(r.displayTimeoutId),clearTimeout(r.retryTimoutId),!r.listener||!r.listener.isActive()){e.next=4;break}return e.abrupt("return");case 4:if(!r.listener||!r.listener.canShow()){e.next=11;break}return e.next=7,r.clearSlot();case 7:return e.next=9,r.billboardApi.postToSlot(A,"fetch");case 9:e.next=12;break;case 11:r.retryTimoutId=window.setTimeout((function(){r.displayBillboard()}),5e3);case 12:case"end":return e.stop()}}),e)})))),this.billboardApi=t,this.focusState=n}var t,n,r,c,u;return(0,s.Z)(e,[{key:"enable",value:(u=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=9;break}return this.enabled=!0,this.listener=t,this.focusState.addFocusListener(this),this.disableWindow=_(window),this.activitySubscription=w(18e4,this.onActivity),e.next=8,this.billboardApi.addNewSlot(A,"video");case 8:this.subscription=this.billboardApi.subscribeToSlotType(A,this.onAdMessage);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"disable",value:(c=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.enabled&&(this.resetState(),this.enabled=!1,this.listener=void 0,this.subscription&&this.subscription.cancel(),this.activitySubscription&&this.activitySubscription(),this.disableWindow&&this.disableWindow(),this.focusState.removeAllFocusListeners());case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"minimize",value:function(){clearInterval(this.focusMinimizeTimeoutId),clearInterval(this.minimizeTimeoutId),this.minimizeTimeoutId=window.setTimeout(this.finish,3e4),this.logEvent("collapsed",{msSinceViewed:String((new Date).getTime()-this.viewedTimestamp)})}},{key:"adClick",value:function(){this.logEvent("clicked")}},{key:"onRender",value:function(){this.logEvent(this.focusState.hasFocus()?T:D)}},{key:"onError",value:function(){this.handleDiscard()}},{key:"onFinish",value:function(){this.finish()}},{key:"onFocusChanged",value:function(e){return e?this.handleApplicationGainedFocus():this.handleApplicationLostFocus()}},{key:"handleDiscard",value:function(){var e=this;if(clearInterval(this.retryDfpTimoutId),this.listener){var t=!this.listener.isActive();this.listener.isActive()&&this.logEvent("terminated"),this.resetState(),this.listener.destroy().then((function(){t&&(e.retryDfpTimoutId=window.setTimeout(e.displayBillboard,1e4))}))}}},{key:"handlePreview",value:function(e){if(this.listener)switch(e.event){case"available":this.adId=e&&e.ad?e.ad.id:void 0,this.listener.create(this.mapBillboardData(e)),this.billboardApi.postToSlot(A,"now");break;case"play":break;case"discard":this.handleDiscard();break;default:throw new Error("Unknown core event from ".concat(A," slot: ").concat(e.event))}}},{key:"isPreviewServiceAd",value:function(e){return e&&"true"===e.is_preview}},{key:"resetState",value:function(){clearInterval(this.displayTimeoutId),clearInterval(this.retryTimoutId),clearInterval(this.retryDfpTimoutId),clearInterval(this.focusMinimizeTimeoutId),clearInterval(this.minimizeTimeoutId),this.adId=void 0,this.viewedTimestamp=0,this.focusMinimizeTimeoutId=void 0}},{key:"handleApplicationGainedFocus",value:(r=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(this.displayTimeoutId),clearTimeout(this.retryTimoutId),this.listener){e.next=4;break}return e.abrupt("return");case 4:if(!this.activating){e.next=6;break}return e.abrupt("return");case 6:if(!this.listener.isActive()){e.next=10;break}return this.logEvent(T),this.triggerAutoMinimizeIfPossible(),e.abrupt("return");case 10:return this.activating=!0,e.prev=11,e.next=14,this.billboardApi.patchTargeting("focus","true");case 14:return e.next=16,this.billboardApi.postToSlot(A,"now");case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(11);case 20:return e.prev=20,this.activating=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[11,18,20,23]])}))),function(){return r.apply(this,arguments)})},{key:"handleApplicationLostFocus",value:(n=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.listener||!this.listener.isActive()){e.next=3;break}return this.logEvent(D),e.abrupt("return");case 3:return clearTimeout(this.displayTimeoutId),e.next=6,this.getFocusTimeoutMs();case 6:t=e.sent,this.displayTimeoutId=window.setTimeout(this.displayBillboard,t);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getFocusTimeoutMs",value:(t=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.billboardApi.getSlotConfiguration(A,"display_time_interval").catch((function(){return null}));case 2:if(!((t=e.sent)&&t>0)){e.next=5;break}return e.abrupt("return",1e3*t);case 5:return e.abrupt("return",18e4);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"logEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.adId&&this.billboardApi.postEvent(this.adId,e,{event_data:j({clientReportedUserAgent:navigator.userAgent},t)})}},{key:"clearSlot",value:function(){return this.billboardApi.triggerSlotClearAll(A)}},{key:"mapBillboardData",value:function(e){var t=e.ad.metadata||{},n={accountUpgrade:t.accountUpgrade,accountUpgradeTracking:t.accountUpgradeTracking,clickUrl:(0,f.p)(e.ad.click_url),companionSrc:"",creativeId:t.creative_id,dummy:e.ad.dummy,id:e.ad.id,isAdaptive:!1,isPreview:"true"===t.is_preview,isValid:!0,lineItemId:t.lineitem_id,mediaSrc:""};switch(e.ad.format){case"banner":n.companionSrc=e.ad.companion_ad&&e.ad.companion_ad.url||"",n.mediaSrc=e.ad.images&&e.ad.images[0]&&e.ad.images[0].url||"";break;case"dummy":break;default:n.isValid=!1}return n}}]),e}();n(40274),n(65394),n(78819),n(4302),n(66469);var F=n(40744),L=n(67994),M=n(59272),U=n(819);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var B="hpto",V=function(){function e(t,n,i,r){(0,o.Z)(this,e),this.adsCoreConnector=t,this.webApi=n,this.esperantoPreviewParser=i,this.eventSender=r}var t,n,r;return(0,s.Z)(e,[{key:"getSlot",value:(r=(0,i.Z)(a().mark((function e(t){var n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adsCoreConnector.fetchAdForSlot(t);case 2:if(n=e.sent,i=n.display.find((function(e){return"text/html"===e.mimeType}))){e.next=6;break}throw Error("No template");case 6:return e.abrupt("return",{id:n.adId,adPlaybackId:n.requestId,media:i.text,"mime-type":i.mimeType,height:i.height,width:i.width,bitrate:i.bitrate,duration:i.duration});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"logEvent",value:(n=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.eventSender.send(t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return n.apply(this,arguments)})},{key:"subscribeToPreview",value:function(e){var t=this;return this.adsCoreConnector.addNewSlot(B),this.adsCoreConnector.enableSlot(B),this.adsCoreConnector.subscribeToSlot(B,(function(n){var i=n.adSlotEvent;if((null==i?void 0:i.eventType)===F.oK.AVAILABLE&&t.esperantoPreviewParser.isPreviewServiceAd(i.ad)){var r=t.esperantoPreviewParser.parsePreview(i.ad);e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}}))}},{key:"getAlgoPlaylistInfo",value:(t=(0,i.Z)(a().mark((function e(t){var n,i,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t in U.g&&(n=t),n){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,this.adsCoreConnector.getSponsoredUris();case 5:if(i=e.sent,r=i.sponsorships,!(o=r.find((function(e){var t,i=e.spotifyUri.split(":").at(-1);return null===(t=(0,M.QS)(i))||void 0===t?void 0:t.includes(n)})))){e.next=10;break}return e.abrupt("return",{uri:o.spotifyUri,playBtnUri:o.spotifyUri,uriType:M.JM.PLAYLIST});case 10:return this.eventSender.send((0,L.v)({error_message:"HPTO Sponsored Playlist from GAM not in sponsorships list.",request_type:"hpto"})),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getAlbum",value:function(e){return this.webApi.getAlbum(e)}},{key:"getArtist",value:function(e){return this.webApi.getArtist(e)}},{key:"getEpisode",value:function(e){return this.webApi.getEpisode(e)}},{key:"getPlaylist",value:function(e){return this.webApi.getPlaylist(e)}},{key:"getShow",value:function(e){return this.webApi.getShow(e)}},{key:"getTrack",value:function(e){return this.webApi.getTrack(e)}}]),e}();n(8760);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(){function e(t,n,i,r){(0,o.Z)(this,e),this.cosmosConnector=t,this.webApi=n,this.previewParser=i,this.eventSender=r}var t,n;return(0,s.Z)(e,[{key:"getSlot",value:function(e){return this.cosmosConnector.fetchAdForSlot(e).then((function(e){var t=e.display.find((function(e){return"text/html"===e.mime_type}));if(!t)throw Error("No template");return G({adPlaybackId:e.ad_playback_id},t)}))}},{key:"logEvent",value:(n=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.eventSender.send(t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return n.apply(this,arguments)})},{key:"getAlgoPlaylistInfo",value:function(e){var t=this;return new Promise((function(n){Object.prototype.hasOwnProperty.call(U.g,e)?t.cosmosConnector.getSponsoredUris().then((function(t){for(var i=t.sponsorships,r=0;r<i.length;r++){var a,o=i[r].spotifyUri.split(":");if(null!==(a=(0,M.QS)(o[o.length-1]))&&void 0!==a&&a.includes(U.g[e]))return void n({uri:i[r].spotifyUri,playBtnUri:i[r].spotifyUri,uriType:M.JM.PLAYLIST})}(0,L.v)({error_message:"HPTO Sponsored Playlist from GAM not in sponsorships list.",request_type:"hpto"}),n()})):n()}))}},{key:"getAlbum",value:function(e){return this.webApi.getAlbum(e)}},{key:"getArtist",value:function(e){return this.webApi.getArtist(e)}},{key:"getEpisode",value:function(e){return this.webApi.getEpisode(e)}},{key:"getPlaylist",value:function(e){return this.webApi.getPlaylist(e)}},{key:"getShow",value:function(e){return this.webApi.getShow(e)}},{key:"getTrack",value:function(e){return this.webApi.getTrack(e)}},{key:"subscribeToPreview",value:(t=(0,i.Z)(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cosmosConnector.addNewSlot("hpto","banner");case 2:return e.next=4,this.cosmosConnector.enableSlot("hpto");case 4:return e.abrupt("return",this.cosmosConnector.subscribeToSlot("sp://ads/v1/slots/hpto",function(){var e=(0,i.Z)(a().mark((function e(i){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"available"===i.event&&n.previewParser.isPreviewServiceAd(i.ad)&&(r=n.previewParser.parsePreview(i),t(G({},r)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();n(16366),n(70785),n(65477);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"parsePreview",value:function(e){var t=e.metadata,n=e.display,i=e.requestId,r=t.creative_id,a=t.gid,o={creativeId:parseInt(r,10),gid:a,hpto:JSON.parse(n[0]&&n[0].text||"")},s=o.hpto||o,l=null,c=s.html&&-1!==s.html.search(/id="native-elements"/),u=!s.html&&"html"===s["banner-mode"];if(c?l=this.handleNativeEl(s):u&&(l=this.renameImageBannerField(s)),(l=l||s).bannerMode=l["banner-mode"],!l.bannerMode)throw new TypeError("hpto data looks invalid");var d=this.createInteractiveIframe(l.html);return K(K({},l),{},{adPlaybackId:i,loaderFrame:d})}},{key:"isPreviewServiceAd",value:function(e){var t=e.metadata;return!!t&&"true"===t.is_preview}},{key:"getKeyByValue",value:function(e,t){return Object.keys(t).find((function(n){return t[n]===e}))||""}},{key:"renameImageBannerField",value:function(e){return delete e[this.getKeyByValue("html",e)],Object.assign({},e,{"banner-mode":"image"})}},{key:"handleNativeEl",value:function(e){var t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e.html;var n="",i=t.getElementById("native-elements"),r=this.getKeyByValue("html",e);return["data-is-spotlight","data-is-exclusive","data-is-sponsored"].some((function(e){return i&&i.hasAttribute(e)&&(n=e),n})),n=n.split("-").pop()||"",delete e[r],Object.assign({},e,{version:2,badge:n,"banner-mode":"native",blurb:i&&i.getAttribute("data-blurb"),"target-uri":i&&i.getAttribute("data-uri"),playBtnUri:i&&i.getAttribute("data-track-override")})}},{key:"createInteractiveIframe",value:function(e){var t=encodeURIComponent(e),n=document.createElement("iframe");return n.className="ad-iframe",n.src="data:text/html;charset=utf-8,".concat(t),n.srcdoc=e,n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n}}]),e}();function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"parsePreview",value:function(e){var t=e.ad,n=t.creative_id,i=t.id,r=t.display,a={creativeId:parseInt(n,10),gid:i,hpto:JSON.parse(r[0]&&r[0].media||"")},o=a.hpto||a,s=null,l=o.html&&-1!==o.html.search(/id="native-elements"/),c=!o.html&&"html"===o["banner-mode"];if(l?s=this.handleNativeEl(o):c&&(s=this.renameImageBannerField(o)),(s=s||o).bannerMode=s["banner-mode"],!s.bannerMode)throw new TypeError("hpto data looks invalid");var u=this.createInteractiveIframe(s.html);return Q(Q({},s),{},{adPlaybackId:t.ad_playback_id,loaderFrame:u})}},{key:"isPreviewServiceAd",value:function(e){return e.metadata&&"true"===e.metadata.is_preview}},{key:"getKeyByValue",value:function(e,t){return Object.keys(t).find((function(n){return t[n]===e}))||""}},{key:"renameImageBannerField",value:function(e){return delete e[this.getKeyByValue("html",e)],Object.assign({},e,{"banner-mode":"image"})}},{key:"handleNativeEl",value:function(e){var t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e.html;var n="",i=t.getElementById("native-elements"),r=this.getKeyByValue("html",e);return["data-is-spotlight","data-is-exclusive","data-is-sponsored"].some((function(e){return i&&i.hasAttribute(e)&&(n=e),n})),n=n.split("-").pop()||"",delete e[r],Object.assign({},e,{version:2,badge:n,"banner-mode":"native",blurb:i&&i.getAttribute("data-blurb"),"target-uri":i&&i.getAttribute("data-uri"),playBtnUri:i&&i.getAttribute("data-track-override")})}},{key:"createInteractiveIframe",value:function(e){var t=encodeURIComponent(e),n=document.createElement("iframe");return n.className="ad-iframe",n.src="data:text/html;charset=utf-8,".concat(t),n.srcdoc=e,n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n}}]),e}(),X=function(){function e(t){var n=this,i=t.initialStatus,r=t.onOnlineStatusChange;(0,o.Z)(this,e),this.isOnline=i||!0,window.addEventListener("online",(function(){n.isOnline=!0,null==r||r(!0)})),window.addEventListener("offline",(function(){n.isOnline=!1,null==r||r(!1)})),window.addEventListener("visibilitychange",(function(){if(!document.hidden){var e=navigator.onLine;n.isOnline=e,null==r||r(e)}}))}return(0,s.Z)(e,[{key:"getOnlineStatus",value:function(){return this.isOnline}}]),e}(),$="visible_unknown",ee={root:null,rootMargin:"",thresholds:[],observe:function(){},disconnect:function(){},takeRecords:function(){return[]},unobserve:function(){}},te=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threshold:[0,.5,1]};(0,o.Z)(this,e),(0,l.Z)(this,"onObservation",(function(e){var n=e[0].intersectionRatio,i=$;1===n?i="visible_100":n>=.5?i="visible_50":n<.5&&(i="visible_0"),i!==t.currentState&&(t.currentState=i,t.callback&&t.callback(t.currentState))})),this.currentState=$,this.intersectionObserver=ee,IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this.onObservation,n))}return(0,s.Z)(e,[{key:"observe",value:function(e,t){this.callback=t,this.intersectionObserver.observe(e)}},{key:"disconnect",value:function(){this.intersectionObserver.disconnect()}}]),e}(),ne=n(96268),ie=(n(31781),n(37193),n(69109),n(94003));function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe="hpto",se=function(){function e(t,n,r,s,c,u){var d=this;(0,o.Z)(this,e),(0,l.Z)(this,"timeOfLastViewUpdate",0),(0,l.Z)(this,"refreshCallback",(function(){})),(0,l.Z)(this,"visibilityState",""),(0,l.Z)(this,"createTrackingPixelImage",(function(e,t){var n=document.createElement("img");return n.src=e,n.alt="",n.style.display="none",n.style.height="1px",n.style.width="1px",n.classList.add("pixel",t),n})),(0,l.Z)(this,"onVisibilityChanged",(function(e){var t=d.visibilityState;d.visibilityState=e,"visible_0"===t&&("visible_50"===e||"visible_100"===e)&&d.maybeTriggerRefresh(),d.log("event_".concat(e))})),(0,l.Z)(this,"log",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(d.currentAd){var n=(0,ie.X)({slot:oe,app_startup_id:d.appStartupId,event:e,lineitem_id:String(d.currentAd.lineItemId),creative_id:String(d.currentAd.creativeId),ad_id:String(d.currentAd.creativeId),format:"hpto ".concat(d.currentAd.bannerMode),request_id:String(d.currentAd.adPlaybackId),event_source:t?"client-".concat(t):"client"});d.hptoApi.logEvent(n)}})),(0,l.Z)(this,"logAdEventError",(function(e){var t=(0,ie.X)({slot:oe,app_startup_id:d.appStartupId,event:"event_error",event_reason:e,event_source:"client"});d.hptoApi.logEvent(t)})),(0,l.Z)(this,"mapData",function(){var e=(0,i.Z)(a().mark((function e(t){var n,i,r,o,s,l,c,u,p,m,v,g,h,k;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.currentAd=ae({},t),i=t["target-uri"],r=null===(n=(0,M.EC)(i))||void 0===n?void 0:n.type,o={episodeShowUri:""},s=t.playBtnUri||i,"native"!==t.bannerMode){e.next=13;break}return e.next=8,d.hptoApi.getAlgoPlaylistInfo(i);case 8:return(l=e.sent)&&(i=l.uri,s=l.playBtnUri,r=l.uriType),e.next=12,d.getNativeData(i,r);case 12:o=e.sent;case 13:return c=t.blurb,u=(t.badge||"").toLowerCase(),p=t["background-color"],m=p&&"#"===p[0]?p:"#".concat(p),v=t["background-image"],g=(0,f.p)(t["background-url"]),h=g&&g.replace(/&amp;/g,"&"),k="sponsored"===t.nativeHptoType,e.abrupt("return",ae(ae(ae({},t),o),{},{isSponsored:k,uri:o.episodeShowUri||i,uriType:r,badgeType:u,playBtnUri:s,backgroundColor:m,backgroundUrl:g,backgroundImage:v,clickThroughUrl:h,description:c}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.hptoApi=t,this.focusState=n,this.visibilityObserver=r,this.offlineObserver=s,this.appStartupId=c,this.hptoRefactorFlag=u,this.trackingPixelDiv=document.createElement("div"),this.trackingPixelDiv.setAttribute("id","ad-tracking-pixel"),this.trackingPixelDiv.style.display="none",document.body.appendChild(this.trackingPixelDiv),this.hptoRefactorFlag=u,this.appStartupId=c}return(0,s.Z)(e,[{key:"subscribeToPreview",value:function(e){var t=this;this.hptoApi.subscribeToPreview(function(){var n=(0,i.Z)(a().mark((function n(i){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.mapData(i);case 2:r=n.sent,e(r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"onRefresh",value:function(e){this.refreshCallback=e}},{key:"fetchTemplate",value:function(){var e=this;return this.hptoApi.getSlot(oe).catch((function(t){throw e.logErrorEvent("fetch template error: ".concat(t)),e.logAdEventError("template fetch from ARS failed"),t}))}},{key:"fetchCreative",value:function(e){var t,n=this,i=e.media||"";return new Promise((function(r,a){window.addEventListener("message",(function n(i){if("object"===(0,ne.Z)(i.data)&&"string"==typeof i.data.type){var o=i.data.type.split(":");if("ads"!==o[0]||"hpto"!==o[1])return;if("error"===o[2]||"no-ad"===o[2])a(o[2]);else if("init"===o[2]){var s=ae(ae({},i.data.data.data),{},{loaderFrame:t,adPlaybackId:e.adPlaybackId});r(s)}else a("unsupported hpto message");window.removeEventListener("message",n)}})),n.hptoRefactorFlag||((t=n.createInteractiveIframe(i)).style.display="none",document.body.appendChild(t))})).then(this.mapData).catch((function(e){throw"no-ad"===e?n.logAdEventError(e):(n.logErrorEvent("fetch creative error: ".concat(e)),n.logAdEventError("creative fetch from GAM failed")),e}))}},{key:"logEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.log(e,t),"event_clicked"===e&&this.trackPixelClicked()}},{key:"logErrorEvent",value:function(e){var t=(0,L.v)({request_type:oe,error_message:e});this.hptoApi.logEvent(t)}},{key:"trackPixelClicked",value:function(){if(this.currentAd){var e=this.currentAd.click,t=e?decodeURIComponent(e.replace(/&amp;/g,"&")):null;if(t){this.trackingPixelDiv.innerHTML="";var n=this.createTrackingPixelImage(t,"event_clicked");this.trackingPixelDiv.appendChild(n)}}}},{key:"trackPixelViewed",value:function(){var e=this;if(this.currentAd){this.trackingPixelDiv.innerHTML="";var t=this.currentAd["tracking-urls"],n=this.currentAd["tracking-url"];this.createTrackingList(t,n).map((function(t){return e.createTrackingPixelImage(t,"view-tracking")})).forEach((function(t){e.trackingPixelDiv.appendChild(t)}))}}},{key:"logViewed",value:function(){this.timeOfLastViewUpdate=Date.now(),this.log("event_viewed"),this.trackPixelViewed()}},{key:"maybeTriggerRefresh",value:function(){var e;this.offlineObserver.getOnlineStatus()&&(Date.now()-this.timeOfLastViewUpdate>=18e5&&this.focusState.hasFocus()&&("visible_50"===this.visibilityState||"visible_100"===this.visibilityState)&&(null===(e=this.refreshCallback)||void 0===e||e.call(this)))}},{key:"viewRendered",value:function(e){this.timeOfLastViewUpdate=Date.now(),this.focusState.removeAllFocusListeners(),this.focusState.addFocusListener(this),this.visibilityObserver.observe(e,this.onVisibilityChanged)}},{key:"viewDestroyed",value:function(){this.focusState.removeAllFocusListeners(),this.visibilityObserver.disconnect(),this.log("event_unload"),this.currentAd=null}},{key:"onFocusChanged",value:function(e){e?(this.maybeTriggerRefresh(),this.log("event_foregrounded")):this.log("event_backgrounded")}},{key:"createTrackingList",value:function(e,t){return e?e.filter(Boolean).map((function(e){return decodeURIComponent(e.replace(/&amp;/g,"&"))})):t?[decodeURIComponent(t.replace(/&amp;/g,"&"))]:[]}},{key:"createInteractiveIframe",value:function(e){var t=encodeURIComponent(e),n=document.createElement("iframe");return n.className="ad-iframe",n.src="data:text/html;charset=utf-8,".concat(t),n.srcdoc=e,n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n}},{key:"getNativeData",value:function(e,t){if(!e||!t)return Promise.reject("error when getting native data: uri: ".concat(e," uriType: ").concat(t));var n=e.split(":").pop();if(!n)return Promise.reject("error when getting native data: id not found");switch(t){case M.JM.SHOW:return this.hptoApi.getShow(n);case M.JM.TRACK:return this.hptoApi.getTrack(n);case M.JM.ALBUM:return this.hptoApi.getAlbum(n);case M.JM.PLAYLIST:case M.JM.PLAYLIST_V2:return this.hptoApi.getPlaylist(n);case M.JM.EPISODE:return this.hptoApi.getEpisode(n);default:return Promise.reject("error when getting native data ".concat(e," is not valid"))}}}]),e}();function le(e,t,n,i,r,a){var o=e.webHptoApi;return new se(r?new V(i,o,new Y,t):new W(m.gN,o,new J,t),new b,new te,new X({}),n,a)}var ce=n(60808),ue=n(1074),de=2e4,pe={displayTimeIntervalMs:de,timeInViewThresholdMs:15e3},me=function(){function e(t){(0,o.Z)(this,e),this.cosmosConnector=t}var t,n,r;return(0,s.Z)(e,[{key:"addSlot",value:(r=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cosmosConnector.addNewSlot(t,"banner");case 2:return e.next=4,this.cosmosConnector.enableSlot(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getConfig",value:(n=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cosmosConnector.getAdSlotConfig("leaderboard");case 3:return t=e.sent,e.abrupt("return",this.normalizeConfig(t));case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=14;break}if("DUPLICATE_REQUEST_ERROR"===e.t0.name){e.next=12;break}throw e.t0;case 12:e.next=15;break;case 14:throw e.t0;case 15:return e.abrupt("return",pe);case 16:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return n.apply(this,arguments)})},{key:"normalizeConfig",value:function(e){if(e){var t={displayTimeIntervalMs:de,timeInViewThresholdMs:15e3};return Object.prototype.hasOwnProperty.call(e,"display_time_interval")&&(t.displayTimeIntervalMs=1e3*e.display_time_interval),t}return pe}},{key:"getSlot",value:(t=(0,i.Z)(a().mark((function e(t){var n,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.cosmosConnector.fetchAdForSlot(t);case 3:return n=e.sent,i=n.display.find((function(e){return"text/html"===e.mime_type})),r=i?i.media:n.html,e.abrupt("return",{html:r,adDisplay:i});case 9:throw e.prev=9,e.t0=e.catch(0),Error("Slot Request failed ".concat(e.t0));case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e){return t.apply(this,arguments)})},{key:"subscribeToSlotType",value:function(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}}]),e}(),fe={"Spotify-App-Version":"WebPlayer","App-Platform":"1.0.0"},ve=function(){function e(t,n){(0,o.Z)(this,e),this.adsApi=t,this.spotifyTransport=n}return(0,s.Z)(e,[{key:"addSlot",value:function(){return Promise.resolve()}},{key:"getConfig",value:function(){var e=this;return this.adsApi.getAdsManagerConfig(this.spotifyTransport,fe).then((function(t){return t&&t.ok&&t.body?e.normalizeConfig(t.body.leaderboard):pe}),(function(e){if("DUPLICATE_REQUEST_ERROR"!==e.name)throw e;return pe}))}},{key:"normalizeConfig",value:function(e){if(e){var t={displayTimeIntervalMs:de,timeInViewThresholdMs:15e3};return Object.prototype.hasOwnProperty.call(e,"focus_time_elapsed_ms")&&(t.displayTimeIntervalMs=e.focus_time_elapsed_ms),t}return pe}},{key:"getSlot",value:function(e){return this.adsApi.getAdsManagerSlot(this.spotifyTransport,e,fe).then((function(t){if(t&&t.ok&&t.body)return t.body.pod[e][0];throw Error("Slot Request failed")})).then((function(e){var t=e.display.find((function(e){return"text/html"===e.mimetype}));return{html:e.html,displayAd:t}}))}},{key:"logEvent",value:function(){return Promise.resolve()}},{key:"subscribeToSlotType",value:function(){return{cancel:function(){}}}}]),e}(),ge=function(){function e(t){(0,o.Z)(this,e),(0,l.Z)(this,"viewTimer",0),(0,l.Z)(this,"lastOnlineStatus",!0),this.focusState=t}var t,n,r;return(0,s.Z)(e,[{key:"setRefreshDelegate",value:function(e){this.delegate=e}},{key:"onViewLoaded",value:(r=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delegate.requestConfig();case 2:t=e.sent,this.viewTimer=t.displayTimeIntervalMs,this.timeOfLastViewUpdate=Date.now(),this.focusState.addFocusListener(this),this.startRefreshTimer();case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"onViewUnloaded",value:function(){this.focusState.removeFocusListener(this),clearTimeout(this.refreshTimeout)}},{key:"onLeaderboardEnabled",value:function(){this.triggerRefresh()}},{key:"onLeaderboardDisabled",value:function(){this.onViewUnloaded()}},{key:"onNavigationChanged",value:function(){return this.updateViewTimer()}},{key:"onlineStateChanged",value:function(e){e!==this.lastOnlineStatus&&(this.lastOnlineStatus=e,e&&this.triggerRefresh())}},{key:"onFocusChanged",value:function(e){e?(this.timeOfLastViewUpdate=Date.now(),this.notifyRefreshIfPossible(),this.startRefreshTimer()):(this.updateViewTimer(),clearTimeout(this.refreshTimeout))}},{key:"updateViewTimer",value:(n=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===this.timeOfLastViewUpdate&&(this.timeOfLastViewUpdate=Date.now()),t=Date.now()-this.timeOfLastViewUpdate,this.viewTimer=this.viewTimer-t,this.timeOfLastViewUpdate=Date.now(),e.abrupt("return",this.notifyRefreshIfPossible());case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"isPastViewThreshold",value:function(){var e=this;return this.delegate.requestConfig().then((function(t){return t.displayTimeIntervalMs-e.viewTimer>t.timeInViewThresholdMs}))}},{key:"notifyRefreshIfPossible",value:(t=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isPastViewThreshold();case 2:return(t=e.sent)&&this.triggerRefresh(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"startRefreshTimer",value:function(){clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout(this.triggerRefresh.bind(this),this.viewTimer)}},{key:"triggerRefresh",value:function(){document.hasFocus()&&this.delegate&&this.delegate.refreshLeaderboard()}}]),e}(),he=function(){function e(){(0,o.Z)(this,e),this.bindedVisibilityHandler=this.handleAppVisibilityChange.bind(this)}var t,n;return(0,s.Z)(e,[{key:"onNavigationChanged",value:function(){}},{key:"onlineStateChanged",value:function(){}},{key:"setRefreshDelegate",value:function(e){this.delegate=e}},{key:"onViewLoaded",value:(n=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scheduleRefresh();case 2:document.addEventListener("visibilitychange",this.bindedVisibilityHandler);case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onViewUnloaded",value:function(){document.removeEventListener("visibilitychange",this.bindedVisibilityHandler),this.disableRefresh()}},{key:"onLeaderboardEnabled",value:function(){this.triggerRefresh()}},{key:"onLeaderboardDisabled",value:function(){this.onViewUnloaded()}},{key:"handleAppVisibilityChange",value:(t=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("function"==typeof t.composedPath&&t.composedPath()&&t.composedPath()[0]||document).hidden){e.next=5;break}this.disableRefresh(),e.next=7;break;case 5:return e.next=7,this.scheduleRefresh();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"scheduleRefresh",value:function(){var e=this;return this.delegate.requestConfig().then((function(t){clearTimeout(e.refreshTimeout),e.refreshTimeout=setTimeout(e.triggerRefresh.bind(e),t.displayTimeIntervalMs)}))}},{key:"disableRefresh",value:function(){clearTimeout(this.refreshTimeout)}},{key:"triggerRefresh",value:function(){this.delegate&&this.delegate.refreshLeaderboard()}}]),e}(),ke=(n(90511),n(96669),n(63691),n(82088),n(55530)),ye=n.n(ke),be=n(2579),Se="leaderboard",xe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0;(0,o.Z)(this,e),(0,l.Z)(this,"useIframeSrcDoc",!1),(0,l.Z)(this,"fetching",!1),(0,l.Z)(this,"enabled",!1),(0,l.Z)(this,"currentAd",{creativeId:null,lineitemId:null}),(0,l.Z)(this,"handleLeaderboardMessage",(function(e){var n,i,r,a;switch(t.currentAd.lineitemId=String((null===(n=e.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.lineItemId)||""),t.currentAd.creativeId=String((null===(r=e.data)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.creativeId)||""),e.data&&e.data.type){case"ads-leaderboard-rendered":""!==t.currentAd.lineitemId&&null!==t.currentAd.creativeId&&t.logLeaderboardEvent("event_viewed");break;case"ads-leaderboard-failed":t.logLeaderboardEvent("event_errored"),t.handleBadLeaderboard()}})),(0,l.Z)(this,"onAdMessage",(function(e){if(t.isPreviewServiceAd(e.ad.metadata)){if(!e.ad.display||e.ad.display.length<1)throw new Error("Unknown core event from ".concat(Se," slot: ").concat(e.event));var n=e.ad.display[0],i=n.media,r=n&&n.width?n.width:"728",a=n&&n.height?n.height:"90";t.renderLeaderboard(i,r,a)}})),this.appStartupId=u,this.frameSrc=n.frameSrc,this.useIframeSrcDoc=n.useIframeSrcDoc||!1,this.focusState=a,this.leaderboardApi=i,this.refreshDecisioner=r,this.refreshDecisioner.setRefreshDelegate(this),this.leaderboardWrapper=null,this.eventSender=s,this.history=c,this.appStartupId=u,this.offlineObserver=new X({onOnlineStatusChange:function(e){return t.refreshDecisioner.onlineStateChanged(e)}})}var t,n;return(0,s.Z)(e,[{key:"enableLeaderboard",value:function(){this.enabled=!0,this.enableLeaderboardMessageHandler(),this.refreshDecisioner.onLeaderboardEnabled(),this.subscription=this.leaderboardApi.subscribeToSlotType(Se,this.onAdMessage)}},{key:"setLeaderboardElement",value:function(e){this.domTarget=e}},{key:"onNavigationChanged",value:function(){this.refreshDecisioner.onNavigationChanged()}},{key:"enableLeaderboardMessageHandler",value:function(){window.removeEventListener("message",this.handleLeaderboardMessage),window.addEventListener("message",this.handleLeaderboardMessage)}},{key:"disableLeaderboardMessageHandler",value:function(){window.removeEventListener("message",this.handleLeaderboardMessage)}},{key:"logLeaderboardEvent",value:function(e){this.eventSender.send((0,be.u)({ad_playback_id:this.adPlaybackId,view_uri:this.history.location.pathname,event:e}));var t=(0,ie.X)({event:e,slot:"leaderboard",format:"banner",app_startup_id:this.appStartupId,request_id:this.adPlaybackId,lineitem_id:this.currentAd.lineitemId,creative_id:this.currentAd.creativeId,ad_id:this.currentAd.creativeId,in_focus:document.hasFocus?document.hasFocus():null,event_source:"client"});this.eventSender.send(t)}},{key:"requestConfig",value:(n=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cachedConfig){e.next=2;break}return e.abrupt("return",Promise.resolve(this.cachedConfig));case 2:return e.next=4,this.leaderboardApi.getConfig();case 4:return this.cachedConfig=e.sent,e.abrupt("return",this.cachedConfig);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"requestSlot",value:function(e){var t=this;return this.leaderboardApi.getSlot(e).then((function(e){return t.adPlaybackId=ye().create().hex,e})).catch((function(e){throw new Error("LeaderboardManager: cant get slot. ".concat(e))}))}},{key:"fetchAndDisplayLeaderboard",value:(t=(0,i.Z)(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.frameSrc){e.next=2;break}throw new Error("LeaderboardManager: frameSrc must be specified in options. Point it to a blank page on the same domain.");case 2:if(this.domTarget){e.next=4;break}return e.abrupt("return");case 4:if(!this.fetching){e.next=6;break}return e.abrupt("return");case 6:if(this.enabled){e.next=8;break}return e.abrupt("return");case 8:this.fetching=!0,this.requestSlot(Se).then((function(e){var n=e.html,i=e.adDisplay&&e.adDisplay.width?e.adDisplay.width:"728",r=e.adDisplay&&e.adDisplay.height?e.adDisplay.height:"90";return t.fetching=!1,t.renderLeaderboard(n,i,r)})).catch((function(e){throw t.fetching=!1,Error("Slot Request and display failed: ".concat(e))}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isPreviewServiceAd",value:function(e){return e&&"true"===e.is_preview}},{key:"renderLeaderboard",value:function(e,t,n){var i=document.createElement("iframe");i.addEventListener("load",this.adFrameLoaded.bind(this,e,i)),i.setAttribute("sandbox",["allow-top-navigation-by-user-activation","allow-forms","allow-modals","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts",/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"":"allow-presentation"].join(" ")),i.setAttribute("width",t),i.setAttribute("height",n),i.setAttribute("id","leaderboard-ad-element"),i.setAttribute("src",this.frameSrc),this.useIframeSrcDoc&&i.setAttribute("srcdoc",e),i.setAttribute("tab-index","-1"),this.leaderboardWrapper=document.createElement("div"),this.leaderboardWrapper.setAttribute("aria-hidden","true"),this.leaderboardWrapper.appendChild(i),this.domTarget.innerHTML="",this.domTarget.appendChild(this.leaderboardWrapper)}},{key:"adFrameLoaded",value:function(e,t,n){var i=this,r=n.composedPath&&n.composedPath()&&n.composedPath()[0].contentWindow||t.contentWindow;this.refreshDecisioner.onViewLoaded(),this.focusState.addFocusListener(this),this.useIframeSrcDoc||r.postMessage({type:"html",html:e},this.getFrameSrcOrigin());r.addEventListener("unload",(function e(){i.logLeaderboardEvent("event_unload"),i.refreshDecisioner.onViewUnloaded(),i.focusState.removeFocusListener(i),r.removeEventListener("unload",e)}))}},{key:"getFrameSrcOrigin",value:function(){return this.frameSrc.indexOf("http")>-1?this.frameSrc.slice(0,this.frameSrc.indexOf("/",8)):location.origin}},{key:"disableLeaderboard",value:function(){this.enabled=!1,this.disableLeaderboardMessageHandler(),this.refreshDecisioner.onLeaderboardDisabled(),this.focusState.removeFocusListener(this),this.subscription&&this.subscription.cancel(),this.leaderboardWrapper&&this.leaderboardWrapper.firstChild&&this.leaderboardWrapper.removeChild(this.leaderboardWrapper.firstChild),this.leaderboardWrapper&&this.leaderboardWrapper.parentNode&&this.leaderboardWrapper.parentNode.removeChild(this.leaderboardWrapper),this.leaderboardWrapper=null}},{key:"handleBadLeaderboard",value:function(){this.currentAd.creativeId=null,this.currentAd.lineitemId=null,this.domTarget&&(this.domTarget.innerHTML="")}},{key:"onFocusChanged",value:function(e){this.logLeaderboardEvent("event_".concat(e?"foregrounded":"backgrounded"))}},{key:"refreshLeaderboard",value:function(){this.fetchAndDisplayLeaderboard()}}]),e}();function Oe(e,t,n,i){var r=new b,a=e?new me(m.gN):new ve(ue.fi,ce.b.getInstance()),o=e?new ge(r):new he;return new xe({frameSrc:e?"/blank.html":"/blank",useIframeSrcDoc:e},a,o,r,t,n,i)}n(89620);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=function(){function e(t){(0,o.Z)(this,e),this.eventSender=t}var t,n,r;return(0,s.Z)(e,[{key:"getSponsoredUris",value:(r=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.gN.getSponsoredUris();case 2:return t=e.sent,e.abrupt("return",t.sponsorships);case 4:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"getSponsorshipAd",value:function(e){var t=this;return m.gN.getSponsorshipAd(e).catch((function(e){t.eventSender.send((0,L.v)({request_type:"sponsored",error_message:JSON.stringify({reason:e})}))}))}},{key:"subscribeToPreview",value:(n=(0,i.Z)(a().mark((function e(t){var n,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="sponsored-playlist",e.next=3,m.gN.addNewSlot(n).catch((function(e){i.eventSender.send((0,L.v)({request_type:"sponsored playlist",error_message:JSON.stringify({error:e})}))}));case 3:return e.abrupt("return",m.gN.subscribeToSlot("sp://ads/v1/slots/".concat(n),(function(e){var n=(new DOMParser).parseFromString(e.ad.display[0].media,"text/html"),i=JSON.parse(n.querySelector('[data-template="sponsored-playlist"]').innerText);t(Ne(Ne({},i.sponsoredPlaylist),{},{logoUrl:i.sponsoredPlaylist.logo}))})));case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"logEvent",value:(t=(0,i.Z)(a().mark((function e(t){var n,i,r,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.event,i=t.ad_format,r=t.lineitem_id,o=t.creative_id,s=t.ad_id,this.eventSender.send((0,ie.X)({event:n,format:i,lineitem_id:r,creative_id:o,ad_id:s,event_source:"client"}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe=function(){function e(t){(0,o.Z)(this,e),this.eventSender=t}var t,n,r;return(0,s.Z)(e,[{key:"getSponsoredUris",value:(r=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.OK.getSponsoredPlaylists(ce.b.getInstance());case 2:return t=e.sent,e.abrupt("return",t.body.sponsorships);case 4:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"getSponsorshipAd",value:(n=(0,i.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.OK.getSponsoredPlaylistAd(ce.b.getInstance(),t);case 2:return n=e.sent,e.abrupt("return",n.body);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"logEvent",value:function(e){return this.eventSender.send((0,ie.X)(Ce(Ce({},e),{},{format:e.ad_format})))}},{key:"subscribeToPreview",value:(t=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{cancel:function(){}});case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),Ie=function(){function e(t){(0,o.Z)(this,e),(0,l.Z)(this,"enabled",!1),this.sponsoredPlaylistApi=t}var t,n,r,c;return(0,s.Z)(e,[{key:"enable",value:(c=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.enabled=!0,e.next=3,this.sponsoredPlaylistApi.subscribeToPreview(t);case 3:this.subscription=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"disable",value:function(){this.enabled=!1,this.subscription&&(this.subscription.cancel(),this.subscription=void 0)}},{key:"requestSponsoredPlaylists",value:(r=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("You have to enable the manager before calling requestSponsoredPlaylists");case 2:return e.abrupt("return",this.sponsoredPlaylistApi.getSponsoredUris());case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"requestSponsoredPlaylistAd",value:(n=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("You have to enable the manager before calling requestSponsoredPlaylistAd");case 2:return e.abrupt("return",this.sponsoredPlaylistApi.getSponsorshipAd(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"logEvent",value:(t=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}throw new Error("You have to enable the manager before calling logEvent");case 2:return e.abrupt("return",this.sponsoredPlaylistApi.logEvent(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function je(e,t){var n=e?new _e(t):new Pe(t);return new Ie(n)}var Ae=function(){function e(t){(0,o.Z)(this,e),this.cosmosConnector=t}return(0,s.Z)(e,[{key:"addNewSlot",value:function(e,t){return this.cosmosConnector.addNewSlot(e,t)}},{key:"patchTargeting",value:function(e,t){return this.cosmosConnector.patchTargeting(e,t)}},{key:"subscribeToSlotType",value:function(e,t){return this.cosmosConnector.subscribeToSlotType(e,t)}},{key:"postEvent",value:function(e,t,n){return this.cosmosConnector.postEvent(e,t,n)}}]),e}(),Te=(n(46743),function(){function e(t,n){(0,o.Z)(this,e),this.vastEventsTracker=t,this.vtoTracker=n}return(0,s.Z)(e,[{key:"onResumed",value:function(){this.vtoTracker.onResumed(),this.vastEventsTracker.onResumed()}},{key:"onPaused",value:function(){this.vastEventsTracker.onPaused()}},{key:"onVolumeChanged",value:function(e){this.vtoTracker.onVolumeChanged(e),this.vastEventsTracker.onVolumeChanged(e)}},{key:"onPlaybackEnded",value:function(e){this.vtoTracker.onPlaybackEnded(e),this.vastEventsTracker.onPlaybackEnded(e)}},{key:"onDurationChanged",value:function(e){this.vtoTracker.onDurationChanged(e),this.vastEventsTracker.onDurationChanged(e)}},{key:"onPlaybackCreated",value:function(e){this.vtoTracker.onPlaybackCreated(e),this.vastEventsTracker.onPlaybackCreated(e)}},{key:"onReady",value:function(){this.vtoTracker.onReady()}},{key:"onSeeking",value:function(){}},{key:"onSubtitleChanged",value:function(){}},{key:"onVideoFormatChanged",value:function(){}}]),e}()),De=n(28725),Re=function(e){return e.STARTED="started",e.RESUMED="resumed",e.PAUSED="paused",e.MUTED="muted",e.UNMUTED="unmuted",e.FIRST_QUARTILE="first_quartile",e.MIDPOINT="midpoint",e.THIRD_QUARTILE="third_quartile",e.ENDED="ended",e.SKIPPED="skipped",e.ERRORED="errored",e.EVENTS="EVENTS",e.VOLUME_CHANGE="volume_change",e}({}),Fe=function(){function e(t){(0,o.Z)(this,e),this.trackingCallback=t,this.lastLadderPosition=0,this.isMuted=!1,this.isStarted=!1,this.isPaused=!1,this.volume=-1,this.duration=-1,this.position=-1}return(0,s.Z)(e,[{key:"getVastEventLadderPosition",value:function(e){switch(e){case Re.STARTED:return 1;case Re.FIRST_QUARTILE:return 2;case Re.MIDPOINT:return 3;case Re.THIRD_QUARTILE:return 4;case Re.SKIPPED:case Re.ENDED:case Re.ERRORED:return 5;default:return null}}},{key:"createPayload",value:function(){return{volume:this.volume,duration:this.duration,position:this.position}}},{key:"processEvent",value:function(e){var t=this.getVastEventLadderPosition(e);t?t>this.lastLadderPosition&&(this.lastLadderPosition=t,this.trackingCallback(e,this.createPayload())):this.trackingCallback(e,this.createPayload())}},{key:"onResumed",value:function(){this.isStarted?this.isPaused&&(this.isPaused=!1,this.processEvent(Re.RESUMED)):(this.isStarted=!0,this.processEvent(Re.STARTED))}},{key:"onPaused",value:function(){this.isPaused=!0,this.processEvent(Re.PAUSED)}},{key:"onVolumeChanged",value:function(e){var t=e.volume;this.volume=t,this.processEvent(Re.VOLUME_CHANGE),t>0&&this.isMuted?(this.isMuted=!1,this.processEvent(Re.UNMUTED)):0!==t||this.isMuted||(this.isMuted=!0,this.processEvent(Re.MUTED))}},{key:"onPlaybackEnded",value:function(e){switch(e.reason){case De.n0.REQUESTED:this.processEvent(Re.SKIPPED);break;case De.n0.FATAL_ERROR:case De.n0.NETWORK_ERROR:this.processEvent(Re.ERRORED);break;case De.n0.PLAYED_TO_END:this.processEvent(Re.ENDED)}}},{key:"onDurationChanged",value:function(e){var t=e.duration;this.duration=t}},{key:"onPlaybackCreated",value:function(e){var t=this,n=e.initialConfiguration,i=e.timeObservable;this.position=n.position,this.volume=n.volume,this.isMuted=0===this.volume,i.addObserverForPeriodicEvents(.4,(function(e){t.position=e})),i.addObserverForMediaPositions([.25,.5,.75],(function(e){e>=.25&&t.processEvent(Re.FIRST_QUARTILE),e>=.5&&t.processEvent(Re.MIDPOINT),e>=.75&&t.processEvent(Re.THIRD_QUARTILE)}))}}]),e}(),Le=function(){function e(t,n){(0,o.Z)(this,e),this.listener=t,this.adId=n,this.isStarted=!1,this.firstReadyDone=!1,this.volume=-1,this.duration=-1,this.position=-1}return(0,s.Z)(e,[{key:"createPayload",value:function(){return{adId:this.adId,volume:this.volume,duration:this.duration,position:this.position}}},{key:"onResumed",value:function(){this.isStarted||(this.isStarted=!0,this.listener.onStarted(this.createPayload()))}},{key:"onVolumeChanged",value:function(e){var t=e.volume;this.volume=t,this.listener.onStateUpdate(this.createPayload())}},{key:"onDurationChanged",value:function(e){var t=e.duration;this.duration=t,this.listener.onStateUpdate(this.createPayload())}},{key:"onPlaybackCreated",value:function(e){var t=this,n=e.initialConfiguration,i=e.timeObservable;this.position=n.position,this.volume=n.volume,i.addObserverForPeriodicEvents(.4,(function(e){t.position=e,t.listener.onStateUpdate(t.createPayload())})),this.listener.onCreated(this.createPayload())}},{key:"onPlaybackEnded",value:function(e){var t=e.reason;this.listener.onEnded(this.createPayload(),t)}},{key:"onReady",value:function(){this.firstReadyDone||this.listener.onReady(),this.firstReadyDone=!0}}]),e}(),Me=function(e){return function(t,n){return m.gN.postEvent(e,t,{event_data:{clientReportedUserAgent:navigator.userAgent,volume:n.volume.toString(),duration:n.duration.toString()},playback_position:Math.floor(1e3*n.position)})}},Ue=n(45649);var Ze=function(){function e(t,n,i){var r=this;(0,o.Z)(this,e),this.focusState=n,this.setAdStateKey=t,this.focusState.addFocusListener(this),this.history=i,this.history.listen((function(e){r.setAdStateKey("view_uri",e.pathname)}))}return(0,s.Z)(e,[{key:"onFocusChanged",value:function(e){this.setAdStateKey("focus",e?"true":"false")}}]),e}();function Be(e){return new Ze(m.gN.setAdStateKey,new b,e)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var He=new(n(9714).AdsCoreConnector),Ge=function(e,t,n,i,r,a,o,s){var c=t.webHptoApi;return function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({audio:h(r),vto:(d=new Ue.hf(new b,new Ae(m.gN)),{manager:d,factories:[(t=Me,u=d,function(e){var n;return"true"===(null===(n=e.metadata)||void 0===n?void 0:n.is_advertisement)?new Te(new Fe(t(e.metadata.ad_id)),new Le(u,e.metadata.ad_id)):null})]}),hpto:le({webHptoApi:c},i,a,He,o,s),billboard:new R(new k(m.gN),new b),leaderboard:Oe(e,i,n,a),sponsoredPlaylist:je(e,i)},e?{adStateReporter:Be(n)}:{});var t,u,d}},We=n(33863),ze=n(24122),Ke=n(19968),Ye=n(39106);function qe(e){var t=e.container,n=e.hptoRefactorFlag,r=e.history,o=e.eventSender,s=e.appStartupId,l=e.playerAPI,c=e.esperantoAdsMigrationFlag;return Ge(t===We.W.Desktop,{webHptoApi:new d(ce.b.getInstance(),{Album:ue.dp,Artist:ue.xh,Playlist:ue.gO,Track:ue.fQ,Show:ue.di},Ye.o)},r,o,(0,i.Z)(a().mark((function e(){var t,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.getState(),i=null!==(t=null==n?void 0:n.item)&&void 0!==t?t:void 0,null!==n&&(0,ze.k6)(i)){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",{positionMs:(0,Ke.k)(n),adId:i.id});case 5:case"end":return e.stop()}}),e)}))),s,c,n)()}},55279:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var i=n(17249);function r(e,t,n){i.ag.setDictionary(e),i.ag.setLocale(t),i.ag.setUrlLocale(n)}},29196:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var i=n(60808),r=n(11721);function a(e,t,n,a){(0,r.J)(e),i.b.setLocale(t.locale),i.b.setMarket(t.market),i.b.setSession(t),i.b.setGlobalRequestHeaders([["App-Platform",a],["Spotify-App-Version",n]])}},29247:(e,t,n)=>{"use strict";n.d(t,{J:()=>Ed,q:()=>bd});var i=n(83014),r=n(39130),a=n(45389),o=n(8850),s=(n(22369),n(8760),n(69109),n(59538),n(79611),n(29543),n(70969),n(83001),n(27639),n(71756),n(95675),n(61235),n(62780),n(7845),n(66715),n(30479),n(75341),n(10995)),l=n.n(s),c=n(9596),u=n(38366),d=n(88797),p=n(92021),m=n(22720),f=n(1219),v=n(72545),g=n(65481),h=n(17547),k=n(71235),y=n(17249),b=n(16296),S=(n(39723),n(21861),n(27915)),x=n(92449),O=n(35391),w=n(23011),N=n(61899),_=n(8238),E=n(20959),C=n(36429);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var I=function(e){(0,O.Z)(r,e);var t,n,i=P(r);function r(e,t,n,a){var o;return(0,S.Z)(this,r),(o=i.call(this,e,t,n))._collection_platform=a,o}return(0,x.Z)(r,[{key:"setIsEnhanced",value:(n=(0,o.Z)(l().mark((function e(t,n,i){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.onLine||!n){e.next=3;break}return this.getEvents().emit(C.c.ENHANCE_OFFLINE_FAILURE,{uri:t}),e.abrupt("return");case 3:return n&&(this._getPageShouldEmitEnhancedWithRecs=!0),r=_.Ht.fromPartial({set:_.hO.ENHANCED,items:[t]}),e.next=7,this._collection_platform[n?"add":"remove"](r);case 7:this.getEvents().emit(n?C.c.ENHANCED:C.c.DEHANCED,{uri:t}),this.updatePlayContextIfApplicable(t,i);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,i){return n.apply(this,arguments)})},{key:"getContextState",value:(t=(0,o.Z)(l().mark((function e(t){var n,i,r,a,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_.Ht.fromPartial({items:[t],set:_.hO.ENHANCED}),e.next=3,this._collection_platform.get(i);case 3:if(r=e.sent,a=r.items,!(s=(null==a||null===(n=a[0])||void 0===n?void 0:n.uri)===t)){e.next=9;break}return o=null==a||null===(c=a[0])||void 0===c?void 0:c.addTime,e.abrupt("return",{isEnhanced:s,iteration:o});case 9:return e.abrupt("return",{isEnhanced:!1,iteration:void 0});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"subscribeToContextState",value:function(e,t){var n=this;this.getContextState(e).then((function(e){return t(null,e)}));var i=_.Ht.fromPartial({set:_.hO.ENHANCED,items:[e]}),r=this._collection_platform.streamContains(i,function(){var i=(0,o.Z)(l().mark((function i(r){var a,o;return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=r.contains,!(!0===(null==o||null===(a=o.found)||void 0===a?void 0:a[0]))){i.next=10;break}return i.t0=t,i.next=6,n.getContextState(e);case 6:i.t1=i.sent,(0,i.t0)(null,i.t1),i.next=11;break;case 10:t(null,{isEnhanced:!1,iteration:void 0});case 11:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());return r.cancel}}]),r}(E.t);function j(e,t,n,i){return new I(e,t,n,new _.nW(i))}n(405),n(5538),n(63691),n(27535),n(40265),n(46743);var A=n(27706),T="ui.right_panel_content",D=function(){function e(t){(0,S.Z)(this,e),(0,a.Z)(this,"listeners",[]),(0,a.Z)(this,"_lastCachedPanelState",null),this.prefs=t}var t;return(0,x.Z)(e,[{key:"getLastCachedPanelState",value:function(){return this._lastCachedPanelState}},{key:"subscribeToPanelState",value:function(e){var t=this,n=this.prefs.sub({key:T},(function(n){var i,r=null===(i=n.entries[T])||void 0===i?void 0:i.number,a=function(e){switch(e){case A.s.BuddyFeed:return A.s.BuddyFeed;case A.s.NowPlayingView:return A.s.NowPlayingView;case A.s.WhatsNewFeed:return A.s.WhatsNewFeed;case A.s.Puffin:return A.s.Puffin;default:return Spicetify.Panel?.hasPanel?.(e)?e:0;return A.s.Disabled}}(r?parseInt(r,10):A.s.Disabled);t._lastCachedPanelState=a,e(a)}));return this.listeners.push(e),function(){var i=t.listeners.indexOf(e);-1!==i&&t.listeners.splice(i,1),n.cancel()}}},{key:"setPanelState",value:(t=(0,o.Z)(l().mark((function e(){var t,n,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:A.s.Disabled,n={number:t.toString(),bool:void 0,string:void 0},this._lastCachedPanelState=t,this.listeners.forEach((function(e){return e(t)})),e.next=6,this.prefs.set({entries:(0,a.Z)({},T,n)});case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),R=n(87360),F=function(){function e(){(0,S.Z)(this,e)}return(0,x.Z)(e,[{key:"cleanActions",value:function(){}},{key:"triggerActions",value:function(){}},{key:"storeAction",value:function(){}}]),e}(),L=function(){function e(t){(0,S.Z)(this,e),this._cosmos=t}var t,n;return(0,x.Z)(e,[{key:"copy",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.put("sp://desktop/v1/clipboard",t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"paste",value:(t=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://desktop/v1/clipboard");case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.data);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),M=(n(81844),n(23637)),U={artist:_.hO.FOLLOWED_ARTISTS,artistban:_.hO.BANNED_ARTISTS,ban:_.hO.BAN,collection:_.hO.COLLECTION,enhanced:_.hO.ENHANCED,ignoreinrecs:_.hO.IGNOREINRECS,listenlater:_.hO.LISTENLATER,show:_.hO.SHOW,ylpin:_.hO.PINNED_YOUR_LIBRARY},Z=function(){function e(t){(0,S.Z)(this,e),(0,a.Z)(this,"events",new M.yF),this._service=t}var t,n,i;return(0,x.Z)(e,[{key:"getEvents",value:function(){return this.events}},{key:"add",value:(i=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._service.add(_.Ht.fromPartial({set:U[t],items:n}));case 2:this.events.emit(M.zy.ADDED,{set:t,uris:n,source:"client"});case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"remove",value:(n=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._service.remove(_.Ht.fromPartial({set:U[t],items:n}));case 2:this.events.emit(M.zy.REMOVED,{set:t,uris:n,source:"client"});case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"contains",value:(t=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._service.contains(_.Ht.fromPartial({set:U[t],items:n}));case 2:if(!(i=e.sent).contains){e.next=5;break}return e.abrupt("return",i.contains.found);case 5:return e.abrupt("return",new Array(n.length).fill(!1));case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"subscribeContains",value:function(e,t,n){return this._service.streamContains(_.Ht.fromPartial({set:U[e],items:t}),(function(e){var i=e.contains;n(i?i.found:new Array(t.length).fill(!1))})).cancel}}]),e}();function B(e){return new Z(new _.nW(e))}var V=n(68569),H=(n(82088),n(30246),n(43125),n(16366),n(96669),n(69724),n(39965),n(39975),n(92720));n(98853);function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var K=function(e){(0,O.Z)(n,e);var t=z(n);function n(e,i){var r;return(0,S.Z)(this,n),r=t.call(this),(0,a.Z)((0,H.Z)(r),"_numListeners",0),(0,a.Z)((0,H.Z)(r),"_subscriptions",[]),r._cosmos=e,r._endpoints=i,r.onAddListener("message",r.onListenerAdded.bind((0,H.Z)(r))),r.onRemoveListener("message",r.onListenerRemoved.bind((0,H.Z)(r))),r}return(0,x.Z)(n,[{key:"onListenerAdded",value:function(){var e=this;if(++this._numListeners,0===this._subscriptions.length){var t,n=G(this._endpoints);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=this._cosmos.sub(i,(function(t){e.emit("message",t)}),(function(){}));this._subscriptions.push(r)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"onListenerRemoved",value:function(){0==--this._numListeners&&this._subscriptions.length>0&&(this._subscriptions.forEach((function(e){return e.cancel()})),this._subscriptions=[])}}]),n}(n(55413).z);var Y=function(){function e(t){(0,S.Z)(this,e),this._cosmos=t}var t,n,i,r,s,c;return(0,x.Z)(e,[{key:"enableMenuItem",value:(c=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",(0,a.Z)({type:"update_menu_state"},t,!0));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"disableMenuItem",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",(0,a.Z)({type:"update_menu_state"},t,!1));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"setTitlebarHeight",value:(r=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",{type:"update_titlebar",height:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"notifyUsableStateReached",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",{type:"loaded_initial_state",name:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"notifyReadyStateReached",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",{type:"ready"});case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"notifyViewLoaded",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://messages/v1/container/control",{type:"view_loaded",name:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getEvents",value:function(){return function(e){return new K(e,["sp://messages/v1/container/control","sp://desktop/v1/navigation"])}(this._cosmos)}}]),e}(),q=(n(72649),n(96807),n(162),n(89576)),Q=n(64234);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var X=Math.pow(2,31)-1,$=function(e){return Math.round(e/Q.l5*X).toString()},ee=function(e){(0,O.Z)(r,e);var t,n,i=J(r);function r(e,t){var n;return(0,S.Z)(this,r),(n=i.call(this,t)).prefs=e,n}return(0,x.Z)(r,[{key:"subscribeToEnabledState",value:function(e){return this.prefs.sub({key:"audio.equalizer_v2"},(function(t){var n=!!t.entries["audio.equalizer_v2"].bool;e(n)})).cancel}},{key:"setEnabledState",value:function(e){this.prefs.set({entries:(0,a.Z)({},"audio.equalizer_v2",{bool:e})})}},{key:"setFilterGain",value:(n=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.prefs.set({entries:(0,a.Z)({},t,{number:$(n)})});case 2:this.filters[this.filters.findIndex((function(e){return e.key===t}))].gain=n;case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getFilters",value:(t=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.filters.map((function(e){return o.prefs.get({key:e.key})})));case 2:for(t=e.sent,n=0;n<this.filters.length;n++)i=t[n],r=this.filters[n],(a=i.entries[r.key].number)&&(this.filters[n].gain=Number(a)/X*Q.l5);return e.abrupt("return",this.filters);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isSupported",value:function(){return!0}}]),r}(q.t),te=n(76872);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var ie="sp://facebook/v1/connection",re=function(e){(0,O.Z)(n,e);var t=ne(n);function n(e){var i;return(0,S.Z)(this,n),i=t.call(this),(0,a.Z)((0,H.Z)(i),"_numListeners",0),(0,a.Z)((0,H.Z)(i),"_subscription",null),i._cosmos=e,i.onAddListener(te.D.CONNECTION_STATE_CHANGE,(function(){i._numListeners++,null===i._subscription&&(i._subscription=i._cosmos.sub(ie,(function(e){i.emit(te.D.CONNECTION_STATE_CHANGE,e)})))})),i.onRemoveListener(te.D.CONNECTION_STATE_CHANGE,(function(){i._numListeners--,null!==i._subscription&&0===i._numListeners&&(i._subscription.cancel(),i._subscription=null)})),i}return(0,x.Z)(n,[{key:"connect",value:function(e){return this._cosmos.put(ie,e)}},{key:"disconnect",value:function(){return this._cosmos.del(ie)}}]),n}(te.Z),ae=n(29761),oe=n(8554),se=n(29196),le=n(39978),ce=function(e,t){var n=e.event_sender_context_information;return[(0,le.UY)({version_code:n.client_version_int,version_string:n.client_version_string}),(0,le.jx)(t),(0,le.IE)(n.installation_id),(0,le.CF)({device_id:n.device_id,device_manufacturer:n.device_manufacturer,device_model:n.device_model,os_version:n.os_version,platform_type:n.platform_type})]},ue=function(e,t,n,i,r,a){return(0,le.mi)({transport:t,suppressPersist:false,context:ce(e,n),storagePrefix:r,ownerProvider:i,useOptimizedESS2NA:a})},de=n(74620),pe=(0,de.v)();function me(){return fe.apply(this,arguments)}function fe(){return(fe=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.get("sp://remote-config-overrides/v1/values");case 3:return t=e.sent,e.abrupt("return",g.VK.fromJSON(t["desktop-ui"]||{}));case 7:return e.prev=7,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",g.VK.builder().build());case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n(3270),n(14863),n(41337),n(99024),n(81289),n(63481),n(49892),n(31781),n(90511);var ve=n(96268),ge=n(52260);n(74553);function he(){he=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var a=new RegExp(e,i);return t.set(a,r||t.get(e)),(0,ge.Z)(a,n.prototype)}function i(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var a=0;void 0===e[r[a]]&&a+1<r.length;)a++;t[n]=e[r[a]]}return t}),Object.create(null))}return(0,O.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var a=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,ve.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(i(e,o)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},he.apply(this,arguments)}var ke=he(/Spotify\/(.+)\s/,{version:1});var ye=n(30697),be=n(59190),Se={"Master Build":"(master)","Release Build":"(release)","PR Build":"(pull request)","Local Build":"(local development)"},xe=function(){function e(t){(0,S.Z)(this,e),this._cosmos=t}var t,n,i;return(0,x.Z)(e,[{key:"getVersionInfo",value:(i=(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://desktop/v1/version");case 2:return t=e.sent,n=Se[t.build_type]||"Spotify (unknown)",e.abrupt("return",{containerVersion:t.version,containerBuildType:n,containerPlatform:t.platform,uiVersion:"xpui_2023-06-05_1685977752132_a588f74",cefVersion:t.cef});case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"subscribe",value:function(e){return this._cosmos.sub("sp://desktop/v1/upgrade/status",(function(t){void 0!==t.pending?e({state:be.J.UPDATE_AVAILABLE,version:t.pending.version}):void 0!==t.downloading?e({state:be.J.UPDATE_PROCESSING,version:t.downloading.version}):void 0!==t.prepared?e({state:be.J.UPDATE_READY,version:t.prepared.version}):e({state:be.J.UPDATE_NONE,version:null})}))}},{key:"prepareUpdate",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://desktop/v1/upgrade/download");case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"applyUpdate",value:(t=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://desktop/v1/restart");case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Oe=n(37253),we=n(59272),Ne=n(82810),_e=n(83474);function Ee(e){var t,n,i,r;return(0,we.wj)(e.uri)||(0,we.dB)(e.uri)?{type:_e.p.TRACK,uri:e.uri,name:e.metadata.title,duration:{milliseconds:parseInt(e.metadata.duration,10)},isExplicit:"true"===e.metadata.is_explicit,isLocal:"true"===e.metadata.is_local,images:[{url:e.metadata.image_url}],album:{type:_e.p.ALBUM,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:e.metadata.album_title,images:[{url:e.metadata.image_url}]},artists:[{type:_e.p.ARTIST,uri:null!==(n=e.artist_uri)&&void 0!==n?n:"",name:null!==(i=e.metadata.artist_name)&&void 0!==i?i:""}],mediaType:"audio",provider:null,uid:null}:(0,we.hn)(e.uri)?{type:_e.p.EPISODE,uri:e.uri,name:e.metadata.title,duration:{milliseconds:parseInt(e.metadata.duration,10)},images:[{url:e.metadata.image_url}],show:{type:_e.p.SHOW,uri:null!==(r=e.album_uri)&&void 0!==r?r:"",name:e.metadata.album_title,images:[{url:e.metadata.image_url}]},mediaType:"audio",provider:null,uid:null}:null}function Ce(e,t,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,o.Z)(l().mark((function e(t,n,i){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.tracks.filter((function(e){return!!e.uri})).slice(1).map((function(e){return Ee(e)})).filter((function(e){return null!==e})),e.prev=1,e.next=4,(0,Ne.f_)(t,n,r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:return e.abrupt("return",{items:r.map((function(e){var t;return null!==(t=n.get(e.uri))&&void 0!==t?t:e}))});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var Ie=n(10109),je=n(35839);function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var Te=function(e){(0,O.Z)(n,e);var t=Ae(n);function n(e,i,r){var o;return(0,S.Z)(this,n),o=t.call(this),(0,a.Z)((0,H.Z)(o),"_subscriptions",(0,a.Z)({},je.G.UPDATE,null)),o._cosmos=e,o._loader=i,o._cache=r,o}return(0,x.Z)(n,[{key:"startListening",value:function(){var e=this;null===this._subscriptions[je.G.UPDATE]&&(this._subscriptions[je.G.UPDATE]=this._cosmos.sub("sp://play-history/v1",(0,Ie.D)(function(){var t=(0,o.Z)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=je.G.UPDATE,t.next=4,Ce(e._loader,e._cache,n);case 4:t.t2=t.sent,t.t0.emit.call(t.t0,t.t1,t.t2);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())(100,true),(function(){})))}},{key:"stopListening",value:function(){var e=this._subscriptions[je.G.UPDATE];null!==e&&(e.cancel(),this._subscriptions[je.G.UPDATE]=null)}}]),n}(je.k),De=function(){function e(t,n){(0,S.Z)(this,e),(0,a.Z)(this,"_cache",new Oe.tp(36e5,3e5)),this._cosmos=t,this._loader=n,this._events=new Te(this._cosmos,this._loader,this._cache)}var t;return(0,x.Z)(e,[{key:"getContents",value:(t=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://play-history/v1");case 2:return t=e.sent,e.abrupt("return",Ce(this._loader,this._cache,t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"getCapabilities",value:function(){return{isSupported:!0}}}]),e}(),Re=function(){function e(t){(0,S.Z)(this,e),this._scrobble=t}var t;return(0,x.Z)(e,[{key:"subscribeToPrivateSession",value:function(e){var t=this._scrobble.subIncognitoMode(h.SubIncognitoModeRequest.fromPartial({}),(function(t){e(t.incognitoMode)}));return function(){t.cancel()}}},{key:"setPrivateSession",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._scrobble.putIncognitoMode(h.PutIncognitoModeRequest.fromPartial({incognitoMode:t}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getCapabilities",value:function(){return{isSupported:!0}}}]),e}(),Fe=n(13961),Le=n(64446),Me=n(29372),Ue=function(){function e(t,n){(0,S.Z)(this,e),this._productState=t,this._playlistAPI=n}var t;return(0,x.Z)(e,[{key:"getReportURL",value:(t=(0,o.Z)(l().mark((function e(t){var n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._productState.getValues(f.GetValuesRequest.fromPartial({}));case 2:return n=e.sent,i=n.pairs["ugc-abuse-report-url"],r="".concat(i.replace("{uri}",t),"&platform=desktop&version=").concat("1.2.13.661.ga588f749"),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isURIReportable",value:function(e){return(0,Me.g)(e)}},{key:"canReportPlaylist",value:function(e,t){return(0,Me.R)(this._playlistAPI,e,t)}}]),e}(),Ze=n(94881),Be=(n(51735),n(40274),n(91486)),Ve=n(52482),He=n(55590);function Ge(e){return!(null==e||!e.uri)}function We(e){return Ve.SegmentsRequest.fromPartial({episodeUris:[e],segmentsPolicy:{playback:!0},trackDecorationPolicy:{trackPolicy:{name:!0,length:!0,playable:!0},albumPolicy:{name:!0,link:!0,covers:!0},artistsPolicy:{name:!0,link:!0}},episodeDecorationPolicy:{episodePolicy:{isMusicAndTalk:!0},showDecorationPolicy:{name:!0,link:!0}}})}function ze(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,o.Z)(l().mark((function e(t,n){var i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDisplaySegments(We(n));case 2:if((i=e.sent)&&i.success&&i.episodeSegments){e.next=5;break}return e.abrupt("return",[]);case 5:return r=i.episodeSegments.find((function(e){return e.episodeUri===n})),e.abrupt("return",(null==r?void 0:r.segments.map((function(e){switch(e.type){case Be.SegmentType.MUSIC:return Qe(e);case Be.SegmentType.TALK:return Je(e);case Be.SegmentType.UPSELL:case Be.SegmentType.UNKNOWN:case Be.SegmentType.UNRECOGNIZED:return null;default:return(0,He._)(e.type),null}})).filter(Ge))||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){return qe.apply(this,arguments)}function qe(){return(qe=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){var t,n,i,r=null!==(t=e.startMs)&&void 0!==t?t:0;return null!==(n=e.trackMetadata)&&void 0!==n&&n.album&&e.trackMetadata.artist?{type:"MUSIC",uri:e.uri,start:r,stop:e.stopMs,duration:e.stopMs-r,track:{playable:e.trackMetadata.playable,name:e.trackMetadata.name,album:{uri:e.trackMetadata.album.link,name:e.trackMetadata.album.name,image:(null===(i=e.trackMetadata.album.covers)||void 0===i?void 0:i.standardLink)||""},artists:e.trackMetadata.artist.map((function(e){return{uri:e.link,name:e.name}}))}}:null}function Je(e){var t,n,i=null!==(t=e.startMs)&&void 0!==t?t:0;return null!==(n=e.episodeMetadata)&&void 0!==n&&n.show?{type:"TALK",uri:e.uri,start:i,stop:e.stopMs,duration:e.stopMs-i,title:e.title,subtitle:e.subtitle,show:{uri:e.episodeMetadata.show.link,name:e.episodeMetadata.show.name}}:null}var Xe=function(){function e(t){(0,S.Z)(this,e),this._client=new Ze.DisplaySegmentsServiceClient(t)}var t,n;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!0}}},{key:"getSegments",value:(n=(0,o.Z)(l().mark((function e(t,n,i){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(this._client,t);case 2:return r=e.sent,e.abrupt("return",r.splice(n,i));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,i){return n.apply(this,arguments)})},{key:"getArtists",value:(t=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),$e=function(){function e(t){var n=this;(0,S.Z)(this,e),(0,a.Z)(this,"incognito",!1),this.scrobble=t,this.scrobble.subIncognitoMode(h.SubIncognitoModeRequest.fromPartial({}),(function(e){n.incognito=e.incognitoMode}))}return(0,x.Z)(e,[{key:"isIncognito",value:function(){return this.incognito}}]),e}(),et=function(){function e(t){var n=this;(0,S.Z)(this,e),this.productStateClient=t,this.rules="",this.productStateClient.subValues(f.SubValuesRequest.fromPartial({}),(function(e){n.rules=e.pairs["streaming-rules"]}))}return(0,x.Z)(e,[{key:"streamingRules",value:function(){return this.rules}}]),e}(),tt=n(68732),nt=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,S.Z)(this,e),(0,a.Z)(this,"store",[]),(0,a.Z)(this,"pendingPromise",!1),(0,a.Z)(this,"emptyQueueResolver",(function(){})),(0,a.Z)(this,"paused",!1),this.stopOnError=t}var t,n;return(0,x.Z)(e,[{key:"push",value:function(e,t){var n=this;return new Promise((function(i,r){n.store.push({action:e,resolve:i,reject:r,preRunCheck:t}),n.pop()}))}},{key:"unshift",value:function(e,t){var n=this;return new Promise((function(i,r){n.store.unshift({action:e,resolve:i,reject:r,preRunCheck:t}),n.pop()}))}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.paused=!1,e.abrupt("return",this.pop());case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"waitForIdle",value:function(){var e=this;return 0!==this.size()||this.pendingPromise?new Promise((function(t){var n=e.emptyQueueResolver;e.emptyQueueResolver=function(){n(),t()}})):Promise.resolve()}},{key:"size",value:function(){return this.store.length}},{key:"clearPendingQueue",value:function(){var e=this.size();return this.store=[],e}},{key:"pop",value:(t=(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.paused){e.next=2;break}return e.abrupt("return",!1);case 2:if(!this.pendingPromise){e.next=4;break}return e.abrupt("return",!1);case 4:if(t=this.store.shift()){e.next=7;break}return e.abrupt("return",!1);case 7:if(e.prev=7,!(!t.preRunCheck||t.preRunCheck&&t.preRunCheck())){e.next=15;break}return this.pendingPromise=!0,e.next=12,t.action();case 12:n=e.sent,this.pendingPromise=!1,t.resolve(n);case 15:this.pop(),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(7),this.pendingPromise=!1,t.reject(e.t0),this.stopOnError||this.pop();case 23:return 0!==this.size()||this.pendingPromise||this.emptyQueueResolver(),e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e,this,[[7,18]])}))),function(){return t.apply(this,arguments)})}]),e}(),it=n(43716),rt=(n(40542),n(90388)),at=n(71072),ot=n(28725);function st(e){switch(e){case"unknown":return tt.VL.PLAY_REASON_UNKNOWN;case"appload":return tt.VL.PLAY_REASON_APP_LOAD;case"backbtn":return tt.VL.PLAY_REASON_BACK_BTN;case"clickrow":return tt.VL.PLAY_REASON_CLICK_ROW;case"clickside":return tt.VL.PLAY_REASON_CLICK_SIDE;case"endplay":return tt.VL.PLAY_REASON_END_PLAY;case"fwdbtn":return tt.VL.PLAY_REASON_FWD_BTN;case"interupted":return tt.VL.PLAY_REASON_INTERRUPTED;case"logout":return tt.VL.PLAY_REASON_LOGOUT;case"playbtn":return tt.VL.PLAY_REASON_PLAY_BTN;case"popup":return tt.VL.PLAY_REASON_POPUP;case"remote":return tt.VL.PLAY_REASON_REMOTE;case"songdone":return tt.VL.PLAY_REASON_SONG_DONE;case"trackdone":return tt.VL.PLAY_REASON_TRACK_DONE;case"trackerror":return tt.VL.PLAY_REASON_TRACK_ERROR;case"preview":return tt.VL.PLAY_REASON_PREVIEW;case"uriopen":return tt.VL.PLAY_REASON_URI_OPEN;case"backgrounded":return tt.VL.PLAY_REASON_BACKGROUNDED;case"offline":return tt.VL.PLAY_REASON_OFFLINE;case"unexpected-exit":return tt.VL.PLAY_REASON_UNEXPECTED_EXIT;case"unexpected-exit-while-paused":return tt.VL.PLAY_REASON_UNEXPECTED_EXIT_WHILE_PAUSED;default:throw new Error("Could not map reason start to PlayReason: ".concat(e))}}function lt(e){switch(e){case ot.n0.FATAL_ERROR:case ot.n0.NETWORK_ERROR:return tt.VL.PLAY_REASON_TRACK_ERROR;case ot.n0.PLAYED_TO_END:return tt.VL.PLAY_REASON_TRACK_DONE;case ot.n0.REQUESTED:case ot.n0.SHUTDOWN:return tt.VL.PLAY_REASON_END_PLAY;default:return(0,He.U)(e),tt.VL.UNRECOGNIZED}}function ct(e){switch(e){case"none":case"":return tt.lS.STREAMING_RULE_NONE;case"dmca-radio":return tt.lS.STREAMING_RULE_DMCA_RADIO;case"preview":return tt.lS.STREAMING_RULE_PREVIEW;case"wifi":return tt.lS.STREAMING_RULE_WIFI;case"shuffle-mode":return tt.lS.STREAMING_RULE_SHUFFLE_MODE;default:throw new Error("Unrecognized StreamingRule ".concat(e))}}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var dt=function(e){(0,O.Z)(n,e);var t=ut(n);function n(e,i,r){var a;return(0,S.Z)(this,n),(a=t.call(this,e)).reason=e,a.responseStatusCode=i,a.responseReason=r,a}return(0,x.Z)(n)}((0,it.Z)(Error)),pt=function(){function e(t,n,i,r){var s=this;(0,S.Z)(this,e),(0,a.Z)(this,"PERIODIC_STREAM_REPORTING_INTERVAL_IN_SEC",15),(0,a.Z)(this,"SECONDS_TO_MILLISECONDS",1e3),(0,a.Z)(this,"streamHandleTask",function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s.streamHandle&&Promise.reject("A valid stream handle does not exist"),t.streamHandle=s.streamHandle,e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,a.Z)(this,"currentPositionMs",0),(0,a.Z)(this,"playbackSpeed",0),(0,a.Z)(this,"paused",!0),(0,a.Z)(this,"fullscreen",!1),(0,a.Z)(this,"seekInProgress",!1),this.streamReportingService=t,this.requestQueue=n,this.productStateProvider=i,this.eventSender=r}return(0,x.Z)(e,[{key:"addPeriodicObserver",value:function(){var e=this;void 0===this.periodicEventsObserverToken&&void 0!==this.timeObservable&&(this.periodicEventsObserverToken=this.timeObservable.addObserverForPeriodicEvents(this.PERIODIC_STREAM_REPORTING_INTERVAL_IN_SEC,(function(t){e.seekInProgress||(e.currentPositionMs=Math.round(t*e.SECONDS_TO_MILLISECONDS),e.enqueueStreamProgressRequest())})))}},{key:"removePeriodicObserver",value:function(){void 0!==this.periodicEventsObserverToken&&void 0!==this.timeObservable&&(this.timeObservable.removePeriodicObserver(this.periodicEventsObserverToken),this.periodicEventsObserverToken=void 0)}},{key:"sendPlaybackError",value:function(e,t,n){var i,r,a,o,s,l={feature_identifier:null===(i=this.metadata)||void 0===i?void 0:i.endvideo_feature_identifier,media_url:null===(r=this.metadata)||void 0===r?void 0:r.endvideo_play_track,session_id:null===(a=this.playbackIdentity)||void 0===a?void 0:a.sessionId,error_domain:"StreamReportingTracker",error_code:t,error_description:e,error_extra1:n,error_extra2:null===(o=this.metadata)||void 0===o?void 0:o.playback_id,desktop_ui:null===(s=this.metadata)||void 0===s?void 0:s.desktop_ui};this.eventSender.send((0,rt.c)(l))}},{key:"handleStatusResponse",value:function(e,t){if(e.statusCode!==tt.GL.SUCCESS)throw this.streamHandle=void 0,new dt("Error returned from StreamReportingService.".concat(t),e.statusCode,e.reason)}},{key:"handleFailure",value:function(e){this.requestQueue.clearPendingQueue(),e instanceof dt?this.sendPlaybackError(e.reason,e.responseStatusCode,e.responseReason):e instanceof Error?this.sendPlaybackError(e.message):this.sendPlaybackError(e)}},{key:"streamStartedPreRunCheck",value:function(){var e=this;return function(){return!!e.streamHandle}}},{key:"enqueueStreamProgressRequest",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=tt.Mk.fromPartial({currentPosition:this.currentPositionMs.toString(),isPaused:this.paused,isPlayingVideo:!0,isFullscreen:this.fullscreen,playbackSpeed:this.playbackSpeed}),i=function(){return e.streamHandleTask(n).then((function(t){return e.streamReportingService.streamProgress(t)})).then((function(t){return e.handleStatusResponse(t,"StreamProgress")})).catch((function(t){return e.handleFailure(t)}))};t?this.requestQueue.unshift(i,this.streamStartedPreRunCheck()):this.requestQueue.push(i,this.streamStartedPreRunCheck())}},{key:"getHandle",value:function(){return this.streamHandle}},{key:"onPlaybackCreated",value:function(e){var t=e.playbackIdentity,n=e.initialConfiguration,i=e.timeObservable;if(this.playbackSpeed=n.playbackSpeed,this.currentPositionMs=Math.round(n.position*this.SECONDS_TO_MILLISECONDS),this.playbackIdentity=t,this.metadata=t.metadata,!this.metadata)throw new Error("Metadata does not exist on PlaybackIdentity");this.timeObservable=i,this.addPeriodicObserver()}},{key:"onResumed",value:function(e){var t=e.position;this.paused=!1,this.currentPositionMs=Math.round(t*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest()}},{key:"onPaused",value:function(e){var t=e.position;this.paused=!0,this.currentPositionMs=Math.round(t*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest()}},{key:"onReady",value:function(e,t){var n,i,r,a=this,o=e.position,s=e.streamingType;if(this.currentPositionMs=Math.round(o*this.SECONDS_TO_MILLISECONDS),!this.playbackIdentity)throw new Error("PlaybackIdentity not found onReady");if(!this.metadata)throw new Error("Metadata not found onReady");var l=tt.Ce.fromPartial({playbackId:(0,at.Wu)(this.metadata.playback_id),playbackStack:tt.dU.BETAMAX,videoSessionId:this.playbackIdentity.sessionId,playContext:this.metadata.endvideo_play_context,contentUri:this.metadata.endvideo_play_track,provider:this.metadata.endvideo_provider,referrer:this.metadata.endvideo_referrer,streamingRule:ct(this.productStateProvider.streamingRules()),connectControllerDeviceId:this.metadata.endvideo_gaia_dev_id,pageInstanceId:null===(n=this.playbackIdentity.metadata)||void 0===n?void 0:n.page_instance_id,interactionId:null===(i=this.playbackIdentity.metadata)||void 0===i?void 0:i.interaction_id,reasonStart:st(this.metadata.endvideo_reason_start),isShuffle:"true"===this.metadata.endvideo_shuffle,isIncognito:this.productStateProvider.isIncognito(),clientOffline:"true"===this.metadata.endvideo_client_offline,mediaId:null===(r=this.metadata)||void 0===r?void 0:r["media.manifest_id"],mediaType:tt.DD.VIDEO,playbackStartTime:t.toString(),startPosition:Math.round(o*this.SECONDS_TO_MILLISECONDS).toString(),isLive:"live"===s,contentIsDownloaded:"offline"===s});this.requestQueue.push((function(){return a.streamReportingService.streamStart(l).then((function(e){var t,n,i;if((null===(t=e.status)||void 0===t?void 0:t.statusCode)!==tt.GL.SUCCESS)throw new dt("Error returned from StreamReportingService.StreamStart",null===(n=e.status)||void 0===n?void 0:n.statusCode,null===(i=e.status)||void 0===i?void 0:i.reason);a.streamHandle=e.streamHandle})).catch((function(e){return a.handleFailure(e)}))}),(function(){return!a.streamHandle}))}},{key:"onSeeking",value:function(){this.seekInProgress=!0,this.requestQueue.pause()}},{key:"onSeeked",value:function(e){var t=this,n=e.fromPosition,i=e.toPosition;this.currentPositionMs=Math.round(n*this.SECONDS_TO_MILLISECONDS);var r=tt.LI.fromPartial({fromPosition:Math.round(n*this.SECONDS_TO_MILLISECONDS).toString(),toPosition:Math.round(i*this.SECONDS_TO_MILLISECONDS).toString()});this.requestQueue.unshift((function(){return t.streamHandleTask(r).then((function(e){return t.streamReportingService.streamSeek(e)})).then((function(e){return t.handleStatusResponse(e,"StreamSeek")})).catch((function(e){return t.handleFailure(e)}))}),this.streamStartedPreRunCheck()),this.enqueueStreamProgressRequest(!0),this.seekInProgress=!1,this.requestQueue.resume()}},{key:"onPlaybackEnded",value:function(e){var t=this,n=e.reason,i=e.position;this.removePeriodicObserver(),this.currentPositionMs=Math.round(i*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest();var r=tt.OE.fromPartial({reasonEnd:lt(n)});this.requestQueue.push((function(){return t.streamHandleTask(r).then((function(e){return t.streamReportingService.streamEnd(e)})).then((function(e){return t.handleStatusResponse(e,"StreamEnd")})).catch((function(e){return t.handleFailure(e)})).finally((function(){t.streamHandle=void 0;var e=t.requestQueue.clearPendingQueue();if(e>0)throw new Error("Cleared ".concat(e," pending tasks after onPlaybackEnded. Once end is received, no additional updates are expected."))}))}),this.streamStartedPreRunCheck())}},{key:"onFullscreenChanged",value:function(e){var t=e.fullscreen,n=e.position;this.fullscreen=t,this.currentPositionMs=Math.round(n*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest()}},{key:"onPlaybackSpeedChanged",value:function(e){var t=e.position,n=e.speed;this.playbackSpeed=n,this.currentPositionMs=Math.round(t*this.SECONDS_TO_MILLISECONDS),this.enqueueStreamProgressRequest()}}]),e}(),mt=function(e,t,n){return function(i){return i.isRoyaltyMedia?new pt(new tt.Dx(e),new nt,t,n):null}},ft=(n(48096),n(36586)),vt=n(20157),gt=n(34435),ht=n(53547);const kt=JSON.parse('{"type":"record","name":"EndVideo","namespace":"com.spotify.Message","doc":"Information about a video played by the client","fields":[{"name":"message_name","type":"string"},{"name":"message_version","type":"int"},{"name":"sequence_number","type":["null","long"],"doc":"Sequence number of message","default":null},{"name":"sequence_id","type":["null","string"],"doc":"Sequence ID the sequence number belongs to. Combined from cache-id and device-id.","default":null},{"name":"video_session_id","type":["null","string"],"doc":"ID of the video playback session","default":null},{"name":"file_id","type":["null","bytes"],"doc":"ID of the video manifest","default":null},{"name":"playback_id","type":["null","bytes"],"doc":"ID of the unique playback","default":null},{"name":"feature_identifier","type":["null","string"],"doc":"The identifier of the feature that started playback","default":null},{"name":"feature_version","type":["null","string"],"doc":"The version of the feature that started playback","default":null},{"name":"view_uri","type":["null","string"],"doc":"The URI of the view that started playback","default":null},{"name":"reason_start","type":["null","string"],"doc":"Why the video was started","default":null},{"name":"reason_end","type":["null","string"],"doc":"Why the video ended (trackdone, trackerror, etc.)","default":null},{"name":"ms_played","type":["null","long"],"doc":"Total milliseconds played, including overlapping time ranges","default":null},{"name":"ms_nominal_played","type":["null","long"],"doc":"Milliseconds played (amount of time that media would have been outputted, if played in 1x speed, nominal time)","default":null},{"name":"ms_total_est","type":["null","long"],"doc":"Duration of the video in milliseconds (constant if VOD, variable if live)","default":null},{"name":"live","type":["null","boolean"],"doc":"Is the video being streamed live?","default":null},{"name":"ms_manifest_latency","type":["null","long"],"doc":"The time it took to fetch the manifest in milliseconds (may be 0 if cached or prefetched)","default":null},{"name":"n_seekback","type":["null","long"],"doc":"Number of times user seeked backwards","default":null},{"name":"ms_seekback","type":["null","long"],"doc":"The total amount of milliseconds jumped when performing seekbacks throughout playback.","default":null},{"name":"n_seekfwd","type":["null","long"],"doc":"Number of times user seeked forwards","default":null},{"name":"ms_seekfwd","type":["null","long"],"doc":"The total amount of milliseconds jumped when performing seek forwards throughout playback.","default":null},{"name":"ms_latency","type":["null","long"],"doc":"Time from initiating video playback to first frame ready to play in milliseconds","default":null},{"name":"ui_latency","type":["null","long"],"doc":"Time from UI interaction to first frame ready to play in milliseconds (may be -1 if not user-initiated)","default":null},{"name":"start_offset_ms","type":["null","long"],"doc":"The offset at which the video started playing in milliseconds","default":null},{"name":"ms_initial_buffering","type":["null","long"],"doc":"Time between first segment load and first frame ready to play in milliseconds","default":null},{"name":"ms_seek_rebuffering","type":["null","long"],"doc":"Total time spent re-buffering from a seek in milliseconds","default":null},{"name":"ms_stalled","type":["null","long"],"doc":"Total time where playback stalled in milliseconds (excluding initial buffering and seek rebuffering)","default":null},{"name":"max_ms_seek_rebuffering","type":["null","long"],"doc":"Maximum time spent re-buffering from a single seek","default":null},{"name":"max_ms_stalled","type":["null","long"],"doc":"Maximum time stalled from a single stall","default":null},{"name":"n_stalls","type":["null","long"],"doc":"Number of times playback was stopped because of empty buffer (excluding initial buffering and seek rebuffering)","default":null},{"name":"shuffle","type":["null","boolean"],"doc":"If playback was initiated while in shuffle mode","default":null},{"name":"max_continous","type":["null","long"],"doc":"Maximum continuous time range played in milliseconds","default":null},{"name":"union_played","type":["null","long"],"doc":"Union of all played time ranges in milliseconds (cannot exceed duration)","default":null},{"name":"play_context","type":["null","string"],"doc":"The context from which this track was played (spotify URI)","default":null},{"name":"audiocodec","type":["null","string"],"doc":"The primarily played audio codec (in RFC6381 notation)","default":null},{"name":"videocodec","type":["null","string"],"doc":"The primarily played video codec (in RFC6381 notation)","default":null},{"name":"play_track","type":["null","string"],"doc":"Spotify URI for the track (ex. spotify:episode:abc)","default":null},{"name":"incognito_mode","type":["null","boolean"],"doc":"Whether playback was initiated in incognito mode","default":null},{"name":"provider","type":["null","string"],"doc":"The playback rule that provided the video, e.g., \\"mft/inject_random_track\\" or \\"queue\\"","default":null},{"name":"referrer","type":["null","string"],"doc":"Either a remote site or a spotify app which initiated the request","default":null},{"name":"referrer_version","type":["null","string"],"doc":"The version of the referrer, where applicable","default":null},{"name":"referrer_vendor","type":["null","string"],"doc":"The vendor of the referrer, where applicable","default":null},{"name":"streaming_rule","type":["null","string"],"doc":"The streaming rule in effect for this track","default":null},{"name":"gaia_dev_id","type":["null","string"],"doc":"Remote control that started the playback. Same as \\"dev-id\\" in \\"Gaia\\" messages sent by that device. \\"none\\" if non-Gaia playback.","default":null},{"name":"start_bitrate","type":["null","long"],"doc":"Bitrate at which playback started (bits/s)","default":null},{"name":"full_screen","type":["null","long"],"doc":"Milliseconds played while video is in a modal or fullscreen state","default":null},{"name":"time_weighted_bitrate","type":["null","long"],"doc":"Average bitrate weighted by the amount of time video played at each bitrate","default":null},{"name":"prefetched_bytes","type":["null","long"],"doc":"Total number of bytes prefetched for the selected content","default":null},{"name":"prefetched_bytes_loaded","type":["null","long"],"doc":"Total number of prefetched bytes played back","default":null},{"name":"key_system","type":["null","string"],"doc":"The DRM key system","default":null},{"name":"ms_key_latency","type":["null","long"],"doc":"The time it took to fetch and install the DRM key in milliseconds.","default":null},{"name":"total_bytes","type":["null","long"],"doc":"The total segment bytes downloaded","default":null},{"name":"local_time_ms","type":["null","long"],"doc":"The local time at which playback was initiated (Unix timestamp in milliseconds)","default":null},{"name":"connection_type_start","type":["null","string"],"doc":"connection type (i.e. wifi, 3G) at the start of the stream","default":null},{"name":"connection_type_end","type":["null","string"],"doc":"connection type (i.e. wifi, 3G) at the end of the stream","default":null},{"name":"ms_played_background","type":["null","long"],"doc":"Milliseconds played in background (audio-only). Always subset of ms-played.","default":null},{"name":"page_instance_id","type":["null","string"],"doc":"ID of the page where the user triggered this video to play.","default":null},{"name":"interaction_id","type":["null","string"],"doc":"ID of the interaction that triggered this video to play.","default":null},{"name":"core_version","type":"long","doc":"The core version this message was sent from in the form of xxxxyyyyzzzzwwwwwww (major, minor, micro, tiny)","default":0},{"name":"ms_played_video","type":["null","long"],"doc":"Milliseconds played with video rendering enabled, in wall-clock time. Always a subset of ms-played.","default":null}],"schema_version":15}');n(65477),n(89620);var yt,bt=n(80447),St=!1;const xt=function e(t){if(!St){if(yt=n(35529),e.enable=yt.enable.bind(yt),e.disable=yt.disable.bind(yt),"undefined"!=typeof window&&window.frameElement){var i=window.frameElement.getAttribute("data-debug");i&&yt.enable(i)}var r="undefined"!=typeof __spotify&&__spotify.product_state?__spotify.product_state:{},a=r.debugEnable||r.debugenable;a&&yt.enable(a),"undefined"!=typeof __spotify&&__spotify.product_state&&"1"===__spotify.product_state["ta-environment"]&&(yt.useColors=function(){return!1},yt.formatters.o=function(e){try{return JSON.stringify(e)}catch(e){return(0,bt.H)("Unable to stringify object",e),""}}),St=!0}return yt(t)};var Ot=n(55872).lW;function wt(e,t){var n=e.type,i=e.name;if(Array.isArray(n)){var r=t[i];if(null===r)return;t[i]={};var o=n.filter((function(e){return"null"!==e}))[0];"object"===(0,ve.Z)(o)?(t[i]=(0,a.Z)({},o.type,r),wt(o,t[i])):t[i][o]="bytes"===o?new Ot(r):r}else"bytes"===n&&(t[i]=new Ot(t[i]))}const Nt=function(e,t){xt("logger:".concat(e.name));var n=t.message_name,i=t.message_version,r=Object.assign({},t);if(i!==e.schema_version)throw new Error("".concat("Invalid message version: received Message with message_version ").concat(i," but the Schema requires version ").concat(e.schema_version));return{message:n,version:i,fields:e.fields.map((function(e){var t=r[e.name];return void 0===t?e.default:(wt(e,r),t)})).slice(2)}};var _t=(0,de.v)();const Et={schema:kt,create:function(e,t){var n={message_name:e.name,version:e.schema_version};_t.post("",n).then((function(e){e.sequence_number?e.sequence_id?t(null,e.sequence_number,e.sequence_id):t(new Error("pendingLog: sequence_id not present"),null):t(new Error("pendingLog: sequence_number not present"),null)})).catch((function(e){(0,bt.H)("create error",e,n),t(e,null)}))}.bind(null,kt),update:function(e,t,n,i){var r=function(e,t){var n=Nt(e,Object.assign({},{message_name:e.name,message_version:e.schema_version},t));return n.fields=n.fields.map((function(e){return"string"==typeof e?e:null===e?"":JSON.stringify(e)})),n}(e,n);r.sequence_number=t,_t.post("",r).then((function(){i(null)})).catch((function(e){(0,bt.H)("update error",e,r),i(e)}))}.bind(null,kt),send:function(e,t){var n={sequence_number:t,message_name:e.name};_t.post("",n).catch((function(e){(0,bt.H)("send error",e,n)}))}.bind(null,kt)};var Ct=n(87824),Pt="video.subtitles",It=function(){function e(t,n,i,r,o,s,l,c,u){(0,S.Z)(this,e),(0,a.Z)(this,"_hasSubtitleSupport",!1),(0,a.Z)(this,"_hasMinimizeBitrateSupport",!1),(0,a.Z)(this,"_hasPipSupport",!1),(0,a.Z)(this,"_events",new ht.C),(0,a.Z)(this,"_subtitleLanguages",[]),(0,a.Z)(this,"_pictureInPictureState",!1),(0,a.Z)(this,"_videoCoordinator",null),(0,a.Z)(this,"_offlineCoordinator",null),this._cosmos=t,this._showService=n,this._productStateService=i,this._scrobbleService=r,this._playbackService=o,this._prefsClient=s,this._resolver=l,this._eventSender=c,this._factories=u,this.initialize()}var t,n,s,c,u,d,p,m,v;return(0,x.Z)(e,[{key:"initialize",value:(v=(0,o.Z)(l().mark((function e(){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ft.OK.installAll(),this._hasSubtitleSupport=this._resolver.getValue(Ct.CJ),this._hasMinimizeBitrateSupport=this._resolver.getValue(Ct.Qp),this._hasPipSupport=this._resolver.getValue(Ct.ho),e.next=6,this.createPlayerConfiguration();case 6:return t=e.sent,e.next=9,Promise.all([this.createVideoCoordinator(t),this.createOfflineCoordinator(t)]);case 9:n=e.sent,i=(0,r.Z)(n,2),this._videoCoordinator=i[0],this._offlineCoordinator=i[1];case 13:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"createPlayerConfiguration",value:(m=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o,s,c,u,d,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._resolver.getValue(Ct.bw),n=this._resolver.getValue(Ct.CJ),i=this._resolver.getValue(Ct.sb),r=this._resolver.getValue(Ct.Pz),a=this._resolver.getValue(Ct.qt),o=this._resolver.getValue(Ct.RC),s=this._resolver.getValue(Ct.Br),c=this._resolver.getValue(Ct.bS),u=this._resolver.getValue(Ct.Gx),d=this._resolver.getValue(Ct.r4),p=this._resolver.getValue(Ct.c9),e.abrupt("return",{containerElementClass:"VideoPlayer__container",streaming:{rebufferingGoal:a,autoplayVideoOnLoad:u},adaptiveBitrate:{initialLowBitrate:!0,surfaceBasedResolutionCap:!0,maxBitrate:0===d?void 0:d},drm:{vmpEnabled:s},subtitles:{enabled:n},offline:{enabled:t,targetBitrate:i},retry:{attempts:o},minimizeBitrate:{bufferMargin:c},experimental:{filterNegativeDuration:p},analytics:{mux:{enabled:r,token:"2qbjhhcl4u87btjbo7dh8vi2n",appName:"Desktop-X",playerName:"betamax-player-desktop-x"}}});case 12:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getAccessToken",value:(p=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._cosmos.get("sp://auth/v2/token"));case 1:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getProductState",value:(d=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._productStateService.getValues(f.GetValuesRequest.fromPartial({})).then((function(e){var t,n=(t={},(0,a.Z)(t,"video-manifest-url",""),(0,a.Z)(t,"streaming-rules",""),(0,a.Z)(t,"widevine-license-url",""),t);return e.pairs["video-manifest-url"]&&(n["video-manifest-url"]=e.pairs["video-manifest-url"]),e.pairs["streaming-rules"]&&(n["streaming-rules"]=e.pairs["streaming-rules"]),e.pairs["widevine-license-url"]&&(n["widevine-license-url"]=e.pairs["widevine-license-url"]),n})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"createVideoCoordinator",value:(u=(0,o.Z)(l().mark((function e(t){var n,r,a,o,s,c,u,d,p,m,f,v,g,h,k,y=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._resolver.getValue(Ct.DX),r={videoOnVideoSaiEnabled:n},a=this._resolver.getValue(Ct.lQ),o=this.getAccessToken.bind(this),s=this._productStateService,c=this._scrobbleService,u=this._playbackService,d={factories:[function(){return y}].concat((0,i.Z)(this._factories))},p=this._resolver.getValue(Ct.b5),m=this._resolver.getValue(Ct.HX),f=this._resolver.getValue(Ct.sz),v=function(){return Promise.resolve(y._eventSender)},e.next=14,this.getProductState();case 14:return g=e.sent,h={ads:r,playerConfiguration:t,boomboxAudioSync:p,cosmos:this._cosmos,eventSenderProvider:v,endVideoLogger:Et,getToken:o,playerDependencies:d,productState:g,productStateService:s,widevineVersionSupported:a,scrobbleService:c,playbackService:u,playerPool:{enabled:m,size:f}},k=new vt.K(h),e.next=19,k.initialize();case 19:return e.abrupt("return",k);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"createOfflineCoordinator",value:(c=(0,o.Z)(l().mark((function e(t){var n,i,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this._cosmos,e.next=3,this.getProductState();case 3:return e.t1=e.sent,e.t2=t,e.t3={getAuthorizationHeader:function(){var e=(0,o.Z)(l().mark((function e(){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getAccessToken();case 2:return t=e.sent,n=t.accessToken,i=t.tokenType,e.abrupt("return","".concat(i," ").concat(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},e.t4=this._showService,n={cosmos:e.t0,productState:e.t1,playerConfiguration:e.t2,networkConfiguration:e.t3,show_service:e.t4},(i=new gt.l(n)).initialize(),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"onManifestLoaded",value:function(e){var t=e.availableSubtitles.map((function(e){return e.languageTag}));this.setSubtitleLanguages(t)}},{key:"onPictureInPictureChanged",value:function(e){var t=e.pictureInPicture;this._pictureInPictureState=t,this._events.emit(ht.d.PICTURE_IN_PICTURE_CHANGED,t)}},{key:"getPictureInPictureState",value:function(){return this._pictureInPictureState}},{key:"setSubtitleLanguages",value:function(e){this._subtitleLanguages=e,this._events.emit(ht.d.SUBTITLE_LANGUAGES_CHANGED,e)}},{key:"getCapabilities",value:function(){return{hasSubtitleSupport:this._hasSubtitleSupport,hasMinimizeBitrateSupport:this._hasMinimizeBitrateSupport,hasPipSupport:this._hasPipSupport}}},{key:"getEvents",value:function(){return this._events}},{key:"getSubtitleLanguages",value:(s=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._subtitleLanguages);case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getPreferredSubtitleLanguage",value:(n=(0,o.Z)(l().mark((function e(){var t,n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._prefsClient.get({key:Pt});case 3:return n=e.sent,i=n.entries,r=null===(t=i[Pt])||void 0===t?void 0:t.string,e.abrupt("return",r&&r.length>0?r:null);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return n.apply(this,arguments)})},{key:"setPreferredSubtitleLanguage",value:(t=(0,o.Z)(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._prefsClient.set({entries:(i={},(0,a.Z)(i,Pt,{string:null!=t?t:""}),(0,a.Z)(i,"video.subtitles_cc",{bool:null!==(n=null==t?void 0:t.endsWith("-cc"))&&void 0!==n&&n}),i)});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"reportVideoMode",value:function(e){var t;null===(t=this._videoCoordinator)||void 0===t||t.reportVideoMode(e)}},{key:"setMinimizeBitrate",value:function(e){var t;null===(t=this._videoCoordinator)||void 0===t||t.setMinimizeBitrate(e)}},{key:"setFullscreen",value:function(e){var t;null===(t=this._videoCoordinator)||void 0===t||t.setFullscreen(e)}},{key:"setPip",value:function(e){var t,n;return null!==(t=null===(n=this._videoCoordinator)||void 0===n?void 0:n.setPip(e))&&void 0!==t?t:Promise.resolve(null)}},{key:"setWindow",value:function(e){var t;null===(t=this._videoCoordinator)||void 0===t||t.setWindow(e)}}]),e}(),jt=n(10785),At=n(60808),Tt=n(12088),Dt=n(82337),Rt=(n(37193),n(94562),n(65937)),Ft=n(19105),Lt=n(97209),Mt="isTokenUnavailable",Ut={baseTime:200,ceiling:9e5,curve:"exponential",jitter:!0},Zt=function(){function e(t,n){(0,S.Z)(this,e),(0,a.Z)(this,"name","desktop-lifecycle-plugin"),(0,a.Z)(this,"_authCounter",new Ft.A(Ut)),(0,a.Z)(this,"_authAttempts",0),(0,a.Z)(this,"_authTimeoutId",null),this._transport=t,this._onAuthenticationFailed=n,this.onConnected=this.onConnected.bind(this),this.onDisconnected=this.onDisconnected.bind(this),this.onAuthenticated=this.onAuthenticated.bind(this),this.onAuthenticationFailed=this.onAuthenticationFailed.bind(this),this.onBeforeProcessRequest=this.onBeforeProcessRequest.bind(this),this.onBeforeSendRequest=this.onBeforeSendRequest.bind(this)}return(0,x.Z)(e,[{key:"tryAuthenticate",value:function(){this._transport.isAuthenticated()||(null!==this._authTimeoutId&&(window.clearTimeout(this._authTimeoutId),this._authTimeoutId=null),this._transport.authenticate())}},{key:"onConnected",value:function(){this._transport.isAuthenticated()||this._transport.authenticate()}},{key:"onDisconnected",value:function(){this._transport.connect()}},{key:"onAuthenticated",value:function(){this._authAttempts=0}},{key:"onAuthenticationFailed",value:function(){var e=this;this._authAttempts++;var t=this._authCounter.getTime(this._authAttempts),n=new Date(Date.now()+t);this._onAuthenticationFailed(this._authAttempts,n),console.log("Transport authentication failed, retrying in %.2d seconds...",t/1e3),this._authTimeoutId=window.setTimeout((function(){e._authTimeoutId=null,e._transport.authenticate()}),t)}},{key:"onBeforeProcessRequest",value:function(e){var t,n,i,r=e.data;(null===(t=r.options)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.noRequestTransform)||(this._transport.isAuthenticated()||this._authAttempts>0&&(null!==(i=r.options)&&void 0!==i&&i.authorize&&(r.context[Mt]=!0),r.options=(0,Lt.F)(r.options,{authorize:!1})))}},{key:"onBeforeSendRequest",value:function(e){if(e.data.context[Mt])throw new Error("Token is currently unavailable.")}},{key:"attach",value:function(e,t){e.addListener(Rt.TransportEvent.CONNECTED,this.onConnected),e.addListener(Rt.TransportEvent.DISCONNECTED,this.onDisconnected),e.addListener(Rt.TransportEvent.AUTHENTICATED,this.onAuthenticated),e.addListener(Rt.TransportEvent.AUTHENTICATION_FAILED,this.onAuthenticationFailed),t.addListener(Rt.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest),t.addListener(Rt.PluginEvent.TRANSPORT_BEFORE_SEND_REQUEST,this.onBeforeSendRequest)}},{key:"detach",value:function(e,t){e.removeListener(Rt.TransportEvent.CONNECTED,this.onConnected),e.removeListener(Rt.TransportEvent.DISCONNECTED,this.onDisconnected),e.removeListener(Rt.TransportEvent.AUTHENTICATED,this.onAuthenticated),e.removeListener(Rt.TransportEvent.AUTHENTICATION_FAILED,this.onAuthenticationFailed),t.removeListener(Rt.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest),t.removeListener(Rt.PluginEvent.TRANSPORT_BEFORE_SEND_REQUEST,this.onBeforeSendRequest)}}]),e}();function Bt(e){return Object.prototype.hasOwnProperty.call(e,"error")}var Vt=n(14816),Ht=n(90294),Gt=function(){function e(t){(0,S.Z)(this,e),(0,a.Z)(this,"_events",new Vt.a),(0,a.Z)(this,"_state",Ht.p),(0,a.Z)(this,"_plugin",null),this._cosmos=t,this._tokenProvider=function(e,t){return(0,Dt.k)((0,o.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("sp://auth/v2/token");case 3:if(!Bt(n=t.sent)){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",{accessToken:n.accessToken,accessTokenExpirationTimestampMs:n.expiresAtTime,isAnonymous:!1});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),t)}(t,this.onTokenChanged.bind(this))}var t;return(0,x.Z)(e,[{key:"createTransportPlugin",value:function(e){return this._plugin=new Zt(e,this.onAuthenticationFailed.bind(this)),this._plugin}},{key:"onTokenChanged",value:function(e){this._state={isAuthorized:null!==e&&!(0,Dt.p)(e),token:e,retryAttempt:null,retryAt:null},this._events.emit(Vt.B.UPDATE,this._state)}},{key:"onAuthenticationFailed",value:function(e,t){this._state={isAuthorized:!1,token:null,retryAttempt:e,retryAt:t},this._events.emit(Vt.B.UPDATE,this._state)}},{key:"getCapabilities",value:function(){return{canGetSessionTransferURL:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getState",value:function(){return this._state}},{key:"getTokenProvider",value:function(){return this._tokenProvider}},{key:"tryAuthorize",value:function(){null!==this._plugin&&this._plugin.tryAuthenticate()}},{key:"getSessionTransferURL",value:(t=(0,o.Z)(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("".concat("sp://auth/v1/session_transfer_token","?url=").concat(encodeURIComponent(t)));case 2:return n=e.sent,i=n.accessToken,e.abrupt("return","".concat("https://accounts.spotify.com/login/ott/v2","#token=").concat(encodeURIComponent(i)));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Wt=n(6381),zt=n(68990);function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Jt(e){switch(e){case"computer":return zt.Yi.COMPUTER;case"tablet":return zt.Yi.TABLET;case"smartphone":return zt.Yi.SMARTPHONE;case"speaker":return zt.Yi.SPEAKER;case"tv":return zt.Yi.TV;case"avr":return zt.Yi.AVR;case"stb":return zt.Yi.STB;case"audio_dongle":return zt.Yi.AUDIO_DONGLE;case"game_console":return zt.Yi.GAME_CONSOLE;case"cast_video":return zt.Yi.CAST_VIDEO;case"cast_audio":return zt.Yi.CAST_AUDIO;case"automobile":return zt.Yi.AUTOMOBILE;case"smartwatch":return zt.Yi.SMARTWATCH;case"chromebook":return zt.Yi.CHROMEBOOK;case"carthing":return zt.Yi.CarThing;case"homething":return zt.Yi.HomeThing;default:return zt.Yi.UNKNOWN}}function Xt(e){switch(e){case"connecting":return zt.uP.CONNECTING;case"incompatible":return zt.uP.INCOMPATIBLE;case"unavailable":return zt.uP.UNAVAILABLE;case"logged_in":return zt.uP.LOGGED_IN;case"not_logged_in":return zt.uP.NOT_LOGGED_IN;case"sleeping":return zt.uP.SLEEPING;case"premium_required":return zt.uP.PREMIUM_REQUIRED;case"not_installed":return zt.uP.NOT_INSTALLED;case"unsupported_uri":return zt.uP.UNSUPPORTED_URI;case"not_authorized":return zt.uP.NOT_AUTHORIZED;case"ad_playing":return zt.uP.AD_PLAYING;case"narration":return zt.uP.NARRATION;case"waking_up":return zt.uP.WAKING_UP;case"timed_out_wakeup":return zt.uP.TIMED_OUT_WAKEUP;default:return zt.uP.UNKNOWN}}var $t=65535;function en(e){switch(e){case d.Bz.CAST:return"cast";case d.Bz.CONNECT:return"connect";default:return"unrecognized"}}function tn(e){var t,n,i=[],r=qt(e);try{for(r.s();!(n=r.n()).done;){var a=n.value,o=en(a.loginType);(0,zt.ms)(o)&&(i.push(o),a.preferred&&(t=o))}}catch(e){r.e(e)}finally{r.f()}return{preferred:t,available:i}}function nn(e){var t,n,i,r,a=e.localIdentifier,o=e.connectStateIdentifier,s=e.name,l=e.type,c=e.isGroup,u=e.isSelf,d=e.isActive,p=e.isBeingActivated,m=e.isDisabled,f=e.volume,v=e.hifi,g=e.brandDisplayName,h=e.modelDisplayName,k=e.license,y=e.state,b=e.isLocal,S=e.isZeroconf,x=e.isWebapp,O=e.supportsLogout,w=e.incarnations;return{id:a,connectStateId:o,name:null!=s?s:"",type:Jt(l),isGroup:c,isLocal:u,isActive:d,isConnecting:p,isDisabled:m,volume:f/$t,hifiSupport:{fullySupported:!(null==v||!v.fullySupported),deviceSupported:!(null==v||!v.deviceSupported),userEligible:!(null==v||!v.userEligible)},brandDisplayName:g,modelDisplayName:h,license:k,currentState:Xt(y),isLocalNetwork:b,isZeroconf:S,isWebApp:x,supportsLogout:(t=u,n=O,i=g,r=h,!t&&("spotify"!==i||"web_player"!==r&&"mobile_web_player"!==r)&&n),incarnation:w?tn(w):void 0}}function rn(e,t){return t?zt.TK.CONNECTING:e&&!e.isLocal?zt.TK.CONNECTED:zt.TK.NOT_CONNECTED}function an(e){return{success:e.status===d.qb.OK}}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var sn=function(e){(0,O.Z)(n,e);var t=on(n);function n(e){var i;return(0,S.Z)(this,n),(i=t.call(this)).connectServiceClient=e,i.connectServiceClient.state(d.DP.fromPartial({includeLocalDevice:!0,showOfflineDevicesInCore:!0,showOfflineAmazonDevicesAsOnline:!0}),(function(e){var t=e.devices;t&&t.length>0&&i.emit(Wt.F.UPDATE,function(e){var t,n,i=(n=e?e.map(nn):[]).find((function(e){return e.isActive}));if(!i){var r=n.findIndex((function(e){return e.isLocal}));-1!==r&&(i=Yt(Yt({},n[r]),{},{isActive:!0}),n[r]=i)}var a=n.find((function(e){return e.isConnecting&&!e.isActive}));return{connectionStatus:rn(i,a),activeDevice:null!==(t=i)&&void 0!==t?t:null,connectingDevice:null!=a?a:null,devices:n}}(t))})),i}return(0,x.Z)(n)}(Wt.M),ln=function(){function e(t){var n=this;(0,S.Z)(this,e),(0,a.Z)(this,"state",null),(0,a.Z)(this,"checkDeviceId",(function(e){if(0===e.length)throw new Error("missing device id")})),(0,a.Z)(this,"mapIncarnationToLoginType",(function(e){return"cast"===e?d.Bz.CAST:"connect"===e?d.Bz.CONNECT:d.Bz.UNRECOGNIZED})),this.connectServiceClient=t,this.events=new sn(this.connectServiceClient),this.events.addListener(Wt.F.UPDATE,(function(e){var t=e.data;n.state=t})),this.initiateLocalDiscovery()}var t,n,i,r,s,c,u;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{supportsLocalDiscovery:!0}}},{key:"getState",value:function(){return this.state}},{key:"getEvents",value:function(){return this.events}},{key:"initiateLocalDiscovery",value:(u=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectServiceClient.startDiscovery(d.bU.fromPartial({}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"discoverDevices",value:(c=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectServiceClient.forceDiscover(d.Qb.fromPartial({}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"createLoggingParams",value:function(e){return d.yb.fromPartial({interactionIds:[e.interactionId],pageInstanceIds:e.pageInstanceId?[e.pageInstanceId]:void 0})}},{key:"pullToLocal",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectServiceClient.pull(d.i7.fromPartial({loggingParams:this.createLoggingParams(t)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"transferToRemote",value:(r=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connectServiceClient.transfer(d.IC.fromPartial({connectDeviceIdentifier:t,loggingParams:this.createLoggingParams(n)}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"transferPlayback",value:(i=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"local_device"===t?this.pullToLocal(n):this.transferToRemote(t,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"logout",value:(n=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkDeviceId(t),e.next=3,this.connectServiceClient.logout(d.iu.fromPartial({connectDeviceIdentifier:t}));case 3:return n=e.sent,e.abrupt("return",an(n));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setPreferredIncarnation",value:(t=(0,o.Z)(l().mark((function e(t,n){var i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkDeviceId(t),i=this.mapIncarnationToLoginType(n),e.next=4,this.connectServiceClient.setPreferredZeroconf(d.vx.fromPartial({deviceId:t.replace("cluster_",""),preferredLoginType:i}));case 4:return r=e.sent,e.abrupt("return",an(r));case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),cn="sp://internal/v1/latest_messages";function un(){return un=(0,o.Z)(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(cn);case 2:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==n;case 6:if(!e.t0){e.next=10;break}e.t2=n,e.next=11;break;case 10:e.t2=[];case 11:return i=e.t2,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)}))),un.apply(this,arguments)}function dn(e){n.g.window.getCosmosMessages||(n.g.window.getCosmosMessages=function(){return function(e){return un.apply(this,arguments)}(e)})}var pn=n(68894),mn=n(26352),fn=n(10130),vn=(n(42617),n(92346),n(65394),n(78819),n(23213)),gn=(n(31594),n(18918)),hn=n(42490),kn=n(48734),yn=n(1860),bn=n(40413);function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var xn=function(e){(0,O.Z)(i,e);var t,n=Sn(i);function i(e,t,r,o){var s,l;return(0,S.Z)(this,i),l=n.call(this,o),(0,a.Z)((0,H.Z)(l),"_cancellables",(s={},(0,a.Z)(s,vn.XD.ALBUMS,null),(0,a.Z)(s,vn.XD.ARTISTS,null),(0,a.Z)(s,vn.XD.SHOWS,null),(0,a.Z)(s,vn.XD.TRACKS,null),(0,a.Z)(s,vn.XD.EPISODES,null),(0,a.Z)(s,vn.XD.BOOKS,null),s)),(0,a.Z)((0,H.Z)(l),"_containsCancellable",null),l._your_library=e,l._collection=t,l._listen_later=r,l}return(0,x.Z)(i,[{key:"subscribeToUpdates",value:function(){for(var e=this,t=function(){var t,r=i[n];if(r===vn.XD.EPISODES)e._cancellables[r]=e._listen_later.streamEpisodes(hn.ListenLaterGetEpisodesRequest.fromPartial({updateThrottling:100}),(function(n){t!==n.unfilteredLength&&(e.emit(vn.EW.UPDATE,{list:r}),t=n.unfilteredLength)}));else if(r===vn.XD.TRACKS){var a;e._cancellables[r]=e._collection.streamTrackListMetadata(kn.v0.fromPartial({updateThrottling:100}),(function(t){var n,i;a!==(null===(n=t.metadata)||void 0===n?void 0:n.unfilteredLength)&&(e.emit(vn.EW.UPDATE,{list:r}),a=null===(i=t.metadata)||void 0===i?void 0:i.unfilteredLength)}))}else{var o=function(e){switch(e){case vn.XD.ALBUMS:return bn.YourLibraryFilters_Filter.ALBUM;case vn.XD.ARTISTS:return bn.YourLibraryFilters_Filter.ARTIST;case vn.XD.SHOWS:return bn.YourLibraryFilters_Filter.SHOW;case vn.XD.BOOKS:return bn.YourLibraryFilters_Filter.BOOK;default:throw Error("Invalid library filter!")}}(r);e._cancellables[r]=e._your_library.streamAll(yn.N6.fromPartial({updateThrottling:100,header:{allPlaylists:!1,totalCount:!0,filters:{filter:[o]}}}),(function(){e.emit(vn.EW.UPDATE,{list:r})}))}},n=0,i=Object.values(vn.XD);n<i.length;n++)t()}},{key:"unsubscribeFromUpdates",value:function(){for(var e=0,t=Object.values(vn.XD);e<t.length;e++){var n=t[e],i=this._cancellables[n];null!==i&&(i.cancel(),this._cancellables[n]=null)}}},{key:"onBatchChanged",value:(t=(0,o.Z)(l().mark((function e(t){var n,i=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._containsCancellable&&this._containsCancellable.cancel(),0!==t.size){e.next=3;break}return e.abrupt("return");case 3:n=Array.from(t.keys()),this._containsCancellable=this._collection.streamContains(kn._X.fromPartial({uri:n}),(function(e){return i.emitUpdateItems(n,e.found)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(gn.w),On=(n(80108),n(82),n(4302),n(66469),n(79262)),wn=n(29903),Nn=n(3959),_n=n(33892),En=n.n(_n),Cn=function(e){return e[e.UNKNOWN_EXTENSION=0]="UNKNOWN_EXTENSION",e[e.CANVAZ=1]="CANVAZ",e[e.STORYLINES=2]="STORYLINES",e[e.PODCAST_TOPICS=3]="PODCAST_TOPICS",e[e.PODCAST_SEGMENTS=4]="PODCAST_SEGMENTS",e[e.AUDIO_FILES=5]="AUDIO_FILES",e[e.TRACK_DESCRIPTOR=6]="TRACK_DESCRIPTOR",e[e.PODCAST_COUNTER=7]="PODCAST_COUNTER",e[e.ARTIST_V4=8]="ARTIST_V4",e[e.ALBUM_V4=9]="ALBUM_V4",e[e.TRACK_V4=10]="TRACK_V4",e[e.SHOW_V4=11]="SHOW_V4",e[e.EPISODE_V4=12]="EPISODE_V4",e[e.PODCAST_HTML_DESCRIPTION=13]="PODCAST_HTML_DESCRIPTION",e[e.PODCAST_QUOTES=14]="PODCAST_QUOTES",e[e.USER_PROFILE=15]="USER_PROFILE",e[e.CANVAS_V1=16]="CANVAS_V1",e[e.SHOW_V4_BASE=17]="SHOW_V4_BASE",e[e.SHOW_V4_EPISODES_ASSOC=18]="SHOW_V4_EPISODES_ASSOC",e[e.TRACK_DESCRIPTOR_SIGNATURES=19]="TRACK_DESCRIPTOR_SIGNATURES",e[e.PODCAST_AD_SEGMENTS=20]="PODCAST_AD_SEGMENTS",e[e.EPISODE_TRANSCRIPTS=21]="EPISODE_TRANSCRIPTS",e[e.PODCAST_SUBSCRIPTIONS=22]="PODCAST_SUBSCRIPTIONS",e[e.EXTRACTED_COLOR=23]="EXTRACTED_COLOR",e[e.PODCAST_VIRALITY=24]="PODCAST_VIRALITY",e[e.IMAGE_SPARKLES_HACK=25]="IMAGE_SPARKLES_HACK",e[e.PODCAST_POPULARITY_HACK=26]="PODCAST_POPULARITY_HACK",e[e.AUTOMIX_MODE=27]="AUTOMIX_MODE",e[e.CUEPOINTS=28]="CUEPOINTS",e[e.PODCAST_POLL=29]="PODCAST_POLL",e[e.EPISODE_ACCESS=30]="EPISODE_ACCESS",e[e.SHOW_ACCESS=31]="SHOW_ACCESS",e[e.PODCAST_QNA=32]="PODCAST_QNA",e[e.CLIPS=33]="CLIPS",e[e.SHOW_V5=34]="SHOW_V5",e[e.EPISODE_V5=35]="EPISODE_V5",e[e.PODCAST_CTA_CARDS=36]="PODCAST_CTA_CARDS",e[e.PODCAST_RATING=37]="PODCAST_RATING",e[e.DISPLAY_SEGMENTS=38]="DISPLAY_SEGMENTS",e[e.GREENROOM=39]="GREENROOM",e[e.USER_CREATED=40]="USER_CREATED",e[e.SHOW_DESCRIPTION=41]="SHOW_DESCRIPTION",e[e.SHOW_HTML_DESCRIPTION=42]="SHOW_HTML_DESCRIPTION",e[e.SHOW_PLAYABILITY=43]="SHOW_PLAYABILITY",e[e.EPISODE_DESCRIPTION=44]="EPISODE_DESCRIPTION",e[e.EPISODE_HTML_DESCRIPTION=45]="EPISODE_HTML_DESCRIPTION",e[e.EPISODE_PLAYABILITY=46]="EPISODE_PLAYABILITY",e[e.SHOW_EPISODES_ASSOC=47]="SHOW_EPISODES_ASSOC",e[e.CLIENT_CONFIG=48]="CLIENT_CONFIG",e[e.PLAYLISTABILITY=49]="PLAYLISTABILITY",e[e.AUDIOBOOK_V5=50]="AUDIOBOOK_V5",e[e.CHAPTER_V5=51]="CHAPTER_V5",e[e.AUDIOBOOK_SPECIFICS=52]="AUDIOBOOK_SPECIFICS",e[e.EPISODE_RANKING=53]="EPISODE_RANKING",e[e.HTML_DESCRIPTION=54]="HTML_DESCRIPTION",e[e.CREATOR_CHANNEL=55]="CREATOR_CHANNEL",e[e.AUDIOBOOK_PROVIDERS=56]="AUDIOBOOK_PROVIDERS",e[e.PLAY_TRAIT=57]="PLAY_TRAIT",e[e.CONTENT_INFORMATION=58]="CONTENT_INFORMATION",e[e.AUDIOBOOK_PRICE=64]="AUDIOBOOK_PRICE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}En().util.Long!==Nn.Z&&(En().util.Long=Nn.Z,En().configure());var jn={isPaywalled:!1,isUserSubscribed:!1,userExplanation:0},An={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return!0===e.isPaywalled&&t.uint32(8).bool(e.isPaywalled),!0===e.isUserSubscribed&&t.uint32(16).bool(e.isUserSubscribed),0!==e.userExplanation&&t.uint32(24).int32(e.userExplanation),t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r=In({},jn);n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.isPaywalled=n.bool();break;case 2:r.isUserSubscribed=n.bool();break;case 3:r.userExplanation=n.int32();break;default:n.skipType(7&a)}}return r},fromPartial:function(e){var t=In({},jn);return void 0!==e.isPaywalled&&null!==e.isPaywalled?t.isPaywalled=e.isPaywalled:t.isPaywalled=!1,void 0!==e.isUserSubscribed&&null!==e.isUserSubscribed?t.isUserSubscribed=e.isUserSubscribed:t.isUserSubscribed=!1,void 0!==e.userExplanation&&null!==e.userExplanation?t.userExplanation=e.userExplanation:t.userExplanation=0,t}};En().util.Long!==Nn.Z&&(En().util.Long=Nn.Z,En().configure());var Tn=n(18459);n(21843);var Dn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return"0"!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t},Rn=function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r={seconds:"0",nanos:0};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.seconds=n.int64().toString();break;case 2:r.nanos=n.int32();break;default:n.skipType(7&a)}}return r},Fn=function(e){return{seconds:Ln(e.seconds)?String(e.seconds):"0",nanos:Ln(e.nanos)?Number(e.nanos):0}};function Ln(e){return null!=e}function Mn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Un(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}En().util.Long!==Nn.Z&&(En().util.Long=Nn.Z,En().configure());var Zn={encode:function(e){var t,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.Writer.create();return""!==e.uri&&r.uint32(10).string(e.uri),void 0!==e.credits&&Bn.encode(e.credits,r.uint32(18).fork()).ldelim(),""!==e.edition&&r.uint32(26).string(e.edition),"0"!==e.duration_ms&&r.uint32(32).int64(e.duration_ms),void 0!==e.publish_date&&Dn((t=e.publish_date,n=Math.trunc(t.getTime()/1e3).toString(),i=t.getTime()%1e3*1e6,{seconds:n,nanos:i}),r.uint32(42).fork()).ldelim(),r},decode:function(e,t){for(var n=e instanceof _n.Reader?e:new _n.Reader(e),i=void 0===t?n.len:n.pos+t,r={uri:"",credits:void 0,edition:"",duration_ms:"0",publish_date:void 0};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.uri=n.string();break;case 2:r.credits=Bn.decode(n,n.uint32());break;case 3:r.edition=n.string();break;case 4:r.duration_ms=n.int64().toString();break;case 5:r.publish_date=Wn(Rn(n,n.uint32()));break;default:n.skipType(7&a)}}return r},fromPartial:function(e){var t,n,i,r,a={uri:"",credits:void 0,edition:"",duration_ms:"0",publish_date:void 0};return a.uri=null!==(t=e.uri)&&void 0!==t?t:"",a.credits=void 0!==e.credits&&null!==e.credits?Bn.fromPartial(e.credits):void 0,a.edition=null!==(n=e.edition)&&void 0!==n?n:"",a.duration_ms=null!==(i=e.duration_ms)&&void 0!==i?i:"0",a.publish_date=null!==(r=e.publish_date)&&void 0!==r?r:void 0,a}};var Bn={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.Writer.create(),i=Mn(e.publishers);try{for(i.s();!(t=i.n()).done;){var r=t.value;Vn.encode(r,n.uint32(18).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}var a,o=Mn(e.authors);try{for(o.s();!(a=o.n()).done;){var s=a.value;Hn.encode(s,n.uint32(26).fork()).ldelim()}}catch(e){o.e(e)}finally{o.f()}var l,c=Mn(e.narrators);try{for(c.s();!(l=c.n()).done;){var u=l.value;Gn.encode(u,n.uint32(34).fork()).ldelim()}}catch(e){c.e(e)}finally{c.f()}return n},decode:function(e,t){for(var n=e instanceof _n.Reader?e:new _n.Reader(e),i=void 0===t?n.len:n.pos+t,r={publishers:[],authors:[],narrators:[]};n.pos<i;){var a=n.uint32();switch(a>>>3){case 2:r.publishers.push(Vn.decode(n,n.uint32()));break;case 3:r.authors.push(Hn.decode(n,n.uint32()));break;case 4:r.narrators.push(Gn.decode(n,n.uint32()));break;default:n.skipType(7&a)}}return r},fromPartial:function(e){var t,n,i,r={publishers:[],authors:[],narrators:[]};return r.publishers=(null===(t=e.publishers)||void 0===t?void 0:t.map((function(e){return Vn.fromPartial(e)})))||[],r.authors=(null===(n=e.authors)||void 0===n?void 0:n.map((function(e){return Hn.fromPartial(e)})))||[],r.narrators=(null===(i=e.narrators)||void 0===i?void 0:i.map((function(e){return Gn.fromPartial(e)})))||[],r}};var Vn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.Writer.create();return""!==e.name&&t.uint32(18).string(e.name),t},decode:function(e,t){for(var n=e instanceof _n.Reader?e:new _n.Reader(e),i=void 0===t?n.len:n.pos+t,r={name:""};n.pos<i;){var a=n.uint32();if(a>>>3==2)r.name=n.string();else n.skipType(7&a)}return r},fromPartial:function(e){var t,n={name:""};return n.name=null!==(t=e.name)&&void 0!==t?t:"",n}};var Hn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.Writer.create();return""!==e.name&&t.uint32(18).string(e.name),t},decode:function(e,t){for(var n=e instanceof _n.Reader?e:new _n.Reader(e),i=void 0===t?n.len:n.pos+t,r={name:""};n.pos<i;){var a=n.uint32();if(a>>>3==2)r.name=n.string();else n.skipType(7&a)}return r},fromPartial:function(e){var t,n={name:""};return n.name=null!==(t=e.name)&&void 0!==t?t:"",n}};var Gn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.Writer.create();return""!==e.name&&t.uint32(18).string(e.name),t},decode:function(e,t){for(var n=e instanceof _n.Reader?e:new _n.Reader(e),i=void 0===t?n.len:n.pos+t,r={name:""};n.pos<i;){var a=n.uint32();if(a>>>3==2)r.name=n.string();else n.skipType(7&a)}return r},fromPartial:function(e){var t,n={name:""};return n.name=null!==(t=e.name)&&void 0!==t?t:"",n}};function Wn(e){var t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}_n.util.Long!==Nn.Z&&(_n.util.Long=Nn.Z,_n.configure());var zn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return""!==e.cardHeaderText&&t.uint32(10).string(e.cardHeaderText),""!==e.cardBodyText&&t.uint32(18).string(e.cardBodyText),""!==e.buttonText&&t.uint32(26).string(e.buttonText),""!==e.buttonTarget&&t.uint32(34).string(e.buttonTarget),t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r={cardHeaderText:"",cardBodyText:"",buttonText:"",buttonTarget:""};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.cardHeaderText=n.string();break;case 2:r.cardBodyText=n.string();break;case 3:r.buttonText=n.string();break;case 4:r.buttonTarget=n.string();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){return{cardHeaderText:Kn(e.cardHeaderText)?String(e.cardHeaderText):"",cardBodyText:Kn(e.cardBodyText)?String(e.cardBodyText):"",buttonText:Kn(e.buttonText)?String(e.buttonText):"",buttonTarget:Kn(e.buttonTarget)?String(e.buttonTarget):""}},toJSON:function(e){var t={};return void 0!==e.cardHeaderText&&(t.cardHeaderText=e.cardHeaderText),void 0!==e.cardBodyText&&(t.cardBodyText=e.cardBodyText),void 0!==e.buttonText&&(t.buttonText=e.buttonText),void 0!==e.buttonTarget&&(t.buttonTarget=e.buttonTarget),t},fromPartial:function(e){var t,n,i,r,a={cardHeaderText:"",cardBodyText:"",buttonText:"",buttonTarget:""};return a.cardHeaderText=null!==(t=e.cardHeaderText)&&void 0!==t?t:"",a.cardBodyText=null!==(n=e.cardBodyText)&&void 0!==n?n:"",a.buttonText=null!==(i=e.buttonText)&&void 0!==i?i:"",a.buttonTarget=null!==(r=e.buttonTarget)&&void 0!==r?r:"",a}};function Kn(e){return null!=e}En().util.Long!==Nn.Z&&(En().util.Long=Nn.Z,En().configure());n(69604),n(99975);function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Xn={},$n={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create(),i=Qn(e.topics);try{for(i.s();!(t=i.n()).done;){var r=t.value;ti.encode(r,n.uint32(10).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}return n},decode:function(e,t){var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r=qn({},Xn);for(r.topics=[];n.pos<i;){var a=n.uint32();if(a>>>3==1)r.topics.push(ti.decode(n,n.uint32()));else n.skipType(7&a)}return r},fromJSON:function(e){var t=qn({},Xn);if(t.topics=[],void 0!==e.topics&&null!==e.topics){var n,i=Qn(e.topics);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.topics.push(ti.fromJSON(r))}}catch(e){i.e(e)}finally{i.f()}}return t},toJSON:function(e){var t={};return e.topics?t.topics=e.topics.map((function(e){return e?ti.toJSON(e):void 0})):t.topics=[],t},fromPartial:function(e){var t=qn({},Xn);if(t.topics=[],void 0!==e.topics&&null!==e.topics){var n,i=Qn(e.topics);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.topics.push(ti.fromPartial(r))}}catch(e){i.e(e)}finally{i.f()}}return t}},ei={uri:"",title:""},ti={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),""!==e.title&&t.uint32(18).string(e.title),t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r=qn({},ei);n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.uri=n.string();break;case 2:r.title=n.string();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){var t=qn({},ei);return void 0!==e.uri&&null!==e.uri?t.uri=String(e.uri):t.uri="",void 0!==e.title&&null!==e.title?t.title=String(e.title):t.title="",t},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.title&&(t.title=e.title),t},fromPartial:function(e){var t=qn({},ei);return void 0!==e.uri&&null!==e.uri?t.uri=e.uri:t.uri="",void 0!==e.title&&null!==e.title?t.title=e.title:t.title="",t}},ni={htmlDescription:""},ii={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return void 0!==e.header&&ai.encode(e.header,t.uint32(10).fork()).ldelim(),""!==e.htmlDescription&&t.uint32(18).string(e.htmlDescription),t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r=qn({},ni);n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.header=ai.decode(n,n.uint32());break;case 2:r.htmlDescription=n.string();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){var t=qn({},ni);return void 0!==e.header&&null!==e.header?t.header=ai.fromJSON(e.header):t.header=void 0,void 0!==e.htmlDescription&&null!==e.htmlDescription?t.htmlDescription=String(e.htmlDescription):t.htmlDescription="",t},toJSON:function(e){var t={};return void 0!==e.header&&(t.header=e.header?ai.toJSON(e.header):void 0),void 0!==e.htmlDescription&&(t.htmlDescription=e.htmlDescription),t},fromPartial:function(e){var t=qn({},ni);return void 0!==e.header&&null!==e.header?t.header=ai.fromPartial(e.header):t.header=void 0,void 0!==e.htmlDescription&&null!==e.htmlDescription?t.htmlDescription=e.htmlDescription:t.htmlDescription="",t}},ri={},ai={encode:function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create()},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r=qn({},ri);n.pos<i;){var a=n.uint32();n.skipType(7&a)}return r},fromJSON:function(e){return qn({},ri)},toJSON:function(e){return{}},fromPartial:function(e){return qn({},ri)}};function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function li(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ci(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}En().util.Long!==Nn.Z&&(En().util.Long=Nn.Z,En().configure());var ui=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.TALK=1]="TALK",e[e.MUSIC=2]="MUSIC",e[e.UPSELL=3]="UPSELL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});var di={episodeUri:"",canUpsell:!1,albumMosaicUri:"",artists:"",durationMs:0},pi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();""!==e.episodeUri&&t.uint32(10).string(e.episodeUri);var n,i=li(e.playbackSegments);try{for(i.s();!(n=i.n()).done;){var r=n.value;fi.encode(r,t.uint32(18).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}var a,o=li(e.embeddedSegments);try{for(o.s();!(a=o.n()).done;){var s=a.value;gi.encode(s,t.uint32(26).fork()).ldelim()}}catch(e){o.e(e)}finally{o.f()}!0===e.canUpsell&&t.uint32(32).bool(e.canUpsell),""!==e.albumMosaicUri&&t.uint32(42).string(e.albumMosaicUri);var l,c=li(e.artists);try{for(c.s();!(l=c.n()).done;){var u=l.value;t.uint32(50).string(u)}}catch(e){c.e(e)}finally{c.f()}return 0!==e.durationMs&&t.uint32(56).int32(e.durationMs),t},decode:function(e,t){var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r=si({},di);for(r.playbackSegments=[],r.embeddedSegments=[],r.artists=[];n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.episodeUri=n.string();break;case 2:r.playbackSegments.push(fi.decode(n,n.uint32()));break;case 3:r.embeddedSegments.push(gi.decode(n,n.uint32()));break;case 4:r.canUpsell=n.bool();break;case 5:r.albumMosaicUri=n.string();break;case 6:r.artists.push(n.string());break;case 7:r.durationMs=n.int32();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){var t,n,i,r=si({},di);return r.episodeUri=void 0!==e.episodeUri&&null!==e.episodeUri?String(e.episodeUri):"",r.playbackSegments=(null!==(t=e.playbackSegments)&&void 0!==t?t:[]).map((function(e){return fi.fromJSON(e)})),r.embeddedSegments=(null!==(n=e.embeddedSegments)&&void 0!==n?n:[]).map((function(e){return gi.fromJSON(e)})),r.canUpsell=void 0!==e.canUpsell&&null!==e.canUpsell&&Boolean(e.canUpsell),r.albumMosaicUri=void 0!==e.albumMosaicUri&&null!==e.albumMosaicUri?String(e.albumMosaicUri):"",r.artists=(null!==(i=e.artists)&&void 0!==i?i:[]).map((function(e){return String(e)})),r.durationMs=void 0!==e.durationMs&&null!==e.durationMs?Number(e.durationMs):0,r},toJSON:function(e){var t={};return void 0!==e.episodeUri&&(t.episodeUri=e.episodeUri),e.playbackSegments?t.playbackSegments=e.playbackSegments.map((function(e){return e?fi.toJSON(e):void 0})):t.playbackSegments=[],e.embeddedSegments?t.embeddedSegments=e.embeddedSegments.map((function(e){return e?gi.toJSON(e):void 0})):t.embeddedSegments=[],void 0!==e.canUpsell&&(t.canUpsell=e.canUpsell),void 0!==e.albumMosaicUri&&(t.albumMosaicUri=e.albumMosaicUri),e.artists?t.artists=e.artists.map((function(e){return e})):t.artists=[],void 0!==e.durationMs&&(t.durationMs=e.durationMs),t},fromPartial:function(e){var t,n,i,r,a,o,s,l=si({},di);return l.episodeUri=null!==(t=e.episodeUri)&&void 0!==t?t:"",l.playbackSegments=(null!==(n=e.playbackSegments)&&void 0!==n?n:[]).map((function(e){return fi.fromPartial(e)})),l.embeddedSegments=(null!==(i=e.embeddedSegments)&&void 0!==i?i:[]).map((function(e){return gi.fromPartial(e)})),l.canUpsell=null!==(r=e.canUpsell)&&void 0!==r&&r,l.albumMosaicUri=null!==(a=e.albumMosaicUri)&&void 0!==a?a:"",l.artists=(null!==(o=e.artists)&&void 0!==o?o:[]).map((function(e){return e})),l.durationMs=null!==(s=e.durationMs)&&void 0!==s?s:0,l}},mi={uri:"",startMs:0,stopMs:0,durationMs:0,type:0,title:"",subtitle:"",imageUrl:"",actionUrl:"",isAbridged:!1},fi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),0!==e.startMs&&t.uint32(16).int32(e.startMs),0!==e.stopMs&&t.uint32(24).int32(e.stopMs),0!==e.durationMs&&t.uint32(32).int32(e.durationMs),0!==e.type&&t.uint32(40).int32(e.type),""!==e.title&&t.uint32(50).string(e.title),""!==e.subtitle&&t.uint32(58).string(e.subtitle),""!==e.imageUrl&&t.uint32(66).string(e.imageUrl),""!==e.actionUrl&&t.uint32(74).string(e.actionUrl),!0===e.isAbridged&&t.uint32(80).bool(e.isAbridged),t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r=si({},mi);n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.uri=n.string();break;case 2:r.startMs=n.int32();break;case 3:r.stopMs=n.int32();break;case 4:r.durationMs=n.int32();break;case 5:r.type=n.int32();break;case 6:r.title=n.string();break;case 7:r.subtitle=n.string();break;case 8:r.imageUrl=n.string();break;case 9:r.actionUrl=n.string();break;case 10:r.isAbridged=n.bool();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){var t=si({},mi);return t.uri=void 0!==e.uri&&null!==e.uri?String(e.uri):"",t.startMs=void 0!==e.startMs&&null!==e.startMs?Number(e.startMs):0,t.stopMs=void 0!==e.stopMs&&null!==e.stopMs?Number(e.stopMs):0,t.durationMs=void 0!==e.durationMs&&null!==e.durationMs?Number(e.durationMs):0,t.type=void 0!==e.type&&null!==e.type?function(e){switch(e){case 0:case"UNKNOWN":return ui.UNKNOWN;case 1:case"TALK":return ui.TALK;case 2:case"MUSIC":return ui.MUSIC;case 3:case"UPSELL":return ui.UPSELL;default:return ui.UNRECOGNIZED}}(e.type):0,t.title=void 0!==e.title&&null!==e.title?String(e.title):"",t.subtitle=void 0!==e.subtitle&&null!==e.subtitle?String(e.subtitle):"",t.imageUrl=void 0!==e.imageUrl&&null!==e.imageUrl?String(e.imageUrl):"",t.actionUrl=void 0!==e.actionUrl&&null!==e.actionUrl?String(e.actionUrl):"",t.isAbridged=void 0!==e.isAbridged&&null!==e.isAbridged&&Boolean(e.isAbridged),t},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.startMs&&(t.startMs=e.startMs),void 0!==e.stopMs&&(t.stopMs=e.stopMs),void 0!==e.durationMs&&(t.durationMs=e.durationMs),void 0!==e.type&&(t.type=function(e){switch(e){case ui.UNKNOWN:return"UNKNOWN";case ui.TALK:return"TALK";case ui.MUSIC:return"MUSIC";case ui.UPSELL:return"UPSELL";default:return"UNKNOWN"}}(e.type)),void 0!==e.title&&(t.title=e.title),void 0!==e.subtitle&&(t.subtitle=e.subtitle),void 0!==e.imageUrl&&(t.imageUrl=e.imageUrl),void 0!==e.actionUrl&&(t.actionUrl=e.actionUrl),void 0!==e.isAbridged&&(t.isAbridged=e.isAbridged),t},fromPartial:function(e){var t,n,i,r,a,o,s,l,c,u,d=si({},mi);return d.uri=null!==(t=e.uri)&&void 0!==t?t:"",d.startMs=null!==(n=e.startMs)&&void 0!==n?n:0,d.stopMs=null!==(i=e.stopMs)&&void 0!==i?i:0,d.durationMs=null!==(r=e.durationMs)&&void 0!==r?r:0,d.type=null!==(a=e.type)&&void 0!==a?a:0,d.title=null!==(o=e.title)&&void 0!==o?o:"",d.subtitle=null!==(s=e.subtitle)&&void 0!==s?s:"",d.imageUrl=null!==(l=e.imageUrl)&&void 0!==l?l:"",d.actionUrl=null!==(c=e.actionUrl)&&void 0!==c?c:"",d.isAbridged=null!==(u=e.isAbridged)&&void 0!==u&&u,d}},vi={uri:"",absoluteStartMs:0,absoluteStopMs:0},gi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),0!==e.absoluteStartMs&&t.uint32(16).int32(e.absoluteStartMs),0!==e.absoluteStopMs&&t.uint32(24).int32(e.absoluteStopMs),t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r=si({},vi);n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.uri=n.string();break;case 2:r.absoluteStartMs=n.int32();break;case 3:r.absoluteStopMs=n.int32();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){var t=si({},vi);return t.uri=void 0!==e.uri&&null!==e.uri?String(e.uri):"",t.absoluteStartMs=void 0!==e.absoluteStartMs&&null!==e.absoluteStartMs?Number(e.absoluteStartMs):0,t.absoluteStopMs=void 0!==e.absoluteStopMs&&null!==e.absoluteStopMs?Number(e.absoluteStopMs):0,t},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.absoluteStartMs&&(t.absoluteStartMs=e.absoluteStartMs),void 0!==e.absoluteStopMs&&(t.absoluteStopMs=e.absoluteStopMs),t},fromPartial:function(e){var t,n,i,r=si({},vi);return r.uri=null!==(t=e.uri)&&void 0!==t?t:"",r.absoluteStartMs=null!==(n=e.absoluteStartMs)&&void 0!==n?n:0,r.absoluteStopMs=null!==(i=e.absoluteStopMs)&&void 0!==i?i:0,r}};function hi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ki(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}En().util.Long!==Nn.Z&&(En().util.Long=Nn.Z,En().configure());var yi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();""!==e.episodeUri&&t.uint32(10).string(e.episodeUri);var n,i=hi(e.transcripts);try{for(i.s();!(n=i.n()).done;){var r=n.value;bi.encode(r,t.uint32(18).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}return t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r={episodeUri:"",transcripts:[]};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.episodeUri=n.string();break;case 2:r.transcripts.push(bi.decode(n,n.uint32()));break;default:n.skipType(7&a)}}return r},fromJSON:function(e){return{episodeUri:Si(e.episodeUri)?String(e.episodeUri):"",transcripts:Array.isArray(null==e?void 0:e.transcripts)?e.transcripts.map((function(e){return bi.fromJSON(e)})):[]}},toJSON:function(e){var t={};return void 0!==e.episodeUri&&(t.episodeUri=e.episodeUri),e.transcripts?t.transcripts=e.transcripts.map((function(e){return e?bi.toJSON(e):void 0})):t.transcripts=[],t},fromPartial:function(e){var t,n,i={episodeUri:"",transcripts:[]};return i.episodeUri=null!==(t=e.episodeUri)&&void 0!==t?t:"",i.transcripts=(null===(n=e.transcripts)||void 0===n?void 0:n.map((function(e){return bi.fromPartial(e)})))||[],i}};var bi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),""!==e.language&&t.uint32(18).string(e.language),!0===e.curated&&t.uint32(24).bool(e.curated),""!==e.cdnUrl&&t.uint32(34).string(e.cdnUrl),t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r={uri:"",language:"",curated:!1,cdnUrl:""};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.uri=n.string();break;case 2:r.language=n.string();break;case 3:r.curated=n.bool();break;case 4:r.cdnUrl=n.string();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){return{uri:Si(e.uri)?String(e.uri):"",language:Si(e.language)?String(e.language):"",curated:!!Si(e.curated)&&Boolean(e.curated),cdnUrl:Si(e.cdnUrl)?String(e.cdnUrl):""}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.language&&(t.language=e.language),void 0!==e.curated&&(t.curated=e.curated),void 0!==e.cdnUrl&&(t.cdnUrl=e.cdnUrl),t},fromPartial:function(e){var t,n,i,r,a={uri:"",language:"",curated:!1,cdnUrl:""};return a.uri=null!==(t=e.uri)&&void 0!==t?t:"",a.language=null!==(n=e.language)&&void 0!==n?n:"",a.curated=null!==(i=e.curated)&&void 0!==i&&i,a.cdnUrl=null!==(r=e.cdnUrl)&&void 0!==r?r:"",a}};function Si(e){return null!=e}En().util.Long!==Nn.Z&&(En().util.Long=Nn.Z,En().configure());var xi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.Writer.create();return""!==e.userId&&t.uint32(10).string(e.userId),""!==e.showUri&&t.uint32(18).string(e.showUri),0!==e.rating&&t.uint32(24).int32(e.rating),void 0!==e.ratedAt&&Dn(Ti(e.ratedAt),t.uint32(34).fork()).ldelim(),t},Oi=function(e,t){for(var n=e instanceof _n.Reader?e:new _n.Reader(e),i=void 0===t?n.len:n.pos+t,r={userId:"",showUri:"",rating:0,ratedAt:void 0};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.userId=n.string();break;case 2:r.showUri=n.string();break;case 3:r.rating=n.int32();break;case 4:r.ratedAt=Di(Rn(n,n.uint32()));break;default:n.skipType(7&a)}}return r},wi=function(e){return{userId:Fi(e.userId)?String(e.userId):"",showUri:Fi(e.showUri)?String(e.showUri):"",rating:Fi(e.rating)?Number(e.rating):0,ratedAt:Fi(e.ratedAt)?Ri(e.ratedAt):void 0}},Ni=function(e){var t={};return void 0!==e.userId&&(t.userId=e.userId),void 0!==e.showUri&&(t.showUri=e.showUri),void 0!==e.rating&&(t.rating=Math.round(e.rating)),void 0!==e.ratedAt&&(t.ratedAt=e.ratedAt.toISOString()),t},_i=function(e){var t,n,i,r,a={userId:"",showUri:"",rating:0,ratedAt:void 0};return a.userId=null!==(t=e.userId)&&void 0!==t?t:"",a.showUri=null!==(n=e.showUri)&&void 0!==n?n:"",a.rating=null!==(i=e.rating)&&void 0!==i?i:0,a.ratedAt=null!==(r=e.ratedAt)&&void 0!==r?r:void 0,a};var Ei=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.Writer.create();return 0!==e.average&&t.uint32(9).double(e.average),"0"!==e.totalRatings&&t.uint32(16).int64(e.totalRatings),!0===e.showAverage&&t.uint32(24).bool(e.showAverage),t},Ci=function(e,t){for(var n=e instanceof _n.Reader?e:new _n.Reader(e),i=void 0===t?n.len:n.pos+t,r={average:0,totalRatings:"0",showAverage:!1};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.average=n.double();break;case 2:r.totalRatings=n.int64().toString();break;case 3:r.showAverage=n.bool();break;default:n.skipType(7&a)}}return r},Pi=function(e){return{average:Fi(e.average)?Number(e.average):0,totalRatings:Fi(e.totalRatings)?String(e.totalRatings):"0",showAverage:!!Fi(e.showAverage)&&Boolean(e.showAverage)}},Ii=function(e){var t={};return void 0!==e.average&&(t.average=e.average),void 0!==e.totalRatings&&(t.totalRatings=e.totalRatings),void 0!==e.showAverage&&(t.showAverage=e.showAverage),t},ji=function(e){var t,n,i,r={average:0,totalRatings:"0",showAverage:!1};return r.average=null!==(t=e.average)&&void 0!==t?t:0,r.totalRatings=null!==(n=e.totalRatings)&&void 0!==n?n:"0",r.showAverage=null!==(i=e.showAverage)&&void 0!==i&&i,r};var Ai={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n.Writer.create();return void 0!==e.averageRating&&Ei(e.averageRating,t.uint32(10).fork()).ldelim(),void 0!==e.rating&&xi(e.rating,t.uint32(18).fork()).ldelim(),!0===e.canRate&&t.uint32(24).bool(e.canRate),t},decode:function(e,t){for(var n=e instanceof _n.Reader?e:new _n.Reader(e),i=void 0===t?n.len:n.pos+t,r={averageRating:void 0,rating:void 0,canRate:!1};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.averageRating=Ci(n,n.uint32());break;case 2:r.rating=Oi(n,n.uint32());break;case 3:r.canRate=n.bool();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){return{averageRating:Fi(e.averageRating)?Pi(e.averageRating):void 0,rating:Fi(e.rating)?wi(e.rating):void 0,canRate:!!Fi(e.canRate)&&Boolean(e.canRate)}},toJSON:function(e){var t={};return void 0!==e.averageRating&&(t.averageRating=e.averageRating?Ii(e.averageRating):void 0),void 0!==e.rating&&(t.rating=e.rating?Ni(e.rating):void 0),void 0!==e.canRate&&(t.canRate=e.canRate),t},fromPartial:function(e){var t,n={averageRating:void 0,rating:void 0,canRate:!1};return n.averageRating=void 0!==e.averageRating&&null!==e.averageRating?ji(e.averageRating):void 0,n.rating=void 0!==e.rating&&null!==e.rating?_i(e.rating):void 0,n.canRate=null!==(t=e.canRate)&&void 0!==t&&t,n}};function Ti(e){return{seconds:Math.trunc(e.getTime()/1e3).toString(),nanos:e.getTime()%1e3*1e6}}function Di(e){var t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}function Ri(e){return e instanceof Date?e:"string"==typeof e?new Date(e):Di(Fn(e))}function Fi(e){return null!=e}_n.util.Long!==Nn.Z&&(_n.util.Long=Nn.Z,_n.configure());var Li=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return 0!==e.amount&&t.uint32(9).double(e.amount),""!==e.currency&&t.uint32(18).string(e.currency),""!==e.formattedPrice&&t.uint32(26).string(e.formattedPrice),t},Mi=function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r={amount:0,currency:"",formattedPrice:""};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.amount=n.double();break;case 2:r.currency=n.string();break;case 3:r.formattedPrice=n.string();break;default:n.skipType(7&a)}}return r},Ui=function(e){var t,n,i,r={amount:0,currency:"",formattedPrice:""};return r.amount=null!==(t=e.amount)&&void 0!==t?t:0,r.currency=null!==(n=e.currency)&&void 0!==n?n:"",r.formattedPrice=null!==(i=e.formattedPrice)&&void 0!==i?i:"",r};var Zi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En().Writer.create();return void 0!==e.finalPrice&&Li(e.finalPrice,t.uint32(10).fork()).ldelim(),void 0!==e.finalListPrice&&Li(e.finalListPrice,t.uint32(18).fork()).ldelim(),t},decode:function(e,t){for(var n=e instanceof En().Reader?e:new(En().Reader)(e),i=void 0===t?n.len:n.pos+t,r={finalPrice:void 0,finalListPrice:void 0};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.finalPrice=Mi(n,n.uint32());break;case 2:r.finalListPrice=Mi(n,n.uint32());break;default:n.skipType(7&a)}}return r},fromPartial:function(e){var t={finalPrice:void 0,finalListPrice:void 0};return t.finalPrice=void 0!==e.finalPrice&&null!==e.finalPrice?Ui(e.finalPrice):void 0,t.finalListPrice=void 0!==e.finalListPrice&&null!==e.finalListPrice?Ui(e.finalListPrice):void 0,t}};function Bi(e){var t={};return e.forEach((function(e){switch(e.extensionKind){case Cn.PODCAST_SUBSCRIPTIONS:t.podcastSubscription=An.decode(e.data);break;case Cn.SHOW_ACCESS:t.showAccess=Tn.j2.decode(e.data);break;case Cn.AUDIOBOOK_SPECIFICS:t.audiobookSpecifics=Zn.decode(e.data);break;case Cn.PODCAST_TOPICS:t.podcastTopics=$n.decode(e.data);break;case Cn.PODCAST_SEGMENTS:t.podcastSegments=pi.decode(e.data);break;case Cn.HTML_DESCRIPTION:t.htmlDescription=ii.decode(e.data);break;case Cn.PODCAST_RATING:t.rating=Ai.decode(e.data);break;case Cn.CONTENT_INFORMATION:t.contentInformation=zn.decode(e.data);break;case Cn.EPISODE_TRANSCRIPTS:t.transcripts=yi.decode(e.data);break;case Cn.AUDIOBOOK_PRICE:t.audiobookPrice=Zi.decode(e.data)}})),t}var Vi=n(57072),Hi=n(50179),Gi=n(45911),Wi=n(61749);function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yi(e){return void 0===e?[]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){var t=e.url,n=e.label;return t&&n})).map((function(e){return{url:e.url,label:e.label}}))}({url:e.standardLink,label:"standard"},{url:e.smallLink,label:"small"},{url:e.largeLink,label:"large"},{url:e.xlargeLink,label:"xlarge"})}function qi(e){return void 0!==e&&e>0?function(e){return new Date(1e3*e)}(e).toISOString():null}function Qi(e){return qi(e?parseInt(e,10):void 0)}function Ji(e){return{milliseconds:1e3*e}}function Xi(e,t){return e?t===e?null:Qi(e):null}function $i(e){return e?[{url:e,width:300,height:300}]:[]}function er(e){var t;switch(null===(t=e.entityInfo)||void 0===t?void 0:t.pinnable){case Vi.YourLibraryEntityInfo_Pinnable.YES:return wn.TL.YES;case Vi.YourLibraryEntityInfo_Pinnable.NO_IN_FOLDER:return wn.TL.NO_IN_FOLDER;case Vi.YourLibraryEntityInfo_Pinnable.UNRECOGNIZED:default:return wn.TL.NO}}function tr(e){return{type:_e.p.ARTIST,uri:e.link,name:e.name}}function nr(e){var t,n,i,r,a,o,s,l,c,u,d,p,m,f;return{type:_e.p.ALBUM,name:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.name)&&void 0!==t?t:"",artists:null!==(i=e.album)&&void 0!==i&&i.artistName?[{type:_e.p.ARTIST,name:null===(r=e.album)||void 0===r?void 0:r.artistName,uri:null!==(a=null===(o=e.album)||void 0===o?void 0:o.artistUri)&&void 0!==a?a:""}]:[],images:$i(null===(s=e.entityInfo)||void 0===s?void 0:s.imageUri),uri:null!==(l=null===(c=e.entityInfo)||void 0===c?void 0:c.uri)&&void 0!==l?l:"",pinned:null!==(u=null===(d=e.entityInfo)||void 0===d?void 0:d.pinned)&&void 0!==u&&u,addedAt:Qi(null===(p=e.entityInfo)||void 0===p?void 0:p.addTime),lastPlayedAt:Xi(null===(m=e.entityInfo)||void 0===m?void 0:m.lastPlayed,null===(f=e.entityInfo)||void 0===f?void 0:f.addTime),canPin:er(e)}}function ir(e,t){var n,i,r,a;if(void 0===e.entity)throw new Error("Invalid collection Esperanto artists response!");return{items:e.entity.map(nr),offset:t||0,limit:e.entity.length,totalLength:null!==(n=null===(i=e.header)||void 0===i?void 0:i.totalCount)&&void 0!==n?n:0,unfilteredTotalLength:null!==(r=null===(a=e.header)||void 0===a?void 0:a.totalCount)&&void 0!==r?r:0}}function rr(e){var t,n,i,r,a,o,s,l,c,u;return{type:_e.p.ARTIST,uri:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.name)&&void 0!==i?i:"",images:$i(null===(a=e.entityInfo)||void 0===a?void 0:a.imageUri),pinned:null!==(o=null===(s=e.entityInfo)||void 0===s?void 0:s.pinned)&&void 0!==o&&o,addedAt:Qi(null===(l=e.entityInfo)||void 0===l?void 0:l.addTime),lastPlayedAt:Xi(null===(c=e.entityInfo)||void 0===c?void 0:c.lastPlayed,null===(u=e.entityInfo)||void 0===u?void 0:u.addTime),canPin:er(e)}}function ar(e){var t,n,i,r,a,o,s;return{type:_e.p.SHOW,uri:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.name)&&void 0!==i?i:"",publisher:null!==(a=null===(o=e.show)||void 0===o?void 0:o.creatorName)&&void 0!==a?a:"",images:$i(null===(s=e.entityInfo)||void 0===s?void 0:s.imageUri)}}function or(e,t){var n,i,r,a;if(void 0===e.entity)throw new Error("Invalid collection cosmos shows response!");return{items:e.entity.map(ar),offset:t||0,limit:e.entity.length,totalLength:null!==(n=null===(i=e.header)||void 0===i?void 0:i.totalCount)&&void 0!==n?n:0,unfilteredTotalLength:null!==(r=null===(a=e.header)||void 0===a?void 0:a.totalCount)&&void 0!==r?r:0}}function sr(e){if(void 0===e.episodeMetadata||void 0===e.episodePlayedState)throw new Error("Invalid listen-later cosmos response!");return Ki({},function(e,t){var n,i,r,a,o={};e.extension&&(o=Bi(e.extension));var s=e.show;return{type:_e.p.EPISODE,uri:e.link,name:e.name,description:e.description,duration:Ji(e.length),timeLeft:Ji(t.isPlayed?0:t.timeLeft),images:Yi(e.covers),isExplicit:e.isExplicit,languages:[e.language],release:{date:new Date(1e3*parseInt(e.publishDate,10)).toISOString(),precision:"day"},podcastSubscription:{isPaywalled:null!==(n=null===(i=o.podcastSubscription)||void 0===i?void 0:i.isPaywalled)&&void 0!==n&&n,isUserSubscribed:null!==(r=null===(a=o.podcastSubscription)||void 0===a?void 0:a.isUserSubscribed)&&void 0!==r&&r},show:{type:_e.p.SHOW,uri:s.link,name:s.name,publisher:s.publisher,images:Yi(s.covers),mediaType:On.E.UNKNOWN},isPlayable:t.isPlayable,is19PlusOnly:e.is19PlusOnly}}(e.episodeMetadata,e.episodePlayedState))}function lr(e,t){return{items:(e.episode||[]).map(sr),offset:t||0,limit:(e.episode||[]).length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}function cr(e){return{type:_e.p.ARTIST,uri:e.link,name:e.name}}function ur(e){return{type:_e.p.ARTIST,uri:e.link,name:e.name}}function dr(e,t){var n,i,r,a;if(void 0===e.entity)throw new Error("Invalid collection Esperanto artist response!");return{items:e.entity.map(rr),offset:t||0,limit:e.entity.length,totalLength:null!==(n=null===(i=e.header)||void 0===i?void 0:i.totalCount)&&void 0!==n?n:0,unfilteredTotalLength:null!==(r=null===(a=e.header)||void 0===a?void 0:a.totalCount)&&void 0!==r?r:0}}function pr(e){return{type:_e.p.ALBUM,uri:e.link,name:e.name,artist:e.artist&&cr(e.artist),images:Yi(e.covers)}}function mr(e){if(void 0===e.trackMetadata||void 0===e.trackPlayState)throw new Error("Invalid collection cosmos shows response!");return Ki(Ki({},function(e,t){return{type:_e.p.TRACK,uri:e.link,name:e.name,duration:Ji(e.length),album:pr(e.album),artists:e.artist.map(ur),discNumber:e.discNumber,trackNumber:e.trackNumber,isExplicit:e.isExplicit,isPlayable:t.isPlayable,isLocal:e.isLocal,is19PlusOnly:e.is19PlusOnly}}(e.trackMetadata,e.trackPlayState)),{},{addedAt:qi(e.addTime)})}function fr(e){var t,n;if(void 0===e.track||void 0===(null===(t=e.track)||void 0===t?void 0:t.trackMetadata)||void 0===(null===(n=e.track)||void 0===n?void 0:n.trackPlayState))throw new Error("Invalid collection esperanto tracks response!");return function(e){if(void 0===e||void 0===e.trackMetadata)throw new Error("Invalid track data");return{type:_e.p.TRACK,uri:e.trackMetadata.link,name:e.trackMetadata.name,duration:Ji(e.trackMetadata.length),album:pr(e.trackMetadata.album),artists:e.trackMetadata.artist.map(ur),discNumber:e.trackMetadata.discNumber,trackNumber:e.trackMetadata.trackNumber,isExplicit:e.trackMetadata.isExplicit,isPlayable:e.trackMetadata.playable,isLocal:e.trackMetadata.isLocal,is19PlusOnly:e.trackMetadata.is19PlusOnly,addedAt:qi(e.addTime)}}(e.track)}function vr(e,t){if(void 0===e.item)throw new Error("Invalid collection esperanto tracks response!");return{items:e.item.map(fr),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength,unfilteredTotalLength:e.unfilteredLength}}function gr(e){var t,n,i,r,a,o,s,l,c,u,d,p,m;return{type:_e.p.AUDIOBOOK,uri:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.name)&&void 0!==i?i:"",authorName:null!==(a=null===(o=e.book)||void 0===o?void 0:o.authorName)&&void 0!==a?a:"",images:$i(null===(s=e.entityInfo)||void 0===s?void 0:s.imageUri),isLocked:(null===(l=e.book)||void 0===l?void 0:l.access)===Vi.YourLibraryBookExtraInfo_Access.LOCKED,pinned:null!==(c=null===(u=e.entityInfo)||void 0===u?void 0:u.pinned)&&void 0!==c&&c,addedAt:Qi(null===(d=e.entityInfo)||void 0===d?void 0:d.addTime),lastPlayedAt:Xi(null===(p=e.entityInfo)||void 0===p?void 0:p.lastPlayed,null===(m=e.entityInfo)||void 0===m?void 0:m.addTime),canPin:er(e)}}function hr(e,t){var n,i,r,a;if(void 0===e.entity)throw new Error("Invalid your library esperanto response!");return{items:e.entity.map(gr),offset:t||0,limit:e.entity.length,totalLength:null!==(n=null===(i=e.header)||void 0===i?void 0:i.totalCount)&&void 0!==n?n:0,unfilteredTotalLength:null!==(r=null===(a=e.header)||void 0===a?void 0:a.totalCount)&&void 0!==r?r:0}}function kr(e,t,n){var r,a,o,s,l,c,u,d,p,m,f,v,g,h,k,y,b,S,x,O,w,N,_,E,C;if(null!==(r=e.error)&&void 0!==r&&r.includes("filter only available"))throw new wn.Ik(null!==(N=null===(_=e.error.match(/^(.*) filter only available/))||void 0===_?void 0:_.at(1))&&void 0!==N?N:e.error);if(null!==(a=e.error)&&void 0!==a&&a.includes("order only available"))throw new wn.j2(null!==(E=null===(C=e.error.match(/^(.*) order only available/))||void 0===C?void 0:C.at(1))&&void 0!==E?E:e.error);if(e.error&&404===e.statusCode&&null!=t&&t.folderUri)throw new wn.xX(e.error);var P,I=null!=t&&t.folderUri?bn.YourLibraryFilters_Filter.PLAYLIST:void 0,j=(0,Wi.J5)(null!==(o=null==t||null===(s=t.filters)||void 0===s?void 0:s.map(Hi.zl))&&void 0!==o?o:[]).map(Wi.XT),A=null!=I?I:(0,Hi.K_)(null===(l=j.at(0))||void 0===l?void 0:l.id),T=(0,Gi.sy)((0,Hi.gD)(null==t?void 0:t.sortOrder),A),D=A===bn.YourLibraryFilters_Filter.PLAYLIST&&T.id===bn.YourLibrarySortOrder_SortOrder.CUSTOM.toString(),R=!(null==t||!t.textFilter),F=null!==(c=null===(u=e.header)||void 0===u?void 0:u.totalCount)&&void 0!==c?c:0;if(n){var L=function(e,t,n,r){for(var a,o,s,l,c,u=0,d=[],p=new Set(null!==(a=null==r?void 0:r.expandedFolders)&&void 0!==a?a:[]),m=e.slice(0),f=Array.from({length:m.length},(function(){return 0})),v=function(){var e,a,o,s=null!==(e=f.shift())&&void 0!==e?e:0,l=yr(c,t,s,n);if(d.push(l),s>0&&u++,function(e,t){var n,i;return e.length>=(null!==(n=null==t?void 0:t.offset)&&void 0!==n?n:0)+(null!==(i=null==t?void 0:t.limit)&&void 0!==i?i:0)}(d,r))return"break";if(c.folder&&null!==(a=c.entityInfo)&&void 0!==a&&a.uri&&p.has(null===(o=c.entityInfo)||void 0===o?void 0:o.uri)){m.unshift.apply(m,(0,i.Z)(c.folder.entity));var v=s+1;f.unshift.apply(f,(0,i.Z)(Array.from({length:c.folder.entity.length},(function(){return v}))))}};(c=m.shift())&&"break"!==v(););return{items:d.slice(null!==(o=null==r?void 0:r.offset)&&void 0!==o?o:0,(null!==(s=null==r?void 0:r.offset)&&void 0!==s?s:0)+(null!==(l=null==r?void 0:r.limit)&&void 0!==l?l:0)),numExpandedFolderItemsInChunk:u}}(e.entity,D,R,t);P=L.items,F+=L.numExpandedFolderItemsInChunk}else P=function(e,t,n){return e.map((function(e){return yr(e,t,void 0,n)}))}(e.entity,D,R);return{primaryFilter:null!==(d=(0,Wi.$R)(A))&&void 0!==d?d:void 0,passedFilterIds:null!==(p=null==t?void 0:t.filters)&&void 0!==p?p:[],availableFilters:(0,Wi.J5)(null!==(m=null===(f=e.header)||void 0===f||null===(v=f.availableFilters)||void 0===v?void 0:v.filter)&&void 0!==m?m:[]).map(Wi.XT),selectedFilters:null!=t&&t.folderUri?(0,Wi.tl)(j):j,availableSortOrders:(0,Gi.wV)(A),selectedSortOrder:T,limit:null!==(g=null!==(h=null==t?void 0:t.limit)&&void 0!==h?h:null===(k=e.header)||void 0===k?void 0:k.totalCount)&&void 0!==g?g:0,offset:null==t?void 0:t.offset,items:P,unfilteredTotalLength:null!==(y=null===(b=e.header)||void 0===b?void 0:b.totalCount)&&void 0!==y?y:0,totalLength:F,hasUnfilteredItems:!(null===(S=e.header)||void 0===S||!S.totalCount)||!(null==t||null===(x=t.filters)||void 0===x||!x.length)||!(null==t||!t.textFilter),hasTextFilter:R,reorderAllowed:D,passedFolderUri:null==t?void 0:t.folderUri,openedFolderName:null===(O=e.header)||void 0===O?void 0:O.folderName,parentFolderUri:null===(w=e.header)||void 0===w?void 0:w.parentFolderUri}}function yr(e,t,n,i){return e.playlist?function(e,t,n){var i,r,a,o,s,l,c,u,d,p,m,f,v,g,h,k;return{type:_e.p.PLAYLIST,uri:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.uri)&&void 0!==i?i:"",name:null!==(a=null===(o=e.entityInfo)||void 0===o?void 0:o.name)&&void 0!==a?a:"",pinned:null!==(s=null===(l=e.entityInfo)||void 0===l?void 0:l.pinned)&&void 0!==s&&s,canPin:er(e),images:$i(null===(c=e.entityInfo)||void 0===c?void 0:c.imageUri),owner:{type:_e.p.USER,name:null!==(u=null===(d=e.playlist)||void 0===d?void 0:d.creatorName)&&void 0!==u?u:"",uri:null!==(p=null===(m=e.playlist)||void 0===m?void 0:m.creatorUri)&&void 0!==p?p:"",id:"",username:"",images:[]},isLoading:null===(f=e.playlist)||void 0===f?void 0:f.isLoading,folderDepth:n,canAddTo:null===(v=e.playlist)||void 0===v?void 0:v.canAdd,canReorder:t,addedAt:Qi(null===(g=e.entityInfo)||void 0===g?void 0:g.addTime),lastPlayedAt:Xi(null===(h=e.entityInfo)||void 0===h?void 0:h.lastPlayed,null===(k=e.entityInfo)||void 0===k?void 0:k.addTime)}}(e,t,n):e.album?nr(e):e.artist?rr(e):e.show?function(e){var t,n,i,r,a,o,s,l,c,u,d,p;return{type:_e.p.SHOW,uri:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.name)&&void 0!==i?i:"",pinned:null!==(a=null===(o=e.entityInfo)||void 0===o?void 0:o.pinned)&&void 0!==a&&a,publisher:null!==(s=null===(l=e.show)||void 0===l?void 0:l.creatorName)&&void 0!==s?s:"",images:$i(null===(c=e.entityInfo)||void 0===c?void 0:c.imageUri),addedAt:Qi(null===(u=e.entityInfo)||void 0===u?void 0:u.addTime),lastPlayedAt:Xi(null===(d=e.entityInfo)||void 0===d?void 0:d.lastPlayed,null===(p=e.entityInfo)||void 0===p?void 0:p.addTime),canPin:er(e)}}(e):e.book?gr(e):e.folder?function(e,t,n){var i,r,a,o,s,l,c,u,d,p,m,f,v,g,h,k=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:_e.p.FOLDER,uri:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.uri)&&void 0!==i?i:"",rowId:null!==(a=null===(o=e.folder)||void 0===o?void 0:o.rowId)&&void 0!==a?a:"",name:null!==(s=null===(l=e.entityInfo)||void 0===l?void 0:l.name)&&void 0!==s?s:"",pinned:null!==(c=null===(u=e.entityInfo)||void 0===u?void 0:u.pinned)&&void 0!==c&&c,canPin:er(e),numberOfFolders:null!==(d=null===(p=e.folder)||void 0===p?void 0:p.numberOfFolders)&&void 0!==d?d:0,numberOfPlaylists:null!==(m=null===(f=e.folder)||void 0===f?void 0:f.numberOfPlaylists)&&void 0!==m?m:0,folderDepth:n,canReorder:t,isFlattened:k,addedAt:Qi(null===(v=e.entityInfo)||void 0===v?void 0:v.addTime),lastPlayedAt:Xi(null===(g=e.entityInfo)||void 0===g?void 0:g.lastPlayed,null===(h=e.entityInfo)||void 0===h?void 0:h.addTime)}}(e,t,n,i):e.likedSongs?function(e){var t,n,i,r,a,o,s,l,c,u;return{type:_e.p.LIKED_SONGS,uri:"spotify:collection:tracks",name:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.name)&&void 0!==t?t:"",pinned:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.pinned)&&void 0!==i&&i,canPin:er(e),images:$i(null===(a=e.entityInfo)||void 0===a?void 0:a.imageUri),numberOfSongs:null!==(o=null===(s=e.likedSongs)||void 0===s?void 0:s.numberOfSongs)&&void 0!==o?o:0,addedAt:Qi(null===(l=e.entityInfo)||void 0===l?void 0:l.addTime),lastPlayedAt:Xi(null===(c=e.entityInfo)||void 0===c?void 0:c.lastPlayed,null===(u=e.entityInfo)||void 0===u?void 0:u.addTime)}}(e):e.yourEpisodes?function(e){var t,n,i,r,a,o,s,l,c,u;return{type:_e.p.YOUR_EPISODES,uri:"spotify:collection:your-episodes",name:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.name)&&void 0!==t?t:"",pinned:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.pinned)&&void 0!==i&&i,canPin:er(e),images:$i(null===(a=e.entityInfo)||void 0===a?void 0:a.imageUri),numberOfDownloadedEpisodes:null!==(o=null===(s=e.yourEpisodes)||void 0===s?void 0:s.numberOfDownloadedEpisodes)&&void 0!==o?o:0,addedAt:Qi(null===(l=e.entityInfo)||void 0===l?void 0:l.addTime),lastPlayedAt:Xi(null===(c=e.entityInfo)||void 0===c?void 0:c.lastPlayed,null===(u=e.entityInfo)||void 0===u?void 0:u.addTime)}}(e):e.localFiles?function(e){var t,n,i,r,a,o,s,l,c,u;return{type:_e.p.LOCAL_FILES,uri:"spotify:local-files",name:null!==(t=null===(n=e.entityInfo)||void 0===n?void 0:n.name)&&void 0!==t?t:"",pinned:null!==(i=null===(r=e.entityInfo)||void 0===r?void 0:r.pinned)&&void 0!==i&&i,canPin:er(e),images:$i(null===(a=e.entityInfo)||void 0===a?void 0:a.imageUri),numberOfFiles:null!==(o=null===(s=e.localFiles)||void 0===s?void 0:s.numberOfFiles)&&void 0!==o?o:0,addedAt:Qi(null===(l=e.entityInfo)||void 0===l?void 0:l.addTime),lastPlayedAt:Xi(null===(c=e.entityInfo)||void 0===c?void 0:c.lastPlayed,null===(u=e.entityInfo)||void 0===u?void 0:u.addTime)}}(e):null}function br(e){switch(e){case"album":default:return"album";case"single":return"single";case"compilation":return"compilation";case"ep":return"ep"}}function Sr(e){var t=e.map((function(e){return(0,we.EC)(e)})),n=t.map((function(e){return null!==e?e.type:null})).reduce((function(e,t){return e===t?e:null}));if(null===n)throw new Error("Given URIs need to be of the same type!");return{type:n,ids:t.map((function(e){return e.id}))}}function xr(e,t,n){return Or.apply(this,arguments)}function Or(){return(Or=(0,o.Z)(l().mark((function e(t,n,i){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sr(i),r.type!==we.JM.EPISODE){e.next=6;break}return e.next=4,n.add({uris:i});case 4:e.next=8;break;case 6:return e.next=8,t.add({uri:i});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(e,t,n){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.Z)(l().mark((function e(t,n,i){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sr(i),r.type!==we.JM.EPISODE){e.next=6;break}return e.next=4,n.remove({uris:i});case 4:e.next=8;break;case 6:return e.next=8,t.remove({uri:i});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(e,t){return Er.apply(this,arguments)}function Er(){return(Er=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.contains(kn._X.fromPartial({uri:n}));case 2:return i=e.sent,e.abrupt("return",i.found||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cr=n(25384),Pr=n(86649),Ir=n(68422),jr=n(91118),Ar=n(36282);function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rr={offset:0},Fr={episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[Ir.ExtensionKind.PODCAST_SUBSCRIPTIONS]},showPolicy:{name:!0,link:!0,description:!0,publisher:!0,covers:!0,language:!0,isExplicit:!0,mediaTypeEnum:!0},collectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},syncPolicy:{offline:!0,syncProgress:!0},playedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0}};function Lr(e,t){var n,i;return"end"===e.after?{}:null!==(n=e.after)&&void 0!==n&&n.uri?{afterUri:(0,Ar.h)(e.after.uri,t)}:"start"===e.before?{first:!0}:null!==(i=e.before)&&void 0!==i&&i.uri?{beforeUri:(0,Ar.h)(e.before.uri,t)}:{}}var Mr=function(){function e(t,n,i,r){(0,S.Z)(this,e),(0,a.Z)(this,"_cache",new Map),this._your_library=t,this._collection=n,this._listen_later=i,this._currentUsername=r,this._events=new xn(this._your_library,this._collection,this._listen_later,this._cache)}var t,n,i,r,s,c,u,d,p,m,f,v,g,h,k;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canSortTracksAndEpisodes:!0,canFilterTracksAndEpisodes:!0,canModifyOffline:!0,canGetTracksByArtistOrAlbum:!0,canMarkEpisodesAsDone:!0,canFetchAllItems:!0,canPin:!0,canTextFilterContentsInRealtime:!0}}},{key:"getAlbums",value:(k=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=s.length>0&&void 0!==s[0]?s[0]:Rr).sort,i=t.filter,r=t.offset,a=t.limit,void 0===r||"number"==typeof r){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library.all(yn.N6.fromPartial({header:{totalCount:!0,skip:r,length:a,filters:{filter:[bn.YourLibraryFilters_Filter.ALBUM]},textFilter:(0,Wi.Vp)((0,Cr.cj)(i)),sortOrder:{sortOrder:(0,Gi.y0)(n)}}}));case 6:return o=e.sent,e.abrupt("return",ir(o,r));case 8:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getArtists",value:(h=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=s.length>0&&void 0!==s[0]?s[0]:Rr).sort,i=t.filter,r=t.offset,a=t.limit,void 0===r||"number"==typeof r){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library.all(yn.N6.fromPartial({header:{totalCount:!0,skip:r,length:a,filters:{filter:[bn.YourLibraryFilters_Filter.ARTIST]},textFilter:(0,Wi.Vp)((0,Cr.cj)(i)),sortOrder:{sortOrder:(0,Gi.AV)(n)}}}));case 6:return o=e.sent,e.abrupt("return",dr(o,r));case 8:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getTracks",value:(g=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o,s,c,u,d,p,m,f=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(i=f.length>0&&void 0!==f[0]?f[0]:Rr).sort,a=i.filter,o=i.offset,s=i.limit,c=i.uri,void 0===o||"number"==typeof o){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:if(u=(0,we.EC)(c),d=u&&(0,we.HB)(u.id)||void 0,p=kn.ow.fromPartial({trackPolicy:{collectionPolicy:{isInCollection:!0},trackPolicy:{link:!0,name:!0,playable:!0,length:!0,trackNumber:!0,discNumber:!0,isExplicit:!0,is19PlusOnly:!0},albumPolicy:{decorated:!0,albumPolicy:{link:!0,name:!0,covers:!0}},artistPolicy:{name:!0,link:!0}},addTime:!0,start:o,length:s,filter:(0,Wi.Yo)((0,Cr.cj)(a)),sort:r?(0,Gi.KO)(r):"",id:d}),(null===(t=(0,we.EC)(c))||void 0===t?void 0:t.type)!==we.JM.ARTIST){e.next=13;break}return e.next=10,this._collection.getArtistTrackList(p);case 10:m=e.sent,e.next=22;break;case 13:if((null===(n=(0,we.EC)(c))||void 0===n?void 0:n.type)!==we.JM.ALBUM){e.next=19;break}return e.next=16,this._collection.getAlbumTrackList(p);case 16:m=e.sent,e.next=22;break;case 19:return e.next=21,this._collection.getTrackList(p);case 21:m=e.sent;case 22:return e.abrupt("return",vr(m,o));case 23:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"getShows",value:(v=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=s.length>0&&void 0!==s[0]?s[0]:Rr).sort,i=t.filter,r=t.offset,a=t.limit,void 0===r||"number"==typeof r){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library.all(yn.N6.fromPartial({header:{totalCount:!0,skip:r,length:a,filters:{filter:[bn.YourLibraryFilters_Filter.SHOW]},textFilter:(0,Wi.Vp)((0,Cr.cj)(i)),sortOrder:{sortOrder:(0,Gi.Et)(n)}}}));case 6:return o=e.sent,e.abrupt("return",or(o,r));case 8:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"getEpisodes",value:(f=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=s.length>0&&void 0!==s[0]?s[0]:Rr).sort,i=t.filter,r=t.offset,a=t.limit,void 0===r||"number"==typeof r){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._listen_later.episodes(hn.ListenLaterGetEpisodesRequest.fromPartial(Dr(Dr({},Fr),{},{sort:(0,Gi.G9)(n),filter:(0,Wi.Yo)((0,Cr.cj)(i)),start:r,length:a})));case 6:return o=e.sent,e.abrupt("return",lr(o,r));case 8:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getBooks",value:(m=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o,s=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=s.length>0&&void 0!==s[0]?s[0]:Rr).filter,i=t.sort,r=t.offset,a=t.limit,void 0===r||"number"==typeof r){e.next=4;break}throw new Error("Invalid offset! Expected a number.");case 4:return e.next=6,this._your_library.all(yn.N6.fromPartial({header:{totalCount:!0,skip:r,length:a,filters:{filter:[bn.YourLibraryFilters_Filter.BOOK]},textFilter:(0,Wi.Vp)((0,Cr.cj)(n)),sortOrder:{sortOrder:(0,Gi.Tk)(i)}}}));case 6:return o=e.sent,e.abrupt("return",hr(o,r));case 8:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"add",value:(p=(0,o.Z)(l().mark((function e(){var t,n,i,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),i=0;i<t;i++)n[i]=r[i];if(!this._events.emitOperationSync(vn.pT.ADD,n)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,this._events.emitUpdateItems(n,!0),e.next=7,xr(this._collection,this._listen_later,n);case 7:this._events.emitOperationComplete(vn.pT.ADD,n),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(3),this._events.emitUpdateItems(n,!1),this._events.emitOperationComplete(vn.pT.ADD,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 15:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return p.apply(this,arguments)})},{key:"remove",value:(d=(0,o.Z)(l().mark((function e(){var t,n,i,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=r.length,n=new Array(t),i=0;i<t;i++)n[i]=r[i];if(!this._events.emitOperationSync(vn.pT.REMOVE,n)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,this._events.emitUpdateItems(n,!1),e.next=7,wr(this._collection,this._listen_later,n);case 7:this._events.emitOperationComplete(vn.pT.REMOVE,n),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(3),this._events.emitUpdateItems(n,!0),this._events.emitOperationComplete(vn.pT.REMOVE,n,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 15:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return d.apply(this,arguments)})},{key:"contains",value:(u=(0,o.Z)(l().mark((function e(){var t,n,i,r,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),i=0;i<t;i++)n[i]=a[i];return e.next=3,_r(this._collection,n);case 3:return r=e.sent,this._events.emitUpdateItems(n,r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"containsSync",value:function(e){return this._cache.get(e)}},{key:"markAsPlayed",value:(c=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._collection.removeUnplayed({uri:[t]});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"markAsUnPlayed",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._collection.addUnplayed({uri:[t]});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"pin",value:(r=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._your_library.pin(yn.oP.fromPartial(Dr({uri:(0,Ar.h)(t,this._currentUsername)},n&&Lr(n,this._currentUsername))));case 2:(i=e.sent).status===jr.PinResponse_PinStatus.PINNED?this._events.emitUpdatePin(t,!0):i.status===jr.PinResponse_PinStatus.NOT_PINNED&&i.hasMaximumPinnedItems&&this._events.emitUpdatePinErrorTooManyPins(t,i.maximumPinnedItems);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"unpin",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._your_library.unPin(yn.oP.fromPartial({uri:(0,Ar.h)(t,this._currentUsername)}));case 2:this._events.emitUpdatePin(t,!1);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getContents",value:(n=(0,o.Z)(l().mark((function e(t){var n,i,r,a,o,s,c,u,d,p,m,f,v,g,h,k,y,b,S,x,O;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null==t||null===(n=t.filters)||void 0===n?void 0:n.map(Hi.zl),s=o&&(0,Wi.J5)(o).at(0),c=!!s,u=s===bn.YourLibraryFilters_Filter.PLAYLIST,d=s===bn.YourLibraryFilters_Filter.DOWNLOADED,p=!(null==t||null===(i=t.expandedFolders)||void 0===i||!i.length),m=!(null==t||!t.textFilter),f=p&&!m&&(!c||u||d),v=null==t?void 0:t.offset,g=null==t?void 0:t.limit,f&&(v=0,g=(null!==(h=null==t?void 0:t.offset)&&void 0!==h?h:0)+(null!==(k=null==t?void 0:t.limit)&&void 0!==k?k:0)),y=(0,Gi.sy)((0,Hi.gD)(null==t?void 0:t.sortOrder),s),b=null===(r=null==t?void 0:t.filtersPickedByUser)||void 0===r||r,S=null===(a=(0,we.EC)(null==t?void 0:t.folderUri))||void 0===a?void 0:a.id,x=void 0,S&&""!==S&&(x=Nn.Z.fromString(S,!0,16).toString(10)),e.next=18,this._your_library.all(yn.N6.fromPartial({header:{length:g,skip:v,textFilter:null==t?void 0:t.textFilter,sortOrder:{sortOrder:(0,Hi.gD)(y.id)},filters:{filter:o},totalCount:!0,allPlaylists:!(null==t||!t.textFilter),entitiesInFolders:f,filtersPickedByUser:b,folderId:x},pseudoPlaylistConfig:Ur(t)}));case 18:return O=e.sent,e.abrupt("return",kr(O,t,f));case 20:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getContentsDownloadedFilterId",value:function(){return bn.YourLibraryFilters_Filter.DOWNLOADED.toString()}},{key:"getFilterLabel",value:function(e){var t,n=(0,Hi.K_)(e);return void 0!==n?null===(t=bn.YourLibraryFilters_Filter[n])||void 0===t?void 0:t.toLowerCase():e}},{key:"getSortOrderLabel",value:function(e){var t,n=(0,Hi.gD)(e);return void 0!==n?null===(t=bn.YourLibrarySortOrder_SortOrder[n])||void 0===t?void 0:t.toLowerCase():e}},{key:"getAlbum",value:(t=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._collection.getAlbumView(kn.H8.fromPartial({albumUri:t,trackPolicy:{collectionPolicy:{isInCollection:!0},trackPolicy:{link:!0,name:!0,playable:!0,length:!0,trackNumber:!0,discNumber:!0,isExplicit:!0,is19PlusOnly:!0},artistPolicy:{name:!0,link:!0},playedStatePolicy:{playable:!0}},albumPolicy:{decorated:!0,albumType:!0,artistsPolicy:{artistPolicy:{link:!0,name:!0,portraits:!0},decorated:!0},albumPolicy:{link:!0,name:!0,copyrights:!0,covers:!0,year:!0,numDiscs:!0,numTracks:!0,playability:!0}}}));case 2:return n=e.sent,e.abrupt("return",(r=void 0,(i=n).album&&i.album.albumMetadata?{type:_e.p.ALBUM,uri:i.album.albumMetadata.link,name:i.album.albumMetadata.name,artists:i.album.albumMetadata.artists.map(tr).filter((function(e){return e.name})),images:Yi(i.album.albumMetadata.covers),albumType:br(i.album.albumType),year:i.album.albumMetadata.year,copyrights:(r=i.album.albumMetadata.copyright,r.map((function(e){return e.includes("℗")?{type:"P",text:e}:{type:"C",text:e}}))),items:i.album.track.map(mr)}:null));case 4:case"end":return e.stop()}var i,r}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function Ur(e){return{likedSongs:{label:y.ag.get("shared.library.entity-row.liked-songs.title"),image:"https://misc.scdn.co/liked-songs/liked-songs-300.png"},yourEpisodes:null!=e&&e.includeYourEpisodes?{label:y.ag.get("shared.library.entity-row.your-episodes.title"),image:"https://misc.spotifycdn.com/your-episodes/SE-300.png"}:void 0,localFiles:null!=e&&e.includeLocalFiles?{image:"",label:y.ag.get("shared.library.entity-row.local-files.title")}:void 0,newEpisodes:void 0}}function Zr(e,t){return new Mr(new yn.Pn(e),new kn.Ul(e),new Pr.ListenLaterServiceClient(e),t)}var Br=n(81164);function Vr(e){return{type:_e.p.ARTIST,uri:e.link,name:e.name}}function Hr(e){var t,n,i,r,a,o=e.metadata;return{type:_e.p.TRACK,uid:e.rowId,addedAt:(a=e.addTime,new Date(1e3*a)),uri:o.link,name:o.name,album:(n=o.album,{type:_e.p.ALBUM,uri:n.link,name:n.name,artist:n.artist&&Vr(n.artist),images:(r=null===(i=n.covers)||void 0===i?void 0:i.standardLink,r?[{url:r,label:"standard"}]:[])}),artists:o.artist.map(Vr),discNumber:o.discNumber,trackNumber:o.trackNumber,duration:(t=1e3*o.length,{milliseconds:t}),isExplicit:!1,isLocal:o.isLocal,isPlayable:o.playable,is19PlusOnly:!1}}function Gr(e){return{path:e.path||null}}var Wr=n(70631),zr=n(51069),Kr=n(21206),Yr=n(46929),qr="showLocalFiles";function Qr(e){switch(e){case Wr.Y.UNKNOWN:return Br.G.UNKNOWN;case Wr.Y.ITUNES:return Br.G.ITUNES;case Wr.Y.DOWNLOADS:return Br.G.DOWNLOADS;case Wr.Y.MY_MUSIC:return Br.G.MY_MUSIC;case Wr.Y.WINDOWS_MUSIC_LIBRARY:return Br.G.WINDOWS_MUSIC_LIBRARY;case Wr.Y.ANDROID_MEDIA_STORE:case Wr.Y.UNRECOGNIZED:return Br.G.UNRECOGNIZED;default:return(0,He._)(e),Br.G.UNRECOGNIZED}}function Jr(e){switch(e){case Br.G.UNKNOWN:return Wr.Y.UNKNOWN;case Br.G.ITUNES:return Wr.Y.ITUNES;case Br.G.DOWNLOADS:return Wr.Y.DOWNLOADS;case Br.G.MY_MUSIC:return Wr.Y.MY_MUSIC;case Br.G.WINDOWS_MUSIC_LIBRARY:return Wr.Y.WINDOWS_MUSIC_LIBRARY;case Br.G.UNRECOGNIZED:return Wr.Y.UNRECOGNIZED;default:return(0,He._)(e),Wr.Y.UNRECOGNIZED}}var Xr=function(e){var t=(null==e?void 0:e.order)===zr.As.DESC?1:0;switch(null==e?void 0:e.field){case zr.bD.TITLE:return Wr.uh.NAME_ASC+t;case zr.bD.ADDED_AT:return Wr.uh.ADD_TIME_ASC+t;case zr.bD.ALBUM:return Wr.uh.ALBUM_NAME_ASC+t;case zr.bD.ARTIST:return Wr.uh.ARTIST_NAME_ASC+t;case zr.bD.DURATION:return Wr.uh.LENGTH_ASC+t;default:return Wr.uh.NO_SORT}};function $r(e){switch(e){case Wr.g1.NOT_FOUND:throw new Error("Error adding local files folder: Path not found!");case Wr.g1.UNKNOWN:case Wr.g1.UNRECOGNIZED:throw new Error("Error adding local files folder!");case Wr.g1.SUCCESS:case Wr.g1.NOT_CHANGED:return Promise.resolve();default:return(0,He.U)(e)}}var ea={rowId:!0,addTime:!0,track:{link:!0,name:!0,discNumber:!0,trackNumber:!0,length:!0,isLocal:!0,playable:!0,hasLyrics:!1,is19PlusOnly:!1,isAvailableInMetadataCatalogue:!1,isExplicit:!1,isPremiumOnly:!1,locallyPlayable:!1,playableLocalTrack:!1,playableTrackLink:!1,popularity:!1,previewId:!1,trackDescriptors:!1},album:{album:{link:!0,name:!0,covers:!0,copyrights:!1,isPremiumOnly:!1,numDiscs:!1,numTracks:!1,playability:!1,year:!1},artist:{link:!0,name:!0,isVariousArtists:!1,portraits:!1}},artist:{link:!0,name:!0,isVariousArtists:!1,portraits:!1},addedBy:void 0,canAddToCollection:!1,canBan:!1,displayCovers:!1,formatListAttributes:!1,inCollection:!1,isBanned:!1,localFile:!1,offline:!1},ta=function(){function e(t,n,i){(0,S.Z)(this,e),(0,a.Z)(this,"_totalLength",0),this._cosmos=n,this._localStorageAPI=i,this._client=new Wr._X(t),this._events=new Yr.L,this._subscribeToTracksUpdates()}var t,n,i,r,s,c;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canFetchAllTracks:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getIsEnabled",value:function(){var e=this._localStorageAPI.getItem(qr);return!(e instanceof Error)&&e}},{key:"setIsEnabled",value:function(e){this._localStorageAPI.setItem(qr,e),this._emitUpdate()}},{key:"subscribeIsEnabled",value:function(e){var t=this._localStorageAPI.getEvents(),n=function(t){t.data.key===qr&&e(t.data.value)};return t.addListener(Kr.u.UPDATE,n),function(){return t.removeListener(Kr.u.UPDATE,n)}}},{key:"browseForFolder",value:(c=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("sp://desktop/v1/browse_for_folder");case 2:return t=e.sent,e.abrupt("return",Gr(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getSources",value:(s=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.getSources({});case 2:return t=e.sent,e.abrupt("return",{defaultSources:t.defaultSources.map((function(e){return{enabled:e.enabled,id:Qr(e.id)}})),folders:t.folders});case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"addFolder",value:(r=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.addFolder({path:t.path});case 2:$r(e.sent.result);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"removeFolder",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.removeFolder({path:t.path});case 2:$r(e.sent.result);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"mutateDefaultSource",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.mutateDefaultSource({id:Jr(t.id),enabled:t.enabled});case 2:$r(e.sent.result);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getTracks",value:(t=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.getTracks({query:{sortBy:Xr(t),textFilter:null!=n?n:"",range:void 0,minLength:0,removeDuplicateLinks:!1},policy:ea});case 2:if(void 0===(i=e.sent).data){e.next=5;break}return e.abrupt("return",i.data.item.map(Hr));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"_subscribeToTracksUpdates",value:function(){var e=this,t=!0;this._client.subscribeTracks(Wr.Jp.fromPartial({query:{range:{start:0,length:0}}}),(function(n){var i,r;e._totalLength=null!==(i=null===(r=n.data)||void 0===r?void 0:r.unfilteredLength)&&void 0!==i?i:0,t?t=!1:e._emitUpdate()}))}},{key:"_emitUpdate",value:function(){this._events.emit(Yr.p.UPDATE,{isEnabled:this.getIsEnabled(),totalLength:this._totalLength})}}]),e}(),na=n(89879),ia=n(36935),ra=n(54739),aa=n(58073),oa=n(44089),sa=n(48850),la=n(98934);function ca(e,t){t=t.split(":").map((function(e){return encodeURIComponent(e)})).join(":");var n=(0,we.EC)(t,{parseUnknown:!0});if(null===n)throw new Error('URI "'.concat(t,'" is invalid!'));switch(n.type){case we.JM.TRACK:case we.JM.LOCAL:case we.JM.EPISODE:case we.JM.SHOW:case we.JM.PLAYLIST:case we.JM.PLAYLIST_V2:case we.JM.COLLECTION:case we.JM.COLLECTION_ALBUM:case we.JM.COLLECTION_ARTIST:return t;case we.JM.ALBUM:return(0,we.zJ)(e,n.id).toURI();case we.JM.ARTIST:return(0,we.g8)(e,n.id).toURI();default:return console.warn('URI "'.concat(t,'" is can not be downloaded!')),null}}function ua(e){var t=(0,we.EC)(e);if(null===t)throw new Error('URI "'.concat(e,'" is invalid!'));switch(t.type){case we.JM.ALBUM:case we.JM.ARTIST:case we.JM.TRACK:case we.JM.LOCAL:case we.JM.EPISODE:case we.JM.SHOW:case we.JM.PLAYLIST:case we.JM.PLAYLIST_V2:case we.JM.COLLECTION:return e;case we.JM.COLLECTION_ALBUM:return(0,we.jy)(t.id).toURI();case we.JM.COLLECTION_ARTIST:return(0,we.WN)(t.id).toURI();default:return console.warn('URI "'.concat(e,'" is can not be downloaded!')),null}}var da=function(e){return e[e.CONTEXT=0]="CONTEXT",e[e.ITEM=1]="ITEM",e[e.UNRECOGNIZED=2]="UNRECOGNIZED",e}({});function pa(e){var t=(0,we.EC)(e);if(null===t)return da.UNRECOGNIZED;switch(t.type){case we.JM.ALBUM:case we.JM.ARTIST:case we.JM.SHOW:case we.JM.PLAYLIST:case we.JM.PLAYLIST_V2:case we.JM.COLLECTION:case we.JM.COLLECTION_ALBUM:case we.JM.COLLECTION_ARTIST:return da.CONTEXT;case we.JM.TRACK:case we.JM.EPISODE:return da.ITEM;default:return da.UNRECOGNIZED}}function ma(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return(0,we.hn)(n)||e?sa.PQ.YES:t?sa.PQ.NO_PERMISSION_HIDE:sa.PQ.NO_PERMISSION}}var fa=n(23373),va=n(81804);function ga(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var ha=function(e){return e.ONLINE="online",e.OFFLINE="offline",e.FORCED_OFFLINE="forced_offline",e.RECONNECTING="reconnecting",e}(ha||{});function ka(e){switch(e.connection.status){case ha.ONLINE:return sa.T1.ONLINE;case ha.OFFLINE:return sa.T1.OFFLINE;case ha.FORCED_OFFLINE:return sa.T1.FORCED_OFFLINE;case ha.RECONNECTING:return sa.T1.RECONNECTING;default:return sa.T1.OFFLINE}}function ya(e){var t,n,i=e?parseInt(e.totalTracks,10):0,r=e?parseInt(e.downloadedTracks,10):0;return{syncing:null!==(t=null==e?void 0:e.downloading)&&void 0!==t&&t,percentage:null!==(n=null==e?void 0:e.percentComplete)&&void 0!==n?n:0,totalItems:i,currentItem:Math.min(r+1,i)}}function ba(e){switch(e){case aa.Q8.SUCCESS:return sa.jK.SUCCESS;case aa.Q8.GENERIC:return sa.jK.GENERIC;case aa.Q8.DISK_FULL:return sa.jK.DISK_FULL;case aa.Q8.EXPIRED:return sa.jK.EXPIRED;case aa.Q8.TOO_MANY_TRACKS:return sa.jK.TOO_MANY_TRACKS;case aa.Q8.NOT_ALLOWED:return sa.jK.NOT_ALLOWED;case aa.Q8.CONNECTION_DISABLED:return sa.jK.CONNECTION_DISABLED;case aa.Q8.DEVICE_LIMIT_REACHED:return sa.jK.DEVICE_LIMIT_REACHED;case aa.Q8.UNRECOGNIZED:default:return sa.jK.UNRECOGNIZED}}function Sa(e){var t=[];return(0,fa.PP)((function(n){t.forEach((function(e){return e.cancel()})),t=[],(0,va.s)(Array.from(n.keys()),(function(n){return t.push(e(n))}),100)}),100)}var xa=function(e){(0,O.Z)(n,e);var t=ga(n);function n(e,i,r,a,o){var s;return(0,S.Z)(this,n),(s=t.call(this))._username=e,s._cosmos=i,s._offline=r,s._productState=a,s._cache=o,s.setupConnectivityEvents(),s.setupErrorEvents(),s.setupCapabilitiesEvents(),s.setupTotalProgressEvents(),s.setupContextProgressEvents(),s.setupContextAndItemAvailabilityEvents(),s}return(0,x.Z)(n,[{key:"setupConnectivityEvents",value:function(){var e=this,t=0,n=null;this.onAddListener(la.X.UPDATE_CONNECTIVITY,(function(){1==++t&&(n=e._cosmos.sub("sp://connectivity-manager/v1/connection",(function(t){return e.emit(la.X.UPDATE_CONNECTIVITY,{connectivity:ka(t)})})))})),this.onRemoveListener(la.X.UPDATE_CONNECTIVITY,(function(){var e;0==--t&&(null===(e=n)||void 0===e||e.cancel(),n=null)}))}},{key:"setupErrorEvents",value:function(){var e=this,t=0,n=null;this.onAddListener(la.X.ERROR,(function(){1==++t&&(n=e._offline.subscribeError({},(function(t){var n=t.code;return e.emit(la.X.ERROR,{code:ba(n)})})))})),this.onRemoveListener(la.X.ERROR,(function(){var e;0==--t&&(null===(e=n)||void 0===e||e.cancel(),n=null)}))}},{key:"setupCapabilitiesEvents",value:function(){var e=this,t=0,n=null;this.onAddListener(la.X.UPDATE_CAPABILITIES,(function(){1==++t&&(n=e._productState.subValues({},(function(t){var n=t.pairs;n.offline&&e.emit(la.X.UPDATE_CAPABILITIES,{capabilites:{canDownload:ma("1"===n.offline,"1"===n["streaming-only-premium"])}})})))})),this.onRemoveListener(la.X.UPDATE_CAPABILITIES,(function(){var e;0==--t&&(null===(e=n)||void 0===e||e.cancel(),n=null)}))}},{key:"setupTotalProgressEvents",value:function(){var e=this,t=0,n=null;this.onAddListener(la.X.UPDATE_TOTAL_PROGRESS,(function(){1==++t&&(n=e._offline.subscribeTotalProgress({},(function(t){var n=t.progress;return e.emit(la.X.UPDATE_TOTAL_PROGRESS,{progress:ya(n)})})))})),this.onRemoveListener(la.X.UPDATE_TOTAL_PROGRESS,(function(){var e;0==--t&&(null===(e=n)||void 0===e||e.cancel(),n=null)}))}},{key:"setupContextProgressEvents",value:function(){var e=this,t=Sa((function(t){return e._offline.subscribeContextsProgress({uris:t},(function(t){return t.progresses.forEach((function(t){return function(t){var n=ua(t.uri);null!==n&&e.emit(la.X.UPDATE_CONTEXT_PROGRESS,{uri:n,progress:ya(t.progress)})}(t)}))}))}));this.onAddListener(la.X.UPDATE_CONTEXT_PROGRESS,(function(n){var i=ca(e._username,n.data.options.uri);null!==i&&t.subscribe(i)})),this.onRemoveListener(la.X.UPDATE_CONTEXT_PROGRESS,(function(n){var i=ca(e._username,n.data.options.uri);null!==i&&t.unsubscribe(i)}))}},{key:"setupContextAndItemAvailabilityEvents",value:function(){var e=this,t=function(t){var n=ua(t.uri);if(null!==n){var i=function(e){switch(e.state){case aa.sK.DOWNLOADED:return sa.Om.YES;case aa.sK.DOWNLOADING:return sa.Om.DOWNLOADING;case aa.sK.WAITING:case aa.sK.REQUESTED:return sa.Om.WAITING;case aa.sK.NOT_DOWNLOADED:case aa.sK.ERROR:case aa.sK.UNRECOGNIZED:default:return sa.Om.NO}}(t);e._cache.set(n,i),e.emit(la.X.UPDATE_AVAILABILITY,{uri:n,availability:i})}},n=Sa((function(n){return e._offline.subscribeContexts({uris:n},(function(e){return e.contexts.forEach((function(e){void 0!==e.context&&t(e.context)}))}))})),i=function(t){var n=ua(t.uri);if(null!==n){var i=function(e){switch(e.state){case aa.Jt.DOWNLOADED:return sa.Om.YES;case aa.Jt.DOWNLOADING:return sa.Om.DOWNLOADING;case aa.Jt.WAITING_FOR_REDOWNLOAD:case aa.Jt.WAITING:case aa.Jt.WAITING_LIMIT_EXCEEDED:return sa.Om.WAITING;case aa.Jt.NOT_DOWNLOADED:case aa.Jt.ERROR:case aa.Jt.DOWNLOADED_EXPIRED:case aa.Jt.UNRECOGNIZED:default:return sa.Om.NO}}(t);e._cache.set(n,i),e.emit(la.X.UPDATE_AVAILABILITY,{uri:n,availability:i})}},r=Sa((function(t){return e._offline.subscribeItems({uris:t},(function(e){return e.items.forEach((function(e){return i(e)}))}))}));this.onAddListener(la.X.UPDATE_AVAILABILITY,(function(t){var i=ca(e._username,t.data.options.uri);if(null!==i){var a=pa(i);a===da.CONTEXT?n.subscribe(i):a===da.ITEM&&r.subscribe(i)}})),this.onRemoveListener(la.X.UPDATE_AVAILABILITY,(function(t){var i=ca(e._username,t.data.options.uri);if(null!==i){var a=pa(i);a===da.CONTEXT?n.unsubscribe(i):a===da.ITEM&&r.unsubscribe(i)}}))}}]),n}(la.N),Oa=(n(76626),n(11451)),wa=n(9587),Na=(0,wa.y)(aa.sK);function _a(e){if(Na(e))switch(e){case aa.sK.UNRECOGNIZED:return sa.Om.NO;case aa.sK.REQUESTED:case aa.sK.WAITING:return sa.Om.WAITING;case aa.sK.DOWNLOADING:return sa.Om.DOWNLOADING;case aa.sK.DOWNLOADED:return sa.Om.YES;case aa.sK.ERROR:case aa.sK.NOT_DOWNLOADED:return sa.Om.NO;default:return(0,He._)(e),sa.Om.NO}return sa.Om.NO}function Ea(e){var t=e.entityInfo;if(void 0===t)return null;var n=(0,we.EC)(t.uri);if(null===n)return null;switch(n.type){case we.JM.ARTIST:case we.JM.COLLECTION_ARTIST:return function(e){var t;return{type:_e.p.ARTIST,uri:null!==(t=ua(e.uri))&&void 0!==t?t:"",name:e.name,images:[{url:e.imageUri,label:"standard"}]}}(t);case we.JM.ALBUM:case we.JM.COLLECTION_ALBUM:return function(e,t){var n,i,r;return{type:_e.p.ALBUM,uri:null!==(n=ua(e.uri))&&void 0!==n?n:"",name:e.name,artists:[{type:_e.p.ARTIST,uri:null!==(i=null==t?void 0:t.artistUri)&&void 0!==i?i:"",name:null!==(r=null==t?void 0:t.artistName)&&void 0!==r?r:""}],images:[{url:e.imageUri,label:"standard"}]}}(t,e.album);case we.JM.SHOW:return function(e,t){var n;return{type:_e.p.SHOW,uri:e.uri,name:e.name,publisher:null!==(n=null==t?void 0:t.creatorName)&&void 0!==n?n:"",images:[{url:e.imageUri,label:"standard"}]}}(t,e.show);case we.JM.PLAYLIST:case we.JM.PLAYLIST_V2:return function(e,t){var n;return{type:_e.p.PLAYLIST,uri:e.uri,name:e.name,creatorName:null!==(n=null==t?void 0:t.creatorName)&&void 0!==n?n:"",images:[{url:e.imageUri,label:"standard"}]}}(t,e.playlist);case we.JM.COLLECTION:return function(e){return{type:e.uri.endsWith("your-episodes")?_e.p.YOUR_EPISODES:_e.p.LIKED_SONGS,uri:e.uri}}(t);default:return null}}function Ca(e){var t=e.contexts,n=e.devices,i=Object.fromEntries(t.map((function(e){var t=e.device,n=e.context;return[null==t?void 0:t.cacheId,n]})));return n.filter((function(e){var t=e.clientId;return sa.wk.includes(t)})).map((function(e){var t,n,r,a,o=e.deviceId,s=e.cacheId,l=e.isLocal,c=e.name,u=e.type,d=e.lastSeenAt;return{deviceId:o,cacheId:s,deviceType:u,clientPlatform:e.platform,isLocal:l,name:c,type:(0,Oa.t)(u),lastSeenAtMs:null!==(t=null==d?void 0:d.getTime())&&void 0!==t?t:0,contextDownloadAvailability:_a(null===(n=i[s])||void 0===n?void 0:n.state),contextDownloadPercentage:null!==(r=null===(a=i[s])||void 0===a?void 0:a.percentComplete)&&void 0!==r?r:0}}))}var Pa=n(98328),Ia=n(45613),ja=function(){function e(t,n,i,r,o,s){var l=this;(0,S.Z)(this,e),(0,a.Z)(this,"_cache",new Map),(0,a.Z)(this,"_canDownload",ma()),this._username=t,this._storage=i,this._offline=r,this._yourLibrary=o,this._productState=s,this._events=new xa(this._username,n,this._offline,this._productState,this._cache),this._events.addListener(la.X.UPDATE_CAPABILITIES,(function(e){return l._canDownload=e.data.capabilites.canDownload}))}var t,n,i,r,s,c,u;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){var e=this;return{canDownload:function(t){return e._canDownload(t)},canRemoteDownload:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getDownloads",value:(u=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._yourLibrary.all(yn.N6.fromPartial({header:{allPlaylists:!0,filters:{filter:[bn.YourLibraryFilters_Filter.DOWNLOADED]},length:1e3}}));case 2:return t=e.sent,e.abrupt("return",t.entity.map(Ea).filter(Pa.K));case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getAvailabilitySync",value:function(e){var t;return null!==(t=this._cache.get(e))&&void 0!==t?t:sa.Om.NO}},{key:"getContextForDevices",value:(c=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._offline.getContextForDevices(Ia.GetContextForDevicesRequest.fromPartial({uri:t}));case 2:return n=e.sent,e.abrupt("return",Ca(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"addDownload",value:(s=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=ca(this._username,t))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._offline.addDownload(aa.db.fromPartial({uri:i,device:n}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"removeDownload",value:(r=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=ca(this._username,t))){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._offline.removeDownload(aa.db.fromPartial({uri:i,device:n}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"removeAllDownloads",value:(i=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._offline.removeAllDownloads({});case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"removeCache",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.deleteUnlockedItems({});case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getStatistics",value:(t=(0,o.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.getStats({});case 2:return t=e.sent,e.abrupt("return",{currentSizeMB:parseInt(t.currentSize,10),currentLockedSizeMB:parseInt(t.currentLockedSize,10)});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function Aa(e,t,n){var i=new oa.KQ(n),r=new aa.BK(n),a=new yn.Pn(n),o=new f.ProductStateClient(n);return new ja(e,t,i,r,a,o)}n(77956);var Ta=n(37109),Da=n(68976),Ra=(n(66557),function(){function e(){(0,S.Z)(this,e)}return(0,x.Z)(e,[{key:"getCurrentDevice",value:function(){return Promise.resolve(null)}},{key:"getDevices",value:function(){return Promise.resolve([])}},{key:"getFiltersEvents",value:function(){return null}},{key:"setCurrentDevice",value:function(){return Promise.resolve(void 0)}},{key:"getSavedDevices",value:function(){return[]}},{key:"removeSavedDevice",value:function(){}}]),e}());function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ma=function(){function e(t,n,i,r,s,c){var u=this;(0,S.Z)(this,e),(0,a.Z)(this,"_info",null),(0,a.Z)(this,"_isLocal",!1),(0,a.Z)(this,"_isAvailable",!1),(0,a.Z)(this,"_volume",-1),this._playbackService=t,this._storageService=n,this._builder=i,this._localStorageAPI=r,this._transport=s,this._connectServiceClient=c,this._events=new Da.N,this._filters=new Ra,this._playbackService.subPlaybackInfo({},function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u._info=t,u._events.emit(Da.r.INFO,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._playbackService.subVolume({},(function(e){var t=e.volume;u._volume=t,u.emitVolume()})),this._connectServiceClient&&this._connectServiceClient.state(d.DP.fromPartial({includeLocalDevice:!0}),(function(e){var t=e.devices.find((function(e){return e.isActive}));t?(u._isLocal=t.isSelf,u._isAvailable=t.supportsVolume):(u._isLocal=!1,u._isAvailable=!0),u.emitVolume()}))}var t,n,i,r,s,c,u,m,f;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{canChangeVolume:!0,canGetPlaybackInfo:!0,canGetFiles:!0,puffinEnabled:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getVolume",value:(f=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getVolumeInternal());case 1:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"setVolume",value:(m=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._playbackService.setVolume({source:p.tp.USER,volume:t,connectLoggingParams:void 0});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"raiseVolume",value:(u=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._playbackService.raiseVolume({source:p.tp.USER,connectLoggingParams:void 0});case 1:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"lowerVolume",value:(c=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._playbackService.lowerVolume({source:p.tp.USER,connectLoggingParams:void 0});case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getPlaybackInfo",value:(s=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._info);case 1:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"getFiles",value:(r=(0,o.Z)(l().mark((function e(t){var n,i,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._playbackService.getFiles({uri:t});case 2:if((n=e.sent).status===p.ao.GETFILES_OK){e.next=5;break}throw new Error("Failed to get files for URI '".concat(t,"'. Error code: ").concat(n.status));case 5:return e.next=7,Promise.all(n.files.map((function(e){var t=e.fileId;return r._storageService.getFileRanges({fileId:t,realm:Ta.Realm.STREAM})})));case 7:return i=e.sent,e.abrupt("return",n.files.map((function(e,t){return La(La({},e),{},{byteSize:i[t].byteSizeKnown?Number.parseInt(i[t].byteSize,10):-1,byteRanges:i[t].ranges.map((function(e){return{fromByte:Number.parseInt(e.fromByte,10),toByte:Number.parseInt(e.toByte,10)}}))})})));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getVolumeInternal",value:function(){return this._isAvailable?this._volume:-1}},{key:"emitVolume",value:function(){this._events.emit(Da.r.VOLUME,{volume:this.getVolumeInternal(),isLocal:this._isLocal})}},{key:"getDevices",value:(i=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._filters.getDevices());case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getCurrentDevice",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._filters.getCurrentDevice());case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setCurrentDevice",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._filters.setCurrentDevice(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getSavedDevices",value:function(){return this._filters.getSavedDevices()}},{key:"removeSavedDevice",value:function(e){return this._filters.removeSavedDevice(e)}},{key:"getFiltersEvents",value:function(){return this._filters.getFiltersEvents()}}]),e}();function Ua(e,t,n,i){var r=new p.No(e),a=(0,oa.tu)(e);return new Ma(r,a,t,n,e,i)}n(87859);var Za=n(60930),Ba=function(e){return e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.SMART_SHUFFLE=2]="SMART_SHUFFLE",e}({}),Va=n(24122),Ha=n(15520),Ga="sp://core-playlist/v1";function Wa(e){return void 0===e?[]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){var t=e.url,n=e.label;return t&&n})).map((function(e){return{url:e.url,label:e.label}}))}({url:e.image_url,label:"standard"},{url:e.image_small_url,label:"small"},{url:e.image_large_url,label:"large"},{url:e.image_xlarge_url,label:"xlarge"})}function za(e){return{milliseconds:(t=e,n=-1,t?parseInt(t,10):n)};var t,n}function Ka(e){return"true"===(null==e?void 0:e.toLowerCase())}var Ya=9;function qa(e,t){var n,i;if(void 0===e)return[];for(var r="artist_uri",a="artist_name",o=[{type:t,uri:null!==(n=e[r])&&void 0!==n?n:"",name:null!==(i=e[a])&&void 0!==i?i:""}],s=1;s<=Ya;++s){var l,c,u="".concat(r,":").concat(s),d="".concat(a,":").concat(s);if(!e[u]||!e[d])break;o.push({type:t,uri:null!==(l=e[u])&&void 0!==l?l:"",name:null!==(c=e[d])&&void 0!==c?c:""})}return o}function Qa(e){var t,n;return{type:_e.p.ALBUM,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:null!==(n=e.album_title)&&void 0!==n?n:"",images:Wa(e)}}function Ja(e){var t,n;return{type:_e.p.SHOW,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:null!==(n=e.album_title)&&void 0!==n?n:"",images:Wa(e)}}function Xa(e){var t,n;return{type:_e.p.ALBUM,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:null!==(n=e.album_title)&&void 0!==n?n:"",images:Wa(e)}}function $a(e){var t,n;return{type:_e.p.AUDIOBOOK,uri:null!==(t=e.album_uri)&&void 0!==t?t:"",name:null!==(n=e.album_title)&&void 0!==n?n:"",images:Wa(e)}}function eo(e,t){return(0,we.wj)(t.uri)||(0,we.dB)(t.uri)?function(e,t){var n,i,r=t.metadata;return{type:_e.p.TRACK,uri:t.uri,uid:t.uid,name:null!==(n=r.title)&&void 0!==n?n:"",mediaType:null!==(i=r["media.type"])&&void 0!==i?i:"audio",duration:za(r.duration),album:Qa(r),artists:qa(r,_e.p.ARTIST),isLocal:Ka(r.is_local),isExplicit:Ka(r.is_explicit),is19PlusOnly:Ka(r.is_19_plus),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.album.images}}}(e,t):(0,we.hn)(t.uri)?function(e){return"true"===e.metadata.is_audiobook_chapter}(t)?function(e,t){var n,i,r=t.metadata;return{type:_e.p.CHAPTER,uri:t.uri,uid:t.uid,name:null!==(n=r.title)&&void 0!==n?n:"",mediaType:null!==(i=r["media.type"])&&void 0!==i?i:"audio",duration:za(r.duration),book:$a(r),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.book.images}}}(e,t):function(e,t){var n,i,r=t.metadata;return{type:_e.p.EPISODE,uri:t.uri,uid:t.uid,name:null!==(n=r.title)&&void 0!==n?n:"",mediaType:null!==(i=r["media.type"])&&void 0!==i?i:"audio",duration:za(r.duration),show:Ja(r),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.show.images}}}(e,t):(0,we.mg)(t.uri)?function(e,t){var n,i,r,a,o,s,l=t.metadata,c=Ka(l.is_podcast_advertisement),u=null!==(n=l.artist_name)&&void 0!==n?n:null;return{type:_e.p.AD,uri:t.uri,uid:t.uid,title:null!==(i=l.title)&&void 0!==i?i:null,advertiser:c?u:null!==(r=l.advertiser)&&void 0!==r?r:null,url:null!==(a=l.click_url)&&void 0!==a?a:null,id:null!==(o=l.ad_id)&&void 0!==o?o:null,mediaType:null!==(s=l["media.type"])&&void 0!==s?s:"audio",duration:za(l.duration),images:Wa(l),videoOrientation:l["ad.video_orientation"],isPodcastAd:c,isSkippableAd:Ka(l["ad.is_skippable"]),isTestAd:Ka(l["ad.is_test"]),provider:e.provider.length>0?e.provider:null,metadata:t.metadata}}(e,t):function(e,t){var n,i,r,a=t.metadata;return{type:_e.p.UNKNOWN,uri:t.uri,uid:null!==(n=t.uid)&&void 0!==n?n:null,name:null!==(i=a.title)&&void 0!==i?i:"",mediaType:null!==(r=a["media.type"])&&void 0!==r?r:"audio",duration:za(a.duration),album:Xa(a),artists:qa(a,_e.p.ARTIST),provider:e.provider.length>0?e.provider:null,metadata:t.metadata,get images(){return this.album.images}}}(e,t)}var to={canPause:!0,canResume:!0,canSeek:!0,canSkipPrevious:!0,canSkipNext:!0,canToggleRepeatContext:!0,canToggleRepeatTrack:!0,canToggleShuffle:!0,disallowPausingReasons:[],disallowResumingReasons:[],disallowSeekingReasons:[],disallowSkippingPreviousReasons:[],disallowSkippingNextReasons:[],disallowTogglingRepeatContextReasons:[],disallowTogglingRepeatTrackReasons:[],disallowTogglingShuffleReasons:[],disallowTransferringPlaybackReasons:[]};function no(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return Va.Fd.includes(e)?e:"unknown"}))}function io(e){return{canPause:0===e.disallowPausingReasons.length,canResume:0===e.disallowResumingReasons.length,canSeek:0===e.disallowSeekingReasons.length,canSkipPrevious:0===e.disallowSkippingPrevReasons.length,canSkipNext:0===e.disallowSkippingNextReasons.length,canToggleRepeatContext:0===e.disallowTogglingRepeatContextReasons.length,canToggleRepeatTrack:0===e.disallowTogglingRepeatTrackReasons.length,canToggleShuffle:0===e.disallowTogglingShuffleReasons.length,disallowPausingReasons:no(e.disallowPausingReasons),disallowResumingReasons:no(e.disallowResumingReasons),disallowSeekingReasons:no(e.disallowSeekingReasons),disallowSkippingPreviousReasons:no(e.disallowSkippingPrevReasons),disallowSkippingNextReasons:no(e.disallowSkippingNextReasons),disallowTogglingRepeatContextReasons:no(e.disallowTogglingRepeatContextReasons),disallowTogglingRepeatTrackReasons:no(e.disallowTogglingRepeatTrackReasons),disallowTogglingShuffleReasons:no(e.disallowTogglingShuffleReasons),disallowTransferringPlaybackReasons:no(e.disallowTransferringPlaybackReasons)}}var ro={bitrateLevel:Va.M4.UNKNOWN,strategy:Va.kZ.UNKNOWN,targetBitrateLevel:Va.M4.UNKNOWN,targetBitrateAvailable:!1,hifiStatus:Va.dR.NONE};function ao(e){var t=function(e){switch(e){case Za.oW.LOW:return Va.M4.LOW;case Za.oW.NORMAL:return Va.M4.NORMAL;case Za.oW.HIGH:return Va.M4.HIGH;case Za.oW.VERY_HIGH:return Va.M4.VERY_HIGH;case Za.oW.HIFI:return Va.M4.HIFI;default:return Va.M4.UNKNOWN}};return{bitrateLevel:t(e.bitrateLevel),strategy:function(){switch(e.strategy){case Za.dj.BEST_MATCHING:return Va.kZ.BEST_MATCHING;case Za.dj.BACKEND_ADVISED:return Va.kZ.BACKEND_ADVISED;case Za.dj.OFFLINED_FILE:return Va.kZ.OFFLINED_FILE;case Za.dj.CACHED_FILE:return Va.kZ.CACHED_FILE;case Za.dj.LOCAL_FILE:return Va.kZ.LOCAL_FILE;default:return Va.kZ.UNKNOWN}}(),targetBitrateLevel:t(e.targetBitrateLevel),targetBitrateAvailable:e.targetBitrateAvailable,hifiStatus:function(){switch(e.hifiStatus){case Za.Td.UNRECOGNIZED:case Za.Td.NONE:default:return Va.dR.NONE;case Za.Td.OFF:return Va.dR.OFF;case Za.Td.ON:return Va.dR.ON}}()}}function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lo(e){var t=e.uri,n=e.url,i=e.nextPageUrl,r=e.items,a=e.metadata;if(void 0!==n)return Za.uF.fromPartial({pageUrl:n,nextPageUrl:i,metadata:so(so({},a),{},{page_uri:t}),isLoading:!0});if(void 0!==r)return Za.uF.fromPartial({tracks:r.map(co),nextPageUrl:i,metadata:a,isLoading:!1});throw new Error("Invalid 'ContextPage' provided! Either 'url' or 'items' needs to be set.")}function co(e){var t,n;return Za.nh.fromPartial({uid:null!==(t=e.uid)&&void 0!==t?t:"",uri:e.uri,metadata:null!==(n=e.metadata)&&void 0!==n?n:{}})}var uo=n(16354),po=n(12650);function mo(e){return new uo.jB(function(e){switch(e){case po.ContextPlayerError_ErrorCode.SUCCESS:return uo.cg.SUCCESS;case po.ContextPlayerError_ErrorCode.PLAYBACK_STUCK:return uo.cg.PLAYBACK_STUCK;case po.ContextPlayerError_ErrorCode.PLAYBACK_ERROR:return uo.cg.PLAYBACK_ERROR;case po.ContextPlayerError_ErrorCode.LICENSE_CHANGE:return uo.cg.LICENSE_CHANGE;case po.ContextPlayerError_ErrorCode.PLAY_RESTRICTED:return uo.cg.PLAY_RESTRICTED;case po.ContextPlayerError_ErrorCode.STOP_RESTRICTED:return uo.cg.STOP_RESTRICTED;case po.ContextPlayerError_ErrorCode.UPDATE_RESTRICTED:return uo.cg.UPDATE_RESTRICTED;case po.ContextPlayerError_ErrorCode.PAUSE_RESTRICTED:return uo.cg.PAUSE_RESTRICTED;case po.ContextPlayerError_ErrorCode.RESUME_RESTRICTED:return uo.cg.RESUME_RESTRICTED;case po.ContextPlayerError_ErrorCode.SKIP_TO_PREV_RESTRICTED:return uo.cg.SKIP_TO_PREV_RESTRICTED;case po.ContextPlayerError_ErrorCode.SKIP_TO_NEXT_RESTRICTED:return uo.cg.SKIP_TO_NEXT_RESTRICTED;case po.ContextPlayerError_ErrorCode.SKIP_TO_NON_EXISTENT_TRACK:return uo.cg.SKIP_TO_NON_EXISTENT_TRACK;case po.ContextPlayerError_ErrorCode.SEEK_TO_RESTRICTED:return uo.cg.SEEK_TO_RESTRICTED;case po.ContextPlayerError_ErrorCode.TOGGLE_REPEAT_CONTEXT_RESTRICTED:return uo.cg.TOGGLE_REPEAT_CONTEXT_RESTRICTED;case po.ContextPlayerError_ErrorCode.TOGGLE_REPEAT_TRACK_RESTRICTED:return uo.cg.TOGGLE_REPEAT_TRACK_RESTRICTED;case po.ContextPlayerError_ErrorCode.SET_OPTIONS_RESTRICTED:return uo.cg.SET_OPTIONS_RESTRICTED;case po.ContextPlayerError_ErrorCode.TOGGLE_SHUFFLE_RESTRICTED:return uo.cg.TOGGLE_SHUFFLE_RESTRICTED;case po.ContextPlayerError_ErrorCode.SET_QUEUE_RESTRICTED:return uo.cg.SET_QUEUE_RESTRICTED;case po.ContextPlayerError_ErrorCode.INTERRUPT_PLAYBACK_RESTRICTED:return uo.cg.INTERRUPT_PLAYBACK_RESTRICTED;case po.ContextPlayerError_ErrorCode.ONE_TRACK_UNPLAYABLE:return uo.cg.ONE_TRACK_UNPLAYABLE;case po.ContextPlayerError_ErrorCode.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:return uo.cg.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED;case po.ContextPlayerError_ErrorCode.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return uo.cg.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED;case po.ContextPlayerError_ErrorCode.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED:return uo.cg.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED;case po.ContextPlayerError_ErrorCode.QUEUE_REVISION_MISMATCH:return uo.cg.QUEUE_REVISION_MISMATCH;case po.ContextPlayerError_ErrorCode.VIDEO_PLAYBACK_ERROR:return uo.cg.VIDEO_PLAYBACK_ERROR;case po.ContextPlayerError_ErrorCode.VIDEO_GEOGRAPHICALLY_RESTRICTED:return uo.cg.VIDEO_GEORESTRICTED;case po.ContextPlayerError_ErrorCode.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return uo.cg.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case po.ContextPlayerError_ErrorCode.VIDEO_UNSUPPORTED_CLIENT_VERSION:return uo.cg.VIDEO_UNSUPPORTED_CLIENT_VERSION;case po.ContextPlayerError_ErrorCode.VIDEO_UNSUPPORTED_KEY_SYSTEM:return uo.cg.VIDEO_UNSUPPORTED_KEY_SYSTEM;case po.ContextPlayerError_ErrorCode.VIDEO_MANIFEST_DELETED:return uo.cg.VIDEO_MANIFEST_DELETED;case po.ContextPlayerError_ErrorCode.VIDEO_COUNTRY_RESTRICTED:return uo.cg.VIDEO_COUNTRY_RESTRICTED;case po.ContextPlayerError_ErrorCode.VIDEO_UNAVAILABLE:return uo.cg.VIDEO_UNAVAILABLE;case po.ContextPlayerError_ErrorCode.VIDEO_CATALOGUE_RESTRICTED:return uo.cg.VIDEO_CATALOGUE_RESTRICTED;case po.ContextPlayerError_ErrorCode.INVALID:return uo.cg.INVALID;case po.ContextPlayerError_ErrorCode.TIMEOUT:return uo.cg.TIMEOUT;case po.ContextPlayerError_ErrorCode.PLAYBACK_REPORTING_ERROR:return uo.cg.PLAYBACK_REPORTING_ERROR;case po.ContextPlayerError_ErrorCode.UNKNOWN:return uo.cg.UNKNOWN;case po.ContextPlayerError_ErrorCode.UNRECOGNIZED:default:return uo.cg.UNRECOGNIZED}}(e.code),e.data.reasons?e.data.reasons.split(","):[])}function fo(e){var t,n,i,r,a;return Za.Yr.fromPartial({featureIdentifier:null!==(t=e.featureIdentifier)&&void 0!==t?t:"",featureVersion:null!==(n=e.featureVersion)&&void 0!==n?n:"",referrerIdentifier:null!==(i=e.referrerIdentifier)&&void 0!==i?i:"",viewUri:null!==(r=e.viewURI)&&void 0!==r?r:"",externalReferrer:null!==(a=e.externalReferrer)&&void 0!==a?a:""})}function vo(e){return Za.aS.fromPartial({disallowPausingReasons:null==e?void 0:e.disallowPausingReasons,disallowResumingReasons:null==e?void 0:e.disallowResumingReasons,disallowSeekingReasons:null==e?void 0:e.disallowSeekingReasons,disallowSkippingPrevReasons:null==e?void 0:e.disallowSkippingPreviousReasons,disallowSkippingNextReasons:null==e?void 0:e.disallowSkippingNextReasons,disallowTogglingRepeatContextReasons:null==e?void 0:e.disallowTogglingRepeatContextReasons,disallowTogglingRepeatTrackReasons:null==e?void 0:e.disallowTogglingRepeatTrackReasons,disallowTogglingShuffleReasons:null==e?void 0:e.disallowTogglingShuffleReasons})}function go(e,t){var n=t.shuffle,i=t.repeat,r=Za.ST.fromPartial({});return void 0!==n?r.shufflingContext={value:n}:(0,we.RS)(e.uri)&&(r.shufflingContext={value:!1}),void 0!==i?(r.repeatingContext={value:i!==Va.zq.REPEAT_NONE},r.repeatingTrack={value:i===Va.zq.REPEAT_TRACK}):(0,we.RS)(e.uri)&&(r.repeatingContext={value:!1},r.repeatingTrack={value:!1}),r}function ho(e,t){return Za.Nr.fromPartial({skipTo:void 0!==t.skipTo?(n=t.skipTo,{pageUrl:null!==(i=n.pageURL)&&void 0!==i?i:"",pageIndex:void 0!==n.pageIndex?{value:n.pageIndex.toString()}:void 0,trackUid:null!==(r=n.uid)&&void 0!==r?r:"",trackUri:null!==(a=n.uri)&&void 0!==a?a:"",trackIndex:void 0!==n.index?{value:n.index.toString()}:void 0}):void 0,seekTo:void 0!==t.seekTo?{value:t.seekTo.toString()}:void 0,playerOptionsOverride:go(e,t)});var n,i,r,a}function ko(e){var t,n,i,r;return{feature_identifier:e.featureIdentifier,feature_version:null!==(t=e.featureVersion)&&void 0!==t?t:"",referrer_identifier:null!==(n=e.referrerIdentifier)&&void 0!==n?n:"",view_uri:null!==(i=e.viewURI)&&void 0!==i?i:"",external_referrer:null!==(r=e.externalReferrer)&&void 0!==r?r:"",device_identifier:""}}function yo(e,t){var n={},i=function(e,t){var n=t.shuffle,i=t.repeat,r={};return void 0!==n?r.shuffling_context=n:(0,we.RS)(e.uri)&&(r.shuffling_context=!1),void 0!==i?(r.repeating_context=i!==Va.zq.REPEAT_NONE,r.repeating_track=i===Va.zq.REPEAT_TRACK):(0,we.RS)(e.uri)&&(r.repeating_context=!1,r.repeating_track=!1),r}(e,t);0!==Object.keys(i).length&&(n.player_options_override=i);var r=function(e){var t=e.skipTo,n=null!=t?t:{},i=n.pageURL,r=n.pageIndex,a=n.uid,o=n.uri,s=n.index;if(void 0!==a||void 0!==o||void 0!==s||void 0!==r||void 0!==i){var l={};return void 0!==i&&(l.page_url=i),void 0!==r&&(l.page_index=r),void 0!==a&&(l.track_uid=a),void 0!==o&&(l.track_uri=o),void 0!==s&&(l.track_index=s),l}}(t);return void 0!==r&&(n.skip_to=r),void 0!==t.seekTo&&(n.seek_to=t.seekTo),n}function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.set({entries:(0,a.Z)({},"audio.episode.speed",{number:String(100*n)})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t,n,i){return No.apply(this,arguments)}function No(){return No=(0,o.Z)(l().mark((function e(t,n,i,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("".concat(Ga,"/playlist/").concat(n.uri,"/play"),So(So({prepare_play_options:yo(n,r),play_origin:ko(i)},n.metadata?{context_metadata:n.metadata}:{}),{},{logging_params:(a=r.loggingParams,{command_initiated_time:Date.now(),interaction_ids:null!=a&&a.interactionId?[a.interactionId]:[],page_instance_ids:null!=a&&a.pageInstanceId?[a.pageInstanceId]:[]})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}var a}),e)}))),No.apply(this,arguments)}var _o=n(48027),Eo=n(31132);function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e){var t=e.uri,n=e.url,i=e.nextPageUrl,r=e.items,a=e.metadata;if(void 0!==n)return Eo.ContextPage.fromPartial({pageUrl:n,nextPageUrl:i,metadata:Po(Po({},a),{},{page_uri:t}),isLoaded:!1});if(void 0!==r)return Eo.ContextPage.fromPartial({tracks:r.map(co),nextPageUrl:i,metadata:a,isLoaded:!0});throw new Error("Invalid 'ContextPage' provided! Either 'url' or 'items' needs to be set.")}function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function To(e){if(e.error!==Za.a4.OK)throw new Error("Command failed with code '".concat(e.error,"' and reasons '").concat(e.reasons,"'"));return{}}function Do(e){return Za.yb.fromPartial({commandInitiatedTime:{value:"".concat(Date.now())},interactionIds:null!=e&&e.interactionId?[e.interactionId]:void 0,pageInstanceIds:null!=e&&e.pageInstanceId?[e.pageInstanceId]:void 0})}function Ro(e,t,n,i){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,o.Z)(l().mark((function e(t,n,i,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.play(Za.l7.fromPartial({preparePlayRequest:Za.vy.fromPartial({context:(a=n,o=void 0,s=void 0,l=void 0,c=void 0,u=void 0,o=a.uri,s=a.url,l=a.pages,c=a.metadata,u=a.restrictions,void 0!==l?Za._y.fromPartial({uri:o,url:s,pages:l.map(lo),metadata:c,restrictions:vo(u),isLoading:!1}):Za._y.fromPartial({uri:o,url:null!=s?s:"context://".concat(o),metadata:c,isLoading:!0})),playOrigin:fo(i),options:ho(n,r)}),loggingParams:Do(r.loggingParams)})).then(To));case 1:case"end":return e.stop()}var a,o,s,l,c,u}),e)})))).apply(this,arguments)}function Lo(e,t,n,i){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,o.Z)(l().mark((function e(t,n,i,r){var a,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=kn.rI.fromPartial({sort:null===(a=n.metadata)||void 0===a?void 0:a[Va.sb.LIST_UTIL_SORT],filter:null===(o=n.metadata)||void 0===o?void 0:o[Va.sb.LIST_UTIL_FILTER],context:(l=n,u=void 0,d=void 0,p=void 0,m=void 0,f=void 0,u=l.uri,d=l.url,p=l.pages,m=l.metadata,f=l.restrictions,void 0!==p?_o.Context.fromPartial({uri:u,url:d,pages:p.map(Io),metadata:m,restrictions:vo(f),isLoaded:!0}):_o.Context.fromPartial({uri:u,url:null!=d?d:"context://".concat(u),metadata:m,isLoaded:!1})),preparePlayOptions:ho(n,r),playOrigin:fo(i),loggingParams:Do(r.loggingParams)}),(null==(c=(0,we.EC)(n.uri))?void 0:c.type)!==we.JM.COLLECTION_ARTIST){e.next=9;break}return s.id=c.id,e.next=6,t.playArtist(s);case 6:case 13:case 16:return e.abrupt("return",e.sent);case 9:if((null==c?void 0:c.type)!==we.JM.COLLECTION_ALBUM){e.next=14;break}return s.id=c.id,e.next=13,t.playAlbum(s);case 14:return e.next=16,t.playTracks(s);case 17:case"end":return e.stop()}var l,u,d,p,m,f}),e)})))).apply(this,arguments)}function Uo(e){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.pause(Za.jX.fromPartial({loggingParams:Do()})).then(To));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.resume(Za.$5.fromPartial({loggingParams:Do()})).then(To));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(e,t,n){return Go.apply(this,arguments)}function Go(){return(Go=(0,o.Z)(l().mark((function e(t,n,i){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},void 0!==i&&n&&(r.track=null===(a=n.nextTracks.find((function(e){var t,n;return(!i.uid||(null===(t=e.contextTrack)||void 0===t?void 0:t.uid)===i.uid)&&(null===(n=e.contextTrack)||void 0===n?void 0:n.uri)===i.uri})))||void 0===a?void 0:a.contextTrack),e.abrupt("return",t.skipNext(Za.t6.fromPartial(Ao(Ao({},r),{},{loggingParams:Do()}))).then(To));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return zo.apply(this,arguments)}function zo(){return(zo=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={track:n},e.abrupt("return",t.skipNext(Za.t6.fromPartial(Ao(Ao({},i),{},{loggingParams:Do()}))).then(To));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.skipPrev(Za.n.fromPartial({allowSeeking:!0,loggingParams:Do()})).then(To));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,o.Z)(l().mark((function e(t,n){var i,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:null,e.abrupt("return",t.seekTo(Za.eS.fromPartial({position:Math.floor(n).toString(),relative:Za.RN.BEGINNING,options:{onlyForPlaybackId:null!=i?i:void 0},loggingParams:Do()})).then(To));case 2:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Jo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,o.Z)(l().mark((function e(t,n){var i,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:null,e.abrupt("return",t.seekTo(Za.eS.fromPartial({position:Math.floor(n).toString(),relative:Za.RN.CURRENT,options:{onlyForPlaybackId:null!=i?i:void 0},loggingParams:Do()})).then(To));case 2:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function $o(e,t){return es.apply(this,arguments)}function es(){return(es=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setShufflingContext(Za.ed.fromPartial({shufflingContext:n,loggingParams:Do()})).then(To));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return(ns=(0,o.Z)(l().mark((function e(t,n){var i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,r=!1,e.t0=n,e.next=e.t0===Va.zq.REPEAT_NONE?5:e.t0===Va.zq.REPEAT_CONTEXT?8:e.t0===Va.zq.REPEAT_TRACK?11:14;break;case 5:return i=!1,r=!1,e.abrupt("break",15);case 8:return i=!0,r=!1,e.abrupt("break",15);case 11:return i=!0,r=!0,e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:return e.abrupt("return",t.setOptions(Za.jx.fromPartial({repeatingTrack:{value:r},repeatingContext:{value:i},loggingParams:Do()})).then(To));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function is(e,t,n,i){return rs.apply(this,arguments)}function rs(){return(rs=(0,o.Z)(l().mark((function e(t,n,i,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.setQueue(Za.c_.fromPartial({nextTracks:n,prevTracks:i,queueRevision:r,loggingParams:Do()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function as(e,t,n,i){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(l().mark((function e(t,n,i,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.updateContext(Za.eB.fromPartial({sessionId:n,context:i,loggingParams:Do(null==r?void 0:r.loggingParams)})).then(To));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(50103);var ss=!1;function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var cs=function(e){(0,O.Z)(n,e);var t=ls(n);function n(e,i){var r;(0,S.Z)(this,n),(r=t.call(this))._client=e;var a=null,o=null;return r._client.getState(Za.o7.fromPartial({prevTracksCap:{value:"0"},nextTracksCap:{value:"".concat(i)}}),(function(e){var t,n,i,s,l,c,u,d,p,m,f,v=(t=e,f={timestamp:parseInt(t.timestamp,10),context:{uri:t.contextUri,url:t.contextUrl,metadata:t.contextMetadata},index:{pageURI:null!==(n=t.pageMetadata.page_uri)&&void 0!==n?n:null,pageIndex:void 0!==(null===(i=t.index)||void 0===i?void 0:i.page)?parseInt(null===(s=t.index)||void 0===s?void 0:s.page,10):null,itemIndex:void 0!==(null===(l=t.index)||void 0===l?void 0:l.track)?parseInt(null===(c=t.index)||void 0===c?void 0:c.track,10):null},item:null,shuffle:null,repeat:null,speed:null!==(u=null===(d=t.playbackSpeed)||void 0===d?void 0:d.value)&&void 0!==u?u:null,positionAsOfTimestamp:parseInt(null!==(p=null===(m=t.positionAsOfTimestamp)||void 0===m?void 0:m.value)&&void 0!==p?p:"0",10),duration:void 0!==t.duration?parseInt(t.duration.value,10):null,hasContext:t.isPlaying&&void 0!==t.track,isPaused:t.isPaused,isBuffering:t.isBuffering,restrictions:void 0!==t.restrictions?io(t.restrictions):to,previousItems:[],nextItems:[],playbackQuality:void 0!==t.playbackQuality?ao(t.playbackQuality):ro,playbackId:t.playbackId.length>0?(0,at.zv)(t.playbackId):null,sessionId:t.sessionId},void 0!==t.options&&(f.shuffle=t.options.shufflingContext,t.options.repeatingTrack?f.repeat=Va.zq.REPEAT_TRACK:t.options.repeatingContext?f.repeat=Va.zq.REPEAT_CONTEXT:f.repeat=Va.zq.REPEAT_NONE),void 0!==t.track&&void 0!==t.track.contextTrack&&(f.item=eo(t.track,t.track.contextTrack)),t.prevTracks.forEach((function(e){e.contextTrack&&f.previousItems.push(eo(e,e.contextTrack))})),t.nextTracks.forEach((function(e){e.contextTrack&&f.nextItems.push(eo(e,e.contextTrack))})),f);if("0"===e.timestamp)null===o&&(o=setTimeout((function(){r.emit(Ha.rg.UPDATE,v)}),500));else{var g,h,k;if(null!==o&&(clearTimeout(o),o=null),r.emit(Ha.rg.UPDATE,v),null!==a&&function(e,t){var n,i,r,a=e.contextUri===t.contextUri,o=e.sessionId===t.sessionId,s=(i=e.playbackId,r=t.playbackId,i.byteLength===r.byteLength&&i.every((function(e,t){return e===r[t]}))),l=t.isPaused,c="0"===(null===(n=t.positionAsOfTimestamp)||void 0===n?void 0:n.value);return a&&o?(l||(ss=!0),!s&&ss&&l&&c):(ss=!1,!1)}(a,e))r.emit(Ha.rg.CONTEXT_WRAPAROUND,{contextURI:e.contextUri,previousItemURI:null!==(g=null===(h=a.track)||void 0===h||null===(k=h.contextTrack)||void 0===k?void 0:k.uri)&&void 0!==g?g:null});a=e}})),r._client.getError(Za.vf.fromPartial({}),(function(e){r.emit(Ha.rg.ERROR,mo(e))})),r}return(0,x.Z)(n)}(Ha.Bc),us=(n(71812),n(72304),n(69068));function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ms=function(){function e(t,n,i){var r=this;(0,S.Z)(this,e),(0,a.Z)(this,"_queue",null),this._client=t,this._events=n,this.getRepeatMode=i,this._client.getQueue(Za.as.fromPartial({}),(function(e){r._queue=e,r._queueState=r.convertQueueState(e,r.getRepeatMode()),r._events.emitQueueUpdate(r._queueState)})),this._queueState=(0,us.ew)([],this.getRepeatMode())}var t,n,r,s,c;return(0,x.Z)(e,[{key:"convertQueueState",value:function(e,t){var n,r,a,o=null!=e&&e.track&&e.track.contextTrack?eo(e.track,e.track.contextTrack):null,s=null!==(n=null===(r=this._queue)||void 0===r||null===(a=r.nextTracks)||void 0===a?void 0:a.filter((function(e){return e.contextTrack})).map((function(e){return eo(e,e.contextTrack)})))&&void 0!==n?n:[],l=o?[o].concat((0,i.Z)(s)):s;return(0,us.ew)(l,t)}},{key:"isSameItem",value:function(e,t){var n,i,r;return e.uid&&null!==(n=t.contextTrack)&&void 0!==n&&n.uid?e.uid===(null===(r=t.contextTrack)||void 0===r?void 0:r.uid):e.uri===(null===(i=t.contextTrack)||void 0===i?void 0:i.uri)}},{key:"isQueued",value:function(e){return"queue"===e.provider}},{key:"markAsQueued",value:function(e){var t;return Za.L6.fromPartial(ps(ps({},e),{},{contextTrack:Za.nh.fromPartial(ps(ps({},e.contextTrack),{},{metadata:ps(ps({},null===(t=e.contextTrack)||void 0===t?void 0:t.metadata),{},{is_queued:"true"})})),provider:"queue"}))}},{key:"createQueueItem",value:function(e,t){return Za.L6.fromPartial({contextTrack:Za.nh.fromPartial({uri:e.uri,metadata:{is_queued:t.toString()}}),provider:t?"queue":"context"})}},{key:"addToQueue",value:(c=(0,o.Z)(l().mark((function e(t){var n,r,a,o,s=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return r=t.map((function(e){return s.createQueueItem(e,!0)})),a=(0,i.Z)((null===(n=this._queue)||void 0===n?void 0:n.nextTracks)||[]),o=a.map((function(e){return e.provider})).lastIndexOf("queue"),a.splice.apply(a,[o+1,0].concat((0,i.Z)(r))),e.next=8,is(this._client,a,this._queue.prevTracks,this._queue.queueRevision);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"removeFromQueue",value:(s=(0,o.Z)(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,is(this._client,this._queue.nextTracks.filter((function(e){return!t.some((function(t){return n.isSameItem(t,e)}))})),this._queue.prevTracks,this._queue.queueRevision);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"clearQueue",value:(r=(0,o.Z)(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,is(this._client,this._queue.nextTracks.filter((function(e){return!t.isQueued(e)})),this._queue.prevTracks,this._queue.queueRevision);case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"reorderQueue",value:(n=(0,o.Z)(l().mark((function e(t,n){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return a=(0,i.Z)((null===(r=this._queue)||void 0===r?void 0:r.nextTracks)||[]),e.next=5,is(this._client,(0,us.iT)(t,a,n,this.isSameItem,this.isQueued,this.markAsQueued),this._queue.prevTracks,this._queue.queueRevision);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"insertIntoQueue",value:(t=(0,o.Z)(l().mark((function e(t,n){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queue){e.next=2;break}return e.abrupt("return");case 2:return a=(0,i.Z)((null===(r=this._queue)||void 0===r?void 0:r.nextTracks)||[]),e.next=5,is(this._client,(0,us.LT)(t,a,n,this.isSameItem,this.isQueued,this.createQueueItem),this._queue.prevTracks,this._queue.queueRevision);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"getQueue",value:function(){return this._queueState}},{key:"getInternalQueue",value:function(){return this._queue}}]),e}(),fs=function(e){return(0,we.RS)(e)},vs=function(e){if("boolean"==typeof e)return e;switch(e){case Ba.OFF:return!1;case Ba.ON:case Ba.SMART_SHUFFLE:return!0;default:return(0,He._)(e),!1}},gs=(0,wa.y)(Ba),hs=function(e){return gs(e)?e:!0===e?Ba.ON:Ba.OFF},ks=function(){function e(){(0,S.Z)(this,e),(0,a.Z)(this,"storage",new Map)}var t,n;return(0,x.Z)(e,[{key:"getItem",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.get(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setItem",value:(t=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.set(t,n);case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),ys=function(){function e(){(0,S.Z)(this,e),(0,a.Z)(this,"_storage",new ks)}var t,n;return(0,x.Z)(e,[{key:"getContextualShuffleMode",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.getItem(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setContextualShuffleMode",value:(t=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._storage.setItem(t,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),bs=n(63947);var Ss=n(21001),xs=function(){function e(t){(0,S.Z)(this,e),this._playlistServiceClient=t}var t;return(0,x.Z)(e,[{key:"setSmartShuffle",value:(t=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._playlistServiceClient.requestLenses(Ss.Ct.fromPartial({uri:t,lenses:[{identifier:"enhance",active:n}]}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}();function Os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Os(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ns=function(){function e(t,n,i,r,o,s){var l=this;(0,S.Z)(this,e),(0,a.Z)(this,"_state",null),(0,a.Z)(this,"forcedShuffle",!1),(0,a.Z)(this,"_contextualShuffle",new ys),(0,a.Z)(this,"_smartShuffle",new xs(new Ss.p1((0,pn.G)()))),this._cosmos=t,this._prefs=n,this._contextPlayer=i,this._collection=r,this._defaultFeatureVersion=o,this._isSmartShuffleEnabled=s,this._events=new cs(this._contextPlayer,50),this._queue=new ms(this._contextPlayer,this._events,(function(){var e,t;return null!==(e=null===(t=l._state)||void 0===t?void 0:t.repeat)&&void 0!==e?e:Va.zq.REPEAT_NONE})),this._events.addListener(Ha.rg.UPDATE,(function(e){var t=e.data;l._state=t,l.forcedShuffle&&t&&!1===t.shuffle&&t.restrictions.canToggleShuffle&&!fs(t.context.uri)&&l.setShuffle(!0)})),this.referrer="PlayerCore_UnknownReferrer"}var t,n,i,r,s,c,u,d,p,m,f,v,g,h,k,y,b,O,w,N,_,E;return(0,x.Z)(e,[{key:"setDefaultFeatureVersion",value:function(e){void 0===e.featureVersion&&(e.featureVersion=this._defaultFeatureVersion)}},{key:"getCapabilities",value:function(){return{canChangeSpeed:!0,canChangeVolume:!0,canPlayMultipleContextPages:!0,maxNextTracks:50,hasDecoratedQueue:!0}}},{key:"getEvents",value:function(){return this._events}},{key:"getState",value:function(){return this._state}},{key:"getReferrer",value:function(){return this.referrer}},{key:"setReferrer",value:function(e){this.referrer=e}},{key:"play",value:(E=(0,o.Z)(l().mark((function e(t,n){var i,r,a,o,s,c=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ws({},c.length>2&&void 0!==c[2]?c[2]:{}),!this.forcedShuffle||fs(t.uri)){e.next=6;break}i.shuffle=!0,e.next=11;break;case 6:if(!this._isSmartShuffleEnabled){e.next=11;break}return e.next=9,this.getShuffle(t.uri);case 9:void 0!==(r=e.sent)&&(i.shuffle=vs(r));case 11:if(!this._events.emitPlaySync(t,n,i)){e.next=13;break}return e.abrupt("return");case 13:if(this.setDefaultFeatureVersion(n),a=(0,we.nK)(t.uri),o=(0,we.zO)(t.uri)&&!t.uri.endsWith("your-episodes")||(0,we.yF)(t.uri)||(0,we.aE)(t.uri),s=!!t.url,!o||s){e.next=22;break}return e.next=20,Lo(this._collection,t,n,i);case 20:e.next=29;break;case 22:if(!a||s){e.next=27;break}return e.next=25,wo(this._cosmos,t,n,i);case 25:e.next=29;break;case 27:return e.next=29,Ro(this._contextPlayer,t,n,i);case 29:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"pause",value:(_=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitPauseSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Uo(this._contextPlayer);case 4:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"resume",value:(N=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitResumeSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Bo(this._contextPlayer);case 4:case"end":return e.stop()}}),e,this)}))),function(){return N.apply(this,arguments)})},{key:"skipToNext",value:(w=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToNextSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ho(this._contextPlayer,this._queue.getInternalQueue(),t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"skipTo",value:(O=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToNextSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wo(this._contextPlayer,co(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"skipToPrevious",value:(b=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSkipToPreviousSync()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ko(this._contextPlayer);case 4:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"seekTo",value:(y=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(this._contextPlayer,t,null!==(n=this._state)&&void 0!==n&&n.playbackId?(0,at.Wu)(this._state.playbackId):null);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"seekBy",value:(k=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(this._contextPlayer,t,null!==(n=this._state)&&void 0!==n&&n.playbackId?(0,at.Wu)(this._state.playbackId):null);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"seekForward",value:(h=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.seekBy(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"seekBackward",value:(g=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.seekBy(-t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"_getActiveContextUri",value:function(){var e;return null===(e=this.getState())||void 0===e?void 0:e.context.uri}},{key:"_getIsActiveContextUri",value:function(e){return(0,bs.VG)(e,this._getActiveContextUri())}},{key:"getShuffle",value:(v=(0,o.Z)(l().mark((function e(){var t,n,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:this._getActiveContextUri()){e.next=3;break}return e.abrupt("return",void 0);case 3:if(!this._getIsActiveContextUri(t)){e.next=7;break}r=this.getState(),a=void 0,n="true"===(null==r||null===(a=r.context.metadata)||void 0===a?void 0:a.enhanced_context)?Ba.SMART_SHUFFLE:!0===(null==r?void 0:r.shuffle)?Ba.ON:!1===(null==r?void 0:r.shuffle)?Ba.OFF:void 0,e.next=11;break;case 7:if(!this._isSmartShuffleEnabled){e.next=11;break}return e.next=10,this._contextualShuffle.getContextualShuffleMode(t);case 10:n=e.sent;case 11:return this._isSmartShuffleEnabled||n!==Ba.SMART_SHUFFLE||(n=Ba.ON,this._smartShuffle.setSmartShuffle(t,!1)),e.abrupt("return",n);case 13:case"end":return e.stop()}var r,a}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"setShuffle",value:(f=(0,o.Z)(l().mark((function e(t){var n,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=i.length>1&&void 0!==i[1]?i[1]:this._getActiveContextUri())&&!this._getIsActiveContextUri(n)){e.next=4;break}return e.next=4,$o(this._contextPlayer,this.forcedShuffle||vs(t));case 4:if(!this._isSmartShuffleEnabled||!n){e.next=9;break}return this._smartShuffle.setSmartShuffle(n,t===Ba.SMART_SHUFFLE),e.next=8,this._contextualShuffle.setContextualShuffleMode(n,hs(t));case 8:this._events.emitUpdateShuffleModeSync(hs(t),n);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"setRepeat",value:(m=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(this._contextPlayer,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"setSpeed",value:(p=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xo(this._prefs,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"canPlayEncryptedContent",value:(d=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)})},{key:"refreshCurrentContext",value:(u=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"updateContext",value:(c=(0,o.Z)(l().mark((function e(t,n,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:as(this._contextPlayer,t,n,i);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return c.apply(this,arguments)})},{key:"addToQueue",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ha.FE.ADD)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.addToQueue(t);case 5:this._events.emitQueueActionComplete(Ha.FE.ADD),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ha.FE.ADD,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return s.apply(this,arguments)})},{key:"removeFromQueue",value:(r=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ha.FE.REMOVE)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.removeFromQueue(t);case 5:this._events.emitQueueActionComplete(Ha.FE.REMOVE),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ha.FE.REMOVE,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return r.apply(this,arguments)})},{key:"clearQueue",value:(i=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ha.FE.CLEAR)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.clearQueue();case 5:this._events.emitQueueActionComplete(Ha.FE.CLEAR),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ha.FE.CLEAR,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return i.apply(this,arguments)})},{key:"reorderQueue",value:(n=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ha.FE.REORDER)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.reorderQueue(t,n);case 5:this._events.emitQueueActionComplete(Ha.FE.REORDER),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ha.FE.REORDER,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return n.apply(this,arguments)})},{key:"insertIntoQueue",value:(t=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitQueueActionSync(Ha.FE.INSERT)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this._queue.insertIntoQueue(t,n);case 5:this._events.emitQueueActionComplete(Ha.FE.INSERT),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitQueueActionComplete(Ha.FE.INSERT,e.t0 instanceof Error?e.t0:new Error("Unknown error object")),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,n){return t.apply(this,arguments)})},{key:"getQueue",value:function(){return this._queue.getQueue()}},{key:"getForcedShuffle",value:function(){return this.forcedShuffle}},{key:"setForcedShuffle",value:function(e){this.forcedShuffle=e}}]),e}();function _s(e,t,n,i){return new Ns(e,(0,m.makePrefs)(t),new Za.R3(t),new kn.Ul(t),n,i)}var Es=n(16556),Cs=n.n(Es),Ps=n(7801),Is=n(16524),js=(n(41886),n(88247),n(88635),n(75173),n(15671),n(40419),n(60795),n(73445),n(71055),n(57847),n(21356),n(1374),n(13868),n(36009),n(99976),n(87609),n(6768),n(12853),n(74449),n(26296),n(40228),n(17565),n(12110),n(41642),n(57347),n(8877),n(17638),n(71802),n(76734),n(64331)),As=n(17085),Ts=n(23919);function Ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fs={},Ls={policy:{folder:{rows:!0},playlist:{ownedBySelf:!0},request:Fs}},Ms={policy:{folder:{addTime:!0,rowId:!0,link:!0,name:!0,rows:!0},playlist:{addTime:!0,allows:{insert:!0,remove:!0},canReportAnnotationAbuse:!0,collaborative:!0,description:!0,duration:!0,formatListAttributes:!0,formatListType:!0,link:!0,loadState:!0,loaded:!0,name:!0,ownedBySelf:!0,owner:{link:!0,name:!0,username:!0},picture:!0,playable:!0,published:!0,rowId:!0,totalLength:!0},request:Fs}},Us={policy:{addTime:!0,addedBy:{image:!0,link:!0,name:!0,username:!0},album:{artist:{link:!0,name:!0},link:!0,name:!0,covers:!0},artist:{link:!0,name:!0},covers:!0,description:!0,discNumber:!0,formatListAttributes:!0,is19PlusOnly:!0,isExplicit:!0,isLocal:!0,language:!0,length:!0,link:!0,mediaTypeEnum:!0,name:!0,playable:!0,publishDate:!0,rowId:!0,show:{link:!0,name:!0,publisher:!0,covers:!0},trackNumber:!0,extension:[Ts.ExtensionKind.PODCAST_SUBSCRIPTIONS]}},Zs={policy:{playlist:{allows:{insert:!0,remove:!0},canReportAnnotationAbuse:!0,collaborative:!0,containsEpisodes:!0,containsSpotifyTracks:!0,description:!0,duration:!0,followers:!0,formatListAttributes:!0,formatListType:!0,link:!0,madeFor:{image:!0,link:!0,name:!0,username:!0},name:!0,ownedBySelf:!0,owner:{image:!0,link:!0,name:!0,username:!0},picture:!0,playable:!0,published:!0,totalLength:!0,basePermission:!0,userCapabilities:!0,collaboratingUsers:{count:!0,limit:5,collaborator:{user:{username:!0,link:!0,name:!0,image:!0,thumbnail:!0},numberOfItems:!0,numberOfTracks:!0,numberOfEpisodes:!0,isOwner:!0}}},track:Us.policy,episode:Us.policy}};function Bs(e){return void 0===e?[]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){var t=e.url,n=e.label;return t&&n})).map((function(e){return{url:e.url,label:e.label}}))}({url:e.standardLink,label:"standard"},{url:e.smallLink,label:"small"},{url:e.largeLink,label:"large"},{url:e.xlargeLink,label:"xlarge"},{url:e.imageUri,label:"standard"},{url:e.thumbnailUri,label:"small"})}function Vs(e){return new Date(1e3*e)}function Hs(e){return{milliseconds:e}}function Gs(e){var t,n,i,r;return{isPaywalled:null!==(t=null===(n=e.podcastSubscription)||void 0===n?void 0:n.isPaywalled)&&void 0!==t&&t,isUserSubscribed:null!==(i=null===(r=e.podcastSubscription)||void 0===r?void 0:r.isUserSubscribed)&&void 0!==i&&i}}function Ws(e){return{type:_e.p.ARTIST,uri:e.link,name:e.name}}function zs(e){return{type:_e.p.ARTIST,uri:e.link,name:e.name}}function Ks(e){return{type:_e.p.ALBUM,uri:e.link,name:e.name,artist:e.artist&&zs(e.artist),images:Bs(e.covers)}}function Ys(e,t){return{type:_e.p.SHOW,uri:e.link,name:e.name,publisher:e.publisher,images:Bs(e.covers),mediaType:t}}function qs(e){var t,n,i,r={uid:e.rowId,playIndex:null,addedAt:(t=e.addTime,void 0!==t?Vs(t).toISOString():null),addedBy:Xs(e.addedBy),formatListAttributes:$s(e.formatListAttributes)};if(void 0!==e.trackMetadata&&void 0!==e.trackPlayState)return Rs(Rs({},r),(n=e.trackMetadata,i=e.trackPlayState,{type:_e.p.TRACK,uri:n.link,name:n.name,album:Ks(n.album),artists:n.artist.map(Ws),discNumber:n.discNumber,trackNumber:n.trackNumber,duration:Hs(1e3*n.length),isExplicit:n.isExplicit,isLocal:n.isLocal,isPlayable:i.isPlayable,is19PlusOnly:n.is19PlusOnly}));if(void 0!==e.episodeMetadata&&void 0!==e.episodePlayState)return Rs(Rs({},r),function(e,t){var n,i=Bi(e.extension);return{type:_e.p.EPISODE,uri:e.link,name:e.name,description:e.description,duration:Hs(1e3*e.length),timeLeft:Hs(1e3*t.timeLeft),images:Bs(e.covers),isExplicit:e.isExplicit,isPlayable:t.isPlayable,languages:[e.language],release:(n=e.publishDate,{date:Vs(parseInt(n,10)).toISOString(),precision:"day"}),show:Ys(e.show,e.mediaTypeEnum),podcastSubscription:Gs(i),is19PlusOnly:e.is19PlusOnly}}(e.episodeMetadata,e.episodePlayState));throw new Error("Invalid playlist cosmos response!")}function Qs(e,t){if(!e.item)throw new Error("Invalid playlist cosmos response!");return{items:e.item.map((function(e){return qs(e)})),offset:t||0,limit:e.item.length,totalLength:e.unrangedLength}}function Js(e){return{type:_e.p.USER,uri:e.link,username:e.username,displayName:e.displayName,images:Bs(e)}}function Xs(e){return void 0===e||""===e.username?null:Js(e)}function $s(e){return e.reduce((function(e,t){return e[t.key]=t.value,e}),{})}function el(e){return e.formatListType&&""!==e.formatListType?{type:e.formatListType,attributes:$s(e.formatListAttributes)}:null}function tl(e){return{isOwner:e.isOwner,tracksAdded:e.numberOfItems,user:e.user&&Js(e.user)}}function nl(e){return{isOwner:e.isOwner,tracksAdded:e.numTracks,user:e.user&&Js(e.user)}}function il(e,t){return t&&t.basePermissionLevel!==Is.PermissionLevel.CONTRIBUTOR?{count:(null==t?void 0:t.numTotalMembers)||0,items:((null==t?void 0:t.members)||[]).map(nl)}:{count:(null==e?void 0:e.count)||0,items:((null==e?void 0:e.collaborator)||[]).map(tl)}}function rl(e,t){var n,i,r,a,o,s;return{type:_e.p.PLAYLIST,uri:e.link,name:e.name,description:e.description,images:Bs(e.pictures),madeFor:Xs(e.madeFor),owner:Js(e.owner),totalLength:null!==(n=null==t?void 0:t.totalLength)&&void 0!==n?n:e.totalLength,unfilteredTotalLength:e.totalLength,totalLikes:(null==t?void 0:t.totalLikes)||null,duration:null!=t&&t.duration?(s=t.duration,{milliseconds:1e3*parseInt(s,10),isEstimate:!1}):null,isCollaborative:e.collaborative,isLoaded:e.isLoaded,isOwnedBySelf:e.ownedBySelf,isPublished:e.published,hasEpisodes:(null==t?void 0:t.hasEpisodes)||null,hasSpotifyTracks:(null==t?void 0:t.hasSpotifyTracks)||null,hasSpotifyAudiobooks:(null==t?void 0:t.hasSpotifyAudiobooks)||null,canAdd:e.allows.canInsert,canRemove:e.allows.canRemove,canPlay:(null==t?void 0:t.isPlayable)||null,formatListData:el(e),canReportAnnotationAbuse:e.canReportAnnotationAbuse,hasDateAdded:(o=e.formatListType,!o||!js.C.includes(o)),permissions:(i=null==t?void 0:t.userCapabilities,r=null==t?void 0:t.collaborators,a=null==t?void 0:t.basePermission,i||r||a?{canView:!(null==i||!i.canView),canAdministratePermissions:(null==i?void 0:i.canAdministratePermissions)||!1,canCancelMembership:(null==i?void 0:i.canCancelMembership)||!1,isPrivate:(null==a?void 0:a.permissionLevel)===Is.PermissionLevel.BLOCKED}:null),collaborators:il(null==t?void 0:t.collaborators,null==t?void 0:t.members)}}function al(e){for(var t=e.item,n=0,r=0;t.length>0;){var a,o,s=t[0];if(s.folder)t.push.apply(t,(0,i.Z)(s.folder.item));else!0===(null===(a=s.playlist)||void 0===a||null===(o=a.playlistMetadata)||void 0===o?void 0:o.ownedBySelf)&&n++,r++;t.shift()}return{ownedPlaylistCount:n,playlistCount:r}}function ol(e){return"notFound"===e.loadState}function sl(e){return"forbidden"===e.loadState}function ll(e){var t=e.playlistMetadata;return ol(t)||sl(t)?function(e,t){return{type:"placeholder",uri:t.link,addedAt:Vs(e.addTime),isNotFound:ol(t),isForbidden:sl(t)}}(e,t):Rs({addedAt:Vs(e.addTime)},rl(t))}function cl(e,t){var n=e.folderMetadata,i=(e.item||[]).map((function(e){return function(e,t){if(e.folder)return cl(e.folder,t);if(e.playlist)return ll(e.playlist);throw new Error("Invalid playlist cosmos response!")}(e,t)}));return i.forEach(t),{type:"folder",addedAt:Vs(e.addTime),items:i,name:n.name,uri:n.link}}function ul(e){return e===Is.PermissionLevel.BLOCKED?"BLOCKED":e===Is.PermissionLevel.CONTRIBUTOR?"CONTRIBUTOR":e===Is.PermissionLevel.VIEWER?"VIEWER":"UNKNOWN"}function dl(e){var t,n,i,r,a;return{canView:null!==(t=null==e?void 0:e.canView)&&void 0!==t&&t,canAdministratePermissions:null!==(n=null==e?void 0:e.canAdministratePermissions)&&void 0!==n&&n,canEditMetadata:null!==(i=null==e?void 0:e.canEditMetadata)&&void 0!==i&&i,canEditItems:null!==(r=null==e?void 0:e.canEditItems)&&void 0!==r&&r,canCancelMembership:null!==(a=null==e?void 0:e.canCancelMembership)&&void 0!==a&&a}}function pl(e){return{isFollowed:e.followState===As.FollowState.CAN_BE_UNFOLLOWED,isOwner:e.isOwner,permissionLevel:ul(e.permissionLevel),user:e.user&&Js(e.user),songsAdded:e.numTracks}}function ml(e){return e.map(pl)}var fl=n(68074),vl=n(14170);function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var hl=function(e){(0,O.Z)(n,e);var t=gl(n);function n(e,i,r){var o;return(0,S.Z)(this,n),o=t.call(this),(0,a.Z)((0,H.Z)(o),"_subscriptions",new Map),o._subAggregator=e,o._endpoint=i,o._policy=r,o}return(0,x.Z)(n,[{key:"onBatchChanged",value:function(e){var t=this;this._subscriptions.forEach((function(n,i){e.has(i)||(n.cancel(),t._subscriptions.delete(i))})),e.forEach((function(e,n){t._subscriptions.has(n)||t._subscriptions.set(n,t._subAggregator.sub("".concat(t._endpoint,"/").concat(encodeURIComponent(n),"?start=0&length=0&updateOnIdenticalResponse=true"),(0,Ie.D)((function(){t.emit(fl.XL.UPDATE,{uri:n})}))(100,true),(function(){}),t._policy))}))}}]),n}(vl.n);var kl=n(91881),yl=n(80780),bl=n(15728);function Sl(e){console.error(e)}var xl=function(){function e(t){(0,S.Z)(this,e),(0,a.Z)(this,"_subscriptions",new Set),this._cosmos=t,this._aggregator=(0,fa.V4)(this.onBatchChanged.bind(this))}return(0,x.Z)(e,[{key:"onBatchChanged",value:function(e){var t=this;this._subscriptions.forEach((function(e){return e.cancel()})),this._subscriptions.clear(),e.forEach((function(e,n){var i=bl.c.parse(n);t._subscriptions.add(t._cosmos.sub(i.uri,(function(t){e.forEach((function(e){return(0,e.onSuccess)(t)}))}),(function(t){e.forEach((function(e){return(0,e.onError)(t)}))}),i.body,i.headers))}))}},{key:"sub",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sl,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=new bl.c(bl.n.SUB,e,a,r).stringify(),s={onSuccess:t,onError:i};return this._aggregator.subscribe(o,s),{cancel:function(){n._aggregator.unsubscribe(o,s)}}}}]),e}();function Ol(e){return new xl(e)}var wl=n(91583),Nl=n(97441),_l=n(50214),El=n(34345),Cl=n(78953);function Pl(e){return{metadata:{type:_e.p.PLAYLIST,uri:e,name:"",description:"",images:[],madeFor:null,owner:{type:_e.p.USER,uri:"",username:"",displayName:"",images:[]},totalLength:0,unfilteredTotalLength:0,totalLikes:null,duration:null,isCollaborative:!1,isLoaded:!1,isOwnedBySelf:!1,isPublished:!1,hasEpisodes:null,hasSpotifyTracks:null,hasSpotifyAudiobooks:null,canAdd:!1,canRemove:!1,canPlay:null,formatListData:null,canReportAnnotationAbuse:!1,hasDateAdded:!1,permissions:{isPrivate:!1,canView:!1,canAdministratePermissions:!1,canCancelMembership:!1},collaborators:null},contents:{totalLength:0,offset:0,limit:0,items:[]}}}var Il=n(73758);function jl(e){return Object.prototype.hasOwnProperty.call(e,"uid")}function Al(e){var t=e.before,n=e.after;return"start"===t?{before:"start"}:void 0!==t?{before:jl(t)?t.uid:t.uri}:"end"===n?{after:"end"}:void 0!==n?{after:jl(n)?n.uid:n.uri}:{}}function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tl(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rl="sp://core-playlist/v1/playlist",Fl="?responseFormat=protobufJson";function Ll(e){return void 0===e?"":"&start=".concat(e)}function Ml(e){return void 0===e?"":"&length=".concat(e)}var Ul=function(){function e(t,n){(0,S.Z)(this,e),this._cosmos=t,this._builder=n;var i=Ol(t);this._events=function(e){return new hl(e,"sp://core-playlist/v1/playlist",{policy:{}})}(i)}var t,n,i,r,a,s,c,u,d,p,m,f,v;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canModifyOffline:!0,canMoveMultipleItems:!0,canFetchAllTracks:!0,canDecorateAddedBy:!0,canToggleCollaborative:!0,canHandlePermissions:!0,hasUidsGeneratedFromIndicies:!1}}},{key:"getPlaylist",value:(v=(0,o.Z)(l().mark((function e(t){var n,i,r,a,o,s,c,u,d,p,m,f,v,g=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>1&&void 0!==g[1]?g[1]:{},a=g.length>2&&void 0!==g[2]?g[2]:{},o=(0,Nl.Y)(null==a?void 0:a.sort),s=(0,_l.x)((0,Cl.cj)(null==a?void 0:a.filter)),c=Ll(null!==(n=null==a?void 0:a.offset)&&void 0!==n?n:0),u=Ml(null!==(i=null==a?void 0:a.limit)&&void 0!==i?i:0),r.withSync&&this._cosmos.post("".concat(Rl,"/").concat(encodeURIComponent(t),"/resync")),e.prev=7,e.next=10,this._cosmos.get("".concat(Rl,"/").concat(encodeURIComponent(t),"/").concat(Fl).concat(o).concat(s).concat(c).concat(u),Zs);case 10:if(d=e.sent,(p=Ps.playlist_request.Response.fromJSON(d)).playlist&&p.playlist.playlistMetadata){e.next=14;break}throw new Error("Invalid playlist cosmos response!");case 14:if(!r.hydrateCollaboratorsWithMembers){e.next=20;break}return e.t0=Ps.members_response.PlaylistMembersResponse,e.next=18,this._cosmos.get("".concat("sp://core-playlist/v2/playlist","/members"),{uri:t});case 18:e.t1=e.sent,m=e.t0.fromJSON.call(e.t0,e.t1);case 20:return f=rl(p.playlist.playlistMetadata,{totalLength:p.unrangedLength,duration:p.duration,totalLikes:p.numFollowers,isPlayable:p.playable,hasEpisodes:p.containsEpisodes,hasSpotifyTracks:p.containsSpotifyTracks,hasSpotifyAudiobooks:void 0,userCapabilities:p.userCapabilities,collaborators:p.collaborators,basePermission:p.basePermission,members:m}),v=Qs(p),e.abrupt("return",{metadata:f,contents:v});case 25:if(e.prev=25,e.t2=e.catch(7),!Cs().isHttpError(e.t2)||403!==e.t2.status){e.next=29;break}return e.abrupt("return",Pl(t));case 29:throw e.t2;case 30:case"end":return e.stop()}}),e,this,[[7,25]])}))),function(e){return v.apply(this,arguments)})},{key:"getContents",value:(f=(0,o.Z)(l().mark((function e(t,n){var i,r,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,Nl.Y)(null==n?void 0:n.sort),r=(0,_l.x)((0,Cl.cj)(null==n?void 0:n.filter)),a=Ll(null==n?void 0:n.offset),o=Ml(null==n?void 0:n.limit),e.t0=Ps.playlist_request.Response,e.next=7,this._cosmos.get("".concat(Rl,"/").concat(encodeURIComponent(t),"/rows").concat(Fl).concat(i).concat(r).concat(a).concat(o),Us);case 7:return e.t1=e.sent,s=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",Qs(s));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"getMetadata",value:(m=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPlaylist(t,n);case 2:return i=e.sent,e.abrupt("return",i.metadata);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"applyModification",value:(p=(0,o.Z)(l().mark((function e(t,n){var i,r,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!(a.length>2&&void 0!==a[2])||a[2],r=Ps.modification_request.ModificationRequest.fromPartial(n),Object.keys(r).forEach((function(e){r[e]||delete r[e]})),e.next=5,this._cosmos.post("".concat(Rl,"/").concat(encodeURIComponent(t)).concat(Fl),i?r:n);case 5:if(e.sent.success){e.next=8;break}throw new Error("Failed to apply playlist modification!");case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"add",value:(d=(0,o.Z)(l().mark((function e(t,n,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitAddSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(t,Dl({operation:"add",uris:n},Al(i)));case 5:this._events.emitAddComplete(t,null,n),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitAddComplete(t,(0,Il.T)(e.t0),n),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return d.apply(this,arguments)})},{key:"move",value:(u=(0,o.Z)(l().mark((function e(t,n,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitMoveSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(t,Dl({operation:"move",rows:n.map((function(e){return e.uid}))},Al(i)));case 5:this._events.emitMoveComplete(t,null,n),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitMoveComplete(t,(0,Il.T)(e.t0),n),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return u.apply(this,arguments)})},{key:"remove",value:(c=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitRemoveSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(t,{operation:"remove",rows:n.map((function(e){return e.uid}))});case 5:this._events.emitRemoveComplete(t,null,n),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitRemoveComplete(t,(0,Il.T)(e.t0),n),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return c.apply(this,arguments)})},{key:"uploadImage",value:(s=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,kl.I)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"updateDetails",value:(a=(0,o.Z)(l().mark((function e(t,n){var i,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitUpdateSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:if(i=null,r=(0,we.EC)(t).id,!n.imageUploadToken){e.next=8;break}return e.next=7,(0,yl.i)(this._builder,r,n.imageUploadToken);case 7:i=e.sent;case 8:if(a={},!("name"in n)){e.next=13;break}if(n.name){e.next=12;break}throw Error("Can not set empty playlist name!");case 12:a.name=n.name;case 13:return"description"in n&&(a.description=n.description),null!==i?a.picture=(0,at.zv)(i):null===n.imageUploadToken&&(a.picture=""),e.prev=15,e.next=18,this.applyModification(t,{operation:"set",attributes:a},!1);case 18:this._events.emitUpdateComplete(t,null,n),e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(15),this._events.emitUpdateComplete(t,(0,Il.T)(e.t0),n),e.t0;case 25:case"end":return e.stop()}}),e,this,[[15,21]])}))),function(e,t){return a.apply(this,arguments)})},{key:"setCollaborativeState",value:(r=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitSetCollaborativeSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(t,{operation:"set",attributes:{collaborative:n}},!1);case 5:this._events.emitSetCollaborativeComplete(t,null,n),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitSetCollaborativeComplete(t,(0,Il.T)(e.t0),n),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return r.apply(this,arguments)})},{key:"resolvePlaylistFormatURI",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,wl.J)(this._builder,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getRecommendedTracks",value:(n=(0,o.Z)(l().mark((function e(t,n,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,El.A)(this._builder,t,n,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,i){return n.apply(this,arguments)})},{key:"resync",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._cosmos.post("".concat(Rl,"/").concat(encodeURIComponent(t),"/resync"));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Zl=n(51193),Bl=n(59551),Vl="sp://core-playlist/v2/playlist",Hl=function(){function e(t,n){(0,S.Z)(this,e),this._cosmos=t,this._builder=n,this._events=new Bl.Ti}var t,n,i,r,a,s,c;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{}}},{key:"getEvents",value:function(){return this._events}},{key:"getPermissionGrant",value:(c=(0,o.Z)(l().mark((function e(t,n){var i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={operation:Bl.Qd.GET_PERMISSION_GRANT,uri:t},this._events.emitOperationSync(i),e.prev=2,e.next=5,(0,Zl.Re)(this._builder,t,n);case 5:return r=e.sent,this._events.emitOperationComplete(i),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(i,e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return c.apply(this,arguments)})},{key:"claimPermissions",value:(s=(0,o.Z)(l().mark((function e(t,n){var i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={operation:Bl.Qd.CLAIM_PERMISSION,uri:t,token:n},this._events.emitOperationSync(i),e.prev=2,e.next=5,(0,Zl.jw)(this._builder,t,n);case 5:return r=e.sent,this._events.emitOperationComplete(i),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),this._events.emitOperationComplete(i,e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return s.apply(this,arguments)})},{key:"getMembers",value:(a=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ps.members_response.PlaylistMembersResponse,e.next=3,this._cosmos.get("".concat(Vl,"/members"),{uri:t});case 3:return e.t1=e.sent,n=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",{basePermissionLevel:ul(n.basePermissionLevel),capabilities:dl(n.capabilities),members:ml(n.members)});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"subscribeToMembers",value:function(e,t){return this._cosmos.sub("".concat(Vl,"/members"),(function(e){var n=Ps.members_response.PlaylistMembersResponse.fromJSON(e),i={members:ml(n.members),capabilities:dl(n.capabilities),basePermissionLevel:ul(n.basePermissionLevel)};t(null,i)}),(function(e){t(e)}),{uri:e}).cancel}},{key:"removeMember",value:(r=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={operation:Bl.Qd.REMOVE_MEMBER,uri:t,username:n},this._events.emitOperationSync(i),e.prev=2,e.next=5,this._cosmos.post("".concat(Vl,"/set-member-permission"),{playlist_uri:t,username:n});case 5:this._events.emitOperationComplete(i),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(i,e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t){return r.apply(this,arguments)})},{key:"setMemberPermission",value:(i=(0,o.Z)(l().mark((function e(t,n,i){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={operation:Bl.Qd.SET_MEMBER_PERMISSION,uri:t,permissionLevel:i},this._events.emitOperationSync(r),e.prev=2,e.next=5,this._cosmos.post("".concat(Vl,"/set-member-permission"),{playlist_uri:t,username:n,permission_level:i});case 5:this._events.emitOperationComplete(r),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(r,e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return i.apply(this,arguments)})},{key:"getBasePermission",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Zl.Du)(this._builder,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setBasePermission",value:(t=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={operation:Bl.Qd.SET_BASE_PERMISSION,uri:t,permissionLevel:n},this._events.emitOperationSync(i),e.prev=2,e.next=5,this._cosmos.post("".concat("sp://core-playlist/v1/playlist","/").concat(encodeURIComponent(t),"/set-base-permission"),{permission_level:n});case 5:this._events.emitOperationComplete(i),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),this._events.emitOperationComplete(i,e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,n){return t.apply(this,arguments)})}]),e}(),Gl=(n(71541),n(16204)),Wl=n(56398),zl=n(11607);function Kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var Yl=function(e){(0,O.Z)(r,e);var t,n,i=Kl(r);function r(e,t,n,o){var s;return(0,S.Z)(this,r),s=i.call(this),(0,a.Z)((0,H.Z)(s),"_subscription",null),s._subAggregator=e,s._endpoint=t,s._policy=n,s._contains=o,s}return(0,x.Z)(r,[{key:"subscribeToUpdates",value:function(){this._subscription=this._subAggregator.sub("".concat(this._endpoint,"?start=0&length=0"),(0,Ie.D)(this.onUpdate.bind(this))(100,true),(function(){}),this._policy)}},{key:"unsubscribeFromUpdates",value:function(){null!==this._subscription&&(this._subscription.cancel(),this._subscription=null)}},{key:"onUpdate",value:(n=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.emit(Wl.Yt.UPDATE,null),this.onContainsItems(this._aggregator.getBatch());case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onContainsItems",value:(t=(0,o.Z)(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>0)){e.next=6;break}return n=Array.from(t.keys()),e.next=4,this._contains(n);case 4:i=e.sent,this.emitUpdateItems(n,i);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(zl.w);var ql,Ql,Jl=n(83040),Xl=n(59843),$l=n(36943);function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nc="sp://core-playlist/v1/rootlist",ic="?responseFormat=protobufJson";function rc(e){if(void 0===e)return"";var t=(0,we.EC)(e);if(!t||t.type!==we.JM.FOLDER)throw new Error("Invalid rootlist folder URI!");return"/".concat(t.id)}var ac=(ql={},(0,a.Z)(ql,Gl.bD.NAME,"name"),(0,a.Z)(ql,Gl.bD.ADDED_AT,"addTime"),(0,a.Z)(ql,Gl.bD.RECENTLY_PLAYED,"recentlyPlayedRank"),(0,a.Z)(ql,Gl.bD.RELEVANCE,"frecencyScore"),(0,a.Z)(ql,Gl.bD.AVAILABLE_OFFLINE,"availableOffline"),ql),oc=(Ql={},(0,a.Z)(Ql,Gl.As.ASC,"ASC"),(0,a.Z)(Ql,Gl.As.DESC,"DESC"),Ql);function sc(e){if(!e)return"";var t=e.field,n=e.order,i=n?oc[n]:"";return"&sort=".concat(encodeURIComponent("".concat(ac[t]," ").concat(i).trim()))}var lc=(0,a.Z)({},Gl.R0.TEXT,"text"),cc=(0,a.Z)({},Gl.pg.CONTAINS,"contains");function uc(e){if(null==e||!e.value)return"";var t=e.field,n=e.operator,i=e.value,r=lc[t],a=cc[n];return"&filter=".concat(encodeURIComponent("".concat(r," ").concat(a," ").concat(encodeURIComponent(i))))}var dc=function(){function e(t,n){(0,S.Z)(this,e),(0,a.Z)(this,"_cache",null),(0,a.Z)(this,"_decorationCache",new Oe.Ct(3e5)),(0,a.Z)(this,"_inFlightCache",new Oe.tL),this._cosmos=t,this._builder=n;var i=Ol(t);this._events=function(e,t){return new Yl(e,"sp://core-playlist/v1/rootlist",{policy:{folder:{name:!0},playlist:{name:!0,collaborative:!0}}},t)}(i,this.contains.bind(this))}var t,n,i,r,s,c,u,d,p,m,f,v,g,h;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{canSort:!0,canFilter:!0,canModifyOffline:!0}}},{key:"getMetadata",value:(h=(0,o.Z)(l().mark((function e(){var t,n,i=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(nc).concat(ic),e.t0=Ps.rootlist_request.Response,e.next=4,this._inFlightCache.create("metadata:".concat(t),(function(){return i._cosmos.get(t,Ls)}));case 4:return e.t1=e.sent,n=e.t0.fromJSON.call(e.t0,e.t1),e.abrupt("return",al(n.root));case 7:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"getContents",value:(g=(0,o.Z)(l().mark((function e(t){var n,i,r,a,o,s,c,u,d,p,m=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rc(null==t?void 0:t.folderUri),i=sc(null==t?void 0:t.sort),r=uc((0,$l.cj)(null==t?void 0:t.filter)),v=null==t?void 0:t.offset,a=void 0===v?"":"&start=".concat(v),f=null==t?void 0:t.limit,o=void 0===f?"":"&length=".concat(f),l=null==t?void 0:t.flatten,s=void 0!==l&&l?"&flattenTree":"",c="".concat(nc).concat(n).concat(ic).concat(i).concat(r).concat(a).concat(o).concat(s),e.t0=Ps.rootlist_request.Response,e.next=10,this._inFlightCache.create("contents:".concat(c),(function(){return m._cosmos.get(c,Ms)}));case 10:if(e.t1=e.sent,u=e.t0.fromJSON.call(e.t0,e.t1),d=new Set,p=tc(tc({},cl(u.root,(function(e){(0,Gl.no)(e)&&d.add(e.uri)}))),{},{totalItemCount:u.unrangedLength}),this._cache=d,null==t||!t.decorateImagesAndOwner){e.next=18;break}return e.next=18,(0,Xl.H)(this._builder,this._decorationCache,(0,Jl.qr)(p));case 18:return e.abrupt("return",p);case 19:case"end":return e.stop()}var l,f,v}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"getEvents",value:function(){return this._events}},{key:"onUpdateItems",value:function(e,t){if(null!==this._cache){var n=this._cache;e.forEach((function(e){return t?n.add(e):n.delete(e)}))}this._events.emitUpdateItems(e,t)}},{key:"applyModification",value:(v=(0,o.Z)(l().mark((function e(t){var n,i,r,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(a.length>1&&void 0!==a[1])||a[1],""===(i=Ps.modification_request.ModificationRequest.fromPartial(t)).before&&delete i.before,""===i.after&&delete i.after,e.next=6,this._cosmos.post("".concat(nc).concat(ic),n?i:t);case 6:if((r=e.sent).success){e.next=9;break}throw new Error("Failed to apply rootlist modification!");case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"renameFolder",value:(f=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyModification({operation:"set",attributes:{name:n},rows:[t.uri]});case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"createFolder",value:(m=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyModification(tc(tc({operation:"create",playlist:!1},Al(n)),{},{name:t}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"moveFolder",value:(p=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.move(t,n);case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"removeFolder",value:(d=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyModification({operation:"remove",contents:!0,rows:[t]});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"createPlaylist",value:(u=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitCreatePlaylistSync(t,n)){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,this.applyModification(tc(tc({operation:"create",playlist:!0},Al(n)),{},{name:t}));case 5:return i=e.sent,this._events.emitCreatePlaylistComplete(t,n,i.uri),e.abrupt("return",i.uri);case 10:return e.prev=10,e.t0=e.catch(2),this._events.emitCreatePlaylistComplete(t,n,null,(0,Il.T)(e.t0)),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return u.apply(this,arguments)})},{key:"add",value:(c=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitAddSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.onUpdateItems(t,!0),e.next=6,this.applyModification(tc({operation:"add",uris:t},Al(n)));case 6:this._events.emitAddComplete(t,n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),this.onUpdateItems(t,!1),this._events.emitAddComplete(t,n,(0,Il.T)(e.t0));case 13:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e,t){return c.apply(this,arguments)})},{key:"move",value:(s=(0,o.Z)(l().mark((function e(t,n,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitMoveSync(t,n)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.applyModification(tc({operation:"move",rows:[t.uri]},Al(n)));case 5:this._events.emitMoveComplete(t,n,null,i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this._events.emitMoveComplete(t,n,(0,Il.T)(e.t0));case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return s.apply(this,arguments)})},{key:"remove",value:(r=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._events.emitRemoveSync(t)){e.next=2;break}return e.abrupt("return");case 2:return n=t.map((function(e){return e.uri})),e.prev=3,this.onUpdateItems(n,!1),e.next=7,this.applyModification({operation:"remove",rows:n});case 7:this._events.emitRemoveComplete(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),this.onUpdateItems(n,!0),this._events.emitRemoveComplete(t,(0,Il.T)(e.t0));case 14:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e){return r.apply(this,arguments)})},{key:"contains",value:(i=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.post("".concat(nc,"/contains"),{items:t});case 2:return n=e.sent,e.abrupt("return",n.found);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"containsSync",value:function(e){return null!==this._cache?this._cache.has(e):void 0}},{key:"getPublishedState",value:(n=(0,o.Z)(l().mark((function e(t){var n,i,r,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://core-playlist/v1/playlist/".concat(encodeURIComponent(t),"?start=0&length=0&responseFormat=protobufJson"));case 2:return a=e.sent,o=Ps.playlist_request.Response.fromJSON(a),e.abrupt("return",null!==(n=null===(i=o.playlist)||void 0===i||null===(r=i.playlistMetadata)||void 0===r?void 0:r.published)&&void 0!==n&&n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setPublishedState",value:(t=(0,o.Z)(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applyModification({operation:"set",attributes:{published:n},rows:[t]},!1);case 2:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),pc=n(27581);function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var gc=function(e){(0,O.Z)(i,e);var t,n=vc(i);function i(e,t,r,a){var o;return(0,S.Z)(this,i),(o=n.call(this,r,a))._playlistDataClient=e,o._playlistServiceClient=t,o}return(0,x.Z)(i,[{key:"getPlaylist",value:(t=(0,o.Z)(l().mark((function e(t,n,a){var o,s,c,u,d,p,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,pc.Z)((0,N.Z)(i.prototype),"getPlaylist",this).call(this,t,n,a),this._playlistDataClient.get({uri:t,query:Ss.$r.fromPartial({supportedPlaceholderTypes:[Ss.Un.SHOW],range:{start:null==a?void 0:a.offset,length:null==a?void 0:a.limit}}),policy:Ss.a5.fromPartial({playlist:Ss.LM.fromPartial({numberOfItemsPerLinkType:!0})})})]);case 2:return u=e.sent,d=(0,r.Z)(u,2),p=d[0],m=d[1],e.abrupt("return",fc(fc({},p),{},{metadata:fc(fc({},p.metadata),{},{hasSpotifyAudiobooks:!(null===(o=m.data)||void 0===o||null===(s=o.numberOfItemsPerLinkType)||void 0===s||null===(c=s.find((function(e){return e.linkType===Ss.Un.SHOW})))||void 0===c||!c.numItems)})}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,i){return t.apply(this,arguments)})}]),i}(Ul);function hc(e,t,n){return new gc(new Ss.MR(e),new Ss.p1(e),t,n)}function kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var yc=function(e){(0,O.Z)(n,e);var t=kc(n);function n(e,i,r){var a;return(0,S.Z)(this,n),(a=t.call(this,i,r))._playlistServiceClient=e,a}return(0,x.Z)(n)}(Hl);function bc(e,t,n){return new yc(new Ss.p1(e),t,n)}function Sc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var xc=function(e){(0,O.Z)(n,e);var t=Sc(n);function n(e,i,r,a){var o;return(0,S.Z)(this,n),(o=t.call(this,r,a))._rootlistDataClient=e,o._rootlistModificationClient=i,o}return(0,x.Z)(n)}(dc);function Oc(e,t,n){return new xc(new Ss.lc(e),new Ss.IB(e),t,n)}var wc=n(87808),Nc=n(68838);function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var Ec=Nc.Dq.fromPartial({includeCollectionSongs:!0,includeYourEpisodes:!0,artistPolicy:{timestamp:!0,artistPolicy:{link:!0,name:!0,portraits:!0}},albumPolicy:{timestamp:!0,albumPolicy:{link:!0,name:!0,covers:!0},artistsPolicy:{link:!0,name:!0}},showPolicy:{timestamp:!0,showPolicy:{link:!0,name:!0,publisher:!0,covers:!0,extension:[Cn.AUDIOBOOK_SPECIFICS]}},playlistPolicy:{timestamp:!0,playlistPolicy:{link:!0,name:!0,description:!0,picture:!0,owner:{link:!0,name:!0}}},trackPolicy:{timestamp:!0,trackPolicy:{link:!0,name:!0,isExplicit:!0,is19PlusOnly:!0},albumPolicy:{link:!0,name:!0,covers:!0},artistsPolicy:{link:!0,name:!0}},episodePolicy:{timestamp:!0,showPolicy:{link:!0,name:!0,publisher:!0,covers:!0,extension:[Cn.AUDIOBOOK_SPECIFICS]}},collectionTracksPolicy:{link:!0,timestamp:!0}});function Cc(e){return e?[{url:e,label:"standard"}]:[]}var Pc=function(e){(0,O.Z)(n,e);var t=_c(n);function n(e){var i;return(0,S.Z)(this,n),i=t.call(this),(0,a.Z)((0,H.Z)(i),"_contexts",null),(0,a.Z)((0,H.Z)(i),"_cancellable",null),i._client=new Nc.HB(e),i}return(0,x.Z)(n,[{key:"getContexts",value:function(){var e=this;return null===this._cancellable&&(this._cancellable=this._client.stream(Ec,(function(t){e._contexts=function(e){var t=new Set;return e.context.map((function(e){if(e.artist){var t,n,i,r=e.artist.artistMetadata;return{type:wc.hn.ARTIST,uri:null!==(t=null==r?void 0:r.link)&&void 0!==t?t:"",name:null!==(n=null==r?void 0:r.name)&&void 0!==n?n:"",images:Cc(null==r||null===(i=r.portraits)||void 0===i?void 0:i.standardLink),timestampMs:e.artist.addTime}}if(e.album){var a,o,s,l,c=e.album.albumMetadata,u=new Set;return{type:wc.hn.ALBUM,uri:null!==(a=null==c?void 0:c.link)&&void 0!==a?a:"",name:null!==(o=null==c?void 0:c.name)&&void 0!==o?o:"",images:Cc(null==c||null===(s=c.covers)||void 0===s?void 0:s.standardLink),artists:null!==(l=null==c?void 0:c.artists.map((function(e){return{uri:e.link,name:e.name}})).filter((function(e){return!u.has(e.uri)&&u.add(e.uri)})))&&void 0!==l?l:[],timestampMs:e.album.addTime}}if(e.show){var d,p,m,f,v,g=e.show.showMetadata,h=Bi(null!==(d=null==g?void 0:g.extension)&&void 0!==d?d:[]);if(void 0!==h.audiobookSpecifics){var k,y,b,S,x,O=h.audiobookSpecifics;return{type:wc.hn.AUDIOBOOK,uri:null!==(k=null==g?void 0:g.link)&&void 0!==k?k:"",name:null!==(y=null==g?void 0:g.name)&&void 0!==y?y:"",images:Cc(null==g||null===(b=g.covers)||void 0===b?void 0:b.standardLink),authors:null!==(S=null===(x=O.credits)||void 0===x?void 0:x.authors.map((function(e){return e.name})))&&void 0!==S?S:[],timestampMs:e.show.addTime}}return{type:wc.hn.SHOW,uri:null!==(p=null==g?void 0:g.link)&&void 0!==p?p:"",name:null!==(m=null==g?void 0:g.name)&&void 0!==m?m:"",images:Cc(null==g||null===(f=g.covers)||void 0===f?void 0:f.standardLink),publisher:null!==(v=null==g?void 0:g.publisher)&&void 0!==v?v:"",timestampMs:e.show.addTime}}if(e.playlist){var w,N,_,E,C,P,I,j,A=e.playlist.playlistMetadata;return{type:wc.hn.PLAYLIST,uri:null!==(w=null==A?void 0:A.link)&&void 0!==w?w:"",name:null!==(N=null==A?void 0:A.name)&&void 0!==N?N:"",description:null!==(_=null==A?void 0:A.description)&&void 0!==_?_:"",images:Cc(null==A||null===(E=A.pictures)||void 0===E?void 0:E.standardLink),owner:{uri:null!==(C=null==A||null===(P=A.owner)||void 0===P?void 0:P.link)&&void 0!==C?C:"",displayName:null!==(I=null==A||null===(j=A.owner)||void 0===j?void 0:j.displayName)&&void 0!==I?I:""},timestampMs:e.playlist.addTime}}if(e.track){var T,D,R,F,L,M,U,Z=e.track.trackMetadata;return{type:wc.hn.TRACK,uri:null!==(T=null==Z?void 0:Z.link)&&void 0!==T?T:"",name:null!==(D=null==Z?void 0:Z.name)&&void 0!==D?D:"",images:Cc(null==Z||null===(R=Z.album)||void 0===R||null===(F=R.covers)||void 0===F?void 0:F.standardLink),artists:null!==(L=null==Z?void 0:Z.artist.map((function(e){return{uri:e.link,name:e.name}})))&&void 0!==L?L:[],isExplicit:null!==(M=null==Z?void 0:Z.isExplicit)&&void 0!==M&&M,isMOGEFRestricted:null!==(U=null==Z?void 0:Z.is19PlusOnly)&&void 0!==U&&U,timestampMs:e.track.addTime}}if(e.episode){var B,V,H,G,W,z=e.episode.showMetadata,K=Bi(null!==(B=null==z?void 0:z.extension)&&void 0!==B?B:[]);if(void 0!==K.audiobookSpecifics){var Y,q,Q,J,X,$=K.audiobookSpecifics;return{type:wc.hn.AUDIOBOOK,uri:null!==(Y=null==z?void 0:z.link)&&void 0!==Y?Y:"",name:null!==(q=null==z?void 0:z.name)&&void 0!==q?q:"",images:Cc(null==z||null===(Q=z.covers)||void 0===Q?void 0:Q.standardLink),authors:null!==(J=null===(X=$.credits)||void 0===X?void 0:X.authors.map((function(e){return e.name})))&&void 0!==J?J:[],timestampMs:e.episode.addTime}}return{type:wc.hn.SHOW,uri:null!==(V=null==z?void 0:z.link)&&void 0!==V?V:"",name:null!==(H=null==z?void 0:z.name)&&void 0!==H?H:"",images:Cc(null==z||null===(G=z.covers)||void 0===G?void 0:G.standardLink),publisher:null!==(W=null==z?void 0:z.publisher)&&void 0!==W?W:"",timestampMs:e.episode.addTime}}var ee,te;return e.collectionTracks&&(0,we.zO)(e.collectionTracks.link)?e.collectionTracks.link.endsWith("your-episodes")?{type:wc.hn.YOUR_EPISODES,uri:null!==(te=e.collectionTracks.link)&&void 0!==te?te:"",timestampMs:e.collectionTracks.addTime}:{type:wc.hn.LIKED_SONGS,uri:null!==(ee=e.collectionTracks.link)&&void 0!==ee?ee:"",timestampMs:e.collectionTracks.addTime}:null})).filter(Pa.K).sort((function(e,t){return t.timestampMs-e.timestampMs})).filter((function(e){return!t.has(e.uri)&&t.add(e.uri)}))}(t),e.emit(wc.$f.UPDATE,e._contexts)}))),this._contexts}}]),n}(wc.sw),Ic=n(78302),jc=n(78113),Ac=n(24511),Tc=n(18255),Dc=n(63798),Rc=n(79352),Fc=n(69878);function Lc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mc(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Uc(e,t,n){if(!e.item)throw new Error("Invalid show cosmos response!");var i="number"==typeof t&&"number"==typeof n?t+n:0;return{nextOffset:e.unrangedLength<i?null:i,totalCount:e.unrangedLength,items:e.item.map((function(e){return Jc(e.episodeMetadata,e.episodePlayState)}))}}function Zc(e){var t,n,i,r,a,o,s,l,c,u,d,p,m,f,v,g,h,k,y={},b=Lc(e.show.map((function(e){var t;return null===(t=e.showMetadata)||void 0===t?void 0:t.extension})).filter((function(e){return null!==e})));try{for(b.s();!(k=b.n()).done;){var S=k.value;if(S&&(y=Bi(S)).showAccess)break}}catch(e){b.e(e)}finally{b.f()}return{prompt:null===(t=y)||void 0===t||null===(n=t.showAccess)||void 0===n?void 0:n.prompt,upsellLink:null===(i=y)||void 0===i||null===(r=i.showAccess)||void 0===r?void 0:r.upsellLink,basic:null===(a=y)||void 0===a||null===(o=a.showAccess)||void 0===o?void 0:o.basic,multiPass:(null===(s=y)||void 0===s||null===(l=s.showAccess)||void 0===l?void 0:l.multiPass)&&{title:null===(c=y)||void 0===c||null===(u=c.showAccess)||void 0===u||null===(d=u.multiPass)||void 0===d?void 0:d.title,body:null===(p=y)||void 0===p||null===(m=p.showAccess)||void 0===m||null===(f=m.multiPass)||void 0===f?void 0:f.soaDescription,soaPartners:null===(v=y)||void 0===v||null===(g=v.showAccess)||void 0===g||null===(h=g.multiPass)||void 0===h?void 0:h.soaPartner}}}function Bc(e){var t,n,i,r;return{isPaywalled:null!==(t=null===(n=e.podcastSubscription)||void 0===n?void 0:n.isPaywalled)&&void 0!==t&&t,isUserSubscribed:null!==(i=null===(r=e.podcastSubscription)||void 0===r?void 0:r.isUserSubscribed)&&void 0!==i&&i}}function Vc(e){return e.is19PlusOnly?{label:Ac.KS.NineteenPlus}:e.isExplicit?{label:Ac.KS.Explicit}:{label:Ac.KS.Unknown}}function Hc(e){return void 0===e?[]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e.url})).map((function(e){return{url:e.url,width:e.width,height:e.height}}))}({url:e.standardLink,width:300,height:300},{url:e.smallLink,width:64,height:64},{url:e.largeLink,width:640,height:640})}function Gc(e,t){var n=e.length-t.timeLeft;return{playPositionMilliseconds:1e3*n,playPosition:n,state:t.isPlayed?Ac.sY.Completed:Ac.sY.NotStarted}}function Wc(e){var t=1e3*parseInt(e.publishDate,10);return{isoString:new Date(t).toISOString()}}function zc(e,t){var n,i;if(!e||!t)throw new Error("Error while constructing chapter metadata");var r=Bi(e.extension);return{type:_e.p.CHAPTER,uri:e.link,name:e.name,duration:{milliseconds:1e3*e.length},description:e.description,coverArt:null!==(n=Hc(e.covers))&&void 0!==n?n:[],audio:{items:[]},audioPreview:null,htmlDescription:(null===(i=r.htmlDescription)||void 0===i?void 0:i.htmlDescription)||"",sharingInfo:null,contentRating:Vc(e),playedState:Gc(e,t),book:qc(e.show),playability:Yc(t,r),isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly}}function Kc(e,t,n){if(!e.item)throw new Error("Invalid show cosmos response!");var i="number"==typeof t&&"number"==typeof n?t+n:0;return{nextOffset:e.unrangedLength<i?null:i,totalCount:e.unrangedLength,items:e.item.map((function(e){return zc(e.episodeMetadata,e.episodePlayState)}))}}function Yc(e,t){var n,i,r=!(null==t||null===(n=t.podcastSubscription)||void 0===n||!n.isPaywalled),a=!(null==t||null===(i=t.podcastSubscription)||void 0===i||!i.isUserSubscribed);return{playable:r?a:e.isPlayable,reason:r?Tc.WY.PaymentRequired:Tc.WY.Unknown}}function qc(e){var t;return e?{uri:e.link,name:e.name,coverArt:null!==(t=Hc(e.covers))&&void 0!==t?t:[],trailer:null}:null}function Qc(e){var t,n=null===(t=e.episode)||void 0===t?void 0:t[0];if(!n||!n.episodeMetadata)throw new Error("Error while constructing episode");if(n.episodeMetadata.isBookChapter)return zc(n.episodeMetadata,n.episodePlayState);if(!n.episodeMetadata)throw new Error("Error while constructing episode");return Jc(n.episodeMetadata,n.episodePlayState)}function Jc(e,t){var n,i,r,a;if(!e||!t)throw new Error("Error while constructing episode");var o,s,l,c=Bi(e.extension);return{type:_e.p.EPISODE,uri:e.link,name:e.name,description:e.description,htmlDescription:(null===(n=c.htmlDescription)||void 0===n?void 0:n.htmlDescription)||"",episodeType:Ac.Wf.Unknown,coverArt:null!==(i=Hc(e.covers))&&void 0!==i?i:[],playedState:Gc(e,t),mediaTypes:(l=e,l.mediaTypeEnum===Fc.EK.VODCAST||l.mediaTypeEnum===Fc.EK.VIDEO?[Tc.$_.Audio,Tc.$_.Video]:l.mediaTypeEnum===Fc.EK.AUDIO?[Tc.$_.Audio]:[]),audio:{items:[]},audioPreview:null,sharingInfo:null,segmentsCount:(null===(r=c.podcastSegments)||void 0===r?void 0:r.playbackSegments.length)||0,podcast:(o=e.show,o?{uri:o.link,name:o.name,coverArt:null!==(s=Hc(o.covers))&&void 0!==s?s:[],trailer:null,showTypes:[]}:null),podcastSubscription:Bc(c),releaseDate:Wc(e),playability:Yc(t),contentRating:Vc(e),duration:{milliseconds:1e3*e.length},contentInformation:c.contentInformation||null,transcript:(null===(a=c.transcripts)||void 0===a?void 0:a.transcripts)||null}}var Xc,$c,eu,tu=function(e){switch(e){case Rc.NextBestEpisodeSection_Label.TRAILER:return Tc.it.TRAILER;case Rc.NextBestEpisodeSection_Label.CONTINUE_LISTENING:return Tc.it.CONTINUE_LISTENING;case Rc.NextBestEpisodeSection_Label.LATEST_PUBLISHED:return Tc.it.LATEST_PUBLISHED;case Rc.NextBestEpisodeSection_Label.UP_NEXT:return Tc.it.UP_NEXT;case Rc.NextBestEpisodeSection_Label.FIRST_PUBLISHED:return Tc.it.FIRST_PUBLISHED;default:return Tc.it.UNKNOWN}};function nu(e){if(null!=e&&e.item)return{type:tu(e.label),data:Jc(e.item.episodeMetadata,e.item.episodePlayState)}}function iu(e){var t,n,i,r,a,o,s,l,c=null===(t=e.auxiliarySections)||void 0===t||null===(n=t.trailerSection)||void 0===n?void 0:n.item,u=c?function(e){var t,n=e.episodeMetadata,i=e.episodePlayState;if(!n||!i)throw new Error("Error while constructing trailer");return{type:_e.p.EPISODE,uri:n.link,name:n.name,coverArt:null!==(t=Hc(n.covers))&&void 0!==t?t:[],audio:{items:[]},audioPreview:null,sharingInfo:null,duration:{milliseconds:1e3*n.length},contentRating:Vc(n)}}(c):null,d=null===(i=e.header)||void 0===i?void 0:i.showMetadata;if(!d)throw new Error("Error while constructing podcast metadata");var p,m,f=Bi(d.extension);return{type:_e.p.SHOW,uri:d.link,name:d.name,description:d.description||"",htmlDescription:(null===(r=f.htmlDescription)||void 0===r?void 0:r.htmlDescription)||"",coverArt:null!==(a=Hc(d.covers))&&void 0!==a?a:[],trailer:u,topics:(null===(o=f.podcastTopics)||void 0===o?void 0:o.topics)||[],podcastType:(m=d,m.isMusicAndTalk?"SHOW":"PODCAST"),showTypes:[],publisherName:d.publisher,consumptionOrder:(p=d.consumptionOrder,"sequential"===p?"sequential":"episodic"===p?"episodic":"recent"),nextBestEpisode:nu(null===(s=e.auxiliarySections)||void 0===s?void 0:s.nextBestEpisodeSection),gatedContentAccessReason:(0,Dc.Y)(null===(l=f.showAccess)||void 0===l?void 0:l.unlockedBy)}}function ru(e,t){return{text:e,type:t}}function au(e){return!1===(null==e?void 0:e.isUserMemberOfAtLeastOneGroup)}function ou(e){var t,n,r,a,o,s,l,c,u,d,p,m,f,v=null===(t=e.auxiliarySections)||void 0===t||null===(n=t.trailerSection)||void 0===n?void 0:n.item,g=v?function(e){var t,n,i,r=e.episodeMetadata,a=e.episodePlayState;if(!r||!a)throw new Error("Error while constructing sample");return{type:_e.p.CHAPTER,uri:r.link,name:r.name,coverArt:null!==(t=Hc(r.covers))&&void 0!==t?t:[],audio:{items:[]},audioPreview:null,sharingInfo:null,duration:{milliseconds:1e3*r.length},contentRating:Vc(r),isPlayable:null!==(n=null===(i=e.episodePlayState)||void 0===i?void 0:i.isPlayable)&&void 0!==n&&n}}(v):null,h=null===(r=e.header)||void 0===r?void 0:r.showMetadata;if(!h)throw new Error("Error while constructing book metadata");var k,y,b=Bi(h.extension),S=function(e){var t,n,i;return null!==(t=null==e||null===(n=e.audiobookSpecifics)||void 0===n||null===(i=n.credits)||void 0===i?void 0:i.narrators.map((function(e){return e.name})))&&void 0!==t?t:[]}(b);return{type:_e.p.AUDIOBOOK,uri:h.link,name:h.name,coverArt:null!==(a=Hc(h.covers))&&void 0!==a?a:[],authorName:h.publisher,narrators:S,sample:g,htmlDescriptionPlain:null===(o=b.htmlDescription)||void 0===o?void 0:o.htmlDescription,rating:null==b?void 0:b.rating,isExplicit:h.isExplicit,duration:Number(null===(s=b.audiobookSpecifics)||void 0===s?void 0:s.duration_ms),copyrights:(k=null!==(l=null===(c=b.audiobookSpecifics)||void 0===c||null===(u=c.credits)||void 0===u||null===(d=u.publishers)||void 0===d?void 0:d.map((function(e){return e.name})))&&void 0!==l?l:[],y=h.copyright,[].concat((0,i.Z)(k.map((function(e){return ru(e,"P")}))),(0,i.Z)(y.map((function(e){return ru(e,"C")}))))),publishDate:null===(p=b.audiobookSpecifics)||void 0===p?void 0:p.publish_date,price:null==b?void 0:b.audiobookPrice,isLocked:au(null==b?void 0:b.showAccess),consumptionCapExplanation:null===(m=b.showAccess)||void 0===m?void 0:m.consumptionCapped,gatedContentAccessReason:(0,Dc.Y)(null===(f=b.showAccess)||void 0===f?void 0:f.unlockedBy)}}function su(e){var t,n=null===(t=e.header)||void 0===t?void 0:t.showMetadata;if(null!=n&&n.isBook)return ou(e);if(!n)throw new Error("Error while constructing metadata");return iu(e)}function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uu,du={field:jc.YG.AVAILABLE,operator:jc.NK.EQUALS,value:!0},pu=function(e){return e.TITLE="TITLE",e}(pu||{}),mu=(Xc={},(0,a.Z)(Xc,jc.YG.AVAILABLE,jc.YG.AVAILABLE),(0,a.Z)(Xc,jc.YG.NAME,pu.TITLE),(0,a.Z)(Xc,jc.YG.TEXT,jc.YG.TEXT),(0,a.Z)(Xc,jc.YG.ISPLAYED,jc.YG.ISPLAYED),(0,a.Z)(Xc,jc.YG.STARTEDPLAYING,jc.YG.STARTEDPLAYING),Xc),fu=($c={},(0,a.Z)($c,jc.YG.AVAILABLE,["available"]),(0,a.Z)($c,jc.YG.TEXT,["text"]),(0,a.Z)($c,jc.YG.NAME,["name"]),(0,a.Z)($c,jc.YG.ISPLAYED,["isPlayed"]),(0,a.Z)($c,jc.YG.STARTEDPLAYING,["progress"]),(0,a.Z)($c,pu.TITLE,["title"]),$c),vu=(eu={},(0,a.Z)(eu,jc.NK.CONTAINS,"contains"),(0,a.Z)(eu,jc.NK.EQUALS,"eq"),(0,a.Z)(eu,jc.NK.NOT_EQUALS,"!="),(0,a.Z)(eu,jc.NK.GREATER_THAN,">"),eu);function gu(e){return e.map((function(e){var t=e.field,n=e.operator,i=e.value,r=fu[t],a=vu[n];return"".concat(r," ").concat(a," ").concat(encodeURIComponent(i))})).join(",")}function hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=e||[],gu([].concat((0,i.Z)(e),[du]))}var ku=function(e){return e.ADDED_AT="ADDED_AT",e.DURATION="DURATION",e.TITLE="TITLE",e}(ku||{}),yu=(0,a.Z)({},jc.ay.PUBLISH_DATE,ku.ADDED_AT),bu=(uu={},(0,a.Z)(uu,jc.ay.PUBLISH_DATE,["number","publishDate","name"]),(0,a.Z)(uu,ku.ADDED_AT,["added_at"]),(0,a.Z)(uu,ku.DURATION,["duration"]),(0,a.Z)(uu,ku.TITLE,["title"]),uu);var Su=n(96380),xu=n(55503),Ou=n(48007),wu=n(49792);function Nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,N.Z)(e);if(t){var r=(0,N.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,w.Z)(this,n)}}var _u=function(e){(0,O.Z)(n,e);var t=Nu(n);function n(e){var i;return(0,S.Z)(this,n),i=t.call(this),(0,a.Z)((0,H.Z)(i),"_subscriptions",new Map),i._show_client=e,i.onAddListener(wu.X.UPDATE_LOCKED_STATE,(function(e){var t=e.data.options.uri;i._aggregator.subscribe(t)})),i.onRemoveListener(wu.X.UPDATE_LOCKED_STATE,(function(e){var t=e.data.options.uri;i._aggregator.unsubscribe(t)})),i._aggregator=(0,fa.PP)((function(e){i._subscriptions.forEach((function(t,n){e.has(n)||(t.cancel(),i._subscriptions.delete(n))})),e.forEach((function(e,t){i._subscriptions.has(t)||i._subscriptions.set(t,i._show_client.subDecorate(v.GetDecorateRequest.fromPartial({item:[t],showPolicy:{showPolicy:{extension:[xu.ExtensionKind.SHOW_ACCESS]}}}),(function(e){var n,r,a=null===(n=e.response)||void 0===n?void 0:n.show.find((function(e){return e.link===t}));if(a){var o=Bi(null===(r=a.showMetadata)||void 0===r?void 0:r.extension);o.showAccess&&i.emit(wu.X.UPDATE_LOCKED_STATE,{uri:t,isLocked:au(o.showAccess)})}})))}))})),i}return(0,x.Z)(n)}(wu.T),Eu=v.ListPolicy.fromPartial({showPolicy:{showPolicy:{link:!0,name:!0,publisher:!0,covers:!0}},episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[xu.ExtensionKind.PODCAST_SUBSCRIPTIONS,xu.ExtensionKind.CONTENT_WARNING]},episodePlayedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0},episodeCollectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},episodeSyncPolicy:{offline:!0,syncProgress:!0},progress:!0}),Cu=v.HeaderPolicy.fromPartial({showPolicy:{link:!0,name:!0,description:!0,publisher:!0,isExplicit:!0,covers:!0,mediaTypeEnum:!0,copyrights:!0,isMusicAndTalk:!0,isBook:!0,consumptionOrder:!0,extension:[xu.ExtensionKind.AUDIOBOOK_SPECIFICS,xu.ExtensionKind.PODCAST_SUBSCRIPTIONS,xu.ExtensionKind.PODCAST_TOPICS,xu.ExtensionKind.HTML_DESCRIPTION,xu.ExtensionKind.EPISODE_TRANSCRIPTS,xu.ExtensionKind.PODCAST_RATING,xu.ExtensionKind.AUDIOBOOK_PRICE,xu.ExtensionKind.SHOW_ACCESS]}}),Pu=v.ListPolicy.fromPartial({episodeCollectionPolicy:{isNew:!0},episodePlayedStatePolicy:{playable:!0,timeLeft:!0,isPlayed:!0},episodePolicy:{name:!0,link:!0,length:!0,publishDate:!0,covers:!0,description:!0,mediaTypeEnum:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0}}),Iu=v.ListPolicy.fromPartial({showPolicy:{showPolicy:{link:!0,name:!0,publisher:!0,covers:!0}},episodePolicy:{link:!0,length:!0,name:!0,manifestId:!0,previewId:!0,previewManifestId:!0,description:!0,publishDate:!0,covers:!0,freezeFrames:!0,language:!0,available:!0,mediaTypeEnum:!0,number:!0,backgroundable:!0,isExplicit:!0,type:!0,isMusicAndTalk:!0,is19PlusOnly:!0,isBookChapter:!0,extension:[xu.ExtensionKind.SHOW_ACCESS,xu.ExtensionKind.PODCAST_SEGMENTS,xu.ExtensionKind.PODCAST_SUBSCRIPTIONS,xu.ExtensionKind.HTML_DESCRIPTION,xu.ExtensionKind.CONTENT_WARNING,xu.ExtensionKind.EPISODE_TRANSCRIPTS]},episodePlayedStatePolicy:{timeLeft:!0,isPlayed:!0,playable:!0,playabilityRestriction:!0,lastPlayedAt:!0},episodeCollectionPolicy:{isFollowingShow:!0,isInListenLater:!0,isNew:!0},episodeSyncPolicy:{offline:!0,syncProgress:!0},progress:!0}),ju=function(){function e(t,n){(0,S.Z)(this,e),(0,a.Z)(this,"capabilities",{canSort:!0,canFilter:!0,canGetDefaultSort:!0}),this.remote_configuration=n,this._podcast_paywalls_client=new Su.PodcastPaywallsClient(t),this._show_service_client=new v.ShowServiceClient(t),this._events=new _u(this._show_service_client)}var t,n,i,r,s,c;return(0,x.Z)(e,[{key:"getMetadata",value:(c=(0,o.Z)(l().mark((function e(t){var n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,we.EC)(t).id,e.next=3,this._show_service_client.getShow(v.GetShowRequest.fromPartial({showId:i,range:{start:0,limit:1},headerPolicy:Cu,listPolicy:Pu,sectionsPolicy:{trailerSection:!0,nextBestEpisode:!0}}));case 3:if(void 0!==(r=e.sent).response&&(null===(n=r.status)||void 0===n?void 0:n.code)===v.Status_Code.SUCCESS){e.next=6;break}throw new Error("Error while getting show metadata");case 6:return e.abrupt("return",su(r.response));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getAccessInfo",value:(s=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._show_service_client.getDecorate(v.GetDecorateRequest.fromPartial({item:[t],showPolicy:{showPolicy:{extension:[xu.ExtensionKind.SHOW_ACCESS]}}}));case 2:if(void 0!==(n=e.sent).response){e.next=5;break}throw new Error("decorate request error");case 5:return e.abrupt("return",Zc(n.response));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getBookContents",value:(r=(0,o.Z)(l().mark((function e(t,n){var i,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.doRefreshSubscription){e.next=3;break}return e.next=3,this._podcast_paywalls_client.putShowSubscription(Su.PodcastPaywallsShowSubscriptionRequest.fromPartial({showUri:t}));case 3:return r=(0,we.EC)(t).id,e.next=6,this._show_service_client.getShow(v.GetShowRequest.fromPartial({showId:r,range:{start:n.offset,limit:n.limit},listPolicy:Eu}));case 6:if(void 0!==(a=e.sent).response&&(null===(i=a.status)||void 0===i?void 0:i.code)===v.Status_Code.SUCCESS){e.next=9;break}throw new Error("Error while getting show metadata");case 9:return e.abrupt("return",Kc(a.response,n.offset,n.limit));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getContents",value:(i=(0,o.Z)(l().mark((function e(t,n){var i,r,a,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,we.EC)(t).id,a=Au(n.sort),o=hu(n.filters),e.next=5,this._show_service_client.getShow(v.GetShowRequest.fromPartial({showId:r,sortOrder:a,filter:o,listPolicy:Eu,range:{start:n.offset,limit:n.limit}}));case 5:if(void 0!==(s=e.sent).response&&(null===(i=s.status)||void 0===i?void 0:i.code)===v.Status_Code.SUCCESS){e.next=8;break}throw new Error("Error while getting show metadata: ".concat(null===(c=s.status)||void 0===c?void 0:c.reason));case 8:return e.abrupt("return",Uc(s.response,n.offset,n.limit));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getEpisodeOrChapter",value:(n=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._show_service_client.getDecorate(v.GetDecorateRequest.fromPartial({item:[t],episodePolicy:Iu}));case 2:if(void 0!==(n=e.sent).response){e.next=5;break}throw new Error("decorate request error");case 5:return e.abrupt("return",Qc(n.response));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"checkoutBook",value:(t=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Ou.Q)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"getPlayerSort",value:function(e){return e?(t=function(e){return{field:yu[e.field],order:e.order}}(e),n=t.field,i=t.order,bu[n].map((function(e){return i?"".concat(e," ").concat(i):e}))).join(", "):"";var t,n,i}},{key:"getPlayerFilter",value:function(){return gu(function(e){return(e=e||[]).map((function(e){var t=mu[e.field],n=function(e){return"string"==typeof e.value?'"'.concat(e.value,'"'):e.value}(e);return cu(cu({},e),{},{field:t,value:n})}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]))}},{key:"getEvents",value:function(){return this._events}}]),e}();function Au(e){return(null==e?void 0:e.field)===jc.ay.PUBLISH_DATE&&e.order===jc.i5.ASC?v.SortOrder.PUBLISH_DATE_ASC:(null==e?void 0:e.field)===jc.ay.PUBLISH_DATE&&e.order===jc.i5.DESC?v.SortOrder.PUBLISH_DATE_DESC:v.SortOrder.CONSUMPTION_ORDER_ASC}var Tu=n(86978),Du=n(81179),Ru=n(66687),Fu=function(){function e(t){(0,S.Z)(this,e),this.karaokeServiceClient=new Tu.gw(t)}var t,n,i;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!0}}},{key:"setVocalVolume",value:(i=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.karaokeServiceClient.postVocalVolume({volume:t});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"setStatus",value:(n=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.karaokeServiceClient.postStatus({status:t===Ru.q.ENABLED?Du.KaraokeStatus.ENABLED:Du.KaraokeStatus.DISABLED});case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getStatus",value:(t=(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.karaokeServiceClient.getStatus({});case 2:return t=e.sent,n=t.status,e.abrupt("return",n===Du.KaraokeStatus.ENABLED?Ru.q.ENABLED:Ru.q.DISABLED);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Lu=n(92711),Mu=n(3674),Uu=n(50833);function Zu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=(0,Mu.f)(Rt.createBaseTransport,(0,Uu.w)(),t)).addPlugin(Lu.dv,{WebSocket}),i.addPlugin(n),i.connect(),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vu=n(78978),Hu=n(980),Gu=["country_code","type","ads","catalogue"];function Wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ku(e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,o.Z)(l().mark((function e(t,n){var i,r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:n,images:[]},e.prev=1,e.next=4,t.get("sp://core-profile/v1/profiles",{usernames:[n]});case 4:return r=e.sent,a=r.profiles,e.abrupt("return",a.length>0?a[0]:i);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),Yu.apply(this,arguments)}var qu=function(){function e(t,n){(0,S.Z)(this,e),this._cosmos=t,this._product_state=n}var t,n;return(0,x.Z)(e,[{key:"getUser",value:(n=(0,o.Z)(l().mark((function e(){var t,n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cosmos.get("sp://desktop/v1/session");case 2:return n=e.sent,i=n.username,e.next=6,Ku(this._cosmos,i);case 6:return r=e.sent,e.abrupt("return",{type:_e.p.USER,uri:(0,we.QK)(i).toURI(),username:i,displayName:r.name,images:(null===(t=r.images)||void 0===t?void 0:t.map((function(e){return{url:e.url,width:e.maxWidth,height:e.maxHeight}})))||[],optInTrialPremiumOnlyMarket:!1});case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getProductState",value:(t=(0,o.Z)(l().mark((function e(){var t,n,i,r,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._product_state.getValues(f.GetValuesRequest.fromPartial({}));case 2:return t=e.sent.pairs,n=t.country_code,i=t.type,r=t.ads,a=t.catalogue,o=(0,Hu.Z)(t,Gu),e.abrupt("return",zu({country:n,product:i,ads:r,catalogue:a},o));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Qu=n(93381);function Ju(e){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("sp://desktop/v1/platform");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}var $u=n(6266),ed=n(69428).L.addMiddleware($u._),td=n(1074),nd="app.player.autoplay";function id(e){return[/^spotify:user:\w+:collection$/,/^spotify:ads?:/,/^spotify:episode:/,/^spotify:local:/,/^spotify:internal:local-files/,/^spotify:series:/,/^spotify:show:/].some((function(t){return e.match(t)}))}function rd(e){return ad.apply(this,arguments)}function ad(){return(ad=(0,o.Z)(l().mark((function e(t){var n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get({key:nd});case 2:return i=e.sent,r=i.entries,e.abrupt("return",!(null===(n=r[nd])||void 0===n||!n.bool));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(e){return sd.apply(this,arguments)}function sd(){return(sd=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",td.BC.query(At.b.getInstance(),t).then((function(e){return 200===e.status&&e.body?e.body:null})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ld=function(e){var t,n=null==e||null===(t=e.item)||void 0===t?void 0:t.metadata;return n?{pageInstanceId:n.page_instance_id,interactionId:n.interaction_id}:void 0};function cd(e,t,n,i){t.getEvents().addListener(Ha.rg.CONTEXT_WRAPAROUND,function(){var a=(0,o.Z)(l().mark((function a(o){var s,c,u,d,p,m,f,v,g,h,k,y,b,S,x;return l().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(d=o.data,p=d.contextURI,m=d.previousItemURI,!id(p)){a.next=3;break}return a.abrupt("return");case 3:if("true"!==(null==(f=t.getState())||null===(s=f.context)||void 0===s||null===(c=s.metadata)||void 0===c?void 0:c["disable-autoplay"])){a.next=6;break}return a.abrupt("return");case 6:if(null!=(v=n.getState())&&null!==(u=v.activeDevice)&&void 0!==u&&u.isLocal){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,Promise.all([rd(e),od(p)]);case 11:if(g=a.sent,h=(0,r.Z)(g,2),k=h[0],y=h[1],k&&null!==y){a.next=17;break}return a.abrupt("return");case 17:return b=(0,we.EC)(m),a.next=20,i.getContext(y,{previousTrackURIs:b&&(0,we.wj)(b)?[b.toString()]:[],isAutoplay:!0});case 20:S=a.sent,x={shuffle:!1,repeat:Va.zq.REPEAT_NONE,loggingParams:ld(f)},t.play(S,{featureIdentifier:"infinite-playback",referrerIdentifier:"infinite-playback"},x);case 23:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}var ud=n(60247),dd=function(){function e(t){(0,S.Z)(this,e),this.api=t}return(0,x.Z)(e,[{key:"subscribeToBuddyActivity",value:function(e,t,n){var i,r=this,a=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=null,c=function(){var e=(0,o.Z)(l().mark((function e(){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getBuddyActivity(t);case 3:i=e.sent,n(i.body),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.abrupt("return",{status:200,status_text:"Ok"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,o.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ud.zm)(r.api,t,n);case 2:s=n;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)(l().mark((function e(n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=12;break}return i=s,s=null,e.prev=3,e.next=6,Promise.all([(0,ud.wD)(r.api,t,i),u(n)]);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:e.next=19;break;case 12:return e.prev=12,e.next=15,u(n);case 15:e.next=19;break;case 17:e.prev=17,e.t1=e.catch(12);case 19:case"end":return e.stop()}}),e,null,[[3,8],[12,17]])})));return function(t){return e.apply(this,arguments)}}();return e.matchMessages("hm://presence2/user/".concat(a),c),e.on(Rt.TransportEvent.CONNECTION_ID,function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d(t.data.id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),{cancel:(i=(0,o.Z)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.unmatchMessages("hm://presence2/user/".concat(a),c),s&&(0,ud.wD)(r.api,t,s);case 2:case"end":return n.stop()}}),n)}))),function(){return i.apply(this,arguments)})}}},{key:"getBuddyActivity",value:function(e){return(0,ud.aj)(this.api,e)}},{key:"getBuddyFeed",value:function(){return(0,ud.uM)(this.api)}},{key:"getFacebookFriends",value:function(){return(0,ud.Cs)(this.api)}}]),e}(),pd=function(e){return e.FACEBOOK="FACEBOOK",e}({}),md=function(){function e(t,n,i){(0,S.Z)(this,e),this.cosmos=t,this.buddyFetchApi=n,this.transport=i}var t,n;return(0,x.Z)(e,[{key:"getCapabilities",value:function(){return{isSupported:!0}}},{key:"connectToFacebook",value:function(){return this.cosmos.post("sp://facebook/v1/connection",{enable:!0})}},{key:"subscribeToFacebookConnectionState",value:function(e){return this.cosmos.sub("sp://facebook/v1/connection",(function(t){e(t)}))}},{key:"subscribeToBuddyActivity",value:function(e,t){return this.buddyFetchApi.subscribeToBuddyActivity(this.transport,e,t)}},{key:"fetchFacebookFriends",value:(n=(0,o.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.buddyFetchApi.getFacebookFriends();case 2:return n=e.sent,e.abrupt("return",((null===(t=n.body)||void 0===t?void 0:t.results)||[]).filter((function(e){return e.indexes.includes(pd.FACEBOOK)})).map((function(e){return{title:e.title,uri:e.uri,image:e.image,following:e.following}})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"fetchFriendActivity",value:(t=(0,o.Z)(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,we.EC)(t[0]).username,e.next=3,this.buddyFetchApi.getBuddyActivity(n);case 3:return i=e.sent,e.abrupt("return",i.body?[i.body]:[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),fd=n(34885),vd=n(55279);function gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kd(e,t){return yd.apply(this,arguments)}function yd(){return(yd=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(null===(i=e.sent)){e.next=5;break}return e.abrupt("return",hd(hd({},i),{},{market:"from_token",locale:n,valid:!0}));case 5:return e.abrupt("return",{accessToken:"accessToken",accessTokenExpirationTimestampMs:0,isAnonymous:!1,market:"from_token",locale:n,valid:!1});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("i18n/".concat(t,".json")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xd(e){return Od.apply(this,arguments)}function Od(){return(Od=(0,o.Z)(l().mark((function e(t){var n,i,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bd(t);case 3:return n=e.sent,e.abrupt("return",[t,n]);case 7:return e.prev=7,e.t0=e.catch(0),i=y.go.en,(0,c.n_)({message:"Attempt to use desired locale '".concat(t,"' failed. Using fallback '").concat(i,"'.")}),(0,Ic.PC)(e.t0),e.prev=12,e.next=15,bd(i);case 15:return r=e.sent,e.abrupt("return",[i,r]);case 19:throw e.prev=19,e.t1=e.catch(12),(0,Ic.CG)(e.t1),new Error("Error when getting fallback translation: ".concat(e.t1));case 23:case"end":return e.stop()}}),e,null,[[0,7],[12,19]])})))).apply(this,arguments)}function wd(e,t){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,o.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kd(t,n);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _d(e){var t=new et(new f.ProductStateClient(e)),n=new $e(new h.ScrobbleClient(e));return{streamingRules:function(){return t.streamingRules()},isIncognito:function(){return n.isIncognito()}}}function Ed(e){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,o.Z)(l().mark((function e(t){var n,a,s,c,y,S,x,O,w,N,_,E,C,P,I,A,T,M,U,Z,H,G,W,z,K,q,Q,J,X,$,te,ne,ie,le,ce,pe,fe,ve,ge,he,be,Se,Oe,we,Ne,_e,Ee,Ce,Pe,Ie,je,Ae,Te,Me,Ze,Be,Ve,He,Ge,We,ze,Ke,Ye,qe,Qe,Je,$e,et,tt,nt,it,rt,at,ot,st,lt,ct;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then((function(e){return e.forEach((function(e){return e.unregister()}))})),a="65b708073fc0480ea92a077233ca87bd",s=window.navigator.userAgent.match(ke).groups.version,c=navigator.language,y=(0,Qu.nT)(c),S=(0,de.v)(),x=(0,pn.G)(),dn(S),O=new Gt(S),w=O.getTokenProvider(),N=new qu(S,new f.ProductStateClient(x)),e.next=13,xd(c);case 13:return _=e.sent,E=(0,r.Z)(_,2),C=E[0],P=E[1],(0,vd.u)(P,C,y),e.next=20,Promise.all([Ju(S),wd(w,C),(0,Tt.B)(),me(),N.getUser(),Zu(w,(function(e){return O.createTransportPlugin(e)}))]);case 20:return I=e.sent,A=(0,r.Z)(I,6),T=A[0],M=A[1],U=A[2],Z=A[3],H=A[4],G=A[5],(0,se.d)(G,M,s,T.app_platform),W=(null==H?void 0:H.username)||null,z=new ra.K(null!=W?W:"anonymous"),K=new fn.i(null!=W?W:"anonymous"),q=ue(T,G,a,(function(){return W}),"".concat(a,"-desktop-ui"),!1),Q=new ed({timeout:1e4,clientId:"desktop-ui",transport:G,eventSender:q,version:s,installationId:null===(n=T.event_sender_context_information)||void 0===n?void 0:n.installation_id}),e.next=36,Q.resolve({username:W});case 36:return J=e.sent,X=(0,fd.E)(z),$=g.VK.merge(J,Z,X),te=g.VK.merge(J,Z),ne=$.getValue(jt.eK),ie=(0,mn.PQ)(At.b.getInstance()),le=(0,mn.QM)(ie),ce=new xe(S),pe=_s(S,x,"xpui_2023-06-05_1685977752132_a588f74",ne),fe=new d.M$(x),ve=new ln(fe),ge=Ua(x,At.b.getInstance(),z,fe),he=Aa(null!=W?W:"anonymous",S,x),be=Zr(x,W),Se=$.getValue(Ct.C),Oe=Se?Oc(x,S,At.b.getInstance()):new dc(S,At.b.getInstance()),we=Se?hc(x,S,At.b.getInstance()):new Ul(S,At.b.getInstance()),Ne=Se?bc(x,S,At.b.getInstance()):new Hl(S,At.b.getInstance()),_e=new Fe.l(At.b.getInstance(),ie,pe,!1),Ee=new ju(x,$),Ce=new Ue(new f.ProductStateClient(x),we),Pe=new ta(x,S,z),Ie=new De(S,le),je=new Y(S),Ae=new L(S),Te=new re(S),Me=new ae.$(At.b.getInstance()),Ze=new Re(new h.ScrobbleClient(x)),Be=new Xe(x),Ve=new Pc(x),He=new Vu.z(k.R.getUBILogger({eventSender:q,disableAutoBackgroundMonitoring:!0,playContextUriProvider:{getPlayContextUri:function(){var e,t;return null!==(e=null===(t=pe.getState())||void 0===t?void 0:t.context.uri)&&void 0!==e?e:null}},playbackIdProvider:{getPlaybackId:function(){var e,t;return null!==(e=null===(t=pe.getState())||void 0===t?void 0:t.playbackId)&&void 0!==e?e:null}}}),null!==H),Ge=new F,W&&T.is_developer_mode?(ze="lastVisitedLocation",Ke=z.getItem(ze),(We=Ke instanceof na.d||Ke instanceof ia.y?(0,u.PP)({initialEntries:void 0}):(0,u.PP)({initialEntries:[encodeURI(Ke)]})).listen((function(e){z.setItem(ze,e.pathname)}))):We=(0,u.PP)(),$.getValue(Ct.Cd)||cd((0,m.makePrefs)(x),pe,ve,_e),Ye=new Le.U,qe=$.getValue(jt.R2),Qe=X.getValue(jt.IP),e.next=75,b.gN.getAdState();case 75:return Je=e.sent,$e=Je.app_startup_id.value,et=(0,oe.R)({container:t,history:We,eventSender:q,playerAPI:pe,appStartupId:$e,esperantoAdsMigrationFlag:Qe,hptoRefactorFlag:qe}),tt=$.getValue(Ct.Lp),nt=mt(x,_d(x),q),it=new It(S,new v.ShowServiceClient(x),new f.ProductStateClient(x),new h.ScrobbleClient(x),new p.No(x),(0,m.makePrefs)(x),$,q,tt?[].concat((0,i.Z)(et.vto.factories),[nt]):et.vto.factories),rt=j(At.b.getInstance(),le,pe,x),at=new Fu(x),ot=B(x),st=new ee((0,m.makePrefs)(x),z),lt=new md(S,new dd(At.b.getInstance()),G),ct=new D((0,m.makePrefs)(x)),$.getValue(jt.yA)?je.setTitlebarHeight(V.H):je.setTitlebarHeight(V.m),!0===$.getValue(jt.wZ)&&(0,R.HV)(),e.abrupt("return",{version:s,container:t,operatingSystem:(0,ye.L)(),isDeveloperMode:T.is_developer_mode,isVideoSupported:!0,enableCastConnect:!1,getServiceWorkerMessenger:function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(){return new Promise((function(){}))}));case 1:case"end":return e.stop()}}),e)})));Spicetify.Platform={};Spicetify.Platform["Session"]=M;Spicetify.Platform["Transport"]=G;Spicetify.Platform["EventSender"]=q;Spicetify.Platform["Translations"]=P;Spicetify.Platform["FeatureFlags"]=U;Spicetify.Platform["History"]=We;Spicetify.Platform["AdManagers"]=et;Spicetify.Platform["RemoteConfiguration"]=te;Spicetify.Platform["ActionStoreAPI"]=Ge;Spicetify.Platform["AuthorizationAPI"]=O;Spicetify.Platform["ClipboardAPI"]=Ae;Spicetify.Platform["ConnectAPI"]=ve;Spicetify.Platform["ControlMessageAPI"]=je;Spicetify.Platform["FacebookAPI"]=Te;Spicetify.Platform["FollowAPI"]=Me;Spicetify.Platform["GraphQLLoader"]=ie;Spicetify.Platform["LibraryAPI"]=be;Spicetify.Platform["LocalFilesAPI"]=Pe;Spicetify.Platform["OfflineAPI"]=he;Spicetify.Platform["PlatformData"]=T;Spicetify.Platform["PlayerAPI"]=Spicetify.Player.origin=pe;Spicetify.Platform["PlayHistoryAPI"]=Ie;Spicetify.Platform["PlaylistAPI"]=we;Spicetify.Platform["PlaylistPermissionsAPI"]=Ne;Spicetify.Platform["PrivateSessionAPI"]=Ze;Spicetify.Platform["RadioStationAPI"]=_e;Spicetify.Platform["RecaptchaLoggerAPI"]=Ye;Spicetify.Platform["RecentlyPlayedAPI"]=Ve;Spicetify.Platform["ReportAPI"]=Ce;Spicetify.Platform["RootlistAPI"]=Oe;Spicetify.Platform["SegmentsAPI"]=Be;Spicetify.Platform["ShowAPI"]=Ee;Spicetify.Platform["UpdateAPI"]=ce;Spicetify.Platform["UserAPI"]=N;Spicetify.Platform["VideoAPI"]=it;Spicetify.Platform["EnhanceAPI"]=rt;Spicetify.Platform["SEOExperiments"]={};Spicetify.Platform["SingAlongAPI"]=at;Spicetify.Platform["PlaybackAPI"]=ge;Spicetify.Platform["UBILogger"]=He;Spicetify.Platform["CollectionPlatformAPI"]=ot;Spicetify.Platform["LocalStorageAPI"]=z;Spicetify.Platform["IndexedDbAPI"]=K;Spicetify.Platform["EqualizerAPI"]=st;Spicetify.Platform["BuddyFeedAPI"]=lt;Spicetify.Platform["PanelAPI"]=ct;return function(){return e.apply(this,arguments)}}(),getSession:function(){return M},getTransport:function(){return G},getEventSender:function(){return q},getTranslations:function(){return P},getFeatureFlags:function(){return U},getHistory:function(){return We},getAdManagers:function(){return et},getRemoteConfiguration:function(){return te},getActionStoreAPI:function(){return Ge},getAuthorizationAPI:function(){return O},getClipboardAPI:function(){return Ae},getConnectAPI:function(){return ve},getControlMessageAPI:function(){return je},getFacebookAPI:function(){return Te},getFollowAPI:function(){return Me},getGraphQLLoader:function(){return ie},getLibraryAPI:function(){return be},getLocalFilesAPI:function(){return Pe},getOfflineAPI:function(){return he},getPlatformData:function(){return T},getPlayerAPI:function(){return pe},getPlayHistoryAPI:function(){return Ie},getPlaylistAPI:function(){return we},getPlaylistPermissionsAPI:function(){return Ne},getPrivateSessionAPI:function(){return Ze},getRadioStationAPI:function(){return _e},getRecaptchaLoggerAPI:function(){return Ye},getRecentlyPlayedAPI:function(){return Ve},getReportAPI:function(){return Ce},getRootlistAPI:function(){return Oe},getSegmentsAPI:function(){return Be},getShowAPI:function(){return Ee},getUpdateAPI:function(){return ce},getUserAPI:function(){return N},getVideoAPI:function(){return it},getEnhanceAPI:function(){return rt},getSEOExperiments:function(){return{}},getSingAlongAPI:function(){return at},getPlaybackAPI:function(){return ge},getUBILogger:function(){return He},getCollectionPlatformAPI:function(){return ot},getLocalStorageAPI:function(){return z},getIndexedDbAPI:function(){return K},getEqualizerAPI:function(){return st},getBuddyFeedAPI:function(){return lt},getPanelAPI:function(){return ct}});case 92:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}},47900:(e,t,n)=>{"use strict";n.d(t,{ZO:()=>u,bX:()=>d,c6:()=>c,wW:()=>p});n(3270),n(14863),n(41337),n(46743),n(83001),n(22369),n(27639),n(99024),n(71756),n(81289),n(95675),n(63481),n(49892),n(31781),n(61235),n(69724),n(39975),n(90511),n(82088);var i=n(96268),r=n(35391),a=n(52260),o=(n(16366),n(74553),n(63691),n(70785),n(30697)),s=n(33863);function l(){l=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var o=new RegExp(e,i);return t.set(o,r||t.get(e)),(0,a.Z)(o,n.prototype)}function o(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var a=0;void 0===e[r[a]]&&a+1<r.length;)a++;t[n]=e[r[a]]}return t}),Object.create(null))}return(0,r.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=o(n,this);var i=n.indices;i&&(i.groups=o(i,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var a=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,i.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(o(e,s)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},l.apply(this,arguments)}var c=l(/Spotify\/(.+)\s/,{version:1});function u(){if(!!window.navigator.userAgent.match(c))return s.W.Desktop;var e="serviceWorker"in window.navigator,t=window.matchMedia("(display-mode: standalone)").matches,n="Windows"in window;return e&&(t||n)?s.W.PWA:s.W.Web}function d(){var e="serviceWorker"in window.navigator,t=-1!==window.location.search.indexOf("pwa=1"),n=(0,o.L)()===s.U.ChromeOS;return e&&(n||t)}function p(){return u()===s.W.Desktop}},30697:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,y:()=>s});n(30246);var i=n(19496),r=n.n(i),a=n(33863);function o(){var e=r().parse(window.navigator.userAgent).os.name;return"macOS"===e?a.U.macOS:"Windows"===e?a.U.Windows:"Linux"===e?a.U.Linux:"Chrome OS"===e?a.U.ChromeOS:a.U.Other}function s(){return r().getParser(window.navigator.userAgent).getOSName()||"not_applicable"}},49210:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});n(30246);var i=n(19496),r=n.n(i);function a(){return"Safari"===r().parse(window.navigator.userAgent).browser.name}},33863:(e,t,n)=>{"use strict";n.d(t,{U:()=>r,W:()=>i});var i=function(e){return e.Web="Web",e.PWA="PWA",e.Desktop="Desktop",e}({}),r=function(e){return e.macOS="macOS",e.Windows="Windows",e.Linux="Linux",e.ChromeOS="ChromeOS",e.Other="Other",e}({})},59190:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var i=function(e){return e[e.UPDATE_NONE=0]="UPDATE_NONE",e[e.UPDATE_AVAILABLE=1]="UPDATE_AVAILABLE",e[e.UPDATE_PROCESSING=2]="UPDATE_PROCESSING",e[e.UPDATE_READY=3]="UPDATE_READY",e}({})},46466:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var i=(0,n(59496).createContext)(null)},41212:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var i=n(39130),r=n(59496),a=n(46466);function o(){var e=(0,r.useContext)(a.z),t=(0,r.useState)(null),n=(0,i.Z)(t,2),o=n[0],s=n[1];return(0,r.useEffect)((function(){return e.subscribe(s).cancel}),[e,s]),o}},35839:(e,t,n)=>{"use strict";n.d(t,{G:()=>p,k:()=>m});n(22369),n(39723),n(21861);var i=n(27915),r=n(92449),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=n(45389),u=(n(98853),n(87252));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var p=function(e){return e.UPDATE="update",e}({}),m=function(e){(0,o.Z)(n,e);var t=d(n);function n(){var e;return(0,i.Z)(this,n),e=t.call(this),(0,c.Z)((0,a.Z)(e),"_numListeners",0),e.onAddListener(p.UPDATE,e.onListenerAdded.bind((0,a.Z)(e))),e.onRemoveListener(p.UPDATE,e.onListenerRemoved.bind((0,a.Z)(e))),e}return(0,r.Z)(n,[{key:"onListenerAdded",value:function(){++this._numListeners,this.startListening()}},{key:"onListenerRemoved",value:function(){0==--this._numListeners&&this.stopListening()}}]),n}(u.r)},65686:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>s,nF:()=>f,U5:()=>m});n(59538),n(79611);var i=n(59496),r=new Error("Play History API used without being initialized.\n   Did you provide the context in a a parent component?'"),a=(0,i.createContext)({getContents:function(){throw r}}),o=n(4637),s=function(e){var t=e.instance,n=e.children;return(0,o.jsx)(a.Provider,{value:t,children:n})},l=n(8850),c=n(39130),u=n(10995),d=n.n(u);var p=n(35839);function m(){var e=(0,i.useContext)(a),t=(0,i.useState)(null),n=(0,c.Z)(t,2),r=n[0],o=n[1],s=(0,i.useCallback)((0,l.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o,t.next=3,e.getContents();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)}))),[e]);return function(e,t){var n=(0,i.useContext)(a);(0,i.useEffect)((function(){var i=n.getEvents();return i.addListener(e,t),function(){i.removeListener(e,t)}}),[e,t,n])}(p.G.UPDATE,(function(e){return o(e.data)})),(0,i.useEffect)((function(){s()}),[s]),r}function f(){return(0,i.useContext)(a).getCapabilities().isSupported}},99070:(e,t,n)=>{"use strict";n.d(t,{K:()=>h});var i=n(8850),r=n(10995),a=n.n(r),o=(n(30246),n(62780),n(22369),n(162),n(59496)),s=n(41177),l=n(59272),c=n(17249),u=n(72481),d=n(26352),p=n(66738),m=n(96811),f=n(98328),v=n(60475),g=n(60377);function h(){var e=(0,s.s0)(),t=(0,o.useContext)(p.Z),n=(0,o.useContext)(m.B),r=(0,o.useContext)(d.Ax).request,h=(0,o.useCallback)(function(){var e=(0,i.Z)(a().mark((function e(i,o){var s,l,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Z)(i,0,r);case 2:return s=e.sent,l=s.name,c=s.trackUris,e.next=7,n.createPlaylist(l,o);case 7:if(!(u=e.sent)){e.next=11;break}return e.next=11,t.add(u,c,{before:"start"});case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n,r]),k=(0,o.useCallback)(function(){var e=(0,i.Z)(a().mark((function e(i,o){var s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.r)(i[0],r);case 2:return s=e.sent,e.next=5,n.createPlaylist(s,o);case 5:if(!(l=e.sent)){e.next=9;break}return e.next=9,t.add(l,i,{before:"start"});case 9:return e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n,r]),y=(0,o.useCallback)(function(){var e=(0,i.Z)(a().mark((function e(i,r){var o,s,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMetadata(i);case 2:return o=e.sent,e.next=5,t.getContents(i,{offset:0,limit:o.totalLength});case 5:return s=e.sent,l=(0,g.B1)(o.name),e.next=9,n.createPlaylist(l,r);case 9:if(!(c=e.sent)){e.next=13;break}return e.next=13,t.add(c,s.items.map((function(e){var t;return null!==(t=null==e?void 0:e.uri)&&void 0!==t?t:null})).filter(f.K),{before:"start"});case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n]),b=(0,o.useCallback)(function(){var t=(0,i.Z)(a().mark((function t(i,r){var o,s,d,p,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getMetadata();case 2:return o=t.sent,s=o.ownedPlaylistCount,d=c.ag.get("playlist.new-default-name",s+1),t.next=7,n.createPlaylist(d,null!=r?r:{before:"start"});case 7:return p=t.sent,(m=(0,l.EC)(p))&&e("/playlist/".concat(m.id),{state:{referrer:"your_library",navigationalRoot:u.U.CREATE_PLAYLIST,interactionId:i}}),t.abrupt("return",p);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[n,e]);return{createPlaylist:b,createPlaylistFromAlbum:h,createPlaylistFromTracks:k,createPlaylistFromPlaylist:y}}},60475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,r:()=>d});var i=n(8850),r=n(10995),a=n.n(r),o=(n(30246),n(162),n(59538),n(79611),n(69109),n(59272)),s=n(17249),l=(n(9294),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAlbumNameAndTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}}]}}]}}]}}]}}]}}]}),c=Spicetify.GraphQL.Definitions["getEpisodeName"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getEpisodeName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]},u=Spicetify.GraphQL.Definitions["getTrackName"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getTrackName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]};function d(e,t){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(a().mark((function e(t,n){var i,r,l,d,p,m,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=s.ag.get("playlist.default_playlist_name"),e.prev=1,!(0,o.hn)(t)){e.next=8;break}return e.next=5,n(c,{uri:t});case 5:if("Episode"!==(null==(d=e.sent)||null===(r=d.data)||void 0===r||null===(l=r.episodeUnionV2)||void 0===l?void 0:l.__typename)){e.next=8;break}return e.abrupt("return",d.data.episodeUnionV2.name);case 8:if(!(0,o.wj)(t)){e.next=14;break}return e.next=11,n(u,{uri:t});case 11:if("Track"!==(null==(f=e.sent)||null===(p=f.data)||void 0===p||null===(m=p.trackUnion)||void 0===m?void 0:m.__typename)){e.next=14;break}return e.abrupt("return",f.data.trackUnion.name);case 14:return e.abrupt("return",i);case 17:return e.prev=17,e.t0=e.catch(1),e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function m(e,t,n){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a().mark((function e(t,n,i){var r,o,s,c,u,d,p,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(l,{uri:t,offset:n,limit:200});case 2:if("Album"!==(null==(s=e.sent)||null===(r=s.data)||void 0===r||null===(o=r.albumUnion)||void 0===o?void 0:o.__typename)){e.next=14;break}if(c=s.data.albumUnion,u=c.name,d=c.tracks,p=d.items.map((function(e){return e.track.uri})),!d.pagingInfo.nextOffset){e.next=13;break}if(!(d.pagingInfo.nextOffset<=n||0===p.length)){e.next=9;break}throw new Error("Error while requesting ".concat(t," content, unexpected nextOffset"));case 9:return e.next=11,m(t,d.pagingInfo.nextOffset,i);case 11:return f=e.sent,e.abrupt("return",{name:u,trackUris:p.concat(f.trackUris)});case 13:return e.abrupt("return",{name:u,trackUris:p});case 14:throw new Error("Error while requesting ".concat(t," content"));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},87436:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,i:()=>r});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'PrivateSessionContext' without 'PrivateSessionProvider'!");return e}},17895:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var i=n(39130),r=n(59496),a=n(18042),o=n(87436);function s(){var e=(0,o.E)(),t=(0,r.useState)(!1),n=(0,i.Z)(t,2),s=n[0],l=n[1],c=(0,a.t)();return(0,r.useEffect)((function(){var t=e.subscribeToPrivateSession((function(e){c()&&l(e)}));return function(){t()}}),[e,c]),{isPrivateSession:s,setPrivateSession:(0,r.useCallback)((function(t){e.setPrivateSession(t)}),[e])}}},89887:(e,t,n)=>{"use strict";n.d(t,{B:()=>w});n(30246),n(61235),n(69724),n(39965),n(83001),n(71756),n(39975);var i=n(83014),r=n(27915),a=n(92449);n(16366),n(96669),n(59538),n(79611),n(90511),n(82088),n(43125),n(27639),n(62780),n(22369),n(96807);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"}),c=/[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,u=/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])/,d=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/;function p(e){return null!==e&&c.test(e)}function m(e){return null!==e&&(e<="/"||e>=":"&&e<="@"||"\\"===e||p(e))}function f(e){return null!==e&&u.test(e)}function v(e){return null!==e&&d.test(e)}var g=function(){function e(t,n,i){if((0,r.Z)(this,e),n<0||i<0||n+i>t.length)throw new RangeError;this.data=t,this.offset=n,this.length=i,this.position=0}return(0,a.Z)(e,[{key:"toString",value:function(){return this.data.slice(this.offset,this.offset+this.length).join("")}},{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;if(t<0||n>this.length)throw new RangeError;var i=this.offset+t,r=n-t;return new e(this.data,i,r)}},{key:"nextCodePoint",value:function(){return this.position===this.length?null:this.data[this.offset+this.position++]}}],[{key:"from",value:function(t){var n=Array.from(t.normalize("NFC"));return new e(n,0,n.length)}}]),e}();function h(e){var t;do{t=e.nextCodePoint()}while(null!==t&&p(t)||f(t));return t}function k(e,t){var n=h(e),i=h(t);if(null===i)return{offset:0,length:0};for(var r=e.offset+e.position-1,a=e.offset+e.position;;){if(null===n&&null===i)return{offset:r,length:a-r};if(null===i)return{offset:r,length:a-r};if(null===n)return null;if(0!==l.compare(n,i))return null;a=e.offset+e.position,n=h(e),i=h(t)}}function y(e,t){var n,i,r;do{i=e.position,n=e.nextCodePoint()}while(null!==n&&p(n));if(null!=t&&t.segmentQuotedStrings&&function(e){return null!==e&&('"'===e||"'"===e)}(n)){var a=n;i=e.position;do{r=e.position,n=e.nextCodePoint()}while(null!==n&&n!==a);return null===n&&i===r?null:e.slice(i,r)}do{if(r=e.position,null!=t&&t.segmentCJKUnifieIdeographs&&v(n))break;n=e.nextCodePoint()}while(null!==n&&!m(n));return null===n&&i===r?null:e.slice(i,r)}function b(e){return y(e,{segmentQuotedStrings:!0,segmentCJKUnifieIdeographs:!1})}function S(e){return y(e,{segmentQuotedStrings:!1,segmentCJKUnifieIdeographs:!0})}function x(e,t){for(var n=[],i=S(e);null!==i;i=S(e)){var r=k(i,t.slice());null===r?null===(r=k(e.slice(i.offset),t.slice()))||n.push(r):n.push(r)}return n}function O(e,t){return e.offset===t.offset&&e.length===t.length}function w(e){for(var t=g.from(e),n=[],r=b(t);null!==r;r=b(t)){for(var a=[],s=0;s<(arguments.length<=1?0:arguments.length-1);++s){var l,c=s+1<1||arguments.length<=s+1?void 0:arguments[s+1],u=o(x(g.from(c),r));try{for(u.s();!(l=u.n()).done;){var d=l.value;a.push({text:c,range:d})}}catch(e){u.e(e)}finally{u.f()}}if(0===a.length)return null;n.push.apply(n,(0,i.Z)(a.filter((function(e,t,n){return e.range.length>0&&n.findIndex((function(t){return O(e.range,t.range)}))===t}))))}return n.length>0?n:null}},21918:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var i={disallowTogglingRepeatContextReasons:["endless_context"],disallowTogglingRepeatTrackReasons:["endless_context"],disallowTogglingShuffleReasons:["endless_context"]}},29605:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,t:()=>s});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(void 0),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(!e)throw new Error("useRadioStationAPI must be used within a RadioStationAPIProvider");return e}},98491:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var i=n(59496),r=n(61740),a=n(48472),o=n(29605);function s(e,t){var n=(0,o.t)(),s=(0,r.I0)();return(0,i.useCallback)((function(){s((0,a.pu)()),n.banTrack(e,t)}),[n,s,e,t])}},13961:(e,t,n)=>{"use strict";n.d(t,{l:()=>Z});var i=n(8850),r=n(27915),a=n(92449),o=n(45389),s=n(83014),l=n(10995),c=n.n(l),u=(n(83001),n(22369),n(27639),n(71756),n(70238),n(45880),n(90511),n(162),n(69109),n(62780),n(82088),n(50103),n(16366),n(31781),n(59538),n(79611),n(81289),n(8760),n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59272)),d=n(21918),p=n(32953),m=n(15520),f=n(24122),v=n(63947),g=n(83474),h=(n(30246),n(9294),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchTracksForRadioStation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]}),k=n(24511);function y(e,t){var n,i,r,a;if("Track"!==t.__typename)return function(e){return{type:g.p.TRACK,uri:e.uri,uid:e.uid,name:e.name,album:{type:g.p.ALBUM,uri:e.album_uri,name:e.metadata.album_title,images:[]},artists:[{type:g.p.ARTIST,uri:e.artist_uri,name:e.metadata.artist_name}],images:[{url:e.metadata.image_url}],duration:{milliseconds:0},mediaType:"audio",isExplicit:"true"===e.metadata.is_explicit,is19PlusOnly:!1,isLocal:!1,metadata:e.metadata,provider:"context"}}(e);if(null==t||!t.albumOfTrack)throw new Error("Error decorating tracks for radio station! No Album for track.");var o=null!==(n=null===(i=t.albumOfTrack.coverArt)||void 0===i?void 0:i.sources.map((function(e){return{url:e.url,width:e.width,height:e.height}})))&&void 0!==n?n:[];return{type:g.p.TRACK,uri:t.uri,uid:e.uid,name:t.name,album:{type:g.p.ALBUM,uri:t.albumOfTrack.uri,name:t.albumOfTrack.name,images:o},artists:t.artists.items.map((function(e){return{type:g.p.ARTIST,uri:e.uri,name:e.profile.name}})),images:o,duration:{milliseconds:t.duration.totalMilliseconds},mediaType:"audio",isExplicit:(null===(r=t.contentRating)||void 0===r?void 0:r.label)===k.KS.Explicit,is19PlusOnly:(null===(a=t.contentRating)||void 0===a?void 0:a.label)===k.KS.NineteenPlus,isLocal:!1,metadata:e.metadata,provider:"context"}}function b(e,t){return S.apply(this,arguments)}function S(){return(S=(0,i.Z)(c().mark((function e(t,n){var i,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(h,{uris:n.map((function(e){return e.uri}))});case 2:if(r=e.sent,(null==(a=null==r||null===(i=r.data)||void 0===i?void 0:i.tracks)?void 0:a.length)===n.length){e.next=6;break}throw new Error("Error decorating tracks for radio station! Mismatch in array sizes.");case 6:return e.abrupt("return",n.map((function(e,t){return y(e,a[t])})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(39723),n(21861);var x=n(35391),O=n(23011),w=n(61899),N=n(87252);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,w.Z)(e);if(t){var r=(0,w.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,O.Z)(this,n)}}var E=function(e){return e.BAN="ban",e}({}),C=function(e){(0,x.Z)(n,e);var t=_(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(N.r);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j="hm://radio-apollo/v3/tracks/";function A(e){var t;return null===e?null:null!==(t=new URL(e).searchParams.get("salt"))&&void 0!==t?t:null}function T(e,t,n){var i=[];if(null!==t&&i.push("salt=".concat(t)),n.length>0){var r=n.map((function(e){return(0,u.EC)(e.uri).id})).join(",");i.push("prev_tracks=".concat(r))}return"".concat(j).concat(e,"?").concat(i.join("&"))}function D(e,t,n){return{uri:e,pages:[{items:n,nextPageUrl:t}],restrictions:d.B}}function R(e,t,n){var i,r,a,o=A(null!==(i=null===(r=e.context.pages)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.nextPageUrl)&&void 0!==i?i:null),l=t.item,c=t.nextItems,u=[].concat((0,s.Z)(l?[l]:[]),(0,s.Z)(c.slice(0,n))).filter(f.G_),d=T(t.context.uri,o,u),p=D(t.context.uri,d,u);return I(I({},e),{},{context:p,tracks:u})}function F(e,t,n,i){var r,a,o,s=null!==n?n:e.tracks.filter((function(e){return e.uri!==t})),l=null!==i?i:A(null!==(r=null===(a=e.context.pages)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.nextPageUrl)&&void 0!==r?r:null),c=T(e.stationURI,l,s),u=D(e.stationURI,c,s);return I(I({},e),{},{context:u,tracks:s})}function L(e,t,n){return{stationURI:e.uri,entityURI:e.titleUri,title:e.title,image:{url:e.imageUri},relatedArtists:e.related_artists.map((function(e){return{type:g.p.ARTIST,uri:e.artistUri,name:e.artistName,images:[{url:e.imageUri}]}})),context:t,tracks:n}}function M(e,t){var n,i;return null===e||null===t?e===t:(null===(n=e.item)||void 0===n?void 0:n.uid)===(null===(i=t.item)||void 0===i?void 0:i.uid)&&e.nextItems.length===t.nextItems.length&&e.nextItems.every((function(e,n){var i;return e.uid===(null===(i=t.nextItems[n])||void 0===i?void 0:i.uid)}))}var U={isAutoplay:!1,previousTrackURIs:[]},Z=function(){function e(t,n,i,a){(0,r.Z)(this,e),(0,o.Z)(this,"_events",new C),this._builder=t,this._loader=n,this._playerAPI=i,this._isAnonymous=a}var t,n,s,l,d;return(0,a.Z)(e,[{key:"getCapabilities",value:function(){return{canGetStation:!1===this._isAnonymous}}},{key:"getEvents",value:function(){return this._events}},{key:"fetchStation",value:(d=(0,i.Z)(c().mark((function e(t,n){var i,r,a,o,s=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:U,a=t.replace("spotify:station:","spotify:"),e.next=4,this._builder.build().withMethod("GET").withHost(p.AA).withPath("/stations/".concat(a)).withQueryParameters({count:Math.min(1+n,5),prev_tracks:r.previousTrackURIs.map((function(e){return(0,u.EC)(e).id})).join(","),autoplay:null!==(i=null==r?void 0:r.isAutoplay)&&void 0!==i&&i}).withEndpointIdentifier("/stations/{uri}").send();case 4:return o=e.sent,e.abrupt("return",o.body);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"createStation",value:(l=(0,i.Z)(c().mark((function e(t,n){var i,r,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchStation(t,n);case 2:return i=e.sent,e.next=5,b(this._loader,i.tracks);case 5:if(r=e.sent,a=D(i.uri,i.next_page_url,r),o=L(i,a,r),s=this._playerAPI.getState(),!(0,v.QL)(s,t)){e.next=11;break}return e.abrupt("return",R(o,s,n));case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"getContext",value:(s=(0,i.Z)(c().mark((function e(t,n){var i,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._playerAPI.getCapabilities(),r=i.maxNextTracks,e.next=3,this.fetchStation(t,r,n);case 3:return a=e.sent,e.abrupt("return",D(a.uri,a.next_page_url,a.tracks.map((function(e){return{type:g.p.TRACK,uid:e.uid,uri:e.uri,provider:"context"}}))));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getStation",value:(n=(0,i.Z)(c().mark((function e(t,n){var r,a,o,s,l,d,p,g,h,k=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=(0,u.EC)(t))&&r.type===u.JM.STATION){e.next=3;break}throw new Error("Invalid station URI!");case 3:return a=this._playerAPI.getCapabilities(),o=a.maxNextTracks,s=this._playerAPI.getState(),e.next=7,this.createStation(t,o);case 7:return l=e.sent,d=function(){var e=(0,i.Z)(c().mark((function e(i){var r,a,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.data,a=(0,v.QL)(s,t)!==f.PO.NOT_ACTIVE,u=(0,v.QL)(r,t)!==f.PO.NOT_ACTIVE,a!==u||!M(s,r)){e.next=5;break}return e.abrupt("return");case 5:if(!u){e.next=10;break}l=R(l,r,o),n(l),e.next=15;break;case 10:if(!a){e.next=15;break}return e.next=13,k.createStation(t,o);case 13:l=e.sent,n(l);case 15:s=r;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var i=e.data;i.stationURI!==t||(0,v.QL)(s,t)||(l=F(l,i.trackURI,i.newTracks,i.newSalt),n(l))},g=this._playerAPI.getEvents(),h=this._events,g.addListener(m.rg.UPDATE,d),h.addListener(E.BAN,p),e.abrupt("return",[l,{cancel:function(){g.removeListener(m.rg.UPDATE,d),h.removeListener(E.BAN,p)}}]);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"banTrack",value:(t=(0,i.Z)(c().mark((function e(t,n){var i,r,a,o,s,l,d,m,f=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(i=(0,u.EC)(n))&&i.type===u.JM.TRACK){e.next=3;break}throw new Error("Only tracks can be banned from radio stations!");case 3:return r=this._playerAPI.getCapabilities(),a=r.maxNextTracks,o=this._playerAPI.getState(),(0,v.QL)(o,t)&&((s=[]).push((function(){return f._playerAPI.removeFromQueue([{uri:n,uid:null}])})),(0,v.oT)(o,n)&&s.push((function(){return f._playerAPI.skipToNext()})),s.reduce((function(e,t){return e.then(t)}),Promise.resolve())),e.prev=6,e.next=9,this._builder.build().withMethod("POST").withHost(p.AA).withPath("/stations/".concat(t,"/downs/").concat(i.id)).withQueryParameters({count:Math.min(1+a,5)}).withEndpointIdentifier("/stations/{stationURI}/downs/{id}").send().then((function(e){return e.body}));case 9:return l=e.sent,d=A(l.next_page_url),e.next=13,b(this._loader,l.tracks);case 13:m=e.sent,this._events.emit(E.BAN,{stationURI:t,trackURI:n,newTracks:m,newSalt:d}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),this._events.emit(E.BAN,{stationURI:t,trackURI:n,newTracks:null,newSalt:null});case 20:case"end":return e.stop()}}),e,this,[[6,17]])}))),function(e,n){return t.apply(this,arguments)})}]),e}()},64446:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var i=n(27915),r=n(92449),a=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,[{key:"log",value:function(){}}]),e}()},78636:(e,t,n)=>{"use strict";n.d(t,{P:()=>d,j:()=>p});var i=n(39130),r=(n(69604),n(99975),n(59538),n(79611),n(59496)),a=n(38674),o=n(65481),s=n(20899),l=n(34885),c=n(4637),u=(0,r.createContext)(null),d=function(e){var t=e.children,n=e.configuration,r=(0,s.z)(l.r,o.VK.empty().toJSON()),d=(0,i.Z)(r,2),p=d[0],m=d[1],f=o.VK.merge(n,o.VK.fromJSON(p));return(0,c.jsx)(u.Provider,{value:{localConfiguration:f,remoteConfiguration:n,setOverrides:function(e){return m(o.VK.merge(o.VK.fromJSON(p),e).toJSON())},clearOverrides:function(){return m(o.VK.empty().toJSON())}},children:(0,c.jsx)(a.jj,{configuration:f,children:t})})};function p(){var e=(0,r.useContext)(u);if(null===e)throw new Error("Please wrap your component in RemoteConfigProviderWithOverrides");return e}},34885:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,r:()=>r});n(59538),n(79611);var i=n(65481),r="remote-config-overrides";function a(e){var t=e.getItem(r);if(t instanceof Error)return i.VK.empty();try{return i.VK.fromJSON(t)}catch(e){return i.VK.empty()}}},37401:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});n(59538),n(79611);var i=n(59496),r=new Error("Report API used without being initialized.\n   Did you provide the context in a a parent component?'"),a=(0,i.createContext)({isURIReportable:function(){throw r},canReportPlaylist:function(){throw r},getReportURL:function(){throw r}})},29372:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,g:()=>a});var i=n(59272),r=n(80447),a=function(e){return(0,i.nK)(e)||(0,i.OB)(e)||(0,i.hn)(e)||(0,i.Kv)(e)||(0,i.RS)(e)},o=function(e,t,n,i){return e.getMetadata(t).then((function(e){var t,r="chart"===(null===(t=e.formatListData)||void 0===t?void 0:t.type);return!(!i&&!e.canReportAnnotationAbuse||r||n===e.owner.uri)})).catch((function(e){return(0,r.H)(e),!1}))}},61453:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,s:()=>o});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(void 0),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(!e)throw new Error("useSegmentsAPI must be used within a SegmentsAPIProvider");return e}},48215:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var i=n(59496),r=n(1003),a=n(9271),o=n(19968);function s(e){var t=e.episodeUri,n=e.start,s=e.stop,l=(0,r.n)({uri:t},{featureIdentifier:"episode"}),c=l.togglePlay,u=l.triggerPlay,d=l.isPlaying,p=l.isActive,m=(0,a.Y)((function(e){var t;return null!==(t=(0,o.k)(e))&&void 0!==t?t:0})),f=p&&function(e,t,n){return n>=e&&n<t}(n,s,m),v=d&&f;return{onClick:(0,i.useCallback)((function(e){f?c({seekTo:n,loggingParams:e}):u({seekTo:n,loggingParams:e})}),[f,n,c,u]),isPlaying:v,isActive:f}}},60086:(e,t,n)=>{"use strict";n.d(t,{y:()=>h});n(83809),n(16366),n(31781),n(69109),n(83001),n(22369),n(27639),n(71756),n(70238),n(45880),n(29543),n(70969),n(79611),n(40265),n(46743);var i=n(59496),r=n(61740),a=n(41177),o=n(55530),s=n.n(o),l=n(38995),c=n(59272),u=n(17249),d=n(73691),p=n(76022),m=n(2708),f=n(94152),v=n(98335),g=n(90775),h=function(e){var t,n,o=e.sharingInfo,h=e.uri,k=e.interactionData,y=(0,g.o)(),b=(0,r.I0)(),S=(0,a.TH)().pathname,x=(0,v.k)({type:"link",uri:h}),O=u.ag.getUrlLocale(),w=o;null!==(t=w)&&void 0!==t&&t.shareUrl||(w=function(e,t,n){var i,r=null===(i=(0,c.EC)(e))||void 0===i?void 0:i.toURL(),a=s().create().hex.replace(/-/g,"").substr(0,16),o=(0,c._b)(e).toURL("".concat(p.Li).concat(p.F0).concat(n,"/"));return{shareUrl:t&&r?"".concat(o,"?si=").concat(a):"".concat(r,"?si=").concat(a),shareId:a}}(h,x,O));var N=(null===(n=w)||void 0===n?void 0:n.shareUrl)||"",_=(0,f.s4)();return{onCopyLink:(0,i.useCallback)((function(e){var t,n=N;if(e){var i=new URL(N);e.forEach((function(e,t){return i.searchParams.set(t,e)})),n=i.toString()}if(y(k),(0,m.v)(n),b((0,d.dC)(n)),null!==(t=w)&&void 0!==t&&t.shareId){var r,a=(0,c.EC)(S);_.send((0,l.G)({share_id:null===(r=w)||void 0===r?void 0:r.shareId,entity_uri:h,destination_id:"copy-link",source_page:(null==a?void 0:a.type)||"",source_page_uri:(null==a?void 0:a.toURI())||""}))}}),[b,k,S,y,N,w,h,_])}}},51882:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var i=n(91929);function r(){var e=(0,i.YD)({initialInView:!1}),t=e.ref,n=e.inView,r=(0,i.YD)({initialInView:!1}),a=r.ref,o=r.inView;return{titleRef:t,tracklistRef:a,displayTopBar:!n&&o}}},59672:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>o,I2:()=>s,bl:()=>l,gB:()=>c});var i=n(59272),r=n(17249),a=n(83474),o={url:"https://t.scdn.co/images/3099b3803ad9496896c43f22fe9be8c4.png",width:300,height:300};function s(e){if(!e)return null;var t=(0,i.wG)(e).toURI();return{type:a.p.LIKED_SONGS,uri:t,images:[o],name:r.ag.get("sidebar.liked_songs")}}function l(e){var t=(0,i.wG)(null!=e?e:void 0,"your-episodes").toURI();return{type:a.p.YOUR_EPISODES,images:[],name:r.ag.get("sidebar.your_episodes"),uri:t}}function c(){return{type:a.p.LOCAL_FILES,images:[],name:r.ag.get("local-files"),uri:"spotify:collection:local-files"}}},53547:(e,t,n)=>{"use strict";n.d(t,{C:()=>d,d:()=>u});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.SUBTITLE_LANGUAGES_CHANGED="subtitle_languages_changed",e.PICTURE_IN_PICTURE_CHANGED="picture_in_picture_changed",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},45044:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var i;n(94562);function r(e){var t=e.show,n=e.hide,r=e.msTimeout,a=void 0===r?2500:r;i&&clearTimeout(i),t(),i=setTimeout(n,a)}},10785:(e,t,n)=>{"use strict";n.d(t,{$f:()=>O,A$:()=>ye,AJ:()=>me,AL:()=>fe,Am:()=>ue,B4:()=>be,C$:()=>Ue,C1:()=>q,CM:()=>$,Cc:()=>Le,Cd:()=>r.Cd,Cz:()=>N,DU:()=>je,Dz:()=>H,EW:()=>A,FC:()=>c,GE:()=>S,Gu:()=>ke,HE:()=>Me,HJ:()=>Ze,IP:()=>Ce,JI:()=>Y,Jw:()=>h,KK:()=>_e,KL:()=>Ie,LL:()=>De,Mk:()=>X,Ml:()=>de,Mm:()=>p,Nc:()=>j,Nm:()=>r.Nm,Od:()=>Fe,Oe:()=>Z,Ol:()=>Q,QC:()=>v,R2:()=>le,Up:()=>C,Vv:()=>V,Vz:()=>L,WE:()=>R,We:()=>F,XF:()=>r.XF,XP:()=>Ee,YC:()=>we,YS:()=>r.YS,ZU:()=>K,Zj:()=>k,_c:()=>Se,bM:()=>P,bU:()=>ge,c$:()=>r.c$,cp:()=>f,dE:()=>u,e$:()=>M,e8:()=>se,eK:()=>Re,eQ:()=>Ne,ej:()=>ne,fX:()=>y,gO:()=>r.gO,hT:()=>re,hj:()=>Oe,hw:()=>he,iH:()=>xe,jL:()=>E,k7:()=>Pe,kI:()=>B,mQ:()=>U,nv:()=>r.nv,nz:()=>ie,oF:()=>b,pF:()=>o,q7:()=>ce,qX:()=>ve,rG:()=>d,rS:()=>r.rS,s6:()=>ae,sE:()=>T,sM:()=>r.sM,sm:()=>ee,t$:()=>oe,tc:()=>g,tp:()=>r.tp,ty:()=>G,u8:()=>x,uB:()=>I,v8:()=>te,vW:()=>Ae,vp:()=>D,wA:()=>Te,wZ:()=>pe,wm:()=>z,wy:()=>r.wy,xU:()=>J,y$:()=>_,yA:()=>W,yg:()=>r.yg,yi:()=>m,yr:()=>w,zO:()=>l,zZ:()=>s});var i=n(65481),r=n(87824),a=function(e){return e.WEBAPI="WEBAPI",e.PATHFINDER="PATHFINDER",e}(a||{}),o=function(e){return e.DEFAULT="DEFAULT",e.CALLOUT="CALLOUT",e.ONHOME="ONHOME",e}({}),s=function(e){return e.DISABLED="DISABLED",e.HELMET="HELMET",e.HELMET_AND_SOUND="HELMET_AND_SOUND",e.FELIX="FELIX",e}({}),l=((0,i.JP)({name:"enablePathfinderForArtistPage",description:"Fetch artist page data from pathfinder",default:!1}),(0,i.VL)({name:"podcastMetadataSource",description:"Where to request podcast metadata from",values:a,default:a.WEBAPI}),(0,i.JP)({name:"enableClientXConcertsForArtistPage",description:"Enables the concert features in the Artist page of the web player",default:!1})),c=((0,i.z8)({name:"listen_together_max_number_of_participants",description:"The maximum number of participants allowed in a Listen Together session",lower:2,upper:100,default:6}),(0,i.JP)({name:"useOptimizedESS2NA",description:"Enables ESS2NA optimization in Event Sender",default:!1})),u=(0,i.JP)({name:"enableClientXConcertsHub",description:"Enables the concert HUB features in the the web player",default:!0}),d=((0,i.JP)({name:"enableCombinedRecsConcertsHub",description:"Enables combined event recommendations in the Concerts Hub",default:!1}),(0,i.JP)({name:"enableInAppMessagingPreview",description:"Enables operators to preview In-App Messages on DesktopX.",default:!1})),p=(0,i.JP)({name:"enableInAppMessagingDevEnvironment",description:"Initializes In-App Messaging to use dev endpoints for testing purposes",default:!1}),m=(0,i.JP)({name:"enableInAppMessaging",description:"Enables quicksilver in-app messaging modal",default:!0}),f=(0,i.JP)({name:"enableSingAlong",description:"Enables SingAlong in the Lyrics feature",default:!1}),v=((0,i.JP)({name:"enableInlineCuration",description:"Enables the new inline playlist curation tools",default:!1}),(0,i.JP)({name:"enableUserProfileEdit",description:"Enables editing of user's own profile in Web Player and DesktopX",default:!1}),(0,i.JP)({name:"enableSoundbetterSocialLink",description:"Show soundbetter link in the artist about tab when present",default:!1})),g=(0,i.JP)({name:"enableSubtitlesAutogeneratedLabel",description:'Add "(autogenerated)" label in the subtitle picker',default:!1}),h=(0,i.VL)({name:"searchVisibilityTest",description:"Test to improve search visibility",values:o,default:o.DEFAULT}),k=(0,i.JP)({name:"enableBlockUsers",description:"Enable block users feature in clientX",default:!1}),y=(0,i.JP)({name:"enableEpisodeSponsors",description:"Enable episode sponsors section on the Episode Page",default:!1}),b=(0,i.z8)({name:"episodeSponsorsFetchDelay",description:"Amount of time to wait after a podcast ad starts streaming before fetching the ad's accompanying display ad",default:4200,lower:3888,upper:4242}),S=(0,i.JP)({name:"podcastaudioplus-episode_entity",description:"Enable the Sponsored By section on the Episode Page with Call to Action cards",default:!1}),x=(0,i.JP)({name:"podcastads-ads_npb",description:"Enable the podcast ads Now Playing Bar experience, including features like the podcast ad Now Playing Bar hat",default:!1}),O=(0,i.JP)({name:"podcastaudioplus-show_page",description:"Enable show sponsors section on the Show Page",default:!1}),w=(0,i.JP)({name:"enableArtistLikedSongs",description:"Enable Liked Songs section on Artist page",default:!1}),N=(0,i.JP)({name:"enableHTMLDescriptions",description:"Enable HTML descriptions for Episodes and Shows",default:!1}),_=((0,i.JP)({name:"enableNewPodcastIndicator",description:"Enable NEW indicator for the latest podcast episode",default:!1}),(0,i.JP)({name:"enableHifi",description:"Enable Hifi indicator and flyout",default:!1})),E=(0,i.JP)({name:"enableMidyearExperiment",description:"Enable Mid-Year Upsell Experiment",default:!1}),C=(0,i.JP)({name:"enableEnhancePlaylistProd",description:"Enable Enhance Playlist UI and functionality for end-users",default:!1}),P=(0,i.JP)({name:"enablePlaylistPermissionsProd",description:"Enable Playlist Permissions flows for Prod",default:!1}),I=(0,i.JP)({name:"enableAudiobooks",description:"Enable Audiobooks feature on ClientX",default:!1}),j=(0,i.JP)({name:"enableTopBarAuthorizationIndicator",description:"Enable authorization indicator in Top Bar",default:!1}),A=(0,i.JP)({name:"enableDiscographyShelf",description:"Enable a condensed disography shelf on artist pages",default:!1}),T=(0,i.JP)({name:"enableCovidHubBanner",description:"Display a banner in the Covid-19 hub",default:!1}),D=(0,i.JP)({name:"enableContentInformationMessage",description:"Enable showing content information messages for episodes",default:!1}),R=((0,i.JP)({name:"enableSearchModal",description:"Enable search modal",default:!1}),(0,i.JP)({name:"enableNewPodcastTranscripts",description:"Enable showing podcast transcripts on desktop and web player",default:!1})),F=(0,i.JP)({name:"enableEnhanceLikedSongs",description:"Enable Enhance Liked Songs UI and functionality",default:!1}),L=(0,i.JP)({name:"enableNextBestEpisode",description:"Enable the next best episode block on the show page",default:!1}),M=(0,i.JP)({name:"enableIgnoreInRecommendations",description:"Enable Ignore In Recommendations for desktop and web",default:!1}),U=(0,i.JP)({name:"enableLyricsMatch",description:"Enable Lyrics match labels in search results",default:!1}),Z=(0,i.JP)({name:"enableBrowseViaPathfinder",description:"Fetch Browse data from Pathfinder",default:!1}),B=(0,i.JP)({name:"enableStrangerThingsEasterEgg",description:"Enable the Stranger Things upside down Easter Egg",default:!1}),V=(0,i.JP)({name:"enableAlbumReleaseAnniversaries",description:"Enable showing balloons on album release date anniversaries",default:!1}),H=(0,i.JP)({name:"enableSearchV3",description:"Enable new Search experience",default:!1}),G=((0,i.JP)({name:"enableGabitoAdEvent",description:"Use Gabito AdEvent instead of Gabo AdEvent",default:!1}),(0,i.JP)({name:"enableCarouselsOnHome",description:"Use carousels on Home",default:!1})),W=(0,i.JP)({name:"enableYLXSidebar",description:"Enable Your Library X view of the left sidebar",default:!1}),z=(0,i.JP)({name:"enableYLXStaticImage2Optimizer",description:"Enable Your Library X static image2 optimizer to optimize image urls",default:!1}),K=(0,i.JP)({name:"enableYLXFullCaching",description:"On desktop enable full caching of ylx data for better performance",default:!1}),Y=(0,i.JP)({name:"enableRightSidebar",description:"Enable the view on the right sidebar",default:!1}),q=(0,i.JP)({name:"enableRightSidebarTransitionAnimations",description:"Enable the slide-in/out transition on the right sidebar",default:!1}),Q=(0,i.JP)({name:"enableRightSidebarLyrics",description:"Show lyrics in the right sidebar",default:!1}),J=(0,i.JP)({name:"enableRightSidebarCredits",description:"Show credits in the right sidebar",default:!1}),X=(0,i.JP)({name:"enableRightSidebarExtractedColors",description:"Extract background color based on artwork image",default:!1}),$=(0,i.JP)({name:"enableEmployeeLeaderboardArtists",description:"Enable Artist listening Leaderboard for employees",default:!1}),ee=(0,i.JP)({name:"enableMiniPlayer",description:"Enable Mini Player",default:!1}),te=(0,i.JP)({name:"enableEmployeeLeaderboardPlaylist2022",description:"Enable Playlist listening Leaderboard for employees",default:!1}),ne=(0,i.JP)({name:"enableReportPodcastShows",description:"Enable Report action for podcast shows",default:!1}),ie=(0,i.JP)({name:"enableReportPodcastEpisodes",description:"Enable Report action for podcast episodes",default:!1}),re=(0,i.JP)({name:"enableReportAudiobooks",description:"Enable Report action for audiobooks",default:!1}),ae=(0,i.JP)({name:"enableReportAudiobookChapters",description:"Enable Report action for audiobook chapters",default:!1}),oe=(0,i.JP)({name:"enableDebugWindowBrowserShortcut",description:"Enable Debug Window browser shortcut to make it useable on Web Player",default:!1}),se=(0,i.JP)({name:"enableWhatsNewFeed",description:"Enable the what's new feed panel",default:!1}),le=(0,i.JP)({name:"enableHptoLocationRefactor",description:"Enable new permanent location for HPTO iframe to HptoHtml.js",default:!1}),ce=(0,i.JP)({name:"enableSilenceTrimmer",description:"Enable silence trimming in podcasts",default:!1}),ue=(0,i.JP)({name:"enableSmallPlaybackSpeedIncrements",description:"playback speed range from 0.5-3.5 with every 0.1 increment",default:!1}),de=((0,i.JP)({name:"enableSeeMoreArtistMerch",description:"Enable a link on the album merch shelf to the artist store.",default:!1}),(0,i.JP)({name:"enablePuffin",description:"Enables the Puffin feature",default:!1})),pe=(0,i.JP)({name:"enableYourDJ",description:'Enables the "Your DJ" feature',default:!1}),me=(0,i.JP)({name:"enableShowFollowsSetting",description:"Enable a setting to control if followers and following lists are shown on profile",default:!1}),fe=(0,i.JP)({name:"enableGatedPodcastSubscriberIndicator",description:"Enable showing label indicating access (Subscriber/Purchased) for gated podcasts in show header",default:!1}),ve=((0,i.JP)({name:"enableVideoMerchandizingShow",description:"Enable video podcast indicator for episodes on Show page",default:!1}),(0,i.JP)({name:"enableVideoMerchandizingSearch",description:"Enable video podcast indicator for episodes on Search results",default:!1}),(0,i.JP)({name:"enableConnectNudge",description:"Enable message which nudges people to connect to a device when available",default:!1})),ge=function(e){return e.DISABLED="DISABLED",e.CONTROL="CONTROL",e.VARIANT_1="VARIANT_1",e.VARIANT_2="VARIANT_2",e.VARIANT_3="VARIANT_3",e}({}),he=(0,i.VL)({name:"upgradeButtonCopyTest",description:"Test different copy for premium upgrade buttons",values:ge,default:ge.DISABLED}),ke=(0,i.JP)({name:"enablePremiumPage",description:"Enable Premium Page feature to test conversion within the Desktop/Webplayer",default:!1}),ye=(0,i.JP)({name:"enableAttackOnTitanEasterEgg",description:"Enable Attack on Titan Easter egg turning progress bar red when playing official soundtrack",default:!1}),be=(0,i.JP)({name:"enableCulturalMoments",description:"Enable Cultural Moment pagess",default:!1}),Se=(0,i.JP)({name:"enablePanelSizeCoordination",description:"Enable Panel Size Coordination between the left sidebar, the main view and the right sidebar",default:!1}),xe=(0,i.JP)({name:"enableRemoteDownloads",description:"Enable remote download support through the offline2 system",default:!1}),Oe=(0,i.JP)({name:"enableFamilyDuoConcertsShelf",description:"Enable new live events hub shelf with concerts recommendations for Family and Duo users",default:!1}),we=(0,i.JP)({name:"enableFamilyDuoConcertsShelfRendering",description:"Enable rendering of the new live events hub shelf with concerts recommendations for Family and Duo users",default:!1}),Ne=(0,i.JP)({name:"enableAlbumPrerelease",description:"Enable album prerelease pages",default:!1}),_e=(0,i.JP)({name:"enableYLXTypeaheadSearch",description:"Enable YLX typeahead search letting you start typing a substring and immediately jump to the first matching item",default:!1}),Ee=(0,i.JP)({name:"enableDesktopMusicLeavebehinds",description:"Enable music leavebehinds on eligible playlists for desktop",default:!1}),Ce=(0,i.JP)({name:"enableEsperantoMigration",description:"Enable esperanto Migration for Ad Formats",default:!1}),Pe=(0,i.VL)({name:"enableMandalorianEasterEgg",description:"Enable the Mandalorian easter-egg",values:s,default:s.DISABLED}),Ie=(0,i.JP)({name:"enablePrefetching",description:"Enable prefetching of data for some entity views",default:!1}),je=((0,i.JP)({name:"enableNewLeaderboardTemplate",description:"Enable new leaderboard v3 template served from ARS",default:!1}),(0,i.JP)({name:"enableAlbumCoverArtModal",description:"Enable the cover art modal on the Album page",default:!1})),Ae=((0,i.JP)({name:"enableNewHptoTemplate",description:"Enable new hpto v3 template served from ARS",default:!1}),(0,i.JP)({name:"enableABP",description:"Enable ABP",default:!1})),Te=(0,i.JP)({name:"enableUnsupportedBooklistMessage",description:"Enable showing a message that audiobooks in playlists are currently not supported",default:!1}),De=(0,i.JP)({name:"enableRecencyDeviceSorting",description:"Enable sorting devices in the picker by recent transfer",default:!1}),Re=((0,i.JP)({name:"enableDJNudge",description:"Enable DJ educational nudge",default:!1}),(0,i.JP)({name:"enableSmartShuffle",description:"Enable Smart Shuffle",default:!1})),Fe=(0,i.JP)({name:"enableMyLittleMermaidEasterEgg",description:"Enable My Little Mermaid playlist easter egg",default:!1}),Le=(0,i.JP)({name:"enableMyLittleMermaidEasterEggVideo",description:"Enable My Little Mermaid playlist easter egg video background",default:!1}),Me=(0,i.JP)({name:"enableDesktopWebConcertFeedDateFilter",description:"Enable date filter on desktop Concert Feed",default:!1}),Ue=((0,i.JP)({name:"enableEncoreListRowMigration",description:"Enable Encore ListRow component migration for EpisodeBlock and ChapterBlock",default:!1}),(0,i.JP)({name:"enableConnectHubLink",description:"Enable showing entry point to Connect Hub from Device Picker",default:!1})),Ze=(0,i.JP)({name:"enableSurveyParam",description:"Enable including a param in the url to Connect Hub to show NPS survey",default:!1})},5556:(e,t,n)=>{"use strict";n.d(t,{hd:()=>s,i$:()=>o,j:()=>r,lc:()=>c,mH:()=>a,yB:()=>u,yO:()=>l});var i=function(e){return":".concat(e)},r=i("showId"),a=function(e){return"/show/".concat(e)},o=a(r),s="episodeId",l=i(s),c=function(e){return"/episode/".concat(e)},u=c(l)},1017:(e,t,n)=>{"use strict";n.d(t,{C7:()=>r,Vd:()=>a,rZ:()=>i});var i=function(e){var t=void 0;return void 0===(t=e.session.user?e.session.user.country:e.session.market)&&e.session.productState&&(t=e.session.productState.country),t},r=function(e){return"KR"===i(e)},a=function(e){return"RU"===i(e)}},37146:(e,t,n)=>{"use strict";n.d(t,{br:()=>o,rH:()=>a,yE:()=>s});var i=n(23055),r=function(e){return e.features},a=(0,i.P1)(r,(function(e){return(null==e?void 0:e.enableShows)||!1})),o=(0,i.P1)(r,(function(e){return(null==e?void 0:e.enableI18nLocales)||!1})),s=(0,i.P1)(r,(function(e){return(null==e?void 0:e.isI18nAdditionalPagesEnabled)||!1}))},71700:(e,t,n)=>{"use strict";n.d(t,{d:()=>o,v:()=>s});var i=n(23055),r=n(83474),a=function(e){return e.seoExperiment},o=(0,i.P1)(a,(function(e){return null==e?void 0:e[r.p.ARTIST_CONCERTS]})),s=(0,i.P1)(a,(function(e){return null==e?void 0:e[r.p.SHOW]}))},29893:(e,t,n)=>{"use strict";n.d(t,{$T:()=>a,A$:()=>c,Gf:()=>s,Gg:()=>i,OA:()=>r,QT:()=>u,VG:()=>o,n5:()=>l});n(5538);var i=function(e){return e.session},r=function(e){var t,n,i;return"free"===(null===(t=e.session)||void 0===t||null===(n=t.productState)||void 0===n||null===(i=n.catalogue)||void 0===i?void 0:i.toLowerCase())},a=function(e){var t,n,i;return null!==(null===(t=e.session)||void 0===t?void 0:t.productState)&&1===parseInt(null===(n=e.session)||void 0===n||null===(i=n.productState)||void 0===i?void 0:i.ads,10)},o=function(e){var t,n,i;return"premium"===(null===(t=e.session)||void 0===t||null===(n=t.productState)||void 0===n||null===(i=n.catalogue)||void 0===i?void 0:i.toLowerCase())},s=function(e){var t,n;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.display_name},l=function(e){var t,n;return null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id},c=function(e){var t,n;return(null===(t=e.session)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.images)||[]},u=function(e){var t,n;return"1"===(null===(t=e.session)||void 0===t||null===(n=t.productState)||void 0===n?void 0:n["filter-explicit-content"])}},45287:(e,t,n)=>{"use strict";n.d(t,{G:()=>i,Y:()=>r});var i=function(e){return e.ui.improvedSignupPromptDialog.isOpen},r=function(e){return e.ui.nowPlayingCover.forcedExpandedState}},67268:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,e:()=>r});var i="REQUEST_ME_SUCCESS",r="REQUEST_PRODUCT_STATE_SUCCESS"},73342:(e,t,n)=>{"use strict";n.d(t,{VX:()=>o,y:()=>s,dL:()=>v,zD:()=>d,Tz:()=>p,ls:()=>m,GR:()=>g,cY:()=>N,k9:()=>h,fY:()=>k,qR:()=>f});var i="ACCESS_TOKEN_UPDATE_SUCCESS",r="UPDATE_DISPLAY_NAME_SUCCESS",a="PROFILE_IMAGES_UPDATE_SUCCESS",o="LOAD",s="LOGOUT_REQUEST",l="LOGOUT_SUCCESS",c="SET_COUNTRY_OVERRIDE",u="SET_LOCALE_OVERRIDE";function d(){return{type:o}}function p(){return{type:s}}function m(){return{type:l}}function f(e){return{type:i,authData:e}}function v(e){return{type:r,name:e}}function g(e){return{type:a,images:e}}function h(e){return{type:c,country:e}}function k(e){return{type:u,locale:e}}var y=n(45389),b=(n(30246),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(17249)),S=n(67268);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={isAnonymous:!0,accessToken:"",accessTokenExpirationTimestampMs:0,user:null,locale:b.go.en,productState:null,market:"",valid:!1,overrides:null};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.A:return O(O({},e),{},{user:t.data});case S.e:return O(O({},e),{},{productState:t.data});case i:return O(O({},e),{},{accessToken:t.authData.accessToken,accessTokenExpirationTimestampMs:t.authData.accessTokenExpirationTimestampMs,isAnonymous:t.authData.isAnonymous,valid:!0});case r:return e.user?O(O({},e),{},{user:O(O({},e.user),{},{display_name:t.name})}):e;case a:return e.user?O(O({},e),{},{user:O(O({},e.user),{},{images:t.images})}):e;case c:return O(O({},e),{},{overrides:O(O({},e.overrides),{},{country:t.country})});case u:return O(O({},e),{},{overrides:O(O({},e.overrides),{},{locale:t.locale})});default:return e}}},27257:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var i=n(59496),r=n(98148),a=n(71062),o=n(4637),s=i.forwardRef((function(e,t){var n=e.onClick,i=e.ariaLabel,s=e.standalone,l=void 0!==s&&s,c=e.tabIndex,u=void 0===c?0:c,d=e.className,p=void 0===d?"":d,m=e.icon,f=e.size,v=void 0===f?"md":f,g=e.semanticColor,h=e.condensed,k=e.condensedAll,y=e.disableTooltip,b=void 0!==y&&y,S=e.testId,x=e.disabled,O=void 0!==x&&x,w=m;return(0,o.jsx)(a.w,{label:i,disabled:b,children:(0,o.jsx)(r.o,{"":S,className:p,onClick:n,"aria-label":i,"aria-hidden":l,tabIndex:u,ref:t,iconOnly:w,buttonSize:v,semanticColor:g,condensed:h,condensedAll:k,disabled:O})})}))},56143:(e,t,n)=>{"use strict";n.d(t,{qE:()=>v,ul:()=>f,JM:()=>g});var i=n(45389),r=n(59496),a=n(84875),o=n.n(a);const s={PlayButton:"main-playButton-PlayButton",primary:"main-playButton-primary",secondary:"main-playButton-secondary",transparent:"main-playButton-transparent",lockIcon:"main-playButton-lockIcon"};var l=n(17249),c=n(30597),u=n(47453),d=n(62523),p=n(71062),m=n(4637),f=function(e){return e.primary="primary",e.secondary="secondary",e.transparent="transparent",e}({}),v=function(e){return e[e.xxs=16]="xxs",e[e.xs=32]="xs",e[e.sm=40]="sm",e[e.md=48]="md",e[e.lg=56]="lg",e[e.xl=64]="xl",e}({}),g=r.memo((0,r.forwardRef)((function(e,t){var n=e.onClick,r=e.isPlaying,a=e.locked,g=e.version,h=void 0===g?f.primary:g,k=e.size,y=void 0===k?v.sm:k,b=e.disabled,S=void 0!==b&&b,x=e.children,O=e.ariaPauseLabel,w=e.ariaPlayLabel,N=e.isLoading,_=y===v.lg?24:16,E=(0,i.Z)({},"--size","".concat(y,"px")),C=l.ag.get("play");C=a?l.ag.get("mwp.header.content.unavailable"):r?null!=O?O:l.ag.get("pause"):null!=w?w:l.ag.get("play");var P=r?(0,m.jsx)(c.k,{"aria-hidden":!0}):(0,m.jsx)(u.J,{"aria-hidden":!0});return(0,m.jsx)(p.w,{label:C,children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("button",{style:E,className:o()(s.PlayButton,s[h],"encore-bright-accent-set"),onClick:function(e){var t=e.currentTarget,i=e.detail;n(e),i>0&&t&&t.blur()},disabled:S||N,"aria-label":C,ref:t,"":"play-button",children:[P,a&&(0,m.jsx)(d.Z,{color:"black",className:s.lockIcon,iconSize:_})]}),x]})})})))},76490:(e,t,n)=>{"use strict";n.d(t,{u:()=>g,f:()=>h});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(17249),o=n(47453),s=n(62523),l=n(30597),c=n(63892),u=n(98148);const d="main-playButton-PlayButton";var p=n(71062),m=n(4637);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){return e.primary="primary",e.secondary="secondary",e.transparent="transparent",e}({}),h=r.memo((0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.isPlaying,r=e.locked,f=e.version,h=void 0===f?g.primary:f,k=e.size,y=void 0===k?"md":k,b=e.disabled,S=void 0!==b&&b,x=e.children,O=e.ariaPauseLabel,w=e.ariaPlayLabel,N=e.isLoading,_=function(e){var t=e.currentTarget,i=e.detail;n(e),i>0&&t&&t.blur()},E=a.ag.get("play"),C=o.J;r?(E=a.ag.get("mwp.header.content.unavailable"),C=s.Z):i?(E=null!=O?O:a.ag.get("pause"),C=l.k):E=null!=w?w:E;return(0,m.jsx)(p.w,{label:a.ag.get("play-button.label"),children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:d,children:function(){var e={iconOnly:C,buttonSize:y,onClick:_,disabled:S||N,"aria-label":E,ref:t,"":"play-button"};switch(h){case g.secondary:return(0,m.jsx)(c.D,v(v({},e),{},{colorSet:"invertedLight"}));case g.transparent:return(0,m.jsx)(u.o,v(v({},e),{},{semanticColor:"textBase"}));default:return(0,m.jsx)(c.D,v({},e))}}()}),x]})})})))},92722:(e,t,n)=>{"use strict";n.d(t,{y:()=>u});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(17271),o=n(4637),s=["children"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.children,n=(0,r.Z)(e,s);return(0,o.jsx)(a.x,c(c({},n),{},{action:"toggle",trigger:"click",children:t}))}},17271:(e,t,n)=>{"use strict";n.d(t,{x:()=>y});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(88652),a=n(18830),o=n(59496),s=n(36157),l=n(4637),c=function(e){var t=e.toggleContextMenu,n=e.children;return(0,l.jsx)(l.Fragment,{children:o.cloneElement(n,{onClick:function(e){var i,r;null===(i=(r=n.props).onClick)||void 0===i||i.call(r,e),t(e)}})})},u=function(e){var t=e.openContextMenu,n=e.children,i=(0,r.qT)();return(0,l.jsx)(l.Fragment,{children:o.cloneElement(n,{onFocus:function(e){var i,r;document.documentElement.classList.contains("no-focus-outline")||(null===(i=(r=n.props).onFocus)||void 0===i||i.call(r,e),t(e))},onBlur:function(e){var t,r;null===(t=(r=n.props).onBlur)||void 0===t||t.call(r,e),i({type:"close"})},onMouseEnter:function(e){var i,r;null===(i=(r=n.props).onMouseEnter)||void 0===i||i.call(r,e),t(e)},onMouseLeave:function(e){var t,r;null===(t=(r=n.props).onMouseLeave)||void 0===t||t.call(r,e),i({type:"close"})}})})},d=(n(37193),n(40265),function(e){var t=e.openContextMenu,n=e.children;var i=(0,r.qT)(),a=(0,r.Np)().isTouching,s=(0,o.useRef)();return(0,l.jsx)(l.Fragment,{children:o.cloneElement(n,{onContextMenu:function(e){var i,r;null===(i=(r=n.props).onContextMenu)||void 0===i||i.call(r,e),a||t(e),e.stopPropagation()},onTouchStart:function(e){var t,r;s.current=Date.now(),null===(t=(r=n.props).onTouchStart)||void 0===t||t.call(r,e),i({type:"touch",value:!0})},onTouchEnd:function(e){var r,a,o;null===(r=(a=n.props).onTouchEnd)||void 0===r||r.call(a,e),(o=s.current)&&Date.now()-500>o&&(i({type:"touch",value:!1}),t(e)),document.body.hasAttribute("data-dragging-type")&&document.body.removeAttribute("data-dragging-type"),document.body.hasAttribute("data-dragging-uri-type")&&document.body.removeAttribute("data-dragging-uri-type")}})})}),p=(0,o.forwardRef)((function(e,t){var n=e.isOpen,i=e.handleContextMenu,r=e.trigger,a=e.children;return(0,s.x)(a)?(0,l.jsx)(l.Fragment,{children:a(n,i,t)}):"click"===r?(0,l.jsx)(c,{toggleContextMenu:i,children:a}):"right-click"===r?(0,l.jsx)(d,{openContextMenu:i,children:a}):"hover-or-focus"===r?(0,l.jsx)(u,{openContextMenu:i,children:a}):(0,l.jsx)(l.Fragment,{children:(0,o.cloneElement)(a,{ref:t})})})),m=n(35274);function f(e){if(!e)return{x:0,y:0};if(function(e){return"touchend"===e.type||"touchstart"===e.type}(e))return{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(function(e){if("clientX"in e&&"clientY"in e)return 0!==e.clientX&&0!==e.clientY;return!1}(e))return{x:e.clientX,y:e.clientY};var t=e.target.getBoundingClientRect();return{x:t.x+t.width/2,y:t.y+t.height}}var v=n(90135);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t,n=e.children,i=e.menu,o=e.action,s=void 0===o?"toggle":o,c=e.trigger,u=void 0===c?"click":c,d=e.renderInline,g=void 0!==d&&d,h=e.offset,k=void 0===h?[0,8]:h,y=e.placement,b=void 0===y?"bottom-start":y,S=e.preventScrollingWhileOpen,x=void 0===S||S,O=e.onShow,w=e.onHide,N=(0,r.qT)(),_=(0,r.Np)(),E=(0,a.c)({action:s,menu:i}),C=(0,v.ky)();return(0,l.jsx)(m.t,{onClickOutside:function(){N({type:"close"})},placement:b,trigger:u,offset:k,preventScrollingWhileOpen:x,triggerRef:null!==(t=_.triggerElement)&&void 0!==t?t:void 0,appendTo:!C||g?void 0:function(){return C.body},isOpen:_.isOpen,position:f(_.event),menu:_.menu,onShow:O,onHide:function(){N({type:"close"});for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==w||w.apply(void 0,t)},children:(0,l.jsx)(p,{isOpen:_.isOpen,handleContextMenu:E,trigger:u,children:n})})},y=function(e){return(0,l.jsx)(r.du,{children:(0,l.jsx)(k,h({},e))})}},54691:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(17271),a=n(4637);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=Spicetify.ReactComponent.RightClickMenu=e=>(0,a.jsx)(r.x,s(s({},e),{},{action:"open",trigger:"right-click"}));Spicetify.ReactComponent.ContextMenu=r.x;},14255:(e,t,n)=>{"use strict";n.d(t,{v:()=>k});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(59496),o=n(84875),s=n.n(o),l=n(41387),c=n(71337),u=n(88652),d=n(30406),p=n(8338),m=n(78302),f=n(4637),v=["children","onClose","getInitialFocusElement"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=Spicetify.ReactComponent.Menu=function(e){var t=e.children,n=e.onClose,i=e.getInitialFocusElement,o=(0,r.Z)(e,v),g=(0,u.qT)(),k=(0,a.useCallback)((function(){null==n||n(),g({type:"close"})}),[g,n]),y=(0,a.useCallback)((function(e){g({type:"modifierKeyHeld",value:e.altKey||e.ctrlKey})}),[g]);return(0,f.jsx)(d.L,{onError:function(e){return(0,m.vK)(e,"Menu")},children:(0,f.jsx)(p.m,{children:(0,f.jsx)(l.I_,h(h({className:s()("encore-dark-theme",c.Z.menu),onClose:k,onKeyDown:y,onKeyUp:y,getInitialFocusElement:i},o),{},{children:t}))})})}},15134:(e,t,n)=>{"use strict";n.d(t,{F:()=>u});var i=n(45389),r=n(84875),a=n.n(r),o=n(10506),s=n(71337),l=n(41387),c=n(4637),u=function(e){var t,n=e.children,r=e.divider;return(0,c.jsx)(l._w,{className:s.Z.menuItem,children:(0,c.jsx)(o.D,{className:a()(s.Z.menuHeading,"ellipsis-one-line",(t={},(0,i.Z)(t,s.Z.dividerBefore,"before"===r),(0,i.Z)(t,s.Z.dividerAfter,"after"===r),t)),variant:"finaleBold",dir:"auto","aria-hidden":!0,children:n})})}},19224:(e,t,n)=>{"use strict";n.d(t,{s:()=>y});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(59496),o=n(84875),s=n.n(o),l=n(71337),c=n(88652),u=n(41387),d=n(51146),p=n(89597),m=n(10506),f=n(11145),v=n(4637),g=["children","disabled","divider","onClick","leadingIcon","trailingIcon","elementRef","CheckedIcon"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=Spicetify.ReactComponent.MenuItem=function(e){var t,n=e.children,o=e.disabled,h=e.divider,y=e.onClick,b=void 0===y?function(){}:y,S=e.leadingIcon,x=e.trailingIcon,O=e.elementRef,w=e.CheckedIcon,N=void 0===w?p.N:w,_=(0,r.Z)(e,g),E=(0,c.qT)(),C=(0,a.useRef)(null),P=(0,a.useCallback)((function(e){C.current=e,O&&O(e)}),[O]),I=(0,f.n)(C),j=I.handleMouseEnter,A=I.handleMouseLeave,T=I.handleFocus,D=(0,a.useCallback)((function(e){e.stopPropagation(),b(e),o||E({type:"close"})}),[b,E,o]),R=(0,a.useCallback)((function(e){e.stopPropagation()}),[]);return(0,v.jsx)(d._,{className:l.Z.menuItem,children:(0,v.jsxs)(u.IZ,k(k({className:s()(l.Z.menuItemButton,(t={},(0,i.Z)(t,l.Z.disabled,o),(0,i.Z)(t,l.Z.dividerBefore,"before"===h||"both"===h),(0,i.Z)(t,l.Z.dividerAfter,"after"===h||"both"===h),t)),"aria-disabled":o,onClick:D,onFocus:T,onMouseEnter:j,onMouseLeave:A,onContextMenu:R,ref:P},_),{},{children:[S,(0,v.jsx)(m.D,{variant:"mesto",dir:"auto",className:s()("ellipsis-one-line",l.Z.menuItemLabel),children:n}),x,_["aria-checked"]&&N&&(0,v.jsx)(N,{iconSize:16})]}))})}},11446:(e,t,n)=>{"use strict";n.d(t,{W:()=>h});var i=n(39130),r=n(59496),a=n(71337),o=n(31217),s=n(41387),l=n(45389),c=n(84875),u=n.n(c),d=n(51146),p=n(11145),m=n(4637),f=(0,r.forwardRef)((function(e,t){var n,i=e.children,o=e.disabled,c=void 0!==o&&o,f=e.onClick,v=void 0===f?function(){}:f,g=e.setIsOpen,h=e.onTouchStart,k=e.outerRef,y=e.divider,b=(0,p.n)(k,g),S=b.handleMouseEnter,x=b.handleMouseLeave,O=b.handleFocus,w=(0,r.useCallback)((function(e){e.stopPropagation(),v(e)}),[v]),N=(0,r.useCallback)((function(e){e.stopPropagation()}),[]);return(0,m.jsx)(d._,{className:a.Z.menuItem,children:(0,m.jsx)(s.IZ,{className:u()(a.Z.menuItemButton,(n={},(0,l.Z)(n,a.Z.disabled,c),(0,l.Z)(n,a.Z.dividerBefore,"before"===y),(0,l.Z)(n,a.Z.dividerAfter,"after"===y),n)),onClick:w,onFocus:O,onMouseEnter:S,onMouseLeave:x,onTouchStart:h,onContextMenu:N,ref:t,role:"menuitem",children:i})})})),v=n(70802),g=n(10506),h=function(e){var t=e.displayText,n=e.depth,l=void 0===n?1:n,c=e.children,u=e.divider,d=e.placement,p=void 0===d?"right-start":d,h=e.onOpenChange,k=e.onClick,y=(0,r.useState)(!1),b=(0,i.Z)(y,2),S=b[0],x=b[1],O=(0,r.useRef)(null),w=(0,r.useCallback)((function(){x((function(e){return!e}))}),[]),N=(0,r.useRef)(h);return N.current=h,(0,r.useEffect)((function(){var e;return null===(e=N.current)||void 0===e?void 0:e.call(N,S)}),[S]),(0,m.jsx)(o.ZP,{render:function(){return(0,m.jsx)(s.so,{className:a.Z.menu,depth:l,children:c})},offset:[0,0],interactive:!0,visible:S,arrow:!1,animation:!1,placement:p,popperOptions:{modifiers:[{name:"preventOverflow",options:{boundary:document.body,altAxis:!0}},{name:"flip",options:{boundary:document.body}}]},children:(0,m.jsxs)(f,{divider:u,setIsOpen:x,onTouchStart:w,ref:O,outerRef:O,onClick:k,children:[(0,m.jsx)(g.D,{variant:"mesto",dir:"auto",className:"ellipsis-one-line",children:t}),(0,m.jsx)("span",{children:(0,m.jsx)(v.U,{className:a.Z.subMenuIcon,iconSize:16,"aria-hidden":"true"})})]})})}},47982:(e,t,n)=>{"use strict";n.d(t,{_P:()=>a._,xV:()=>i.x,yj:()=>r.y});var i=n(17271),r=n(92722),a=n(54691)},35274:(e,t,n)=>{"use strict";n.d(t,{t:()=>d,x:()=>u});var i=n(45389),r=(n(98853),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),a=n(31217),o=n(78142),s=n(4637);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u="context-menu",d=function(e){var t=e.menu,n=e.onClickOutside,i=e.children,l=e.trigger,d=e.offset,p=e.placement,m=e.isOpen,f=e.preventScrollingWhileOpen,v=e.triggerRef,g=e.position,h=e.onShow,k=e.onHide,y=e.appendTo,b=(0,r.useRef)(null),S=(0,r.useRef)(null);!function(e,t){(0,r.useEffect)((function(){var n=function(e){t.current&&!t.current.contains(e.target)&&e.preventDefault()};if(e){var i={passive:!1};window.addEventListener("mousewheel",n,i),window.addEventListener("touchmove",n,i)}return function(){window.removeEventListener("mousewheel",n),window.removeEventListener("touchmove",n)}}),[e,t])}(m&&f,b);var x=function(e,t){var n=(0,r.useRef)(0),i=(0,r.useCallback)((function(){cancelAnimationFrame(n.current)}),[]),a=(0,r.useCallback)((function(){var i,r,o;e.current&&0!==(null===(i=e.current)||void 0===i?void 0:i.getBoundingClientRect().width)?(null===(r=t.current)||void 0===r||null===(o=r.popperInstance)||void 0===o||o.update(),cancelAnimationFrame(n.current)):n.current=requestAnimationFrame(a)}),[e,t]);return(0,r.useEffect)((function(){return function(){cancelAnimationFrame(n.current)}}),[a]),{updateAfterFirstLayout:a,cancel:i}}(b,S),O=x.updateAfterFirstLayout,w=x.cancel,N=(0,r.useCallback)((function(e){w(),e.reference.removeAttribute("data-context-menu-open"),k()}),[w,k]);return(0,r.useEffect)((function(){var e=S.current;if(!e||!e.reference||"click"===l)return function(){};var t=e.reference,n=N.bind(undefined,e);return t.addEventListener("click",n),function(){t.removeEventListener("click",n)}}),[b,S,N,l]),(0,s.jsxs)(s.Fragment,{children:[i,m&&(0,s.jsx)(a.ZP,c(c({onCreate:function(e){S.current=e},onShow:function(e){O(),e.reference.setAttribute("data-context-menu-open","true"),null==h||h(e)},onHide:N,visible:m,render:function(e){return(0,s.jsx)(o.ZP,{value:"contextmenu",children:(0,s.jsx)("div",{ref:b,id:u,"data-placement":e["data-placement"],children:m?t:null})})},arrow:!0,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,padding:10,tether:!1}},{name:"arrow",options:{padding:10}}]},placement:p,onClickOutside:function(){null==n||n()},interactive:!0,offset:d},y?{appendTo:y}:{}),{},{reference:v,getReferenceClientRect:"right-click"!==l&&v?null:function(){var e,t,n,i;return{width:0,height:0,top:null!==(e=null==g?void 0:g.y)&&void 0!==e?e:0,bottom:null!==(t=null==g?void 0:g.y)&&void 0!==t?t:0,left:null!==(n=null==g?void 0:g.x)&&void 0!==n?n:0,right:null!==(i=null==g?void 0:g.x)&&void 0!==i?i:0,x:0,y:0,toJSON:function(){}}}}))]})}},88652:(e,t,n)=>{"use strict";n.d(t,{Np:()=>d,du:()=>v,qT:()=>m});var i=n(39130),r=n(45389),a=(n(59538),n(79611),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(4637);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={isOpen:!1,modifierKeyHeld:!1,isTouching:!1,menu:null,event:null,triggerElement:null},u=(0,a.createContext)(c);function d(){var e=a.useContext(u);if(void 0===e)throw new Error("useContextMenuState must be used within a ContextMenuProvider");return e}var p=(0,a.createContext)((function(){}));function m(){var e=a.useContext(p);if(void 0===e)throw new Error("useContextMenuDispatch must be used within a ContextMenuProvider");return e}function f(e,t){switch(t.type){case"open":return l(l({},e),{},{menu:t.menu,isOpen:!0,event:t.event,triggerElement:t.triggerElement});case"toggle":return l(l({},e),{},{isOpen:!e.isOpen,menu:e.isOpen?null:t.menu,event:t.event,triggerElement:t.triggerElement});case"modifierKeyHeld":return l(l({},e),{},{modifierKeyHeld:t.value});case"touch":return l(l({},e),{},{isTouching:t.value});case"close":return l({},c);default:throw new Error("Unknown action recieved!")}}var v=function(e){var t=e.children,n=(0,a.useReducer)(f,c),r=(0,i.Z)(n,2),s=r[0],l=r[1];return(0,o.jsx)(p.Provider,{value:l,children:(0,o.jsx)(u.Provider,{value:s,children:t})})}},8338:(e,t,n)=>{"use strict";n.d(t,{i:()=>o,m:()=>s});n(43125),n(27639),n(92346),n(5538);var i=n(59496),r=n(35274),a=n(4637),o=(0,i.createContext)({registerCloseCallback:function(){},closeToDepth:function(){},isOnPathToSubmenu:function(){return!1}}),s=function(e){var t=e.children,n=(0,i.useRef)([]),s=(0,i.useRef)(),l=(0,i.useCallback)((function(e,t){n.current.push(e),s.current=t}),[]),c=(0,i.useCallback)((function(e){for(s.current=void 0;n.current.length>e;){var t=n.current.pop();t&&t(!1)}}),[]);return(0,a.jsx)(o.Provider,{value:{registerCloseCallback:l,closeToDepth:c,isOnPathToSubmenu:function(e){var t=document.getElementById(r.x);if(!s.current||!t)return!1;var n=Array.from(t.querySelectorAll('[role="menu"]')).sort((function(e,t){return parseInt(e.getAttribute("data-depth")||"0",10)-parseInt(t.getAttribute("data-depth")||"0",10)})).pop();if(!n)return!1;var i=n.getBoundingClientRect(),a=i.left;s.current.x>i.right&&(a=i.right);var o=s.current,l=a,c=i.top,u=a,d=i.bottom,p={x:l-o.x,y:c-o.y},m={x:u-o.x,y:d-o.y},f=function(e,t){return e.x*t.y-e.y*t.x},v=(f(e,m)-f(o,m))/f(p,m),g=-1*(f(e,p)-f(o,p))/f(p,m);return v>0&&g>0&&v+g<1}},children:t})}},11145:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});n(5538),n(94562);var i=n(59496),r=n(8338),a=function(e,t){var n=(0,i.useRef)(0),a=(0,i.useContext)(r.i),o=a.registerCloseCallback,s=a.closeToDepth,l=a.isOnPathToSubmenu;(0,i.useEffect)((function(){return function(){return window.clearTimeout(n.current)}}),[]);var c=(0,i.useCallback)((function(e,n){s(e),t&&(o(t,n),t(!0))}),[s,o,t]);return{handleMouseEnter:(0,i.useCallback)((function(t){if(e.current){var i=e.current.closest('[role="menu"]');if(i){var r={x:t.clientX,y:t.clientY},a=l(r),o=parseInt(i.getAttribute("data-depth")||"0",10);a?n.current=window.setTimeout((function(){c(o,r)}),500):c(o,r)}}}),[e,l,c]),handleMouseLeave:(0,i.useCallback)((function(){window.clearTimeout(n.current),n.current=0}),[]),handleFocus:(0,i.useCallback)((function(){if(e.current){var t=e.current.closest('[role="menu"]');if(t){var n=parseInt(t.getAttribute("data-depth")||"0",10);c(n,{x:0,y:0})}}}),[c,e])}}},36157:(e,t,n)=>{"use strict";function i(e){return"function"==typeof e}n.d(t,{x:()=>i})},18830:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var i=n(59496),r=n(88652),a=function(e){var t=e.action,n=e.menu,a=(0,r.qT)();return(0,i.useCallback)((function(e,i){e.persist(),e.preventDefault(),a({type:t,event:e,triggerElement:e.currentTarget,menu:i||n})}),[n,a,t])}},34229:(e,t,n)=>{"use strict";n.d(t,{O:()=>N,K:()=>w});var i=n(45389),r=(n(62780),n(22369),n(92346),n(90511),n(162),n(69109),n(4302),n(66469),n(74893),n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),a=n(84875),o=n.n(a),s=n(75897),l=n(90321);const c="x-entityImage-xsmall",u="x-entityImage-small",d="x-entityImage-medium",p="x-entityImage-large",m="x-entityImage-square",f="x-entityImage-circle",v="x-entityImage-image",g="x-entityImage-imageContainer",h="x-entityImage-imagePlaceholder",k="x-entityImage-defaultSize";var y=n(83349),b=n(4637),S=function(e){var t=e.title,n=e.type,r=e.className,a=e.iconSize;return(0,b.jsx)("div",{"aria-label":t,className:o()(h,r),children:(0,b.jsx)(y.t,{type:n,className:o()((0,i.Z)({},k,!a)),iconSize:a})})};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){return e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e}({});var N=(0,r.memo)((function(e){var t,n,r,a,h,k,y=e.loadingMode,x=void 0===y?"lazy":y,N=e.fadeIn,_=void 0!==N&&N,E=e.type,C=e.title,P=e.images,I=void 0===P?[]:P,j=e.shape,A=void 0===j?w.SQUARE:j,T=e.size,D=void 0===T?l.m$.SIZE_56:T,R=e.iconSize,F=e.className,L=e.onContextMenu,M=void 0===L?function(){}:L,U=e.onTouchStart,Z=void 0===U?function(){}:U,B=e.onTouchEnd,V=void 0===B?function(){}:B,H=e.color,G=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return Boolean(e.width)})),t=e.filter((function(e){return e.url&&e.width&&e.width>=l.eM[l.m$.SIZE_56]})).sort((function(e,t){return e.width-t.width}));return t.length?t:e}(I),W=null!==(t=null!==(n=null===(r=G[0])||void 0===r?void 0:r.url)&&void 0!==n?n:null===(a=I[0])||void 0===a?void 0:a.url)&&void 0!==t?t:"",z=G.map((function(e){var t=e.url,n=e.width;return"".concat(t," ").concat(n/2,"w, ").concat(t," ").concat(n,"w")})).join(", ");return(0,b.jsx)("div",{className:o()(g,F,O((h={},(0,i.Z)(h,f,A===w.CIRCLE),(0,i.Z)(h,m,A===w.SQUARE),h),(k={},(0,i.Z)(k,c,l.pj.includes(D)),(0,i.Z)(k,u,l.wL.includes(D)),(0,i.Z)(k,d,l.VZ.includes(D)),(0,i.Z)(k,p,l.B_.includes(D)),k))),onContextMenu:M,onTouchStart:Z,onTouchEnd:V,style:{width:"".concat(l.eM[D],"px"),height:"".concat(l.eM[D],"px"),"--extracted-entity-color":H},children:(0,b.jsx)(s.E,{loading:x,fadeIn:_,src:W,alt:C,ariaHidden:!0,className:o()(v),srcSet:z||void 0,testid:"entity-image",children:(0,b.jsx)(S,{title:C,type:E,iconSize:R})})})}))},90321:(e,t,n)=>{"use strict";n.d(t,{B_:()=>u,VZ:()=>c,eM:()=>o,m$:()=>a,pj:()=>s,wL:()=>l});var i,r=n(45389),a=function(e){return e[e.SIZE_48=0]="SIZE_48",e[e.SIZE_56=1]="SIZE_56",e[e.SIZE_64=2]="SIZE_64",e[e.SIZE_72=3]="SIZE_72",e[e.SIZE_80=4]="SIZE_80",e[e.SIZE_96=5]="SIZE_96",e[e.SIZE_104=6]="SIZE_104",e[e.SIZE_112=7]="SIZE_112",e[e.SIZE_120=8]="SIZE_120",e[e.SIZE_128=9]="SIZE_128",e[e.SIZE_136=10]="SIZE_136",e[e.SIZE_144=11]="SIZE_144",e[e.SIZE_152=12]="SIZE_152",e[e.SIZE_160=13]="SIZE_160",e[e.SIZE_168=14]="SIZE_168",e[e.SIZE_176=15]="SIZE_176",e[e.SIZE_184=16]="SIZE_184",e[e.SIZE_200=17]="SIZE_200",e[e.SIZE_232=18]="SIZE_232",e}({}),o=(i={},(0,r.Z)(i,a.SIZE_48,48),(0,r.Z)(i,a.SIZE_56,56),(0,r.Z)(i,a.SIZE_64,64),(0,r.Z)(i,a.SIZE_72,72),(0,r.Z)(i,a.SIZE_80,80),(0,r.Z)(i,a.SIZE_96,96),(0,r.Z)(i,a.SIZE_104,104),(0,r.Z)(i,a.SIZE_112,112),(0,r.Z)(i,a.SIZE_120,120),(0,r.Z)(i,a.SIZE_128,128),(0,r.Z)(i,a.SIZE_136,136),(0,r.Z)(i,a.SIZE_144,144),(0,r.Z)(i,a.SIZE_152,152),(0,r.Z)(i,a.SIZE_160,160),(0,r.Z)(i,a.SIZE_168,168),(0,r.Z)(i,a.SIZE_176,176),(0,r.Z)(i,a.SIZE_184,184),(0,r.Z)(i,a.SIZE_200,200),(0,r.Z)(i,a.SIZE_232,232),i),s=[a.SIZE_48,a.SIZE_56,a.SIZE_64],l=[a.SIZE_72,a.SIZE_80,a.SIZE_96,a.SIZE_104,a.SIZE_112,a.SIZE_120,a.SIZE_128],c=[a.SIZE_136,a.SIZE_144,a.SIZE_152,a.SIZE_160,a.SIZE_168,a.SIZE_176],u=[a.SIZE_184,a.SIZE_200,a.SIZE_232]},83349:(e,t,n)=>{"use strict";n.d(t,{t:()=>g});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(22129),o=n(38590),s=n(43711),l=n(248),c=n(52008),u=n(71440),d=n(66388),p=n(83474),m=n(4637),f=["type"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){var t=e.type,n=(0,r.Z)(e,f),g=s.U;switch(t){case"folder":case p.p.FOLDER:g=a.P;break;case"album":case p.p.ALBUM:g=l.c;break;case"artist":case p.p.ARTIST:g=c.a;break;case"show":case"episode":case p.p.SHOW:case p.p.EPISODE:g=u.J;break;case"user":case p.p.USER:g=d.f;break;case"book":case"audiobook":case p.p.AUDIOBOOK:g=o.P;break;case"playlist":case p.p.PLAYLIST:default:g=s.U}return(0,m.jsx)(g,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"aria-hidden":"true","":t},n))}},84340:(e,t,n)=>{"use strict";n.d(t,{T:()=>k});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(39130),a=n(59496),o=n(84875),s=n.n(o),l=n(85941),c=n(39390),u=n(36947);const d="main-gridContainer-gridContainer",p="main-gridContainer-uniformRowHeight",m="main-gridContainer-fixedWidth";var f=n(23066),v=n(4637);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,a.memo)((0,a.forwardRef)((function(e,t){var n,o=e.onUpdate,g=e.className,k=e.fixedColumnCount,y=void 0===k?0:k,b=e.rowGap,S=e.render,x=e.onLayoutChange,O=e.testId,w=void 0===O?"container":O,N=e.useUniformRowHeight,_=void 0!==N&&N,E=(0,a.useRef)(null),C=(0,l.u)(),P=(0,u.o)().getWidth;(0,a.useImperativeHandle)(t,(function(){return E.current}),[E]);var I=(0,a.useState)({columnCount:-1,columnWidth:-1,minContainerWidth:-1,gridGap:C.COLUMN_GRID_GAP}),j=(0,r.Z)(I,2),A=j[0],T=j[1];(0,a.useEffect)((function(){null==x||x(A)}),[x,A]);var D=(0,a.useCallback)((function(e){var t=P();if(null!==t){var n=(0,c.Nk)(e,t,C),i=n.columnWidth,r=n.columnCount,a=n.gridGap,o=n.minContainerWidth;T({columnCount:r,columnWidth:i,gridGap:a,minContainerWidth:o})}}),[C,P]);(0,f.y)({refOrElement:E,observeOnly:"width",observeOnMount:!0,onResize:function(e){var t=e.width;D(t)}}),(0,a.useEffect)((function(){o&&o()}),[e,A,o]);var R=y>0,F=y||A.columnCount,L={"--column-width":"".concat(A.columnWidth,"px"),"--column-count":"".concat(F),"--grid-gap":"".concat(A.gridGap,"px"),"--min-container-width":"".concat(A.minContainerWidth,"px")};return(0,v.jsx)("div",{"":"grid-".concat(w),ref:E,className:s()(d,g,(n={},(0,i.Z)(n,m,R),(0,i.Z)(n,p,_),n)),style:h(h({},L),b?{gridRowGap:b}:{}),children:S(A)})})))},85941:(e,t,n)=>{"use strict";n.d(t,{q:()=>l,u:()=>c});var i=n(59496),r=n(87824),a=n(97370),o=n(4637),s=i.createContext((0,a.S)(r.jM.DEFAULT)),l=function(e){var t=e.children,n=e.config;return(0,o.jsx)(s.Provider,{value:n,children:t})},c=function(){return(0,i.useContext)(s)}},97370:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o,S:()=>l});var i,r=n(45389),a=n(87824),o=function(e){return e.NEW_CARDS="newCards",e}({}),s=(i={},(0,r.Z)(i,a.jM.DEFAULT,{MINIMUM_COLUMN_WIDTH:180,TWO_COLUMNS_MAX_WIDTH:500,THREE_COLUMNS_MAX_WIDTH:700,FOUR_COLUMNS_MAX_WIDTH:850,MIN_COLUMNS_COUNT:2,COLUMN_GRID_GAP:24,COLUMN_GRID_GAP_MEDIUM:18,COLUMN_GRID_GAP_SMALL:12}),(0,r.Z)(i,a.jM.MORE_CARDS,{MINIMUM_COLUMN_WIDTH:.835*180,TWO_COLUMNS_MAX_WIDTH:417.5,THREE_COLUMNS_MAX_WIDTH:584.5,FOUR_COLUMNS_MAX_WIDTH:709.75,MIN_COLUMNS_COUNT:2,COLUMN_GRID_GAP:24,COLUMN_GRID_GAP_MEDIUM:18,COLUMN_GRID_GAP_SMALL:12}),(0,r.Z)(i,a.jM.FEWER_CARDS,{MINIMUM_COLUMN_WIDTH:1.165*180,TWO_COLUMNS_MAX_WIDTH:582.5,THREE_COLUMNS_MAX_WIDTH:815.5,FOUR_COLUMNS_MAX_WIDTH:990.25,MIN_COLUMNS_COUNT:2,COLUMN_GRID_GAP:24,COLUMN_GRID_GAP_MEDIUM:18,COLUMN_GRID_GAP_SMALL:12}),(0,r.Z)(i,o.NEW_CARDS,{MINIMUM_COLUMN_WIDTH:180,TWO_COLUMNS_MAX_WIDTH:500,THREE_COLUMNS_MAX_WIDTH:700,FOUR_COLUMNS_MAX_WIDTH:850,MIN_COLUMNS_COUNT:2,COLUMN_GRID_GAP:0,COLUMN_GRID_GAP_MEDIUM:0,COLUMN_GRID_GAP_SMALL:0}),i),l=function(e){return s[e]}},36947:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,o:()=>l});n(61235),n(69724),n(22369),n(59538),n(79611);var i=n(59496),r=n(4637),a=Symbol("unset"),o=i.createContext(a);function s(e){var t=e.children,n=e.containerRef,a=e.postProcessWidth,s=void 0===a?function(e){return e}:a,l=(0,i.useCallback)((function(){var e;return null!=n&&n.current?s(null===(e=n.current)||void 0===e?void 0:e.offsetWidth):null}),[n,s]),c=(0,i.useMemo)((function(){return{getWidth:l,containerRef:n}}),[l,n]);return(0,r.jsx)(o.Provider,{value:c,children:t})}var l=function(){var e=(0,i.useContext)(o);if(e===a)throw new Error("useGridContainerWidth must be used within a GridContainerWidthProvider");return e}},39390:(e,t,n)=>{"use strict";n.d(t,{Nk:()=>a,nf:()=>r});var i=function(e,t){var n=function(e,t){return e<t.TWO_COLUMNS_MAX_WIDTH?2:e<t.THREE_COLUMNS_MAX_WIDTH?3:e<t.FOUR_COLUMNS_MAX_WIDTH?4:Math.floor((e+t.COLUMN_GRID_GAP)/(t.MINIMUM_COLUMN_WIDTH+t.COLUMN_GRID_GAP))}(e,t),i=function(e,t){return 2===e?t.COLUMN_GRID_GAP_SMALL:3===e?t.COLUMN_GRID_GAP_MEDIUM:t.COLUMN_GRID_GAP}(n,t);return{columnCountMainGrid:n,gapMainGrid:i,columnWidthMainGrid:Math.floor((e-(n-1)*i)/n)}},r=function(e,t,n){var r=i(e,n),a=r.gapMainGrid;return(r.columnWidthMainGrid+a)*t-a},a=function(e,t,n){var r=i(t,n),a=r.gapMainGrid,o=r.columnWidthMainGrid;return{columnWidth:o,gridGap:a,columnCount:Math.round((e+a)/(o+a)),minContainerWidth:(o+a)*n.MIN_COLUMNS_COUNT-a}}},55961:(e,t,n)=>{"use strict";n.d(t,{N:()=>f,k:()=>v});n(16366),n(35019),n(162);var i=n(59496),r=n(24358),a=n(39130);n(31781),n(81289),n(22369),n(72304),n(47921);var o=[[/<iframe[^>]*>/gi,"<span>"],[/<\/iframe>/gi,"</span>"],[/<script[^>]*>/gi,"<span>"],[/<\/script>/gi,"</span>"],[/srcdoc=/gi,"data-invalid="],[/onerror=/gi,"data-invalid="],[/onload=/gi,"data-invalid="],[/<form[^>]*>/gi,"<span>"],[/<\/form>/gi,"</span>"],[/<input[^>]*>/gi,"<span>"],[/<\/input>/gi,"</span>"],[/<link[^>]*>/gi,"<span>"],[/<\/link>/gi,"</span>"]];function s(e){return["http://","https://","#","/","www","spotify:"].some((function(t){return e.startsWith(t)}))?e:""}var l=n(97422),c=n(75068);const u="N6RtDuJXe5BkIyhxU13g";var d=n(10506),p=n(4637);function m(e,t){return e.tagName===t}var f=i.memo((function(e){var t=e.source,n=void 0===t?"":t,d=e.LinkComponent,f=e.onTimeStampClick,v=e.onLinkClick,g=(0,i.useMemo)((function(){return function(e){var t=e.LinkComponent,n=e.onTimeStampClick,i=e.onLinkClick,a={replace:function(e){if(m(e,"a")&&t)try{return(0,p.jsx)(t,{to:s(e.attribs.href),onClick:i,children:(0,r.du)(e.children)})}catch(e){return null}else{if(m(e,"img")){var a=e.attribs,o=a.src,d=a.alt,f=a.width,v=a.height;return(0,p.jsx)(l.Ee,{src:o,alt:d,loading:"eager",width:f,height:v,className:u})}if(m(e,"time")&&n)return(0,p.jsx)(c.E,{onClick:n,children:(0,r.du)(e.children)})}return e}};return a}({LinkComponent:d,onTimeStampClick:f,onLinkClick:v})}),[d,f,v]),h=(0,i.useMemo)((function(){return(0,r.ZP)((e=n,o.reduce((function(e,t){var n=(0,a.Z)(t,2),i=n[0],r=n[1];return e.replace(i,r)}),e)),g);var e}),[n,g]);return(0,p.jsx)(p.Fragment,{children:h})})),v=i.memo((function(e){var t=e.source,n=void 0===t?"":t,r=e.paragraphClassName,a=e.variant,o=void 0===a?"ballad":a,s=e.semanticColor,l=e.LinkComponent,c=e.onLinkClick,u=e.onTimeStampClick,m=e.splitter,v=void 0===m?/\n\n/g:m,g=(0,i.useMemo)((function(){return n.split(v).map((function(e,t){return(0,p.jsx)(d.D,{as:"p",className:r,variant:o,semanticColor:s,children:(0,p.jsx)(f,{source:e,LinkComponent:l,onTimeStampClick:u,onLinkClick:c})},t)}))}),[n,o,s,v,r,l,u,c]);return(0,p.jsx)(p.Fragment,{children:g})}))},71062:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,w:()=>o});var i=n(27021),r=n(4637),a="hover-or-focus-tooltip",o=Spicetify.ReactComponent.TooltipWrapper=function(e){var t=e.label,n=e.children,o=e.renderInline,s=e.showDelay,l=e.disabled,c=e.placement,u=void 0===c?"top":c,d=e.labelClassName;return(0,r.jsx)(i.Nt,{action:"open",trigger:"hover-or-focus",placement:u,content:l?null:(0,r.jsx)(i.xX,{showDelay:s,className:d,children:(0,r.jsx)("span",{id:a,role:"tooltip",children:t})}),renderInline:o,children:n})}},56200:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(17249),r=n(91422),a=n(4637),o=function(e){var t=e.size,n=void 0===t?32:t;return(0,a.jsx)(r.g,{iconSize:n,title:i.ag.get("download.available-offline"),semanticColor:"textBrightAccent"})}},6336:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(17249),r=n(53111),a=n(4637),o=function(e){var t=e.className,n=e.fullText,o=void 0!==n&&n;return(0,a.jsx)(r.V,{ariaLabel:i.ag.get("card.a11y.explicit"),text:o?i.ag.get("card.a11y.explicit"):"E",className:t})}},77451:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(77600),a=n(17249),o=n(4637);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){return(0,o.jsx)(r.T,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"aria-label":a.ag.get("a11y.externalLink")},e))}},90902:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var i=n(17249),r=n(4637),a=function(e){var t=e.size,n=void 0===t?32:t,a=e.className;return(0,r.jsxs)("svg",{role:"img",width:n,height:n,viewBox:"0 0 12 12",className:a,"aria-label":i.ag.get("age.restriction.nineeteen-badge"),children:[(0,r.jsx)("path",{fill:"#B3B3B3",d:"M4.607 9V3.328h-.96c-.112.592-.68 1.04-1.496 1.064v.752h1.36V9h1.096zm3.82-3.848c0 .616-.488 1.008-1.04 1.008-.568 0-1.04-.384-1.04-1.008 0-.608.48-1 1.04-1 .552 0 1.04.4 1.04 1zm-3 3.656c.288.184.84.312 1.312.312 1.92 0 2.92-1.208 2.92-3.256 0-1.8-1.049-2.656-2.249-2.656-1.208 0-2.144.816-2.144 1.976 0 1.192.92 1.904 1.952 1.904.64 0 1.136-.272 1.352-.632-.056 1.048-.72 1.696-1.84 1.696-.384 0-.8-.12-1.016-.24l-.288.896z"}),(0,r.jsx)("g",{transform:"scale(0.85) translate(1.1,1.1)",children:(0,r.jsx)("path",{fill:"#CD1A2B",d:"M6 11.2A5.2 5.2 0 01.8 6H-.8A6.8 6.8 0 006 12.8v-1.6zM11.2 6A5.2 5.2 0 016 11.2v1.6A6.8 6.8 0 0012.8 6h-1.6zM6 .8A5.2 5.2 0 0111.2 6h1.6A6.8 6.8 0 006-.8V.8zM6-.8A6.8 6.8 0 00-.8 6H.8A5.2 5.2 0 016 .8V-.8z"})})]})}},75897:(e,t,n)=>{"use strict";n.d(t,{E:()=>v});var i=n(45389),r=n(39130),a=n(59496),o=n(84875),s=n.n(o);const l="main-image-image",c="main-image-loading",u="main-image-loaded";var d=n(26294),p=n(4637);function m(e){if(null!==e)return e}var f=function(e){var t=e.children;return"lazy"!==e.loading||"undefined"==typeof HTMLImageElement||"loading"in HTMLImageElement.prototype?(0,p.jsx)(p.Fragment,{children:t}):(0,p.jsx)(d.Z,{children:t})},v=(0,a.memo)((function(e){var t,n=e.ariaHidden,o=void 0!==n&&n,d=e.testid,v=e.src,g=e.alt,h=void 0===g?"":g,k=e.radius,y=void 0===k?0:k,b=e.className,S=void 0===b?"":b,x=e.srcSet,O=e.draggable,w=void 0!==O&&O,N=e.sizes,_=e.children,E=e.loading,C=e.width,P=e.height,I=e.fadeIn,j=void 0!==I&&I,A=(0,a.useState)("loading"),T=(0,r.Z)(A,2),D=T[0],R=T[1],F=(0,a.useRef)(null),L=(0,a.useState)(j),M=(0,r.Z)(L,2),U=M[0],Z=M[1];return(0,a.useLayoutEffect)((function(){var e;j&&null!==(e=F.current)&&void 0!==e&&e.complete&&Z(!1)}),[j]),v&&"error"!==D?(0,p.jsx)(f,{loading:E,children:(0,p.jsx)("img",{"aria-hidden":o,draggable:w,loading:E,src:v,"":d,alt:h,className:s()(l,S,(t={},(0,i.Z)(t,c,U),(0,i.Z)(t,u,"loaded"===D),t)),style:{borderRadius:y||void 0},srcSet:x,sizes:N,width:m(C),height:m(P),onLoad:function(){return R("loaded")},onError:function(){return R("error")},ref:F})}):(0,p.jsx)(p.Fragment,{children:_})}))},97422:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>i.E,KO:()=>o,VO:()=>s});var i=n(75897),r=n(39130),a=n(59496),o=function(e){return e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error",e}({});function s(e,t){var n=e?o.loading:o.error,i=(0,a.useState)(n),s=(0,r.Z)(i,2),l=s[0],c=s[1];return(0,a.useEffect)((function(){var n=function(){c(o.loaded)},i=function(){c(o.error)};if(!e)return c(o.error),function(){};c(o.loading);var r=document.createElement("img");return r.addEventListener("load",n),r.addEventListener("error",i),r.setAttribute("src",e),t&&r.setAttribute("srcSet",t),function(){r.removeEventListener("load",n),r.removeEventListener("error",i)}}),[e,t]),l}},67262:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var i=n(45389),r=n(59496),a=n(91929),o=n(84875),s=n.n(o);const l="eqw9lvuoZHrkWMTdyTpY",c="lb08f71wES9AQnKx6e0R";var u=n(4637),d=r.memo((function(e){var t,n=e.triggerOnInitialLoad,o=void 0!==n&&n,d=e.onReachBottom,p=e.showScrollbar,m=void 0===p||p,f=e.horizontalScroll,v=void 0!==f&&f,g=e.className,h=(0,a.YD)({initialInView:o}),k=h.ref,y=h.inView;return(0,r.useEffect)((function(){y&&d&&d()}),[y,d]),(0,u.jsxs)("div",{className:s()((t={},(0,i.Z)(t,c,!m),(0,i.Z)(t,l,v),t),g),"":"infinite-scroll-list",children:[e.children,(0,u.jsx)("div",{ref:k})]})}))},78142:(e,t,n)=>{"use strict";n.d(t,{JL:()=>s,ZP:()=>l});n(69109),n(30246),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(87164),r=n(4637);var a=i.H8.Provider,o=i.H8.Consumer,s=function(e){var t=e.value,n=e.index,i=e.children;return(0,r.jsx)(o,{children:function(e){var o=""===e?t:"".concat(e,"/").concat(t);return"number"==typeof n&&(o="".concat(o,"/").concat(n)),(0,r.jsx)(a,{value:o,children:i})}})};const l=s},26294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(39130),r=n(59496),a=n(91929);const o="VvxVxrxVVFjUD6BNsUub";var s=n(4637),l=(0,r.memo)((function(e){var t=e.children,n=(0,r.useState)(!1),l=(0,i.Z)(n,2),c=l[0],u=l[1],d=(0,a.YD)({triggerOnce:!0}),p=d.ref,m=d.inView;return(0,r.useEffect)((function(){m&&u(!0)}),[m]),(0,s.jsx)("div",{className:c?void 0:o,ref:p,children:c?t:null})}))},56203:(e,t,n)=>{"use strict";n.d(t,{Fg:()=>g,Rd:()=>v,G3:()=>f});n(40265);var i=n(59272),r=n(59496),a=n(84875),o=n.n(a);const s="Ng3dPPA2_1CFYkzPukjM",l="FCFjIabSYtm65p8kSJO0";var c=n(17249),u=n(71062),d=n(4637),p=6048e5,m=3e5;function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,i.hn)(e),o=function(e){var t=new Date;return!!e&&Math.floor(t.getTime()-Date.parse(e))<p}(t),s=function(e,t){return!!e||!!t&&t>m}(r,n);return a&&o&&!s}var v=r.memo((function(e){var t=e.className,n=e.label,i=n||c.ag.get("type.newEpisode");return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.w,{label:i,children:(0,d.jsx)("span",{className:o()(s,t),"aria-label":i})}),n]})})),g=r.memo((function(e){var t=e.isMusicAndTalk,n=e.className,i=t?c.ag.get("type.newEpisode"):c.ag.get("type.newPodcastEpisode");return(0,d.jsx)(v,{label:i,className:o()(l,n)})}))},53111:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});const i="main-tag-container";var r=n(84875),a=n.n(r),o=n(4637),s=function(e){var t=e.text,n=e.ariaLabel,r=void 0===n?t:n,s=e.title,l=void 0===s?r:s,c=e.className;return(0,o.jsx)("span",{"aria-label":r,className:a()(i,c),title:l,children:t})}},75068:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});n(18819),n(81289),n(22369),n(5538),n(162);var i=n(59496);const r="NkWIcfgnWR9AXfikmWai",a="OvmkrxKmI82x4jlgEZG0";var o=n(10506),s=n(4637),l=i.memo((function(e){var t=e.onClick,n=e.children;return(0,s.jsx)("button",{"":"clickable-timestamp",className:a,onClick:function(){var e=c(n),i=1e3*e.split(":").reverse().reduce((function(e,t,n){return e+parseInt(t,10)*Math.pow(60,n)}),0);t(i)},children:(0,s.jsx)(o.D,{className:r,variant:"ballad",children:n})})}));function c(e){var t="";return i.Children.map(e,(function(e){"string"==typeof e||"number"==typeof e?t+=e:i.isValidElement(e)&&e.props.children&&(t+=c(e.props.children))})),t}},27021:(e,t,n)=>{"use strict";n.d(t,{yv:()=>f,xX:()=>x,Nt:()=>C});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(84875),o=n.n(a),s=n(66220),l=n(98030);const c="main-popper-container",u="main-popper-arrow";var d=n(4637);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.children,n=e.className,i=e.arrowClassName,a=e.disableAutoFocus,p=(0,r.useRef)(null);return(0,l.H)(),(0,s.K)({ref:a?{current:null}:p,preventScroll:!0}),(0,d.jsxs)("div",m(m({},a&&{tabIndex:-1}),{},{ref:p,onClick:function(e){e.stopPropagation()},onContextMenu:function(e){e.stopPropagation()},className:o()(c,n),children:[t,(0,d.jsx)("div",{"data-popper-arrow":"",className:o()(u,i)})]}))},v=n(39130);n(94562);const g="main-contextMenu-tippy",h="main-contextMenu-tippyEnter",k="main-contextMenu-tippyEnterActive";var y=n(49823),b=n(88652),S=n(90135),x=function(e){var t=e.children,n=e.className,i=e.showDelay,a=void 0===i?1600:i,s=r.useState(!1),l=(0,v.Z)(s,2),c=l[0],u=l[1],p=(0,b.qT)(),m=(0,S.ky)(),f=(0,r.useRef)(!0);return(0,r.useEffect)((function(){return f.current=!0,function(){f.current=!1}})),(0,r.useEffect)((function(){var e=setTimeout((function(){f.current&&(u(!0),null==m||m.addEventListener("click",t,{once:!0}))}),a);function t(){f.current&&(u(!1),p({type:"close"}),clearTimeout(e))}return function(){null==m||m.removeEventListener("click",t),clearTimeout(e)}}),[m,a,p]),(0,d.jsx)(y.Z,{in:c,timeout:200,unmountOnExit:!0,classNames:{enter:h,enterActive:k},children:(0,d.jsx)("div",{className:o()(g,n),children:t})})},O=n(980),w=n(17271),N=["children","content"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.children,n=e.content,i=(0,O.Z)(e,N);return(0,d.jsx)(w.x,E(E({renderInline:!0,preventScrollingWhileOpen:!1,placement:"top-start",menu:n},i),{},{children:t}))}},40423:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var i=n(39130),r=n(59496),a=n(84340),o=(n(29543),n(22369),n(70969),n(4637)),s=function(e){var t=e.span,n=e.onInView,i=e.marginBottom,a=e.marginTop,s=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&n()}))}));return s.current&&e.observe(s.current),function(){e.disconnect()}}),[n]),t<=0?null:(0,o.jsx)("div",{style:{gridColumn:"1/-1",gridRow:"span ".concat(t),marginBottom:i,marginTop:a},ref:s,"data-type":"sentinel"},"topSentinel")},l=n(85941),c=function(e){var t=e.renderItems,n=e.nrItems,c=e.estimatedItemMaxHeight,u=e.scrollNodeRef,d=e.nrRowsOverscan,p=void 0===d?5:d,m=e.initalNrRows,f=void 0===m?5:m,v=e.onGridResize,g=(0,r.useState)({firstRowToRender:0,nrRows:f+p}),h=(0,i.Z)(g,2),k=h[0],y=h[1],b=(0,r.useRef)(0),S=(0,r.useRef)(null),x=(0,r.useRef)(c),O=(0,l.u)(),w=(0,r.useCallback)((function(){var e,t=null===(e=S.current)||void 0===e?void 0:e.querySelector(':scope > *:not([data-type="sentinel"])');x.current=t?t.getBoundingClientRect().height+O.COLUMN_GRID_GAP:x.current}),[O]),N=(0,r.useCallback)((function(){var e=u.current;if(e){w();var t=Math.floor((e.scrollTop-b.current)/x.current),n=Math.max(t-p,0),i=Math.ceil(e.offsetHeight/x.current)+2*p;n===k.firstRowToRender&&i===k.nrRows||y({firstRowToRender:n,nrRows:i})}}),[p,k,u,w]),_=(0,r.useCallback)((function(e){var i=e.columnCount;if(i<=0)return[null];v&&v(i,x.current);var r=Math.ceil(n/i),a=k.firstRowToRender*i,l=k.firstRowToRender+k.nrRows-1,c=Math.min(n-1,(l+1)*i-1),u=x.current*(p-2);return[(0,o.jsx)(s,{span:k.firstRowToRender,onInView:N,marginBottom:"-".concat(u,"px")},"topSentinel-".concat(k.firstRowToRender)),t(a,c,i),(0,o.jsx)(s,{span:r-l,onInView:N,marginTop:"-".concat(u,"px")},"bottomSentinel-".concat(r-l))]}),[n,p,v,N,t,k]);return(0,r.useEffect)((function(){var e=S.current,t=u.current;e&&t&&(b.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[u]),(0,o.jsx)(a.T,{useUniformRowHeight:!0,ref:S,render:_,onLayoutChange:w})}},13752:(e,t,n)=>{"use strict";n.d(t,{V:()=>m});var i=n(39130),r=(n(29543),n(22369),n(70969),n(69109),n(59496)),a=n(23066);const o="main-rootlist-wrapper",s="main-rootlist-topSentinel",l="main-rootlist-bottomSentinel";var c=n(18042),u=n(4637),d=function(e,t){return(0,u.jsx)("div",{style:{height:e}},t)},p=function(){return"undefined"!=typeof window&&"requestIdleCallback"in window},m=function(e){var t,n=e.renderRows,m=e.nrRows,f=e.rowHeight,v=e.scrollNodeRef,g=e.nrRowsOverscan,h=void 0===g?10:g,k=e.renderPlaceholder,y=void 0===k?d:k,b=(0,c.t)(),S=(0,r.useRef)(null),x=(0,r.useRef)(null),O=(0,r.useRef)(null),w=(0,r.useRef)(0),N=(0,r.useState)(p()?0:h),_=(0,i.Z)(N,2),E=_[0],C=_[1],P=(0,r.useState)(null),I=(0,i.Z)(P,2),j=I[0],A=I[1],T=(0,r.useState)(0),D=(0,i.Z)(T,2),R=D[0],F=D[1],L=(0,r.useCallback)((function(){var e=v.current;if(e){var t=Math.ceil(e.offsetHeight/f)+2;F(t)}}),[v,f]),M=(0,r.useCallback)((function(){var e=v.current;if(e){var t=Math.floor((e.scrollTop-w.current-1)/f);A(t)}}),[f,v]);(0,r.useEffect)((function(){p()&&window.requestIdleCallback((function(){b()&&C(h)}))}),[b,h]),(0,r.useEffect)((function(){var e=O.current,t=v.current;e&&t&&(w.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[v,null===(t=O.current)||void 0===t?void 0:t.offsetTop]),(0,r.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&M()}))}));return S.current&&e.observe(S.current),x.current&&e.observe(x.current),function(){e.disconnect()}}),[M,j,R,m]),(0,r.useEffect)((function(){L(),M()}),[L,M]),(0,a.y)({refOrElement:v,observeOnly:"height",onResize:L});var U=(null!=j?j:0)-E,Z=Math.min(null!==j?U+2*E+R-1:-1,m-1),B=Math.max(U,0),V=Math.max(Z,-1),H=Math.min(R>0?m*f:0,Math.max(f*(E-2),0)),G=f*B,W=f*m,z=W-f*Math.max(m-(V+1),0);return(0,u.jsxs)("div",{ref:O,className:o,style:{height:"".concat(W,"px"),"--row-height":"".concat(f,"px")},role:"presentation",children:[(0,u.jsxs)("div",{ref:S,"":"top-sentinel",className:s,style:{height:"".concat(G+H,"px")},role:"presentation",children:[y("calc(100% - ".concat(H,"px)"),"top-sentinel"),(0,u.jsx)("div",{style:{height:"".concat(H,"px")},role:"presentation"})]}),(0,u.jsx)("div",{style:{transform:"translateY(".concat(G,"px)")},role:"presentation",children:n(B,V)}),(0,u.jsxs)("div",{ref:x,"":"bottom-sentinel",className:l,style:{height:"calc(100% - ".concat(z,"px + ").concat(H,"px)")},role:"presentation",children:[(0,u.jsx)("div",{style:{height:"".concat(H,"px")},role:"presentation"}),y("calc(100% - ".concat(H,"px)"),"bottom-sentinel")]})]})}},89880:(e,t,n)=>{"use strict";n.d(t,{Q:()=>f});var i=n(45389),r=n(8850),a=n(39130),o=n(10995),s=n.n(o),l=(n(162),n(43125),n(27639),n(62780),n(22369),n(94562),n(82088),n(65394),n(78819),n(72304),n(95675),n(61235),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{items:[],invalid:!0,id:0};return{fetchedId:e.fetchedId,items:Array.from({length:e.totalLength}).map((function(i,r){var a,o=n.invalid||null===(a=n.items[r])||void 0===a?void 0:a.value;return{value:r-t in e.items?e.items[r-t]:o,index:r}})),invalid:!1,id:n.id}},p=function(e){return e.filter((function(e){return null!==e.value}))},m=function(e){e.invalid=!0,e.id++};function f(e){var t=e.initialItems,n=e.nrItems,i=e.fetch,o=e.limit,c=void 0===o?0:o,f=e.cacheAllOnInvalidation,v=void 0!==f&&f,g=e.cacheAllLimit,h=void 0===g?n:g,k=(0,l.useRef)(!1),y=(0,l.useRef)(d({totalLength:n,items:null!=t?t:[]})),b=(0,l.useRef)(!0),S=(0,l.useState)(0),x=(0,a.Z)(S,2)[1];(0,l.useMemo)((function(){b.current||m(y.current)}),[i,n]),(0,l.useMemo)((function(){0===(null==t?void 0:t.length)||b.current||m(y.current)}),[t]);var O=(0,l.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(r){var a,o,l,p,m,f,v,g=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g.length>1&&void 0!==g[1]?g[1]:c,o=!(g.length>2&&void 0!==g[2])||g[2],l=g.length>3&&void 0!==g[3]&&g[3],!k.current||l||y.current.invalid){e.next=5;break}return e.abrupt("return");case 5:if(p=y.current.id,i){e.next=11;break}y.current=d({totalLength:n,items:null!=t?t:[]}),o&&setTimeout((function(){return x((function(e){return e+1}))}),0),e.next=25;break;case 11:return f=y.current.invalid,y.current.invalid=!1,k.current=!0,e.next=16,i(r,a);case 16:if(v=e.sent,k.current=!1,p===y.current.id){e.next=20;break}return e.abrupt("return");case 20:if(0!==v.items.length||0===v.totalLength||v.totalLength!==y.current.items.length){e.next=22;break}return e.abrupt("return");case 22:y.current=d(v,r,u(u({},y.current),{},{invalid:f})),null===(m=v.onCacheSuccess)||void 0===m||m.call(v),o&&x((function(e){return e+1}));case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,t,c,n]),w=(0,l.useCallback)((function(e,t,n){var i,r,a,o,s=p(y.current.items).slice(e,t+1),l=s.filter((function(e){return y.current.invalid||void 0===e.value})),u=null!==(i=null===(r=l.at(0))||void 0===r?void 0:r.index)&&void 0!==i?i:y.current.invalid?e:void 0,d=null!==(a=null===(o=l.at(-1))||void 0===o?void 0:o.index)&&void 0!==a?a:y.current.invalid?t:void 0;return void 0===u||void 0===d||null!=n&&n.cachedOnly||O(d===t?u:u===e?Math.max(d-c+1,0):u),s.map((function(e){return e.value}))}),[O,c]),N=(0,l.useRef)(!1),_=(0,l.useRef)(!1),E=(0,l.useCallback)((0,r.Z)(s().mark((function e(){var t,n=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],!_.current){e.next=3;break}return e.abrupt("return");case 3:if(!N.current){e.next=6;break}return _.current=!0,e.abrupt("return");case 6:return N.current=!0,e.next=9,O(0,h,t,!0);case 9:if(!_.current){e.next=12;break}return e.next=12,O(0,h,t,!0);case 12:_.current=!1,N.current=!1;case 14:case"end":return e.stop()}}),e)}))),[h,O]);(0,l.useEffect)((function(){var e;return v&&(e=setTimeout(E,1e3)),function(){clearTimeout(e)}}),[E,v]);var C=(0,l.useCallback)((function(){v?E(!0):(m(y.current),x((function(e){return e+1})))}),[E,v]);return b.current=!1,{fetchedId:y.current.fetchedId,getItems:w,invalidateCache:C,hasItems:p(y.current.items).some((function(e){return!!e.value})),nrValidItems:p(y.current.items).length,cacheAll:E}}},51146:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(59496),o=n(38351),s=n(4637),l=["children"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.children,n=(0,r.Z)(e,l),i=(0,a.useRef)(null);return(0,o.O)(i),(0,s.jsx)("li",u(u({ref:i,role:"presentation"},n),{},{children:t}))}},41387:(e,t,n)=>{"use strict";n.d(t,{I_:()=>S,IZ:()=>E,_w:()=>x._,so:()=>u});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(980),a=n(59496),o=n(4637),s=["children","depth"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=a.forwardRef((function(e,t){var n=e.children,i=e.depth,a=void 0===i?0:i,l=(0,r.Z)(e,s);return(0,o.jsx)("ul",c(c({tabIndex:-1,ref:t,role:"menu","data-depth":a},l),{},{children:n}))})),d=n(91048),p=n(66220),m=n(8608),f='a[href], button, input[role="searchbox"]';function v(e,t){if(e){if((0,m.lK)(e)){var n=e.querySelector('[tabindex="0"]');t===d.N.UP&&(0,m.Bu)(n,h(e,n,d.N.UP)),t===d.N.DOWN&&(0,m.Bu)(n,h(e,n,d.N.DOWN)),t===d.N.RIGHT&&(0,m.Bu)(n,g(n)),t===d.N.LEFT&&(0,m.Bu)(n,function(e){var t=!!e.closest('ul[role="menu"] ul[role="menu"]');if(!t)return null;var n=e.closest('ul[role="menu"]').closest('li[role="presentation"]').querySelector('[role="menuitem"]');return n}(n))}}else console.error("No menu element found. Canceling moving focus")}function g(e){if(null==e||!e.hasAttribute("aria-expanded"))return null;var t=e.closest('li[role="presentation"]').querySelector('ul[role="menu"]'),n=null==t?void 0:t.querySelector(f);return null!=n?n:null}function h(e,t,n){var i=t.closest('ul[role="menu"]'),r=t.closest('li[role="presentation"]');if(!i||!r)return t;var a=t;if(n===d.N.UP){var o=i.querySelectorAll(':scope > li[role="presentation"]'),s=r.previousElementSibling;for(document.activeElement===e&&(s=o[o.length-1]);s!==r&&(s||(s=o[o.length-1]),!(a=s.querySelector(f)));)s=s.previousElementSibling}else{var l=r.nextElementSibling;for(document.activeElement===e&&(l=i.querySelector("li"));l!==r&&(l||(l=i.querySelector("li")),!(a=l.querySelector(f)));)l=l.nextElementSibling;a=l.querySelector(f)}return a||t}var k=n(98030),y=["getInitialFocusElement","onKeyDown","onClose"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var S=function(e){var t=e.getInitialFocusElement,n=e.onKeyDown,s=e.onClose,l=(0,r.Z)(e,y),c=(0,a.useRef)(null);(0,k.H)(),(0,p.K)({ref:c,getFocusElement:t,onFocus:function(e){(0,m.Bu)(null,e,{preventScroll:!0})}});var f=(0,a.useCallback)((function(e){var t,i;null!==(t=c.current)&&void 0!==t&&t.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),e.stopPropagation()),"Escape"!==e.key&&"Tab"!==e.key||null==s||s(),"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===e.key&&v(c.current,d.N.UP),"ArrowDown"===e.key&&v(c.current,d.N.DOWN),"ArrowLeft"===e.key&&v(c.current,d.N.LEFT),"ArrowRight"===e.key&&v(c.current,d.N.RIGHT),"Enter"===e.key&&(i=c.current)&&g(i.querySelector('[tabindex="0"]'))&&(e.preventDefault(),v(c.current,d.N.RIGHT)),null==n||n(e))}),[n,s]);return(0,o.jsx)(u,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:c,onKeyDown:f},l))},x=n(51146),O=n(47393),w=["testid"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(0,a.forwardRef)((function(e,t){var n=e.as,i=e.testid,a=(0,r.Z)(e,w);return n?(0,o.jsx)(n,_({ref:t},a)):a.href?(0,o.jsx)("a",_({ref:t,"":i},a)):a.to?(0,o.jsx)(O.OL,_({ref:t},a)):(0,o.jsx)("button",_({"":i,ref:t},e))}))},32080:(e,t,n)=>{"use strict";n.d(t,{i:()=>l});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(1608),a=n.n(r),o=n(4637);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var l=function(e){return(0,o.jsx)(a(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}},91048:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var i=function(e){return e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right",e}({})},66220:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var i=n(59496),r=function(e){var t=e.ref,n=e.getFocusElement,r=e.onFocus,a=e.preventScroll,o=e.deps,s=void 0===o?[]:o,l=(0,i.useRef)(n),c=(0,i.useRef)(r);l.current=n,c.current=r;var u=(0,i.useRef)(null);(0,i.useEffect)((function(){var e,n;u.current=document.activeElement;var i,o=null!==(e=null===(n=l.current)||void 0===n?void 0:n.call(l,t.current))&&void 0!==e?e:t.current;r?null===(i=c.current)||void 0===i||i.call(c,o):null==o||o.focus({preventScroll:a})}),s)}},38351:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});n(43125),n(27639),n(29543),n(22369),n(70969);var i=n(59496),r=function(e){(0,i.useEffect)((function(){e.current&&Array.from(e.current.querySelectorAll('a:not([tabindex="0"]), button:not([tabindex="0"]), div[role="button"]')).forEach((function(e){return e.setAttribute("tabindex","-1")}))}))}},98030:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var i=n(59496),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onRestoreFocus,n=e.deps,r=void 0===n?[]:n,a=(0,i.useRef)(null);(0,i.useRef)(t).current=t,(0,i.useEffect)((function(){return a.current=document.activeElement,function(){var e;t?null==t||t(a.current):null===(e=a.current)||void 0===e||e.focus({preventScroll:!0})}}),r)}},8608:(e,t,n)=>{"use strict";function i(e){var t=e.querySelector('a[href], button, div[role="button"]'),n=e.querySelector('[tabindex="0"]')||t;return!!n&&(n.setAttribute("tabindex","0"),!0)}function r(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{preventScroll:!1}).preventScroll;t&&(e&&(e.tabIndex=-1),t.tabIndex=0,t.focus({preventScroll:n}))}function a(e){return!!e&&!!e.querySelector('a[href], button, div[role="button"]')}n.d(t,{Bu:()=>r,KX:()=>a,lK:()=>i})},9944:(e,t,n)=>{"use strict";n.d(t,{n:()=>c});var i=n(67946);const r="UyzJidwrGk3awngSGIwv";var a=n(84875),o=n.n(a),s=n(99055),l=n(4637),c=function(e){var t=e.durationMs,n=e.className,a=e.displaySeconds,c=(0,i.P)(t),u=c.hours,d=c.minutes,p=c.seconds;return a=!1!==a&&!u&&p,(0,l.jsx)("span",{className:o()(r,n),children:(0,s.N)({h:u,m:d,s:a?p:0})})}},99055:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});n(90511),n(62780),n(22369);var i=n(17249);function r(e){var t=e.h,n=e.m,r=e.s;return[t?i.ag.get("time.hours.short",t):"",n?i.ag.get("time.minutes.short",n):"",r?i.ag.get("time.seconds.short",r):""].filter((function(e){return""!==e})).join(" ")}},20872:(e,t,n)=>{"use strict";n.d(t,{nL:()=>i.n,jC:()=>f,ng:()=>g});var i=n(9944),r=n(67946);const a="poz9gZKE7xqFwgk231J4";var o=n(17249),s=n(84875),l=n.n(s),c=36e5,u=864e5;function d(e,t){return e-e%t}var p=n(99055),m=n(4637),f=function(e){var t,n,i=e.durationMs,s=e.className,f=i>u;t=f?u:d(n=i,n>36e6?c:n>18e6?18e5:n>36e5?9e5:n>18e5?3e5:6e4);var v=(0,r.P)(t),g=v.hours,h=v.minutes;if(0===g&&0===h)return null;var k=(0,p.N)({h:g,m:h,s:0});return k=f?o.ag.get("time.over",k):o.ag.get("time.estimated",k),(0,m.jsx)("span",{className:l()(a,s),children:k})};const v="xWm_uA0Co4SXVxaO7wlB";var g=function(e){var t=e.durationMs,n=e.className,i=e.displaySeconds,a=(0,r.P)(t),s=a.hours,c=a.minutes,u=a.seconds;i=!1!==i&&!s&&u;var d=(0,p.N)({h:s,m:c,s:i?u:0});return(0,m.jsx)("span",{className:l()(v,n),children:o.ag.get("time.left",d)})}},76022:(e,t,n)=>{"use strict";n.d(t,{BK:()=>x,F0:()=>k,IT:()=>v,Jn:()=>w,Li:()=>a,Lz:()=>o,Np:()=>c,YJ:()=>d,Z2:()=>l,ZW:()=>O,_S:()=>S,ci:()=>s,iz:()=>f,li:()=>u,s_:()=>g,un:()=>b,vF:()=>m,wI:()=>N,z4:()=>p,zL:()=>h});n(3270),n(14863),n(16366),n(41337),n(46743),n(69109);var i=n(17249),r=n(83474),a="https://open.spotify.com/",o="https://open.spotify.com",s="https://www.spotify.com/account/overview/",l="https://www.spotify.com/logout",c="https://www.spotify.com/premium/",u="https://www.spotify.com/us/purchase/panel/",d="https://support.spotify.com/",p="https://www.spotify.com/legal/cookies-policy/",m="https://spotify.com/download",f="https://support.spotify.com/ru-ru/contact-spotify-legal-form/",v="https://www.spotify.com/premium/?utm_source=app&utm_medium=desktop&utm_campaign=upgrade",g=300,h="/__noul__",k="intl-",y="/".concat(k),b=(new RegExp("".concat(y,"([a-zA-Z0-9-]+)")),["pt"]),S=[i.go.id,i.go.de],x=[].concat(S,b),O=i.go.en,w=[],N=[r.p.ALBUM,r.p.ARTIST,r.p.TRACK],_=([].concat(N,w),b.length>0?b[0]:S[0]),E=("".concat(k).concat(_),i.go.hu),C=("".concat(k).concat(E),S[0]),P=("".concat(k).concat(C),b.length||i.go.ca,i.go.zhCN),I=("".concat(k).concat(P),i.go.es419),j=i.go.es;"".concat(k).concat(I),"".concat(k).concat(j),i.go.ptBR},87164:(e,t,n)=>{"use strict";n.d(t,{$8:()=>s,DJ:()=>a,H8:()=>r,VX:()=>o});var i=n(59496),r=(0,i.createContext)(""),a=(0,i.createContext)(null),o=(0,i.createContext)({scrollNodeRef:{current:null},scrollNodeChildRef:{current:null}}),s=(0,i.createContext)({isRightSidebarVisible:!0,isNavBarVisible:!0,isNowPlayingBarVisible:!0,isTopBarVisible:!0,isMainViewExpanded:!1,resetMainView:function(){},collapseMainView:function(){}})},90135:(e,t,n)=>{"use strict";n.d(t,{WU:()=>s,ky:()=>c,zY:()=>l});var i=n(59496),r=n(4488),a=n(4637),o=(0,i.createContext)(null),s=function(e){var t,n=e.handle,i=e.children;return(0,a.jsx)(o.Provider,{value:null!=n?n:null,children:(0,a.jsx)(r.LC,{target:null==n||null===(t=n.document)||void 0===t?void 0:t.head,children:i})})};function l(){var e=(0,i.useContext)(o);return"undefined"==typeof window?null:null!=e?e:window}function c(){var e,t=l();return null!==(e=null==t?void 0:t.document)&&void 0!==e?e:null}},45883:(e,t,n)=>{"use strict";n.d(t,{Uo:()=>i.U,ZU:()=>a,jh:()=>o,Db:()=>s.D});var i=n(90586),r=n(59496),a=(0,r.createContext)(void 0),o=function(){return(0,r.useContext)(a)},s=n(13040)},90586:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var i=function(e){return e.XSMALL="XSMALL",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.XLARGE="XLARGE",e}({})},13040:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var i=n(39130),r=(n(92346),n(84456),n(40274),n(22369),n(59496)),a=n(23066);function o(e){var t=(0,r.useState)(),n=(0,i.Z)(t,2),o=n[0],s=n[1],l=Object.entries(e).sort((function(e,t){return t[1]-e[1]}));return{ref:(0,a.y)({observeOnly:"width",onResize:function(e){var t=e.width;if(void 0!==t){var n=l.find((function(e){var n=(0,i.Z)(e,2)[1];return t>=n})),r=n&&n[0];r&&r!==o&&s(r)}}}),breakpoint:o}}},31588:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var i=n(39130),r=n(59496),a=n(95682),o=function(e){var t=(0,r.useMemo)((function(){return(0,a.O)()?null:window.matchMedia(e)}),[e]),n=(0,r.useState)((function(){return!t||t.matches})),o=(0,i.Z)(n,2),s=o[0],l=o[1];return(0,r.useEffect)((function(){if(!t||!t.addEventListener)return function(){};var e=function(e){l(e.matches)};return t.addEventListener("change",e),function(){t.removeEventListener("change",e)}}),[t]),s}},939:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var i=n(31588),r=function(){return(0,i.a)("(prefers-reduced-motion: reduce)")}},52956:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var i=n(59496);function r(e){var t=(0,i.useRef)();return(0,i.useEffect)((function(){t.current=e}),[e]),t.current}},69912:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var i=n(59496),r=n(85830),a=100;function o(e){var t=(0,r.y1)(e,a,{leading:!0});(0,i.useEffect)((function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t),t.cancel()}}),[t])}},23066:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});n(83001),n(22369),n(27639),n(99024),n(71756),n(39975),n(29543),n(70969),n(82);var i,r=n(59496),a=n(73023),o=n(95682);function s(e){return!(0,o.O)()&&e instanceof HTMLElement}var l={subscribersByElement:new WeakMap,get resizeObserver(){return i||(i=new a.Z((function(e){Array.isArray(e)&&e.forEach((function(e){var t,n={width:Math.round(e.contentRect.width),height:Math.round(e.contentRect.height)};(null!==(t=l.subscribersByElement.get(e.target))&&void 0!==t?t:new Set).forEach((function(e){e(n)}))}))}))),i}};function c(e){var t=e.onResize,n=e.refOrElement,i=e.observeOnly,a=e.observeOnMount,o=void 0!==a&&a,c=(0,r.useRef)(t);c.current=t;var u=(0,r.useRef)(i);u.current=i;var d=(0,r.useRef)({width:-1,height:-1}),p=(0,r.useCallback)((function(e){if(c.current){var t=d.current.width!==e.width,n=d.current.height!==e.height;("width"===u.current&&t||"height"===u.current&&n||!u.current&&(t||n))&&c.current(e),d.current.width=e.width,d.current.height=e.height}}),[]),m=function(e){var t,n=e.refOrElement,i=e.subscriber,a=null,o=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useRef)(null),u=(0,r.useRef)(),d=(0,r.useRef)(i);d.current=i;var p=(0,r.useCallback)((function(){var e=null;l.current?e=l.current:o.current?e=o.current:s(n)&&(e=n),c.current!==e&&(u.current&&(u.current(),u.current=null),c.current=e,e&&d.current&&(u.current=d.current(e)))}),[n]),m=(0,r.useCallback)((function(e){l.current=e,p()}),[p]);return n&&!s(n)&&(a=n),(0,r.useEffect)((function(){a&&(o.current=a.current),p()}),[a,null===(t=a)||void 0===t?void 0:t.current,p]),(0,r.useEffect)((function(){return function(){var e;null==u||null===(e=u.current)||void 0===e||e.call(u)}}),[]),m}({refOrElement:n,subscriber:function(e){var t;return o&&p({width:e.offsetWidth,height:e.offsetHeight}),l.subscribersByElement.has(e)||(l.resizeObserver.observe(e),l.subscribersByElement.set(e,new Set)),null===(t=l.subscribersByElement.get(e))||void 0===t||t.add(p),function(){var t,n;null===(t=l.subscribersByElement.get(e))||void 0===t||t.delete(p),0===(null===(n=l.subscribersByElement.get(e))||void 0===n?void 0:n.size)&&(l.resizeObserver.unobserve(e),l.subscribersByElement.delete(e))}}});return m}},97846:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var i=n(59496),r=n(87164);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.executeOnceOnStart,a=void 0!==n&&n,o=t.disabled,s=void 0!==o&&o,l=(0,i.useContext)(r.VX).scrollNodeRef;(0,i.useEffect)((function(){var t=l.current;if(!s){if(t)return t.addEventListener("scroll",e),a&&t.dispatchEvent(new Event("scroll")),function(){return t.removeEventListener("scroll",e)};console.error("useScrollNode found no scroll node")}}),[l,e,a,s])}},18042:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var i=n(59496);function r(){var e=(0,i.useRef)(!1);return(0,i.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,i.useCallback)((function(){return e.current}),[])}},1754:(e,t,n)=>{"use strict";n.d(t,{pC:()=>i,vQ:()=>r});n(30246),n(40265),n(37193),n(69109),n(81289),n(22369),n(162),n(71541);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=e.name,i=e.value,r=e.days,a=e.domain,o=e.secure,s=void 0===o||o,l=e.samesite,c=void 0===l?"none":l,u="";if(r){var d=new Date;d.setTime(Date.now()+24*r*60*60*1e3),u="; expires=".concat(d.toUTCString())}else u="";var p="".concat(n,"=").concat(i).concat(u,"; path=/");a&&a.length&&(p+=";domain=".concat(a)),i&&(!0===s&&(p+=";secure"),p+=";samesite=".concat(c)),t.cookie=p}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;try{return t.cookie.split(";").map((function(e){return e.trim().split("=")})).reduce((function(e,t){return e[t[0]]=t[1],e}),{})[e]}catch(e){return null}}},78302:(e,t,n)=>{"use strict";n.d(t,{CG:()=>p,PC:()=>d,j6:()=>f,vK:()=>m});n(61235),n(62780),n(7845),n(66715),n(30479),n(75341);var i=n(45389),r=(n(29543),n(22369),n(70969),n(95675),n(9596)),a=n(69981),o=n(39533),s=n(43665);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=["open.spotifycdn.com","xpui.app.spotify.com"],d=function(e){(0,r.Tb)(e),console.error(e)},p=function(e){(0,r.$e)((function(t){t.setTag("FatalError","true"),d(e)}))},m=function(e,t){(0,r.$e)((function(n){n.setTag("ErrorBoundary",t),p(e)}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4?arguments[4]:void 0;(0,a.S1)(c(c({dsn:e,allowUrls:u,sampleRate:.1,release:t},n),{},{integrations:[new o.x],ignoreErrors:[/\/[\dA-F]{8}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{12}\/main\.js/,/^NotFoundError: Failed to execute '(removeChild|insertBefore)' on 'Node': The node.*child.*this node.$/,/ResizeObserver loop limit exceeded/,"PresentationRequest",/DA97E0680A7030159BC0C0EE3A1D098E947A08E3/]})),(0,r.e)((function(e){var t=(0,s.Z)("config").correlationId;t&&e.setUser({id:t}),Object.keys(i).forEach((function(t){e.setExtra(t,i[t])})),""!==document.referrer&&e.setExtra("referrer",document.referrer),l&&e.setTag("container",l)}))}},39106:(e,t,n)=>{"use strict";n.d(t,{m:()=>s,o:()=>o});n(16925),n(72649),n(69109);var i=n(67946),r=n(12033),a=n(95682),o=function(){var e,t,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.desiredSize,c=void 0===l?300:l,u=s.desiredLabel,d=void 0===u?"":u;0===c&&(c=300);var p=!(0,a.O)()&&((null===(e=window)||void 0===e?void 0:e.devicePixelRatio)>1||(null===(t=window)||void 0===t?void 0:t.matchMedia)&&(null===(n=window)||void 0===n?void 0:n.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches))?2:1;return null===(i=(0,r.X)(o,{desiredSize:c*p,desiredLabel:d}))||void 0===i?void 0:i.url},s=function(e){if(-1===e||Number.isNaN(e))return"-:--";var t=(0,i.P)(e),n=t.hours,r=t.minutes,a=t.seconds,o=n>0?"".concat(n,":"):"",s=n>0&&r<10?"0".concat(r):r,l=a<10?"0".concat(a):a;return"".concat(o).concat(s,":").concat(l)}},23373:(e,t,n)=>{"use strict";n.d(t,{PP:()=>g,V4:()=>f});n(39723),n(21861);var i=n(45389),r=n(92449),a=n(27915),o=n(35391),s=n(23011),l=n(61899),c=n(43716);n(83001),n(42617),n(22369),n(27639),n(71756),n(94562),n(98853),n(82),n(29543),n(70969);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n)}((0,c.Z)(Map)),p=function(){function e(t,n,r,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;(0,a.Z)(this,e),(0,i.Z)(this,"_batch",new d),(0,i.Z)(this,"_additions",new d),(0,i.Z)(this,"_deletions",new d),(0,i.Z)(this,"_timeoutId",null),this._onBatch=t,this._onAdd=n,this._onRemove=r,this._onUpdate=o,this._timeout=s}return(0,r.Z)(e,[{key:"onUpdate",value:function(){this._timeoutId=null,this._onUpdate(this._batch,this._additions,this._deletions),this._onBatch(this._batch)}},{key:"scheduleUpdate",value:function(){null===this._timeoutId&&(this._timeoutId=setTimeout(this.onUpdate.bind(this),this._timeout))}},{key:"getBatch",value:function(){return this._batch}},{key:"subscribe",value:function(e,t){this._onAdd(this._additions,e,t),this._onRemove(this._deletions,e,t),this.scheduleUpdate()}},{key:"unsubscribe",value:function(e,t){this._onAdd(this._deletions,e,t),this._onRemove(this._additions,e,t),this.scheduleUpdate()}}]),e}(),m=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n)}(p);function f(e){return new m(e,(function(e,t,n){var i=e.get(t);i?i.add(n):e.set(t,new Set([n]))}),(function(e,t,n){var i=e.get(t);i&&(i.delete(n),0===i.size&&e.delete(t))}),(function(e,t,n){n.forEach((function(t,n){var i=e.get(n);void 0!==i&&(t.forEach((function(e){return i.delete(e)})),0===i.size&&e.delete(n))})),n.clear(),t.forEach((function(t,n){var i=e.get(n);void 0!==i?t.forEach((function(e){return i.add(e)})):e.set(n,t)})),t.clear()}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}var v=function(e){(0,o.Z)(n,e);var t=u(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n)}(p);function g(e){return new v(e,(function(e,t){var n=e.get(t);void 0!==n?e.set(t,n+1):e.set(t,1)}),(function(e,t){var n=e.get(t);void 0!==n&&(n-1==0?e.delete(t):e.set(t,n-1))}),(function(e,t,n){n.forEach((function(t,n){var i=e.get(n)||0;i-t<=0?e.delete(n):e.set(n,i-t)})),n.clear(),t.forEach((function(t,n){var i=e.get(n)||0;e.set(n,i+t)})),t.clear()}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},81804:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var i=n(8850),r=n(10995),a=n.n(r);n(82088),n(83001),n(22369),n(8760),n(27639),n(71756);function o(e,t){return s.apply(this,arguments)}function s(){return s=(0,i.Z)(a().mark((function e(t,n){var i,r,o,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=s.length>2&&void 0!==s[2]?s[2]:50,r=[],o=0;o<t.length;o+=i)r.push(n(t.slice(o,o+i)));return e.abrupt("return",Promise.all(r));case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},35780:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>u,Xb:()=>d,IS:()=>p});var i=n(8850),r=n(10995),a=n.n(r),o=(n(16366),n(31781),n(60808)),s=(n(69109),n(32953)),l=function(){var e=(0,i.Z)(a().mark((function e(t,n,i){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(r=i)&&void 0!==r||(i="com.widevine.alpha"),e.next=3,t.build().withMethod("GET").withHost(s.B8).withPath("/unauth/episode/".concat(n,"/").concat(i)).withEndpointIdentifier("/unauth/episode/{episodeId}/{keysystem}").send();case 3:return e.abrupt("return",e.sent.body);case 4:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),c=n(59272);function u(e){var t;return 0===(null===(t=e.showTypes)||void 0===t?void 0:t.length)}function d(e,t){var n;return e.uri===(null===(n=t.trailer)||void 0===n?void 0:n.uri)}function p(e,t,n){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)(a().mark((function e(t,n,i){var r,s,u,d,p,m,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,c.EC)(t.uri),e.next=3,l(o.b.getInstance(),null==s?void 0:s.id,n);case 3:if(u=e.sent,"video"!==i){e.next=6;break}return e.abrupt("return",{format:"MANIFEST_ID",mediaType:i,noManifest:!1,fileId:null===(d=u.video)||void 0===d?void 0:d[0].manifestId});case 6:return p=null===(r=u.format)||void 0===r?void 0:r.replace(/_(128|256)/,""),m="NONE"!==u.passthrough,f=m?u.passthroughUrl:u.url[0],e.abrupt("return",{format:p,mediaType:null!=i?i:"audio",noManifest:m,resolvedURL:f,fileId:m?"":u.fileId});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},68032:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var i=n(45389);n(16366),n(31781),n(81289),n(22369),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var a={ARTIST:"artist",ALBUM:"album",PLAYLIST:"playlist",TRACK:"track",USER:"user"},o={Type:a,from:function(e){var t=/^spotify:(.*)$/.exec(e);if(!t)return{type:null,id:null};for(var n,o,s=t[1],l=/([^:]+):([^:]+)/g,c=[],u=[];n=l.exec(s);){var d=n[1],p=n[2];d===a.USER&&(o=void 0,o=p.replace(/\+/g,"%20"),p=decodeURIComponent(o)),c.push(d),u.push(p)}if(0===c.length)return{type:null,id:null};var m=c.reduce((function(e,t,n){return e[c[n]]=u[n],e}),{});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:c[c.length-1],id:u[u.length-1]},m)}}},60808:(e,t,n)=>{"use strict";n.d(t,{b:()=>L});var i=n(27915),r=n(92449),a=(n(39723),n(21861),n(27581)),o=n(35391),s=n(23011),l=n(61899),c=(n(69109),n(89620),n(83001),n(22369),n(82),n(27639),n(71756),n(59538),n(79611),n(30246),n(63691),n(37193),n(40265),n(76045)),u=n(91094),d=n(87132);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}function m(e){return"".concat(e.method,"::").concat(e.host).concat(e.path,"::").concat(JSON.stringify(e.queryParameters))}function f(e,t,n){try{(0,u.sQ)({metric_type:c.MetricTypes.COUNTER,what:"request-rate",value:1,tags:{endpoint:e,statusCode:t,isFatal:n}}).catch((function(){return{}}))}catch(e){}}var v=function(e){(0,o.Z)(n,e);var t=p(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).pendingRequests=new Set,r}return(0,r.Z)(n,[{key:"resetPendingRequests",value:function(){this.pendingRequests=new Set}},{key:"build",value:function(){var e,t=this,i=(0,a.Z)((0,l.Z)(n.prototype),"build",this).call(this);return i.onBeforeSend=function(){if(e=m(i),t.pendingRequests.has(e)){var n=new Error("DUPLICATE_REQUEST_ERROR: Already sent this request (".concat(e,")"));throw n.name="DUPLICATE_REQUEST_ERROR",n}"GET"===i.method.toUpperCase()&&t.pendingRequests.add(e)},i.onAfterSend=function(n){e=m(i);var r="unknown",a=!1;if(null!==i.endpointIdentifier&&(a=!0,r="".concat(i.method," ").concat(i.hostIdentifier||"unknown-host","::").concat(i.endpointIdentifier)),t.pendingRequests.delete(e),n)throw a&&f(r,JSON.stringify(n.status||0),JSON.stringify(0===(i.endpointIdentifier||"").indexOf("/me"))),d.m.fromResponse(n,i.method);if(a){f(r,"200","false");var o=Date.now()-(i.startTimestamp||0);!function(e,t,n){try{(0,u.sQ)({metric_type:c.MetricTypes.TIMER,what:"request-duration",value:n,tags:{endpoint:e,statusCode:t}}).catch((function(){return{}}))}catch(e){}}(r,"200",c.Time.fromMillis(o).asNanos())}},i}}]),n}(n(98322).c),g=n(53425),h=n(45389),k=n(8850),y=n(10995),b=n.n(y),S=(n(47921),n(46743),n(45880),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(94562),n(81816)),x=n(47196),O=n.n(x),w=n(21366),N=n.n(w);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=O()(S.fetch);function P(e){return e&&void 0!==e.retries&&e.retries>0?C:S.fetch}function I(e,t){return j.apply(this,arguments)}function j(){return j=(0,k.Z)(b().mark((function e(t,n){var i,r,a,o,s,l=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:1e4,r=new(N()),a=r.signal,o=setTimeout((function(){return r.abort()}),i),s=P(n),e.abrupt("return",s(t,E(E({},n),{},{signal:a})).then((function(e){return clearTimeout(o),e})).catch((function(e){var r;if("AbortError"===e.name)throw new d.V({timeout:i,url:t,method:null!==(r=null==n?void 0:n.method)&&void 0!==r?r:"get"});throw clearTimeout(o),e})));case 6:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){function e(t,n){return(0,i.Z)(this,e),this.method=t,this.url=n,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._headers={},this._includeCredentials=!1,this._endpointIdentifier=null,this}var t;return(0,r.Z)(e,[{key:"withQueryParameters",value:function(e){this.queryParameters=e}},{key:"withResponseType",value:function(e){this.responseType=e}},{key:"withPostData",value:function(e){this.postData=e}},{key:"withEndpointIdentifier",value:function(e){this._endpointIdentifier=e}},{key:"addHeader",value:function(e,t){return this._headers[e]=t,this}},{key:"includeCredentials",value:function(){return this._includeCredentials=!0,this}},{key:"send",value:(t=(0,k.Z)(b().mark((function e(){var t,n,i,r,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.postData&&(t=null!==(n=this._headers["Content-Type"])&&void 0!==n&&n.startsWith("application/json;charset=UTF-8")?JSON.stringify(this.postData):this.postData),i=new URLSearchParams(this.queryParameters).toString(),r=c.Timer.start(),e.next=6,I("".concat(this.url).concat(i?"?".concat(i):""),{method:this.method,body:t,credentials:this._includeCredentials?"include":void 0,headers:T({"User-Agent":{}.SERVER_UA,"Content-Type":R(this.responseType)},this._headers)},1e4);case 6:if(a=e.sent,(0,u.sQ)({metric_type:c.MetricTypes.TIMER,what:"isomorphic-request-time",value:r.end().nanoseconds,tags:this._endpointIdentifier?{endpoint:this._endpointIdentifier}:{}}),a.ok){e.next=10;break}throw d.m.fromResponse(a,this.method||"GET");case 10:if("text"!==this.responseType){e.next=16;break}return e.next=13,a.text();case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,a.json();case 18:e.t0=e.sent;case 19:return e.t1=e.t0,e.t2=a.status,e.abrupt("return",{body:e.t1,status:e.t2});case 22:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function R(e){return"text"===e?"text/plain":"application/json"}var F=null,L=function(){function e(){(0,i.Z)(this,e)}return(0,r.Z)(e,null,[{key:"setSession",value:function(e){if(e){var t=e.accessToken,n=this.getInstance();n.accessToken=t,t||n.resetPendingRequests()}}},{key:"setLocale",value:function(e){this.getInstance().locale=e}},{key:"setGlobalRequestHeaders",value:function(e){this.getInstance().globalRequestHeaders=e}},{key:"setMarket",value:function(e){this.getInstance().market=e}},{key:"resetInstance",value:function(){F=null}},{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F||(F=this.createNew(e)),F}},{key:"createNew",value:function(e){var t=e.Constructor,n=void 0===t?v:t,i=e.fromServer;return new n(void 0!==i&&i?D:g.e)}}]),e}()},11771:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var i=n(32953),r=function(e,t){return e.build().withMethod("GET").withHost(i.ZI).withPath("/dialog/".concat(t)).withEndpointIdentifier("/dialog/${uri}").withoutMarket().send()}},32953:(e,t,n)=>{"use strict";n.d(t,{AA:()=>p,B8:()=>A,Cw:()=>B,Ep:()=>_,FN:()=>E,Gy:()=>y,H:()=>u,Jz:()=>d,KH:()=>F,No:()=>m,OP:()=>R,PQ:()=>S,SW:()=>c,St:()=>Z,Tt:()=>h,Uk:()=>g,W7:()=>M,WE:()=>T,XA:()=>o,Y7:()=>V,Z9:()=>P,ZI:()=>b,aj:()=>O,cM:()=>L,f:()=>C,fQ:()=>N,fW:()=>U,fe:()=>v,gH:()=>x,hC:()=>I,lW:()=>j,pd:()=>l,uP:()=>w,vp:()=>f,wI:()=>k,x9:()=>D});var i=n(50363),r=n.n(i),a=r().WEB_API_URL,o=r().SPCLIENT_WG_URL,s=r().PARTNER_API_ENDPOINT,l=(r().ACCOUNTS_HOST,r().EXP_WG_ENDPOINT),c="",u="".concat(a,"/v1"),d="".concat(o,"/melody/v1"),p="".concat(o,"/radio-apollo/v3"),m="".concat(o,"/recently-played/v3"),f=("".concat(o,"/collection-view/v1"),"".concat(o,"/sponsoredplaylist/v1")),v="".concat(o,"/playlist/v2"),g="".concat(o,"/inspiredby-mix/v2"),h="".concat(o,"/ads"),k="".concat(s,"/pathfinder/v1"),y="".concat(o,"/autoplay-enabled"),b="".concat(o,"/age-verification/v1"),S="".concat(o,"/concerts"),x="".concat(l,"/cooper"),O="".concat(o,"/collection"),w="".concat(o,"/presence-view"),N="".concat(o,"/presence2"),_="".concat(o,"/find-friends"),E="".concat(o,"/track-credits-view"),C="".concat(o,"/color-lyrics/v2"),P="".concat(o,"/metadata/4"),I="".concat(o,"/user-profile-view/v3"),j="".concat(o,"/campaigns-service/v1"),A=("".concat(o,"/stories-view/v1"),"".concat(o,"/soundfinder/v1")),T="".concat(o,"/"),D="".concat(o,"/socialgraph/v2"),R="".concat(o,"/ondemand-selector/v2"),F="".concat(o,"/playlist-permission/v1"),L="".concat(o,"/blend-invitation"),M="".concat(o,"/playlistfreshener"),U="".concat(o,"/spotify.audiobookcashier.v1.AudiobookCashier"),Z=("".concat(o,"/the-stage/v1"),"".concat(o,"/profile-privacy")),B=("".concat(o,"/blend-party"),"".concat(o,"/user-verification-service/v0")),V="".concat(o,"/cultural-moment/v1")},60247:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>o,aj:()=>a,uM:()=>r,wD:()=>l,zm:()=>s});n(69109);var i=n(32953),r=function(e){return e.build().withHost(i.uP).withMethod("GET").withoutMarket().withPath("/v1/buddylist").withJsonContentType().withEndpointIdentifier("/v1/buddylist").send()},a=function(e,t){return e.build().withHost(i.uP).withMethod("GET").withoutMarket().withPath("/v1/user/".concat(encodeURIComponent(t))).withJsonContentType().withEndpointIdentifier("/v1/user").send()},o=function(e){return e.build().withHost(i.Ep).withMethod("POST").withoutMarket().withPath("/v1/friends").withJsonContentType().withEndpointIdentifier("/v1/friends").send()},s=function(e,t,n){return e.build().withHost(i.fQ).withMethod("POST").withoutMarket().withJsonContentType().withPath("/sub/user/".concat(encodeURIComponent(t),"/connection_id/").concat(n)).withEndpointIdentifier("POST:/sub/user/:username/connection_id/:connection_id").send()},l=function(e,t,n){return e.build().withHost(i.fQ).withMethod("DELETE").withoutMarket().withPath("/sub/user/".concat(encodeURIComponent(t),"/connection_id/").concat(n)).withEndpointIdentifier("DELETE:/sub/user/:username/connection_id/:connection_id").send()}},31185:(e,t,n)=>{"use strict";n.r(t),n.d(t,{checkConcertInCollection:()=>d,fetchLocationQuery:()=>v,getAllConcerts:()=>h,getConcert:()=>l,getConcertsForArtist:()=>p,getConcertsForUser:()=>m,getConcertsHub:()=>g,getPromoRow:()=>k,getSavedConcertsHub:()=>y,getSpotifyConcerts:()=>f,saveConcert:()=>c,unsaveConcert:()=>u});var i=n(45389),r=(n(89620),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(32953)),a=n(17249);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return e.build().withHost(r.PQ).withPath("/v1/concert/view/".concat(t)).withQueryParameters({locale:a.ag.getLocale()}).withEndpointIdentifier("/concert/{concertId}").send()}var c=function(e,t){return e.build().withMethod("POST").withHost(r.PQ).withPath("/v2/concerts/saved/".concat(t)).withEndpointIdentifier("/concerts/saved/{concertId}").withoutMarket().send()},u=function(e,t){return e.build().withMethod("DELETE").withHost(r.PQ).withPath("/v2/concerts/saved/".concat(t)).withEndpointIdentifier("/concerts/saved/{concertId}").withoutMarket().send()},d=function(e,t,n){return e.build().withMethod("POST").withHost(r.aj).withPath("/v2/contains").withHeaders([{key:"content-type",value:"application/json"},{key:"accept",value:"application/json"}]).withBody(JSON.stringify({username:t,set:"concerts",items:[{uri:n}]})).send()};function p(e,t,n){return e.build().withHost(r.PQ).withPath("/v2/concerts/artist/".concat(n)).withQueryParameters(s({locale:a.ag.getLocale(),filterByLoc:!1,decorate:!0},t&&{geohash:t})).withEndpointIdentifier("concerts/artist/${artistId}").send()}function m(e,t){return e.build().withHost(r.PQ).withPath("/v3/concerts/view").withQueryParameters(s({locale:a.ag.getLocale(),source:["user","popular","online"],playlists:!1},t&&{geonameId:t})).withEndpointIdentifier("/concerts/view").send()}function f(e,t){return e.build().withHost(r.PQ).withPath("/v3/concerts/firstParty").withQueryParameters(s({locale:a.ag.getLocale(),playlists:!1},t&&{geonameId:t})).withEndpointIdentifier("/concerts/firstParty").send()}function v(e,t){return e.build().withHost(r.PQ).withPath("/v1/location/suggest").withQueryParameters({q:t}).withEndpointIdentifier("/concerts/location/suggest").send()}function g(e,t,n){var i={};return t&&(i.ip=t),n&&(i.geonameId=n),e.build().withHost(r.PQ).withPath("/v3/concerts/open").withQueryParameters(i).withEndpointIdentifier("/v3/concerts/open").send()}function h(e,t){var n={};return t.page&&(n.page=t.page),t.geonameId&&(n.geonameId=t.geonameId),t.startDate&&(n.startDate=t.startDate),t.endDate&&(n.endDate=t.endDate),e.build().withHost(r.PQ).withPath("/v3/concerts").withQueryParameters(n).withEndpointIdentifier("/v3/concerts").send()}function k(e){return e.build().withHost(r.PQ).withPath("/v3/concerts/view/promoRow").withEndpointIdentifier("/v3/concerts/view/promoRow").send()}function y(e){return e.build().withHost(r.PQ).withPath("/v3/concerts/saved").withEndpointIdentifier("/v3/concerts/saved").send()}},1074:(e,t,n)=>{"use strict";n.d(t,{fi:()=>d,dp:()=>i,xh:()=>r,BC:()=>p,q8:()=>fe,LH:()=>le,cW:()=>h,x2:()=>v,TV:()=>a,Zz:()=>f,gO:()=>o,di:()=>c,OK:()=>u,fQ:()=>s,pH:()=>m,n5:()=>C,kO:()=>l,uC:()=>g});var i={};n.r(i),n.d(i,{getAlbum:()=>y,getAlbumEntityView:()=>x,getAlbumTracks:()=>S,getAlbums:()=>b});var r={};n.r(r),n.d(r,{getArtist:()=>O,getArtistAlbums:()=>N,getArtistTopTracks:()=>_,getArtists:()=>w});var a={};n.r(a),n.d(a,{getGeneric:()=>E});var o={};n.r(o),n.d(o,{addToPlaylist:()=>D,changePlaylistDetails:()=>R,createPlaylist:()=>T,getOnDemandPlaylists:()=>M,getPlaylist:()=>A,getPlaylistPermissionForUser:()=>U,removeFromPlaylist:()=>L,renamePlaylist:()=>F});var s={};n.r(s),n.d(s,{getTrack:()=>Z,getTrackEntityView:()=>V,getTracks:()=>B});var l={};n.r(l),n.d(l,{getView:()=>q,getViewRaw:()=>Y});var c={};n.r(c),n.d(c,{createCheckoutSession:()=>ne,getEpisode:()=>ee,getEpisodes:()=>te,getShow:()=>X,getShowEpisodes:()=>$});var u={};n.r(u),n.d(u,{getSponsoredPlaylistAd:()=>re,getSponsoredPlaylists:()=>ie});var d={};n.r(d),n.d(d,{getAdsManagerConfig:()=>ae,getAdsManagerSlot:()=>oe});var p={};n.r(p),n.d(p,{query:()=>se});var m={};n.r(m),n.d(m,{V:()=>ce});var f={};n.r(f),n.d(f,{getSEOTrackLyrics:()=>ue});var v={};n.r(v),n.d(v,{deleteFeedback:()=>pe,setFeedback:()=>de});var g={};n.r(g),n.d(g,{getEligibility:()=>me});var h={};n.r(h),n.d(h,{D:()=>ve});n(90511);var k=n(32953);function y(e,t){return e.build().withHost(k.H).withPath("/albums/".concat(t)).withEndpointIdentifier("/albums/{albumId}").send()}function b(e,t){return e.build().withHost(k.H).withPath("/albums").withQueryParameters({ids:t.join(",")}).withEndpointIdentifier("/albums?ids={albumIds}").send()}function S(e,t,n){return e.build().withHost(k.H).withPath("/albums/".concat(t,"/tracks")).withQueryParameters(n).withEndpointIdentifier("/albums/{albumId}/tracks").send()}function x(e,t,n){return e.build().withHost(k.XA).withPath("/album-entity-view/v2/album/".concat(t)).withQueryParameters(n).withEndpointIdentifier("/album-entity-view/v2/album/{albumId}").send()}function O(e,t){return e.build().withHost(k.H).withPath("/artists/".concat(t)).withoutMarket().withEndpointIdentifier("/artists/{artistId}").send()}function w(e,t){return e.build().withHost(k.H).withPath("/artists").withQueryParameters({ids:t.join(",")}).withoutMarket().withEndpointIdentifier("/artists?ids={artistIds}").send()}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(k.H).withPath("/artists/".concat(t,"/albums")).withQueryParameters(n).withoutMarket().withEndpointIdentifier("/artists/{artistId}/albums").send()}function _(e,t){return e.build().withHost(k.H).withPath("/artists/".concat(t,"/top-tracks")).withEndpointIdentifier("/artists/{artistId}/top-tracks").send()}function E(e,t,n,i,r){return e.build().withHost(t).withPath(n).withQueryParameters(i).withoutMarket().withEndpointIdentifier(r).send()}var C=n(28101),P=(n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(45389)),I=n(68032);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{additional_types:"track"};return e.build().withHost(k.H).withPath("/playlists/".concat(t)).withQueryParameters(n).withEndpointIdentifier("/playlists/{playlistId}").send()}function T(e,t,n){return e.build().withMethod("POST").withHost(k.H).withPath("/users/".concat(encodeURIComponent(t),"/playlists")).withoutMarket().withJsonContentType().withBody({name:n,public:!0}).withEndpointIdentifier("/users/{userId}/playlists").send()}function D(e,t,n,i){var r=I.o.from(t).id;return e.build().withMethod("POST").withHost(k.H).withPath("/playlists/".concat(r,"/tracks")).withJsonContentType().withBody(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uris:n},"number"==typeof i&&{position:i})).withEndpointIdentifier("/playlists/{playlistId}/tracks").withoutMarket().send()}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=I.o.from(t).id;return e.build().withMethod("PUT").withHost(k.H).withPath("/playlists/".concat(i)).withJsonContentType().withBody(n).withEndpointIdentifier("/playlists/{playlistId}").withoutMarket().send()}function F(e,t,n){return R(e,t,{name:n})}function L(e,t,n,i){var r=I.o.from(t).id;return e.build().withMethod("DELETE").withHost(k.H).withPath("/playlists/".concat(r,"/tracks")).withJsonContentType().withBody({tracks:[{positions:[i],uri:n}]}).withEndpointIdentifier("/playlists/{playlistId}/tracks").withoutMarket().send()}function M(e){return e.build().withHost(k.OP).withPath("/select-ondemand-set?format=json").withEndpointIdentifier("/select-ondemand-set").withJsonContentType().withoutMarket().send()}function U(e,t){return e.build().withHost(k.KH).withMethod("GET").withPath("/playlist/".concat(t,"/capabilities")).withEndpointIdentifier("/playlist/{id}/capabilities").withoutMarket().send()}n(10995),n(69109),n(59538),n(79611),n(8760);function Z(e,t){return e.build().withHost(k.H).withPath("/tracks/".concat(t)).withEndpointIdentifier("/tracks/{trackId}").send()}function B(e,t){return e.build().withHost(k.H).withPath("/tracks").withQueryParameters({ids:t.join(",")}).withEndpointIdentifier("/tracks?ids={trackIds}").send()}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(k.XA).withPath("/track-entity-view/v2/track/".concat(t)).withQueryParameters(n).withEndpointIdentifier("/track-entity-view/v2/track/{trackId}").send()}n(162);n(16366),n(74553),n(40265),n(80108);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var G="web",W=10,z=20,K=12;function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(k.H).withPath("/views/".concat(encodeURIComponent(t))).withQueryParameters(n).withLocale(n.locale).withEndpointIdentifier("/views/{viewId}").send()}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.match(/ginger-genre-affinity/)?K:z,r=new Date;return e.build().withHost(k.H).withPath("/views/".concat(encodeURIComponent(t))).withQueryParameters(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({timestamp:new Date(r.getTime()-60*r.getTimezoneOffset()*1e3).toISOString(),platform:G,content_limit:W,limit:i,types:"album,playlist,artist,show",image_style:"gradient_overlay",include_external:"audio"},n)).withLocale(n.locale).withEndpointIdentifier("/views/{viewId}").send()}n(63691),n(89620);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,P.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return e.build().withHost(k.H).withPath("/shows/".concat(t)).withQueryParameters({market:n}).withEndpointIdentifier("shows/{showId}").send()}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return e.build().withHost(k.H).withPath("/shows/".concat(t,"/episodes")).withQueryParameters(J(J({},n),{},{market:i})).withEndpointIdentifier("shows/{showId}/episodes").send()}function ee(e,t,n){return e.build().withHost(k.H).withPath("/episodes/".concat(t)).withQueryParameters({market:n}).withEndpointIdentifier("episodes/{episodeId}").send()}function te(e,t,n){return e.build().withHost(k.H).withPath("/episodes").withQueryParameters({market:n,ids:t}).withEndpointIdentifier("episodes").send()}function ne(e,t){var n,i="undefined"!=typeof window&&window.navigator&&window.navigator.platform||"",r=null;return-1!==i.indexOf("Mac")?r="OSX":-1!==i.indexOf("Win")?r="Win32":-1!==i.indexOf("Linux")&&(r="Linux"),e.build().withMethod("POST").withHost(k.fW).withPath("/CheckoutBook").withoutMarket().withBody(JSON.stringify(t)).withEndpointIdentifier("show/{showId}").withHeaders([{key:"App-Platform",value:null!==(n=r)&&void 0!==n?n:"Browser"}]).send()}var ie=function(e){return e.build().withHost(k.vp).withPath("/sponsored").withEndpointIdentifier("/sponsored").send()},re=function(e,t){return e.build().withHost(k.vp).withPath("/sponsored/".concat(t)).withEndpointIdentifier("sponsored/{playlistUri}").send()},ae=(n(87021),function(e,t){return e.build().withHost(k.Tt).withPath("/v2/config").withQueryParameters({playload:"",e30:""}).withHeaders(t).withEndpointIdentifier("/v2/config").send()}),oe=function(e,t,n){return e.build().withHost(k.Tt).withPath("/v1/ads/".concat(t)).withQueryParameters({playload:"",e30:""}).withHeaders(n).withEndpointIdentifier("/v1/ads/{slotName}").send()};n(11771);function se(e,t){return e.build().withMethod("GET").withHost(k.Gy).withPath("/query").withQueryParameters({uri:t}).withResponseType("text").withEndpointIdentifier("/query").withoutMarket().send()}var le=n(31185),ce=function(e,t){return e.build().withHost(k.FN).withPath("/v0/experimental/".concat(t,"/credits")).withoutMarket().withEndpointIdentifier("/v0/experimental/{trackId}/credits").send()},ue=function(e,t){return e.build().withHost(k.f).withPath("/seo/track/".concat(encodeURIComponent(t))).withEndpointIdentifier("/seo/track/{trackId}").send()},de=(n(31781),function(e,t,n){var i=t.replace("<reason>","LOCAL_NOT_APPROPRIATE_FOR_CONTEXT").replace("<track-uri>",n);return e.build().withMethod("POST").withHost(k.WE).withPath(i).withEndpointIdentifier("/<feature>/feedback/").send()}),pe=function(e,t,n){var i=t.replace("<reason>","LOCAL_NOT_APPROPRIATE_FOR_CONTEXT").replace("<track-uri>",n);return e.build().withMethod("DELETE").withHost(k.WE).withPath(i).withEndpointIdentifier("/<feature>/feedback/").send()},me=function(e){return e.build().withHost(k.lW).withMethod("GET").withPath("/campaigns/wrapped/consumer/eligible").withEndpointIdentifier("/campaigns/wrapped/").withoutMarket().send()},fe=n(60247),ve=function(e,t){return e.build().withHost(k.Y7).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send()}},87021:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var i=n(32953),r=function(e,t){return e.build().withHost(i.Uk).withPath("/seed_to_playlist/".concat(t)).withQueryParameters({"response-format":"json"}).withoutMarket().withEndpointIdentifier("/seed_to_playlist/{uri}").send()}},28101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PLATFORM:()=>L,blockUser:()=>J,getFollowers:()=>z,getFollowing:()=>W,getHarmonyProductStateForAnonymousUser:()=>G,getIsBlocked:()=>Q,getMe:()=>U,getPlaylists:()=>Y,getProductState:()=>H,getProfile:()=>K,getRecentlyPlayedArtists:()=>q,getShowFollows:()=>$,getUser:()=>M,getUserTopArtists:()=>B,getUserTopTracks:()=>V,getUserTopType:()=>Z,setShowFollows:()=>ee,unblockUser:()=>X});var i=n(8850),r=n(45389),a=(n(83001),n(88906),n(22369),n(60178),n(59346),n(67886),n(61948),n(45060),n(39210),n(82241),n(45074),n(60252),n(89333),n(83360),n(82695),n(91526),n(15355),n(69103),n(61368),n(99852),n(8599),n(17744),n(79028),n(12041),n(26112),n(9032),n(31266),n(65092),n(95350),n(5628),n(36507),n(55553),n(6127),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(10995)),o=n.n(a),s=n(51770),l=n(32953);n(30246),n(72649),n(39975),n(162),n(69604),n(99975),n(80108),n(40265);var c=function(e){return{seconds:p(e.seconds)?String(e.seconds):"0",nanos:p(e.nanos)?Number(e.nanos):0}},u=function(e){var t={};return void 0!==e.seconds&&(t.seconds=e.seconds),void 0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},d=function(e){var t,n,i={seconds:"0",nanos:0};return i.seconds=null!==(t=e.seconds)&&void 0!==t?t:"0",i.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,i};function p(e){return null!=e}var m=function(e){return{seconds:f(e.seconds)?String(e.seconds):"0",nanos:f(e.nanos)?Number(e.nanos):0}};function f(e){return null!=e}var v=function(e){return e[e.IMAGE_SIZE_UNSPECIFIED=0]="IMAGE_SIZE_UNSPECIFIED",e[e.IMAGE_SIZE_DEFAULT=1]="IMAGE_SIZE_DEFAULT",e[e.IMAGE_SIZE_SMALL=2]="IMAGE_SIZE_SMALL",e[e.IMAGE_SIZE_LARGE=3]="IMAGE_SIZE_LARGE",e[e.IMAGE_SIZE_XLARGE=4]="IMAGE_SIZE_XLARGE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function g(e){switch(e){case 0:case"IMAGE_SIZE_UNSPECIFIED":return v.IMAGE_SIZE_UNSPECIFIED;case 1:case"IMAGE_SIZE_DEFAULT":return v.IMAGE_SIZE_DEFAULT;case 2:case"IMAGE_SIZE_SMALL":return v.IMAGE_SIZE_SMALL;case 3:case"IMAGE_SIZE_LARGE":return v.IMAGE_SIZE_LARGE;case 4:case"IMAGE_SIZE_XLARGE":return v.IMAGE_SIZE_XLARGE;default:return v.UNRECOGNIZED}}var h={fromJSON:function(e){return{name:b(e.name)?String(e.name):"",publish_time:b(e.publish_time)?y(e.publish_time):void 0,duration:b(e.duration)?c(e.duration):void 0,uri:b(e.uri)?String(e.uri):"",images:Array.isArray(null==e?void 0:e.images)?e.images.map((function(e){return k.fromJSON(e)})):[],stream_count:b(e.stream_count)?String(e.stream_count):"0",explicit:!!b(e.explicit)&&Boolean(e.explicit)}},toJSON:function(e){var t={};return void 0!==e.name&&(t.name=e.name),void 0!==e.publish_time&&(t.publish_time=e.publish_time.toISOString()),void 0!==e.duration&&(t.duration=e.duration?u(e.duration):void 0),void 0!==e.uri&&(t.uri=e.uri),e.images?t.images=e.images.map((function(e){return e?k.toJSON(e):void 0})):t.images=[],void 0!==e.stream_count&&(t.stream_count=e.stream_count),void 0!==e.explicit&&(t.explicit=e.explicit),t},fromPartial:function(e){var t,n,i,r,a,o,s={name:"",publish_time:void 0,duration:void 0,uri:"",images:[],stream_count:"0",explicit:!1};return s.name=null!==(t=e.name)&&void 0!==t?t:"",s.publish_time=null!==(n=e.publish_time)&&void 0!==n?n:void 0,s.duration=void 0!==e.duration&&null!==e.duration?d(e.duration):void 0,s.uri=null!==(i=e.uri)&&void 0!==i?i:"",s.images=(null===(r=e.images)||void 0===r?void 0:r.map((function(e){return k.fromPartial(e)})))||[],s.stream_count=null!==(a=e.stream_count)&&void 0!==a?a:"0",s.explicit=null!==(o=e.explicit)&&void 0!==o&&o,s}};var k={fromJSON:function(e){return{size:b(e.size)?g(e.size):0,url:b(e.url)?String(e.url):""}},toJSON:function(e){var t={};return void 0!==e.size&&(t.size=function(e){switch(e){case v.IMAGE_SIZE_UNSPECIFIED:return"IMAGE_SIZE_UNSPECIFIED";case v.IMAGE_SIZE_DEFAULT:return"IMAGE_SIZE_DEFAULT";case v.IMAGE_SIZE_SMALL:return"IMAGE_SIZE_SMALL";case v.IMAGE_SIZE_LARGE:return"IMAGE_SIZE_LARGE";case v.IMAGE_SIZE_XLARGE:return"IMAGE_SIZE_XLARGE";case v.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.size)),void 0!==e.url&&(t.url=e.url),t},fromPartial:function(e){var t,n,i={size:0,url:""};return i.size=null!==(t=e.size)&&void 0!==t?t:0,i.url=null!==(n=e.url)&&void 0!==n?n:"",i}};function y(e){return e instanceof Date?e:"string"==typeof e?new Date(e):(t=m(e),n=1e3*Number(t.seconds),n+=t.nanos/1e6,new Date(n));var t,n}function b(e){return null!=e}var S=function(e){return{uri:P(e.uri)?String(e.uri):"",name:P(e.name)?String(e.name):"",image_url:P(e.image_url)?String(e.image_url):"",followers_count:P(e.followers_count)?Number(e.followers_count):0,following_count:P(e.following_count)?Number(e.following_count):0,is_following:!!P(e.is_following)&&Boolean(e.is_following),recently_played_artists:Array.isArray(null==e?void 0:e.recently_played_artists)?e.recently_played_artists.map((function(e){return w.fromJSON(e)})):[],public_playlists:Array.isArray(null==e?void 0:e.public_playlists)?e.public_playlists.map((function(e){return _.fromJSON(e)})):[],total_public_playlists_count:P(e.total_public_playlists_count)?Number(e.total_public_playlists_count):0,is_current_user:!!P(e.is_current_user)&&Boolean(e.is_current_user),is_verified:!!P(e.is_verified)&&Boolean(e.is_verified),edit_profile_disabled:!!P(e.edit_profile_disabled)&&Boolean(e.edit_profile_disabled),report_abuse_disabled:!!P(e.report_abuse_disabled)&&Boolean(e.report_abuse_disabled),has_spotify_name:!!P(e.has_spotify_name)&&Boolean(e.has_spotify_name),has_spotify_image:!!P(e.has_spotify_image)&&Boolean(e.has_spotify_image),color:P(e.color)?Number(e.color):0,is_dismissed:!!P(e.is_dismissed)&&Boolean(e.is_dismissed),user_created_show:P(e.user_created_show)?x.fromJSON(e.user_created_show):void 0,allow_follows:!!P(e.allow_follows)&&Boolean(e.allow_follows),show_follows:!!P(e.show_follows)&&Boolean(e.show_follows)}};var x={fromJSON:function(e){return{episodes:Array.isArray(null==e?void 0:e.episodes)?e.episodes.map((function(e){return h.fromJSON(e)})):[],uri:P(e.uri)?String(e.uri):"",total_episode_count:P(e.total_episode_count)?Number(e.total_episode_count):0}},toJSON:function(e){var t={};return e.episodes?t.episodes=e.episodes.map((function(e){return e?h.toJSON(e):void 0})):t.episodes=[],void 0!==e.uri&&(t.uri=e.uri),void 0!==e.total_episode_count&&(t.total_episode_count=Math.round(e.total_episode_count)),t},fromPartial:function(e){var t,n,i,r={episodes:[],uri:"",total_episode_count:0};return r.episodes=(null===(t=e.episodes)||void 0===t?void 0:t.map((function(e){return h.fromPartial(e)})))||[],r.uri=null!==(n=e.uri)&&void 0!==n?n:"",r.total_episode_count=null!==(i=e.total_episode_count)&&void 0!==i?i:0,r}};var O=function(e){return{artists:Array.isArray(null==e?void 0:e.artists)?e.artists.map((function(e){return w.fromJSON(e)})):[]}};var w={fromJSON:function(e){return{uri:P(e.uri)?String(e.uri):"",name:P(e.name)?String(e.name):"",image_url:P(e.image_url)?String(e.image_url):"",followers_count:P(e.followers_count)?Number(e.followers_count):0,is_following:!!P(e.is_following)&&Boolean(e.is_following)}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.is_following&&(t.is_following=e.is_following),t},fromPartial:function(e){var t,n,i,r,a,o={uri:"",name:"",image_url:"",followers_count:0,is_following:!1};return o.uri=null!==(t=e.uri)&&void 0!==t?t:"",o.name=null!==(n=e.name)&&void 0!==n?n:"",o.image_url=null!==(i=e.image_url)&&void 0!==i?i:"",o.followers_count=null!==(r=e.followers_count)&&void 0!==r?r:0,o.is_following=null!==(a=e.is_following)&&void 0!==a&&a,o}};var N=function(e){return{public_playlists:Array.isArray(null==e?void 0:e.public_playlists)?e.public_playlists.map((function(e){return _.fromJSON(e)})):[],total_public_playlists_count:P(e.total_public_playlists_count)?Number(e.total_public_playlists_count):0}};var _={fromJSON:function(e){return{uri:P(e.uri)?String(e.uri):"",name:P(e.name)?String(e.name):"",image_url:P(e.image_url)?String(e.image_url):"",followers_count:P(e.followers_count)?Number(e.followers_count):0,owner_name:P(e.owner_name)?String(e.owner_name):"",owner_uri:P(e.owner_uri)?String(e.owner_uri):"",is_following:!!P(e.is_following)&&Boolean(e.is_following)}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.owner_name&&(t.owner_name=e.owner_name),void 0!==e.owner_uri&&(t.owner_uri=e.owner_uri),void 0!==e.is_following&&(t.is_following=e.is_following),t},fromPartial:function(e){var t,n,i,r,a,o,s,l={uri:"",name:"",image_url:"",followers_count:0,owner_name:"",owner_uri:"",is_following:!1};return l.uri=null!==(t=e.uri)&&void 0!==t?t:"",l.name=null!==(n=e.name)&&void 0!==n?n:"",l.image_url=null!==(i=e.image_url)&&void 0!==i?i:"",l.followers_count=null!==(r=e.followers_count)&&void 0!==r?r:0,l.owner_name=null!==(a=e.owner_name)&&void 0!==a?a:"",l.owner_uri=null!==(o=e.owner_uri)&&void 0!==o?o:"",l.is_following=null!==(s=e.is_following)&&void 0!==s&&s,l}};var E=function(e){return{profiles:Array.isArray(null==e?void 0:e.profiles)?e.profiles.map((function(e){return C.fromJSON(e)})):[]}};var C={fromJSON:function(e){return{uri:P(e.uri)?String(e.uri):"",name:P(e.name)?String(e.name):"",image_url:P(e.image_url)?String(e.image_url):"",followers_count:P(e.followers_count)?Number(e.followers_count):0,following_count:P(e.following_count)?Number(e.following_count):0,is_followed:!!P(e.is_followed)&&Boolean(e.is_followed),is_following:!!P(e.is_following)&&Boolean(e.is_following),is_dismissed:!!P(e.is_dismissed)&&Boolean(e.is_dismissed),is_verified:!!P(e.is_verified)&&Boolean(e.is_verified),color:P(e.color)?Number(e.color):0,allow_follows:!!P(e.allow_follows)&&Boolean(e.allow_follows)}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),void 0!==e.name&&(t.name=e.name),void 0!==e.image_url&&(t.image_url=e.image_url),void 0!==e.followers_count&&(t.followers_count=Math.round(e.followers_count)),void 0!==e.following_count&&(t.following_count=Math.round(e.following_count)),void 0!==e.is_followed&&(t.is_followed=e.is_followed),void 0!==e.is_following&&(t.is_following=e.is_following),void 0!==e.is_dismissed&&(t.is_dismissed=e.is_dismissed),void 0!==e.is_verified&&(t.is_verified=e.is_verified),void 0!==e.color&&(t.color=Math.round(e.color)),void 0!==e.allow_follows&&(t.allow_follows=e.allow_follows),t},fromPartial:function(e){var t,n,i,r,a,o,s,l,c,u,d,p={uri:"",name:"",image_url:"",followers_count:0,following_count:0,is_followed:!1,is_following:!1,is_dismissed:!1,is_verified:!1,color:0,allow_follows:!1};return p.uri=null!==(t=e.uri)&&void 0!==t?t:"",p.name=null!==(n=e.name)&&void 0!==n?n:"",p.image_url=null!==(i=e.image_url)&&void 0!==i?i:"",p.followers_count=null!==(r=e.followers_count)&&void 0!==r?r:0,p.following_count=null!==(a=e.following_count)&&void 0!==a?a:0,p.is_followed=null!==(o=e.is_followed)&&void 0!==o&&o,p.is_following=null!==(s=e.is_following)&&void 0!==s&&s,p.is_dismissed=null!==(l=e.is_dismissed)&&void 0!==l&&l,p.is_verified=null!==(c=e.is_verified)&&void 0!==c&&c,p.color=null!==(u=e.color)&&void 0!==u?u:0,p.allow_follows=null!==(d=e.allow_follows)&&void 0!==d&&d,p}};function P(e){return null!=e}var I=n(33892),j=n.n(I);var A=function(e,t){for(var n=e instanceof j().Reader?e:new(j().Reader)(e),i=void 0===t?n.len:n.pos+t,r={showFollows:!1};n.pos<i;){var a=n.uint32();if(a>>>3==1)r.showFollows=n.bool();else n.skipType(7&a)}return r};var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j().Writer.create();return""!==e.username&&t.uint32(10).string(e.username),!0===e.showFollows&&t.uint32(16).bool(e.showFollows),t},D=function(e){var t,n,i={username:"",showFollows:!1};return i.username=null!==(t=e.username)&&void 0!==t?t:"",i.showFollows=null!==(n=e.showFollows)&&void 0!==n&&n,i};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L="WEB";function M(e,t){return e.build().withHost(l.H).withPath("/users/".concat(t)).withoutMarket().withEndpointIdentifier("/users/{userId}").send()}function U(e){return e.build().withHost(l.H).withPath("/me").withEndpointIdentifier("/me").withoutMarket().send()}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.build().withHost(l.H).withPath("/me/top/".concat(t)).withEndpointIdentifier("/me/top/{type}").withQueryParameters(n).withoutMarket().send()}function B(e){return Z(e,"artists",F(F({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:0,limit:10}),{},{time_range:"short_term"}))}function V(e){return Z(e,"tracks",F(F({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offset:0,limit:50}),{},{time_range:"short_term"}))}var H=function(e){return e.build().withHost(l.Jz).withPath("/product_state").withEndpointIdentifier("/product_state").send()},G=function(e,t){return{ads:"0",catalogue:"premium",country:e,"preferred-locale":t,product:"premium","on-demand":"1"}},W=function(){var e=(0,i.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("GET").withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(n)),"/following")).withEndpointIdentifier("/profile/{username}/following").send();case 2:return i=e.sent,e.abrupt("return",E(i.body));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=(0,i.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("GET").withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(n)),"/followers")).withEndpointIdentifier("/profile/{username}/followers").send();case 2:return i=e.sent,e.abrupt("return",E(i.body));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=(0,i.Z)(o().mark((function e(t,n){var i,r,a,c,u,d,p,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uri,r=n.playlists,a=void 0===r?0:r,c=n.artists,u=void 0===c?0:c,d=n.episodes,p=void 0===d?0:d,e.next=3,t.build().withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(i)))).withEndpointIdentifier("/profile/{username}").withQueryParameters({playlist_limit:a,artist_limit:u,episode_limit:p}).send();case 3:return m=e.sent,e.abrupt("return",S(m.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=(0,i.Z)(o().mark((function e(t,n){var i,r,a,c,u,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uri,r=n.offset,a=void 0===r?0:r,c=n.limit,u=void 0===c?200:c,e.next=3,t.build().withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(i)),"/playlists")).withEndpointIdentifier("/profile/{username}/playlists").withQueryParameters({offset:a,limit:u}).send();case 3:return d=e.sent,e.abrupt("return",N(d.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=(0,i.Z)(o().mark((function e(t,n){var i,r,a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uri,r=n.limit,a=void 0===r?10:r,e.next=3,t.build().withMethod("GET").withHost(l.hC).withPath("/profile/".concat(encodeURIComponent((0,s.C)(i)),"/artists")).withEndpointIdentifier("/profile/{username}/artists").withQueryParameters({limit:a}).send();case 3:return c=e.sent,e.abrupt("return",O(c.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(e,t){var n=t.currentUserUri,i=t.uri;return e.build().withMethod("GET").withHost(l.x9).withPath("/is_dismissed").withEndpointIdentifier("/is_dismissed").withQueryParameters({source_uri:n,target_uri:i,format:"json"}).send()},J=function(e,t){var n=t.currentUserUri,i=t.uri;return e.build().withMethod("POST").withHost(l.x9).withPath("/dismissed").withEndpointIdentifier("/dismissed").withQueryParameters({source_uri:n,target_uri:i,format:"json"}).send()},X=function(e,t){var n=t.currentUserUri,i=t.uri;return e.build().withMethod("DELETE").withHost(l.x9).withPath("/dismissed").withEndpointIdentifier("/dismissed").withQueryParameters({source_uri:n,target_uri:i,format:"json"}).send()},$=function(){var e=(0,i.Z)(o().mark((function e(t,n){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uri,e.abrupt("return",t.build().withHost(l.St).withMethod("GET").withoutMarket().withResponseType("arraybuffer").withPath("/show-follows/".concat(encodeURIComponent((0,s.C)(i)))).withEndpointIdentifier("/show-follows/{username}").send().then((function(e){return A(new Uint8Array(e.body))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=(0,i.Z)(o().mark((function e(t,n){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.uri,r=n.showFollows,a=T(D({username:(0,s.C)(i),showFollows:r})),e.next=4,t.build().withHost(l.St).withMethod("POST").withoutMarket().withBody(a.finish()).withPath("/show-follows").withEndpointIdentifier("/show-follows").send();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},6404:(e,t,n)=>{"use strict";n.d(t,{h:()=>o,u:()=>a});var i=n(65937),r=n(32953);function a(e){return e.build().withHost(r.Cw).withPath("/verifications/").withEndpointIdentifier("/verifications/").send()}function o(e,t){return e.build().withMethod(i.Method.PUT).withHost(r.Cw).withPath("/verifications/".concat(t,"/")).withEndpointIdentifier("/verifications/{verificationId}/").send()}},87132:(e,t,n)=>{"use strict";n.d(t,{V:()=>d,m:()=>u});n(22369),n(39723),n(21861);var i=n(27915),r=n(92449),a=n(35391),o=n(23011),s=n(61899),l=n(43716);n(30246),n(59538),n(79611),n(69109);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){(0,a.Z)(n,e);var t=c(n);function n(e){var r;(0,i.Z)(this,n);var a=e.message,o=e.url,s=e.method,l=e.status,c=e.response;return(r=t.call(this,a)).name="HttpResponseError",r.requestUrl=o,r.requestMethod=s,r.status=l,r.response=c,r}return(0,r.Z)(n,null,[{key:"fromResponse",value:function(e,t){return new n({message:e.statusText,url:e.url,method:t,status:e.status,response:e})}}]),n}((0,l.Z)(Error)),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(e){var r;(0,i.Z)(this,n);var a=e.timeout,o=e.url,s=e.method;return(r=t.call(this,{message:"".concat(s.toUpperCase()," ").concat(o," timed out (").concat(a,"ms)"),url:o,method:s,status:503})).name="HttpRequestTimeoutError",r.timeout=a,r}return(0,r.Z)(n)}(u)},98322:(e,t,n)=>{"use strict";n.d(t,{c:()=>v});var i,r=n(27915),a=n(92449),o=n(39130),s=n(45389),l=n(8850),c=n(10995),u=n.n(c);n(69109),n(29543),n(22369),n(70969),n(8760),n(37193),n(40265),n(95675),n(61235),n(62780),n(7845),n(66715),n(30479),n(75341);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){function e(){(0,r.Z)(this,e),this._accessToken=null,this._market="",this._headers=[],this._globalRequestHeaders=[],this._shouldSendMarket=!0,this._shouldSendGlobalHeaders=!0,this._locale=null,this._shouldSendLocale=!1,this._shouldSendAuthorization=!0,this._host="",this._hostIdentifier="",this.path="",this.responseType="json",this.queryParameters=void 0,this._method="GET",this.jsonContentType=!1,this.body=null,this._endpointIdentifier=null,this._startTimestamp=null,this._includeCredentials=!1}var t;return(0,a.Z)(e,[{key:"getRequestImplementation",value:function(){return i}},{key:"accessToken",set:function(e){this._accessToken=e}},{key:"market",get:function(){return this._market},set:function(e){this._market=e}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"globalRequestHeaders",get:function(){return this._globalRequestHeaders},set:function(e){this._globalRequestHeaders=e}},{key:"startTimestamp",get:function(){return this._startTimestamp}},{key:"host",get:function(){return this._host}},{key:"hostIdentifier",get:function(){return this._hostIdentifier||this._host}},{key:"method",get:function(){return this._method}},{key:"endpointIdentifier",get:function(){return this._endpointIdentifier}},{key:"withHost",value:function(e){return this._host=e,this}},{key:"withHostIdentifier",value:function(e){return this._hostIdentifier=e,this}},{key:"withPath",value:function(e){return this.path=e,this}},{key:"withResponseType",value:function(e){return this.responseType=e,this}},{key:"withEndpointIdentifier",value:function(e){return this._endpointIdentifier=e,this}},{key:"withQueryParameters",value:function(e){return this.queryParameters=e,this}},{key:"withBody",value:function(e){return this.body=e,this}},{key:"withMethod",value:function(e){return this._method=e,this}},{key:"withoutMarket",value:function(){return this._shouldSendMarket=!1,this}},{key:"withoutGlobalHeaders",value:function(){return this._shouldSendGlobalHeaders=!1,this}},{key:"withoutAuthorization",value:function(){return this._shouldSendAuthorization=!1,this}},{key:"withLocale",value:function(e){return this._shouldSendLocale=!0,e&&(this._locale=e),this}},{key:"withJsonContentType",value:function(){return this.jsonContentType=!0,this}},{key:"withHeaders",value:function(e){return this._headers=e,this}},{key:"withCredentials",value:function(){return this._includeCredentials=!0,this}},{key:"onBeforeSend",value:function(e){}},{key:"onAfterSend",value:function(e){}},{key:"send",value:(t=(0,l.Z)(u().mark((function e(){var t,n,r,a=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=new i(this.method,"".concat(this._host).concat(this.path),this._shouldSendAuthorization),this._shouldSendMarket&&this.market&&(this.queryParameters=p(p({},this.queryParameters),{},{market:this.market})),this._shouldSendLocale&&this.locale&&(this.queryParameters=p(p({},this.queryParameters),{},{locale:this.locale})),this.locale&&t.addHeader("Accept-Language",this.locale),t.withQueryParameters(this.queryParameters),t.withResponseType(this.responseType),t.withEndpointIdentifier(this._endpointIdentifier),this._shouldSendAuthorization&&this._accessToken&&t.addHeader("Authorization","Bearer ".concat(this._accessToken)),t.addHeader("Accept","application/json"),this._includeCredentials&&t.includeCredentials(),this._shouldSendGlobalHeaders&&this._globalRequestHeaders.length>0&&this._globalRequestHeaders.forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],r=n[1];t.addHeader(i,r)})),n=0;n<this._headers.length;n++)r=this._headers[n],t.addHeader(r.key,r.value);this.jsonContentType&&t.addHeader("Content-Type","application/json;charset=UTF-8"),this.body&&t.withPostData(this.body),e.prev=14,this.onBeforeSend(t),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(14),e.abrupt("return",Promise.reject(e.t0));case 21:return this._startTimestamp=Date.now(),e.abrupt("return",t.send().then((function(e){return a.onAfterSend(),e})).catch((function(e){throw a.onAfterSend(e),e})));case 23:case"end":return e.stop()}}),e,this,[[14,18]])}))),function(){return t.apply(this,arguments)})}],[{key:"setRequestImplementation",value:function(e){i=e}}]),e}(),f=n(53425),v=function(){function e(t){(0,r.Z)(this,e),this._accessToken=null,this._market="",this._locale="",this._globalRequestHeaders=[],this._RequestImplementation=t||f.e}return(0,a.Z)(e,[{key:"accessToken",get:function(){return this._accessToken},set:function(e){this._accessToken=e}},{key:"globalRequestHeaders",get:function(){return this._globalRequestHeaders},set:function(e){this._globalRequestHeaders=e}},{key:"market",get:function(){return this._market},set:function(e){this._market=e}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"resetPendingRequests",value:function(){}},{key:"build",value:function(){m.setRequestImplementation(this._RequestImplementation);var e=new m;return e.accessToken=this._accessToken,e.market=this.market,e.locale=this.locale,e.globalRequestHeaders=this.globalRequestHeaders,e}}]),e}()},53425:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var i=n(8850),r=n(27915),a=n(92449),o=n(10995),s=n.n(o),l=(n(79611),n(40265),n(22369),n(46743),n(83001),n(27639),n(71756),n(45880),n(69109),n(47921),n(89620),n(11721)),c=function(){function e(t,n,i){return(0,r.Z)(this,e),this.method=t,this.url=n,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._headers={},this._authorize=i,this._includeCredentials=!1,this}var t;return(0,a.Z)(e,[{key:"withQueryParameters",value:function(e){this.queryParameters=e}},{key:"withPostData",value:function(e){this.postData=e}},{key:"withResponseType",value:function(e){this.responseType=e}},{key:"withEndpointIdentifier",value:function(){}},{key:"addHeader",value:function(e,t){return this._headers[e]=t,this}},{key:"includeCredentials",value:function(){return this._includeCredentials=!0,this}},{key:"send",value:(t=(0,i.Z)(s().mark((function e(){var t,n,i,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,l.k)(),n=new URLSearchParams(this.queryParameters).toString(),i="".concat(this.url).concat(n?"?".concat(n):""),r={method:this.method,responseType:this.responseType,headers:this._headers,authorize:this._authorize,rejectNotOk:!0},this._includeCredentials&&(r.credentials="include"),this.postData&&(null!==(a=this._headers["Content-Type"])&&void 0!==a&&a.startsWith("application/json;charset=UTF-8")?r.payload=JSON.stringify(this.postData):r.payload=this.postData),e.abrupt("return",t.request(i,r).then((function(e){return e})).catch((function(e){throw e})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()},12088:(e,t,n)=>{"use strict";n.d(t,{B:()=>p,k:()=>u});var i=n(8850),r=n(10995),a=n.n(r),o=n(1219),s=n(74620),l=n(68894),c=(0,s.v)();function u(){return d.apply(this,arguments)}function d(){return(d=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.post("sp://desktop/v1/logout");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new o.ProductStateClient((0,l.G)()),e.next=3,t.getValues(o.GetValuesRequest.fromPartial({})).then((function(e){return"1"===e.pairs["shows-collection"]}));case 3:return n=e.sent,e.abrupt("return",{enableShows:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},14816:(e,t,n)=>{"use strict";n.d(t,{B:()=>u,a:()=>d});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.UPDATE="update",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},90294:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var i={isAuthorized:!1,token:null,retryAttempt:null,retryAt:null}},82337:(e,t,n)=>{"use strict";n.d(t,{k:()=>s,p:()=>o});var i=n(8850),r=n(10995),a=n.n(r);n(37193),n(40265);function o(e){return Date.now()>=e.accessTokenExpirationTimestampMs}function s(e,t){var n=null,r=null;return(0,i.Z)(a().mark((function i(){var o,s=arguments;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o=(s.length>0&&void 0!==s[0]?s[0]:{}).preferCached,!(void 0!==o&&o)||!n){i.next=3;break}return i.abrupt("return",n);case 3:if(!r){i.next=5;break}return i.abrupt("return",r);case 5:return r=e(),i.prev=6,i.next=9,r;case 9:n=i.sent,t(n);case 11:return i.prev=11,r=null,i.finish(11);case 14:return i.abrupt("return",n);case 15:case"end":return i.stop()}}),i,null,[[6,,11,14]])})))}},31097:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,V:()=>a});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'AuthorizationContext' without 'AuthorizationProvider'!");return e}},77940:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var i=n(39130),r=n(59496),a=n(14816),o=n(31097);function s(){var e=(0,o.V)(),t=(0,r.useState)(e.getState()),n=(0,i.Z)(t,2),s=n[0],l=n[1];return(0,r.useEffect)((function(){var t=e.getEvents(),n=a.B.UPDATE,i=function(e){l(e.data)};return t.addListener(n,i),function(){t.removeListener(n,i)}}),[e]),s}},70097:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var i=n(39130),r=n(8850),a=n(10995),o=n.n(a),s=n(59496),l=n(31097);function c(){var e=(0,l.V)(),t=e.getCapabilities().canGetSessionTransferURL,n=(0,s.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";window.open(e,t)}),[]),a=(0,s.useCallback)(function(){var n=(0,r.Z)(o().mark((function n(i){var r,a,s=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:"_blank",!t){n.next=8;break}return n.next=4,e.getSessionTransferURL(i);case 4:a=n.sent,window.open(a,r),n.next=9;break;case 8:window.open(i,r);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,t]);return{openURL:n,openURLWithSessionTransfer:a,useGetURLWithSessionTransfer:function(n){var a=(0,s.useState)(n),l=(0,i.Z)(a,2),c=l[0],u=l[1];return(0,s.useEffect)((function(){function i(){return(i=(0,r.Z)(o().mark((function t(){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSessionTransferURL(n);case 2:i=t.sent,u(i);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t&&function(){i.apply(this,arguments)}()}),[n]),c}}}},37253:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>g,tL:()=>k,tp:()=>h});n(39723),n(21861);var i=n(8850),r=n(27581),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=n(27915),u=n(92449),d=n(45389),p=n(10995),m=n.n(p);n(83001),n(42617),n(22369),n(27639),n(71756),n(59538),n(79611),n(37193),n(40265),n(29543),n(70969),n(94562),n(98853);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var v=864e5,g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,c.Z)(this,e),(0,d.Z)(this,"_cache",new Map),this._ttl=t,null!==t&&(t<1||t>v))throw new Error("TTL should be between ".concat(1," (1 ms) and ").concat(v," (1 day)."))}return(0,u.Z)(e,[{key:"isExpired",value:function(e){return null!==e.expiry&&e.expiry<Date.now()}},{key:"getExpiry",value:function(){return null!==this._ttl?Date.now()+this._ttl:null}},{key:"entries",value:function(){return this._cache.entries()}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"get",value:function(e){var t=this._cache.get(e);if(void 0!==t){if(!this.isExpired(t))return t.value;this._cache.delete(e)}}},{key:"set",value:function(e,t){this._cache.set(e,{value:t,expiry:this.getExpiry()})}},{key:"create",value:function(e,t){var n=this.get(e);if(void 0===n){var i=t();return this.set(e,i),i}return n}},{key:"delete",value:function(e){this._cache.delete(e)}},{key:"clear",value:function(){this._cache.clear()}},{key:"cleanup",value:function(){var e=this;this._cache.forEach((function(t,n){e.isExpired(t)&&e._cache.delete(n)}))}}]),e}(),h=function(e){(0,o.Z)(n,e);var t=f(n);function n(e,i){var r;return(0,c.Z)(this,n),r=t.call(this,e),setInterval(r.cleanup.bind((0,a.Z)(r)),i),r}return(0,u.Z)(n)}(g),k=function(e){(0,o.Z)(a,e);var t,n=f(a);function a(){return(0,c.Z)(this,a),n.call(this,null)}return(0,u.Z)(a,[{key:"deleteOnResolve",value:(t=(0,i.Z)(m().mark((function e(t,n){var i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return i=e.sent,this.delete(t),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"create",value:function(e,t){var n=(0,r.Z)((0,l.Z)(a.prototype),"create",this).call(this,e,t);return this.deleteOnResolve(e,n)}},{key:"set",value:function(e,t){(0,r.Z)((0,l.Z)(a.prototype),"set",this).call(this,e,this.deleteOnResolve(e,t))}}]),a}(g)},33390:(e,t,n)=>{"use strict";n.d(t,{p:()=>A,J:()=>P});var i=n(8850),r=n(39130),a=(n(95675),n(10995)),o=n.n(a),s=n(59272),l=n(38185),c=n(59496),u=n(83014),d=(n(69109),n(9294),n(76317)),p=[{kind:"FragmentDefinition",name:{kind:"Name",value:"extractedColors"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}}]}}],m=[{kind:"FragmentDefinition",name:{kind:"Name",value:"extractedColorsAndImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}},{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}],f=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForAlbumEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForAlbumEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}].concat((0,u.Z)(m),(0,u.Z)(p),(0,u.Z)(d.rD.definitions),(0,u.Z)(d.rA.definitions))},v=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForArtistEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForArtistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat((0,u.Z)(m),(0,u.Z)(p),(0,u.Z)(d.rD.definitions),(0,u.Z)(d.rA.definitions))},g=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForEpisodeEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForEpisodeEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}].concat((0,u.Z)(m),(0,u.Z)(p),(0,u.Z)(d.rD.definitions),(0,u.Z)(d.rA.definitions))},h=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForPlaylistEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForPlaylistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat((0,u.Z)(m),(0,u.Z)(p),(0,u.Z)(d.rD.definitions),(0,u.Z)(d.rA.definitions))},k=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForPodcastEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForPodcastEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}].concat((0,u.Z)(m),(0,u.Z)(p),(0,u.Z)(d.rD.definitions),(0,u.Z)(d.rA.definitions))},y=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForTrackEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForTrackEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat((0,u.Z)(m),(0,u.Z)(p),(0,u.Z)(d.rD.definitions),(0,u.Z)(d.rA.definitions))},b=Spicetify.GraphQL.Definitions["fetchExtractedColorForAlbumEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForAlbumEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}].concat((0,u.Z)(p))},S=Spicetify.GraphQL.Definitions["fetchExtractedColorForArtistEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForArtistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat((0,u.Z)(p))},x=Spicetify.GraphQL.Definitions["fetchExtractedColorForEpisodeEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForEpisodeEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}].concat((0,u.Z)(p))},O=Spicetify.GraphQL.Definitions["fetchExtractedColorForPlaylistEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForPlaylistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat((0,u.Z)(p))},w=Spicetify.GraphQL.Definitions["fetchExtractedColorForPodcastEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForPodcastEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnionV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}].concat((0,u.Z)(p))},N=Spicetify.GraphQL.Definitions["fetchExtractedColorForTrackEntity"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForTrackEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat((0,u.Z)(p))},_=n(26352),E=n(12033),C={artist:S,album:b,episode:x,playlist:O,"playlist-v2":O,show:w,track:N};function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Sns,n=(0,c.useContext)(_.Ax).request,a=(0,c.useState)(t),u=(0,r.Z)(a,2),d=u[0],p=u[1];return(0,c.useEffect)((function(){(0,i.Z)(o().mark((function t(){var i,r,a,l,c,u,d,m,f,v,g,h,k,y;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(0,s.EC)(e)){t.next=3;break}return t.abrupt("return");case 3:if(r=C[i.type]){t.next=7;break}return console.error("The entity (".concat(e,") you're trying to use it not supported for this query")),t.abrupt("return");case 7:return t.next=9,n(r,{uri:i.toURI()});case 9:a=t.sent,l=(null==a?void 0:a.data)||{},c=l.albumUnion,u=l.artistUnion,d=l.episodeUnionV2,m=l.playlistV2,f=l.podcastUnionV2,v=l.trackUnion,T(c)?p(I(c.coverArt)):D(u)?p(I(null===(g=u.visuals)||void 0===g?void 0:g.avatarImage)):R(d)?p(I(d.coverArt)):F(m)?p(I(null===(h=m.images)||void 0===h||null===(k=h.items)||void 0===k?void 0:k[0])):L(f)?p(I(null==f?void 0:f.coverArt)):U(v)&&p(I(null===(y=v.albumOfTrack)||void 0===y?void 0:y.coverArt));case 12:case"end":return t.stop()}}),t)})))()}),[e,n]),d}function I(e){var t;return null==e||null===(t=e.extractedColors)||void 0===t?void 0:t.colorDark.hex}var j={artist:v,album:f,episode:g,playlist:h,"playlist-v2":h,show:k,track:y};function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Sns,n=arguments.length>2?arguments[2]:void 0,a=(0,c.useContext)(_.Ax).request,u=(0,c.useState)(t),d=(0,r.Z)(u,2),p=d[0],m=d[1],f=(0,c.useState)(n),v=(0,r.Z)(f,2),g=v[0],h=v[1],k=(0,c.useCallback)((function(e){var t=((0,E.X)(null==e?void 0:e.sources)||{}).url,n=I(e);t&&h(t),n&&m(n)}),[h]);return(0,c.useEffect)((function(){(0,i.Z)(o().mark((function t(){var n,i,r,l,c,u,d,p,m,f,v,g,h;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,s.EC)(e)){t.next=3;break}return t.abrupt("return");case 3:if(i=j[n.type]){t.next=7;break}return console.error("The entity (".concat(e,") you're trying to use it not supported for this query")),t.abrupt("return");case 7:return t.next=9,a(i,{uri:n.toURI()});case 9:r=t.sent,l=(null==r?void 0:r.data)||{},c=l.albumUnion,u=l.artistUnion,d=l.episodeUnionV2,p=l.playlistV2,m=l.podcastUnionV2,f=l.trackUnion,T(c)?k(c.coverArt):D(u)?k(u.visuals.avatarImage):R(d)?k(d.coverArt):F(p)?k(null===(v=p.images)||void 0===v||null===(g=v.items)||void 0===g?void 0:g[0]):L(m)||M(m)?k(m.coverArt):U(f)&&k(null===(h=f.albumOfTrack)||void 0===h?void 0:h.coverArt);case 12:case"end":return t.stop()}}),t)})))()}),[e,a,k]),[g,p]}function T(e){return!!e}function D(e){return!!e}function R(e){return!(!e||0===Object.keys(e).length)&&"Episode"===e.__typename}function F(e){return!!e}function L(e){return!(!e||0===Object.keys(e).length)&&"Podcast"===e.__typename}function M(e){return!(!e||0===Object.keys(e).length)&&"Audiobook"===e.__typename}function U(e){return!!e}},66831:(e,t,n)=>{"use strict";n.d(t,{l:()=>l,S:()=>c});var i=n(8850),r=n(10995),a=n.n(r),o=(n(39975),n(59538),n(79611),n(162),n(3531)),s=(n(9294),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtractedColors"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}},{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}},{kind:"Field",name:{kind:"Name",value:"colorLight"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]});function l(e){return o.Il.fromHex(e)}function c(e,t){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)(a().mark((function e(t,n){var i,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(n)||(n=[n]),e.next=3,t(s,{uris:n});case 3:if(i=e.sent,r=(null==i?void 0:i.data)||{},o=r.extractedColors){e.next=7;break}throw new Error("Failed to fetch multiple extracted colors!");case 7:return e.abrupt("return",o.map((function(e){return"ExtractedColors"!==e.__typename?null:{colorRaw:l(e.colorRaw.hex),colorDark:l(e.colorDark.hex),colorLight:l(e.colorLight.hex),isFallback:e.colorRaw.isFallback&&e.colorDark.isFallback&&e.colorLight.isFallback}})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},59468:(e,t,n)=>{"use strict";n.d(t,{EC:()=>m,ab:()=>d});var i=n(8850),r=n(10995),a=n.n(r),o=(n(50103),n(22369),n(162),n(83001),n(8760),n(27639),n(71756),n(39975),n(29543),n(70969),n(38185)),s=n(66831),l=n(37253),c=n(95682),u=new l.Ct,d={colorRaw:(0,s.l)(o.Sns),colorDark:(0,s.l)(o.Sns),colorLight:(0,s.l)(o.Sns)};function p(e){return e.every((function(e){return!!e}))}function m(e,t){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a().mark((function e(t,i){var r,o,l,m,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(i)||(i=[i]),e.next=3,Promise.all(i.map((function(e){return u.get(e)})));case 3:if(!p(r=e.sent)){e.next=6;break}return e.abrupt("return",r);case 6:return e.prev=6,e.next=9,(0,s.S)(t,i);case 9:return o=e.sent,e.next=12,v(i,o);case 12:return(l=e.sent).forEach((function(e,t){u.set(i[t],Promise.resolve(e))})),e.abrupt("return",l);case 17:if(e.prev=17,e.t0=e.catch(6),(0,c.O)()){e.next=25;break}return e.next=22,Promise.all([n.e(1814),n.e(5103)]).then(n.bind(n,35103));case 22:return m=e.sent,f=m.extractColors,e.abrupt("return",Promise.all(i.map((function(e){var t=f(e);return u.set(e,t),t}))));case 25:return e.abrupt("return",Promise.resolve([d]));case 26:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}function v(e,t){var r=t.map(function(){var t=(0,i.Z)(a().mark((function t(i,r){var o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||i.isFallback){t.next=2;break}return t.abrupt("return",i);case 2:if(""!==e[r]){t.next=4;break}return t.abrupt("return",d);case 4:if((0,c.O)()){t.next=10;break}return t.next=7,Promise.all([n.e(1814),n.e(5103)]).then(n.bind(n,35103));case 7:return o=t.sent,s=o.extractColors,t.abrupt("return",s(e[r]));case 10:return t.abrupt("return",d);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());return Promise.all(r)}},95055:(e,t,n)=>{"use strict";n.d(t,{b:()=>c});n(65394),n(78819);var i=n(59496),r=n(38185),a=n(3531),o=n(59468),s=n(26352),l=n(9102);function c(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Sns,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"colorRaw",d=(0,i.useContext)(s.Ax).request,p=(0,l.useQuery)(["extracted-color",n],(function(){return n?(0,o.EC)(d,n):null}),{cacheTime:864e5,staleTime:216e5,enabled:!!n}).data;return null!==(e=null==p||null===(t=p.at(0))||void 0===t?void 0:t[u].toCSS(a.jT.HEX))&&void 0!==e?e:c}},97314:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var i=function(e){return e[e.HEX=0]="HEX",e[e.HEXA=1]="HEXA",e[e.RGB=2]="RGB",e[e.RGBA=3]="RGBA",e[e.HSL=4]="HSL",e[e.HSLA=5]="HSLA",e}({})},3531:(e,t,n)=>{"use strict";n.d(t,{jT:()=>o.j,Il:()=>w,bS:()=>N});var i=n(27915),r=n(92449),a=n(45389),o=(n(59538),n(79611),n(69109),n(89620),n(97314));n(20362),n(40265),n(22369),n(46743),n(25710),n(7986),n(72649);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return Math.abs(e-t)<n}function l(e){return e.toString(16).padStart(2,"0")}function c(e){return"".concat(parseFloat((100*e).toFixed(1)),"%")}n(3270),n(14863),n(41337),n(83001),n(27639),n(99024),n(71756),n(81289),n(95675),n(63481),n(49892),n(61235),n(69724),n(39975),n(90511),n(82088);var u=n(96268),d=n(35391),p=n(52260);n(16366),n(31781),n(5538);function m(){m=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var a=new RegExp(e,i);return t.set(a,r||t.get(e)),(0,p.Z)(a,n.prototype)}function i(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var a=0;void 0===e[r[a]]&&a+1<r.length;)a++;t[n]=e[r[a]]}return t}),Object.create(null))}return(0,d.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var a=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var o=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,u.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(i(e,o)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},m.apply(this,arguments)}function f(e){var t,n,i,r;e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var a=m(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,{r:1,g:2,b:3,a:4}).exec(e),o=null==a||null===(t=a.groups)||void 0===t?void 0:t.r,s=null==a||null===(n=a.groups)||void 0===n?void 0:n.g,l=null==a||null===(i=a.groups)||void 0===i?void 0:i.b,c=null==a||null===(r=a.groups)||void 0===r?void 0:r.a;if(void 0===o||void 0===s||void 0===l)throw new Error('Invalid hex color code "'.concat(e,'"'));return{r:o,g:s,b:l,a:c}}function v(e){var t=f(e).a;if(!t)return 1;var n,i=parseInt(t,16)/255;return n=i.toLocaleString("en",{useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:2}),Number(n)}function g(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function h(e){var t=e.rgb,n=t.r,i=t.g,r=t.b;return.2126*g(n/255)+.7152*g(i/255)+.0722*g(r/255)}function k(e,t){var n=h(e),i=h(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function y(e,t,n){if(t!==w.BLACK&&t!==w.WHITE)throw new Error("Only supports contrast calculation between black and white.");var i=k(e,t);if(i>=n)return e;for(var r=e.hsv.v,a=t===w.WHITE?-.02:.02,o=Number.MAX_VALUE,s=null,l=0;l<100&&o>.07&&r>=0&&r<=1;l++){r=Math.min(r+a,1),i=k(s=w.fromHSV({h:e.hsv.h,s:e.hsl.s,v:r}),w.WHITE);var c=Math.round(10*Math.abs(i-n))/10;c>o&&(a*=-.5),o=c}return null===s?e:s}var b=n(39130);n(74553),n(16925);function S(e,t){var n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(n){var i=n.slice(1),r=(0,b.Z)(i,4),a=r[0],o=r[1],s=r[2],l=r[3],c=null!=t?t:parseFloat(l);return w.fromRGB({r:parseInt(a,10),g:parseInt(o,10),b:parseInt(s,10)},Number.isNaN(c)?void 0:c)}return null}function x(e,t){var n=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i);if(n){var i=n[1];return w.fromHex(i,t)}return null}function O(e,t){var n=e.match(/^hsla?\((\d+),\s*(\d+)%,\s*(\d+)%(?:,\s*(\d*(?:\.\d+)?))?\)$/);if(n){var i=n.slice(1),r=(0,b.Z)(i,4),a=r[0],o=r[1],s=r[2],l=r[3],c=null!=t?t:parseFloat(l);return w.fromHSL({h:parseInt(a,10),s:parseInt(o,10)/100,l:parseInt(s,10)/100},Number.isNaN(c)?void 0:c)}return null}var w=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,i.Z)(this,e),this.rgb=t,this.hsl=n,this.hsv=r,this.a=a}return(0,r.Z)(e,[{key:"toCSS",value:function(e){switch(e){case o.j.HEX:return"#".concat(l((t=this).rgb.r)).concat(l(t.rgb.g)).concat(l(t.rgb.b));case o.j.HEXA:return function(e){return"#".concat(l(e.rgb.r)).concat(l(e.rgb.g)).concat(l(e.rgb.b)).concat(l(Math.floor(255*e.a)))}(this);case o.j.RGB:return function(e){return"rgb(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,")")}(this);case o.j.RGBA:return function(e){return"rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.a,")")}(this);case o.j.HSL:return function(e){var t=e.hsl,n=t.h,i=t.s,r=t.l;return"hsl(".concat(n,", ").concat(c(i),", ").concat(c(r),")")}(this);case o.j.HSLA:return function(e){var t=e.hsl,n=t.h,i=t.s,r=t.l;return"hsla(".concat(n,", ").concat(c(i),", ").concat(c(r),", ").concat(e.a,")")}(this);default:throw new Error("Invalid or unsupported CSSColorFormat!")}var t}},{key:"contrastAdjust",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4.5,i=e.BLACK;return"light"===t&&(i=e.WHITE),y(this,i,n)}},{key:"toString",value:function(){return"".concat(this.rgb.r,",").concat(this.rgb.g,",").concat(this.rgb.b,",").concat(this.a)}},{key:"stringify",value:function(){return JSON.stringify(this)}}],[{key:"fromRGB",value:function(t,n){if(t.r<0||t.g<0||t.b<0||t.r>255||t.g>255||t.b>255||n&&n<0||n&&n>1)throw Error("Invalid RGB color: ".concat(JSON.stringify(t),", alpha: ").concat(n));return new e(t,function(e){var t,n=e.r/255,i=e.g/255,r=e.b/255,a=Math.max(n,i,r),o=Math.min(n,i,r),l=a-o,c=(a+o)/2,u=a;t=s(l,0)?0:s(u,n)?60*(0+(i-r)/l):s(u,i)?60*(2+(r-n)/l):60*(4+(n-i)/l),(t%=360)<0&&(t+=360);var d=0===c||1===c?0:(u-c)/Math.min(c,1-c);return{h:Math.round(t),s:d,l:c}}(t),function(e){var t,n=e.r/255,i=e.g/255,r=e.b/255,a=Math.max(n,i,r),o=a-Math.min(n,i,r),l=a;t=s(o,0)?0:s(l,n)?60*(0+(i-r)/o):s(l,i)?60*(2+(r-n)/o):60*(4+(n-i)/o),(t%=360)<0&&(t+=360);var c=0===l?0:o/l;return{h:Math.round(t),s:c,v:l}}(t),n)}},{key:"fromHex",value:function(t,n){var i=function(e){var t=f(e),n=t.r,i=t.g,r=t.b;return{r:parseInt(n,16),g:parseInt(i,16),b:parseInt(r,16)}}(t),r=v(t);return e.fromRGB(i,null!=n?n:r)}},{key:"fromHSV",value:function(t,n){var i=function(e){var t,n=e.h,i=e.s,r=e.v,a=r*i,o=n/60,s=a*(1-Math.abs(o%2-1));t=o>=0&&o<=1?[a,s,0]:o>1&&o<=2?[s,a,0]:o>2&&o<=3?[0,a,s]:o>3&&o<=4?[0,s,a]:o>4&&o<=5?[s,0,a]:o>5&&o<=6?[a,0,s]:[0,0,0];var l=r-a;return{r:Math.round(255*(t[0]+l)),g:Math.round(255*(t[1]+l)),b:Math.round(255*(t[2]+l))}}(t);return e.fromRGB(i,n)}},{key:"fromHSL",value:function(t,n){var i=function(e){var t,n=e.h,i=e.s,r=e.l,a=(1-Math.abs(2*r-1))*i,o=n/60,s=a*(1-Math.abs(o%2-1));t=o>=0&&o<=1?[a,s,0]:o>1&&o<=2?[s,a,0]:o>2&&o<=3?[0,a,s]:o>3&&o<=4?[0,s,a]:o>4&&o<=5?[s,0,a]:o>5&&o<=6?[a,0,s]:[0,0,0];var l=r-a/2;return{r:Math.round(255*(t[0]+l)),g:Math.round(255*(t[1]+l)),b:Math.round(255*(t[2]+l))}}(t);return e.fromRGB(i,n)}},{key:"fromCSS",value:function(e,t){var n=S(e,t);if(n)return n;var i=x(e,t);if(i)return i;var r=O(e,t);if(r)return r;throw new Error("Invalid or unsupported CSS color: ".concat(e))}},{key:"parse",value:function(t){var n=JSON.parse(t);return new e(n.rgb,n.hsl,n.hsv,n.a)}}]),e}();function N(e){if(null==e||!e.colorDark.isFallback)return null==e?void 0:e.colorDark.hex}(0,a.Z)(w,"BLACK",w.fromRGB({r:0,g:0,b:0})),(0,a.Z)(w,"WHITE",w.fromRGB({r:255,g:255,b:255}))},6381:(e,t,n)=>{"use strict";n.d(t,{F:()=>u,M:()=>d});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.UPDATE="update",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},36020:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,h:()=>r});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'ConnectContext' without 'ConnectProvider'!");return e}},67e3:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var i=n(59496),r=n(36020);function a(e,t){var n=(0,i.useRef)(t),a=(0,r.D)();n.current=t,(0,i.useEffect)((function(){var t=a.getEvents(),i=function(e){return n.current(e)};return t.addListener(e,i),function(){t.removeListener(e,i)}}),[e,a])}},92987:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,O:()=>u});var i=n(39130),r=n(59496),a=n(6381),o=n(68990),s=n(36020),l=n(67e3),c={connectionStatus:o.TK.NOT_CONNECTED,activeDevice:null,connectingDevice:null,devices:[]};function u(){var e=(0,s.D)(),t=(0,r.useState)(e.getState()),n=(0,i.Z)(t,2),o=n[0],u=n[1];return(0,l.l)(a.F.UPDATE,(function(e){return u(e.data)})),null===o?c:o}},68990:(e,t,n)=>{"use strict";n.d(t,{TK:()=>i,Yi:()=>r,ms:()=>s,uP:()=>a});n(40274),n(22369);var i=function(e){return e.NOT_CONNECTED="not_connected",e.CONNECTING="connecting",e.CONNECTED="connected",e}({}),r=function(e){return e.UNKNOWN="unknown",e.COMPUTER="computer",e.TABLET="tablet",e.SMARTPHONE="smartphone",e.SPEAKER="speaker",e.TV="tv",e.AVR="avr",e.STB="stb",e.AUDIO_DONGLE="audio_dongle",e.GAME_CONSOLE="game_console",e.CAST_VIDEO="cast_video",e.CAST_AUDIO="cast_audio",e.AUTOMOBILE="automobile",e.SMARTWATCH="smartwatch",e.CHROMEBOOK="chromebook",e.CarThing="carthing",e.HomeThing="homething",e}({}),a=function(e){return e.CONNECTING="connecting",e.INCOMPATIBLE="incompatible",e.UNAVAILABLE="unavailable",e.LOGGED_IN="logged_in",e.NOT_LOGGED_IN="not_logged_in",e.SLEEPING="sleeping",e.PREMIUM_REQUIRED="premium_required",e.NOT_INSTALLED="not_installed",e.UNSUPPORTED_URI="unsupported_uri",e.NOT_AUTHORIZED="not_authorized",e.UNKNOWN="unknown",e.AD_PLAYING="ad_playing",e.NARRATION="narration",e.WAKING_UP="waking_up",e.TIMED_OUT_WAKEUP="timed_out_wakeup",e}({}),o=["cast","connect"];function s(e){return Boolean(o.find((function(t){return t===e})))}},80447:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,yN:()=>a});var i=!1;function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o((function(){var e;(e=console).error.apply(e,t)}))}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o((function(){var e;(e=console).warn.apply(e,t)}))}function o(e){i&&e()}},59324:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,P:()=>s});var i=n(27915),r=n(92449),a=(n(81289),n(22369),n(95675),n(8760),n(15728));function o(e){return Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{})}var s=function(){function e(t,n){(0,i.Z)(this,e),this.resolver=t,this.requestFactory=n}return(0,r.Z)(e,[{key:"head",value:function(e,t){return this.resolve(a.n.HEAD,e,null,t).then((function(e){return e.headers}))}},{key:"get",value:function(e,t,n){return this.resolve(a.n.GET,e,t,n).then((function(e){return e.body}))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return this.resolve(a.n.POST,e,t,n).then((function(e){return e.body}))}},{key:"put",value:function(e,t,n){return this.resolve(a.n.PUT,e,t,n).then((function(e){return e.body}))}},{key:"del",value:function(e,t,n){return this.resolve(a.n.DELETE,e,t,n).then((function(e){return e.body}))}},{key:"patch",value:function(e,t,n){return this.resolve(a.n.PATCH,e,t,n).then((function(e){return e.body}))}},{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){console.error(e)},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=this.requestFactory(a.n.SUB,e,r,i);return this.resolver.resolve(o,(function(e){return t(e.body)}),n)}},{key:"postSub",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){console.error(e)},r=this.requestFactory(a.n.SUB,e,{},t);return this.resolver.resolve(r,(function(e){return n(e.body)}),i)}},{key:"request",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return this.resolve(e,t,n,i)}},{key:"resolve",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(a,o){var s=n.requestFactory(e,t,r,i);n.resolver.resolve(s,a,o)}))}}]),e}()},74620:(e,t,n)=>{"use strict";n.d(t,{v:()=>p});var i=n(59324),r=n(27915),a=n(92449),o=(n(69109),n(59538),n(79611),n(15728)),s=function(){function e(t,n,a){(0,r.Z)(this,e),this.status=t,this.headers=(0,i.G)(n),this.body=this.parseBody(a)}return(0,a.Z)(e,[{key:"parseBody",value:function(e){return""!==e?JSON.parse(e):{}}}],[{key:"isSuccessStatus",value:function(e){return e>=200&&e<=299}},{key:"parse",value:function(t){var n=JSON.parse(t),i=this.isSuccessStatus(n.status)&&n.body?n.body:"";return new e(n.status,n.headers||{},i)}}]),e}(),l=n(16556),c=n.n(l),u=function(){function e(t,n){(0,r.Z)(this,e),this.send=t,this.cancel=n}return(0,a.Z)(e,[{key:"resolve",value:function(e,t,n){var i=this,r=this.send({request:e.stringify(),persistent:e.method===o.n.SUB,onSuccess:function(r){return i.onSuccess(e,r,t,n)},onFailure:function(t,r){return i.onFailure(e,t,r,n)}});return{cancel:function(){i.cancel(r)}}}},{key:"onSuccess",value:function(e,t,n,i){try{var r=s.parse(t);if(s.isSuccessStatus(r.status))n(r);else i(c()(r.status,"".concat(e.method," request to ").concat(e.uri," failed with status code ").concat(r.status)))}catch(t){var a=t instanceof Error?t.message:"(unknown error object)";i(new Error("".concat(e.method," request to ").concat(e.uri," failed with exception '").concat(a,"'")))}}},{key:"onFailure",value:function(e,t,n,i){i(new Error("".concat(e.method," request to ").concat(e.uri," request failed with error code ").concat(t," (").concat(n,")")))}}]),e}();var d=n(8435);function p(){var e=function(){var e=n.g.window||{};return new u(e.sendCosmosRequest,e.cancelCosmosRequest)}(),t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,d.Z)(o.c,t)};return new i.P(e,t)}},15728:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,n:()=>o});var i=n(27915),r=n(92449),a=(n(89620),n(59324)),o=function(e){return e.DELETE="DELETE",e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.SUB="SUB",e.PATCH="PATCH",e}({}),s=function(){function e(t,n,r,o){(0,i.Z)(this,e),this.uri=n,this.headers=(0,a.G)(r),this.body=this.stringifyBody(o||""),this.method=t}return(0,r.Z)(e,[{key:"stringify",value:function(){return JSON.stringify({headers:this.headers,body:this.body,method:this.method,uri:this.uri})}},{key:"stringifyBody",value:function(e){return"string"!=typeof e?JSON.stringify(e):e}}],[{key:"parse",value:function(t){var n=JSON.parse(t);return new e(n.method,n.uri,n.headers,n.body)}}]),e}()},710:(e,t,n)=>{"use strict";n.d(t,{Tg:()=>i,fd:()=>u,$e:()=>r,ae:()=>x});var i=function(e){return e.ALBUM="album",e.ARTIST="artist",e.TRACK="track",e.PLAYLIST="playlist",e.NOW_PLAYING="now_playing",e}({}),r=function(e){return e.STAR_WARS="star_wars",e.MANDALORIAN="mandalorian",e}({}),a=(n(62780),n(22369),n(59496)),o=n(72102),s=n(98328),l=n(4637),c=(0,a.createContext)(null),u=function(e){var t=e.children,n=e.surface,i=e.uris,r=(0,o.NY)((function(){var e;return{surface:n,uris:null!==(e=null==i?void 0:i.filter(s.K))&&void 0!==e?e:[]}}),[n,i]);return(0,l.jsx)(c.Provider,{value:r,children:t})};n(82088),n(30246),n(43125),n(27639),n(16366),n(96669),n(61235),n(69724),n(39965),n(83001),n(71756),n(59538),n(79611);var d,p=n(39130),m=n(45389),f=(n(72304),n(84456),n(39975),n(59272));function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var h=(d={},(0,m.Z)(d,r.STAR_WARS,[(0,f._b)("spotify:playlist:37i9dQZF1DXaUaRhCgtpCo"),(0,f._b)("spotify:playlist:69BOXIItwwyxTgdz6flzvU"),(0,f._b)("spotify:playlist:37i9dQZF1DWUgUvAPAFxdh")]),(0,m.Z)(d,r.MANDALORIAN,[(0,f._b)("spotify:album:4xFmHg5dYvaqmn9ZNQpjWL"),(0,f._b)("spotify:album:4AOyNiCYswORQsTLxyGYQ4"),(0,f._b)("spotify:album:5r9JMvwLPm2HNY5WgBZ8Q7"),(0,f._b)("spotify:album:43PIYGro37xm0Y8iXMP5Pc"),(0,f._b)("spotify:album:249DL9DzLAZRyxkpOa5w5w"),(0,f._b)("spotify:album:71GgO9VtkVN2grqmpZo4Y2"),(0,f._b)("spotify:album:4PMsqnolvUGyj1ZRxE1aki"),(0,f._b)("spotify:album:4UbdaOH1jy1l9EG9vLFCle"),(0,f._b)("spotify:album:2NxNzw1ohPc2Hhjaq2j3tW"),(0,f._b)("spotify:album:4xUXCZfINYIV1DdZKomeVx"),(0,f._b)("spotify:album:2JtB7K4gMmfC7Ow9Y4pz4b"),(0,f._b)("spotify:album:3wuE2JeCx2Vmvk7b1c9fnI"),(0,f._b)("spotify:playlist:37i9dQZF1DWTEvftu9yFoF")]),d);function k(e,t){if(null===t)return null;var n,i=v(e);try{for(i.s();!(n=i.n()).done;){var r=(0,p.Z)(n.value,2),a=r[0];if(r[1].some((function(e){return(0,f.U4)(t,e)})))return a}}catch(e){i.e(e)}finally{i.f()}return null}function y(e){var t,n=Object.entries(h),i=v(Array.isArray(e)?e:[e]);try{for(i.s();!(t=i.n()).done;){var r=k(n,t.value);if(null!==r)return r}}catch(e){i.e(e)}finally{i.f()}return null}var b=n(9271),S=n(24122);function x(){var e=(0,a.useContext)(c),t=(0,b.Y)((function(e){var t;return null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:null})),n=(0,b.Y)((function(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return(0,S.G_)(n)?n.album.uri:null}));return null===e?{surface:null,isViewingVariant:null,isPlayingVariant:null}:{surface:e.surface,isViewingVariant:y(e.uris),isPlayingVariant:y([t,n])}}},55388:(e,t,n)=>{"use strict";n.d(t,{TB:()=>r,cd:()=>s,iZ:()=>o,IM:()=>l});n(79611),n(40265),n(22369),n(46743),n(83001),n(27639),n(71756),n(70238),n(45880),n(29543),n(70969),n(16366),n(70785),n(63691);var i=n(43665),r=function(e,t,n){return n&&e.searchParams.set("t",n.toString()),t&&(e.searchParams.has("utm_source")||e.searchParams.set("utm_source",t)),e.searchParams.has("utm_medium")||e.searchParams.set("utm_medium",function(){var e;if("undefined"==typeof window)return!1;if(void 0!==window.orientation)switch(window.orientation){case 0:case 180:e=window.screen.width;break;default:e=window.screen.height}else{var t=window.screen.orientation&&window.screen.orientation.type||window.screen.msOrientation||"";if(0===t.indexOf("portrait"))e=window.screen.width;else{if(0!==t.indexOf("landscape"))return!1;e=window.screen.height}}return e<=432}()?"mobile":"desktop"),e};function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com"),r=null;if(e){var a=e.toURL();r=new URL(a),t&&n.searchParams.forEach((function(e,t){r.searchParams.set(t,e)}))}else r=n,t||(r.search="");r.searchParams.delete("nd"),r.searchParams.delete("fallback"),r.searchParams.set("go","1");var o=(0,i.Z)("config");return"string"==typeof(null==o?void 0:o.correlationId)&&r.searchParams.append("sp_cid",o.correlationId),r}function o(e,t){var n=a(e,t);return n.searchParams.set("fallback","getapp"),n}function s(e,t){var n=a(e,t);return n.searchParams.set("fallback","download"),n}function l(){return new URL("https://www.spotify.com/download".concat(window.location.search))}},87252:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var i=n(27915),r=n(92449),a=n(74772),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.vp;(0,i.Z)(this,e),this._emitter=t,this._emitter=t||new a.vp}return(0,r.Z)(e,[{key:"addListener",value:function(e,t,n){return this._emitter.addListener(e,t,n),this}},{key:"removeListener",value:function(e,t,n){return this._emitter.removeListener(e,t,n),this}},{key:"onAddListener",value:function(e,t){return this._emitter.onAddListener(e,t),this}},{key:"onRemoveListener",value:function(e,t){return this._emitter.onRemoveListener(e,t),this}},{key:"emit",value:function(e,t){return this._emitter.emit(e,t)}},{key:"emitSync",value:function(e,t){return this._emitter.emitSync(e,t)}}]),e}()},68894:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var i=n(27915),r=n(92449),a=(n(69109),n(22369),n(8760),n(89620),n(59538),n(79611),n(71072));var o=function(){function e(t,n){(0,i.Z)(this,e),this.send=t,this.cancel=n}return(0,r.Z)(e,[{key:"callSingle",value:function(e){var t=this;return new Promise((function(n,i){t.call(e,!1,n,i)}))}},{key:"callStream",value:function(e,t){return this.call(e,!0,t,(function(e){throw e}))}},{key:"call",value:function(e,t,n,i){var r,o,s=this.send({request:JSON.stringify({method:t?"SUB":"POST",uri:(r=e.service,o=e.method,"sp://esperanto/".concat(r,"/").concat(o)),headers:{"Esperanto-Encoding":"base64"},body:(0,a.US)(e.payload)}),persistent:t,onSuccess:function(t){var r=JSON.parse(t);200!==r.status?i(new Error("".concat(e.service,".").concat(e.method," failed with ").concat(r.status," ").concat(r.body))):n((0,a.dN)(r.body))},onFailure:function(t,n){i(new Error("".concat(e.service,".").concat(e.method," failed with code: ").concat(n)))}}),l=this.cancel;return{cancel:function(){l(s)}}}}]),e}();function s(){return function(){var e=n.g.window||{};return new o(e.sendCosmosRequest,e.cancelCosmosRequest)}()}},69063:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(59538),n(79611);var i=(0,n(59496).createContext)({request:function(){throw new Error("GraphQL Context not initialized with Request object")}})},52427:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var i=n(39130),r=(n(62780),n(22369),n(59538),n(79611),n(30246),n(4377));function a(e){return"OperationDefinition"===e.kind}function o(e){var t=e.definitions.filter(a);if(0===t.length)throw new Error("No GraphQL operation definition found in document!");if(t.length>1)throw new Error("Too many GraphQL operation definitions found in document! Expected exactly one.");var n=(0,i.Z)(t,1)[0];if(void 0===n.name)throw new Error("Nameless GraphQL operations are not supported!");return{type:n.operation,name:n.name.value,body:(0,r.S)(e)}}},26352:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>w.A,$C:()=>_,QM:()=>j,PQ:()=>m});var i=n(45389),r=n(8850),a=n(10995),o=n.n(a),s=(n(59538),n(79611),n(30246),n(89620),n(72304),n(22369),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(32953)),l=n(98813),c=n(87132),u=n(52427);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Spicetify.GraphQL.Handler=m;function m(e){Spicetify.GraphQL.Context??=e;return function(){var t=(0,r.Z)(o().mark((function t(n,i){var r,a,s,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:{},"subscription"!==(a=(0,u.Y)(n)).type){t.next=4;break}throw new Error("GraphQL subscriptions are not supported!");case 4:return t.next=6,x(e,a,i,r);case 6:return s=t.sent,t.abrupt("return",s.body);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k.hash(t.body);case 2:return n=e.sent,e.abrupt("return",{persistedQuery:{version:1,sha256Hash:n}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,i,r){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(o().mark((function e(t,n,i,r,a){var l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.name,e.abrupt("return",t.build().withHost(s.wI).withMethod("GET").withoutMarket().withPath("/query").withJsonContentType().withQueryParameters(p({operationName:l,variables:JSON.stringify(i),extensions:JSON.stringify(r)},a)).withEndpointIdentifier("/query/".concat(l)).send());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,n,i,r){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(o().mark((function e(t,n,i,r,a){var l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.name,e.abrupt("return",t.build().withHost(s.wI).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({variables:i,operationName:l,extensions:r}).withQueryParameters(p({},a)).withEndpointIdentifier("/query/".concat(l)).send());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,i,r){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(o().mark((function e(t,n,i,r,a){var l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.name,c=n.body,e.abrupt("return",t.build().withHost(s.wI).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({operationName:l,variables:i,query:c,extensions:r}).withQueryParameters(p({},a)).withEndpointIdentifier("/query/".concat(l)).send());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n){return O.apply(this,arguments)}function O(){return O=(0,r.Z)(o().mark((function e(t,n,i){var r,a,s,l,u,d=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>3&&void 0!==d[3]?d[3]:{},e.next=3,f(n);case 3:if(a=e.sent,e.prev=4,"mutation"!==n.type){e.next=11;break}return e.next=8,k(t,n,i,a,r);case 8:u=e.sent,e.next=14;break;case 11:return e.next=13,g(t,n,i,a,r);case 13:u=e.sent;case 14:if(null===(s=u.body)||void 0===s||null===(l=s.errors)||void 0===l||!l.some((function(e){return"PersistedQueryNotFound"===e.message}))){e.next=16;break}return e.abrupt("return",b(t,n,i,a,r));case 16:return e.abrupt("return",u);case 19:if(e.prev=19,e.t0=e.catch(4),405,!(e.t0 instanceof c.m&&405===e.t0.status)){e.next=24;break}return e.abrupt("return",b(t,n,i,a,r));case 24:throw e.t0;case 25:case"end":return e.stop()}}),e,null,[[4,19]])}))),O.apply(this,arguments)}var w=n(69063),N=n(4637),_=function(e){var t=e.request,n=e.children;return(0,N.jsx)(w.A.Provider,{value:{request:t},children:n})},E=n(83014);n(162),n(27639),n(83001),n(71756),n(8760),n(82088);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=50;function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;return function(){var n=(0,r.Z)(o().mark((function n(i,r,a,s){var l,c,u,d,p;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l=[],c=Math.max.apply(Math,(0,E.Z)(a.map((function(e){var t,n;return null!==(t=null===(n=r[e])||void 0===n?void 0:n.length)&&void 0!==t?t:0})))),u=o().mark((function n(c){var u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=P({},r),a.forEach((function(e){var n;u[e]=null===(n=u[e])||void 0===n?void 0:n.slice(c,c+t)})),void 0!==s?l.push(e(i,u,s)):l.push(e(i,u));case 3:case"end":return n.stop()}}),n)})),d=0;case 4:if(!(d<c)){n.next=9;break}return n.delegateYield(u(d),"t0",6);case 6:d+=t,n.next=4;break;case 9:return n.next=11,Promise.all(l);case 11:return p=n.sent,n.abrupt("return",p.map((function(e){if(null===e||void 0!==e.errors||null===e.data)throw new Error("GraphQL batched query failed!");return e.data})));case 13:case"end":return n.stop()}}),n)})));return function(e,t,i,r){return n.apply(this,arguments)}}()}},31636:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var i=n(8850),r=n(10995),a=n.n(r);n(22369),n(8760),n(59538),n(79611);function o(e,t,n){return s.apply(this,arguments)}function s(){return(s=(0,i.Z)(a().mark((function e(t,n,i){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(n,i);case 3:if(null==(r=e.sent)||!r.errors){e.next=6;break}return e.abrupt("return",Promise.reject(null==r?void 0:r.errors));case 6:return e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=13;break}return e.abrupt("return",Promise.reject([{message:e.t0.message}]));case 13:return e.abrupt("return",Promise.reject(null));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},9294:(e,t,n)=>{"use strict";n.d(t,{a:()=>p,y:()=>d});var i=n(8850),r=n(10995),a=n.n(r),o=(n(30246),n(59496)),s=n(9102),l=n(69063),c=n(52427),u=n(31636),d=6e4;function p(e,t,n){var r,d=(0,s.useQueryClient)(),p=(0,o.useContext)(l.A).request,m=(0,c.Y)(e),f=m.type,v=m.name,g="query"===f,h=g&&null!=n&&n.cacheTime?null==n?void 0:n.cacheTime:0,k=g&&null!=n&&n.staleTime?null==n?void 0:n.staleTime:0,y=(0,o.useMemo)((function(){return[v,t]}),[v,t]),b=(0,s.useQuery)(y,(0,i.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.J)(p,e,t));case 1:case"end":return n.stop()}}),n)}))),{cacheTime:h,staleTime:k,enabled:null==n?void 0:n.enabled}),S=b.data,x=b.isLoading,O=b.error,w=(0,o.useCallback)((function(){return d.invalidateQueries({queryKey:y,exact:!0})}),[d,y]);return{data:null!==(r=null==S?void 0:S.data)&&void 0!==r?r:null,extensions:null==S?void 0:S.extensions,error:null!=O?O:null,loading:x,invalidate:w}}},10130:(e,t,n)=>{"use strict";n.d(t,{i:()=>M});var i=n(8850),r=n(27915),a=n(92449),o=n(10995),s=n.n(o),l=(n(30246),n(59538),n(79611),n(69109),n(56462)),c=(n(22369),n(39723),n(21861),n(35391)),u=n(23011),d=n(61899),p=n(92720),m=n(43716);n(75341),n(47684);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var v=function(e){(0,c.Z)(n,e);var t=f(n);function n(e,i){var a;return(0,r.Z)(this,n),a=t.call(this,e,i),Object.defineProperty((0,p.Z)(a),"name",{value:(this instanceof n?this.constructor:void 0).name,enumerable:!1,configurable:!0}),Object.setPrototypeOf((0,p.Z)(a),(this instanceof n?this.constructor:void 0).prototype),Error.captureStackTrace((0,p.Z)(a),a.constructor),a}return(0,a.Z)(n)}((0,m.Z)(Error));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var h=function(e){(0,c.Z)(n,e);var t=g(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,e,i)}return(0,a.Z)(n)}(v);n(65130),n(86554),n(57137);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var y=function(e){(0,c.Z)(n,e);var t=k(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,e,i)}return(0,a.Z)(n)}(v);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var S=function(e){(0,c.Z)(n,e);var t=b(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,e,i)}return(0,a.Z)(n)}(v);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var O=function(e){(0,c.Z)(n,e);var t=x(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,e,i)}return(0,a.Z)(n)}(v);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var N=function(e){(0,c.Z)(n,e);var t=w(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,e,i)}return(0,a.Z)(n)}(v),_=function(e){return function(t){if(t instanceof DOMException)switch(t.name){case"ConstraintError":return new S('ConstraintError while opening database version "'.concat(e,'"'),{cause:t});case"VersionError":return new N(t.message,{cause:t});case"AbortError":return new y('AbortError while opening database version "'.concat(e,'"'),{cause:t})}return new O('Error opening database version "'.concat(e,'"'),{cause:t})}};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var C=function(e){(0,c.Z)(n,e);var t=E(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,e,i)}return(0,a.Z)(n)}(v),P=function(e,t){return function(n){if(n instanceof DOMException)switch(n.name){case"QuotaExceededError":return new C('Quota exceeded when writing to object store "'.concat(t,'". DB version: "').concat(e,'"'),{cause:n});case"AbortError":return new y('Abort occured when writing to object store "'.concat(t,'". DB version: "').concat(e,'"'),{cause:n})}return new O('Error writing to "'.concat(t,'". DB version: "').concat(e,'"'),{cause:n})}};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var j=function(e){(0,c.Z)(n,e);var t=I(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,e,i)}return(0,a.Z)(n)}(v),A=function(e,t,n){return function(i){if(i instanceof DOMException)switch(i.name){case"NotFoundError":return new h('Key "'.concat(n,'" not found in store "').concat(t,'". DB version: "').concat(e,'"'),{cause:i});case"InvalidStateError":return new j('InvalidStateError when deleting key "'.concat(n,'" from store "').concat(t,'". DB version: "').concat(e,'"'),{cause:i})}return new O('Error deleting key "'.concat(n,'" from store "').concat(t,'". DB version: "').concat(e,'"'),{cause:i})}},T=function(e,t,n){return function(i){if(i instanceof DOMException)switch(i.name){case"NotFoundError":return new h('Key "'.concat(n,'" not found in store "').concat(t,'". DB version: "').concat(e,'"'),{cause:i});case"InvalidStateError":return new j('InvalidStateError when reading key "'.concat(n,'" from store "').concat(t,'". DB version: "').concat(e,'"'),{cause:i})}return new O('Error reading key "'.concat(n,'" from store "').concat(t,'". DB version: "').concat(e,'"'),{cause:i})}};function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var R=function(e){(0,c.Z)(n,e);var t=D(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n)}(v),F={0:function(e){var t=e;return t.createObjectStore("shuffle-state",{keyPath:"contextUri"}),t}};function L(e,t,n){if(!n)throw new R("Version change triggered for version ".concat(t," but there is no new version to migrate to."));for(var i=t;i<n;){var r=F[i];if(!r)throw new R("No migration from version ".concat(i," to ").concat(i+1,"."));r(e),i++}}var M=function(){function e(t){(0,r.Z)(this,e),this.name="".concat(t,":client-web"),this.version=1}var t,n,o,c;return(0,a.Z)(e,[{key:"openDb",value:(c=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.X3)(this.name,this.version,{upgrade:function(e,t,n){L(e,t,n)}}).catch(_(this.version)));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getItem",value:(o=(0,i.Z)(s().mark((function e(t,n){var i,r=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDb();case 2:if(!((i=e.sent)instanceof Error)){e.next=5;break}return e.abrupt("return",i);case 5:return e.abrupt("return",i.get(t,n).then((function(e){return void 0===e?new h('Key "'.concat(n,'" not found in store "').concat(t,'". DB version: "').concat(r.version,'"'),{cause:void 0}):e})).catch(T(this.version,t,n)));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"setItem",value:(n=(0,i.Z)(s().mark((function e(t,n){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDb();case 2:if(!((i=e.sent)instanceof Error)){e.next=5;break}return e.abrupt("return",i);case 5:return e.abrupt("return",i.put(t,n).catch(P(this.version,t)));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"deleteItem",value:(t=(0,i.Z)(s().mark((function e(t,n){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDb();case 2:if(!((i=e.sent)instanceof Error)){e.next=5;break}return e.abrupt("return",i);case 5:return e.abrupt("return",i.delete(t,n).catch(A(this.version,t,n)));case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),e}()},29903:(e,t,n)=>{"use strict";n.d(t,{Ik:()=>v,TL:()=>p,WF:()=>f,f9:()=>m,j2:()=>g,xX:()=>h});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=n(43716),u=(n(47684),n(59538),n(79611),n(59272));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var p=function(e){return e[e.YES=0]="YES",e[e.NO_IN_FOLDER=1]="NO_IN_FOLDER",e[e.NO=2]="NO",e}({}),m=[u.JM.ALBUM,u.JM.ARTIST,u.JM.PLAYLIST_V2,u.JM.SHOW,u.JM.FOLDER],f=[u.JM.PLAYLIST_V2,u.JM.FOLDER],v=function(e){(0,o.Z)(n,e);var t=d(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,'"'.concat(e,'" is not a valid YLX filter.')),Object.setPrototypeOf((0,a.Z)(i),n.prototype),i}return(0,i.Z)(n)}((0,c.Z)(Error)),g=function(e){(0,o.Z)(n,e);var t=d(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,'"'.concat(e,'" is not a valid YLX sort order.')),Object.setPrototypeOf((0,a.Z)(i),n.prototype),i}return(0,i.Z)(n)}((0,c.Z)(Error)),h=function(e){(0,o.Z)(n,e);var t=d(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,"".concat(e)),Object.setPrototypeOf((0,a.Z)(i),n.prototype),i}return(0,i.Z)(n)}((0,c.Z)(Error))},23213:(e,t,n)=>{"use strict";n.d(t,{EN:()=>m,EW:()=>p,Sv:()=>f,XD:()=>u,pT:()=>d});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.ALBUMS="albums",e.ARTISTS="artists",e.SHOWS="shows",e.TRACKS="tracks",e.EPISODES="episodes",e.BOOKS="books",e}({}),d=function(e){return e.ADD="add",e.REMOVE="remove",e}({}),p=function(e){return e.UPDATE="update",e.UPDATE_ITEM="update_item",e.UPDATE_PIN="update_pin",e.UPDATE_PIN_ERROR="update_pin_error",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({}),m=function(e){return e[e.TOO_MANY_PINS=0]="TOO_MANY_PINS",e[e.NO_PIN_IN_FOLDER=1]="NO_PIN_IN_FOLDER",e}({}),f=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},25384:(e,t,n)=>{"use strict";n.d(t,{R0:()=>i,cj:()=>a,pg:()=>r});n(71541);var i=function(e){return e.TEXT="TEXT",e}({}),r=function(e){return e.CONTAINS="CONTAINS",e}({});function a(e){if(e)return"string"==typeof e?{field:i.TEXT,operator:r.CONTAINS,value:e.trim()}:e}},54828:(e,t,n)=>{"use strict";n.d(t,{As:()=>i,VN:()=>c,_1:()=>r,aW:()=>o,hx:()=>s,lY:()=>a,yW:()=>l});var i=function(e){return e.ASC="ASC",e.DESC="DESC",e}({}),r=function(e){return e.NAME="NAME",e.ARTIST_NAME="ARTIST_NAME",e.ALBUM_NAME="ALBUM_NAME",e.ADDED_AT="ADDED_AT",e}({}),a=function(e){return e.NAME="NAME",e.ARTIST_NAME="ARTIST_NAME",e.ADDED_AT="ADDED_AT",e}({}),o=function(e){return e.NAME="NAME",e.ADDED_AT="ADDED_AT",e}({}),s=function(e){return e.NAME="NAME",e.ADDED_AT="ADDED_AT",e}({}),l=function(e){return e.NAME="NAME",e.SHOW_NAME="SHOW_NAME",e.ADDED_AT="ADDED_AT",e}({}),c=function(e){return e.NAME="NAME",e.ADDED_AT="ADDED_AT",e}({})},18918:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});n(39723),n(21861);var i=n(27915),r=n(92449),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=n(45389),u=(n(98853),n(39975),n(29543),n(22369),n(70969),n(23373)),d=n(23213);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var m=function(e){(0,o.Z)(n,e);var t=p(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this),(0,c.Z)((0,a.Z)(r),"_numListeners",0),r._cache=e,r._aggregator=(0,u.PP)(r.onBatchChanged.bind((0,a.Z)(r)),100),r.onAddListener(d.EW.UPDATE,(function(){1==++r._numListeners&&r.subscribeToUpdates()})),r.onRemoveListener(d.EW.UPDATE,(function(){0==--r._numListeners&&r.unsubscribeFromUpdates()})),r.onAddListener(d.EW.UPDATE_ITEM,(function(e){1==++r._numListeners&&r.subscribeToUpdates(),r._aggregator.subscribe(e.data.options.uri)})),r.onRemoveListener(d.EW.UPDATE_ITEM,(function(e){0==--r._numListeners&&r.unsubscribeFromUpdates(),r._aggregator.unsubscribe(e.data.options.uri)})),r}return(0,r.Z)(n,[{key:"emitUpdateItems",value:function(e,t){var n=this;Array.isArray(t)?e.forEach((function(e,i){n._cache.set(e,t[i]),n.emit(d.EW.UPDATE_ITEM,{uri:e,isInLibrary:t[i]})})):e.forEach((function(e){n._cache.set(e,t),n.emit(d.EW.UPDATE_ITEM,{uri:e,isInLibrary:t})}))}},{key:"emitUpdatePin",value:function(e,t){this.emit(d.EW.UPDATE_PIN,{uri:e,isPinned:t})}},{key:"emitUpdatePinErrorTooManyPins",value:function(e,t){this.emit(d.EW.UPDATE_PIN_ERROR,{reason:d.EN.TOO_MANY_PINS,uri:e,maximumPinnedItems:t})}},{key:"emitOperationSync",value:function(e,t){return this.emitSync(d.EW.OPERATION,{operation:e,uris:t}).defaultPrevented}},{key:"emitOperationComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.emit(d.EW.OPERATION_COMPLETE,{operation:e,uris:t,error:n})}}]),n}(d.Sv)},36282:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var i=n(59272);function r(e,t){if(t){if("spotify:collection:tracks"===e)return(0,i.wG)(t).toURI();if("spotify:collection:your-episodes"===e)return(0,i.wG)(t,"your-episodes").toURI()}return"spotify:collection:local-files"===e?"spotify:local-files":e}},61749:(e,t,n)=>{"use strict";n.d(t,{$R:()=>N,IC:()=>b,J5:()=>O,Vp:()=>y,XT:()=>S,Yo:()=>k,tl:()=>w});var i,r=n(45389),a=(n(59538),n(79611),n(69109),n(40265),n(22369),n(46743),n(92346),n(62780),n(4302),n(66469),n(24122)),o=n(25384),s=n(29903),l=n(40413),c=n(55590),u=n(17249),d=n(83474),p=n(50179),m=(0,r.Z)({},o.R0.TEXT,"text"),f=(0,r.Z)({},o.pg.CONTAINS,"contains");function v(e){var t=e.field,n=e.operator,i=e.value;if(t!==o.R0.TEXT||n!==o.pg.CONTAINS)throw new Error("Invalid filter params!");var r=m[t],a=f[n];return"".concat(r," ").concat(a," ").concat(encodeURIComponent(i))}var g=(0,r.Z)({},o.R0.TEXT,"text"),h=(0,r.Z)({},o.pg.CONTAINS,"=^#");function k(e){return void 0===e?"":v(e)}function y(e){return void 0===e?"":e.value}function b(e,t){var n;if(void 0!==t){var i=function(e){var t=e.field,n=e.operator,i=e.value;if(t!==o.R0.TEXT||n!==o.pg.CONTAINS)throw new Error("Invalid filter params!");var r=g[t],a=h[n];return"".concat(r," ").concat(a,' "').concat(i,'"')}(t),r=v(t);e.url="context://".concat(e.uri,"?filter=").concat(encodeURIComponent(r)),e.metadata=null!==(n=e.metadata)&&void 0!==n?n:{},e.metadata[a.sb.FILTERING_PREDICATE]=i,e.metadata[a.sb.LIST_UTIL_FILTER]=r}}function S(e){var t,n=null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"";switch(e){case l.YourLibraryFilters_Filter.ALBUM:return{id:n,name:u.ag.get("shared.library.filter.album")};case l.YourLibraryFilters_Filter.ARTIST:return{id:n,name:u.ag.get("shared.library.filter.artist")};case l.YourLibraryFilters_Filter.PLAYLIST:return{id:n,name:u.ag.get("shared.library.filter.playlist")};case l.YourLibraryFilters_Filter.SHOW:return{id:n,name:u.ag.get("shared.library.filter.show")};case l.YourLibraryFilters_Filter.BOOK:return{id:n,name:u.ag.get("shared.library.filter.book")};case l.YourLibraryFilters_Filter.DOWNLOADED:return{id:n,name:u.ag.get("shared.library.filter.downloaded")};case l.YourLibraryFilters_Filter.BY_YOU:return{id:n,name:u.ag.get("shared.library.filter.by-you")};case l.YourLibraryFilters_Filter.BY_SPOTIFY:return{id:n,name:u.ag.get("shared.library.filter.by-spotify")};case l.YourLibraryFilters_Filter.UNPLAYED:return{id:n,name:u.ag.get("shared.library.filter.unplayed")};case l.YourLibraryFilters_Filter.IN_PROGRESS:return{id:n,name:u.ag.get("shared.library.filter.in-progress")};case l.YourLibraryFilters_Filter.WRITABLE:case l.YourLibraryFilters_Filter.UNRECOGNIZED:return{id:n,name:l.YourLibraryFilters_Filter[e]};default:throw(0,c._)(e),new s.Ik("".concat(e))}}var x=(i={},(0,r.Z)(i,l.YourLibraryFilters_Filter.PLAYLIST,0),(0,r.Z)(i,l.YourLibraryFilters_Filter.SHOW,1),(0,r.Z)(i,l.YourLibraryFilters_Filter.BOOK,2),(0,r.Z)(i,l.YourLibraryFilters_Filter.ALBUM,3),(0,r.Z)(i,l.YourLibraryFilters_Filter.ARTIST,4),(0,r.Z)(i,l.YourLibraryFilters_Filter.BY_YOU,5),(0,r.Z)(i,l.YourLibraryFilters_Filter.BY_SPOTIFY,6),(0,r.Z)(i,l.YourLibraryFilters_Filter.IN_PROGRESS,7),(0,r.Z)(i,l.YourLibraryFilters_Filter.UNPLAYED,8),(0,r.Z)(i,l.YourLibraryFilters_Filter.DOWNLOADED,9),(0,r.Z)(i,l.YourLibraryFilters_Filter.WRITABLE,-1),(0,r.Z)(i,l.YourLibraryFilters_Filter.UNRECOGNIZED,-1),i);function O(e){return e.filter((function(e){return-1!==x[e]})).sort((function(e,t){return x[e]-x[t]}))}function w(e){return e.filter((function(e){var t=e.id;return![l.YourLibraryFilters_Filter.PLAYLIST].includes((0,p.zl)(t))}))}function N(e){switch(e){case l.YourLibraryFilters_Filter.ALBUM:return d.p.ALBUM;case l.YourLibraryFilters_Filter.ARTIST:return d.p.ARTIST;case l.YourLibraryFilters_Filter.PLAYLIST:return d.p.PLAYLIST;case l.YourLibraryFilters_Filter.SHOW:return d.p.SHOW;case l.YourLibraryFilters_Filter.BOOK:return d.p.AUDIOBOOK;case l.YourLibraryFilters_Filter.DOWNLOADED:return"downloaded";default:return null}}},45911:(e,t,n)=>{"use strict";n.d(t,{AV:()=>c,Et:()=>f,G9:()=>g,KO:()=>d,R4:()=>m,Tk:()=>h,sy:()=>y,wV:()=>b,y0:()=>l});n(59538),n(79611),n(40265),n(22369),n(46743),n(162);var i=n(24122),r=n(54828),a=n(40413),o=n(55590),s=n(17249);function l(e){if(void 0!==e){var t=e.field;if(t===r.lY.NAME)return a.YourLibrarySortOrder_SortOrder.NAME;if(t===r.lY.ARTIST_NAME)return a.YourLibrarySortOrder_SortOrder.CREATOR;if(t===r.lY.ADDED_AT)return a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED;throw new Error("Invalid album sort params!")}}function c(e){if(void 0!==e){var t=e.field;if(t===r.hx.NAME)return a.YourLibrarySortOrder_SortOrder.NAME;if(t===r.hx.ADDED_AT)return a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED;throw new Error("Invalid artist sort params!")}}var u=function(e){return e.TRACK_NAME_ASC="name ASC",e.TRACK_NAME_DESC="name DESC",e.TRACK_ARTIST_NAME_ASC="artist.name ASC,album.name,discNumber,trackNumber",e.TRACK_ARTIST_NAME_DESC="artist.name DESC,album.name,discNumber,trackNumber",e.TRACK_ALBUM_NAME_ASC="album.name ASC,discNumber,trackNumber",e.TRACK_ALBUM_NAME_DESC="album.name DESC,discNumber,trackNumber",e.TRACK_ADDED_AT_ASC="addTime ASC,album.name,album.artist.name,discNumber,trackNumber",e.TRACK_ADDED_AT_DESC="addTime DESC,album.name,album.artist.name,discNumber,trackNumber",e}(u||{});function d(e){var t=e.field,n=e.order;switch(t){case r._1.NAME:return n===r.As.ASC?u.TRACK_NAME_ASC:u.TRACK_NAME_DESC;case r._1.ARTIST_NAME:return n===r.As.ASC?u.TRACK_ARTIST_NAME_ASC:u.TRACK_ARTIST_NAME_DESC;case r._1.ALBUM_NAME:return n===r.As.ASC?u.TRACK_ALBUM_NAME_ASC:u.TRACK_ALBUM_NAME_DESC;case r._1.ADDED_AT:return n===r.As.ASC?u.TRACK_ADDED_AT_ASC:u.TRACK_ADDED_AT_DESC;default:throw new Error("Invalid track sort params!")}}var p=function(e){return e.TRACK_NAME_ASC="title ASC",e.TRACK_NAME_DESC="title DESC",e.TRACK_ARTIST_NAME_ASC="artist_name ASC, album_title, album_disc_number, album_track_number",e.TRACK_ARTIST_NAME_DESC="artist_name DESC, album_title, album_disc_number, album_track_number",e.TRACK_ALBUM_NAME_ASC="album_title ASC, album_disc_number, album_track_number",e.TRACK_ALBUM_NAME_DESC="album_title DESC, album_disc_number, album_track_number",e.TRACK_ADDED_AT_ASC="added_at ASC, album_title, album_artist_name, album_disc_number, album_track_number",e.TRACK_ADDED_AT_DESC="added_at DESC, album_title, album_artist_name, album_disc_number, album_track_number",e}(p||{});function m(e,t){var n;void 0!==t&&(e.metadata=null!==(n=e.metadata)&&void 0!==n?n:{},e.metadata[i.sb.SORTING_CRITERIA]=function(e){var t=e.field,n=e.order;switch(t){case r._1.NAME:return n===r.As.ASC?p.TRACK_NAME_ASC:p.TRACK_NAME_DESC;case r._1.ARTIST_NAME:return n===r.As.ASC?p.TRACK_ARTIST_NAME_ASC:p.TRACK_ARTIST_NAME_DESC;case r._1.ALBUM_NAME:return n===r.As.ASC?p.TRACK_ALBUM_NAME_ASC:p.TRACK_ALBUM_NAME_DESC;case r._1.ADDED_AT:return n===r.As.ASC?p.TRACK_ADDED_AT_ASC:p.TRACK_ADDED_AT_DESC;default:throw new Error("Invalid track sort params!")}}(t),e.metadata[i.sb.LIST_UTIL_SORT]=d(t))}function f(e){if(void 0!==e){var t=e.field;if(t===r.aW.NAME)return a.YourLibrarySortOrder_SortOrder.NAME;if(t===r.aW.ADDED_AT)return a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED;throw new Error("Invalid show sort params!")}}var v=function(e){return e.EPISODE_NAME_ASC="name ASC",e.EPISODE_ADDED_AT_DESC="addTime DESC,name",e.SHOW_NAME_ASC="show.name ASC,addTime ASC",e}(v||{});function g(e){return void 0===e?"":function(e){var t=e.field,n=e.order;if(t===r.yW.NAME&&n===r.As.ASC)return v.EPISODE_NAME_ASC;if(t===r.yW.ADDED_AT&&n===r.As.DESC)return v.EPISODE_ADDED_AT_DESC;if(t===r.yW.SHOW_NAME&&n===r.As.ASC)return v.SHOW_NAME_ASC;throw new Error("Invalid episode sort params!")}(e)}function h(e){if(void 0!==e){if(e===r.VN.NAME)return a.YourLibrarySortOrder_SortOrder.NAME;if(e===r.VN.ADDED_AT)return a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED;throw new Error("Invalid book sort params!")}}function k(e){var t;return null===(t=b(e))||void 0===t?void 0:t[0]}function y(e,t){var n,i=null!==(n=null==e?void 0:e.toString())&&void 0!==n?n:"";switch(e){case a.YourLibrarySortOrder_SortOrder.CREATOR:return{id:i,name:t===a.YourLibraryFilters_Filter.BOOK?s.ag.get("shared.library.sort-by.author"):s.ag.get("shared.library.sort-by.creator")};case a.YourLibrarySortOrder_SortOrder.CUSTOM:return{id:i,name:s.ag.get("shared.library.sort-by.custom")};case a.YourLibrarySortOrder_SortOrder.NAME:return{id:i,name:s.ag.get("shared.library.sort-by.name")};case a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED:return{id:i,name:s.ag.get("shared.library.sort-by.recently-added")};case a.YourLibrarySortOrder_SortOrder.RECENTLY_PLAYED:return{id:i,name:s.ag.get("shared.library.sort-by.recently-played")};case a.YourLibrarySortOrder_SortOrder.RECENTLY_PLAYED_OR_ADDED:return{id:i,name:s.ag.get("shared.library.sort-by.recently-played-or-added")};case a.YourLibrarySortOrder_SortOrder.RECENTLY_UPDATED:return{id:i,name:s.ag.get("shared.library.sort-by.recently-updated")};case a.YourLibrarySortOrder_SortOrder.RELEVANCE:return{id:i,name:s.ag.get("shared.library.sort-by.relevance")};case a.YourLibrarySortOrder_SortOrder.UNRECOGNIZED:case void 0:return k(t);default:return(0,o._)(e),k(t)}}function b(e){var t=[];switch(e){case a.YourLibraryFilters_Filter.ALBUM:case a.YourLibraryFilters_Filter.DOWNLOADED:case a.YourLibraryFilters_Filter.WRITABLE:case a.YourLibraryFilters_Filter.BY_YOU:case a.YourLibraryFilters_Filter.BY_SPOTIFY:case a.YourLibraryFilters_Filter.UNPLAYED:case a.YourLibraryFilters_Filter.IN_PROGRESS:case a.YourLibraryFilters_Filter.UNRECOGNIZED:case a.YourLibraryFilters_Filter.BOOK:t=[a.YourLibrarySortOrder_SortOrder.RECENTLY_PLAYED_OR_ADDED,a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED,a.YourLibrarySortOrder_SortOrder.NAME,a.YourLibrarySortOrder_SortOrder.CREATOR];break;case a.YourLibraryFilters_Filter.SHOW:t=[a.YourLibrarySortOrder_SortOrder.RECENTLY_PLAYED_OR_ADDED,a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED,a.YourLibrarySortOrder_SortOrder.NAME,a.YourLibrarySortOrder_SortOrder.CREATOR,a.YourLibrarySortOrder_SortOrder.RECENTLY_UPDATED];break;case a.YourLibraryFilters_Filter.PLAYLIST:t=[a.YourLibrarySortOrder_SortOrder.RECENTLY_PLAYED_OR_ADDED,a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED,a.YourLibrarySortOrder_SortOrder.NAME,a.YourLibrarySortOrder_SortOrder.CREATOR,a.YourLibrarySortOrder_SortOrder.CUSTOM];break;case a.YourLibraryFilters_Filter.ARTIST:t=[a.YourLibrarySortOrder_SortOrder.RECENTLY_PLAYED_OR_ADDED,a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED,a.YourLibrarySortOrder_SortOrder.NAME];break;case void 0:t=[a.YourLibrarySortOrder_SortOrder.RECENTLY_PLAYED_OR_ADDED,a.YourLibrarySortOrder_SortOrder.RECENTLY_ADDED,a.YourLibrarySortOrder_SortOrder.NAME,a.YourLibrarySortOrder_SortOrder.CREATOR];break;default:(0,o._)(e)}return t.map((function(t){return y(t,e)}))}},50179:(e,t,n)=>{"use strict";n.d(t,{K_:()=>r,gD:()=>a,zl:()=>i});n(72649);function i(e){return Number(e)}function r(e){return e?i(e):void 0}function a(e){return e?function(e){return Number(e)}(e):void 0}},62179:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});var i=(0,n(59496).createContext)(null)},11379:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var i=n(45911),r=n(61749),a=n(25384);function o(e,t,n){var o={uri:e};return(0,i.R4)(o,t),(0,r.IC)(o,(0,a.cj)(n)),o}},19873:(e,t,n)=>{"use strict";n.d(t,{y:()=>h,Z:()=>g});var i=n(8850),r=n(39130),a=n(10995),o=n.n(a),s=n(59496),l=n(62179),c=n(96811),u=n(59272),d=n(23213),p=n(56398);function m(e,t){var n=(0,s.useContext)(l.H),i=(0,s.useContext)(c.B);(0,s.useEffect)((function(){return function(e,t,n,i){var r;switch(null===(r=(0,u.EC)(n))||void 0===r?void 0:r.type){case u.JM.ALBUM:case u.JM.ARTIST:case u.JM.SHOW:case u.JM.TRACK:case u.JM.EPISODE:var a=e.getEvents(),o=function(e){e.data.uri===n&&i(e.data.isInLibrary)};return a.addListener(d.EW.UPDATE_ITEM,o,{uri:n}),function(){a.removeListener(d.EW.UPDATE_ITEM,o,{uri:n})};case u.JM.PLAYLIST:case u.JM.PLAYLIST_V2:var s=t.getEvents(),l=function(e){e.data.uri===n&&i(e.data.isInRootlist)};return s.addListener(p.Yt.UPDATE_ITEM,l,{uri:n}),function(){s.removeListener(p.Yt.UPDATE_ITEM,l,{uri:n})};default:return function(){}}}(n,i,e,t)}),[n,i,e,t])}function f(e,t,n,i){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(o().mark((function e(t,n,i,r){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=null===(a=(0,u.EC)(i))||void 0===a?void 0:a.type,e.t0=s,e.next=e.t0===u.JM.ALBUM||e.t0===u.JM.ARTIST||e.t0===u.JM.SHOW||e.t0===u.JM.EPISODE||e.t0===u.JM.TRACK?4:e.t0===u.JM.PLAYLIST||e.t0===u.JM.PLAYLIST_V2?6:8;break;case 4:return r?t.add(i):t.remove(i),e.abrupt("break",9);case 6:return r?n.add([i],{before:"start"}):n.remove([{uri:i}]),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,s.useContext)(l.H),a=(0,s.useContext)(c.B),d=(0,s.useState)(function(e,t,n){var i;switch(null===(i=(0,u.EC)(n))||void 0===i?void 0:i.type){case u.JM.ALBUM:case u.JM.ARTIST:case u.JM.SHOW:case u.JM.TRACK:case u.JM.EPISODE:return e.containsSync(n);case u.JM.PLAYLIST:case u.JM.PLAYLIST_V2:return t.containsSync(n)}}(n,a,e)||t),p=(0,r.Z)(d,2),v=p[0],g=p[1],h=(0,s.useCallback)(function(){var t=(0,i.Z)(o().mark((function t(i){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(n,a,e,i);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,n,a]);return m(e,g),[v,h]}function h(){return(0,s.useContext)(l.H)}},3385:(e,t,n)=>{"use strict";n.d(t,{MY:()=>v,j$:()=>g});var i=n(8850),r=n(39130),a=n(10995),o=n.n(a),s=n(59496),l=n(23213),c=n(62179),u=n(4954),d=n(72102),p=n(74772),m=l.EW.UPDATE;function f(e,t){var n=(0,s.useContext)(c.H),a=(0,s.useState)(null),l=(0,r.Z)(a,2),d=l[0],f=l[1],v=(0,s.useCallback)(function(){var r=(0,i.Z)(o().mark((function i(r){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e!==r.data.list){i.next=6;break}return i.t0=f,i.next=4,t(n);case 4:i.t1=i.sent,(0,i.t0)(i.t1);case 6:case"end":return i.stop()}}),i)})));return function(e){return r.apply(this,arguments)}}(),[n,e,t]);return(0,s.useEffect)((function(){v(new p.B(m,{list:e}))}),[v,e]),(0,u.b)(m,v),d}function v(e){return f(l.XD.TRACKS,(0,d.jP)((function(t){return t.getTracks(e)}),[e]))}function g(e){return f(l.XD.EPISODES,(0,d.jP)((function(t){return t.getEpisodes(e)}),[e]))}},4954:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var i=n(59496),r=n(62179);function a(e,t){var n=(0,i.useContext)(r.H);(0,i.useEffect)((function(){var i=n.getEvents();return i.addListener(e,t),function(){i.removeListener(e,t)}}),[e,t,n])}},81164:(e,t,n)=>{"use strict";n.d(t,{G:()=>r,b:()=>i});var i="spotify:internal:local-files",r=function(e){return e.UNKNOWN="unknown",e.ITUNES="itunes",e.DOWNLOADS="downloads",e.MY_MUSIC="my_music",e.WINDOWS_MUSIC_LIBRARY="windows_music_library",e.UNRECOGNIZED="unrecognized",e}({})},46929:(e,t,n)=>{"use strict";n.d(t,{L:()=>d,p:()=>u});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.UPDATE="update",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},32376:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});n(59538),n(79611);var i=n(59496),r=new Error("Local files API used without being initialized.\n   Did you provide the context in a a parent component?'"),a=(0,i.createContext)({getCapabilities:function(){throw r},getTracks:function(){throw r},getScannerStatus:function(){throw r},getSources:function(){throw r},mutateDefaultSource:function(){throw r},addFolder:function(){throw r},removeFolder:function(){throw r}})},2120:(e,t,n)=>{"use strict";n.d(t,{h:()=>a,u:()=>s});var i=n(32376),r=n(4637),a=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(i.t.Provider,{value:t,children:n})},o=n(59496);function s(){return(0,o.useContext)(i.t).getCapabilities()}},59791:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var i=n(48937);function r(){return(0,i.S)()[0]}},48937:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var i=n(39130),r=n(59496),a=n(32376);function o(){var e=(0,r.useContext)(a.t),t=(0,r.useState)(e.getIsEnabled()),n=(0,i.Z)(t,2),o=n[0],s=n[1];return(0,r.useEffect)((function(){var t=e.subscribeIsEnabled(s);return function(){return t()}}),[e]),[o,(0,r.useCallback)((function(t){return e.setIsEnabled(t)}),[e])]}},54739:(e,t,n)=>{"use strict";n.d(t,{K:()=>h});var i=n(27915),r=n(92449),a=n(45389),o=(n(69109),n(47921),n(16366),n(31781),n(89620),n(78302)),s=n(89879),l=(n(22369),n(39723),n(21861),n(92720)),c=n(35391),u=n(23011),d=n(61899),p=n(43716);n(47684),n(59538),n(79611);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,d.Z)(e);if(t){var r=(0,d.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,u.Z)(this,n)}}var f=function(e){(0,c.Z)(n,e);var t=m(n);function n(){var e;return(0,i.Z)(this,n),e=t.call(this,"Local storage quota exceeded."),Object.setPrototypeOf((0,l.Z)(e),n.prototype),e}return(0,r.Z)(n)}((0,p.Z)(Error)),v=n(36935),g=n(21206),h=function(){function e(t){(0,i.Z)(this,e),(0,a.Z)(this,"items",{}),this.namespace=t,this._events=new g.q,this.listenToStorageEvents()}return(0,r.Z)(e,[{key:"createNamespacedKey",value:function(e){return"".concat(this.namespace,":").concat(e)}},{key:"parseLocalStorageValue",value:function(e,t){try{var n=JSON.parse(t);return this.items[e]=n,n}catch(n){return console.error("Failed to parse value ".concat(t," for key ").concat(e)),new v.y(t)}}},{key:"listenToStorageEvents",value:function(){var e=this;window.addEventListener("storage",(function(t){var n=t.key,i=t.newValue,r=t.oldValue;if(null!==n&&null!==i&&n.startsWith(e.namespace)&&i!==r){var a=e.parseLocalStorageValue(n,i);e.items[n]=a,e._events.emit(g.u.UPDATE,{key:n.replace("".concat(e.namespace,":"),""),value:a})}}))}},{key:"getEvents",value:function(){return this._events}},{key:"getItem",value:function(e){var t=this.createNamespacedKey(e),n=this.items[t];if(t in this.items)return n;var i=window.localStorage.getItem(t);return null===i?new s.d(e):this.parseLocalStorageValue(t,i)}},{key:"setItem",value:function(e,t){var n=this.createNamespacedKey(e),i=JSON.stringify(t);if(window.localStorage.getItem(n)!==i){this.items[n]=t;try{window.localStorage.setItem(n,i),this._events.emitSync(g.u.UPDATE,{key:e,value:t})}catch(e){console.error("LocalStorage quota exceeded (no space left)"),(0,o.PC)(new f)}}}},{key:"clearItem",value:function(e){var t=this.createNamespacedKey(e);window.localStorage.removeItem(t),delete this.items[t]}}]),e}()},80211:(e,t,n)=>{"use strict";n.d(t,{os:()=>o,um:()=>s});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("useLocalStorageAPI must be used within a LocalStorageProvider");return e}},21206:(e,t,n)=>{"use strict";n.d(t,{q:()=>d,u:()=>u});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.UPDATE="update",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},89879:(e,t,n)=>{"use strict";n.d(t,{d:()=>d});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=n(43716);n(47684),n(59538),n(79611);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,'"'.concat(e,'" not found in local storage.')),Object.setPrototypeOf((0,a.Z)(i),n.prototype),i}return(0,i.Z)(n)}((0,c.Z)(Error))},36935:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=n(43716);n(47684),n(59538),n(79611);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var d=function(e){(0,o.Z)(n,e);var t=u(n);function n(e){var i;return(0,r.Z)(this,n),i=t.call(this,'Failed to JSON.parse value "'.concat(e,'"')),Object.setPrototypeOf((0,a.Z)(i),n.prototype),i}return(0,i.Z)(n)}((0,c.Z)(Error))},20899:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var i=n(39130),r=(n(59538),n(79611),n(59496)),a=n(72102),o=n(80211),s=n(21206),l=function(e,t){var n=(0,o.um)(),l=(0,r.useRef)(n.getItem(e)),c=(0,r.useState)(l.current instanceof Error?t:l.current),u=(0,i.Z)(c,2),d=u[0],p=u[1],m=(0,r.useCallback)((function(t){l.current=t,n.setItem(e,t)}),[e,n]);return(0,a.KW)((function(){l.current instanceof Error&&m(t)}),[t,m]),(0,r.useEffect)((function(){var t=n.getEvents(),i=function(t){t.data.key===e&&(l.current=t.data.value,p(t.data.value))},r=n.getItem(e);return r instanceof Error||p(r),t.addListener(s.u.UPDATE,i),function(){t.removeListener(s.u.UPDATE,i)}}),[e,n]),[d,m]}},18459:(e,t,n)=>{"use strict";n.d(t,{j2:()=>l,t:()=>s});n(162),n(82088),n(22369),n(30246),n(43125),n(27639),n(16366),n(96669),n(61235),n(69724),n(39965),n(83001),n(71756),n(39975),n(59538),n(79611);var i=n(33892),r=n.n(i);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.ANCHOR_PAYWALL=1]="ANCHOR_PAYWALL",e[e.OAP_OTP=2]="OAP_OTP",e[e.OAP_LINKING=3]="OAP_LINKING",e[e.AUDIOBOOK_DIRECT_SALES=4]="AUDIOBOOK_DIRECT_SALES",e[e.ABP=5]="ABP",e[e.AUDIOBOOK_PROMOTION=6]="AUDIOBOOK_PROMOTION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});var l={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create();void 0!==e.none&&d.encode(e.none,t.uint32(10).fork()).ldelim(),void 0!==e.legacy&&u.encode(e.legacy,t.uint32(18).fork()).ldelim(),void 0!==e.basic&&c.encode(e.basic,t.uint32(26).fork()).ldelim(),void 0!==e.upsellLink&&p.encode(e.upsellLink,t.uint32(34).fork()).ldelim(),void 0!==e.engagement&&m.encode(e.engagement,t.uint32(50).fork()).ldelim(),void 0!==e.multiPass&&v.encode(e.multiPass,t.uint32(74).fork()).ldelim(),void 0!==e.consumptionCapped&&f.encode(e.consumptionCapped,t.uint32(106).fork()).ldelim(),void 0!==e.prompt&&h.encode(e.prompt,t.uint32(42).fork()).ldelim(),!0===e.isUserMemberOfAtLeastOneGroup&&t.uint32(64).bool(e.isUserMemberOfAtLeastOneGroup),t.uint32(82).fork();var n,i=a(e.unlockedBy);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.int32(o)}}catch(e){i.e(e)}finally{i.f()}return t.ldelim(),t},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={none:void 0,legacy:void 0,basic:void 0,upsellLink:void 0,engagement:void 0,multiPass:void 0,consumptionCapped:void 0,prompt:void 0,isUserMemberOfAtLeastOneGroup:!1,unlockedBy:[]};n.pos<i;){var o=n.uint32();switch(o>>>3){case 1:if(10!=o)break;a.none=d.decode(n,n.uint32());continue;case 2:if(18!=o)break;a.legacy=u.decode(n,n.uint32());continue;case 3:if(26!=o)break;a.basic=c.decode(n,n.uint32());continue;case 4:if(34!=o)break;a.upsellLink=p.decode(n,n.uint32());continue;case 6:if(50!=o)break;a.engagement=m.decode(n,n.uint32());continue;case 9:if(74!=o)break;a.multiPass=v.decode(n,n.uint32());continue;case 13:if(106!=o)break;a.consumptionCapped=f.decode(n,n.uint32());continue;case 5:if(42!=o)break;a.prompt=h.decode(n,n.uint32());continue;case 8:if(64!=o)break;a.isUserMemberOfAtLeastOneGroup=n.bool();continue;case 10:if(80==o){a.unlockedBy.push(n.int32());continue}if(82==o){for(var s=n.uint32()+n.pos;n.pos<s;)a.unlockedBy.push(n.int32());continue}}if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return l.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,n,i={none:void 0,legacy:void 0,basic:void 0,upsellLink:void 0,engagement:void 0,multiPass:void 0,consumptionCapped:void 0,prompt:void 0,isUserMemberOfAtLeastOneGroup:!1,unlockedBy:[]};return i.none=void 0!==e.none&&null!==e.none?d.fromPartial(e.none):void 0,i.legacy=void 0!==e.legacy&&null!==e.legacy?u.fromPartial(e.legacy):void 0,i.basic=void 0!==e.basic&&null!==e.basic?c.fromPartial(e.basic):void 0,i.upsellLink=void 0!==e.upsellLink&&null!==e.upsellLink?p.fromPartial(e.upsellLink):void 0,i.engagement=void 0!==e.engagement&&null!==e.engagement?m.fromPartial(e.engagement):void 0,i.multiPass=void 0!==e.multiPass&&null!==e.multiPass?v.fromPartial(e.multiPass):void 0,i.consumptionCapped=void 0!==e.consumptionCapped&&null!==e.consumptionCapped?f.fromPartial(e.consumptionCapped):void 0,i.prompt=void 0!==e.prompt&&null!==e.prompt?h.fromPartial(e.prompt):void 0,i.isUserMemberOfAtLeastOneGroup=null!==(t=e.isUserMemberOfAtLeastOneGroup)&&void 0!==t&&t,i.unlockedBy=(null===(n=e.unlockedBy)||void 0===n?void 0:n.map((function(e){return e})))||[],i}};var c={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create();return""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),t},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={title:"",body:"",cta:""};n.pos<i;){var o=n.uint32();switch(o>>>3){case 1:if(10!=o)break;a.title=n.string();continue;case 2:if(18!=o)break;a.body=n.string();continue;case 3:if(26!=o)break;a.cta=n.string();continue}if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return c.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,n,i,r={title:"",body:"",cta:""};return r.title=null!==(t=e.title)&&void 0!==t?t:"",r.body=null!==(n=e.body)&&void 0!==n?n:"",r.cta=null!==(i=e.cta)&&void 0!==i?i:"",r}};var u={encode:function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create()},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={};n.pos<i;){var o=n.uint32();if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return u.fromPartial(null!=e?e:{})},fromPartial:function(e){return{}}};var d={encode:function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create()},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={};n.pos<i;){var o=n.uint32();if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return d.fromPartial(null!=e?e:{})},fromPartial:function(e){return{}}};var p={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create();return""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),""!==e.url&&t.uint32(34).string(e.url),t},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={title:"",body:"",cta:"",url:""};n.pos<i;){var o=n.uint32();switch(o>>>3){case 1:if(10!=o)break;a.title=n.string();continue;case 2:if(18!=o)break;a.body=n.string();continue;case 3:if(26!=o)break;a.cta=n.string();continue;case 4:if(34!=o)break;a.url=n.string();continue}if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return p.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,n,i,r,a={title:"",body:"",cta:"",url:""};return a.title=null!==(t=e.title)&&void 0!==t?t:"",a.body=null!==(n=e.body)&&void 0!==n?n:"",a.cta=null!==(i=e.cta)&&void 0!==i?i:"",a.url=null!==(r=e.url)&&void 0!==r?r:"",a}};var m={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create();return""!==e.header&&t.uint32(10).string(e.header),""!==e.title&&t.uint32(18).string(e.title),""!==e.body&&t.uint32(26).string(e.body),""!==e.cta&&t.uint32(34).string(e.cta),""!==e.dismiss&&t.uint32(42).string(e.dismiss),""!==e.actionType&&t.uint32(50).string(e.actionType),""!==e.bodySecondary&&t.uint32(58).string(e.bodySecondary),t},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={header:"",title:"",body:"",cta:"",dismiss:"",actionType:"",bodySecondary:""};n.pos<i;){var o=n.uint32();switch(o>>>3){case 1:if(10!=o)break;a.header=n.string();continue;case 2:if(18!=o)break;a.title=n.string();continue;case 3:if(26!=o)break;a.body=n.string();continue;case 4:if(34!=o)break;a.cta=n.string();continue;case 5:if(42!=o)break;a.dismiss=n.string();continue;case 6:if(50!=o)break;a.actionType=n.string();continue;case 7:if(58!=o)break;a.bodySecondary=n.string();continue}if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return m.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,n,i,r,a,o,s,l={header:"",title:"",body:"",cta:"",dismiss:"",actionType:"",bodySecondary:""};return l.header=null!==(t=e.header)&&void 0!==t?t:"",l.title=null!==(n=e.title)&&void 0!==n?n:"",l.body=null!==(i=e.body)&&void 0!==i?i:"",l.cta=null!==(r=e.cta)&&void 0!==r?r:"",l.dismiss=null!==(a=e.dismiss)&&void 0!==a?a:"",l.actionType=null!==(o=e.actionType)&&void 0!==o?o:"",l.bodySecondary=null!==(s=e.bodySecondary)&&void 0!==s?s:"",l}};var f={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create();return""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),t},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={title:"",body:"",cta:""};n.pos<i;){var o=n.uint32();switch(o>>>3){case 1:if(10!=o)break;a.title=n.string();continue;case 2:if(18!=o)break;a.body=n.string();continue;case 3:if(26!=o)break;a.cta=n.string();continue}if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return f.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,n,i,r={title:"",body:"",cta:""};return r.title=null!==(t=e.title)&&void 0!==t?t:"",r.body=null!==(n=e.body)&&void 0!==n?n:"",r.cta=null!==(i=e.cta)&&void 0!==i?i:"",r}};var v={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create();""!==e.title&&t.uint32(10).string(e.title),""!==e.soaDescription&&t.uint32(18).string(e.soaDescription);var n,i=a(e.soaPartner);try{for(i.s();!(n=i.n()).done;){var o=n.value;g.encode(o,t.uint32(26).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}return t},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={title:"",soaDescription:"",soaPartner:[]};n.pos<i;){var o=n.uint32();switch(o>>>3){case 1:if(10!=o)break;a.title=n.string();continue;case 2:if(18!=o)break;a.soaDescription=n.string();continue;case 3:if(26!=o)break;a.soaPartner.push(g.decode(n,n.uint32()));continue}if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return v.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,n,i,r={title:"",soaDescription:"",soaPartner:[]};return r.title=null!==(t=e.title)&&void 0!==t?t:"",r.soaDescription=null!==(n=e.soaDescription)&&void 0!==n?n:"",r.soaPartner=(null===(i=e.soaPartner)||void 0===i?void 0:i.map((function(e){return g.fromPartial(e)})))||[],r}};var g={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create();return""!==e.displayName&&t.uint32(10).string(e.displayName),""!==e.linkUrl&&t.uint32(18).string(e.linkUrl),""!==e.logoUrl&&t.uint32(26).string(e.logoUrl),t},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={displayName:"",linkUrl:"",logoUrl:""};n.pos<i;){var o=n.uint32();switch(o>>>3){case 1:if(10!=o)break;a.displayName=n.string();continue;case 2:if(18!=o)break;a.linkUrl=n.string();continue;case 3:if(26!=o)break;a.logoUrl=n.string();continue}if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return g.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,n,i,r={displayName:"",linkUrl:"",logoUrl:""};return r.displayName=null!==(t=e.displayName)&&void 0!==t?t:"",r.linkUrl=null!==(n=e.linkUrl)&&void 0!==n?n:"",r.logoUrl=null!==(i=e.logoUrl)&&void 0!==i?i:"",r}};var h={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().Writer.create();return""!==e.title&&t.uint32(10).string(e.title),""!==e.body&&t.uint32(18).string(e.body),""!==e.cta&&t.uint32(26).string(e.cta),""!==e.url&&t.uint32(34).string(e.url),t},decode:function(e,t){for(var n=e instanceof r().Reader?e:r().Reader.create(e),i=void 0===t?n.len:n.pos+t,a={title:"",body:"",cta:"",url:""};n.pos<i;){var o=n.uint32();switch(o>>>3){case 1:if(10!=o)break;a.title=n.string();continue;case 2:if(18!=o)break;a.body=n.string();continue;case 3:if(26!=o)break;a.cta=n.string();continue;case 4:if(34!=o)break;a.url=n.string();continue}if(4==(7&o)||0==o)break;n.skipType(7&o)}return a},create:function(e){return h.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,n,i,r,a={title:"",body:"",cta:"",url:""};return a.title=null!==(t=e.title)&&void 0!==t?t:"",a.body=null!==(n=e.body)&&void 0!==n?n:"",a.cta=null!==(i=e.cta)&&void 0!==i?i:"",a.url=null!==(r=e.url)&&void 0!==r?r:"",a}}},48850:(e,t,n)=>{"use strict";n.d(t,{Om:()=>o,PQ:()=>a,T1:()=>r,jK:()=>l,mc:()=>s,wk:()=>i});var i=["9a8d2f0ce77a4e248bb71fefcb557637","407d482703b9480899f54656c3ed7728","58bd3c95768941ea9eb4350aaa033eb3","65b708073fc0480ea92a077233ca87bd"],r=function(e){return e.ONLINE="online",e.OFFLINE="offline",e.FORCED_OFFLINE="forced_offline",e.RECONNECTING="reconnecting",e}({}),a=function(e){return e[e.NO_CAPABILITY=0]="NO_CAPABILITY",e[e.NO_PERMISSION=1]="NO_PERMISSION",e[e.NO_PERMISSION_HIDE=2]="NO_PERMISSION_HIDE",e[e.YES=3]="YES",e}({}),o=function(e){return e.NO="no",e.YES="yes",e.DOWNLOADING="downloading",e.WAITING="waiting",e}({}),s=function(e){return e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE",e[e.NO_PERMISSION=2]="NO_PERMISSION",e}({}),l=function(e){return e[e.SUCCESS=0]="SUCCESS",e[e.GENERIC=1]="GENERIC",e[e.DISK_FULL=2]="DISK_FULL",e[e.EXPIRED=3]="EXPIRED",e[e.TOO_MANY_TRACKS=4]="TOO_MANY_TRACKS",e[e.NOT_ALLOWED=5]="NOT_ALLOWED",e[e.CONNECTION_DISABLED=6]="CONNECTION_DISABLED",e[e.DEVICE_LIMIT_REACHED=7]="DEVICE_LIMIT_REACHED",e[e.UNRECOGNIZED=8]="UNRECOGNIZED",e}({})},98934:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,X:()=>u});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.UPDATE_CONNECTIVITY="update_connectivity",e.UPDATE_CAPABILITIES="update_capabilities",e.UPDATE_TOTAL_PROGRESS="update_total_progress",e.UPDATE_CONTEXT_PROGRESS="update_context_progress",e.UPDATE_AVAILABILITY="update_availability",e.ERROR="error",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},11451:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var i=n(9587),r=n(55590),a=n(68990),o=function(e){return e[e.Unknown=0]="Unknown",e[e.Computer=1]="Computer",e[e.Tablet=2]="Tablet",e[e.Smartphone=3]="Smartphone",e[e.Speaker=4]="Speaker",e[e.TV=5]="TV",e[e.AVR=6]="AVR",e[e.STB=7]="STB",e[e.AudioDongle=8]="AudioDongle",e[e.GameConsole=9]="GameConsole",e[e.CastVideo=10]="CastVideo",e[e.CastAudio=11]="CastAudio",e[e.Automobile=12]="Automobile",e[e.Smartwatch=13]="Smartwatch",e[e.Chromebook=14]="Chromebook",e[e.UnknownSpotifyHardware=100]="UnknownSpotifyHardware",e[e.CarThing=101]="CarThing",e[e.HomeThing=103]="HomeThing",e}(o||{}),s=(0,i.y)(o);function l(e){if(s(e))switch(e){case o.Unknown:return a.Yi.UNKNOWN;case o.Computer:return a.Yi.COMPUTER;case o.Tablet:return a.Yi.TABLET;case o.Smartphone:return a.Yi.SMARTPHONE;case o.Speaker:return a.Yi.SPEAKER;case o.TV:return a.Yi.TV;case o.AVR:return a.Yi.AVR;case o.STB:return a.Yi.STB;case o.AudioDongle:return a.Yi.AUDIO_DONGLE;case o.GameConsole:return a.Yi.GAME_CONSOLE;case o.CastVideo:return a.Yi.CAST_VIDEO;case o.CastAudio:return a.Yi.CAST_AUDIO;case o.Automobile:return a.Yi.AUTOMOBILE;case o.Smartwatch:return a.Yi.SMARTWATCH;case o.Chromebook:return a.Yi.CHROMEBOOK;case o.UnknownSpotifyHardware:return a.Yi.UNKNOWN;case o.CarThing:return a.Yi.CarThing;case o.HomeThing:return a.Yi.HomeThing;default:return(0,r._)(e),a.Yi.UNKNOWN}return a.Yi.UNKNOWN}},59430:(e,t,n)=>{"use strict";n.d(t,{a:()=>r,c:()=>a});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'OfflineContext' without 'OfflineProvider'!");return e}},71163:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var i=n(39130),r=n(59496),a=n(98934),o=n(27012),s=n(59430);function l(e){var t=(0,s.c)(),n=(0,r.useState)(t.getAvailabilitySync(e)),l=(0,i.Z)(n,2),c=l[0],u=l[1],d=a.X.UPDATE_AVAILABILITY,p=(0,r.useCallback)((function(t){t.data.uri===e&&u(t.data.availability)}),[e]);return(0,o.z)(d,p,{uri:e}),c}},76820:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var i=n(59496),r=n(59430),a=n(71163),o=n(39130),s=n(98934),l=n(27012);function c(e){var t=(0,r.c)(),n=function(e){var t=(0,r.c)(),n=(0,i.useState)(t.getCapabilities().canDownload(e)),a=(0,o.Z)(n,2),c=a[0],u=a[1],d=s.X.UPDATE_CAPABILITIES,p=(0,i.useCallback)((function(t){return u(t.data.capabilites.canDownload(e))}),[e]);return(0,l.z)(d,p),c}(e);return{capability:n,availability:(0,a._)(e),addDownload:(0,i.useCallback)((function(){return t.addDownload(e)}),[t,e]),removeDownload:(0,i.useCallback)((function(){return t.removeDownload(e)}),[t,e])}}},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(39130),r=n(59496),a=n(98934),o=n(27012);function s(e){var t=(0,r.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),n=(0,i.Z)(t,2),s=n[0],l=n[1],c=a.X.UPDATE_CONTEXT_PROGRESS,u=(0,r.useCallback)((function(t){t.data.uri===e&&l(t.data.progress)}),[e]);return(0,o.z)(c,u,{uri:e}),s}},95113:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var i=n(39130),r=n(59496),a=n(98934),o=n(27012);function s(){var e=(0,r.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),t=(0,i.Z)(e,2),n=t[0],s=t[1],l=a.X.UPDATE_TOTAL_PROGRESS,c=(0,r.useCallback)((function(e){return s(e.data.progress)}),[]);return(0,o.z)(l,c),n}},27012:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var i=n(59496),r=n(59430),a=n(72102);function o(e,t,n){var o=(0,r.c)(),s=(0,a.NY)((function(){return n}),[n]);(0,i.useEffect)((function(){var n=o.getEvents();return n.addListener(e,t,s),function(){n.removeListener(e,t,s)}}),[e,t,s,o])}},43665:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,Z:()=>i});n(90511),n(162),n(79611),n(42199),n(65130),n(86554),n(57137),n(40265),n(22369),n(46743),n(82088);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=document.getElementById(e);return n?JSON.parse(n.innerHTML):t}catch(e){return t}}function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var i=document.getElementById(e);return i?JSON.parse((t=i.innerHTML,decodeURIComponent(Array.prototype.map.call(atob(t),(function(e){var t="00".concat(e.charCodeAt(0).toString(16));return"%".concat(t.slice(-2))})).join("")))):n}catch(e){return n}}},75030:(e,t,n)=>{"use strict";n.d(t,{ZO:()=>c,wW:()=>u});n(3270),n(14863),n(41337),n(46743),n(83001),n(22369),n(27639),n(99024),n(71756),n(81289),n(95675),n(63481),n(49892),n(31781),n(61235),n(69724),n(39975),n(90511),n(82088);var i=n(96268),r=n(35391),a=n(52260),o=(n(16366),n(74553),n(63691),n(70785),n(94846),n(24164));function s(){s=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var o=new RegExp(e,i);return t.set(o,r||t.get(e)),(0,a.Z)(o,n.prototype)}function o(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var a=0;void 0===e[r[a]]&&a+1<r.length;)a++;t[n]=e[r[a]]}return t}),Object.create(null))}return(0,r.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=o(n,this);var i=n.indices;i&&(i.groups=o(i,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var a=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){var n=a[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof r){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,i.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(o(e,s)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},s.apply(this,arguments)}var l=s(/Spotify\/(.+)\s/,{version:1});function c(){if(!!window.navigator.userAgent.match(l))return o.W.Desktop;var e="serviceWorker"in window.navigator,t=window.matchMedia("(display-mode: standalone)").matches,n="Windows"in window;return e&&(t||n)?o.W.PWA:o.W.Web}function u(){return c()===o.W.Desktop}},94846:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});n(30246);var i=n(19496),r=n.n(i);n(24164);function a(){return r().getParser(window.navigator.userAgent).getOSName()||"not_applicable"}},24164:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var i=function(e){return e.Web="Web",e.PWA="PWA",e.Desktop="Desktop",e}({})},68976:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,r:()=>u});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.VOLUME="volume",e.INFO="info",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},21564:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,f:()=>a});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'PlaybackContext' without 'PlaybackProvider'!");return e}},53760:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(59496),r=n(21564);function a(e,t){var n=(0,i.useRef)(t),a=(0,r.f)();n.current=t,(0,i.useEffect)((function(){var t=a.getEvents(),i=function(e){return n.current(e)};return t.addListener(e,i),function(){t.removeListener(e,i)}}),[e,a])}},82810:(e,t,n)=>{"use strict";n.d(t,{f_:()=>N});var i=n(45389),r=n(83014),a=n(39130),o=n(8850),s=n(10995),l=n.n(s),c=(n(30246),n(162),n(43125),n(27639),n(83001),n(22369),n(82),n(71756),n(62780),n(8760),n(69109),n(81289),n(29543),n(70969),n(95675),n(61235),n(7845),n(66715),n(30479),n(75341),n(59272)),u=n(24511),d=n(41084),p=n(83474),m=n(55590),f=(n(9294),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"decorateContextEpisodesOrChapters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"audiobookV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}),v=Spicetify.GraphQL.Definitions["decorateContextTracks"]={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"decorateContextTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return"Track"===e.__typename}function y(e){return"Episode"===e.__typename}function b(e){return"Chapter"===e.__typename}function S(e){var t=null!=e?e:[];return t.length>1?"mixed":0===t.length||t[0]===u.$_.Audio?"audio":t[0]===u.$_.Video?"video":"audio"}function x(e){var t,n,i,r,a,o,s,l,c;return{type:p.p.TRACK,uri:e.uri,name:e.name,mediaType:"audio",duration:{milliseconds:e.duration.totalMilliseconds},album:{type:p.p.ALBUM,uri:null!==(t=null===(n=e.albumOfTrack)||void 0===n?void 0:n.uri)&&void 0!==t?t:"",name:null!==(i=null===(r=e.albumOfTrack)||void 0===r?void 0:r.name)&&void 0!==i?i:"",images:null!==(a=null===(o=e.albumOfTrack)||void 0===o||null===(s=o.coverArt)||void 0===s?void 0:s.sources.map((function(e){return(0,d.Bi)(e)})))&&void 0!==a?a:[]},artists:e.artists.items.map((function(e){return{type:p.p.ARTIST,uri:e.uri,name:e.profile.name}})),isLocal:!1,isExplicit:(null===(l=e.contentRating)||void 0===l?void 0:l.label)===u.KS.Explicit,is19PlusOnly:(null===(c=e.contentRating)||void 0===c?void 0:c.label)===u.KS.NineteenPlus,get images(){return this.album.images},uid:null,provider:null}}function O(e){var t,n,i,r,a;if("Podcast"!==e.podcastV2.data.__typename)return null;var o=e.podcastV2.data;return{type:p.p.EPISODE,uri:e.uri,name:null!==(t=e.name)&&void 0!==t?t:"",mediaType:S(e.mediaTypes),duration:{milliseconds:e.duration.totalMilliseconds},show:{type:p.p.SHOW,uri:null!==(n=o.uri)&&void 0!==n?n:"",name:null!==(i=o.name)&&void 0!==i?i:"",images:null!==(r=null===(a=o.coverArt)||void 0===a?void 0:a.sources.map((function(e){return(0,d.Bi)(e)})))&&void 0!==r?r:[]},get images(){return this.show.images},uid:null,provider:null}}function w(e){var t,n,i,r,a;if("Audiobook"!==e.audiobookV2.data.__typename)return null;var o=e.audiobookV2.data;return{type:p.p.CHAPTER,uri:e.uri,name:null!==(t=e.name)&&void 0!==t?t:"",mediaType:S(e.mediaTypes),duration:{milliseconds:e.duration.totalMilliseconds},book:{type:p.p.AUDIOBOOK,uri:null!==(n=o.uri)&&void 0!==n?n:"",name:null!==(i=o.name)&&void 0!==i?i:"",images:null!==(r=null===(a=o.coverArt)||void 0===a?void 0:a.sources.map((function(e){return(0,d.Bi)(e)})))&&void 0!==r?r:[]},get images(){return this.book.images},uid:null,provider:null}}function N(e,t,n){return _.apply(this,arguments)}function _(){return(_=(0,o.Z)(l().mark((function e(t,n,i){var o,s,u,d,p,g,S;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Array.from(new Set(i.map((function(e){return e.uri})).filter((function(e){return!n.has(e)})))),s=o.filter((function(e){return(0,c.wj)(e)})),u=o.filter((function(e){return(0,c.hn)(e)})),e.next=5,Promise.all([s.length>0?t(v,{uris:s},["uris"]):Promise.resolve([]),u.length>0?t(f,{uris:u},["uris"]):Promise.resolve([])]);case 5:return d=e.sent,p=(0,a.Z)(d,2),g=p[0],S=p[1],[].concat((0,r.Z)(g.reduce((function(e,t){var n;return e.concat(null!==(n=t.tracks)&&void 0!==n?n:[])}),[])),(0,r.Z)(S.reduce((function(e,t){var n;return e.concat(null!==(n=t.episodes)&&void 0!==n?n:[])}),[]))).map((function(e){return"GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename?null:k(e)?x(e):y(e)?O(e):b(e)?w(e):((0,m._)(e),null)})).forEach((function(e){null!==e&&n.set(e.uri,e)})),e.abrupt("return",i.map((function(e){return h(h(h({},e),n.get(e.uri)),{},{uid:e.uid,provider:e.provider})})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},16354:(e,t,n)=>{"use strict";n.d(t,{Su:()=>p,cg:()=>d,jB:()=>f,lu:()=>v});n(22369),n(39723),n(21861);var i=n(27915),r=n(92449),a=n(35391),o=n(23011),s=n(61899),l=n(43716);n(69109),n(90511),n(30246),n(59538),n(79611);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e[e.TRANSIENT=0]="TRANSIENT",e[e.PERSISTENT=1]="PERSISTENT",e}({}),d=function(e){return e.SUCCESS="success",e.PLAYBACK_STUCK="playback_stuck",e.PLAYBACK_ERROR="playback_error",e.LICENSE_CHANGE="license_change",e.PLAY_RESTRICTED="play_restricted",e.STOP_RESTRICTED="stop_restricted",e.UPDATE_RESTRICTED="update_restricted",e.PAUSE_RESTRICTED="pause_restricted",e.RESUME_RESTRICTED="resume_restricted",e.SKIP_TO_PREV_RESTRICTED="skip_to_prev_restricted",e.SKIP_TO_NEXT_RESTRICTED="skip_to_next_restricted",e.SKIP_TO_NON_EXISTENT_TRACK="skip_to_non_existent_track",e.TOGGLE_REPEAT_CONTEXT_RESTRICTED="toggle_repeat_context_restricted",e.TOGGLE_REPEAT_TRACK_RESTRICTED="toggle_repeat_track_restricted",e.SET_OPTIONS_RESTRICTED="set_options_restricted",e.TOGGLE_SHUFFLE_RESTRICTED="toggle_shuffle_restricted",e.SET_QUEUE_RESTRICTED="set_queue_restricted",e.INTERRUPT_PLAYBACK_RESTRICTED="interrupt_playback_restricted",e.SEEK_TO_RESTRICTED="seek_to_restricted",e.ONE_TRACK_UNPLAYABLE="one_track_unplayable",e.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED="one_track_unplayable_auto_stopped",e.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED="all_tracks_unplayable_auto_stopped",e.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED="skip_to_non_existent_track_auto_stopped",e.QUEUE_REVISION_MISMATCH="queue_revision_mismatch",e.VIDEO_PLAYBACK_ERROR="video_playback_error",e.VIDEO_GEORESTRICTED="video_georestricted",e.VIDEO_UNSUPPORTED_PLATFORM_VERSION="video_unsupported_platform_version",e.VIDEO_UNSUPPORTED_CLIENT_VERSION="video_unsupported_client_version",e.VIDEO_UNSUPPORTED_KEY_SYSTEM="video_unsupported_key_system",e.VIDEO_COUNTRY_RESTRICTED="video_country_restricted",e.VIDEO_UNAVAILABLE="video_unavailable",e.VIDEO_CATALOGUE_RESTRICTED="video_catalogue_restricted",e.VIDEO_MANIFEST_DELETED="video_manifest_deleted",e.TIMEOUT="timeout",e.INVALID="invalid",e.PLAYBACK_REPORTING_ERROR="playback_reporting_error",e.UNKNOWN="unknown",e.UNRECOGNIZED="unrecognized",e}({}),p=function(e){return e.AD_DISALLOW="ad_disallow",e.AGE_RESTRICTION_FILTERED="age_restriction_filtered",e.ALREADY_PAUSED="already_paused",e.ALREADY_PLAYING="already_playing",e.BANNED_BY_USER_TRACK="banned_by_user/track",e.BANNED_BY_USER_ALBUM="banned_by_user/album",e.BANNED_BY_USER_ARTIST="banned_by_user/artist",e.CONTEXT_PLAYER_DISALLOW="context_player_disallow",e.ENDLESS_CONTEXT="endless_context",e.EXPLICIT_CONTENT_FILTERED="explicit_content_filtered",e.LOCAL_FILE_BAD_FORMAT="local_file_bad_format",e.LOCAL_FILE_DRM_PROTECTED="local_file_drm_protected",e.LOCAL_FILE_NOT_FOUND="local_file_not_found",e.MFT_DISALLOW="mft_disallow",e.MFT_DISALLOW_MISSING_TRAC="mft_disallow_missing_trac",e.NEWS_SET_TRACK_FILTERED="news_set_track_filtered",e.NO_NEXT_TRACK="no_next_track",e.NO_PREV_TRACK="no_prev_track",e.NO_SPECIFIC_TRACK="no_specific_track",e.NOT_AVAILABLE="not_available",e.NOT_AVAILABLE_BY_ARTIST_BAN="not_available_by_artist_ban",e.NOT_AVAILABLE_IN_CURRENT_REGION="not_available_in_current_region",e.NOT_AVAILABLE_IN_NON_PREMIUM="not_available_in_non_premium",e.NOT_AVAILABLE_OFFLINE="not_available_offline",e.NOT_AVAILABLE_ON_MOBILE_NETWORK="not_available_on_mobile_network",e.NOT_PAUSED="not_paused",e.NOT_PLAYING_CONTEXT="not_playing_context",e.NOT_PLAYING_LOCALLY="not_playing_locally",e.NOT_PLAYING_TRACK="not_playing_track",e.OFFLINE_CAPPING_REACHED="offline_capping_reached",e.PLAYER_CONTEXT_DISALLOW="player_context_disallow",e.PROTOCOL_LIMITATIONS="protocol_limitations",e.PROTOCOL_LIMITIATIONS="protocol_limitiations",e.THROTTLED="throttled",e.UNKNOWN="unknown",e.UNSUPPORTED_FILE_FORMAT="unsupported_file_format",e.USER_CAPPING_REACHED="user_capping_reached",e.USER_STREAMING_DISALLOWED="user_streaming_disallowed",e}({}),m=function(e){(0,a.Z)(n,e);var t=c(n);function n(e,r,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(0,i.Z)(this,n),(o=t.call(this,n.getMessage(r,a,s))).type=e,o.code=r,o.reasons=a,o.cause=s,o}return(0,r.Z)(n,null,[{key:"getMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t.length>0?"Code '".concat(e,"' with reasons '").concat(t.join(", "),"'"):void 0!==n?"Code '".concat(e,"' with cause '").concat(n.name,": ").concat(n.message,"'"):"Code '".concat(e,"'")}}]),n}((0,l.Z)(Error)),f=function(e){(0,a.Z)(n,e);var t=c(n);function n(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,i.Z)(this,n),t.call(this,u.TRANSIENT,e,r,a)}return(0,r.Z)(n)}(m),v=function(e){(0,a.Z)(n,e);var t=c(n);function n(e,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return(0,i.Z)(this,n),t.call(this,u.PERSISTENT,e,r,a)}return(0,r.Z)(n)}(m)},15520:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>m,FE:()=>p,rg:()=>u,zr:()=>d});n(22369),n(39723),n(21861);var i=n(27915),r=n(92449),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.UPDATE="update",e.UPDATE_SHUFFLE_MODE="update_shuffle_mode",e.ERROR="error",e.ACTION="action",e.QUEUE_ACTION="queue_action",e.QUEUE_ACTION_COMPLETE="queue_action_complete",e.QUEUE_UPDATE="queue_update",e.CONTEXT_WRAPAROUND="context_wraparound",e}({}),d=function(e){return e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.SKIP_TO_NEXT="skipToNext",e.SKIP_TO_PREVIOUS="skipToPrevious",e}({}),p=function(e){return e.ADD="add",e.REMOVE="remove",e.CLEAR="clear",e.INSERT="insert",e.REORDER="reorder",e}({}),m=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"emitPlaySync",value:function(e,t,n){return this.emitSync(u.ACTION,{action:d.PLAY,context:e,origin:t,options:n}).defaultPrevented}},{key:"emitPauseSync",value:function(){return this.emitSync(u.ACTION,{action:d.PAUSE}).defaultPrevented}},{key:"emitResumeSync",value:function(){return this.emitSync(u.ACTION,{action:d.RESUME}).defaultPrevented}},{key:"emitSkipToNextSync",value:function(){return this.emitSync(u.ACTION,{action:d.SKIP_TO_NEXT}).defaultPrevented}},{key:"emitSkipToPreviousSync",value:function(){return this.emitSync(u.ACTION,{action:d.SKIP_TO_PREVIOUS}).defaultPrevented}},{key:"emitQueueActionSync",value:function(e){return this.emitSync(u.QUEUE_ACTION,{action:e}).defaultPrevented}},{key:"emitQueueActionComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emit(u.QUEUE_ACTION_COMPLETE,{action:e,error:t})}},{key:"emitQueueUpdate",value:function(e){this.emit(u.QUEUE_UPDATE,e)}},{key:"emitUpdateShuffleModeSync",value:function(e,t){return this.emitSync(u.UPDATE_SHUFFLE_MODE,{shuffleMode:e,contextURI:t}).defaultPrevented}}]),n}(l.r)},78742:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,g:()=>a});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'PlayerContext' without 'PlayerProvider'!");return e}},1003:(e,t,n)=>{"use strict";n.d(t,{n:()=>v});var i=n(39130),r=n(45389),a=(n(98853),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59496)),o=n(55590),s=n(78742),l=n(24122),c=n(40787);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n,i,r,a){switch(t){case l.PO.NOT_ACTIVE:a?a():e.play(n,i,r);break;case l.PO.PLAYING:e.pause();break;case l.PO.PAUSED:e.resume();break;default:(0,o.U)(t)}}function m(e,t,n,i,r){var o=(0,a.useRef)(r);o.current=r;var s=(0,c.sS)(d(d({contextURI:t.current.uri},i.current),r)),l=s.playbackStatus,u=s.isActive,m=s.isPlaying,f=(0,a.useCallback)((function(r,a){a?a():e.play(t.current,n.current,d(d({},r),{},{skipTo:d(d({},i.current),o.current)}))}),[e,t,n,i]),v=(0,a.useCallback)((function(r,a){p(e,l,t.current,n.current,d(d({},r),{},{skipTo:d(d({},i.current),o.current)}),a)}),[e,l,t,n,i]);return{playbackStatus:l,isActive:u,isPlaying:m,triggerPlay:f,togglePlay:v}}function f(e,t,n,r){var o=function(e,t,n){return e.getCapabilities().canPlayMultipleContextPages||void 0===n.pageURI?[t,n]:[{current:{uri:n.pageURI,metadata:t.current.metadata}},{pageURI:n.pageURI,pageIndex:0}]}(e,t,r),s=(0,i.Z)(o,2),l=s[0],u=s[1],f=(0,a.useRef)(u);f.current=u;var v=(0,c.T6)({contextURI:l.current.uri,pageIndex:u.pageIndex,pageURI:u.pageURI}),g=v.playbackStatus,h=v.isActive,k=v.isPlaying,y=(0,a.useMemo)((function(){return m.bind(null,e,l,n,f)}),[e,l,n]),b=(0,a.useCallback)((function(t,i){i?i():e.play(l.current,n.current,d(d({},t),{},{skipTo:f.current}))}),[e,l,n]),S=(0,a.useCallback)((function(t,i){p(e,g,l.current,n.current,d(d({},t),{},{skipTo:f.current}),i)}),[e,g,l,n]);return{playbackStatus:g,isActive:h,isPlaying:k,triggerPlay:b,togglePlay:S,usePlayContextItem:y}}function v(e,t){var n,i=(0,s.g)(),r=d(d({},t),{},{referrerIdentifier:null!==(n=t.referrerIdentifier)&&void 0!==n?n:i.getReferrer()}),o=(0,a.useRef)(e),l=(0,a.useRef)(r);o.current=e,l.current=r;var u=(0,c.cR)(e.uri),v=u.playbackStatus,g=u.isActive,h=u.isPlaying,k=(0,a.useMemo)((function(){return f.bind(null,i,o,l)}),[i]),y=(0,a.useMemo)((function(){return m.bind(null,i,o,l,{current:null})}),[i]),b=(0,a.useCallback)((function(e,t){i.play(null!=t?t:o.current,l.current,e)}),[i]),S=(0,a.useCallback)((function(e,t){p(i,v,null!=t?t:o.current,l.current,e)}),[i,v]);return{playbackStatus:v,isActive:g,isPlaying:h,triggerPlay:b,togglePlay:S,usePlayContextPage:k,usePlayContextItem:y}}},91095:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var i=n(59496),r=n(78742);function a(e,t){var n=(0,i.useRef)(t),a=(0,r.g)();n.current=t,(0,i.useEffect)((function(){var t=a.getEvents(),i=function(e){return n.current(e)};return t.addListener(e,i),function(){t.removeListener(e,i)}}),[e,a])}},68975:(e,t,n)=>{"use strict";n.d(t,{B:()=>d,z:()=>u});var i=n(39130),r=n(59496),a=n(19968),o=n(9271),s=n(90135),l=function(){return!0};function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a=arguments.length>2?arguments[2]:void 0,c=(0,s.zY)(),u=(0,o.Y)((function(e){return e}),(function(e,t){return(null==e?void 0:e.timestamp)===(null==t?void 0:t.timestamp)&&(null==e?void 0:e.positionAsOfTimestamp)===(null==t?void 0:t.positionAsOfTimestamp)&&(null==e?void 0:e.duration)===(null==t?void 0:t.duration)&&(null==e?void 0:e.speed)===(null==t?void 0:t.speed)&&(null==e?void 0:e.hasContext)===(null==t?void 0:t.hasContext)&&(null==e?void 0:e.isPaused)===(null==t?void 0:t.isPaused)&&(null==e?void 0:e.isBuffering)===(null==t?void 0:t.isBuffering)})),d=(0,r.useState)(null!==(t=a(u))&&void 0!==t?t:0),p=(0,i.Z)(d,2),m=p[0],f=p[1],v=(0,r.useState)(null),g=(0,i.Z)(v,2),h=g[0],k=g[1],y=(0,r.useRef)(n);return y.current=n,(0,r.useEffect)((function(){var e;(null===u||y.current(u))&&f(null!==(e=a(u))&&void 0!==e?e:0)}),[u,a]),(0,r.useEffect)((function(){null!=u&&u.isPaused||null!=u&&u.isBuffering||k(null)}),[null==u?void 0:u.timestamp,null==u?void 0:u.isPaused,null==u?void 0:u.isBuffering]),(0,r.useEffect)((function(){var t,n=!0;if(null===u||!u.hasContext||u.isPaused||!y.current(u))return function(){};f(null!==(t=a(u))&&void 0!==t?t:0);var i=null==c?void 0:c.setInterval((function(){if(n){var e=a(u);f(null!=e?e:0)}}),e);return function(){n=!1,null!==i&&(null==c||c.clearInterval(i))}}),[c,u,e,a]),[null!=h?h:m,k]}function u(e){return c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a.k)}function d(e){return c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,a.l)}},40787:(e,t,n)=>{"use strict";n.d(t,{$o:()=>c,IK:()=>d,T6:()=>l,cR:()=>s,sS:()=>u});var i=n(34787),r=n(63947),a=n(9271);function o(e){var t=(0,a.Y)(e);return{playbackStatus:t,isActive:t!==i.P.NOT_ACTIVE,isPlaying:t===i.P.PLAYING}}function s(e){return o((function(t){return(0,r.QL)(t,e)}))}function l(e){return o((function(t){return(0,r.xy)(t,e)}))}function c(e){return o((function(t){return(0,r.oT)(t,e)}))}function u(e){return o((function(t){return(0,r.Gt)(t,e)}))}function d(){return o((function(e){return(0,r.o9)(e)}))}},86005:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var i=n(39130),r=n(59496),a=n(15520),o=n(78742),s=n(91095);function l(){var e=(0,o.g)(),t=(0,r.useState)(e.getQueue()),n=(0,i.Z)(t,2),l=n[0],c=n[1];return(0,s.G)(a.rg.QUEUE_UPDATE,(function(e){return c(e.data)})),l}},9271:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var i=n(39130),r=n(59496),a=n(15520),o=n(78742),s=n(91095);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t},n=(0,o.g)().getState(),l=(0,r.useState)(e(n)),c=(0,i.Z)(l,2),u=c[0],d=c[1];return(0,s.G)(a.rg.UPDATE,(function(n){var i=e(n.data);t(u,i)||d(i)})),u}},21494:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var i=n(24122),r=n(9271),a=n(84306);function o(){return(0,r.Y)((function(e){var t,n,r;return{uri:null!==(t=null==e?void 0:e.context.uri)&&void 0!==t?t:null,description:null!==(n=null==e||null===(r=e.context.metadata)||void 0===r?void 0:r[i.sb.CONTEXT_DESCRIPTION])&&void 0!==n?n:null}}),a.V)}},94179:(e,t,n)=>{"use strict";n.d(t,{l:()=>r,s:()=>i});var i=function(e){return e.CONTEXT_DESCRIPTION="context_description",e.IS_AUDIOBOOK="is_audiobook",e.REPORTING_URI="reporting.uri",e.FILTERING_PREDICATE="filtering.predicate",e.SORTING_CRITERIA="sorting.criteria",e.LIST_UTIL_FILTER="list_util_filter",e.LIST_UTIL_SORT="list_util_sort",e}({}),r=function(e){return e.ALBUM_URI="album_uri",e.ARTIST_NAME="artist_name",e.ARTIST_URI="artist_uri",e.DURATION="duration",e.HAS_SEGMENTS="has_display_segments",e.SEGMENT_INDEX="segment.index",e.HAS_LYRICS="has_lyrics",e.PARENT_EPISODE_URI="parent_episode.uri",e.PAGE_INSTANCE_ID="page_instance_id",e.IMAGE_URL="image_url",e}({})},20495:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var i=n(83474);function r(e){return(null==e?void 0:e.type)===i.p.TRACK}},34787:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var i=function(e){return e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e}({})},24122:(e,t,n)=>{"use strict";n.d(t,{M4:()=>f,kZ:()=>v,sb:()=>i.s,dR:()=>g,Fd:()=>m,PO:()=>d.P,zq:()=>p,F3:()=>u,k6:()=>a,G7:()=>o,iw:()=>s,G_:()=>l.G,RB:()=>c});var i=n(94179),r=n(83474);function a(e){return(null==e?void 0:e.type)===r.p.AD}function o(e){return(null==e?void 0:e.type)===r.p.CHAPTER}function s(e){return(null==e?void 0:e.type)===r.p.EPISODE}var l=n(20495);function c(e){return(null==e?void 0:e.type)===r.p.UNKNOWN}var u={type:r.p.UNKNOWN,uri:"",uid:"",name:"",images:[],mediaType:"audio",duration:{milliseconds:-1},album:{type:r.p.ALBUM,uri:"",name:"",images:[]},artists:[{type:r.p.ARTIST,uri:"",name:""}],provider:null},d=n(34787),p=function(e){return e[e.REPEAT_NONE=0]="REPEAT_NONE",e[e.REPEAT_CONTEXT=1]="REPEAT_CONTEXT",e[e.REPEAT_TRACK=2]="REPEAT_TRACK",e}({}),m=["not_playing_locally","not_playing_context","not_playing_track","no_prev_track","no_next_track","no_specific_track","already_paused","not_paused","context_player_disallow","mft_disallow","ad_disallow","protocol_limitations","unknown","already_playing","throttled","endless_context","autoplay","narration"],f=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.LOW=1]="LOW",e[e.NORMAL=2]="NORMAL",e[e.HIGH=3]="HIGH",e[e.VERY_HIGH=4]="VERY_HIGH",e[e.HIFI=5]="HIFI",e}({}),v=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.BEST_MATCHING=1]="BEST_MATCHING",e[e.BACKEND_ADVISED=2]="BACKEND_ADVISED",e[e.OFFLINED_FILE=3]="OFFLINED_FILE",e[e.CACHED_FILE=4]="CACHED_FILE",e[e.LOCAL_FILE=5]="LOCAL_FILE",e}({}),g=function(e){return e[e.NONE=0]="NONE",e[e.OFF=1]="OFF",e[e.ON=2]="ON",e}({})},19968:(e,t,n)=>{"use strict";n.d(t,{k:()=>r,l:()=>a});n(37193),n(40265),n(5538);function i(e,t){if(null===e||null===t||null===e.duration)return null;var n=e.timestamp,i=e.duration,r=e.speed,a=e.hasContext,o=e.isPaused,s=e.isBuffering;if(!a||o||s)return t;var l=(Date.now()-n)*(null!=r?r:0);return Math.min(t+l,i)}function r(e){var t;return i(e,null!==(t=null==e?void 0:e.positionAsOfTimestamp)&&void 0!==t?t:null)}function a(e){var t,n,r,a,o=parseInt(null!==(t=null==e||null===(n=e.item)||void 0===n||null===(r=n.metadata)||void 0===r?void 0:r["segment.position_as_of_timestamp"])&&void 0!==t?t:"",10),s=null!==(a=null==e?void 0:e.positionAsOfTimestamp)&&void 0!==a?a:null;return i(e,isNaN(o)?s:o)}},63947:(e,t,n)=>{"use strict";n.d(t,{CM:()=>g,Gt:()=>v,QL:()=>p,VG:()=>l,o9:()=>d,oT:()=>f,xy:()=>m});var i=n(59272),r=n(24122),a=n(83474),o=n(55590),s=n(94179);function l(e,t){var n,r=(0,i.EC)(e,{parseUnknown:!0}),a=(0,i.EC)(t,{parseUnknown:!0});return!(!r||!a)&&(null!==(n=(0,i.U4)(r,a))&&void 0!==n&&n)}function c(e){return"queue"===(null==e?void 0:e.provider)}function u(e,t){if(null===e)return!1;switch(e.type){case a.p.TRACK:if(l(e.album.uri,t)||l(e.uri,t))return!0;break;case a.p.EPISODE:if(l(e.show.uri,t)||l(e.uri,t))return!0;break;case a.p.CHAPTER:if(l(e.book.uri,t)||l(e.uri,t))return!0;break;case a.p.AD:case a.p.UNKNOWN:break;default:(0,o.U)(e)}return!1}function d(e){return null!==e&&e.hasContext?e.isPaused?r.PO.PAUSED:r.PO.PLAYING:r.PO.NOT_ACTIVE}function p(e,t){var n,i,a,o,s,p;return null===e?r.PO.NOT_ACTIVE:(!c(e.item)&&"autoplay"!==(null==(p=e.item)?void 0:p.provider)||u(e.item,null!=t?t:null))&&(l(e.context.uri,null!=t?t:null)||l(null!==(n=null===(i=e.index)||void 0===i?void 0:i.pageURI)&&void 0!==n?n:null,null!=t?t:null)||l(null!==(a=null===(o=e.item)||void 0===o?void 0:o.uri)&&void 0!==a?a:null,null!==(s=e.context.uri)&&void 0!==s?s:null)&&u(e.item,null!=t?t:null))?d(e):r.PO.NOT_ACTIVE}function m(e,t){var n,i,a=t.contextURI,o=t.pageIndex,s=t.pageURI;if(null===e)return r.PO.NOT_ACTIVE;if(c(e.item)&&!u(e.item,null!=s?s:null))return r.PO.NOT_ACTIVE;if(l(e.context.uri,null!=a?a:null)){var p,m;if(n=null!==(p=e.index.pageIndex)&&void 0!==p?p:null,i=null!=o?o:null,null!==n&&null!==i&&n===i)return d(e);if(l(null!==(m=e.index.pageURI)&&void 0!==m?m:null,null!=s?s:null))return d(e)}return l(e.context.uri,null!=s?s:null)?d(e):r.PO.NOT_ACTIVE}function f(e,t){var n,i;return null===e?r.PO.NOT_ACTIVE:l(null!==(n=null===(i=e.item)||void 0===i?void 0:i.uri)&&void 0!==n?n:null,null!=t?t:null)?d(e):r.PO.NOT_ACTIVE}function v(e,t){if(null===e)return r.PO.NOT_ACTIVE;var n,i,a,o=function(e,t){var n;if(!c(e.item))return r.PO.NOT_ACTIVE;var i=e.item;if(l(i.uri,null!==(n=t.uri)&&void 0!==n?n:null)){var a,o;if(u(i,null!==(a=t.contextURI)&&void 0!==a?a:null))return d(e);if(u(i,null!==(o=t.pageURI)&&void 0!==o?o:null))return d(e)}return r.PO.NOT_ACTIVE}(e,t);return o!==r.PO.NOT_ACTIVE?o:(o=p(e,t.contextURI))===r.PO.NOT_ACTIVE&&(o=p(e,t.pageURI))===r.PO.NOT_ACTIVE?r.PO.NOT_ACTIVE:void 0!==t.uid?(null===(n=e.item)||void 0===n?void 0:n.uid)===t.uid?o:r.PO.NOT_ACTIVE:void 0!==t.uri?(null===(i=e.item)||void 0===i?void 0:i.uri)===t.uri||null!==(a=e.item)&&void 0!==a&&a.metadata&&e.item.metadata[s.l.PARENT_EPISODE_URI]===t.uri?o:r.PO.NOT_ACTIVE:void 0!==t.index&&e.index.itemIndex===t.index?o:r.PO.NOT_ACTIVE}function g(e){var t,n=null!==(t=null==e?void 0:e.item)&&void 0!==t?t:void 0;return!!((0,r.G_)(n)||(0,r.iw)(n)||(0,r.k6)(n))&&(("video"===n.mediaType||"mixed"===n.mediaType)&&(null==e?void 0:e.playbackQuality.strategy)!==r.kZ.OFFLINED_FILE)}},69068:(e,t,n)=>{"use strict";n.d(t,{LT:()=>s,ew:()=>l,iT:()=>o});var i=n(83014),r=(n(40274),n(22369),n(29543),n(70969),n(62780),n(4302),n(162),n(63691),n(27535),n(69109),n(47921),n(96807),n(82088),n(24122)),a=n(83474);function o(e,t,n,r,a,o){var s=t.find((function(e){return r(n.after||n.before,e)}));if(!s)return t;var l=[];e.forEach((function(e){var n=t.find((function(t){return r(e,t)}));n&&l.push(n)}));var c=t.filter((function(e){return!l.includes(e)})),u=l.map((function(e){return a(s)?o(e):e})),d=s?c.indexOf(s):0;return n.after?c.splice.apply(c,[d+1,0].concat((0,i.Z)(u))):c.splice.apply(c,[d,0].concat((0,i.Z)(u))),c}function s(e,t,n,r,a,o){var s=t.find((function(e){return r(n.after||n.before,e)}));if(!s)return t;var l=e.map((function(e){return o(e,a(s))})),c=t.indexOf(s);return n.after?t.splice.apply(t,[c+1,0].concat((0,i.Z)(l))):t.splice.apply(t,[c,0].concat((0,i.Z)(l))),t}function l(e,t){if(0===e.length)return{current:null,queued:[],nextUp:[]};for(var n=t===r.zq.REPEAT_CONTEXT?2:1,i=[],o=0,s=e[0],l=1;l<e.length;l++){var c=e[l],u=c.type,d=c.uri,p=c.metadata,m=void 0===p?{}:p,f=m.hidden,v=m.availability_restrictions,g="spotify:delimiter"===d||"spotify:meta:delimiter"===d;if(g&&++o>=n)break;var h=d.startsWith("spotify:meta:"),k=u!==a.p.UNKNOWN&&v;h||g||"true"===f||k||i.push(e[l])}var y=i.findIndex((function(e){return"queue"!==e.provider}));return{current:s,queued:-1===y?i:i.slice(0,y),nextUp:-1===y?[]:i.slice(y)}}},51069:(e,t,n)=>{"use strict";n.d(t,{As:()=>l,JF:()=>o,MW:()=>a,bD:()=>s,tl:()=>r});var i=n(83474),r=(n(78953),function(e){return e.DOWN="DOWN",e.UP="UP",e.EQUAL="EQUAL",e.NEW="NEW",e}({}));function a(e){return e.type===i.p.TRACK}function o(e){return e.type===i.p.EPISODE}var s=function(e){return e.TITLE="TITLE",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.ARTIST="ARTIST",e.ALBUM="ALBUM",e.DURATION="DURATION",e}({}),l=function(e){return e.ASC="ASC",e.DESC="DESC",e}({})},68074:(e,t,n)=>{"use strict";n.d(t,{If:()=>u,XL:()=>d,qR:()=>p});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.ADD="add",e.MOVE="move",e.REMOVE="remove",e.UPDATE="update",e.SET_COLLABORATIVE="set_collaborative",e}({}),d=function(e){return e.UPDATE="update",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({}),p=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},78953:(e,t,n)=>{"use strict";n.d(t,{R0:()=>i,cj:()=>a,pg:()=>r});n(71541);var i=function(e){return e.TEXT="TEXT",e}({}),r=function(e){return e.CONTAINS="CONTAINS",e}({});function a(e){if(e)return"string"==typeof e?{field:i.TEXT,operator:r.CONTAINS,value:e.trim()}:e}},59551:(e,t,n)=>{"use strict";n.d(t,{Qd:()=>m,Ti:()=>v,fv:()=>f});n(22369),n(39723),n(21861),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(27915),a=n(92449),o=n(35391),s=n(23011),l=n(61899),c=n(87252);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var m=function(e){return e.CLAIM_PERMISSION="claim_permission",e.REMOVE_MEMBER="remove_member",e.SET_MEMBER_PERMISSION="set_member_permission",e.SET_BASE_PERMISSION="set_base_permission",e.GET_PERMISSION_GRANT="get_permission_grant",e}({}),f=function(e){return e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({}),v=function(e){(0,o.Z)(n,e);var t=p(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"emitOperationSync",value:function(e){return this.emitSync(f.OPERATION,e).defaultPrevented}},{key:"emitOperationComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emit(f.OPERATION_COMPLETE,d(d({},e),{},{error:t}))}}]),n}(c.r)},16204:(e,t,n)=>{"use strict";n.d(t,{As:()=>s,R0:()=>i.R0,bD:()=>o,lU:()=>r,no:()=>a,pg:()=>i.pg});var i=n(36943);function r(e){return"folder"===e.type}function a(e){return"playlist"===e.type}var o=function(e){return e.NAME="NAME",e.ADDED_AT="ADDED_AT",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.RELEVANCE="RELEVANCE",e.AVAILABLE_OFFLINE="AVAILABLE_OFFLINE",e}({}),s=function(e){return e.ASC="ASC",e.DESC="DESC",e}({})},56398:(e,t,n)=>{"use strict";n.d(t,{Yt:()=>d,aY:()=>u,l3:()=>p});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.ADD="add",e.MOVE="move",e.REMOVE="remove",e.CREATE_PLAYLIST="create_playlist",e}({}),d=function(e){return e.UPDATE="update",e.UPDATE_ITEM="update_item",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete",e}({}),p=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},36943:(e,t,n)=>{"use strict";n.d(t,{R0:()=>i,cj:()=>a,pg:()=>r});n(71541);var i=function(e){return e.TEXT="TEXT",e}({}),r=function(e){return e.CONTAINS="CONTAINS",e}({});function a(e){if(e)return"string"==typeof e?{field:i.TEXT,operator:r.CONTAINS,value:e.trim()}:e}},12788:(e,t,n)=>{"use strict";n.d(t,{D:()=>m});var i=n(27915),r=n(92449),a=n(45389),o=(n(37193),n(40265),n(162),n(79611),n(22369),n(46743),n(59538),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(52723)),s=n(68504),l=n(71072);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return t=e,Object.prototype.hasOwnProperty.call(t,"uid")?{itemId:(0,l.Wu)(e.uid)}:{};var t}function p(e){var t=e.before,n=e.after;return"start"===t?{addFirst:!0}:void 0!==t?{addBeforeItem:{uri:(0,s.u)(t.uri),attributes:d(t)}}:"end"===n?{addLast:!0}:void 0!==n?{addAfterItem:{uri:(0,s.u)(n.uri),attributes:d(n)}}:{}}var m=function(){function e(){(0,i.Z)(this,e),(0,a.Z)(this,"_ops",[]),(0,a.Z)(this,"_needsBaseRevision",!1)}return(0,r.Z)(e,[{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return this._ops.push({kind:o.Sh.ADD,add:u(u({},p(t)),{},{items:e.map((function(e){return{uri:e,attributes:{timestamp:n.toString()}}}))})}),this}},{key:"addByIndex",value:function(e,t,n){var i,r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Date.now();return this._needsBaseRevision=!0,this._ops.push({kind:o.Sh.ADD,add:u(u({},(i=e,r=t,0===i?{addFirst:!0}:i>=r?{addLast:!0}:{fromIndex:i})),{},{items:n.map((function(e){return{uri:e,attributes:{timestamp:a.toString()}}}))})}),this}},{key:"removeByIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._needsBaseRevision=!0,this._ops.push({kind:o.Sh.REM,rem:{fromIndex:e,length:t}}),this}},{key:"remove",value:function(e){return this._ops.push({kind:o.Sh.REM,rem:{itemsAsKey:!0,items:e.map((function(e){return{uri:e.uri}}))}}),this}},{key:"move",value:function(e,t){return this._ops.push({kind:o.Sh.MOV,mov:u({items:e.map((function(e){return{uri:e.uri,attributes:d(e)}}))},p(t))}),this}},{key:"moveByIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._needsBaseRevision=!0,this._ops.push({kind:o.Sh.MOV,mov:{fromIndex:e,toIndex:t,length:n}}),this}},{key:"updateListAttributes",value:function(e){return this._ops.push({kind:o.Sh.UPDATE_LIST_ATTRIBUTES,updateListAttributes:e}),this}},{key:"updateItemAttributes",value:function(e){return this._ops.push({kind:o.Sh.UPDATE_ITEM_ATTRIBUTES,updateItemAttributes:e}),this}},{key:"buildDelta",value:function(){return{ops:this._ops,info:{source:{client:o.rf.WEBPLAYER}}}}},{key:"buildListChanges",value:function(e){if(this._needsBaseRevision&&void 0===e)throw new Error("Operation needs base revision, which was not provided!");return{baseRevision:e,deltas:[this.buildDelta()],wantResultingRevisions:!1,wantSyncResult:!1,nonces:[]}}}]),e}()},14170:(e,t,n)=>{"use strict";n.d(t,{n:()=>p});n(22369),n(39723),n(21861);var i=n(27915),r=n(92449),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=(n(98853),n(23373)),u=n(68074);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var p=function(e){(0,o.Z)(n,e);var t=d(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this))._aggregator=(0,c.PP)(e.onBatchChanged.bind((0,a.Z)(e))),e.onAddListener(u.XL.UPDATE,(function(t){var n=t.data.options.uri;e._aggregator.subscribe(n)})),e.onRemoveListener(u.XL.UPDATE,(function(t){var n=t.data.options.uri;e._aggregator.unsubscribe(n)})),e}return(0,r.Z)(n,[{key:"emitAddSync",value:function(e,t){return this.emitSync(u.XL.OPERATION,{operation:u.If.ADD,uri:e,items:t}).defaultPrevented}},{key:"emitMoveSync",value:function(e,t){return this.emitSync(u.XL.OPERATION,{operation:u.If.MOVE,uri:e,items:t}).defaultPrevented}},{key:"emitRemoveSync",value:function(e,t){return this.emitSync(u.XL.OPERATION,{operation:u.If.REMOVE,uri:e,items:t}).defaultPrevented}},{key:"emitUpdateSync",value:function(e,t){return this.emitSync(u.XL.OPERATION,{operation:u.If.UPDATE,uri:e,details:t}).defaultPrevented}},{key:"emitSetCollaborativeSync",value:function(e,t){return this.emitSync(u.XL.OPERATION,{operation:u.If.SET_COLLABORATIVE,uri:e,isCollaborative:t}).defaultPrevented}},{key:"emitAddComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.emit(u.XL.OPERATION_COMPLETE,{operation:u.If.ADD,uri:e,uris:n,error:t})}},{key:"emitMoveComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.emit(u.XL.OPERATION_COMPLETE,{operation:u.If.MOVE,uri:e,items:n,error:t})}},{key:"emitRemoveComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.emit(u.XL.OPERATION_COMPLETE,{operation:u.If.REMOVE,uri:e,items:n,error:t})}},{key:"emitUpdateComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.emit(u.XL.OPERATION_COMPLETE,{operation:u.If.UPDATE,uri:e,details:n,error:t})}},{key:"emitSetCollaborativeComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.emit(u.XL.OPERATION_COMPLETE,{operation:u.If.SET_COLLABORATIVE,uri:e,isCollaborative:n,error:t})}}]),n}(u.qR)},51193:(e,t,n)=>{"use strict";n.d(t,{Du:()=>m,Re:()=>c,jw:()=>d});var i=n(8850),r=(n(69109),n(10995)),a=n.n(r),o=n(32953),s=n(73758),l=6048e5;function c(e,t,n){return u.apply(this,arguments)}function u(){return u=(0,i.Z)(a().mark((function e(t,n,i){var r,c,u,d=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>3&&void 0!==d[3]?d[3]:l,c=(0,s.v)(n),e.next=4,t.build().withHost(o.KH).withMethod("POST").withPath("/playlist/".concat(c,"/permission-grant")).withEndpointIdentifier("/playlist/{id}/permission-grant").withJsonContentType().withBody({permission:{permissionLevel:i},ttlMs:r}).withoutMarket().send();case 4:return u=e.sent,e.abrupt("return",u.body);case 6:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function d(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(a().mark((function e(t,n,i){var r,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.v)(n),e.next=3,t.build().withHost(o.KH).withMethod("POST").withPath("/playlist/".concat(r,"/permission-grant/token/").concat(i,"/claim")).withEndpointIdentifier("/playlist/{id}/permission-grant/token/{token}/claim").withJsonContentType().withoutMarket().send();case 3:return l=e.sent,e.abrupt("return",l.body);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a().mark((function e(t,n){var i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,s.v)(n),e.next=3,t.build().withHost(o.KH).withMethod("GET").withPath("/playlist/".concat(i,"/permission/base")).withEndpointIdentifier("/playlist/{id}/permission/base").withoutMarket().send();case 3:return r=e.sent,e.abrupt("return",r.body);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},11607:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});n(39723),n(21861);var i=n(27915),r=n(92449),a=n(92720),o=n(35391),s=n(23011),l=n(61899),c=n(45389),u=(n(98853),n(29543),n(22369),n(70969),n(39975),n(56398)),d=n(23373);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}var m=function(e){(0,o.Z)(n,e);var t=p(n);function n(){var e;return(0,i.Z)(this,n),e=t.call(this),(0,c.Z)((0,a.Z)(e),"_numListeners",0),e._aggregator=(0,d.PP)(e.onContainsItems.bind((0,a.Z)(e))),e.onAddListener(u.Yt.UPDATE,(function(){1==++e._numListeners&&e.subscribeToUpdates()})),e.onRemoveListener(u.Yt.UPDATE,(function(){0==--e._numListeners&&e.unsubscribeFromUpdates()})),e.onAddListener(u.Yt.UPDATE_ITEM,(function(t){1==++e._numListeners&&e.subscribeToUpdates();var n=t.data.options.uri;e._aggregator.subscribe(n)})),e.onRemoveListener(u.Yt.UPDATE_ITEM,(function(t){0==--e._numListeners&&e.unsubscribeFromUpdates();var n=t.data.options.uri;e._aggregator.unsubscribe(n)})),e}return(0,r.Z)(n,[{key:"emitUpdateItems",value:function(e,t){var n=this;e.forEach((function(e,i){n.emit(u.Yt.UPDATE_ITEM,{uri:e,isInRootlist:Array.isArray(t)?t[i]:t})}))}},{key:"emitCreatePlaylistSync",value:function(e,t){return this.emitSync(u.Yt.OPERATION,{operation:u.aY.CREATE_PLAYLIST,name:e,position:t}).defaultPrevented}},{key:"emitAddSync",value:function(e,t){return this.emitSync(u.Yt.OPERATION,{operation:u.aY.ADD,uris:e,position:t}).defaultPrevented}},{key:"emitMoveSync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.emitSync(u.Yt.OPERATION,{operation:u.aY.MOVE,item:e,position:t,showAddConfirmation:n}).defaultPrevented}},{key:"emitRemoveSync",value:function(e){return this.emitSync(u.Yt.OPERATION,{operation:u.aY.REMOVE,items:e}).defaultPrevented}},{key:"emitCreatePlaylistComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.emit(u.Yt.OPERATION_COMPLETE,{operation:u.aY.CREATE_PLAYLIST,name:e,position:t,uri:n,error:i})}},{key:"emitAddComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.emit(u.Yt.OPERATION_COMPLETE,{operation:u.aY.ADD,uris:e,position:t,error:n})}},{key:"emitMoveComplete",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.emit(u.Yt.OPERATION_COMPLETE,{operation:u.aY.MOVE,item:e,position:t,error:n,showAddConfirmation:i})}},{key:"emitRemoveComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emit(u.Yt.OPERATION_COMPLETE,{operation:u.aY.REMOVE,items:e,error:t})}}]),n}(u.l3)},83040:(e,t,n)=>{"use strict";n.d(t,{cm:()=>_,r_:()=>I,ub:()=>j,fK:()=>P,qr:()=>C,BW:()=>O,UC:()=>x});var i=n(27915),r=n(92449),a=n(45389),o=(n(40265),n(96807),n(63691),n(65394),n(78819),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(82088),n(30246),n(43125),n(27639),n(16366),n(96669),n(69724),n(39965),n(83001),n(71756),n(39975),n(59538),n(79611),n(59272)),s=n(16204),l=(n(5538),n(162),n(40274),n(98328)),c=n(83474),u=n(71072);function d(e){return e?new Date(parseInt(e,10)):null}function p(e){return{type:c.p.USER,uri:(0,o.QK)(e).toURI(),username:e,displayName:null,images:[]}}function m(e,t){if(void 0!==e)return e.map((function(e){var t;return null!==(t=e.url)&&void 0!==t?t:null})).filter(l.K).map((function(e){return{url:e}}));if(void 0!==t){var n=(0,u.zv)(t);return[{url:"https://i.scdn.co/image/".concat(n)}]}return[]}function f(e,t,n){var i,r,a,o,s,l,u,f,v=t.attributes,g=n.attributes;if(!(t.uri&&n.ownerUsername&&v&&g))return function(e){var t,n=e.attributes;return{type:"placeholder",uri:null!==(t=e.uri)&&void 0!==t?t:"",addedAt:d(null==n?void 0:n.timestamp),isNotFound:!0,isForbidden:!1}}(t);var h=p(n.ownerUsername),k=function(e){return void 0===e?null:p(e)}(null===(i=g.formatAttributes)||void 0===i||null===(r=i.find((function(e){return"madeFor.username"===e.key})))||void 0===r?void 0:r.value),y=e===h.username,b=null!==(a=g.collaborative)&&void 0!==a&&a,S=null!==(o=v.public)&&void 0!==o&&o,x=y,O=y;return{type:c.p.PLAYLIST,addedAt:d(v.timestamp),uri:t.uri,name:null!==(s=g.name)&&void 0!==s?s:"",description:null!==(l=g.description)&&void 0!==l?l:"",totalLength:null!==(u=n.length)&&void 0!==u?u:0,unfilteredTotalLength:null!==(f=n.length)&&void 0!==f?f:0,totalLikes:null,duration:null,images:m(g.pictureSize,g.picture),owner:h,madeFor:k,isCollaborative:b,isLoaded:!0,isOwnedBySelf:y,isPublished:S,hasEpisodes:null,hasSpotifyTracks:null,hasSpotifyAudiobooks:null,canAdd:x,canRemove:O,canPlay:null,formatListData:null,canReportAnnotationAbuse:!1,hasDateAdded:!0,permissions:null,collaborators:null}}var v=n(68504);function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=e;return"folder"===t.type&&void 0!==t.hash&&void 0!==t.rawItemCount}function S(e,t){var n,i,r=null===(n=e.contents)||void 0===n||null===(i=n.items)||void 0===i?void 0:i[t];return void 0===r?null:(0,o.EC)(r.uri,{parseUnknown:!0})}function x(e,t){var n,i=S(e,t);return null!==i&&(i.type===o.JM.UNKNOWN&&"start-group"===(null===(n=i.args)||void 0===n?void 0:n[0])&&3===i.args.length)}function O(e,t){var n,i=S(e,t);return null!==i&&(i.type===o.JM.UNKNOWN&&"end-group"===(null===(n=i.args)||void 0===n?void 0:n[0])&&2===i.args.length)}function w(e,t){return y({type:"folder",uri:e,name:"<root>",addedAt:new Date(0),items:[],hash:"0000000000000000",rawItemCount:0},t)}function N(e,t,n,i){return y(y({},function(e,t,n){var i=n.attributes;return{type:"folder",uri:e,name:t,addedAt:d(null==i?void 0:i.timestamp),items:[]}}((0,v.on)(e,t,n),n,i)),{},{hash:t,rawItemCount:1})}var _=function(){function e(t){(0,i.Z)(this,e),(0,a.Z)(this,"stack",[]),(0,a.Z)(this,"seen",[]),this.username=t;var n=(0,v.on)(t,"0000000000000000","<root>");this.root=w(n)}return(0,r.Z)(e,[{key:"build",value:function(e){for(var t=e.contents,n=(null==t?void 0:t.items)||[],i=(null==t?void 0:t.metaItems)||[],r=0;r<n.length;++r){this.increaseRawItemCount();var a=n[r],s=i[r],l=(0,o.EC)(a.uri,{parseUnknown:!0});if(l)switch(l.type){case o.JM.PLAYLIST:case o.JM.PLAYLIST_V2:var c=f(this.username,a,s);this.onPlaylist(c);break;case o.JM.UNKNOWN:var u,d,p,m;if("start-group"===(null===(u=l.args)||void 0===u?void 0:u[0])&&3===(null===(d=l.args)||void 0===d?void 0:d.length)){var v=l.args[1],g=(0,o.KO)(l.args[2]);this.hasSeen(v)||this.onStartGroup(N(this.username,v,g,a))}else if("end-group"===(null===(p=l.args)||void 0===p?void 0:p[0])&&2===(null===(m=l.args)||void 0===m?void 0:m.length)){var h=l.args[1];this.onEndGroup(h)}}}return this.root}},{key:"peek",value:function(){return this.stack.length>0?this.stack[this.stack.length-1]:this.root}},{key:"onPlaylist",value:function(e){this.peek().items.push(e)}},{key:"onStartGroup",value:function(e){this.peek().items.push(e),this.stack.push(e),this.seen.push(e.hash)}},{key:"onEndGroup",value:function(e){var t=this.stack.findIndex((function(t){return t.hash===e}));-1!==t&&(this.stack.length=t)}},{key:"hasSeen",value:function(e){return-1!==this.seen.indexOf(e)}},{key:"increaseRawItemCount",value:function(){this.root.rawItemCount++;for(var e=0;e<this.stack.length;++e)this.stack[e].rawItemCount++}}]),e}();function E(e,t){var n=[];t(e)&&n.push(e);for(var i=[e];i.length>0;){var r,a=g(i.pop().items);try{for(a.s();!(r=a.n()).done;){var o=r.value;b(o)&&i.push(o),t(o)&&n.push(o)}}catch(e){a.e(e)}finally{a.f()}}return n}function C(e){return E(e,(function(e){return(0,s.no)(e)}))}function P(e){return w(e.uri,{items:C(e)})}function I(e,t){var n=(0,o.EC)(t),i=E(e,(function(e){return(0,v.U4)(n,(0,o.EC)(e.uri))}));return i.length>0?i[0]:null}function j(e,t){var n,i=(0,o.EC)(t);return null!==(n=E(e,(function(e){return(0,v.U4)(i,(0,o.EC)(e.uri))})).at(0))&&void 0!==n?n:null}},59843:(e,t,n)=>{"use strict";n.d(t,{H:()=>m});var i=n(8850),r=n(10995),a=n.n(r),o=(n(59538),n(79611),n(81289),n(22369),n(69109),n(62780),n(162),n(30246),n(26352)),s=(n(9294),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"decoratePlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}]}),l=n(81804),c=50;function u(e,t){return d.apply(this,arguments)}function d(){return d=(0,i.Z)(a().mark((function e(t,n){var r,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.PQ)(t),e.next=3,(0,l.s)(n,function(){var e=(0,i.Z)(a().mark((function e(t){var n,i,o,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(s,{uris:t});case 2:if(n=e.sent,o=(i=n||{}).errors,null!=(l=i.data)&&l.playlistsV2){e.next=10;break}if(!(o&&o.length>0)){e.next=9;break}throw new Error("GraphQL error: ".concat(o[0].message));case 9:throw new Error("Unknown GraphQL error!");case 10:return e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c);case 3:return u=e.sent,e.abrupt("return",{playlistsV2:u.reduce((function(e,t){return e.concat(t.playlistsV2||[])}),[])});case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(e){return null===e.owner.displayName||0===e.images.length}function m(e,t,n){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a().mark((function e(t,n,i){var r,o,s,l,c,d,m,f,v,g,h,k,y,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,r=0;r<i.length;++r)o=i[r],n.has(o.uri)&&(s=n.get(o.uri),l=s.images,c=s.owner,o.owner=c,o.images=l);return d=i.filter(p).filter((function(e){return!n.has(e.uri)})),e.next=5,u(t,d.map((function(e){return e.uri})));case 5:for(m=e.sent,f=m.playlistsV2,v=0;v<d.length;++v)g=d[v],"Playlist"===(h=f[v]).__typename&&(k=h.uri,y=h.images,(b=h.ownerV2)&&"User"===b.data.__typename&&(g.owner.displayName=b.data.name),y.items.length>0&&(g.images=y.items[0].sources.map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}}))),n.set(k,{owner:g.owner,images:g.images}));e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),window.console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},68504:(e,t,n)=>{"use strict";n.d(t,{Cl:()=>l,HS:()=>m,N4:()=>c,U4:()=>u,on:()=>s,qd:()=>a,u:()=>v});n(83001),n(88906),n(22369),n(60178),n(59346),n(67886),n(61948),n(45060),n(39210),n(82241),n(45074),n(60252),n(89333),n(83360),n(82695),n(91526),n(15355),n(69103),n(61368),n(99852),n(8599),n(17744),n(79028),n(12041),n(26112),n(9032),n(31266),n(65092),n(95350),n(5628),n(36507),n(55553),n(6127),n(16366),n(31781),n(69109),n(30246),n(59538),n(79611);var i=n(59272),r=n(71072);function a(e){var t=new Uint8Array(e);return window.crypto.getRandomValues(t),(0,r.zv)(t)}function o(e){var t=e.replace(/\s+/g," ");return encodeURIComponent(t).replace(/%20/g,"+")}function s(e,t,n){var r=(0,i.ir)(e,t).toURI();return"".concat(r,":").concat(o(n))}function l(e){var t=(0,i.EC)(e,{parseUnknown:!0});return null!==t&&t.type===i.JM.UNKNOWN&&void 0!==t.args&&"start-group"===t.args[0]&&t.args.length>=2&&t.args.length<=3}function c(e){var t=(0,i.EC)(e,{parseUnknown:!0});return null!==t&&t.type===i.JM.UNKNOWN&&void 0!==t.args&&"end-group"===t.args[0]&&2===t.args.length}function u(e,t){var n=(0,i.EC)(e,{parseUnknown:!0}),r=(0,i.EC)(t,{parseUnknown:!0});return null!==n&&null!==r&&(n.type===i.JM.FOLDER&&r.type===i.JM.FOLDER?n.id===r.id:l(n)&&l(r)||c(n)&&c(r)?n.args[0]===r.args[0]:n.type===i.JM.FOLDER&&l(r)?n.id===r.args[1]:l(n)&&r.type===i.JM.FOLDER?n.args[1]===r.id:(0,i.U4)(n,r))}function d(e,t){return void 0!==t?"spotify:start-group:".concat(e,":").concat(o(t)):"spotify:start-group:".concat(e)}function p(e){return"spotify:end-group:".concat(e)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.folderUri,i=e.hash,r=void 0===i?n?f(n):a(8):i;return[d(r,t),p(r)]}function f(e){var t=(0,i.EC)(e);if(null===t||t.type!==i.JM.FOLDER)throw new Error("Failed to parse folder URI!");return t.id}function v(e){try{return d(f(e))}catch(t){return e}}},64331:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var i=["daily-mix","my-mix","car-mix","personalized-podcasts"]},34345:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(45389),r=n(8850),a=n(10995),o=n.n(a),s=(n(162),n(30246),n(40274),n(22369),n(4302),n(66469),n(95675),n(61235),n(62780),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(59272)),l=n(50363);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=n.n(l)().SPCLIENT_WG_URL,p="".concat(d,"/playlistextender"),m=function(){var e=(0,r.Z)(o().mark((function e(t,n,i,r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withMethod("POST").withHost(p).withPath("/extendp/").withEndpointIdentifier("/extendp/").withJsonContentType().withBody({playlistURI:n,trackSkipIDs:i||[],numResults:r||10}).withoutMarket().send();case 2:if(!(a=e.sent).body){e.next=5;break}return e.abrupt("return",a.body.recommendedTracks.map((function(e){var t,n=e.id,i=e.album.id,r=e.artists,a=(0,s.tn)(n).toURI(),o=(0,s.jy)(i).toURI(),l=r.map((function(e){var t=e.id;return{id:t,name:e.name,uri:(0,s.WN)(t).toURI()}}));return u(u({},e),{},{uri:a,album:u(u({},e.album),{},{uri:o}),artists:l,isMOGEFRestricted:!(null===(t=e.contentRating)||void 0===t||!t.find((function(e){return"KR"===e.country&&e.tag.includes("MOGEF-19+")})))})})));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}()},91583:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var i=n(8850),r=n(10995),a=n.n(r),o=(n(59538),n(79611),n(32953));function s(e,t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(a().mark((function e(t,n){var i,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withHost(o.fe).withMethod("GET").withPath("/resolve-uri/".concat(encodeURIComponent(n))).withEndpointIdentifier("/resolve-uri/{uri}").withoutMarket().send();case 2:if(i=e.sent,r=i.body,!((s=r.resolvedPlaylists).length>0)){e.next=6;break}return e.abrupt("return",s[0].uri);case 6:throw new Error("Error resolving playlist format URI!");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},52723:(e,t,n)=>{"use strict";n.d(t,{B3:()=>i.B3,Sh:()=>i.Sh,_c:()=>i._c,hA:()=>i.hA,ow:()=>i.ow,pS:()=>r,rf:()=>i.rf,vY:()=>i.vY});var i=n(26791),r=n(64571)},80780:(e,t,n)=>{"use strict";n.d(t,{b:()=>d,i:()=>m});var i=n(8850),r=n(10995),a=n.n(r),o=(n(30246),n(59538),n(79611),n(61235),n(69724),n(95675),n(69604),n(99975),n(59272)),s=n(52723),l=n(12788),c=n(32953),u=n(71072);function d(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(a().mark((function e(t,n,i){var r,u,d,p,f,v,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,u=(0,o.EC)(n).id,!i.imageUploadToken){e.next=6;break}return e.next=5,m(t,u,i.imageUploadToken);case 5:r=e.sent;case 6:if(d={},p=[],null!==r?d.picture=r:null===i.imageUploadToken&&p.push(s._c.LIST_PICTURE),!("name"in i)){e.next=13;break}if(i.name){e.next=12;break}throw Error("Can not set empty playlist name!");case 12:d.name=i.name;case 13:if("description"in i&&(d.description=i.description),0!==Object.keys(d).length||0!==p.length){e.next=16;break}return e.abrupt("return",void 0);case 16:return f=(new l.D).updateListAttributes({newAttributes:{values:d,noValue:p}}).buildListChanges(),v=s.ow.toJSON(f),e.next=20,t.build().withMethod("POST").withHost(c.fe).withPath("/playlist/".concat(u,"/changes")).withEndpointIdentifier("/playlist/{id}/changes").withoutMarket().withJsonContentType().withBody(v).send();case 20:return g=e.sent,e.abrupt("return",g);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a().mark((function e(t,n,i){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withEndpointIdentifier("playlist/${id}/register-image").withHost(c.fe).withMethod("POST").withPath("/playlist/".concat(n,"/register-image")).withJsonContentType().withBody({uploadToken:i}).withoutMarket().send();case 2:if((r=e.sent).body){e.next=5;break}throw new Error("No image id from registration!");case 5:return e.abrupt("return",(0,u.dN)(r.body.picture));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},91881:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var i=n(8850),r=n(10995),a=n.n(r),o=(n(59538),n(79611),"https://image-upload.spotify.com/v4");function s(e,t){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(a().mark((function e(t,n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.build().withEndpointIdentifier("image-upload/v4/playlist").withHost(o).withMethod("POST").withPath("/playlist").withBody(n).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();case 2:if((i=e.sent).body){e.next=5;break}throw new Error("No upload token recieved");case 5:return e.abrupt("return",i.body.uploadToken);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73758:(e,t,n)=>{"use strict";n.d(t,{T:()=>a,v:()=>r});n(59538),n(79611);var i=n(59272);function r(e){var t=(0,i.EC)(e);return t?t.id:""}function a(e){return e instanceof Error?e:new Error("Unknown error!")}},50214:(e,t,n)=>{"use strict";n.d(t,{I:()=>d,x:()=>u});var i=n(45389),r=(n(59538),n(79611),n(69109),n(24122)),a=n(78953),o=(0,i.Z)({},a.R0.TEXT,"text"),s=(0,i.Z)({},a.pg.CONTAINS,"contains");var l=(0,i.Z)({},a.R0.TEXT,"text"),c=(0,i.Z)({},a.pg.CONTAINS,"=^#");function u(e){return null!=e&&e.value?"&filter=".concat(encodeURIComponent(function(e){var t=e.field,n=e.operator,i=e.value;if(t!==a.R0.TEXT||n!==a.pg.CONTAINS)throw new Error("Invalid filter params!");var r=o[t],l=s[n];return"".concat(r," ").concat(l," ").concat(encodeURIComponent(i))}(e))):""}function d(e,t){void 0!==(null==t?void 0:t.value)&&(e.metadata||(e.metadata={}),e.metadata[r.sb.FILTERING_PREDICATE]=function(e){var t=e.field,n=e.operator,i=e.value;if(t!==a.R0.TEXT||n!==a.pg.CONTAINS)throw new Error("Invalid filter params!");var r=l[t],o=c[n];return"".concat(r," ").concat(o,' "').concat(i,'"')}(t))}},97441:(e,t,n)=>{"use strict";n.d(t,{R:()=>d,Y:()=>u});var i,r,a=n(45389),o=(n(59538),n(79611),n(90511),n(162),n(69109),n(24122)),s=n(51069),l=(i={},(0,a.Z)(i,s.bD.TITLE,["name","originalIndex"]),(0,a.Z)(i,s.bD.ADDED_BY,["addedByDisplayName","originalIndex"]),(0,a.Z)(i,s.bD.ADDED_AT,["addTime","album.name","album.artist.name","discNumber","trackNumber","originalIndex"]),(0,a.Z)(i,s.bD.ARTIST,["artist.name","album.name","discNumber","trackNumber","originalIndex"]),(0,a.Z)(i,s.bD.ALBUM,["album.name","discNumber","trackNumber","originalIndex"]),(0,a.Z)(i,s.bD.DURATION,["length","album.name","discNumber","trackNumber","originalIndex"]),i);var c=(r={},(0,a.Z)(r,s.bD.TITLE,["title","original_index"]),(0,a.Z)(r,s.bD.ADDED_BY,["added_by","original_index"]),(0,a.Z)(r,s.bD.ADDED_AT,["added_at","album_title","album_artist_name","album_disc_number","album_track_number","original_index"]),(0,a.Z)(r,s.bD.ARTIST,["artist_name","album_title","album_disc_number","album_track_number","original_index"]),(0,a.Z)(r,s.bD.ALBUM,["album_title","album_disc_number","album_track_number","original_index"]),(0,a.Z)(r,s.bD.DURATION,["duration","album_title","album_disc_number","album_track_number","original_index"]),r);function u(e){return void 0===e?"":"&sort=".concat(encodeURIComponent(function(e){var t=e.field,n=e.order,i=l[t];if(void 0===i||n!==s.As.ASC&&n!==s.As.DESC)throw new Error("Invalid sort params!");return i.map((function(e,t){return n?"".concat(e," ").concat(t>0?s.As.ASC:n):e})).join(",")}(e)))}function d(e,t){void 0!==t&&(e.metadata||(e.metadata={}),e.metadata[o.sb.SORTING_CRITERIA]=function(e){var t=e.field,n=e.order,i=c[t];if(void 0===i||n!==s.As.ASC&&n!==s.As.DESC)throw new Error("Invalid sort params!");return i.map((function(e,t){return n?"".concat(e," ").concat(t>0?s.As.ASC:n):e})).join(",")}(t))}},66738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var i=(0,n(59496).createContext)({getCapabilities:function(){},getMetadata:function(){},getContents:function(){},add:function(){},move:function(){},remove:function(){},setCollaborativeState:function(){},getEvents:function(){}})},93494:(e,t,n)=>{"use strict";n.d(t,{N:()=>o,z:()=>s});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("usePlaylistPermissionsAPI must be used within a PlaylistPermissionsProvider");return e}},96811:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var i=(0,n(59496).createContext)(null)},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var i=n(97441),r=n(50214),a=n(78953);function o(e,t,n){var o={uri:e};return(0,i.R)(o,t),(0,r.I)(o,(0,a.cj)(n)),o}},49756:(e,t,n)=>{"use strict";n.d(t,{ZF:()=>i.Z,NC:()=>o.N,ry:()=>a,BS:()=>s.B,xY:()=>l,ET:()=>g,Yv:()=>h,rZ:()=>d.r,Cu:()=>b.C,Rt:()=>N,lh:()=>y.l,iu:()=>k.i});n(52723);var i=n(66738),r=n(4637),a=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(i.Z.Provider,{value:t,children:n})},o=n(93494),s=n(96811),l=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(s.B.Provider,{value:t,children:n})},c=(n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(45389)),u=n(59496),d=n(95968),p=n(9102),m=n(72102);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e,t){var n=(0,u.useContext)(i.Z),r=(0,p.useQueryClient)(),a=(0,u.useRef)(null==t?void 0:t.withSync),o=(0,m.jP)((function(){return["usePlaylistMetadata",e,t]}),[t,e]),s=(0,p.useQuery)(o(),(function(){return n.getMetadata(e,v(v({},t),{},{withSync:a.current}))}),{cacheTime:36e5,keepPreviousData:!0}).data,l=(0,u.useCallback)((function(){a.current=!1,r.invalidateQueries(o())}),[r,o]);return(0,d.r)(e,l),null!=s?s:null};function h(e){var t=(0,u.useContext)(i.Z),n=(0,o.z)();return{addItems:(0,u.useCallback)((function(n,i){return t.add(e,n,i)}),[e,t]),moveItems:(0,u.useCallback)((function(n,i){return t.move(e,n,i)}),[e,t]),removeItems:(0,u.useCallback)((function(n){return t.remove(e,n)}),[e,t]),setCollaborativeState:(0,u.useCallback)((function(n){return t.setCollaborativeState(e,n)}),[e,t]),updateDetails:(0,u.useCallback)((function(n){return t.updateDetails(e,n)}),[e,t]),uploadImage:(0,u.useCallback)((function(e){return t.uploadImage(e)}),[t]),setPrivateState:(0,u.useCallback)((function(t){return n.setBasePermission(e,t?"BLOCKED":"VIEWER")}),[n,e]),removeMember:(0,u.useCallback)((function(t){return n.removeMember(e,t)}),[n,e])}}var k=n(60487),y=n(41164),b=n(78403),S=n(8850),x=n(39130),O=n(10995),w=n.n(O);function N(){var e=(0,u.useContext)(s.B),t=(0,u.useState)(null),n=(0,x.Z)(t,2),i=n[0],r=n[1],a=(0,u.useCallback)((0,S.Z)(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,e.getMetadata();case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)}))),[e]);return(0,u.useEffect)((function(){a()}),[a]),(0,k.i)(a),i}},60458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,s:()=>f});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(66738),o=n(95968),s=n(9102),l=n(72102);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t,n){return["usePlaylist",e,t,n]},p=function(e,t,n,i,r){return function(){return e.getPlaylist(t,u(u({},i),{},{withSync:n}),r)}},m=function(e,t,n){var i=(0,r.useContext)(a.Z),c=(0,s.useQueryClient)(),u=(0,r.useRef)(null==t?void 0:t.withSync),m=(0,l.jP)((function(){return d(e,t,n)}),[e,t,n]),f=(0,s.useQuery)(m(),p(i,e,u.current,t,n),{cacheTime:36e5,keepPreviousData:!0}).data,v=(0,r.useCallback)((function(){u.current=!1,c.invalidateQueries(m())}),[c,m]);return(0,o.r)(e,v),null!=f?f:null},f=function(e,t,n){var i=(0,r.useContext)(a.Z),o=(0,s.useQueryClient)();return(0,r.useCallback)((function(){var r=d(e,t,n),a=p(i,e,!1,t,n);o.prefetchQuery(r,a)}),[i,n,t,o,e])}},84363:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var i=n(39130),r=n(59496),a=n(96811),o=n(60487);function s(e){var t=(0,r.useContext)(a.B),n=(0,r.useState)(void 0),s=(0,i.Z)(n,2),l=s[0],c=s[1],u=(0,r.useCallback)((function(){t.getPublishedState(e).then(c)}),[t,e]);return(0,r.useEffect)(u,[u]),(0,o.i)(u),l}},95968:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var i=n(59496),r=n(68074),a=n(66738);function o(e,t){var n=(0,i.useContext)(a.Z);(0,i.useEffect)((function(){var i=n.getEvents(),a=function(n){n.data.uri===e&&t(n)};return i.addListener(r.XL.UPDATE,a,{uri:e}),function(){i.removeListener(r.XL.UPDATE,a,{uri:e})}}),[n,e,t])}},36902:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var i=n(59496),r=n(96811);function a(){return(0,i.useContext)(r.B)}},78403:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var i=n(59496),r=n(96811),a=n(60487),o=n(9102);function s(e){var t=(0,i.useContext)(r.B),n=(0,o.useQueryClient)(),s=["rootlist-contents",e];return(0,a.i)((function(){return n.invalidateQueries({queryKey:s},{cancelRefetch:!0})})),(0,o.useQuery)(s,(function(){return t.getContents(e)}),{cacheTime:864e5,staleTime:0}).data}},41164:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var i=n(59496),r=n(96811);function a(){var e=(0,i.useContext)(r.B);return{createFolder:(0,i.useCallback)((function(t,n){return e.createFolder(t,n)}),[e]),createPlaylist:(0,i.useCallback)((function(t,n){return e.createPlaylist(t,n)}),[e]),moveFolder:(0,i.useCallback)((function(t,n){return e.moveFolder(t,n)}),[e]),removeFolder:(0,i.useCallback)((function(t){return e.removeFolder(t)}),[e]),renameFolder:(0,i.useCallback)((function(t,n){return e.renameFolder(t,n)}),[e]),addPlaylists:(0,i.useCallback)((function(t,n){return e.add(t,n)}),[e]),movePlaylists:(0,i.useCallback)((function(t,n){return e.move(t,n)}),[e]),removePlaylists:(0,i.useCallback)((function(t){return e.remove(t)}),[e]),containsPlaylists:(0,i.useCallback)((function(t){return e.contains(t)}),[e]),setPublishedState:(0,i.useCallback)((function(t,n){return e.setPublishedState(t,n)}),[e])}}},60487:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var i=n(59496),r=n(56398),a=n(96811);function o(e){var t=(0,i.useContext)(a.B);(0,i.useEffect)((function(){var n=t.getEvents();return n.addListener(r.Yt.UPDATE,e),function(){n.removeListener(r.Yt.UPDATE,e)}}),[e,t])}},97120:(e,t,n)=>{"use strict";function i(e){return e.isCollaborative||e.isLoaded&&!e.isOwnedBySelf&&e.canAdd}n.d(t,{c:()=>i})},834:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});n(162);var i=n(83474);function r(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}}function a(e){var t;return{type:i.p.USER,uri:e.uri,username:e.id,displayName:(null==e?void 0:e.display_name)||null,images:(null==e||null===(t=e.images)||void 0===t?void 0:t.map(r))||[]}}},87808:(e,t,n)=>{"use strict";n.d(t,{$f:()=>d,hn:()=>u,sw:()=>p});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.ARTIST="artist",e.ALBUM="album",e.SHOW="show",e.AUDIOBOOK="audiobook",e.PLAYLIST="playlist",e.RADIO="radio",e.LIKED_SONGS="liked_songs",e.YOUR_EPISODES="your_episodes",e.TRACK="track",e}({}),d=function(e){return e.UPDATE="update",e}({}),p=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},93986:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,Y:()=>a});n(59538),n(79611);var i=n(59496),r=(0,i.createContext)(null);function a(){var e=(0,i.useContext)(r);if(null===e)throw new Error("Trying to use 'RecentlyPlayedContext' without 'RecentlyPlayedProvider'!");return e}},91094:(e,t,n)=>{"use strict";n.d(t,{p1:()=>f,sQ:()=>v});var i,r=n(83014),a=n(8850),o=n(45389),s=n(10995),l=n.n(s),c=(n(59538),n(79611),n(69109),n(47921),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(76045)),u=n(85865);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=e.isAnonymous,n=e.transport,i=e.tokenProvider;if(!n&&!i)throw new Error("[SemanticMetricsHelper] An instance of either transport or tokenProvider is required!");var o,s={environment:"undefined"!=typeof window?"browser":"nodejs"};return t||(s=p(p({},s),{},{getToken:(o=(0,a.Z)(l().mark((function e(t){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=10;break}return e.next=3,(0,u.V)(i);case 3:return r=e.sent,e.next=6,r();case 6:a=e.sent,t(a),e.next=11;break;case 10:n&&t(n.getLastToken());case 11:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})})),[(0,c.createUniversalReporter)(s)].concat((0,r.Z)([]))}function f(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,c.createSemanticMetrics)({key:e,dev:!(null!==(n="production")&&n.startsWith("prod")),reporter:m({transport:t,isAnonymous:r})}).sendMetric;i=a}function v(e){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}throw new Error("Invalid call to sendMetric before initSemanticMetrics.");case 2:return t.tags||(t.tags={}),"slingshot"in t.tags||(t.tags.slingshot="1"==={}.IS_SLINGSHOT?"true":"false"),e.abrupt("return",i(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},78113:(e,t,n)=>{"use strict";n.d(t,{NK:()=>o,YG:()=>a,ay:()=>i,i5:()=>r});var i=function(e){return e.PUBLISH_DATE="PUBLISH_DATE",e}({}),r=function(e){return e.ASC="ASC",e.DESC="DESC",e}({}),a=function(e){return e.AVAILABLE="AVAILABLE",e.TEXT="TEXT",e.NAME="NAME",e.ISPLAYED="ISPLAYED",e.STARTEDPLAYING="STARTEDPLAYING",e}({}),o=function(e){return e.CONTAINS="CONTAINS",e.EQUALS="EQUALS",e.NOT_EQUALS="NOT_EQUALS",e.GREATER_THAN="GREATER_THAN",e}({})},49792:(e,t,n)=>{"use strict";n.d(t,{T:()=>d,X:()=>u});n(22369),n(39723),n(21861);var i=n(92449),r=n(27915),a=n(35391),o=n(23011),s=n(61899),l=n(87252);function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,s.Z)(e);if(t){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}var u=function(e){return e.UPDATE_LOCKED_STATE="update_locked_state",e}({}),d=function(e){(0,a.Z)(n,e);var t=c(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(l.r)},48007:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var i=n(8850),r=n(10995),a=n.n(r),o=(n(83001),n(22369),n(27639),n(71756),n(70238),n(45880),n(48096),n(59538),n(79611),n(1074)),s=n(98322);function l(e){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)(a().mark((function e(t){var n,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.di.createCheckoutSession(new s.c,t);case 2:if(n=e.sent,i=n.body,r=i.redirectToUrl,new URL(r).hostname.endsWith(".spotify.com")){e.next=8;break}throw new Error("Unknown URL host");case 8:window.location.assign(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},63798:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,Y:()=>a});n(72304),n(22369),n(4302),n(66469),n(65394),n(78819);var i=n(18459),r=n(24511);function a(e){return void 0===e||0===e.length?null:e.some((function(e){return[i.t.OAP_OTP,i.t.AUDIOBOOK_DIRECT_SALES].includes(e)}))?"OTP":e.some((function(e){return[i.t.OAP_LINKING,i.t.ANCHOR_PAYWALL].includes(e)}))?"SUBSCRIPTION":1===(null==e?void 0:e.length)&&e.at(0)===i.t.ABP?"ABP":"OTHER"}function o(e){return null!=e&&e.length?e.some((function(e){return e&&[r.t.OapOtp,r.t.AudiobookDirectSales].includes(e)}))?"OTP":e.some((function(e){return e&&[r.t.OapLinking,r.t.AnchorPaywall].includes(e)}))?"SUBSCRIPTION":1===(null==e?void 0:e.length)&&(null==e?void 0:e.at(0))===r.t.Abp?"ABP":"OTHER":null}},76317:(e,t,n)=>{"use strict";n.d(t,{TS:()=>a,Zl:()=>o,rA:()=>i,rD:()=>r});var i=Spicetify.GraphQL.Definitions["imageURLAndSize"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"imageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]},r=Spicetify.GraphQL.Definitions["imageSources"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"imageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageURLAndSize"}}]}}]}}]},a=Spicetify.GraphQL.Definitions["audioItems"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"audioItems"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudioPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"fileId"}}]}}]}}]},o=Spicetify.GraphQL.Definitions["creator"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}}]}}]}}]}}]}},97398:(e,t,n)=>{"use strict";n.d(t,{Kg:()=>l,NF:()=>o,Rr:()=>a,Sz:()=>i,Vn:()=>s,n0:()=>r});var i=Spicetify.GraphQL.Definitions["episodeTrailerUri"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"episodeTrailerUri"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]},r=Spicetify.GraphQL.Definitions["podcastEpisode"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"podcastEpisode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"contents"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"creator"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audioItems"}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"unplayabilityReasons"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"trailerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"episodeTrailerUri"}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"segments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"segments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentInformation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonTarget"}},{kind:"Field",name:{kind:"Name",value:"buttonText"}},{kind:"Field",name:{kind:"Name",value:"cardBodyText"}},{kind:"Field",name:{kind:"Name",value:"cardHeaderText"}}]}},{kind:"Field",name:{kind:"Name",value:"transcripts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"cdnUrl"}},{kind:"Field",name:{kind:"Name",value:"language"}}]}}]}}]}}]},a=Spicetify.GraphQL.Definitions["podcastMetadataV2"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"podcastMetadataV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"contentType"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"unplayabilityReasons"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"trailerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodesV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContextEpisodePage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"creator"}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}},{kind:"Field",name:{kind:"Name",value:"musicAndTalk"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nextBestEpisodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"score"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUserMemberOfAtLeastOneGroup"}},{kind:"Field",name:{kind:"Name",value:"unlockedBy"}}]}}]}}]},o=Spicetify.GraphQL.Definitions["minimalAudiobook"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"minimalAudiobook"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"trailerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}}]}}]},s=Spicetify.GraphQL.Definitions["audiobookChapter"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"audiobookChapter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audioItems"}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaTypes"}},{kind:"Field",name:{kind:"Name",value:"restrictions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paywallContent"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"unplayabilityReasons"}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"audiobookV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"minimalAudiobook"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"availableMarkets"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"}}]}}]}}]}}]},l=Spicetify.GraphQL.Definitions["audiobookMetadataV2"]={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"audiobookMetadataV2"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"htmlDescriptionPlain"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"narrators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publishDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"copyright"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canRate"}},{kind:"Field",name:{kind:"Name",value:"averageRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"average"}},{kind:"Field",name:{kind:"Name",value:"showAverage"}},{kind:"Field",name:{kind:"Name",value:"totalRatings"}}]}},{kind:"Field",name:{kind:"Name",value:"rating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"showUri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"price"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"finalListPrice"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"formattedPrice"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"finalPrice"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"formattedPrice"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"unplayabilityReasons"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"trailerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"_uri"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Chapter"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookChapter"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"showTypes"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConsumptionCappedAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"actionText"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isUserMemberOfAtLeastOneGroup"}},{kind:"Field",name:{kind:"Name",value:"unlockedBy"}}]}}]}}]}},93677:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});n(22369),n(8760);var i=n(59496),r=n(49792),a=(0,i.createContext)({capabilities:{canFilter:!1,canSort:!1,canGetDefaultSort:!1},getMetadata:function(){return Promise.reject()},getContents:function(){return Promise.reject()},getBookContents:function(){return Promise.reject()},getEpisodeOrChapter:function(){return Promise.reject()},getPlayerSort:function(){return""},getPlayerFilter:function(){return""},getAccessInfo:function(){return Promise.reject()},checkoutBook:function(){return Promise.reject()},getEvents:function(){return new r.T}})},56406:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,ZM:()=>d,ye:()=>m,zZ:()=>u.z});var i=n(93677),r=n(4637),a=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(i.Y.Provider,{value:t,children:n})},o=n(8850),s=n(10995),l=n.n(s),c=n(59496),u=n(10655);function d(e,t,n){var i=(0,u.z)(),r=i.capabilities.canSort,a=(0,c.useCallback)(function(){var r=(0,o.Z)(l().mark((function r(a,o){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",i.getContents(e,{offset:a,limit:o,sort:t,filters:n}));case 1:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),[i,e,t,n]),s=(0,c.useCallback)(function(){var t=(0,o.Z)(l().mark((function t(n,r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.getContents(e,{offset:n,limit:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[i,e]);return r?a:s}var p=n(39130);function m(e){var t=(0,u.z)(),n=(0,c.useState)(null),i=(0,p.Z)(n,2),r=i[0],a=i[1];return(0,c.useEffect)((function(){function n(){return(n=(0,o.Z)(l().mark((function n(){var i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.getAccessInfo(e);case 3:i=n.sent,a(i),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0),a(void 0);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t,e]),r}},81793:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var i=n(9102),r=n(10655),a=3e5;function o(e){var t=(0,r.z)(),n=(0,i.useQuery)(["useEpisodeOrChapter",e],(function(){return t.getEpisodeOrChapter(e)}),{cacheTime:a,retry:function(e,t){return!t}}),o=n.data,s=n.isError;return o||s?{isError:s,episodeOrChapter:o}:null}},10655:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var i=n(59496),r=n(93677);function a(){return(0,i.useContext)(r.Y)}},20463:(e,t,n)=>{"use strict";n.d(t,{l:()=>d});var i=n(9102),r=n(83474),a=n(10655),o=n(18255),s=n(59496),l=n(93677),c=n(49792);var u=3e5;function d(e){var t=(0,a.z)(),n=(0,i.useQueryClient)(),d=(0,s.useCallback)((function(){return["useShowMetadata",e]}),[e]),p=(0,i.useQuery)(d(),(function(){return t.getMetadata(e)}),{cacheTime:u,refetchOnWindowFocus:!1,retry:function(e,t){return t.message!==o.xr.RestrictedContent&&e<3}}),m=p.data,f=p.error,v=(0,s.useCallback)((function(){m&&n.invalidateQueries(d())}),[m,d,n]);return function(e,t,n){var i=(0,s.useContext)(l.Y),r=(0,s.useRef)(t);(0,s.useEffect)((function(){var t=i.getEvents(),a=function(t){t.data.uri===e&&t.data.isLocked!==r.current&&(r.current=t.data.isLocked,n(t))};return t.addListener(c.X.UPDATE_LOCKED_STATE,a,{uri:e}),function(){t.removeListener(c.X.UPDATE_LOCKED_STATE,a,{uri:e})}}),[i,e,n])}(e,(null==m?void 0:m.type)===r.p.AUDIOBOOK&&m.isLocked,v),f?{data:null,error:f}:{data:null!=m?m:null}}},13956:(e,t,n)=>{"use strict";n.d(t,{l:()=>y});var i=n(8850),r=n(10995),a=n.n(r),o=(n(22369),n(8760),n(83001),n(88906),n(60178),n(59346),n(67886),n(61948),n(45060),n(39210),n(82241),n(45074),n(60252),n(89333),n(83360),n(82695),n(91526),n(15355),n(69103),n(61368),n(99852),n(8599),n(17744),n(79028),n(12041),n(26112),n(9032),n(31266),n(65092),n(95350),n(5628),n(36507),n(55553),n(6127),n(162),n(39975),n(69604),n(99975),n(72649),n(82088),n(30246),n(43125),n(27639),n(16366),n(96669),n(61235),n(69724),n(39965),n(71756),n(59538),n(79611),n(3959)),s=n(33892),l=n.n(s);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var d=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.PLAINTEXT_CONTENT=1]="PLAINTEXT_CONTENT",e[e.MUSIC_TRACK=2]="MUSIC_TRACK",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({});function p(e){switch(e){case 0:case"UNKNOWN":return d.UNKNOWN;case 1:case"PLAINTEXT_CONTENT":return d.PLAINTEXT_CONTENT;case 2:case"MUSIC_TRACK":return d.MUSIC_TRACK;default:return d.UNRECOGNIZED}}var m={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l().Writer.create();""!==e.version&&t.uint32(10).string(e.version),""!==e.episodeUri&&t.uint32(18).string(e.episodeUri),""!==e.publishedAt&&t.uint32(26).string(e.publishedAt);var n,i=c(e.sections);try{for(i.s();!(n=i.n()).done;){var r=n.value;f.encode(r,t.uint32(34).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}return""!==e.language&&t.uint32(42).string(e.language),!0===e.curated&&t.uint32(48).bool(e.curated),t},decode:function(e,t){for(var n=e instanceof l().Reader?e:new(l().Reader)(e),i=void 0===t?n.len:n.pos+t,r={version:"",episodeUri:"",publishedAt:"",sections:[],language:"",curated:!1};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.version=n.string();break;case 2:r.episodeUri=n.string();break;case 3:r.publishedAt=n.string();break;case 4:r.sections.push(f.decode(n,n.uint32()));break;case 5:r.language=n.string();break;case 6:r.curated=n.bool();break;default:n.skipType(7&a)}}return r},fromJSON:function(e){return{version:h(e.version)?String(e.version):"",episodeUri:h(e.episodeUri)?String(e.episodeUri):"",publishedAt:h(e.publishedAt)?String(e.publishedAt):"",sections:Array.isArray(null==e?void 0:e.sections)?e.sections.map((function(e){return f.fromJSON(e)})):[],language:h(e.language)?String(e.language):"",curated:!!h(e.curated)&&Boolean(e.curated)}},toJSON:function(e){var t={};return void 0!==e.version&&(t.version=e.version),void 0!==e.episodeUri&&(t.episodeUri=e.episodeUri),void 0!==e.publishedAt&&(t.publishedAt=e.publishedAt),e.sections?t.sections=e.sections.map((function(e){return e?f.toJSON(e):void 0})):t.sections=[],void 0!==e.language&&(t.language=e.language),void 0!==e.curated&&(t.curated=e.curated),t},fromPartial:function(e){var t,n,i,r,a,o,s={version:"",episodeUri:"",publishedAt:"",sections:[],language:"",curated:!1};return s.version=null!==(t=e.version)&&void 0!==t?t:"",s.episodeUri=null!==(n=e.episodeUri)&&void 0!==n?n:"",s.publishedAt=null!==(i=e.publishedAt)&&void 0!==i?i:"",s.sections=(null===(r=e.sections)||void 0===r?void 0:r.map((function(e){return f.fromPartial(e)})))||[],s.language=null!==(a=e.language)&&void 0!==a?a:"",s.curated=null!==(o=e.curated)&&void 0!==o&&o,s}};var f={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l().Writer.create();return 0!==e.type&&t.uint32(8).int32(e.type),0!==e.startMs&&t.uint32(16).int32(e.startMs),void 0!==e.plaintextContent&&v.encode(e.plaintextContent,t.uint32(26).fork()).ldelim(),void 0!==e.musicTrack&&g.encode(e.musicTrack,t.uint32(50).fork()).ldelim(),""!==e.title&&t.uint32(34).string(e.title),void 0!==e.fallback&&v.encode(e.fallback,t.uint32(42).fork()).ldelim(),t},decode:function(e,t){for(var n=e instanceof l().Reader?e:new(l().Reader)(e),i=void 0===t?n.len:n.pos+t,r={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};n.pos<i;){var a=n.uint32();switch(a>>>3){case 1:r.type=n.int32();break;case 2:r.startMs=n.int32();break;case 3:r.plaintextContent=v.decode(n,n.uint32());break;case 6:r.musicTrack=g.decode(n,n.uint32());break;case 4:r.title=n.string();break;case 5:r.fallback=v.decode(n,n.uint32());break;default:n.skipType(7&a)}}return r},fromJSON:function(e){return{type:h(e.type)?p(e.type):0,startMs:h(e.startMs)?Number(e.startMs):0,plaintextContent:h(e.plaintextContent)?v.fromJSON(e.plaintextContent):void 0,musicTrack:h(e.musicTrack)?g.fromJSON(e.musicTrack):void 0,title:h(e.title)?String(e.title):"",fallback:h(e.fallback)?v.fromJSON(e.fallback):void 0}},toJSON:function(e){var t={};return void 0!==e.type&&(t.type=function(e){switch(e){case d.UNKNOWN:return"UNKNOWN";case d.PLAINTEXT_CONTENT:return"PLAINTEXT_CONTENT";case d.MUSIC_TRACK:return"MUSIC_TRACK";default:return"UNKNOWN"}}(e.type)),void 0!==e.startMs&&(t.startMs=Math.round(e.startMs)),void 0!==e.plaintextContent&&(t.plaintextContent=e.plaintextContent?v.toJSON(e.plaintextContent):void 0),void 0!==e.musicTrack&&(t.musicTrack=e.musicTrack?g.toJSON(e.musicTrack):void 0),void 0!==e.title&&(t.title=e.title),void 0!==e.fallback&&(t.fallback=e.fallback?v.toJSON(e.fallback):void 0),t},fromPartial:function(e){var t,n,i,r={type:0,startMs:0,plaintextContent:void 0,musicTrack:void 0,title:"",fallback:void 0};return r.type=null!==(t=e.type)&&void 0!==t?t:0,r.startMs=null!==(n=e.startMs)&&void 0!==n?n:0,r.plaintextContent=void 0!==e.plaintextContent&&null!==e.plaintextContent?v.fromPartial(e.plaintextContent):void 0,r.musicTrack=void 0!==e.musicTrack&&null!==e.musicTrack?g.fromPartial(e.musicTrack):void 0,r.title=null!==(i=e.title)&&void 0!==i?i:"",r.fallback=void 0!==e.fallback&&null!==e.fallback?v.fromPartial(e.fallback):void 0,r}};var v={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l().Writer.create(),i=c(e.plaintext);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.uint32(10).string(r)}}catch(e){i.e(e)}finally{i.f()}return n},decode:function(e,t){for(var n=e instanceof l().Reader?e:new(l().Reader)(e),i=void 0===t?n.len:n.pos+t,r={plaintext:[]};n.pos<i;){var a=n.uint32();if(a>>>3==1)r.plaintext.push(n.string());else n.skipType(7&a)}return r},fromJSON:function(e){return{plaintext:Array.isArray(null==e?void 0:e.plaintext)?e.plaintext.map((function(e){return String(e)})):[]}},toJSON:function(e){var t={};return e.plaintext?t.plaintext=e.plaintext.map((function(e){return e})):t.plaintext=[],t},fromPartial:function(e){var t,n={plaintext:[]};return n.plaintext=(null===(t=e.plaintext)||void 0===t?void 0:t.map((function(e){return e})))||[],n}};var g={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l().Writer.create();return""!==e.uri&&t.uint32(10).string(e.uri),t},decode:function(e,t){for(var n=e instanceof l().Reader?e:new(l().Reader)(e),i=void 0===t?n.len:n.pos+t,r={uri:""};n.pos<i;){var a=n.uint32();if(a>>>3==1)r.uri=n.string();else n.skipType(7&a)}return r},fromJSON:function(e){return{uri:h(e.uri)?String(e.uri):""}},toJSON:function(e){var t={};return void 0!==e.uri&&(t.uri=e.uri),t},fromPartial:function(e){var t,n={uri:""};return n.uri=null!==(t=e.uri)&&void 0!==t?t:"",n}};function h(e){return null!=e}function k(e){var t,n,i;return e.type===d.MUSIC_TRACK?{type:"track",startMs:e.startMs,content:(null===(n=e.fallback)||void 0===n?void 0:n.plaintext)||[],trackUri:null===(i=e.musicTrack)||void 0===i?void 0:i.uri}:{type:"text",startMs:e.startMs,content:(null===(t=e.plaintextContent)||void 0===t?void 0:t.plaintext)||[]}}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)(a().mark((function e(t){var n,i,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{});case 3:if(!(n=e.sent).ok||!n.body){e.next=11;break}return e.next=7,n.arrayBuffer();case 7:return i=e.sent,r=m.decode(new Uint8Array(i)),o=r.sections.map(k),e.abrupt("return",o);case 11:return e.abrupt("return",null);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}l().util.Long!==o.Z&&(l().util.Long=o.Z,l().configure())},18255:(e,t,n)=>{"use strict";n.d(t,{$_:()=>r,Ey:()=>u,WY:()=>o,it:()=>l,l6:()=>c,sY:()=>a,xr:()=>s});var i=n(83474),r=function(e){return e.Audio="AUDIO",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({}),a=function(e){return e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.NotStarted="NOT_STARTED",e}({}),o=function(e){return e.AgeRestricted="AGE_RESTRICTED",e.Anonymous="ANONYMOUS",e.CatalogueRestricted="CATALOGUE_RESTRICTED",e.CountryRestricted="COUNTRY_RESTRICTED",e.Explicit="EXPLICIT",e.PaymentRequired="PAYMENT_REQUIRED",e.Playable="PLAYABLE",e.Unavailable="UNAVAILABLE",e.Unknown="UNKNOWN",e}({}),s=function(e){return e.RestrictedContent="Restricted content",e.Generic="Error while requesting the show metadata",e}({}),l=function(e){return e.UNKNOWN="unknown",e.TRAILER="trailer",e.CONTINUE_LISTENING="continue-listening",e.LATEST_PUBLISHED="latest-published",e.UP_NEXT="up-next",e.FIRST_PUBLISHED="first-published",e}({});function c(e){return e.type===i.p.AUDIOBOOK}function u(e){return e.type===i.p.CHAPTER}},35644:(e,t,n)=>{"use strict";n.d(t,{ld:()=>p,sV:()=>m,YS:()=>g,XU:()=>S,om:()=>d,rB:()=>w});var i=n(83014),r=(n(162),n(30246),n(62780),n(22369),n(61235),n(69724),n(92346),n(69109),n(90511),n(40265),n(17249)),a=n(24511),o=n(41084),s=n(83474),l=n(18255),c="recent",u=n(63798);function d(e){return{totalCount:e.totalCount,nextOffset:e.pagingInfo.nextOffset,items:e.items.map((function(e){return"Episode"!==e.entity.data.__typename?null:g(e.entity.data)}))}}function p(e,t){return{totalCount:e.totalCount,nextOffset:e.pagingInfo.nextOffset,items:e.items.map((function(e){return"Chapter"===e.entity.data.__typename?h(e.entity.data,t):null}))}}function m(e,t){return"Chapter"===e.__typename?h(e,t):g(e)}function f(e){switch(e){case a.Ku.AgeRestricted:return l.WY.AgeRestricted;case a.Ku.CatalogueRestricted:return l.WY.CatalogueRestricted;case a.Ku.CountryRestricted:return l.WY.CountryRestricted;case a.Ku.Explicit:return l.WY.Explicit;case a.Ku.PaymentRequired:return l.WY.PaymentRequired;case a.Ku.Playable:return l.WY.Playable;case a.Ku.Unavailable:default:return l.WY.Unavailable}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{playable:!t&&e.playable,reason:t?l.WY.Anonymous:f(e.reason)}}function g(e){var t,n,i,r,a,l,c="Podcast"!==(i=e.podcastV2).data.__typename?null:{uri:i.data.uri,name:i.data.name,coverArt:(null===(r=i.data.coverArt)||void 0===r?void 0:r.sources)||[],trailer:(a=i.data.trailerV2,("Episode"===(null==a?void 0:a.data.__typename)?{uri:a.data.uri}:null)||null),showTypes:(i.data.showTypes||[]).filter(k)},u=(0,o.w$)(null==e?void 0:e.restrictions,e.playability);return{type:s.p.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:c,episodeType:e.type,mediaTypes:e.mediaTypes,coverArt:(null===(t=e.coverArt)||void 0===t?void 0:t.sources)||[],audio:e.audio,releaseDate:(l=e.releaseDate,l?{isoString:l.isoString}:null),playedState:e.playedState,playability:v(e.playability),audioPreview:e.audioPreview,sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:0,podcastSubscription:u,contentInformation:e.contentInformation,transcript:(null===(n=e.transcripts)||void 0===n?void 0:n.items)||null}}function h(e,t){var n,i,r;return{type:s.p.CHAPTER,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],audio:e.audio,playedState:e.playedState,audioPreview:e.audioPreview,sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,playability:v(e.playability,t),book:x(e.audiobookV2),isExplicit:(null===(i=e.contentRating)||void 0===i?void 0:i.label)===a.KS.Explicit,is19PlusOnly:(null===(r=e.contentRating)||void 0===r?void 0:r.label)===a.KS.NineteenPlus}}function k(e){return!!e}function y(e){return Boolean(e)}function b(e){var t,n,i=null===(t=e.nextBestEpisodes.items.sort((function(e,t){return t.score-e.score}))[0])||void 0===t?void 0:t.item.data;if("Episode"===(null==i?void 0:i.__typename)){var r="Episode"===(null===(n=e.trailerV2)||void 0===n?void 0:n.data.__typename)?e.trailerV2.data.uri:null;return{type:i.uri===r?l.it.TRAILER:i.playedState.state===a.sY.InProgress?l.it.CONTINUE_LISTENING:l.it.UP_NEXT,data:g(i)}}}function S(e){var t,n,i,r,a,o,l="Episode"===(null===(t=e.trailerV2)||void 0===t?void 0:t.data.__typename)?(a=e.trailerV2.data,{type:s.p.EPISODE,uri:a.uri,name:a.name,coverArt:(null===(o=a.coverArt)||void 0===o?void 0:o.sources)||[],audio:a.audio,audioPreview:a.audioPreview,sharingInfo:a.sharingInfo,duration:{milliseconds:a.duration.totalMilliseconds},contentRating:a.contentRating}):null;return{type:s.p.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],trailer:l,topics:e.topics.items,podcastType:e.musicAndTalk?"SHOW":"PODCAST",showTypes:(e.showTypes||[]).filter(k),publisherName:(null===(i=e.publisher)||void 0===i?void 0:i.name)||"",consumptionOrder:c,nextBestEpisode:b(e),gatedContentAccessReason:(0,u.S)(null==e||null===(r=e.accessInfo)||void 0===r?void 0:r.unlockedBy)}}function x(e){var t;if("Audiobook"!==e.data.__typename)return null;var n,i,r=e.data;return{uri:r.uri,name:r.name,coverArt:(null===(t=r.coverArt)||void 0===t?void 0:t.sources)||[],trailer:(n=r,"Chapter"===(null===(i=n.trailerV2)||void 0===i?void 0:i.data.__typename)?{uri:n.trailerV2.data.uri}:null)}}function O(e){var t,n;return"ConsumptionCappedAccessExplanation"===(null==e||null===(t=e.accessInfo)||void 0===t||null===(n=t.accessExplanation)||void 0===n?void 0:n.__typename)?{title:e.accessInfo.accessExplanation.title||"",body:e.accessInfo.accessExplanation.body||"",cta:e.accessInfo.accessExplanation.actionText||""}:null}function w(e,t){return"Audiobook"===e.__typename?function(e,t){var n,o,l,c,d,p,m,f,v,g,h,k,b,S,x,w,N,_,E,C;return{type:s.p.AUDIOBOOK,uri:e.uri,name:e.name,coverArt:null!==(n=null===(o=e.coverArt)||void 0===o?void 0:o.sources)&&void 0!==n?n:[],narrators:null!==(l=null===(c=e.narrators)||void 0===c?void 0:c.map((function(e){return null==e?void 0:e.name})).filter(y))&&void 0!==l?l:[],sample:"Chapter"===(null===(d=e.trailerV2)||void 0===d?void 0:d.data.__typename)?(E=e.trailerV2.data,{type:s.p.CHAPTER,uri:E.uri,name:E.name,coverArt:(null===(C=E.coverArt)||void 0===C?void 0:C.sources)||[],audio:E.audio,audioPreview:E.audioPreview,sharingInfo:E.sharingInfo,duration:{milliseconds:E.duration.totalMilliseconds},contentRating:E.contentRating,isPlayable:E.playability.playable}):null,htmlDescription:null!==(p=e.htmlDescription)&&void 0!==p?p:"",htmlDescriptionPlain:null!==(m=e.htmlDescriptionPlain)&&void 0!==m?m:"",authorName:null!==(f=null===(v=e.authors)||void 0===v?void 0:v.map((function(e){return null==e?void 0:e.name})).filter(Boolean).join(r.ag.getSeparator()))&&void 0!==f?f:"",rating:e.rating,isExplicit:(null===(g=e.contentRating)||void 0===g?void 0:g.label)===a.KS.Explicit,duration:null!==(h=null===(k=e.duration)||void 0===k?void 0:k.totalMilliseconds)&&void 0!==h?h:0,copyrights:e.publisher?(x=e.publisher.name,w=e.copyright,[(N=x,_="P",{text:N,type:_})].concat((0,i.Z)(w.items))):[],publishDate:e.publishDate?new Date(e.publishDate.isoString):null,price:e.price,isLocked:!!t||!1===(null===(b=e.accessInfo)||void 0===b?void 0:b.isUserMemberOfAtLeastOneGroup),consumptionCapExplanation:O(e),gatedContentAccessReason:(0,u.S)(null===(S=e.accessInfo)||void 0===S?void 0:S.unlockedBy)}}(e,t):S(e)}},66687:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,q:()=>r});var i=function(e){return e[e.HIGH=.25]="HIGH",e[e.LOW=.1]="LOW",e[e.SING_ALONG_OFF=.99999]="SING_ALONG_OFF",e}({}),r=function(e){return e.ENABLED="enabled",e.DISABLED="disabled",e}({})},737:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,E:()=>o});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(null),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(null===e)throw new Error("useSingAlongAPI must be used within a SingAlongAPIProvider");return e}},8632:(e,t,n)=>{"use strict";n.d(t,{Kw:()=>o,OT:()=>a,Od:()=>s,T5:()=>u,Zs:()=>d,cT:()=>c,mK:()=>l,nW:()=>p});n(90511),n(162),n(30246),n(82088),n(69109);var i=n(24511),r=n(62823),a=function(e){var t=e.albumArtists,n=e.albumName,a=e.albumType,o=e.shouldLocalize,s=e.i18n;if(!a||!n||!t)return"";var l=a!==i.VZ.Ep?function(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)}(a):a,c=(0,r.R)(a),u="".concat(n," - ").concat(l," by ").concat(t," | Spotify"),d=s.get("i18n.meta.album.title",n,c,t);return o?d:u},o=function(e){var t=e.artistName;return t?"".concat(t," | Spotify"):""},s=function(e){var t=e.showOrAudiobookName,n=e.type,i=e.isVideoPodcastShowTitleTagEnabled;return t?void 0!==i&&i&&"Podcast"===n?"".concat(t," | Video ").concat(n," on Spotify"):"".concat(t," | ").concat(n," on Spotify"):""},l=function(e){var t=e.episodeOrChapterName,n=e.showOrAudiobookName,i=e.type;return t&&n?"".concat(t," - ").concat(n," | ").concat(i," on Spotify"):""},c=function(e){var t=e.genreName;return t?"".concat(t," | Spotify"):""},u=function(e){var t=e.playlistName,n=e.userName,i=e.isSpotifyOwned,r=void 0!==i&&i;if(!t||!n)return"";var a=r?"Spotify Playlist":"Spotify",o=r?"":" - playlist by ".concat(n);return"".concat(t).concat(o," | ").concat(a)},d=function(e){var t=e.i18n,n=e.trackArtistsList,i=e.trackName,r=e.shouldLocalize;if(!n||!i)return"";var a="".concat(i," - song and lyrics by ").concat(n," | Spotify"),o=t.get("i18n.meta.track-lyrics.title",i,n);return r?o:a},p=function(e){var t=e.i18n,n=e.shouldLocalize,i=t.get("i18n.meta.home.title");return n?i:"Spotify - Web Player: Music for everyone"}},11721:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,k:()=>a});n(59538),n(79611);var i=null;function r(e){i=e}function a(){if(null===i)throw new Error("Missing `instance`. Have you called `setTransportInstance` yet?");return i}},85865:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var i=n(8850),r=n(10995),a=n.n(r);n(59538),n(79611),n(37193),n(40265);function o(e){return(0,i.Z)(a().mark((function t(){var n,i,r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(null!==(n=t.sent)){t.next=5;break}throw new Error("Token is currently unavailable.");case 5:return i=n.accessToken,r=n.accessTokenExpirationTimestampMs,o=Math.floor(((r||0)-Date.now())/1e3),t.abrupt("return",[i,o]);case 8:case"end":return t.stop()}}),t)})))}},3674:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(85865);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={disconnectBeforeUnload:!0,reconnectionRetries:3,requestMode:"fetch"};function l(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e(o(o({providers:{endpoints:t,token:(0,r.V)(n)}},s),i))}},50833:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var i=n(8850),r=n(10995),a=n.n(r),o=(n(69109),n(94562),n(22369),n(8760),n(59538),n(79611),n(39975),n(16366),n(31781),n(68861)),s="https://apresolve.spotify.com/",l="https://api.spotify.com/",c=function(e){return e.DEALER="dealer",e.WEBGATE="spclient",e}(c||{});var u=3e3;function d(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).timeout,t=function(e){var t="".concat(s,"?type=").concat(c.DEALER,"&type=").concat(c.WEBGATE);return(0,i.Z)(a().mark((function n(){var i,r,o,s,u,d,p,m;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new AbortController,r=setTimeout((function(){return i.abort()}),e),n.prev=2,n.next=5,fetch(t,{signal:i.signal});case 5:return s=n.sent,clearTimeout(r),n.next=9,s.json();case 9:o=n.sent,n.next=17;break;case 12:if(n.prev=12,n.t0=n.catch(2),!i.signal.aborted){n.next=16;break}throw new Error("x-resolve request timed out after ".concat(e," ms"));case 16:throw n.t0;case 17:if(Array.isArray(o[c.DEALER])&&Array.isArray(o[c.WEBGATE])&&0!==o[c.DEALER].length&&0!==o[c.WEBGATE].length){n.next=19;break}throw new Error("x-resolve responded with incomplete results");case 19:return u=o[c.DEALER][0],d=o[c.WEBGATE][0],p="wss://".concat(u.replace(/:443$/,"")),m="https://".concat(d.replace(/:443$/,"")),n.abrupt("return",{dealer:p,webgate:m,webapi:l});case 24:case"end":return n.stop()}}),n,null,[[2,12]])})))}(void 0===e?u:e),n=(0,o.Q)({});return function(){var e=(0,i.Z)(a().mark((function e(i){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(i);case 3:case 11:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("Failed to resolve endpoints via x-resolve. Using fallbacks!",e.t0),e.next=11,n(i);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}},97209:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===e?t:a(a({},e),t)}},78978:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var i=n(27915),r=n(92449),a=n(45389),o=(n(96807),n(162),n(98853),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(84435));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(){function e(t,n){(0,i.Z)(this,e),(0,a.Z)(this,"formatUiNavigateEvent",(function(e){var t,n,i=null===(t=e.actionParameterNames)||void 0===t?void 0:t.findIndex((function(e){return"destination"===e}));return void 0===i||-1===i?e:l(l({},e),{},{actionParameterValues:null===(n=e.actionParameterValues)||void 0===n?void 0:n.map((function(e,t){var n;return t!==i?e:null!==(n=(0,o.S)(e))&&void 0!==n?n:""}))})})),this.ubiLogger=t,this.isAuthenticated=n}return(0,r.Z)(e,[{key:"logInteraction",value:function(e){var t,n=this.isAuthenticated?this.ubiLogger.logInteraction.bind(this.ubiLogger):this.ubiLogger.logNonAuthInteraction.bind(this.ubiLogger),i=null!==(t=this.ubiLogger.getPageInstanceId())&&void 0!==t?t:void 0;if("ui_navigate"!==e.actionName)return{interactionId:n(e),pageInstanceId:i};var r=this.formatUiNavigateEvent(e),a=n(r);return this.interaction={id:a,event:r},{interactionId:a,pageInstanceId:i}}},{key:"logImpression",value:function(e){return this.isAuthenticated?this.ubiLogger.logImpression(e):this.ubiLogger.logNonAuthImpression(e)}},{key:"logNavigation",value:function(e){this.isAuthenticated&&(this.ubiLogger.logNavigationStart(e),this.ubiLogger.logNavigationEnd({pageId:e.pageId,entityUri:e.entityUri}),this.interaction=void 0)}},{key:"getInteractionId",value:function(e){var t,n;if(this.interaction){var i=this.interaction,r=i.event,a=i.id,o=null===(t=r.actionParameterNames)||void 0===t?void 0:t.findIndex((function(e){return"destination"===e}));if(void 0!==o&&-1!==o){var s=null===(n=r.actionParameterValues)||void 0===n?void 0:n[o];if(s&&s===e)return a;0}}}}]),e}()},97576:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,d:()=>o});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(void 0),o=function(e){var t=e.value,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(void 0===e)throw new Error("useUBIEventLocation() must be used within a UBIEventLocationContextProvider");return e}},42947:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(59496),r=n(97576),a=n(4637),o=i.memo((function(e){var t=e.spec,n=e.children,o=(0,i.useMemo)((function(){var e;return null!==(e=null==t?void 0:t.getAbsoluteLocation())&&void 0!==e?e:null}),[t]);return(0,a.jsx)(r.d,{value:o,children:n})}))},15539:(e,t,n)=>{"use strict";n.d(t,{Pr:()=>c,m9:()=>l});var i=n(59496),r=n(35009),a=n(70128),o=n(4637),s=(0,i.createContext)(void 0),l=function(e){var t=e.children,n=(0,a.$)(),l=(0,i.useMemo)((function(){return new r.W(n)}),[n]);return(0,o.jsx)(s.Provider,{value:l,children:t})},c=function(){return(0,i.useContext)(s)}},70128:(e,t,n)=>{"use strict";n.d(t,{$:()=>s,a:()=>o});n(59538),n(79611);var i=n(59496),r=n(4637),a=(0,i.createContext)(void 0),o=function(e){var t=e.instance,n=e.children;return(0,r.jsx)(a.Provider,{value:t,children:n})},s=function(){var e=(0,i.useContext)(a);if(void 0===e)throw new Error("useUBILogger() must be used within a UBILoggerContextProvider");return e}},20188:(e,t,n)=>{"use strict";n.d(t,{d0:()=>i.d,Nh:()=>u.N,aH:()=>r.a,Wi:()=>c,$P:()=>r.$,fU:()=>a.f});var i=n(97576),r=n(70128),a=n(10862),o=n(59496),s=n(15539),l=n(72102),c=function(e){var t=(0,s.Pr)(),n=(0,o.useRef)(null),i=(0,o.useMemo)((function(){return null==e?void 0:e.impression()}),[e]);return(0,l.KW)((function(){if(n.current&&t&&i)return t.addToObservableEntities({impression:function(){return i},element:n.current})||void 0}),[t,i]),(0,o.useCallback)((function(e){n.current=e}),[])},u=n(42947)},46700:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var i=n(10862),r=n(8150),a=function(e){return(0,i.f)(r.M,{data:{uri:e}})}},10862:(e,t,n)=>{"use strict";n.d(t,{f:()=>d});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),a=n(72102),o=n(97576),s=n(70128),l=n(42947);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e,t){var n=(0,s.$)(),i=(0,o.$)(),c=(0,a.NY)((function(){var e;return u(u({},t),{},{parentAbsoluteLocation:null!==(e=t.parentAbsoluteLocation)&&void 0!==e?e:i})}),[t,i]);return{spec:(0,r.useMemo)((function(){return e(c)}),[e,c]),logger:n,UBIFragment:l.N}}},84435:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});n(83001),n(22369),n(82),n(27639),n(71756),n(16366),n(31781),n(79611),n(40265),n(46743);var i=n(59272),r=new Set([i.JM.ALBUM,i.JM.ARTIST,i.JM.PLAYLIST,i.JM.PLAYLIST_V2,i.JM.TRACK,i.JM.EPISODE,i.JM.SHOW,i.JM.LOCAL_TRACK]),a=function(e){var t,n=(0,i.EC)(e);if(n){if((0,i.Ue)(n))return r.has(n.id)?n.toString().replace(":app:",":"):n.toString();if(r.has(n.type))return n.toString();var a=n.args||n.query&&[n.query]||n.category&&[n.category]||void 0,o=(0,i.vU)(n.type,a);return null!==(t=null==o?void 0:o.toString())&&void 0!==t?t:void 0}}},51770:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});n(59538),n(79611);var i=n(59272);function r(e){var t=(0,i.EC)(e);if(null===t||void 0===t.username)throw new Error("Invalid URI or URI does not contain username!");return t.username}},27443:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,p:()=>i});var i=function(e){return"/genre/".concat(e)},r=function(e){var t=e.split("/");return t[t.length-1]}},40946:(e,t,n)=>{"use strict";n.d(t,{bC:()=>c,ge:()=>u,k1:()=>o});var i,r=n(45389),a=(n(69109),n(17249)),o=(i={},(0,r.Z)(i,a.go.en,{displayName:"English",displayNameEn:"English"}),(0,r.Z)(i,a.go.af,{displayName:"Afrikaans",displayNameEn:"Afrikaans"}),(0,r.Z)(i,a.go.am,{displayName:"አማርኛ",displayNameEn:"Amharic"}),(0,r.Z)(i,a.go.ar,{displayName:"العَرَبِيَّة",displayNameEn:"Arabic",isRTL:!0}),(0,r.Z)(i,a.go.arEG,{displayName:"عربي مصري",displayNameEn:"Arabic (Egypt)",isRTL:!0}),(0,r.Z)(i,a.go.arMA,{displayName:"عربي مغربي",displayNameEn:"Arabic (Morocco)",isRTL:!0}),(0,r.Z)(i,a.go.arSA,{displayName:"عربي سعودي",displayNameEn:"Arabic (Saudi Arabia)",isRTL:!0}),(0,r.Z)(i,a.go.az,{displayName:"Azərbaycanca",displayNameEn:"Azerbaijani"}),(0,r.Z)(i,a.go.bg,{displayName:"Български",displayNameEn:"Bulgarian"}),(0,r.Z)(i,a.go.bho,{displayName:"भोजपुरी",displayNameEn:"Bhojpuri"}),(0,r.Z)(i,a.go.bn,{displayName:"বাংলা",displayNameEn:"Bengali"}),(0,r.Z)(i,a.go.bs,{displayName:"Bosanski",displayNameEn:"Bosnian"}),(0,r.Z)(i,a.go.ca,{displayName:"Català",displayNameEn:"Catalan"}),(0,r.Z)(i,a.go.cs,{displayName:"Čeština",displayNameEn:"Czech"}),(0,r.Z)(i,a.go.da,{displayName:"Dansk",displayNameEn:"Danish"}),(0,r.Z)(i,a.go.de,{displayName:"Deutsch",displayNameEn:"German"}),(0,r.Z)(i,a.go.el,{displayName:"Eλληνικά",displayNameEn:"Greek"}),(0,r.Z)(i,a.go.enGB,{displayName:"English (United Kingdom)",displayNameEn:"English (United Kingdom)"}),(0,r.Z)(i,a.go.es,{displayName:"Español de España",displayNameEn:"European Spanish"}),(0,r.Z)(i,a.go.esAR,{displayName:"Español (Argentina)",displayNameEn:"Spanish (Argentina)"}),(0,r.Z)(i,a.go.esMX,{displayName:"Español (México)",displayNameEn:"Spanish (Mexico)"}),(0,r.Z)(i,a.go.es419,{displayName:"Español de Latinoamérica",displayNameEn:"Latin American Spanish"}),(0,r.Z)(i,a.go.et,{displayName:"Eesti",displayNameEn:"Estonian"}),(0,r.Z)(i,a.go.eu,{displayName:"Euskara",displayNameEn:"Basque"}),(0,r.Z)(i,a.go.fa,{displayName:"فارسی",displayNameEn:"Persian",isRTL:!0}),(0,r.Z)(i,a.go.fi,{displayName:"Suomeksi",displayNameEn:"Finnish"}),(0,r.Z)(i,a.go.fil,{displayName:"Filipino",displayNameEn:"Filipino"}),(0,r.Z)(i,a.go.fr,{displayName:"Français",displayNameEn:"French"}),(0,r.Z)(i,a.go.frCA,{displayName:"Français Canadien",displayNameEn:"Canadian French"}),(0,r.Z)(i,a.go.gl,{displayName:"Galego",displayNameEn:"Galician"}),(0,r.Z)(i,a.go.gu,{displayName:"ગુજરાતી",displayNameEn:"Gujarati"}),(0,r.Z)(i,a.go.he,{displayName:"עברית",displayNameEn:"Hebrew",isRTL:!0}),(0,r.Z)(i,a.go.hi,{displayName:"हिन्दी",displayNameEn:"Hindi"}),(0,r.Z)(i,a.go.hr,{displayName:"Hrvatski",displayNameEn:"Croatian"}),(0,r.Z)(i,a.go.hu,{displayName:"Magyar",displayNameEn:"Hungarian"}),(0,r.Z)(i,a.go.id,{displayName:"Bahasa Indonesia",displayNameEn:"Indonesian"}),(0,r.Z)(i,a.go.is,{displayName:"Íslenska",displayNameEn:"Icelandic"}),(0,r.Z)(i,a.go.it,{displayName:"Italiano",displayNameEn:"Italian"}),(0,r.Z)(i,a.go.ja,{displayName:"日本語",displayNameEn:"Japanese"}),(0,r.Z)(i,a.go.kn,{displayName:"ಕನ್ನಡ",displayNameEn:"Kannada"}),(0,r.Z)(i,a.go.ko,{displayName:"한국어",displayNameEn:"Korean"}),(0,r.Z)(i,a.go.lt,{displayName:"Lietuvių",displayNameEn:"Lithuanian"}),(0,r.Z)(i,a.go.lv,{displayName:"Latviešu",displayNameEn:"Latvian"}),(0,r.Z)(i,a.go.mk,{displayName:"Македонски",displayNameEn:"Macedonian"}),(0,r.Z)(i,a.go.ml,{displayName:"മലയാളം",displayNameEn:"Malayalam"}),(0,r.Z)(i,a.go.mr,{displayName:"मराठी",displayNameEn:"Marathi"}),(0,r.Z)(i,a.go.ms,{displayName:"Melayu",displayNameEn:"Malay"}),(0,r.Z)(i,a.go.nb,{displayName:"Norsk",displayNameEn:"Norwegian"}),(0,r.Z)(i,a.go.ne,{displayName:"नेपाली",displayNameEn:"Nepali"}),(0,r.Z)(i,a.go.nl,{displayName:"Nederlands",displayNameEn:"Dutch"}),(0,r.Z)(i,a.go.or,{displayName:"ଓଡ଼ିଆ",displayNameEn:"Odia"}),(0,r.Z)(i,a.go.paIN,{displayName:"ਪੰਜਾਬੀ",displayNameEn:"Punjabi"}),(0,r.Z)(i,a.go.paPK,{displayName:"پنجابی",displayNameEn:"Punjabi",isRTL:!0}),(0,r.Z)(i,a.go.pl,{displayName:"Polski",displayNameEn:"Polish"}),(0,r.Z)(i,a.go.ptBR,{displayName:"Português do Brasil",displayNameEn:"Brazilian Portuguese"}),(0,r.Z)(i,a.go.ptPT,{displayName:"Português",displayNameEn:"European Portuguese"}),(0,r.Z)(i,a.go.ro,{displayName:"Română",displayNameEn:"Romanian"}),(0,r.Z)(i,a.go.ru,{displayName:"Русский",displayNameEn:"Russian"}),(0,r.Z)(i,a.go.sk,{displayName:"Slovenčina",displayNameEn:"Slovak"}),(0,r.Z)(i,a.go.sl,{displayName:"Slovenski",displayNameEn:"Slovenian"}),(0,r.Z)(i,a.go.sr,{displayName:"Srpski",displayNameEn:"Serbian"}),(0,r.Z)(i,a.go.sv,{displayName:"Svenska",displayNameEn:"Swedish"}),(0,r.Z)(i,a.go.sw,{displayName:"Kiswahili",displayNameEn:"Swahili"}),(0,r.Z)(i,a.go.ta,{displayName:"தமிழ்",displayNameEn:"Tamil"}),(0,r.Z)(i,a.go.te,{displayName:"తెలుగు",displayNameEn:"Telugu"}),(0,r.Z)(i,a.go.th,{displayName:"ภาษาไทย",displayNameEn:"Thai"}),(0,r.Z)(i,a.go.tr,{displayName:"Türkçe",displayNameEn:"Turkish"}),(0,r.Z)(i,a.go.uk,{displayName:"Українська",displayNameEn:"Ukrainian"}),(0,r.Z)(i,a.go.ur,{displayName:"اردو",displayNameEn:"Urdu",isRTL:!0}),(0,r.Z)(i,a.go.vi,{displayName:"Tiếng Việt",displayNameEn:"Vietnamese"}),(0,r.Z)(i,a.go.zhCN,{displayName:"简体中文",displayNameEn:"Simplified Chinese"}),(0,r.Z)(i,a.go.zhHK,{displayName:"繁體中文 (香港)",displayNameEn:"Chinese (Traditional) Hong Kong"}),(0,r.Z)(i,a.go.zhTW,{displayName:"中文",displayNameEn:"Traditional Chinese"}),(0,r.Z)(i,a.go.zu,{displayName:"IsiZulu",displayNameEn:"Zulu"}),i),s=[a.go.en,a.go.af,a.go.am,a.go.ar,a.go.az,a.go.bg,a.go.bho,a.go.bn,a.go.ca,a.go.cs,a.go.da,a.go.de,a.go.el,a.go.es,a.go.es419,a.go.et,a.go.fa,a.go.fi,a.go.fil,a.go.fr,a.go.frCA,a.go.gu,a.go.he,a.go.hi,a.go.hr,a.go.hu,a.go.id,a.go.is,a.go.it,a.go.ja,a.go.kn,a.go.ko,a.go.lt,a.go.lv,a.go.ml,a.go.mr,a.go.ms,a.go.nb,a.go.ne,a.go.nl,a.go.or,a.go.paIN,a.go.paPK,a.go.pl,a.go.ptBR,a.go.ptPT,a.go.ro,a.go.ru,a.go.sk,a.go.sl,a.go.sr,a.go.sv,a.go.sw,a.go.ta,a.go.te,a.go.th,a.go.tr,a.go.uk,a.go.ur,a.go.vi,a.go.zhCN,a.go.zhTW,a.go.zu],l=[a.go.arEG,a.go.arMA,a.go.arSA,a.go.bs,a.go.enGB,a.go.esAR,a.go.esMX,a.go.eu,a.go.gl,a.go.zhHK,a.go.mk],c=[].concat(s),u=[].concat(s);[].concat(s,l)},24511:(e,t,n)=>{"use strict";n.d(t,{$C:()=>f,$_:()=>c,Cl:()=>k,JI:()=>y,KS:()=>s,Ku:()=>g,Le:()=>h,Mw:()=>v,RR:()=>x,VQ:()=>l,VZ:()=>i,Wf:()=>d,Yk:()=>r,bm:()=>m,dm:()=>p,p2:()=>a,sY:()=>u,t:()=>b,uh:()=>S,xN:()=>o});var i=function(e){return e.Album="ALBUM",e.Audiobook="AUDIOBOOK",e.Compilation="COMPILATION",e.Ep="EP",e.Podcast="PODCAST",e.Single="SINGLE",e.Unknown="UNKNOWN",e}({}),r=function(e){return e.Autobiography="AUTOBIOGRAPHY",e.Biography="BIOGRAPHY",e}({}),a=function(e){return e.Album="ALBUM",e.Artist="ARTIST",e.Concert="CONCERT",e.Episode="EPISODE",e.ExclusiveMerch="EXCLUSIVE_MERCH",e.Merch="MERCH",e.Other="OTHER",e.Playlist="PLAYLIST",e.Podcast="PODCAST",e.Track="TRACK",e}({}),o=function(e){return e.Albums="ALBUMS",e.Artists="ARTISTS",e.Audiobooks="AUDIOBOOKS",e.Episodes="EPISODES",e.Genres="GENRES",e.Playlists="PLAYLISTS",e.Podcasts="PODCASTS",e.TopResults="TOP_RESULTS",e.Tracks="TRACKS",e.Users="USERS",e}({}),s=function(e){return e.Explicit="EXPLICIT",e.NineteenPlus="NINETEEN_PLUS",e.None="NONE",e.Unknown="UNKNOWN",e}({}),l=function(e){return e.Day="DAY",e.Hour="HOUR",e.Minute="MINUTE",e.Month="MONTH",e.Year="YEAR",e}({}),c=function(e){return e.Audio="AUDIO",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({}),u=function(e){return e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.NotStarted="NOT_STARTED",e}({}),d=function(e){return e.Episode="EPISODE",e.PodcastEpisode="PODCAST_EPISODE",e.Unknown="UNKNOWN",e}({}),p=function(e){return e.LikedSongs="LIKED_SONGS",e.YourEpisodes="YOUR_EPISODES",e}({}),m=function(e){return e.Facebook="FACEBOOK",e.Instagram="INSTAGRAM",e.Other="OTHER",e.Soundbetter="SOUNDBETTER",e.Twitter="TWITTER",e.Wikipedia="WIKIPEDIA",e}({}),f=function(e){return e.Description="DESCRIPTION",e.Guest="GUEST",e.Host="HOST",e.Lyrics="LYRICS",e.Name="NAME",e.UnknownField="UNKNOWN_FIELD",e}({}),v=function(e){return e.FailedItemInFolder="FAILED_ITEM_IN_FOLDER",e.FailedItemLimitReached="FAILED_ITEM_LIMIT_REACHED",e.FailedItemNotSupported="FAILED_ITEM_NOT_SUPPORTED",e.FailedNotInYourLibrary="FAILED_NOT_IN_YOUR_LIBRARY",e.Successful="SUCCESSFUL",e}({}),g=function(e){return e.AgeRestricted="AGE_RESTRICTED",e.CatalogueRestricted="CATALOGUE_RESTRICTED",e.CountryRestricted="COUNTRY_RESTRICTED",e.Explicit="EXPLICIT",e.PaymentRequired="PAYMENT_REQUIRED",e.Playable="PLAYABLE",e.Unavailable="UNAVAILABLE",e.Unknown="UNKNOWN",e}({}),h=function(e){return e.AfterUid="AFTER_UID",e.BeforeUid="BEFORE_UID",e.BottomOfPlaylist="BOTTOM_OF_PLAYLIST",e.TopOfPlaylist="TOP_OF_PLAYLIST",e}({}),k=function(e){return e.Audio="AUDIO",e.Mixed="MIXED",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({}),y=function(e){return e.ContentOnly="CONTENT_ONLY",e.OrganicTraffic="ORGANIC_TRAFFIC",e.OrganicTrafficContentPool="ORGANIC_TRAFFIC_CONTENT_POOL",e}({}),b=function(e){return e.Abp="ABP",e.AnchorPaywall="ANCHOR_PAYWALL",e.AudiobookDirectSales="AUDIOBOOK_DIRECT_SALES",e.AudiobookPromotion="AUDIOBOOK_PROMOTION",e.OapLinking="OAP_LINKING",e.OapOtp="OAP_OTP",e.Unknown="UNKNOWN",e}({}),S=function(e){return e.Album="ALBUM",e.Episode="EPISODE",e.Unknown="UNKNOWN",e.WhatsNewFeedNotification="WHATS_NEW_FEED_NOTIFICATION",e}({}),x=function(e){return e.Hidden="HIDDEN",e.New="NEW",e.Seen="SEEN",e.Unknown="UNKNOWN",e}({})},41084:(e,t,n)=>{"use strict";n.d(t,{p_:()=>_,BH:()=>g,Bq:()=>s,Pv:()=>d,jv:()=>b,Bi:()=>m,NS:()=>p,LO:()=>y,D:()=>l,w$:()=>S,dR:()=>u,x7:()=>k,GD:()=>x,Cf:()=>N,mQ:()=>O,U2:()=>E,R7:()=>a,sW:()=>r,Rn:()=>f,wY:()=>C});var i=n(24511);function r(e){return(null==e?void 0:e.label)===i.KS.Explicit}function a(e){return(null==e?void 0:e.label)===i.KS.NineteenPlus}n(40265),n(80108);var o=n(55590);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===e?(null!=t?t:new Date(0)).toISOString():e.isoString}function l(e){return null===e?null:s(e)}function c(e){var t=null==e?void 0:e.precision;switch(t){case i.VQ.Minute:case i.VQ.Hour:case i.VQ.Day:return"day";case i.VQ.Month:return"month";case i.VQ.Year:case void 0:return"year";default:return(0,o.U)(t)}}function u(e){return{date:s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null),precision:c(e)}}function d(e){return{milliseconds:e.totalMilliseconds}}n(162);function p(e){return null!==e?e.sources.map(m):[]}function m(e){return{url:e.url,width:e.width,height:e.height}}function f(e){var t;return null!==(t=null==e?void 0:e.playable)&&void 0!==t&&t}n(30246);var v=n(83474);function g(e){return e.items.map((function(e){var t=e.uri,n=e.profile.name;return{type:v.p.ARTIST,uri:t,name:n}}))}var h=n(79262);function k(e){switch(e){case i.Cl.Audio:return h.E.AUDIO;case i.Cl.Video:return h.E.VIDEO;case i.Cl.Mixed:return h.E.MIXED;case i.Cl.Unknown:return h.E.UNKNOWN;default:return(0,o.U)(e)}}function y(e){return null!==e?[e.code]:[]}function b(e){var t,n;return{type:v.p.SHOW,uri:e.uri,name:e.name,publisher:null!==(t=null===(n=e.publisher)||void 0===n?void 0:n.name)&&void 0!==t?t:"",images:p(e.coverArt),mediaType:k(e.mediaType)}}function S(e,t){var n,r=null!==(n=null==e?void 0:e.paywallContent)&&void 0!==n&&n,a=t.reason;return{isPaywalled:r,isUserSubscribed:r&&a!==i.Ku.PaymentRequired}}function x(e,t){return{milliseconds:e.totalMilliseconds-t.playPositionMilliseconds}}function O(e){return e.items.map((function(e){var t=e.uri,n=e.profile.name;return{type:v.p.ARTIST,uri:t,name:n}}))}function w(e){var t=e.items;if(0===t.length)return{type:v.p.ARTIST,uri:"",name:""};var n=t[0],i=n.uri,r=n.profile.name;return{type:v.p.ARTIST,uri:i,name:r}}function N(e){return{type:v.p.ALBUM,uri:e.uri,name:e.name,images:p(e.coverArt),artist:w(e.artists)}}n(59538),n(79611),n(69109);function _(e,t,n){if(null!==e&&e.__typename!==t)throw new Error(n||"".concat(e,' is not a "').concat(t,'"'))}function E(e,t){try{!function(e){if(null===e)throw new Error("".concat(e," is `null`"))}(e);for(var n=t.split("."),i=e;n.length;){i=i[n.shift()]}return function(e){if(e.message)throw new Error("".concat(e," is a `PathfinderError`"))}(i),i}catch(e){throw new Error('Could not get "'.concat(t,'"!'))}}function C(e,t,n){try{return E(e,t)}catch(e){return n}}},87824:(e,t,n)=>{"use strict";n.d(t,{Br:()=>h,C:()=>z,CJ:()=>v,Cd:()=>M,DX:()=>k,Gx:()=>O,HX:()=>N,J_:()=>G,Lp:()=>C,NC:()=>q,Nm:()=>W,OC:()=>Q,Pz:()=>g,Qp:()=>S,RC:()=>b,Ro:()=>L,Uk:()=>j,WS:()=>D,XF:()=>R,Xf:()=>T,YS:()=>Y,Zn:()=>K,b5:()=>m,bS:()=>x,bw:()=>d,c$:()=>I,c9:()=>U,dq:()=>A,gO:()=>J,ho:()=>E,iU:()=>P,jM:()=>Z,lQ:()=>p,nv:()=>V,qt:()=>y,r4:()=>w,rS:()=>r,sM:()=>l,sb:()=>f,sz:()=>_,tp:()=>H,wy:()=>F,yg:()=>B});var i=n(65481),r=function(e){return e.DISABLED="DISABLED",e.TWO_USER="TWO_USER",e.MULTI_USER="MULTI_USER",e}({}),a=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),o=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),s=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),l=function(e){return e.DEFAULT="default",e.VARIANTA="varianta",e.VARIANTB="variantb",e}({}),c=function(e){return e.DEFAULT="default",e.VARIANTA="varianta",e.VARIANTB="variantb",e}({}),u=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({}),d=((0,i.JP)({name:"exampleOfSharedPropertyThatDoesNotExist",description:"Example of enabling a propoerty that is shared between Desktop, Mobile and Embed",default:!1}),(0,i.JP)({name:"enableOfflineVideoDev",description:"Enables Spotify videos to be offlined on DesktopX. Used during feature development",default:!1})),p=(0,i.JP)({name:"betamaxWidevineVersionSupported",description:"true if the version of widevine used is still supported.",default:!0}),m=(0,i.JP)({name:"betamaxBoomboxAudioSync",description:"true if video/audio sync is enabled (experimental).",default:!1}),f=(0,i.z8)({name:"betamaxOfflineTargetBitrate",description:"targetBitrate to use when offlining. The closest to this bitrate to this is used.",default:12e5,lower:1e3,upper:1e9}),v=(0,i.JP)({name:"enableBetamaxSdkSubtitlesDesktopX",description:"Enables subtitles setting and rendering subtitles on the betamax SDK on DesktopX",default:!1}),g=(0,i.JP)({name:"enableBetamaxSdkMuxDesktopXDev",description:"Enables MUX library for development on Desktop X",default:!1}),h=((0,i.JP)({name:"enableVideoOnVideoSaiDev",description:"Enables video-on-video SAI on videos Desktop X. Used during feature development",default:!1}),(0,i.JP)({name:"enableBetamaxSdkVmp",description:"Enables client-side widevine VMP (verified media path) on betamax SDK.",default:!1})),k=(0,i.JP)({name:"enableBetamaxSdkVideoOnVideoSai",description:"Enables video-on-video SAI on videos Desktop X",default:!1}),y=(0,i.z8)({name:"betamaxSdkMinimumBuffer",description:"Sets the minimum buffer goal (in seconds) required before starting or resuming playback video on betamax SDK",default:2,upper:8,lower:0}),b=(0,i.z8)({name:"betamaxSdkRetryAttempts",description:"The number of times to retry on network",default:2,upper:100,lower:1}),S=(0,i.JP)({name:"betamaxSdkDataSaverV2",description:"Enables the data saver feature on betamax SDK (linked to the video show/hide controls and close video window)",default:!1}),x=(0,i.z8)({name:"betamaxSdkDataSaverBufferMargin",description:"Sets the amount of buffer in seconds to be kept when disabling data saver (lower = faster variant change)",default:4,upper:100,lower:0}),O=(0,i.JP)({name:"betamaxVideoAutoplay",description:"Enables an alternative method for video autoplay to address Mux metrics",default:!1}),w=(0,i.z8)({name:"betamaxSdkMaxBitrate",description:"Sets the max bitrate cap for adaptive video on betamax SDK (0=disabled)",default:0,upper:1e8,lower:0}),N=(0,i.JP)({name:"enableBetamaxSdkPlayerPool",description:"Enables player pool for betamax SDK",default:!1}),_=(0,i.z8)({name:"betamaxSdkPlayerPoolSize",description:"Sets the player pool size, should it be enabled",default:20,upper:100,lower:0}),E=(0,i.JP)({name:"enableVideoPip",description:"Enables desktop picture-in-picture surface using betamax SDK.",default:!1}),C=(0,i.JP)({name:"enableStreamReportingTracker3",description:"Enables use of the StreamReporting module for video playback",default:!0}),P=(0,i.JP)({name:"showWrappedBanner",description:"Show Wrapped banner on wrapped genre page",default:!1}),I=(0,i.VL)({name:"enableBlendInvitation",description:"Enable users to join Blends through client-web",values:r,default:r.DISABLED}),j=((0,i.JP)({name:"enableLibraryGraphQL",description:"Use the `LibraryGraphQL` implementation using Pathfinder instead of Web API",default:!1}),(0,i.JP)({name:"enableLibraryGraphQLV2",description:"Use the `LibraryGraphQLExperimental` implementation to give some traffic to the YLX backend",default:!1})),A=(0,i.JP)({name:"enableSubtitlesUsingHarmony",description:"Enable subtitles using Harmony",default:!1}),T=(0,i.JP)({name:"enableUriLinks",description:"Enable the `uri_link` type in Web API /views",default:!1}),D=((0,i.VL)({name:"enableI18nRoutes",description:"Enable internationalized routes for all locales in EXPERIMENTAL_INTERNATIONALIZED_LOCALES.",values:a,default:a.DEFAULT}),(0,i.JP)({name:"enableCastConnect",description:"Enable Google's new Cast Connect feature for Android TV from Web Player's Cast Sender implementation",default:!1})),R=((0,i.JP)({name:"enableNewEpisodes",description:"Enable the new episodes view",default:!1}),(0,i.VL)({name:"merchVariantExperiment",description:"Merch shelf re-ordering experiment on Artist Profile Page(A/B/C test)",values:l,default:l.DEFAULT})),F=((0,i.VL)({name:"OnTourVariantExperiment",description:"On Tour shelf re-ordering experiment on Artist Page(A/B/C test)",values:c,default:c.DEFAULT}),(0,i.JP)({name:"enableMerchOnAlbum",description:"Enable merch shelf view on album page",default:!1}),(0,i.JP)({name:"enablePickAndShuffle",description:"Enable pick and shuffle",default:!1})),L=((0,i.JP)({name:"enableNewTicketingSection",description:"Enable New Ticketing section on Concert Event Pages",default:!1}),(0,i.JP)({name:"enableEqualizer",description:"Enable audio equalizer for Desktop and Web Player",default:!1})),M=(0,i.JP)({name:"enableCoreAutoplay",description:"Enable autoplay initiated by the core player rather than a local implementation",default:!1}),U=((0,i.JP)({name:"enableAlbumAndTrackCanonicals",description:"Add rel canonical tags for SEO to non-canonical album and track entity pages",default:!1}),(0,i.JP)({name:"betamaxFilterNegativeDuration",description:"Remove updates to esperanto for duration that is negative",default:!0})),Z=function(e){return e.DEFAULT="DEFAULT",e.MORE_CARDS="MORE_CARDS",e.FEWER_CARDS="FEWER_CARDS",e}({}),B=(0,i.VL)({name:"contentDensity",description:"Change the number of cards that are shown in a gridcontainer",values:Z,default:Z.DEFAULT}),V=((0,i.VL)({name:"enableRTPFeaturedArtists",description:"Enable featured artists rich data on track page",values:o,default:o.DEFAULT}),(0,i.VL)({name:"enableRTPTrackCredits",description:"Enable track credits on track page",values:s,default:s.DEFAULT}),(0,i.JP)({name:"enableUserFraudVerification",description:"Enable user fraud verification",default:!1})),H=((0,i.JP)({name:"enableUserFraudVerificationRequest",description:"Enable the IAV component make api requests",default:!0}),(0,i.JP)({name:"enableConcertsInterested",description:"Enable Save & Retrieve feature for concerts",default:!1})),G=(0,i.JP)({name:"enableConcertsSoldBySpotify",description:'Enable the "Sold by Spotify" tab for concerts',default:!1}),W=((0,i.VL)({name:"enableI18nAdditionalPages",description:"Enable additional internationalized pages beyond initial pages.",values:u,default:u.DEFAULT}),(0,i.JP)({name:"enableUserFraudSignals",description:"Enable user fraud signals",default:!1})),z=(0,i.JP)({name:"enablePlaylistEsperanto",description:"Use the PlaylistEsperanto implementation of the Playlist API",default:!1}),K=function(e){return e.DEFAULT="default",e.CONTROL="control",e.CANONICAL_TOP_POSITION="canonical-top-position",e.CANONICAL_BOTTOM_POSITION="canonical-bottom-position",e.ORGANIC_TOP_POSITION="organic-top-position",e.ORGANIC_BOTTOM_POSITION="organic-bottom-position",e}({}),Y=(0,i.VL)({name:"enableTrackInternalLinkRecommender",description:"Enable internal link recommender component for track entity pages",values:K,default:K.DEFAULT}),q=(0,i.JP)({name:"enableConcertsForThisIsPlaylist",description:"Enable Tour Card on This is Playlist",default:!1}),Q=(0,i.JP)({name:"enableConcertsNearYou",description:"Enable Concerts Near You Playlist",default:!1}),J=(0,i.JP)({name:"enableUserFraudCanvas",description:"Enable user fraud Canvas Fingerprinting",default:!1})},1144:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var i={ALBUM:"ALBUM",AUDIOBOOK:"AUDIOBOOK",EP:"EP",COMPILATION:"COMPILATION",PODCAST:"PODCAST",SINGLE:"SINGLE",UNKNOWN:"UNKNOWN"}},36406:()=>{},58846:()=>{},84211:(e,t,n)=>{"use strict"},83474:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var i=function(e){return e.AD="ad",e.ALBUM="album",e.ARTIST="artist",e.ARTIST_CONCERTS="artist-concerts",e.AUDIOBOOK="audiobook",e.CHAPTER="chapter",e.EPISODE="episode",e.PODCAST_SHORT="podcast-short",e.GENRE="genre",e.VIEW="view",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.RADIO="radio",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown",e.USER="user",e.LIKED_SONGS="liked-songs",e.LOCAL_FILES="local-files",e.YOUR_EPISODES="your-episodes",e.FOLDER="folder",e}({})},79262:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var i=function(e){return e[e.UNKNOWN=-1]="UNKNOWN",e[e.MIXED=0]="MIXED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e}({})},93867:(e,t,n)=>{"use strict";n.d(t,{LyricsMode:()=>r.LyricsMode,NowPlayingCoverStateEnum:()=>r.NowPlayingCoverStateEnum,albumType:()=>o.n});var i=n(58846);n.o(i,"LyricsMode")&&n.d(t,{LyricsMode:function(){return i.LyricsMode}}),n.o(i,"NowPlayingCoverStateEnum")&&n.d(t,{NowPlayingCoverStateEnum:function(){return i.NowPlayingCoverStateEnum}}),n.o(i,"albumType")&&n.d(t,{albumType:function(){return i.albumType}});var r=n(29873);n.o(r,"albumType")&&n.d(t,{albumType:function(){return r.albumType}});n(84211);var a=n(36406);n.o(a,"albumType")&&n.d(t,{albumType:function(){return a.albumType}});var o=n(1144)},36882:()=>{},29873:(e,t,n)=>{"use strict";n.d(t,{LyricsMode:()=>i.f,NowPlayingCoverStateEnum:()=>i.y});var i=n(23197),r=n(36882);n.o(r,"albumType")&&n.d(t,{albumType:function(){return r.albumType}})},23197:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,y:()=>i});var i=function(e){return e.expanded="expanded",e.collapsed="collapsed",e.none="none",e}({}),r=function(e){return e.none="none",e.npv="npv",e.cinema="cinema",e}({})},98328:(e,t,n)=>{"use strict";function i(e){return null!==e}n.d(t,{K:()=>i})},9587:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});n(4302),n(66469),n(31594);var i=function(e){return function(t){return Object.values(e).includes(t)}}},14227:(e,t,n)=>{"use strict";n.d(t,{E:()=>T,$:()=>A});var i=n(45389),r=n(32572),a=(n(22369),n(39723),n(21861),n(27915)),o=n(92449),s=n(35391),l=n(23011),c=n(61899),u=n(59496);const d="wIA_5Ypq0rltNPeZQpM4",p="Swi6YtNEFCCVz8l4y75v",m="pklLPOhfigdytL9bPoth",f="sb24Y8kdMZInJ8aI8dXT";var v=n(4637);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,l.Z)(this,n)}}var h=function(e){(0,s.Z)(n,e);var t=g(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.ariaValueText,n=e.max,i=e.current,r=n&&i?100*Math.min(1,i/n):0,a={transform:"translateX(-".concat(100-r,"%)")},o=t||"".concat(Math.round(r),"%");return(0,v.jsxs)("div",{className:d,role:"progressbar",tabIndex:0,"aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":n,"aria-valuetext":o,children:[(0,v.jsx)("div",{className:p}),(0,v.jsx)("div",{className:m,children:(0,v.jsx)("div",{"":"progressBarFg",className:f,style:a})})]})}}]),n}(u.PureComponent);(0,i.Z)(h,"defaultProps",{current:0,max:1});const k=h,y="qfYkuLpETFW3axnfMntO",b="jOd7lbjiyc_kvRJaAbeL",S="_q93agegdE655O5zPz6l",x="z7Yl7CIT1AB0y91f_moh",O="iLIlkUcfIq56KncGtX7u",w="nV50yZ6BR_TIuWP3l7b1",N="qLjIx_SzBEpDRA_q7kxQ";var _=n(10506),E=n(89597),C=n(17249),P=n(84875),I=n.n(P),j=n(20872),A=function(e){return e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL",e}({}),T=function(e){var t=e.resumePositionMs,n=void 0===t?0:t,a=e.releaseDate,o=e.isPlaying,s=e.fullyPlayed,l=e.durationMs,c=e.size,u=void 0===c?A.SMALL:c,d=e.position,p=void 0===d?n:d,m=e.compactVariant,f=void 0!==m&&m;return(0,v.jsxs)("div",{className:I()(y,(0,i.Z)({},b,u===A.LARGE)),children:[a?(0,v.jsx)(_.D,{as:"p",variant:"mesto",className:S,children:(0,r.rL)((0,r.RX)(a))}):null,function(){if(s&&!o)return(0,v.jsxs)("div",{className:O,children:[(0,v.jsx)(_.D,{as:"p",variant:"mesto",className:x,children:C.ag.get("episode.played")}),(0,v.jsx)(E.N,{iconSize:16,className:N,"aria-hidden":"true"})]});if(p>0||o){var e=Math.ceil(Math.max(l-p,0));return(0,v.jsx)("div",{className:O,children:(0,v.jsx)(_.D,{as:"p",variant:"mesto",className:x,children:(0,v.jsx)(j.ng,{durationMs:e,displaySeconds:!f&&void 0})})})}return(0,v.jsx)(_.D,{as:"p",variant:"mesto",className:S,children:(0,v.jsx)(j.nL,{durationMs:l,displaySeconds:!f&&void 0})})}(),!s&&p>0||o?(0,v.jsx)("div",{className:w,children:(0,v.jsx)(k,{current:p,max:l,isEnabled:!1})}):null]})}},95267:(e,t,n)=>{"use strict";n.d(t,{h$:()=>c,L6:()=>u,cM:()=>d});n(90511),n(162),n(95675),n(69109),n(16366),n(31781),n(83001),n(22369),n(27639),n(71756),n(70238),n(45880),n(79611),n(40265),n(46743);var i=n(75030);n(96669);var r=n(24164),a=n(76022),o=function(){return(0,i.ZO)()===r.W.PWA||"1"===function(e){try{var t,n;return null===(t=window)||void 0===t||null===(n=t.google_optimize)||void 0===n?void 0:n.get(e)}catch(e){return}}("u7gmg4jBRTOUMmTZNyEx9w")},s=function(){if(o())return"".concat(location.origin,"/auth_redirect");if(/iphone|ipod|ipad/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)){var e=new URL(window.location.href);return e.pathname="".concat(a.zL).concat(e.pathname),e.toString()}return window.location.href},l=function(e,t,n){var i;n&&(e+="&".concat((i=n,Object.keys(i).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(i[e]).replace(/%7C/g,"|"))})).join("&")))),o()?function(e,t){var n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,o=r/window.screen.availWidth,s=(r-t.width)/2/o+n,l=(a-t.height)/2/o+i,c=window.open(e,void 0,"scrollbars=".concat(t.scrollbars?"yes":"no",",\n    toolbar=").concat(t.toolbar?"yes":"no",",\n    width=").concat(t.width/o,",\n    height=").concat(t.height/o,",\n    top=").concat(l,",\n    left=").concat(s));null!=c&&c.focus&&c.focus()}(e,t):window.location.assign(e)},c=function(e){var t="https://accounts.spotify.com/login?continue=".concat(encodeURIComponent(s()));l(t,{width:500,height:824,toolbar:!1,scrollbars:!0},e)},u=function(e){var t="https://www.spotify.com/signup?forward_url=".concat(encodeURIComponent(s()));l(t,{width:500,height:824,toolbar:!1,scrollbars:!0},e)},d=function(){window.addEventListener("storage",(function(e){"login_success"===e.key&&(window.focus(),window.localStorage.removeItem("login_success"),window.location.reload())}))}},12033:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var i=n(39130),r=(n(54566),n(72649),n(62780),n(22369),n(92346),n(162),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.desiredSize,r=void 0===n?Number.MAX_SAFE_INTEGER:n,a=t.desiredHeight,o=void 0===a?r:a,s=t.desiredWidth,l=void 0===s?r:s,c=t.desiredLabel,u=void 0===c?"":c;if(e&&!(e.length<=0)){if(u){var d=e.filter((function(e){return e.label===u})),p=(0,i.Z)(d,1)[0];if(p)return p}if(1===e.length)return e[0];var m=e.map((function(e){var t=[(e.width||0)*(e.height||0),o*l];return{ratio:Math.max.apply(Math,t)/Math.min.apply(Math,t),image:e}})).sort((function(e,t){return e.ratio-t.ratio}));return(0,i.Z)(m,1)[0].image}})},55590:(e,t,n)=>{"use strict";n.d(t,{U:()=>i,_:()=>r});n(59538),n(79611),n(89620);function i(e,t){throw new Error(null!=t?t:"Unexpectedly hit unreachable code! Unhandled discriminated union member: ".concat(JSON.stringify(e)))}function r(e,t){try{i(e,t)}catch(e){console.error(e)}}},1962:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var i=n(24511),r=n(48850),a=function(e){var t=e.downloadAvailability,n=e.isExplicit,a=e.isMOGEFRestricted,o=e.contentRating,s=e.isPaywalled,l=e.isEnhanced,c=0,u={download:!1,explicit:!1,nineteen:!1,paid:!1,enhanced:!1};return t===r.Om.YES&&(u.download=!0,c++),(n&&!a||o===i.KS.Explicit)&&(u.explicit=!0,c++),(a||o===i.KS.NineteenPlus)&&(u.nineteen=!0,c++),s&&(u.paid=!0,c++),l&&(u.enhanced=!0,c++),{badges:u,hasBadges:c>0}}},71072:(e,t,n)=>{"use strict";n.d(t,{US:()=>o,Wu:()=>a,dN:()=>s,zv:()=>r});n(90511),n(162),n(43125),n(27639),n(20362),n(79611),n(40265),n(22369),n(46743),n(59538),n(5538),n(16925),n(72649),n(45155),n(83001),n(88906),n(60178),n(59346),n(67886),n(61948),n(45060),n(39210),n(82241),n(45074),n(60252),n(89333),n(83360),n(82695),n(91526),n(15355),n(69103),n(61368),n(99852),n(8599),n(17744),n(79028),n(12041),n(26112),n(9032),n(31266),n(65092),n(95350),n(5628),n(36507),n(55553),n(6127);var i=n(33892);function r(e){return Array.from(e).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}function a(e){if(e.length%2!=0)throw new Error("Invalid encoding!");for(var t=e.length/2,n=new Array(t),i=0,r=0;i<t;++i,r+=2){var a=parseInt(e.charAt(r),16),o=parseInt(e.charAt(r+1),16);if(Number.isNaN(a)||Number.isNaN(o))throw new Error("Invalid encoding!");n[i]=a<<4|o}return Uint8Array.from(n)}function o(e){return i.util.base64.encode(e,0,e.length)}function s(e){var t=new Uint8Array(i.util.base64.length(e));return i.util.base64.decode(e,t,0),t}},2708:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var i=n(96268),r=n(8850),a=n(10995),o=n.n(a);n(59538),n(79611),n(22369),n(8760);function s(e){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(o().mark((function e(t){var n,r,a,s,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:document.body,!("clipboard"in navigator)){e.next=21;break}if(e.prev=2,"string"!=typeof t){e.next=7;break}return e.next=6,navigator.clipboard.writeText(t);case 6:return e.abrupt("return",e.sent);case 7:if("undefined"!=typeof ClipboardItem&&!(0,i.Z)(ClipboardItem)||!navigator.clipboard.write){e.next=11;break}return e.next=10,navigator.clipboard.write([new ClipboardItem({"text/plain":t.then((function(e){return new Blob([e],{type:"text/plain"})}))})]);case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,t;case 13:return r=e.sent,e.next=16,navigator.clipboard.writeText(r);case 16:return e.abrupt("return",e.sent);case 19:e.prev=19,e.t0=e.catch(2);case 21:if(null!==n){e.next=23;break}throw new Error("Node is null, copy cannot be performed.");case 23:if(a="","string"!=typeof t){e.next=28;break}a=t,e.next=31;break;case 28:return e.next=30,t;case 30:a=e.sent;case 31:return(s=document.createElement("textarea")).value=a,s.setAttribute("readonly",""),s.style.position="absolute",s.style.left="-9999px",n.appendChild(s),s.select(),document.execCommand("copy"),n.removeChild(s),e.abrupt("return",Promise.resolve());case 41:case"end":return e.stop()}}),e,null,[[2,19]])}))),l.apply(this,arguments)}},32572:(e,t,n)=>{"use strict";n.d(t,{BI:()=>a,FO:()=>s,RX:()=>r,rL:()=>o});n(40265);var i=n(17249),r=function(e){return new Date(e)},a=function(e,t,n){var i=6e4*e.getTimezoneOffset(),r=null!=n?n:{weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(e.valueOf()+i).toLocaleDateString(t,r)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.ag;return(new Date).getUTCFullYear()===e.getUTCFullYear()?t.formatDate(e,{month:"short",day:"numeric",timeZone:"UTC"}):t.formatDate(e,{month:"short",year:"numeric",timeZone:"UTC"})},s=function(e){return i.ag.formatDate(e,{weekday:"short"})}},10109:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});n(94562);var i=function(e){return function(t){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];i?i=!1:(clearTimeout(n),n=setTimeout((function(){e.apply(e,a)}),t))}}}},67946:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});n(81289),n(22369);function i(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),i=Math.floor(n/60),r=60*i,a=n-r;return{hours:i,minutes:a,seconds:t-60*r-60*a}}},48547:(e,t,n)=>{"use strict";n.d(t,{B$:()=>o,GJ:()=>r,Hr:()=>i,qo:()=>a});n(81289),n(22369),n(30246);function i(e){return e?e.reduce((function(e,t){return t.releases.items[0]&&e.push(t.releases.items[0]),e}),[]):[]}var r=function(e){return"spotify:app:artist:".concat(e)},a=function(e){return"spotify:artist:".concat(e)},o=function(e,t,n){var i,r;return{artists:[{uri:t,name:n}],images:(null===(i=e.coverArt)||void 0===i?void 0:i.sources)||[],name:e.name,uri:e.uri,year:null===(r=e.date)||void 0===r?void 0:r.year,type:e.type,sharingInfo:e.sharingInfo}}},62823:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var i=n(17249),r=n(1144);function a(e){switch(e){case r.n.SINGLE:return i.ag.get("single");case r.n.EP:return i.ag.get("ep");case r.n.COMPILATION:return i.ag.get("compilation");case r.n.ALBUM:default:return i.ag.get("album")}}},98813:(e,t,n)=>{"use strict";n.d(t,{k:()=>d});var i=n(92449),r=n(27915),a=n(45389);n(83001),n(88906),n(22369),n(60178),n(59346),n(67886),n(61948),n(45060),n(39210),n(82241),n(45074),n(60252),n(89333),n(83360),n(82695),n(91526),n(15355),n(69103),n(61368),n(99852),n(8599),n(17744),n(79028),n(12041),n(26112),n(9032),n(31266),n(65092),n(95350),n(5628),n(36507),n(55553),n(6127);function o(e){if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}var s=n(8850),l=n(10995),c=n.n(l),u=(n(43125),n(27639),n(90511),n(162),n(20362),n(79611),n(40265),n(46743),function(){var e=(0,s.Z)(c().mark((function e(t){var n,i,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return i=e.sent,r=Array.from(new Uint8Array(i)),e.abrupt("return",r.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,i.Z)((function e(){(0,r.Z)(this,e)}));(0,a.Z)(d,"encode",o),(0,a.Z)(d,"hash",u)},93381:(e,t,n)=>{"use strict";n.d(t,{ac:()=>o,is:()=>s,nT:()=>l});var i=n(45389),r=(n(4302),n(66469),n(69109),n(90511),n(82088),n(17249)),a=n(76022),o=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"/":"";if(!e)return"";var n=e.split("/");return n[1].includes(a.F0)?"".concat(t).concat(n.slice(2).join("/")):e},s=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"/":"";if(!e)return"";if(!t||t===a.ZW)return e;var i="/"===e?"":e;return"".concat(n).concat(a.F0).concat(t).concat(i)},l=function(e){var t,n,o=(t={},(0,i.Z)(t,String(r.go.paIN),r.go.paIN),(0,i.Z)(t,String(r.go.paPK),r.go.paPK),(0,i.Z)(t,String(r.go.zhCN),r.go.zhCN),(0,i.Z)(t,String(r.go.zhTW),r.go.zhTW),(0,i.Z)(t,String(r.go.zhHK),r.go.zhHK),t);return e?null!==(n=o[e])&&void 0!==n?n:e.substring(0,2):a.ZW}},64:(e,t,n)=>{"use strict";n.d(t,{S9:()=>l,fd:()=>c});var i=n(83014),r=(n(72304),n(22369),n(162),n(69109),n(4302),n(66469),n(76022)),a=function(e,t){return function(e,t){var n=r.un.some((function(t){return t===e}));return(void 0===t||t)&&n}(e,t)||function(e){return r._S.some((function(t){return t===e}))}(e)},o=function(e,t){if(void 0===e)return!1;var n=""===e;return t.some((function(t){return t===e}))||n},s=function(e,t){var n=o(e,r.Jn)&&t,i=o(e,r.wI);return n||i},l=function(e){var t=e.localeFeatureFlag,n=e.entityFeatureFlag,i=e.urlLocale,r=e.entity;switch(e.type){case"locale":return a(i,t);case"route":return s(r,n);case"link":return a(i,t)&&s(r,n);default:return!1}},c=function(e){var t=r.BK.map((function(e){return"/".concat(r.F0).concat(e)}));return["/"].concat((0,i.Z)(t)).includes(e)}},95682:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var i=function(){return"undefined"==typeof window}},44888:(e,t,n)=>{"use strict";n.d(t,{q:()=>o,l:()=>s});var i=function(e){return e.UNAUTH_LYRICS="track-lyrics-unauth-1.0",e.RTP_AND_LYRICS_HOLDOUT="rtp-and-lyrics-holdout",e.ARTIST_CONCERTS_METADATA="artist-concerts-metadata-1.0",e.ALBUM_CANONICALS="album-canonical",e.TRACK_CANONICALS="track-canonical",e.VIDEO_PODCAST_SHOW_TITLE_TAG="podcast-video-title-tag",e.RTP_FEATURED_ARTISTS="rtp-v21",e}({}),r=function(e){return e.CONTROL="0",e.VARIANT="1",e}({}),a=function(e){var t=e.treatment,n=e.entityId,i=e.experimentId,r=e.treatmentVariation;if(t&&t[n]){var a=t[n];return a.experimentId===i&&a.treatment===r}return!1},o=function(e,t){return a({treatment:e,entityId:t,experimentId:i.ARTIST_CONCERTS_METADATA,treatmentVariation:r.VARIANT})},s=function(e,t){return a({treatment:e,entityId:t,experimentId:i.VIDEO_PODCAST_SHOW_TITLE_TAG,treatmentVariation:r.VARIANT})}},84306:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});n(95675),n(50103),n(22369);function i(e,t){var n=e?Object.keys(e):[],i=t?Object.keys(t):[];return n.length===i.length&&n.every((function(n){return Object.prototype.hasOwnProperty.call(t,n)&&e[n]===t[n]}))}},43771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={container:"main-downloadClient-actionContainer"}},72805:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={card:"main-card-card",cardLink:"main-card-cardLink",type:"main-card-type",draggable:"main-card-draggable",imageContainer:"main-card-imageContainer",cardMetadata:"main-card-cardMetadata",DownloadStatusIndicator:"main-card-DownloadStatusIndicator",PlayButtonContainer:"main-card-PlayButtonContainer",PlayButtonContainerVisible:"main-card-PlayButtonContainerVisible"}},71207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={imageWrapper:"main-cardImage-imageWrapper",image:"main-cardImage-image",imagePlaceholder:"main-card-imagePlaceholder",circular:"main-cardImage-circular",withWavesWrapper:"main-card-withWavesWrapper",withWaves:"main-card-withWaves",hero:"main-card-hero"}},26954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={addToPlaylistTitle:"main-contextMenu-addToPlaylistTitle",addToPlaylistSubtitle:"main-contextMenu-addToPlaylistSubtitle"}},89921:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={filterPlaylistSearch:"main-contextMenu-filterPlaylistSearch"}},95173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={menu:"main-contextMenu-menu",menuHeading:"main-contextMenu-menuHeading",menuItemButton:"main-contextMenu-menuItemButton",disabled:"main-contextMenu-disabled",subMenuIcon:"main-contextMenu-subMenuIcon",menuItem:"main-contextMenu-menuItem",dividerBefore:"main-contextMenu-dividerBefore",dividerAfter:"main-contextMenu-dividerAfter",menuItemLabel:"main-contextMenu-menuItemLabel",filterInputContainer:"main-contextMenu-filterInputContainer",expanded:"main-contextMenu-expanded",expandButton:"main-contextMenu-expandButton",filterInput:"main-contextMenu-filterInput",filterInputFullWidth:"main-contextMenu-filterInputFullWidth",overlay:"main-contextMenu-overlay",expandRight:"main-contextMenu-expandRight",searchIconContainer:"main-contextMenu-searchIconContainer",searchIcon:"main-contextMenu-searchIcon",clearButton:"main-contextMenu-clearButton",filterPlaylistSearchContainer:"main-contextMenu-filterPlaylistSearchContainer"}},98207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",MINIMUM_HEADER_HEIGHT:"250px",IMAGE_SIZE:"192px",IMAGE_SIZE_BIG:"232px",BACKGROUND_HEIGHT_PERCENTAGE:"40vh",container:"main-entityHeader-container",mermaidGradientOverlay:"main-entityHeader-mermaidGradientOverlay",nonWrapped:"main-entityHeader-nonWrapped",withBackgroundImage:"main-entityHeader-withBackgroundImage",smallHeader:"main-entityHeader-smallHeader",backgroundColor:"main-entityHeader-backgroundColor",background:"main-entityHeader-background",overlay:"main-entityHeader-overlay",headerText:"main-entityHeader-headerText",topbarTitle:"main-entityHeader-topbarTitle",topbarContent:"main-entityHeader-topbarContent",topbarContentFadeIn:"main-entityHeader-topbarContentFadeIn",title:"main-entityHeader-title",titleInner:"main-entityHeader-titleInner",titleButton:"main-entityHeader-titleButton",imageContainer:"main-entityHeader-imageContainer",imageContainerClickable:"main-entityHeader-imageContainerClickable",image:"main-entityHeader-image",shadow:"main-entityHeader-shadow",imagePlaceholder:"main-entityHeader-imagePlaceholder",wavesBackground:"main-entityHeader-wavesBackground",roundedCorners:"main-entityHeader-roundedCorners",circle:"main-entityHeader-circle",detailsText:"main-entityHeader-detailsText",uppercase:"main-entityHeader-uppercase",metaData:"main-entityHeader-metaData",creatorWrapper:"main-entityHeader-creatorWrapper",creatorButton:"main-entityHeader-creatorButton",metaDataText:"main-entityHeader-metaDataText",metaDataAuthor:"main-entityHeader-metaDataAuthor",newEntriesIndicator:"main-entityHeader-newEntriesIndicator",divider:"main-entityHeader-divider",subtitle:"main-entityHeader-subtitle",subtitleButton:"main-entityHeader-subtitleButton",gradient:"main-entityHeader-gradient"}},84371:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={navBar:"main-navBar-navBar",banner:"main-navBar-banner",logo:"main-navBar-logo",entryPoints:"main-navBar-entryPoints",downloadItem:"main-navBar-downloadItem",navBarItem:"main-navBar-navBarItem",premiumNavItem:"main-navBar-premiumNavItem",navBarLinkActive:"main-navBar-navBarLinkActive",navBarItemDropTarget:"main-navBar-navBarItemDropTarget",navBarLink:"main-navBar-navBarLink",premiumLink:"main-navBar-premiumLink"}},55475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={shelf:"main-shelf-shelf",header:"main-shelf-header",subHeader:"main-shelf-subHeader",topRow:"main-shelf-topRow",titleWrapper:"main-shelf-titleWrapper",title:"main-shelf-title",seeAll:"main-shelf-seeAll",shelfGrid:"main-shelf-shelfGrid",showAll:"main-shelf-showAll",skeletonShelf:"main-shelf-skeletonShelf"}},91255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"main-topBar-container",indicators:"main-noConnection",background:"main-topBar-background",overlay:"main-topBar-overlay",loggedOut:"main-topBar-loggedOut",fullscreenHistoryButtons:"main-topBar-fullscreenHistoryButtons",historyButtons:"main-topBar-historyButtons",icon:"main-topBar-icon",button:"main-topBar-button",forward:"main-topBar-forward",topbarContentWrapper:"main-topBar-topbarContentWrapper",topbarContent:"main-topBar-topbarContent",topNavBarLinks:"main-topBar-topNavBarLinks",topNavBarSeparator:"main-topBar-topNavBarSeperator",loginButtons:"main-topBar-loginButtons",signupButton:"main-topBar-signupButton",UpgradeButton:"main-topBar-UpgradeButton",contentArea:"main-topBar-contentArea",rightSidebarVisible:"main-topBar-rightSidebarVisible"}},81386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",TRACKLIST_ROW_HEIGHT:"56px",TRACKLIST_HEADER_HEIGHT:"36px",trackList:"main-trackList-trackList",indexable:"main-trackList-indexable",trackListRowGrid:"main-trackList-trackListRowGrid",rowSectionVariable:"main-trackList-rowSectionVariable",concertTrackList:"main-trackList-concertTrackList",trackListHeader:"main-trackList-trackListHeader",trackListHeaderRow:"main-trackList-trackListHeaderRow",trackListHeaderStuck:"main-trackList-trackListHeaderStuck",trackListRow:"main-trackList-trackListRow",isPreviousRowSelected:"main-trackList-isPreviousRowSelected",isNextRowSelected:"main-trackList-isNextRowSelected",dropTargetBefore:"main-trackList-dropTargetBefore",dropTargetAfter:"main-trackList-dropTargetAfter",rowHeartButton:"main-trackList-rowHeartButton",rowFeedbackButton:"main-trackList-rowFeedbackButton",rowMoreButton:"main-trackList-rowMoreButton",disabled:"main-trackList-disabled",rowPlayPauseButton:"main-trackList-rowImagePlayButton",rowSubTitle:"main-trackList-rowSubTitle",rowSectionEnd:"main-trackList-rowSectionEnd",text:"main-trackList-text",number:"main-trackList-number",icon:"main-trackList-icon",playingIcon:"main-trackList-playingIcon",rowChartStatus:"main-trackList-icon",selected:"main-trackList-selected",rowMarker:"main-trackList-rowMarker",active:"main-trackList-active",rowTitle:"main-trackList-rowTitle",rowSectionIndex:"main-trackList-rowSectionIndex",rowSectionStart:"main-trackList-rowSectionStart",showDisabledAsEnabled:"main-trackList-showDisabledAsEnabled",playsHeader:"main-trackList-playsHeader",column:"main-trackList-column",sortable:"main-trackList-sortable",arrow:"main-trackList-arrow",durationHeader:"main-trackList-durationHeader",actionsHeader:"main-trackList-actionsHeader",rowMainContent:"main-trackList-rowMainContent",facepile:"main-trackList-facepile",rowBadges:"main-trackList-rowBadges",rowDuration:"main-trackList-rowDuration",nineteen:"main-trackList-nineteen",enhanced:"main-trackList-enhanced",rowMarkerChartStatus:"main-trackList-rowMarkerChartStatus",statusChangeDown:"main-trackList-statusChangeDown",statusChangeUp:"main-trackList-statusChangeUp",statusChangeNew:"main-trackList-statusChangeNew",rowImageWithPlay:"main-trackList-rowImageWithPlay",rowImagePlayPauseButton:"main-trackList-rowImagePlayPauseButton",rowImagePlayPauseButtonPlaying:"main-trackList-rowImagePlayPauseButtonPlaying",rowPlayCount:"main-trackList-rowPlayCount",rowImage:"main-trackList-rowImage",rowImageVideo:"main-trackList-rowImageVideo",rowImageFallback:"main-trackList-rowImageFallback",rowPlayPauseIcon:"main-trackList-rowPlayPauseIcon",placeholder:"main-trackList-placeholder",placeholderIndex:"main-trackList-placeholderIndex",placeholderStart:"main-trackList-placeholderStart",placeholderStartWithCoverImage:"main-trackList-placeholderStartWithCoverImage",placeholderEnd:"main-trackList-placeholderEnd",placeholderVariable:"main-trackList-placeholderVariable",discTitle:"main-trackList-discTitle",discRow:"main-trackList-discRow",addedBy:"main-trackList-addedBy",facepileAvatar:"main-trackList-facepileAvatar",delayedVisibility:"main-trackList-delayedVisibility",eventDate:"main-trackList-eventDate",eventTicketIcon:"main-trackList-eventTicketIcon",talkIcon:"main-trackList-talkIcon",talkSegmentDuration:"main-trackList-talkSegmentDuration",notificationDot:"main-trackList-notificationDot"}},60492:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={TRACKLIST_ROW_HEIGHT:"56px",TRACKLIST_HEADER_HEIGHT:"36px"}},24822:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={artistOverviewContent:"artist-artistAbout-artistOverviewContent",artistOverviewContainer:"artist-artistAbout-artistOverviewContainer",popularTracks:"artist-artistAbout-popularTracks",artistShelfSpacer:"artist-artistAbout-artistShelfSpacer",sideBlock:"artist-artistAbout-sideBlock",popularTracksBlock:"artist-artistAbout-popularTracksBlock",about:"artist-artistAbout-about",events:"artist-artistAbout-events",merch:"artist-artistAbout-merch",merchSmall:"artist-artistAbout-merchSmall",overview:"artist-artistAbout-overview",heading:"artist-artistAbout-heading",merchShelfContent:"artist-artistAbout-merchShelfContent",container:"artist-artistAbout-container",content:"artist-artistAbout-content",backgroundImage:"artist-artistAbout-backgroundImage",bio:"artist-artistAbout-bio",artistGridContainer:"artist-artistAbout-artistGridContainer",image:"artist-artistAbout-image",columnContainer:"artist-artistAbout-columnContainer",bioContainer:"artist-artistAbout-bioContainer",statsContainer:"artist-artistAbout-statsContainer",stats:"artist-artistAbout-stats",postedBy:"artist-artistAbout-postedBy",postedByAvatar:"artist-artistAbout-postedByAvatar",avatar:"artist-artistAbout-avatar",modal:"artist-artistAbout-modal",scrollbars:"artist-artistAbout-scrollbars",close:"artist-artistAbout-close",modalBase:"artist-artistAbout-modalBase",modalAfterOpen:"artist-artistAbout-modalAfterOpen",modalBeforeClose:"artist-artistAbout-modalBeforeClose",rank:"artist-artistAbout-rank",cityBlock:"artist-artistAbout-cityBlock"}},66508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={artistOverviewContent:"artist-artistOverview-artistOverviewContent",artistOverviewContainer:"artist-artistOverview-artistOverviewContainer",popularTracks:"artist-artistOverview-popularTracks",artistShelfSpacer:"artist-artistOverview-artistShelfSpacer",sideBlock:"artist-artistOverview-sideBlock",popularTracksBlock:"artist-artistOverview-popularTracksBlock",about:"artist-artistOverview-about",events:"artist-artistOverview-events",merch:"artist-artistOverview-merch",merchSmall:"artist-artistOverview-merchSmall",overview:"artist-artistOverview-overview",heading:"artist-artistOverview-heading",merchShelfContent:"artist-artistOverview-merchShelfContent"}},77682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={item:"artist-artistOnTour-item",condensed:"artist-artistOnTour-condensed",date:"artist-artistOnTour-date",elevated:"artist-artistOnTour-elevated",dateMonth:"artist-artistOnTour-dateMonth",dateDay:"artist-artistOnTour-dateDay",info:"artist-artistOnTour-info",title:"artist-artistOnTour-title",time:"artist-artistOnTour-time",timeAndVenue:"artist-artistOnTour-timeAndVenue",seeAll:"main-seeAll-link",timeAndVenueText:"artist-artistOnTour-timeAndVenueText",onTourShelfGrid:"artist-artistOnTour-onTourShelfGrid",metadata:"artist-artistOnTour-metadata",location:"artist-artistOnTour-location"}},87690:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={container:"main-buddyFeed-container",panelTransition:"main-buddyFeed-panelTransition",scrollBarContainer:"main-buddyFeed-scrollBarContainer",header:"main-buddyFeed-header",closeContainer:"main-buddyFeed-closeContainer",content:"main-buddyFeed-content",titleContainer:"main-buddyFeed-titleContainer",link:"main-buddyFeed-link",closeButton:"main-buddyFeed-closeButton",actions:"main-buddyFeed-actions"}},50734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={coverContainer:"main-yourEpisodes-coverContainer",yourEpisodesCard:"main-yourEpisodes-yourEpisodesCard",coverIcon:"main-yourEpisodes-coverIcon"}},71337:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={menu:"main-contextMenu-menu",menuHeading:"main-contextMenu-menuHeading",menuItemButton:"main-contextMenu-menuItemButton",disabled:"main-contextMenu-disabled",subMenuIcon:"main-contextMenu-subMenuIcon",menuItem:"main-contextMenu-menuItem",dividerBefore:"main-contextMenu-dividerBefore",dividerAfter:"main-contextMenu-dividerAfter",menuItemLabel:"main-contextMenu-menuItemLabel"}}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.amdO={},e=[],a.O=(t,n,i,r)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,i,r]=e[u],s=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,i,r]},a.F={},a.E=e=>{Object.keys(a.F).map((t=>{a.F[t](e)}))},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>(({682:"xpui-routes-enhanced-playlist",708:"xpui-routes-play-history-page",730:"xpui-routes-track",1289:"xpui-routes-collection-episodes",1997:"xpui-routes-offline-browse",2219:"xpui-routes-search",2342:"xpui-routes-album",2499:"xpui-routes-profile",3472:"xpui-routes-episode",3817:"browse-v2",3878:"xpui-routes-playlist",4179:"xpui-routes-track-v2",4246:"collection-music-download",4338:"xpui-routes-buddy-feed",4570:"xpui-routes-blend-party",5070:"home-v2-section",5194:"dev-playground",5320:"xpui-debug-window-contents",5457:"playlist-leavebehinds",5525:"xpui-routes-health-check",5713:"xpui-routes-show",5835:"xpui-routes-collection-concerts",6008:"xpui-desktop-routes-settings",6025:"xpui-routes-lyrics",6309:"xpui-routes-collection",6450:"xpui-routes-view",6658:"debug-locales",6923:"xpui-routes-all-show-sponsors",7288:"xpui-routes-concert",7379:"xpui-routes-collection-local-files",7405:"xpui-routes-enhanced-context",7427:"concerts-on-tour-playlist-card",7521:"xpui-routes-queue-page",7553:"xpui-routes-collection-songs",7704:"home-v2",7985:"xpui-routes-create-playlist",7994:"xpui-desktop-modals",8059:"xpui-routes-all-episode-sponsors",8123:"xpui-routes-blend",8387:"xpui-routes-download-page",8420:"xpui-routes-cultural-moment-hub",8785:"xpui-routes-recent-searches",9124:"xpui-routes-folder",9540:"xpui-routes-album-prerelease",9694:"home-hpto"}[e]||e)+".js"),a.miniCssF=e=>(({682:"xpui-routes-enhanced-playlist",708:"xpui-routes-play-history-page",1289:"xpui-routes-collection-episodes",1997:"xpui-routes-offline-browse",2219:"xpui-routes-search",2342:"xpui-routes-album",2499:"xpui-routes-profile",3472:"xpui-routes-episode",3817:"browse-v2",3878:"xpui-routes-playlist",4179:"xpui-routes-track-v2",4338:"xpui-routes-buddy-feed",5070:"home-v2-section",5320:"xpui-debug-window-contents",5713:"xpui-routes-show",5835:"xpui-routes-collection-concerts",6309:"xpui-routes-collection",6450:"xpui-routes-view",6658:"debug-locales",7288:"xpui-routes-concert",7379:"xpui-routes-collection-local-files",7405:"xpui-routes-enhanced-context",7427:"concerts-on-tour-playlist-card",7521:"xpui-routes-queue-page",7553:"xpui-routes-collection-songs",7704:"home-v2",7994:"xpui-desktop-modals",8123:"xpui-routes-blend",8387:"xpui-routes-download-page",8420:"xpui-routes-cultural-moment-hub",8785:"xpui-routes-recent-searches",9124:"xpui-routes-folder",9540:"xpui-routes-album-prerelease",9694:"home-hpto"}[e]||e)+".css"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="client-web:",a.l=(e,i,r,o)=>{if(t[e])t[e].push(i);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+r){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+r),s.src=e),t[e]=[i];var p=(n,i)=>{s.onerror=s.onload=null,clearTimeout(m);var r=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(i))),n)return n(i)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/",(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,n)=>{var i=a.miniCssF(e),r=a.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(o=n[i]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(r===e||r===t))return o}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){var o;if((r=(o=a[i]).getAttribute("data-href"))===e||r===t)return o}})(i,r))return t();((e,t,n,i,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)i();else{var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=s,a.parentNode&&a.parentNode.removeChild(a),r(l)}},a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a)})(e,r,null,t,n)})),t={9764:0};a.f.miniCss=(n,i)=>{t[n]?i.push(t[n]):0!==t[n]&&{682:1,708:1,1048:1,1159:1,1289:1,1900:1,1997:1,2219:1,2342:1,2499:1,3472:1,3817:1,3878:1,4179:1,4338:1,4669:1,5070:1,5320:1,5390:1,5713:1,5835:1,6143:1,6309:1,6450:1,6658:1,6862:1,7001:1,7288:1,7379:1,7405:1,7427:1,7521:1,7553:1,7567:1,7704:1,7994:1,8123:1,8387:1,8420:1,8785:1,9124:1,9207:1,9540:1,9694:1}[n]&&i.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={9764:0};a.f.j=(t,n)=>{var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else if(682!=t){var r=new Promise(((n,r)=>i=e[t]=[n,r]));n.push(i[2]=r);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,i[1](s)}}),"chunk-"+t,t)}else e[t]=0},a.F.j=t=>{if((!a.o(e,t)||void 0===e[t])&&682!=t){e[t]=null;var n=document.createElement("link");a.nc&&n.setAttribute("nonce",a.nc),n.rel="prefetch",n.as="script",n.href=a.p+a.u(t),document.head.appendChild(n)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[o,s,l]=n,c=0;if(o.some((t=>0!==e[t]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)var u=l(a)}for(t&&t(n);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0,a.O(0,[9764],(()=>{[1814,5103,1780,7924,2219,9694,1997].map(a.E)}),5);var o=a.O(void 0,[1814],(()=>a(39421)));o=a.O(o)})();
//# sourceMappingURL=xpui.js.map