"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2499],{85829:(e,r,t)=>{t.d(r,{P:()=>p});var i=t(45389),a=(t(30246),t(95675),t(61235),t(62780),t(22369),t(7845),t(29543),t(70969),t(66715),t(30479),t(75341),t(59496)),n=t(52008),o=t(17249),l=t(54691),s=t(23498),u=t(72030),c=t(91978),d=t(3005),m=t(89418),f=t(4637);function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}var p=a.memo((function(e){var r,t=e.images,p=e.name,v=e.uri,h=e.onClick,b=e.isHero,y=e.testId,x=e.index,j=e.requestId,k=e.color,w=(0,a.useCallback)((function(){return(0,f.jsx)(u.x,{isCircular:!0,isHero:b,images:t,color:k,FallbackComponent:function(e){return(0,f.jsx)(n.a,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({iconSize:64},e))}})}),[k,t,b]),I=(0,a.useCallback)((function(){return b?(0,f.jsx)(d.k,{children:o.ag.get("card.tag.profile")}):o.ag.get("card.tag.profile")}),[b]);return r=b?(0,f.jsx)(c.Z,{index:x,onClick:h,headerText:p,featureIdentifier:"profile",uri:v,isPlayable:!1,renderCardImage:w,renderSubHeaderContent:I,testId:y,requestId:j}):(0,f.jsx)(s.C,{index:x,onClick:h,headerText:p,featureIdentifier:"profile",uri:v,isPlayable:!1,renderCardImage:w,renderSubHeaderContent:I,testId:y,requestId:j}),(0,f.jsx)(l._,{menu:(0,f.jsx)(m.I,{uri:v}),children:r})}))},17235:(e,r,t)=>{t.d(r,{T:()=>m});var i=t(39130),a=(t(30246),t(96692)),n=t(18210),o=t(97422),l=t(53391),s=t(23006);const u="profile-editImage-imageContainer",c="profile-editImage-editImageButtonContainer";var d=t(4637),m=function(e){var r=e.onClick,t=e.name,m=e.images,f=e.canEdit,g=e.placeholderType,p=e.shape,v=void 0===p?s.Kc.SQUARE:p,h=e.dragUri,b=void 0===h?"":h,y=(0,n.R)(m),x=(0,i.Z)(y,2),j=x[0],k=x[1],w=(0,o.VO)(j,k)===o.KO.loaded,I=(0,a.O)([b],t);return(0,d.jsxs)("div",{className:u,"data-testid":"".concat(g,"-image"),draggable:!!b,onDragStart:I,children:[(0,d.jsx)(s.Oe,{loading:"eager",name:t,images:m,placeholderType:g,shape:v}),f&&(0,d.jsx)("div",{className:c,children:(0,d.jsx)(l.F,{overlay:w,onClick:r,rounded:v===s.Kc.CIRCLE})})]})}},42068:(e,r,t)=>{t.r(r),t.d(r,{default:()=>bt});var i=t(59496),a=t(41177),n=t(53361),o=t(59272),l=(t(162),t(30246),t(84875)),s=t.n(l),u=t(17249),c=t(85829),d=t(68833),m=t(54658),f=t(80274),g=t(1074);const p="profile-userOverview-container",v="profile-userOverview-section",h="profile-userOverview-subPage",b="profile-userOverview-imageContainer",y="profile-userOverview-topTrackSubPage",x="profile-userOverview-title",j="profile-userOverview-header";var k=t(4637),w=function(e){var r=e.uri,t=(0,f.J)(g.n5.getFollowers,[r]),i=t.data,a=t.loading,n=t.error,o=null==i?void 0:i.profiles;return a?(0,k.jsx)(d.h,{hasError:null!==n,errorMessage:u.ag.get("error.not_found.title.page")}):(0,k.jsx)(m.P,{className:s()("contentSpacing",h),title:u.ag.get("followers"),total:null==o?void 0:o.length,showAll:!0,children:null==o?void 0:o.map((function(e,r){return(0,k.jsx)(c.P,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))})},I=function(e){var r=e.uri,t=(0,f.J)(g.n5.getFollowing,[r]),i=t.data,a=t.loading,n=t.error,o=null==i?void 0:i.profiles;return a?(0,k.jsx)(d.h,{hasError:null!==n,errorMessage:u.ag.get("error.not_found.title.page")}):(0,k.jsx)(m.P,{className:s()("contentSpacing",h),title:u.ag.get("following"),total:null==o?void 0:o.length,showAll:!0,children:null==o?void 0:o.map((function(e,r){return(0,k.jsx)(c.P,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))})},O=t(39130),P=t(61740),_=t(10506),S=t(16746),N=t(84737),D=t(56075),C=t(60334),R=t(15632),A=t(89418),T=t(60817),E=t(17235),U=t(23006),M=t(14706),F=t(35833),W=t(61996),L=t(44594),H=t(8850),Z=t(10995),K=t.n(Z),B=(t(71541),t(14268)),Q=t(72032),J=t(63892),G=t(45389),z=t(92440),V=t(18210),q=t(97422);const X="profile-userEditDetails-image",Y="valcBm4lLe9qFBcg0sFY",$="tAIzXn8C9KriGwGuBfWg",ee="PsrXxenHUFXYM1ub1xWw",re="U_VWfeeLWnDPhUTxCmrQ";var te=function(e){var r=e.onClickEdit,t=e.onClickRemove,i=e.name,a=e.images,n=(0,V.R)(a),o=(0,O.Z)(n,2),l=o[0],c=o[1],d=(0,q.VO)(l,c)===q.KO.loaded;return(0,k.jsxs)("div",{className:X,children:[(0,k.jsx)(U.Oe,{loading:"eager",name:i,images:a,placeholderType:"user",shape:U.Kc.CIRCLE}),(0,k.jsxs)("div",{className:s()(Y,(0,G.Z)({},ee,d)),children:[(0,k.jsx)("button",{className:$,"aria-haspopup":"true",onClick:r,type:"button",children:(0,k.jsx)(_.D,{variant:"ballad",children:u.ag.get("user.edit-details.choose-photo")})}),(0,k.jsx)("div",{className:s()(re,"icon"),children:(0,k.jsx)(z.y,{iconSize:48,"aria-hidden":!0})}),(0,k.jsx)("button",{className:$,onClick:t,type:"button",children:(0,k.jsx)(_.D,{variant:"ballad",children:u.ag.get("user.edit-details.remove-photo")})})]})]})},ie=(t(59538),t(79611),t(69109),t(32953)),ae=t(51770),ne=(t(83001),t(88906),t(22369),t(60178),t(59346),t(67886),t(61948),t(45060),t(39210),t(82241),t(45074),t(60252),t(89333),t(83360),t(82695),t(91526),t(15355),t(69103),t(61368),t(99852),t(8599),t(17744),t(79028),t(12041),t(26112),t(9032),t(31266),t(65092),t(95350),t(5628),t(36507),t(55553),t(6127),t(72649),t(69604),t(99975),t(95675),t(61235),t(62780),t(7845),t(29543),t(70969),t(66715),t(30479),t(75341),t(82088),t(43125),t(27639),t(16366),t(96669),t(69724),t(39965),t(71756),t(39975),t(33892));function oe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function le(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(t),!0).forEach((function(r){(0,G.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function se(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return ue(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ue(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,n=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw n}}}}function ue(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}var ce={paths:""},de=function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne.Writer.create(),i=se(e.paths);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.uint32(10).string(a)}}catch(e){i.e(e)}finally{i.f()}return t},me=function(e,r){var t=e instanceof Uint8Array?new ne.Reader(e):e,i=void 0===r?t.len:t.pos+r,a=le({},ce);for(a.paths=[];t.pos<i;){var n=t.uint32();if(n>>>3==1)a.paths.push(t.string());else t.skipType(7&n)}return a},fe=function(e){var r=le({},ce);if(r.paths=[],void 0!==e.paths&&null!==e.paths){var t,i=se(e.paths);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.paths.push(String(a))}}catch(e){i.e(e)}finally{i.f()}}return r},ge=function(e){var r=le({},ce);if(r.paths=[],void 0!==e.paths&&null!==e.paths){var t,i=se(e.paths);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.paths.push(a)}}catch(e){i.e(e)}finally{i.f()}}return r},pe=function(e){var r={};return e.paths?r.paths=e.paths.map((function(e){return e})):r.paths=[],r},ve=(t(40265),t(46743),t(92357),t(42199),t(65130),t(86554),t(57137),t(65497),t(90511),t(3959)),he=t(55872).lW;function be(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function ye(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?be(Object(t),!0).forEach((function(r){(0,G.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var xe={value:0},je={value:!1},ke={value:""};var we=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne.Writer.create();return r.uint32(8).int32(e.value),r},Ie=function(e,r){for(var t=e instanceof Uint8Array?new ne.Reader(e):e,i=void 0===r?t.len:t.pos+r,a=ye({},xe);t.pos<i;){var n=t.uint32();if(n>>>3==1)a.value=t.int32();else t.skipType(7&n)}return a},Oe=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne.Writer.create();return r.uint32(8).bool(e.value),r},Pe=function(e,r){for(var t=e instanceof Uint8Array?new ne.Reader(e):e,i=void 0===r?t.len:t.pos+r,a=ye({},je);t.pos<i;){var n=t.uint32();if(n>>>3==1)a.value=t.bool();else t.skipType(7&n)}return a},_e=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne.Writer.create();return r.uint32(10).string(e.value),r},Se=function(e,r){for(var t=e instanceof Uint8Array?new ne.Reader(e):e,i=void 0===r?t.len:t.pos+r,a=ye({},ke);t.pos<i;){var n=t.uint32();if(n>>>3==1)a.value=t.string();else t.skipType(7&n)}return a};ne.util.Long!==ve.Z&&(ne.util.Long=ve.Z,(0,ne.configure)());var Ne=globalThis;Ne.atob,Ne.btoa;function De(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return Ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,n=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw n}}}}function Ce(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}function Re(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function Ae(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Re(Object(t),!0).forEach((function(r){(0,G.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Te={maxWidth:0,maxHeight:0,url:""},Ee={},Ue={},Me=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne.Writer.create();return r.uint32(8).int32(e.maxWidth),r.uint32(16).int32(e.maxHeight),r.uint32(26).string(e.url),r},Fe=function(e,r){for(var t=e instanceof Uint8Array?new ne.Reader(e):e,i=void 0===r?t.len:t.pos+r,a=Ae({},Te);t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:a.maxWidth=t.int32();break;case 2:a.maxHeight=t.int32();break;case 3:a.url=t.string();break;default:t.skipType(7&n)}}return a},We=function(e){var r=Ae({},Te);return void 0!==e.maxWidth&&null!==e.maxWidth?r.maxWidth=Number(e.maxWidth):r.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?r.maxHeight=Number(e.maxHeight):r.maxHeight=0,void 0!==e.url&&null!==e.url?r.url=String(e.url):r.url="",r},Le=function(e){var r=Ae({},Te);return void 0!==e.maxWidth&&null!==e.maxWidth?r.maxWidth=e.maxWidth:r.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?r.maxHeight=e.maxHeight:r.maxHeight=0,void 0!==e.url&&null!==e.url?r.url=e.url:r.url="",r},He=function(e){var r={};return void 0!==e.maxWidth&&(r.maxWidth=e.maxWidth),void 0!==e.maxHeight&&(r.maxHeight=e.maxHeight),void 0!==e.url&&(r.url=e.url),r},Ze=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne.Writer.create();void 0!==e.username&&void 0!==e.username&&_e({value:e.username},r.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&_e({value:e.name},r.uint32(18).fork()).ldelim();var t,i=De(e.images);try{for(i.s();!(t=i.n()).done;){var a=t.value;Me(a,r.uint32(26).fork()).ldelim()}}catch(e){i.e(e)}finally{i.f()}return void 0!==e.verified&&void 0!==e.verified&&Oe({value:e.verified},r.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&Oe({value:e.editProfileDisabled},r.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&Oe({value:e.reportAbuseDisabled},r.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&Oe({value:e.abuseReportedName},r.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&Oe({value:e.abuseReportedImage},r.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&Oe({value:e.hasSpotifyName},r.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&Oe({value:e.hasSpotifyImage},r.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&we({value:e.color},r.uint32(90).fork()).ldelim(),r},Ke=function(e,r){var t=e instanceof Uint8Array?new ne.Reader(e):e,i=void 0===r?t.len:t.pos+r,a=Ae({},Ee);for(a.images=[];t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:a.username=Se(t,t.uint32()).value;break;case 2:a.name=Se(t,t.uint32()).value;break;case 3:a.images.push(Fe(t,t.uint32()));break;case 4:a.verified=Pe(t,t.uint32()).value;break;case 5:a.editProfileDisabled=Pe(t,t.uint32()).value;break;case 6:a.reportAbuseDisabled=Pe(t,t.uint32()).value;break;case 7:a.abuseReportedName=Pe(t,t.uint32()).value;break;case 8:a.abuseReportedImage=Pe(t,t.uint32()).value;break;case 9:a.hasSpotifyName=Pe(t,t.uint32()).value;break;case 10:a.hasSpotifyImage=Pe(t,t.uint32()).value;break;case 11:a.color=Ie(t,t.uint32()).value;break;default:t.skipType(7&n)}}return a},Be=function(e){var r=Ae({},Ee);if(r.images=[],void 0!==e.username&&null!==e.username?r.username=String(e.username):r.username=void 0,void 0!==e.name&&null!==e.name?r.name=String(e.name):r.name=void 0,void 0!==e.images&&null!==e.images){var t,i=De(e.images);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.images.push(We(a))}}catch(e){i.e(e)}finally{i.f()}}return void 0!==e.verified&&null!==e.verified?r.verified=Boolean(e.verified):r.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?r.editProfileDisabled=Boolean(e.editProfileDisabled):r.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?r.reportAbuseDisabled=Boolean(e.reportAbuseDisabled):r.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?r.abuseReportedName=Boolean(e.abuseReportedName):r.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?r.abuseReportedImage=Boolean(e.abuseReportedImage):r.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?r.hasSpotifyName=Boolean(e.hasSpotifyName):r.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?r.hasSpotifyImage=Boolean(e.hasSpotifyImage):r.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?r.color=Number(e.color):r.color=void 0,r},Qe=function(e){var r=Ae({},Ee);if(r.images=[],void 0!==e.username&&null!==e.username?r.username=e.username:r.username=void 0,void 0!==e.name&&null!==e.name?r.name=e.name:r.name=void 0,void 0!==e.images&&null!==e.images){var t,i=De(e.images);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.images.push(Le(a))}}catch(e){i.e(e)}finally{i.f()}}return void 0!==e.verified&&null!==e.verified?r.verified=e.verified:r.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?r.editProfileDisabled=e.editProfileDisabled:r.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?r.reportAbuseDisabled=e.reportAbuseDisabled:r.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?r.abuseReportedName=e.abuseReportedName:r.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?r.abuseReportedImage=e.abuseReportedImage:r.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?r.hasSpotifyName=e.hasSpotifyName:r.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?r.hasSpotifyImage=e.hasSpotifyImage:r.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?r.color=e.color:r.color=void 0,r},Je=function(e){var r={};return void 0!==e.username&&(r.username=e.username),void 0!==e.name&&(r.name=e.name),e.images?r.images=e.images.map((function(e){return e?He(e):void 0})):r.images=[],void 0!==e.verified&&(r.verified=e.verified),void 0!==e.editProfileDisabled&&(r.editProfileDisabled=e.editProfileDisabled),void 0!==e.reportAbuseDisabled&&(r.reportAbuseDisabled=e.reportAbuseDisabled),void 0!==e.abuseReportedName&&(r.abuseReportedName=e.abuseReportedName),void 0!==e.abuseReportedImage&&(r.abuseReportedImage=e.abuseReportedImage),void 0!==e.hasSpotifyName&&(r.hasSpotifyName=e.hasSpotifyName),void 0!==e.hasSpotifyImage&&(r.hasSpotifyImage=e.hasSpotifyImage),void 0!==e.color&&(r.color=e.color),r},Ge={encode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne.Writer.create();return void 0!==e.mask&&void 0!==e.mask&&de(e.mask,r.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&Ze(e.userProfile,r.uint32(18).fork()).ldelim(),r},decode:function(e,r){for(var t=e instanceof Uint8Array?new ne.Reader(e):e,i=void 0===r?t.len:t.pos+r,a=Ae({},Ue);t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:a.mask=me(t,t.uint32());break;case 2:a.userProfile=Ke(t,t.uint32());break;default:t.skipType(7&n)}}return a},fromJSON:function(e){var r=Ae({},Ue);return void 0!==e.mask&&null!==e.mask?r.mask=fe(e.mask):r.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?r.userProfile=Be(e.userProfile):r.userProfile=void 0,r},fromPartial:function(e){var r=Ae({},Ue);return void 0!==e.mask&&null!==e.mask?r.mask=ge(e.mask):r.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?r.userProfile=Qe(e.userProfile):r.userProfile=void 0,r},toJSON:function(e){var r={};return void 0!==e.mask&&(r.mask=e.mask?pe(e.mask):void 0),void 0!==e.userProfile&&(r.userProfile=e.userProfile?Je(e.userProfile):void 0),r}},ze="".concat(ie.XA,"/identity");function Ve(e,r,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,H.Z)(K().mark((function e(r,t,i){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.build().withHost(ze).withMethod("POST").withPath("/v3/profile-image/".concat(encodeURIComponent((0,ae.C)(t)),"/").concat(i)).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e,r){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,H.Z)(K().mark((function e(r,t){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.build().withHost(ze).withMethod("DELETE").withPath("/v3/profile-image/".concat(encodeURIComponent((0,ae.C)(t)))).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e,r,t){return er.apply(this,arguments)}function er(){return(er=(0,H.Z)(K().mark((function e(r,t,i){var a;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ge.encode(Ge.fromPartial({mask:{paths:["name"]},userProfile:null!==i?{name:i}:{}})),e.next=3,r.build().withHost(ze).withMethod("POST").withPath("/v3/user/username/".concat(encodeURIComponent((0,ae.C)(t)))).withEndpointIdentifier("/v3/user/username/{username}").withBody(a.finish()).withoutMarket().send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(e,r,t){return tr.apply(this,arguments)}function tr(){return(tr=(0,H.Z)(K().mark((function e(r,t,i){var a,n;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.name,n=i.imageUploadToken,void 0===a){e.next=4;break}return e.next=4,$e(r,t,a);case 4:if(void 0===n){e.next=12;break}if(null===n){e.next=10;break}return e.next=8,Ve(r,t,n);case 8:e.next=12;break;case 10:return e.next=12,Xe(r,t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ir=t(60808),ar="https://image-upload.spotify.com/v4";function nr(e,r){return or.apply(this,arguments)}function or(){return(or=(0,H.Z)(K().mark((function e(r,t){var i,a;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.name,a=t.imageUploadToken,e.next=3,rr(ir.b.getInstance(),r,{name:i,imageUploadToken:a});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e){return sr.apply(this,arguments)}function sr(){return(sr=(0,H.Z)(K().mark((function e(r){var t;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ir.b.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost(ar).withMethod("POST").withPath("/user-profile").withBody(r).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:"image/jpeg"}]).withoutMarket().send();case 2:if((t=e.sent).body){e.next=5;break}throw new Error("No upload token recieved");case 5:return e.abrupt("return",t.body.uploadToken);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ur={type:"error",get message(){return u.ag.get("user.edit-details.error.file-size-exceeded",10)}},cr={type:"error",get message(){return u.ag.get("user.edit-details.error.too-small",300,300)}},dr={type:"error",get message(){return u.ag.get("user.edit-details.error.missing-name")}},mr={type:"error",get message(){return u.ag.get("user.edit-details.error.failed-to-save")}},fr={type:"error",get message(){return u.ag.get("user.edit-details.error.file-upload-failed")}};function gr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function pr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?gr(Object(t),!0).forEach((function(r){(0,G.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function vr(e){return{type:"setLoading",loading:e}}function hr(e){return{type:"setMessage",message:e}}function br(e,r){switch(r.type){case"setName":return pr(pr({},e),{},{name:r.name});case"setMessage":return pr(pr({},e),{},{message:r.message,loading:!1});case"setLoading":return pr(pr({},e),{},{loading:r.loading,message:null});case"setImageData":return pr(pr({},e),{},{imageData:r.data,removeImage:!1});case"setImageToken":return pr(pr({},e),{},{imageToken:r.token,removeImage:!1});case"removeImage":return pr(pr({},e),{},{imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0});default:return e}}var yr=t(63461),xr=t(60565),jr=t(12786);const kr="XwNfIrI6_hCa_9_T2cQB",wr="so0bdX3oZH6YW5_nGxIR",Ir="aM3plU4zzDqjWlvUHGYb",Or="zHeo4VUxytwm6Ptr0QyA",Pr="vAeyAmeLkDEDKdL9Hou0",_r="dnmzO6yYKkxUV8jl7O1Z",Sr="oN9QVvJKEtdTH3HGfCu1",Nr="uj7hczcCH1dZpse8Kfmi",Dr="wvLAEV5wF5C5ej6rvimT",Cr="gAQfzAUp1FuSXODeZJfP",Rr="dMhJaxli87_22jb_3d9x",Ar="MDb7QhAtHeyM4gKj8j8t",Tr="zGbjZMZ1DTx4futEbN9l";var Er=i.memo((function(e){var r=e.uri,t=e.name,a=e.image,n=e.onClose,o=e.shouldOpenImagePicker,l=(0,xr.Hs)(),c=(0,O.Z)(l,2),d=c[0],m=c[1],f=function(e){var r=e.name,t=e.image;return(0,i.useReducer)(br,{loading:!1,message:null,name:r,image:t})}({name:t,image:a}),g=(0,O.Z)(f,2),p=g[0],v=g[1],h=(0,i.useMemo)((function(){var e=p.imageData||p.image;return e?[{url:e,width:300,height:300}]:[]}),[p.image,p.imageData]);function b(){return(b=(0,H.Z)(K().mark((function e(r){var t,i,a;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(t=r.imageFile,i=r.imageDataUrl,v(hr(null)),v({type:"setImageData",data:i}),!t){e.next=18;break}return e.prev=6,v(vr(!0)),e.next=10,lr(t);case 10:a=e.sent,v({type:"setImageToken",token:a}),v(vr(!1)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),v(hr(fr));case 18:case"end":return e.stop()}}),e,null,[[6,15]])})))).apply(this,arguments)}(0,i.useEffect)((function(){o&&m()}),[m,o]);var y=(0,i.useCallback)((function(e){e===xr.Hy.FILE_TOO_BIG?v(hr(ur)):e===xr.Hy.IMAGE_TOO_SMALL&&v(hr(cr))}),[v]),x=(0,i.useCallback)((function(){v({type:"removeImage"})}),[v]),j=(0,i.useCallback)(function(){var e=(0,H.Z)(K().mark((function e(t){var i;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==p.name.trim().length){e.next=5;break}return v(hr(dr)),e.abrupt("return");case 5:return v(vr(!0)),e.prev=6,i=p.removeImage?null:p.imageToken,e.next=10,nr(r,{name:p.name,imageUploadToken:i});case 10:n({name:p.name,image:p.imageData||p.image}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),v(hr(mr));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(r){return e.apply(this,arguments)}}(),[v,n,p.image,p.imageData,p.imageToken,p.name,p.removeImage,r]);return(0,k.jsx)(yr.Z,{isOpen:!0,contentLabel:u.ag.get("user.edit-details.title"),onRequestClose:function(){return n()},children:(0,k.jsxs)("div",{className:kr,children:[(0,k.jsxs)("div",{className:Ir,children:[(0,k.jsx)(_.D,{as:"h1",variant:"canon",children:u.ag.get("user.edit-details.title")}),(0,k.jsx)("button",{className:Or,onClick:function(){return n()},"aria-label":u.ag.get("close"),children:(0,k.jsx)(B.k,{iconSize:16})})]}),p.message&&(0,k.jsx)(jr.X,{isErrorMessage:"error"===p.message.type,message:p.message.message}),(0,k.jsxs)("form",{className:wr,onSubmit:j,children:[(0,k.jsx)(xr.uL,{isOpen:d,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:function(e){return b.apply(this,arguments)},onError:y}),(0,k.jsxs)("div",{className:Pr,children:[(0,k.jsx)(te,{name:t,images:h,onClickEdit:m,onClickRemove:x}),p.loading&&(0,k.jsx)("div",{className:_r,children:(0,k.jsx)(Q.T,{})})]}),(0,k.jsxs)("div",{className:Nr,children:[(0,k.jsx)("label",{htmlFor:"user-edit-name",className:Dr,children:(0,k.jsx)(_.D,{variant:"finaleBold",className:Cr,children:u.ag.get("user.edit-details.name-label")})}),(0,k.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:s()(Sr,Rr),onChange:function(e){v(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:u.ag.get("user.edit-details.name-placeholder"),maxLength:32,value:p.name})]}),(0,k.jsx)("div",{className:Ar,children:(0,k.jsx)(J.D,{colorSet:"invertedLight",onClick:j,disabled:p.loading,children:u.ag.get("save")})}),(0,k.jsx)(_.D,{as:"p",variant:"finaleBold",className:Tr,children:u.ag.get("image-upload.legal-disclaimer")})]})]})})})),Ur=t(83474),Mr=t(90775),Fr=t(6034),Wr=t(76956),Lr=t(17295),Hr=t(43597),Zr=t(1017),Kr=t(29893),Br=t(73342),Qr=t(92722),Jr=t(54691),Gr=t(20188),zr=t(12033),Vr=t(8730),qr=(t(47921),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.imageUriOrUrl,t=void 0===r?"":r,i=e.desiredMosaicSize,a=void 0===i?300:i;if(!t)return"";if(t.startsWith("spotify:")){var n=t.split(":"),o=(0,Vr.Z)(n),l=o[1],s=o.slice(2);if("image"===l)return"https://i.scdn.co/image/".concat(s[0]);if("mosaic"===l)return"https://mosaic.scdn.co/".concat(a,"/").concat(s.join(""))}return t}),Xr=t(64038),Yr=t(11794),$r=t(22454),et=t(68087),rt=t(78142),tt=t(1003),it=i.memo((function(e){var r=e.tracks,t=e.hasHeaderRow,a=void 0!==t&&t,n=e.nrTracksVisible,l=e.uri,s=(0,ae.C)(l),c=(0,o.qC)(s,"tracks").toURI(),d=(0,i.useMemo)((function(){return n?r.slice(0,n):r}),[n,r]),m=(0,tt.n)({uri:c,pages:[{items:r.map((function(e){return{type:Ur.p.TRACK,uri:e.uri,uid:null,provider:null}}))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}).usePlayContextItem,f=(0,i.useCallback)((function(e,r){var t,i=(0,zr.X)(null==e||null===(t=e.album)||void 0===t?void 0:t.images,{desiredSize:40});return(0,k.jsx)($r.SS,{index:r,uri:(0,et.$)(e),duration_ms:e.duration_ms,name:e.name,artists:e.artists,album:e.album,isPlayable:!0,isExplicit:!!e.explicit,isMOGEFRestricted:!!e.mogef19,imgUrl:(null==i?void 0:i.url)||"",contextUri:c,usePlayContextItem:m},r+e.uri)}),[c,m]),g=(0,i.useMemo)((function(){return[Yr.QD.INDEX,Yr.QD.TITLE,Yr.QD.ALBUM,Yr.QD.DURATION]}),[]),p=(0,i.useCallback)((function(e){return e.uri}),[]);return(0,k.jsx)(rt.ZP,{value:"user-top-tracks-tracklist",children:(0,k.jsx)(Yr.Pv,{ariaLabel:u.ag.get("top_tracks_this_month"),renderRow:f,nrTracks:d.length,tracks:d,resolveUri:p,hasHeaderRow:a,columns:g})})}),(function(e,r){return e.tracks===r.tracks})),at=i.memo((function(e){var r=e.tracks,t=e.title,a=e.tagline,n=e.seeAllUri,o=e.className,l=e.uri,s=e.spec,u=(0,Gr.$P)(),c=(0,i.useCallback)((function(){var e=s.titleLinkFactory().hitUiNavigate({destination:n});u.logInteraction(e)}),[u,n,s]),d=(0,i.useCallback)((function(){var e=s.titleLinkFactory().hitUiNavigate({destination:n});u.logInteraction(e)}),[u,n,s]);if(!r||0===r.length)return null;var m=r.length>4;return(0,k.jsxs)("section",{className:o,children:[(0,k.jsx)(Xr.r,{title:t,tagline:a,seeAllUri:n,hasMoreElements:m,onClickTitle:c,onClickSeeAll:d}),(0,k.jsx)(Gr.Nh,{spec:s,children:(0,k.jsx)(it,{tracks:r,uri:l,nrTracksVisible:4})})]})}),(function(e,r){return e.tracks===r.tracks}));function nt(e,r){switch(r.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var ot=t(94715),lt=t(3594),st=18e5,ut=3e5,ct=function(e){var r,t,n,l=e.uri,m=(0,P.v9)(Kr.Gf),h=(0,P.v9)(Kr.A$),y=(0,P.I0)(),x=(0,Hr.H)(l),j=(0,O.Z)(x,2),w=j[0],I=j[1],H=(0,i.useMemo)((function(){return(0,zr.X)(h)}),[h]),Z=(t=(0,i.useReducer)(nt,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1}),[(n=(0,O.Z)(t,2))[0],n[1]]),K=(0,O.Z)(Z,2),B=K[0],Q=B.isModalOpen,J=B.modalVariant,G=B.shouldOpenImagePicker,z=K[1],V=(0,Mr.o)(),q=!(0,Wr.k)(),X=(0,Fr.g)(),Y=null===(r=function(){var e,r,t=(0,P.v9)((function(e){var r;return null===(r=e.session)||void 0===r?void 0:r.user}));return t?{type:Ur.p.USER,uri:t.uri,username:t.id,displayName:null!==(e=t.display_name)&&void 0!==e?e:null,images:t.images.map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),optInTrialPremiumOnlyMarket:Boolean(null===(r=t.policies)||void 0===r?void 0:r.opt_in_trial_premium_only_market)}:null}())||void 0===r?void 0:r.uri,$=(0,f.J)(g.n5.getProfile,[{uri:l,playlists:10,artists:10,episodes:10}],{cacheTime:st,staleTime:ut}),ee=$.data,re=$.loading,te=null==ee?void 0:ee.public_playlists,ie=null==ee?void 0:ee.is_verified,ne=!!Y&&(0,o.U4)(l,Y),oe=null==ee?void 0:ee.recently_played_artists,le=ne?(null==H?void 0:H.url)||"":(null==ee?void 0:ee.image_url)||"",se=(0,ae.C)(l),ue=(0,P.v9)(Zr.C7),ce=(ne?m:null==ee?void 0:ee.name)||"",de=(0,Lr.Z)((null==ee?void 0:ee.image_url)||null),me=(0,a.UO)().userId,fe=void 0===me?"":me,ge=(0,Gr.fU)(S.createDesktopProfileEventFactory,{data:{uri:l,identifier:fe}}),pe=ge.spec,ve=ge.logger,he=(0,i.useMemo)((function(){return pe.sectionTopTracksFactory()}),[pe]),be=!X&&(!1!==(null==ee?void 0:ee.show_follows)||ne),ye=(0,f.J)(g.n5.getFollowing,[l],{enabled:be,cacheTime:st,staleTime:ut}),xe=ye.data,je=ye.loading,ke=null==xe?void 0:xe.profiles,we=(0,f.J)(g.n5.getFollowers,[l],{enabled:be,cacheTime:st,staleTime:ut}),Ie=we.data,Oe=we.loading,Pe=null==Ie?void 0:Ie.profiles,_e=(0,f.J)(g.n5.getUserTopArtists,[],{enabled:ne,cacheTime:st,staleTime:ut}),Se=_e.data,Ne=_e.loading,De=(0,f.J)(g.n5.getUserTopTracks,[],{enabled:ne&&!ue,cacheTime:st,staleTime:ut}),Ce=De.data,Re=De.loading,Ae=null==Se?void 0:Se.body,Te=null==Ce?void 0:Ce.body,Ee=(0,i.useCallback)((function(){V({targetUri:l,intent:w?"unfollow":"follow",type:"click"});var e=pe.actionBarFactory().followButtonFactory();w?(I(!1),ve.logInteraction(e.hitUnfollow({itemToBeUnfollowed:l}))):(I(!0),ve.logInteraction(e.hitFollow({itemToBeFollowed:l})))}),[w,ve,V,I,pe,l]),Ue=(0,i.useCallback)((function(e){z({type:"CLOSE_MODAL"}),e&&(y((0,Br.dL)(e.name)),y((0,Br.GR)(e.image?[{url:e.image,height:null,width:null}]:[])))}),[z,y]),Me=(0,i.useCallback)((function(){z({type:"OPEN_MODAL"});var e=pe.headerFactory().usernameFactory().hitUiReveal();ve.logInteraction(e)}),[ve,z,pe]),Fe=(0,i.useCallback)((function(){z({type:"OPEN_MODAL_WITH_IMAGEPICKER"});var e=pe.headerFactory().profileImageFactory().hitUiReveal();ve.logInteraction(e)}),[ve,z,pe]),We=(0,i.useMemo)((function(){return[{url:le}]}),[le]),Le=(0,i.useCallback)((function(){var e=pe.headerFactory().usernameFactory().hitUiReveal();ve.logInteraction(e)}),[ve,pe]),He=(0,i.useCallback)((function(e,r){if(r){var t=pe.headerFactory().followersLinkFactory().hitUiNavigate({destination:r});ve.logInteraction(t)}}),[ve,pe]),Ze=(0,i.useCallback)((function(e,r){if(r){var t=pe.headerFactory().followersLinkFactory().hitUiNavigate({destination:r});ve.logInteraction(t)}}),[ve,pe]),Ke=(0,i.useCallback)((function(){var e=pe.actionBarFactory().contextMenuButtonFactory().hitUiReveal();ve.logInteraction(e)}),[ve,pe]);if(!ee||re||je||Oe||Re||Ne)return(0,k.jsx)(d.h,{hasError:!1,errorMessage:u.ag.get("error.not_found.title.page")});var Be=s()("contentSpacing",v),Qe=be&&!(null==Pe||!Pe.length),Je=be&&!(null==ke||!ke.length);return(0,k.jsxs)("div",{className:p,children:[(0,k.jsx)(T.$,{children:ce}),(0,k.jsxs)(U.gF,{backgroundColor:de,children:[(0,k.jsx)(F.W,{children:(0,k.jsx)(W.i,{text:ce})}),(0,k.jsx)(Jr._,{menu:(0,k.jsx)(A.I,{uri:ee.uri}),children:(0,k.jsx)("div",{className:b,children:(0,k.jsx)(E.T,{canEdit:ne,name:ce,images:We,onClick:Fe,placeholderType:"user",shape:U.Kc.CIRCLE})})}),(0,k.jsxs)(U.sP,{children:[(0,k.jsx)(_.D,{variant:"mestoBold",children:ie?(0,k.jsx)(ot.S,{text:u.ag.get("card.tag.profile")}):u.ag.get("card.tag.profile")}),(0,k.jsx)(Jr._,{menu:(0,k.jsx)(A.I,{uri:ee.uri}),children:(0,k.jsx)(U.xd,{canEdit:ne,editTitle:u.ag.get("playlist.edit-details.title"),onClick:Me,children:ce})}),(0,k.jsx)(U.QS,{totalFollowers:ee.followers_count,totalFollowing:ee.following_count,publicPlaylists:ee.total_public_playlists_count,userUri:l,onCreatorClick:Le,onTotalFollowersClick:He,onTotalFollowingClick:Ze})]})]}),(0,k.jsx)(N.o,{backgroundColor:de,children:(0,k.jsxs)(N.F,{children:[!ne&&(0,k.jsx)(M.r,{children:(0,k.jsx)(L.e,{isFollowing:Boolean(w),onClick:Ee,disabled:q})}),(0,k.jsx)(Qr.y,{menu:(0,k.jsx)(A.I,{uri:ee.uri,onEditProfileCallback:Me}),children:(0,k.jsx)(D.z,{label:u.ag.get("more.label.context",ce),onClick:Ke})})]})}),(0,k.jsxs)(Gr.Nh,{spec:pe,children:[ne&&(0,k.jsxs)(k.Fragment,{children:[!(null==Ae||!Ae.items.length)&&(0,k.jsx)(lt.q,{className:Be,total:(null==Ae?void 0:Ae.total)||0,title:u.ag.get("top_artists_this_month"),tagline:u.ag.get("only_visible_to_you"),seeAllUri:(0,o.QK)(se,["top","artists"]).toURI(),id:"top-artists",index:0,children:Ae.items.map((function(e,r){return(0,k.jsx)(C.I,{index:r,uri:e.uri,name:e.name,images:e.images},e.uri)}))}),(0,k.jsx)(at,{className:Be,title:u.ag.get("top_tracks_this_month"),tagline:u.ag.get("only_visible_to_you"),seeAllUri:(0,o.QK)(se,["top","tracks"]).toURI(),uri:l,tracks:null==Te?void 0:Te.items,spec:he})]}),(0,k.jsx)(lt.q,{className:Be,total:ee.total_public_playlists_count,title:u.ag.get("public_playlists"),seeAllUri:(0,o.QK)(se,["playlists"]).toURI(),id:"playlists",index:1,children:null==te?void 0:te.map((function(e,r){return(0,k.jsx)(R.Z,{index:r,uri:e.uri,name:e.name,images:[{url:qr({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?u.ag.get("user.followers",e.followers_count):""},e.uri)}))}),null!=oe&&oe.length?(0,k.jsx)(lt.q,{className:Be,total:null==oe?void 0:oe.length,title:u.ag.get("recently_played_artists"),seeAllUri:(0,o.QK)(se,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:2,children:null==oe?void 0:oe.map((function(e,r){return(0,k.jsx)(C.I,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,Qe?(0,k.jsx)(lt.q,{className:Be,title:u.ag.get("followers"),total:null==Pe?void 0:Pe.length,seeAllUri:(0,o.QK)(se,["followers"]).toURI(),id:"followers",index:3,children:null==Pe?void 0:Pe.map((function(e,r){return(0,k.jsx)(c.P,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,Je?(0,k.jsx)(lt.q,{className:Be,title:u.ag.get("following"),total:null==ke?void 0:ke.length,seeAllUri:(0,o.QK)(se,["following"]).toURI(),id:"following",index:4,children:null==ke?void 0:ke.map((function(e,r){return(0,k.jsx)(c.P,{index:r,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)}))}):null,ne&&Q&&("editProfile"===J?(0,k.jsx)(Er,{uri:l,name:ce,image:le,onClose:Ue,shouldOpenImagePicker:G}):null)]})]})},dt=function(e){var r=e.uri,t=(0,f.J)(g.n5.getPlaylists,[{uri:r}]),i=t.data,a=t.loading,n=t.error,o=i||{},l=o.public_playlists,c=o.total_public_playlists_count,p=void 0===c?0:c;return a?(0,k.jsx)(d.h,{hasError:null!==n,errorMessage:u.ag.get("error.not_found.title.page")}):(0,k.jsx)(m.P,{className:s()("contentSpacing",h),total:p,title:u.ag.get("public_playlists"),showAll:!0,children:null==l?void 0:l.map((function(e,r){return(0,k.jsx)(R.Z,{index:r,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?u.ag.get("user.followers",e.followers_count):"",images:[{url:qr({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)}))})},mt=function(e){var r=e.uri,t=(0,f.J)(g.n5.getRecentlyPlayedArtists,[{uri:r,limit:50}]),i=t.data,a=t.loading,n=t.error,o=null==i?void 0:i.artists;return a?(0,k.jsx)(d.h,{hasError:null!==n,errorMessage:u.ag.get("error.not_found.title.page")}):(0,k.jsx)(m.P,{className:s()("contentSpacing",h),total:null==o?void 0:o.length,title:u.ag.get("recently_played_artists"),showAll:!0,children:null==o?void 0:o.map((function(e,r){return(0,k.jsx)(C.I,{index:r,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)}))})},ft=function(){var e=(0,f.J)(g.n5.getUserTopArtists),r=e.data,t=e.loading,i=e.error,a=null==r?void 0:r.body;return t?(0,k.jsx)(d.h,{hasError:null!==i,errorMessage:u.ag.get("error.not_found.title.page")}):a?(0,k.jsx)(m.P,{className:s()("contentSpacing",h),total:a.items.length,title:u.ag.get("top_artists_this_month"),tagline:u.ag.get("only_visible_to_you"),showAll:!0,children:a.items.map((function(e,r){return(0,k.jsx)(C.I,{index:r,uri:e.uri,name:e.name,images:e.images},e.uri)}))}):null},gt=function(e){var r=e.uri,t=(0,f.J)(g.n5.getProfile,[{uri:r}]),i=t.data,a=t.loading,n=t.error,o=(null==i?void 0:i.is_current_user)||!1;return i&&!a&&o?(0,k.jsx)(ft,{}):(0,k.jsx)(d.h,{hasError:null!==n,errorMessage:u.ag.get("error.not_found.title.page")})},pt=function(e){var r=e.uri,t=(0,f.J)(g.n5.getUserTopTracks,[{offset:0,limit:50}]),i=t.data,a=t.loading,n=t.error,o=null==i?void 0:i.body;return a?(0,k.jsx)(d.h,{hasError:null!==n,errorMessage:u.ag.get("error.not_found.title.page")}):o?(0,k.jsxs)("div",{className:s()("contentSpacing",h,y),children:[(0,k.jsxs)("div",{className:x,children:[(0,k.jsx)(_.D,{as:"h1",variant:"canon",className:j,children:u.ag.get("top_tracks_this_month")}),(0,k.jsx)(_.D,{as:"p",variant:"mesto",children:u.ag.get("only_visible_to_you")})]}),(0,k.jsx)(it,{tracks:o.items,uri:r,hasHeaderRow:!0})]}):null},vt=function(e){var r=e.uri,t=(0,f.J)(g.n5.getProfile,[{uri:r}]),i=t.data,a=t.loading,n=t.error,o=(null==i?void 0:i.is_current_user)||!1;return i&&!a&&o?(0,k.jsx)(pt,{uri:r}):(0,k.jsx)(d.h,{hasError:null!==n,errorMessage:u.ag.get("error.not_found.title.page")})},ht=t(54334);const bt=(0,i.memo)((function(){var e=(0,a.UO)().userId,r=decodeURIComponent(void 0===e?"":e),t=(0,o.QK)(r).toURI();return(0,k.jsx)("section",{children:(0,k.jsxs)(a.Z5,{children:[(0,k.jsx)(a.AW,{path:"playlists",element:(0,k.jsx)(ht.K,{pageId:n.Wg.PROFILE_PLAYLISTS,children:(0,k.jsx)(dt,{uri:t})})}),(0,k.jsx)(a.AW,{path:"top/tracks",element:(0,k.jsx)(ht.K,{pageId:n.Wg.PROFILE_TOP_TRACKS,children:(0,k.jsx)(vt,{uri:t})})}),(0,k.jsx)(a.AW,{path:"top/artists",element:(0,k.jsx)(ht.K,{pageId:n.Wg.PROFILE_TOP_ARTISTS,children:(0,k.jsx)(gt,{uri:t})})}),(0,k.jsx)(a.AW,{path:"recently-played-artists",element:(0,k.jsx)(ht.K,{pageId:n.Wg.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,k.jsx)(mt,{uri:t})})}),(0,k.jsx)(a.AW,{path:"following",element:(0,k.jsx)(ht.K,{pageId:n.Wg.PROFILE_FOLLOWING,children:(0,k.jsx)(I,{uri:t})})}),(0,k.jsx)(a.AW,{path:"followers",element:(0,k.jsx)(ht.K,{pageId:n.Wg.PROFILE_FOLLOWERS,children:(0,k.jsx)(w,{uri:t})})}),(0,k.jsx)(a.AW,{path:"/",element:(0,k.jsx)(ht.K,{pageId:n.Wg.PROFILE,children:(0,k.jsx)(ct,{uri:t})})})]})})}))},68087:(e,r,t)=>{t.d(r,{$:()=>i});var i=function(e){var r;return(null==e||null===(r=e.linked_from)||void 0===r?void 0:r.uri)||e.uri}}}]);
//# sourceMappingURL=xpui-routes-profile.js.map