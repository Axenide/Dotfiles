"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[9124],{77473:(e,r,n)=>{n.r(r),n.d(r,{default:()=>Y});n(62780),n(22369),n(30246),n(162),n(61235),n(69724);var t=n(59496),i=n(61740),l=n(41177),s=n(59272),a=n(17249),o=n(15632),d=n(60817),u=n(77999),c=n(68833),f=n(45389),g=(n(95675),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(10506)),p=n(22129),m=n(23498),x=n(72030),j=n(83474),h=n(4637);function y(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}var b=function(e){var r=e.folder,n=e.index,t=r.items.filter((function(e){return e.type===j.p.PLAYLIST})).length,i=r.items.filter((function(e){return"folder"===e.type})).length;return(0,h.jsx)(m.C,{uri:r.uri,index:n,featureIdentifier:"folder",headerText:r.name,renderSubHeaderContent:function(){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(g.D,{variant:"mesto",children:[a.ag.get("web-player.folder.playlists",t),","," ",a.ag.get("web-player.folder.folders",i)]})})},renderCardImage:function(){return(0,h.jsx)(x.x,{FallbackComponent:function(e){return(0,h.jsx)(p.P,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?y(Object(n),!0).forEach((function(r){(0,f.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({iconSize:64},e))}})},isPlayable:!1})},v=n(88843);const P="folder-folderPage-sectionWrapper",O="rbLspqGazxdY3fuaxvkM",w="_odE2h85itP7mBz2_vUR",N="x49I_IPmWNCLnUJSw28O";var U=function(e){var r=e.folderName,n=e.folderUri;return(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)(p.P,{className:N}),(0,h.jsx)(v.default,{to:n,children:(0,h.jsx)(g.D,{variant:"canon",children:r})})]})},k=n(84340),C=n(78142),I=function(e){var r=e.folder,n=e.isFolder,t=e.isPlaylist,i=function(e,r){return n(e)?(0,h.jsx)(b,{folder:e,index:r}):t(e)?(0,h.jsx)(o.Z,{index:r,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,isPlayable:e.totalLength>0}):null};return(0,h.jsxs)("div",{children:[(0,h.jsx)(U,{folderName:r.name,folderUri:r.uri}),(0,h.jsx)(k.T,{render:function(){return r.items.map((function(e,r){return(0,h.jsx)(C.ZP,{value:"card",index:r,children:i(e,r)},e.uri)}))}})]})},L=n(1003),F=n(78403),D=n(84737),S=n(64371),M=function(e){var r=e.folderUri,n=e.hasPlaylists,t=e.onClick,i=e.playing,l=e.supportsFolderPlayback;return(0,h.jsx)(D.o,{children:(0,h.jsx)(D.F,{children:l&&(0,h.jsx)(S.$,{onClick:t,isPlaying:i,size:"lg",disabled:!n,uri:r})})})},E=n(23006),Z=n(35833),T=n(61996),_=function(e){var r=e.folderName,n=e.folderUri;return(0,h.jsxs)(E.gF,{children:[(0,h.jsx)(Z.W,{children:(0,h.jsx)(T.i,{text:r,dragUri:n,dragLabel:r})}),(0,h.jsxs)(E.sP,{children:[(0,h.jsx)(g.D,{variant:"mestoBold",children:a.ag.get("folder.title")}),(0,h.jsx)(E.xd,{dragUri:n,dragLabel:r,children:r})]})]})},z=function(e){var r=e.id,n=(0,i.v9)((function(e){var r,n=e.session;return null==n||null===(r=n.user)||void 0===r?void 0:r.id}))||"",l=(0,s.ir)(n,r).toURI(),f=(0,F.C)({folderUri:l,decorateImagesAndOwner:!0}),g=(0,i.v9)((function(e){return e.platform.isDesktop})),p=(0,L.n)({uri:l},{featureIdentifier:"folder"}),m=p.isPlaying,x=p.togglePlay,y=function(e){return e.type===j.p.PLAYLIST},b=function(e){return"folder"===e.type},v=(0,t.useMemo)((function(){return f?f.items.filter(y):[]}),[f]),w=(0,t.useMemo)((function(){return f?f.items.filter(b):[]}),[f]),N=v.length>0||w.length>0;return f?(0,h.jsxs)("section",{className:P,children:[(0,h.jsx)(d.$,{children:a.ag.get("playlist.page-title",f.name)}),(0,h.jsx)(_,{folderName:f.name,folderUri:l}),(0,h.jsx)(M,{supportsFolderPlayback:g,onClick:function(){return x()},playing:m,hasPlaylists:N,folderUri:l}),(0,h.jsx)("div",{className:"contentSpacing",children:N?(0,h.jsx)(C.ZP,{value:"EntitiesGrid",children:(0,h.jsxs)("div",{className:O,children:[(0,h.jsx)(k.T,{render:function(){return v.map((function(e,r){return(0,h.jsx)(C.ZP,{value:"card",index:r,children:(0,h.jsx)(o.Z,{index:r,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:e.owner.displayName,isPlayable:e.totalLength>0})},e.uri)}))}}),w.map((function(e){return(0,h.jsx)(I,{folder:e,isPlaylist:y,isFolder:b},e.uri)}))]})}):(0,h.jsx)(u.u,{title:a.ag.get("folder.empty.title"),message:a.ag.get("folder.empty.subtitle"),renderInline:!0})})]}):(0,h.jsx)(c.h,{hasError:!1,errorMessage:a.ag.get("error.generic")})};const Y=(0,t.memo)((function(){var e=(0,l.UO)().folderId,r=void 0===e?"":e;return(0,h.jsx)(z,{id:r},r)}))}}]);
//# sourceMappingURL=xpui-routes-folder.js.map