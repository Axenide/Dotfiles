"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4179],{4978:(e,i,n)=>{n.r(i),n.d(i,{default:()=>En});var t=n(45389),a=n(8850),r=n(39130),l=n(10995),s=n.n(l),o=(n(162),n(30246),n(69109),n(90511),n(59496)),d=n(84875),c=n.n(d),u=n(41177),m=n(10506),k=n(38674),v=n(40173),p=n(59272),g=n(17249),h=n(84737),f=n(71767),y=n(54669),N=n(56075),S=n(98235),b=n(23006),j=n(35833),x=n(61996),O=n(68833),F=n(64371),T=n(58162),A=n(47982),I=n(58069),P=n(84340),C=n(710),L=n(19873),w=(n(59538),n(79611),n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(16391));function D(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function R(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?D(Object(n),!0).forEach((function(i){(0,t.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}var U,Z=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({}),E=(0,w.Uy)((function(e,i){switch(i.type){case"LYRICS_LOADING":e[i.uri]={status:Z.LOADING};break;case"LYRICS_LOADED":e[i.uri]={status:Z.LOADED,data:{lyrics:R({},i.response.lyrics)}};break;case"LYRICS_ERROR":e[i.uri]={status:Z.UNAVAILABLE};break;default:throw new Error("Unhandled lyrics action with type: ".concat(i.type))}})),_=n(60808),B=n(1074),M=function(){var e=(0,a.Z)(s().mark((function e(i){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,p.EC)(i),e.next=3,B.Zz.getSEOTrackLyrics(_.b.getInstance(),n.id);case 3:return t=e.sent,e.abrupt("return",t.body);case 5:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),G=n(4637),z={status:Z.LOADING},K={status:Z.UNAVAILABLE},V=o.createContext(void 0),W=function(e){var i=e.children,n=e.initialState,t=void 0===n?{}:n,a=o.useReducer(E,t);return(0,G.jsx)(V.Provider,{value:a,children:i})},Y=function(e,i){var n=o.useContext(V);if(void 0===n)throw new Error("useSEOLyrics must be used within a LyricsSEOProvider");if(!e||!(0,p.wj)(e)||i)return K;var t=(0,r.Z)(n,2),a=t[0],l=t[1],s=a[e];return s||(l({type:"LYRICS_LOADING",uri:e}),M(e).then((function(i){l({type:"LYRICS_LOADED",uri:e,response:i})})).catch((function(){l({type:"LYRICS_ERROR",uri:e})})),z)},Q=n(1003),J=n(8632),q=n(24511),H=n(87824),X=n(81711),$=n(8701),ee=function(e,i){return(0,$.vI)(X.k.IlrTrackCanonicalTop,i)||e===H.Zn.CANONICAL_TOP_POSITION},ie=function(e,i){return(0,$.vI)(X.k.IlrTrackCanonicalBottom,i)||e===H.Zn.CANONICAL_BOTTOM_POSITION},ne=function(e,i){return(0,$.vI)(X.k.IlrTrackOrganicTop,i)||e===H.Zn.ORGANIC_TOP_POSITION},te=function(e,i){return(0,$.vI)(X.k.IlrTrackOrganicBottom,i)||e===H.Zn.ORGANIC_BOTTOM_POSITION},ae=function(e,i){return ee(e,i)||ie(e,i)||ne(e,i)||te(e,i)},re=(U={},(0,t.Z)(U,H.Zn.DEFAULT,void 0),(0,t.Z)(U,H.Zn.CONTROL,void 0),(0,t.Z)(U,H.Zn.CANONICAL_TOP_POSITION,q.JI.ContentOnly),(0,t.Z)(U,H.Zn.CANONICAL_BOTTOM_POSITION,q.JI.ContentOnly),(0,t.Z)(U,H.Zn.ORGANIC_TOP_POSITION,q.JI.OrganicTraffic),(0,t.Z)(U,H.Zn.ORGANIC_BOTTOM_POSITION,q.JI.OrganicTraffic),n(20188));const le="UDuv2dzJuOEimwKzf_Ht",se="crU3_phk5OplHUp2b_iW";var oe=function(e){var i=e.padded;return(0,G.jsx)(m.D,{as:"p",dir:"auto",variant:"finale",className:"".concat(le," ").concat(i?se:""),children:"Lyrics powered by Musixmatch."})},de=function(e){var i=e.uri;return Y(i).status!==Z.LOADED?null:(0,G.jsx)(oe,{})},ce=n(98148),ue=n(88843),me=n(78142),ke=n(48547),ve=n(52300);function pe(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function ge(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?pe(Object(n),!0).forEach((function(i){(0,t.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}var he=function(e){var i=e.album,n=e.index,t=e.artistURI;return(0,G.jsx)(me.ZP,{value:"card",index:n,children:(0,G.jsx)(ve.i,ge({index:n,latest:!1,showType:!0},(0,ke.B$)(i,t,i.name)))})},fe=n(54658),ye=function(e){var i=e.albums,n=e.artistName,t=e.artistId,a=e.artistUri,r=e.className;return i?(0,G.jsx)(me.ZP,{value:"shelf/albums",children:(0,G.jsx)(fe.P,{total:i.totalCount,title:g.ag.get("rich-page.popular-albums-by-artist",{artist:n}),seeAllUri:"".concat((0,ke.GJ)(t),":discography:").concat(q.VZ.Album.toLowerCase()),seeAllLabel:g.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,ke.Hr)(i.items).map((function(e,i){return(0,G.jsx)(he,{album:e,index:i,artistURI:a},e.uri)}))})}):null},Ne=n(5497),Se=function(e){var i=e.artistName,n=e.artistUri,t=e.headerClassName,a=e.rowClassName,r=e.topTracks,l=e.topTracksTransformer,s=e.uri,d=(0,o.useMemo)((function(){return null==r?void 0:r.items.map((function(e){return l(e,s)}))}),[null==r?void 0:r.items,l,s]),c=(0,Q.n)({uri:n},{featureIdentifier:"artist"}).usePlayContextItem;return d&&d.length>0?(0,G.jsxs)("div",{className:a,children:[(0,G.jsxs)("div",{children:[(0,G.jsx)(m.D,{variant:"mesto",children:g.ag.get("rich-page.popular-tracks")}),(0,G.jsx)(m.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:t,children:i})]}),(0,G.jsx)(Ne.k,{nrTracks:d.length,initialTracks:d,usePlayContextItem:c})]}):null},be=n(39106),je=function(e){var i=e.artistName,n=e.artistId,t=e.artistUri,a=e.className,r=e.releases,l=e.artistImages;return r?(0,G.jsx)(me.ZP,{value:"shelf/releases",children:(0,G.jsx)(fe.P,{total:10,title:g.ag.get("rich-page.popular-releases-by-artist",{artist:i}),seeAllUri:"".concat((0,ke.GJ)(n),":discography:").concat(q.VZ.Album.toLowerCase()),seeAllLabel:g.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:a,listRowHeaderProps:l?{title:i,pretitle:g.ag.get("artist-page.popular"),media:(0,be.o)(l,{desiredSize:48})||""}:null,children:r.items.map((function(e,i){return(0,G.jsx)(he,{album:e,index:i,artistURI:t},e.uri)}))})}):null},xe=function(e){var i=e.artistId,n=e.artistName,t=e.artistUri,a=e.className,r=e.singles;return r?(0,G.jsx)(me.ZP,{value:"shelf/singles-and-eps",children:(0,G.jsx)(fe.P,{total:r.totalCount,title:g.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:n}),seeAllUri:"".concat((0,ke.GJ)(i),":discography:").concat(q.VZ.Single.toLowerCase()),seeAllLabel:g.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:a,children:(0,ke.Hr)(r.items).map((function(e,i){return(0,G.jsx)(he,{album:e,index:i,artistURI:t},e.uri)}))})}):null},Oe=n(76956);const Fe="o2TlnuNKxRO5RnB9BpHB",Te="q0Ke_aAvTcc4dO4wCHQt",Ae="UlKUfS_GcROZmofuafOW",Ie="I5LORTI1u3A6VoUvRCBf",Pe="TS85Qkpioa31wR0p4kzT",Ce="yL1DLXBc05CR_ACv_NhA",Le="k5kRkUyoz9znqg_SGOVQ";var we=n(93867),De=n(62823),Re=n(34229),Ue=n(83474),Ze=n(90321),Ee=function(e){return e.SMALL="small",e.LARGE="large",e}({});var _e=function(e){var i,n=e.art,a=e.disabled,r=void 0!==a&&a,l=e.LinkComponent,s=e.name,o=e.size,d=void 0===o?Ee.SMALL:o,k=e.type,v=e.uri,h=n?[n]:[],f=d===Ee.SMALL?(0,De.R)(k):function(e){switch(e){case we.albumType.SINGLE:return g.ag.get("track-page.from-the-single");case we.albumType.EP:return g.ag.get("track-page.from-the-ep");case we.albumType.COMPILATION:return g.ag.get("track-page.from-the-compilation");case we.albumType.ALBUM:default:return g.ag.get("track-page.from-the-album")}}(k),y=(0,u.s0)();return(0,G.jsxs)("div",{className:c()(Fe,(i={},(0,t.Z)(i,Ae,d===Ee.SMALL),(0,t.Z)(i,Te,r),i)),children:[(0,G.jsx)("div",{className:Ie,children:(0,G.jsx)(Re.O,{images:h,size:Ze.m$.SIZE_80,title:s,type:Ue.p.ALBUM})}),(0,G.jsxs)("div",{className:Pe,children:[(0,G.jsx)(m.D,{variant:d===Ee.SMALL?"mestoBold":"finale",children:f}),(0,G.jsx)(l,{to:v,children:(0,G.jsx)(m.D,{as:"div",className:Ce,variant:"balladBold",dir:"auto",children:s})})]}),(0,G.jsx)("div",{onClick:function(){y((0,p.EC)(v).toURLPath(!0))},className:Le})]})},Be=(n(16366),n(70785),n(83001),n(27639),n(71756),n(45880),n(82088),n(22077)),Me=n(59927),Ge=n(51882);const ze="oTRKhYD0MZlNPm66W3Tw",Ke="sc95MwPalcHwYGZ7j3xN",Ve="zrCZCfYv4zZiB1HYv9i8",We="RnlxIDmWcYTbbwNSJNjA",Ye="SHkxfN1vy0wpRMP1hK7I",Qe="COXBS6zLyyxKNYuEAzjZ",Je="pynMsudlBeLA8TZkPvmK",qe="sR5IpdOUvoUGYKlC9Dk1",He="FHMr3WxshoYjZ7jd3YwI",Xe="Evcwc4KM2tf9xrLbfB8B",$e="x4_dsi31Cx2SO1L0uYIj",ei="euPDqfFEBILj9KHDNLC1",ii="x6FPRUKK40oDCPP7g6Ls",ni="k3SPcfaKewjfdYumDcGw",ti="t9C7vRiN1OSC9uWfJEr0",ai="Onv6dO4lntCzKUqYa8PE";const ri=function(e){var i=e.richTrack,n=(0,u.TH)().search,t=(0,o.useCallback)((function(){return new URLSearchParams(n.slice(1)).get("highlight")||""}),[n])(),a=(0,Ge.W)().tracklistRef,r=i.albumOfTrack,l=(0,Me.Y)((null==r?void 0:r.uri)||""),s=(0,Q.n)({uri:l},{featureIdentifier:"album"}).usePlayContextItem,d=(0,o.useMemo)((function(){return{items:[],totalCount:0}}),[]);return r?(0,G.jsx)("div",{ref:a,className:qe,children:(0,G.jsx)(Be.L,{ariaLabel:r.name,nrTracks:r.tracks.totalCount,albumUri:r.uri,highlightUri:t,discs:d,usePlayContextItem:s,hasHeaderRow:!1})}):null};var li=n(61740),si=n(3269),oi=n(54691),di=n(56200),ci=n(6336),ui=n(90902),mi=n(71163),ki=n(1962),vi=n(19174),pi=n(67720),gi=n(69395),hi=n(14699);const fi="Z9Dr8PkXFtlO8KnnDcxp",yi="Bm0LUMlhVIcF5qusgdUP",Ni="GIyB7JDkRwjtVL6PSBbg",Si="whTIka0YYAkqhqrs26Wa";var bi=o.memo((function(e){var i,n=e.uri,t=e.name,a=e.imgUrl,r=e.artists,l=e.isExplicit,s=e.index,o=e.album,d=e.contextUri,c=e.isPlayable,u=e.usePlayContextItem,m=e.isMOGEFRestricted,k=e.totalMilliseconds,v=u({uri:n,index:s}),p=v.isActive,h=v.isPlaying,f=v.triggerPlay,y=v.togglePlay,N=(0,mi._)(n),b=(0,vi.k)(n,c),j=r.map((function(e){return e.name})).join(g.ag.getSeparator()),x=(0,ki.r)({isMOGEFRestricted:m,downloadAvailability:N,isExplicit:l}),O=x.badges,F=x.hasBadges,T=r.map((function(e){return e.name})).join(g.ag.getSeparator());return(0,G.jsx)(me.ZP,{value:"row",index:s,children:(0,G.jsx)(oi._,{menu:(0,G.jsx)(S.$,{uri:n,albumUri:null==o?void 0:o.uri,artists:r,contextUri:d}),children:(0,G.jsxs)(hi.c,{uri:n,contextUri:d,isPlayable:b,onTriggerPlay:function(e,i){f({loggingParams:i})},isActive:p,index:s,ariaRowIndex:s,dragMetadata:{name:t,createdBy:j},children:[(0,G.jsxs)(gi.vZ,{ariaColIndex:0,children:[(0,G.jsx)(gi.VG,{uri:n,src:a,onClick:function(e,i){y({loggingParams:i})},isLocked:!1,isPlaying:h,isActive:p,playAriaLabel:g.ag.get("tracklist.a11y.play",t,j)}),(0,G.jsxs)(gi.vm,{children:[(0,G.jsx)(pi.G,{uri:n,enabled:!0,className:Ni,children:(0,G.jsx)(gi.Wh,{titleText:t,children:t})}),F&&(0,G.jsxs)(gi.g3,{children:[O.download&&(0,G.jsx)(di.G,{size:16}),O.explicit&&(0,G.jsx)(ci.N,{}),O.nineteen&&(0,G.jsx)(ui.X,{className:Si,size:16})]}),(0,G.jsx)(gi.K9,{children:(0,G.jsx)(gi.T6,{artists:r})})]})]}),o&&(0,G.jsx)(gi.UA,{ariaColIndex:1,children:(0,G.jsx)(gi.BM,{uri:o.uri,name:o.name,creatorUri:null==r||null===(i=r[0])||void 0===i?void 0:i.uri,children:o.name})}),(0,G.jsxs)(gi.mU,{ariaColIndex:2,children:[(0,G.jsx)(gi.qS,{uri:n}),(0,G.jsx)(gi.A$,{duration:k}),(0,G.jsx)(gi.Zv,{menu:(0,G.jsx)(S.$,{uri:n,albumUri:null==o?void 0:o.uri,contextUri:d,artists:r}),label:g.ag.get("more.label.track",t,T)})]})]})})})}),(function(e,i){return e.uri===i.uri&&e.index===i.index})),ji=n(83014),xi=n(9294),Oi={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"internalLinkRecommenderTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"strategy"}},type:{kind:"NamedType",name:{kind:"Name",value:"SEORankingStrategy"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seoRecommended"},arguments:[{kind:"Argument",name:{kind:"Name",value:"seoRecommendedInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"strategy"},value:{kind:"Variable",name:{kind:"Name",value:"strategy"}}},{kind:"ObjectField",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ilrTrackData"}}]}}]}}]}}]}}].concat((0,ji.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"ilrTrackData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]))},Fi=n(71238),Ti=n(97871),Ai=n(30697),Ii=n(1754),Pi=n(94152);function Ci(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function Li(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?Ci(Object(n),!0).forEach((function(i){(0,t.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}var wi=n(6034),Di=n(10785),Ri=n(1017),Ui=n(29893),Zi=n(11794),Ei=function(e){return"NotFound"!==(null==(i=e)?void 0:i.__typename)&&"GenericError"!==(null==i?void 0:i.__typename)&&"Track"===e.__typename;var i};function _i(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function Bi(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?_i(Object(n),!0).forEach((function(i){(0,t.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}var Mi=function(e){return e?e.filter((function(e){return Ei(e.data)})).map((function(e){return e.data.uri})):[]},Gi=o.memo((function(e){var i,n,t,a=e.strategy,r=e.uri,l=(n={uri:r,strategy:a},(0,xi.a)(Oi,n,t)).data,s=null==l?void 0:l.seoRecommended.items,d=(0,o.useMemo)((function(){return null==s?void 0:s.slice(0,Math.min(s.length,5))}),[s]),c=(0,o.useCallback)((function(e){return e.uri}),[]),u=(0,o.useMemo)((function(){return[Zi.QD.TITLE,Zi.QD.ALBUM,Zi.QD.DURATION]}),[]),v=(0,wi.g)(),p=(0,li.v9)(Ui.n5),h=(0,li.v9)(Ri.rZ);!function(e){var i=e.category,n=e.action,t=e.remoteConfigProperty,a=e.defaultVariant,r=e.label,l=e.context,s=e.country,d=e.spt,c=void 0!==d&&d,u=e.isAnonymous,m=void 0!==u&&u,v=(0,k.W6)(t),p=(0,Pi.s4)();(0,o.useEffect)((function(){if(v&&r){var e=Li(Li(Li({category:i,action:n,variant:null!=a?a:v,label:r,os:(0,Ai.y)()},l&&{context:l}),s&&{country:s}),c&&{sp_t:(0,Ii.vQ)("sp_t")});m?p.send((0,Ti.k)(e)):p.send((0,Fi.x)(e))}}),[v,r,i,n,l,s,c,m,p,a])}({category:"track_ilr_exposures",action:"track_page_visit",remoteConfigProperty:Di.YS,label:"dwp",context:"".concat(r,"|").concat(Mi(s)),country:p?h:"",spt:!0,isAnonymous:v});var f=null===(i=s||[])||void 0===i?void 0:i.map((function(e){return Ei(e.data)?Bi(Bi({},e.data),{},{provider:null,type:Ue.p.TRACK,uid:null}):{type:Ue.p.TRACK,uri:"",uid:null,provider:null}})),y=(0,Me.Y)(r),N=(0,Q.n)({uri:y,pages:[{items:f}]},{featureIdentifier:"track"}).usePlayContextItem,S=(0,o.useCallback)((function(e,i){var n,t,a,l,s,d,c,u,m;if(!Ei(e.data))return(0,G.jsx)(o.Fragment,{});var k=e.data;return(0,G.jsx)(bi,{index:i,contextUri:r,uri:k.uri,name:k.name,totalMilliseconds:k.duration.totalMilliseconds,imgUrl:null===(n=k.albumOfTrack)||void 0===n||null===(t=n.coverArt)||void 0===t?void 0:t.sources[0].url,isPlayable:k.playability.playable,artists:k.artists.items.map((function(e){return{uri:e.uri,id:e.id,name:e.profile.name}})),album:{id:(null===(a=k.albumOfTrack)||void 0===a?void 0:a.id)||"",uri:(null===(l=k.albumOfTrack)||void 0===l?void 0:l.uri)||"",name:(null===(s=k.albumOfTrack)||void 0===s?void 0:s.name)||"",imgUrl:(null===(d=k.albumOfTrack)||void 0===d||null===(c=d.coverArt)||void 0===c?void 0:c.sources[0].url)||""},isExplicit:(null===(u=k.contentRating)||void 0===u?void 0:u.label)===q.KS.Explicit,isMOGEFRestricted:(null===(m=k.contentRating)||void 0===m?void 0:m.label)===q.KS.NineteenPlus,usePlayContextItem:N},"".concat(i,"-").concat(k.uri))}),[r,N]);return null!=s&&s.length?(0,G.jsxs)("div",{className:fi,children:[(0,G.jsxs)("div",{className:yi,children:[(0,G.jsx)(m.D,{variant:"canon",semanticColor:"textBase",children:g.ag.get("playlist.extender.recommended.title")}),(0,G.jsx)(m.D,{variant:"mesto",paddingBottom:si.o78,children:g.ag.get("internal-link-recommender.based-on-this-song")})]}),(0,G.jsx)(Zi.Pv,{ariaLabel:g.ag.get("playlist.extender.recommended.title"),nrTracks:Math.min(s.length,5),rowPlaceholder:Zi.hU,tracks:d,renderRow:S,resolveUri:c,columns:u},"internal-link-recommender-track-list")]}):null})),zi=n(60334),Ki=function(e){var i=e.artistId,n=e.className,t=e.fansAlsoLike,a=e.title;return(0,G.jsx)(me.ZP,{value:"shelf/fans-also-like",children:(0,G.jsx)(fe.P,{total:t.length,title:null!=a?a:g.ag.get("rich-page.fans-also-like"),seeAllUri:"".concat((0,ke.GJ)(i),":related"),className:n,children:t.map((function(e,i){var n;return(0,G.jsx)(me.ZP,{value:"card",index:i,children:(0,G.jsx)(zi.I,{index:i,uri:e.uri,name:e.profile.name,images:(null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources)||[]})},e.uri)}))})})},Vi=n(17150);function Wi(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function Yi(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?Wi(Object(n),!0).forEach((function(i){(0,t.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}var Qi=(0,o.memo)((function(e){var i,n,a,l,s,d,v,p,h,f=e.track,y=e.richTrackArtists,N=(0,u.TH)(),S=(0,k.W6)(Di.YS),b=(0,Oe.k)(),j=f.albumOfTrack,x=null==j||null===(i=j.playability)||void 0===i?void 0:i.playable,O=null===(n=f.artistsWithRoles.items[0])||void 0===n?void 0:n.artist,F=null==O||null===(a=O.discography)||void 0===a?void 0:a.topTracks,T=null==O||null===(l=O.discography)||void 0===l?void 0:l.popularReleasesAlbums,A=null==O||null===(s=O.discography)||void 0===s?void 0:s.albums,I=null==O||null===(d=O.discography)||void 0===d?void 0:d.singles,P={artistId:null==O?void 0:O.id,artistName:null==O||null===(v=O.profile)||void 0===v?void 0:v.name,artistUri:null==O?void 0:O.uri},C=(0,o.useState)(!1),L=(0,r.Z)(C,2),w=L[0],D=L[1],R=(0,o.useCallback)((function(){D(!w)}),[w]),U=(null==y?void 0:y.otherArtists)&&(null==y?void 0:y.otherArtists.items.length)>5;return(0,G.jsxs)("div",{"data-testid":"rich-track",children:[ee(S,N)&&(0,G.jsx)("div",{"data-testid":"canonical-pool-top",children:(0,G.jsx)(Gi,{strategy:q.JI.ContentOnly,uri:f.uri})}),ne(S,N)&&(0,G.jsx)("div",{"data-testid":"organic-pool-top",children:(0,G.jsx)(Gi,{strategy:q.JI.OrganicTraffic,uri:f.uri})}),(0,G.jsx)(Se,{artistName:null==O||null===(p=O.profile)||void 0===p?void 0:p.name,artistUri:null==O?void 0:O.uri,headerClassName:Xe,rowClassName:Ye,topTracks:F,topTracksTransformer:Vi.X7,uri:f.uri}),(0,G.jsx)(je,Yi({className:He,releases:T},P)),(0,G.jsx)(ye,Yi({albums:A,className:He},P)),(0,G.jsx)(xe,Yi({className:He,singles:I},P)),y&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:ei,children:y.otherArtists.items.map((function(e,i){var n,a;return(0,G.jsx)(je,{className:c()($e,(n={},(0,t.Z)(n,ni,i>4),(0,t.Z)(n,ti,w&&i>4),n)),releases:e.artist.discography.popularReleasesAlbums,artistName:e.artist.profile.name,artistId:e.artist.id,artistUri:e.artist.uri,artistImages:null===(a=e.artist.visuals.avatarImage)||void 0===a?void 0:a.sources},e.artist.id)}))}),U&&(0,G.jsx)(ce.o,{onClick:R,className:ai,children:(0,G.jsx)(m.D,{as:"h2",variant:"violaBold",children:w?g.ag.get("show_less"):g.ag.get("mwp.search.artists.all")})}),(0,G.jsx)(Ki,{artistId:O.id,className:c()(He,(0,t.Z)({},ii,y.otherArtists.items.length>0)),fansAlsoLike:y.firstArtist.items[0].artist.relatedContent.relatedArtists.items,title:g.ag.get("artist-page.fansalsolike")})]}),j&&(0,G.jsx)(_e,{art:null===(h=j.coverArt)||void 0===h?void 0:h.sources[0],disabled:!x||!b,LinkComponent:ue.default,name:j.name,type:j.type,size:Ee.LARGE,uri:j.uri}),(0,G.jsx)(ri,{richTrack:f})]})}));const Ji=Qi;var qi=n(63892);const Hi="QhDsXG1Gmo7XmQWLggAO",Xi="bZgWQj7UxvK8GYKWDA7N",$i="AW61P3tnW5cKJCWtbhFh";var en=function(e){var i=e.buttonText,n=e.onSecondaryButtonClick,t=e.onPrimaryButtonClick,a=e.secondaryButtonText,r=e.text;return(0,G.jsxs)("div",{className:Hi,"data-testid":"static-activation-trigger",children:[(0,G.jsx)(m.D,{className:Xi,variant:"cello",children:r}),(0,G.jsxs)("div",{className:$i,children:[(0,G.jsx)(ce.o,{onClick:n,semanticColor:"textBase",children:a}),(0,G.jsx)(qi.D,{onClick:t,colorSet:"invertedLight",children:i})]})]})},nn=n(980);const tn="T1nqQ4HEh3heHy4RCCKa",an="L8zjshPVgUMXyZR4FtOk",rn="YMn1FWcFmOz9osBrNvhF",ln="Inbyq3TnvKDOJtcKFTDQ",sn="lWk5se4WETUOJwaEb8D6",on="i8DyQbWCmDV_8N5XGJQT",dn="t5WPFlGTY6GCd9UOFfLu",cn="AGQ3wRyMVK1odq860qnT",un="ZX_r7uZgPgssaUplfpxT",mn="qrqctaPu2XBpxsw23nPX",kn="XnWidTagai3nQwMPxIMF";var vn=n(64),pn=n(76022),gn=["size","disabled","enableI18nRoutes","enableI18nAdditionalPages"],hn=function(e){return e.SMALL="small",e.LARGE="large",e}({}),fn=function(e){var i=e.disabled,n=e.images,a=e.LinkComponent,r=e.name,l=e.size,s=e.uri,o=e.enableI18nRoutes,d=e.enableI18nAdditionalPages,k=l===hn.SMALL,v=(0,u.s0)(),h=(0,p.EC)(s),f=null==h?void 0:h.type,y=g.ag.getUrlLocale(),N=(0,vn.S9)({localeFeatureFlag:o,entityFeatureFlag:d,urlLocale:y,entity:f,type:"link"});return(0,G.jsxs)("div",{className:c()(an,(0,t.Z)({},rn,i)),"data-testid":"track-artist-link-card",children:[(0,G.jsx)(Re.O,{shape:Re.K.CIRCLE,images:n,size:Ze.m$.SIZE_80,title:r,type:Ue.p.ARTIST}),(0,G.jsxs)("div",{className:c()(sn,(0,t.Z)({},on,k)),children:[(0,G.jsx)(m.D,{variant:"mestoBold",className:ln,children:g.ag.get("card.tag.artist")}),(0,G.jsx)(a,{to:s,children:(0,G.jsx)(m.D,{as:"div",dir:"ltr",className:dn,variant:"balladBold",children:r})})]}),(0,G.jsx)("div",{onClick:function(){var e=null==h?void 0:h.toURL("/".concat(pn.F0).concat(y,"/"));if(h){var i=N?e:h.toURLPath(!0);v(i)}},className:cn})]})},yn=function(e){var i=e.size,n=void 0===i?hn.LARGE:i,a=e.disabled,l=void 0!==a&&a,s=e.enableI18nRoutes,d=e.enableI18nAdditionalPages,u=(0,nn.Z)(e,gn),k=(0,o.useState)(!1),v=(0,r.Z)(k,2),p=v[0],h=v[1],f=(0,o.useCallback)((function(){h(!p)}),[p]),y=u.artists;return(0,G.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,G.jsx)("div",{className:tn,children:y.map((function(e,i){var a;return(0,G.jsx)("div",{className:c()((a={},(0,t.Z)(a,mn,p&&i>5),(0,t.Z)(a,un,i>5),a)),children:(0,G.jsx)(fn,{name:e.name,uri:e.uri,images:e.images,size:n,LinkComponent:u.LinkComponent,disabled:l,enableI18nRoutes:s,enableI18nAdditionalPages:d},e.id)},"".concat(e.uri,"-").concat(i))}))}),y.length>6&&(0,G.jsx)(ce.o,{onClick:f,className:kn,children:(0,G.jsx)(m.D,{as:"p",variant:"violaBold",children:p?g.ag.get("show_less"):g.ag.get("mwp.search.artists.all")})})]})},Nn=n(95267);const Sn="Q3OKWaFrTVTIRZyG05Gh",bn="cFQh4aLbQzp0aYzbWwjY",jn="NAaJboGa8qckhNNQTKTn";var xn=function(e){var i=e.lines,n=void 0===i?[]:i;return 0===n.length?null:(0,G.jsxs)("div",{className:Sn,children:[(0,G.jsx)(m.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:bn,children:g.ag.get("web-player.lyrics.title")}),n.map((function(e,i){var n=e.words;return(0,G.jsx)(m.D,{as:"p",dir:"auto",variant:"ballad",className:jn,children:n},"lyrics-seo-line-".concat(i))}))]})};const On=function(e){var i=e.uri,n=Y(i),t=n.status,a=n.data;return t!==Z.LOADED?null:(0,G.jsx)(xn,{lines:null==a?void 0:a.lyrics.lines})};var Fn=n(37146);function Tn(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function An(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?Tn(Object(n),!0).forEach((function(i){(0,t.Z)(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}var In=function(e){var i=e.albumArtists,n=e.columnCount,a=e.uri,r=n-2,l={"--column-count":n,"--left-column-end":r-2,"--right-column-start":r},s=(0,li.v9)(Ui.Gg).isAnonymous,d=(0,Oe.k)(),u=Y(a,s),m=u.data,k=u.status,v=!!m&&k!==Z.UNAVAILABLE||s,p=(0,li.v9)(Fn.br),h=(0,li.v9)(Fn.yE);return(0,G.jsxs)(o.Suspense,{fallback:null,children:[v&&(0,G.jsx)("div",{className:c()(Ve,(0,t.Z)({},We,n>5)),style:An({},l),children:s?(0,G.jsx)(en,{buttonText:g.ag.get("sign_up"),secondaryButtonText:g.ag.get("login"),text:g.ag.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:Nn.L6,onSecondaryButtonClick:Nn.h$}):(0,G.jsx)(On,{uri:a})}),(0,G.jsx)("div",{className:c()(ze,(0,t.Z)({},Ke,n>5&&v)),style:An({},l),children:(0,G.jsx)(yn,{artists:i,LinkComponent:ue.default,disabled:!d,enableI18nRoutes:p,enableI18nAdditionalPages:h})})]})},Pn=n(60817),Cn=n(98335),Ln=n(90775),wn=n(22465),Dn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRichTrackArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistsFields"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}}].concat((0,ji.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistsFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtists"}}]}}]),(0,ji.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"firstArtist"},name:{kind:"Name",value:"artistsWithRoles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richRelatedArtistsFields"}}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"otherArtists"},name:{kind:"Name",value:"artistsWithRoles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistItem"}}]}}]}}]),(0,ji.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richRelatedArtistsFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedArtists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]}}]),(0,ji.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackArtistPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richArtistFields"}}]}}]}}]}}]),(0,ji.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richArtistFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistAlbums"}}]}}]}}]}}]),(0,ji.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistAlbumFields"}}]}}]}}]),(0,ji.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistAlbumFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}},{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]))},Rn=function(e){var i,n,t,a,r=(t={uri:e},(0,xi.a)(Dn,t,a));if(!r.loading&&"Track"===(null===(i=r.data)||void 0===i||null===(n=i.trackUnion)||void 0===n?void 0:n.__typename))return r.data.trackUnion},Un=function(e){return((null==e?void 0:e.items)||[]).map((function(e){var i;return{name:e.artist.profile.name,images:((null===(i=e.artist.visuals.avatarImage)||void 0===i?void 0:i.sources)||[]).map((function(e){return{url:e.url,width:e.width,height:e.height}})),uri:e.artist.uri,id:e.artist.id}}))},Zn=function(e){var i,n,l=e.uri,d=e.track,p=e.richTrackArtists,O=(0,Ln.o)(),C=(0,Oe.k)(),w=(0,wi.g)(),D=(0,u.TH)(),R=(0,Cn.k)({type:"locale",uri:l}),U=d.artistsWithRoles,Z=d.albumOfTrack,E=d.duration,_=d.name,B=null==Z?void 0:Z.coverArt,M=null==Z?void 0:Z.copyright.items,z=null==Z?void 0:Z.courtesyLine,K=null==Z||null===(i=Z.date)||void 0===i?void 0:i.isoString,V=null==B||null===(n=B.extractedColors)||void 0===n?void 0:n.colorRaw.hex,Y=((null==B?void 0:B.sources)||[]).map((function(e){return{url:e.url,width:e.width||void 0,height:e.height||void 0}})),X={uri:(null==Z?void 0:Z.uri)||"",name:(null==Z?void 0:Z.name)||""},$=(0,k.W6)(H.YS),ee=Un(U),ne=p?ee.concat(Un(p.otherArtists)):ee,le=(0,re.fU)(v.createDesktopTrackEventFactory,{data:{uri:l}}),se=le.spec,oe=le.logger,ce=d.playability.playable,ue=(0,Me.Y)(l),me=(0,Q.n)({uri:ue},{featureIdentifier:"track"}),ke=me.togglePlay,ve=me.isPlaying,pe=me.isActive,ge=(0,L.Z)(l),he=(0,r.Z)(ge,2),fe=he[0],ye=he[1],Ne=(0,o.useCallback)((0,a.Z)(s().mark((function e(){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O({targetUri:l,intent:fe?"unsave":"save",type:"click"}),i=se.actionBarFactory().saveButtonFactory(),oe.logInteraction(fe?i.hitRemoveLike({itemNoLongerLiked:l}):i.hitLike({itemToBeLiked:l})),e.prev=3,e.next=6,ye(!fe);case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,null,[[3,8]])}))),[O,l,fe,se,oe,ye]),Se=(0,o.useCallback)((function(){return(0,J.Zs)({i18n:g.ag,trackArtistsList:ne.map((function(e){return e.name})).join(g.ag.getSeparator()),trackName:d.name,shouldLocalize:R})}),[ne,R,d.name]),be=(0,o.useCallback)((function(e,i){oe.logInteraction(se.headerFactory().artistLinkFactory({position:i.position,uri:i.creator.uri}).hitUiNavigate({destination:i.creator.uri}))}),[oe,se]),je=(0,o.useCallback)((function(){var e=(0,T.aK)({isPlaying:ve,isActive:pe,spec:se.actionBarFactory().playButtonFactory(),logger:oe,uri:l});ke({loggingParams:e})}),[pe,ve,oe,se,ke,l]),xe=(0,o.useCallback)((function(){oe.logInteraction(se.actionBarFactory().contextButtonFactory().hitUiReveal())}),[oe,se]);return(0,G.jsxs)("section",{"data-testid":"track-page",children:[(0,G.jsx)(Pn.$,{children:Se()}),(0,G.jsxs)(b.gF,{backgroundColor:V,children:[(0,G.jsxs)(j.W,{children:[(0,G.jsx)(F.$,{size:"md",onClick:je,disabled:!ce,isPlaying:ve,uri:l}),(0,G.jsx)(x.i,{text:_,dragUri:l,dragLabel:_})]}),(0,G.jsx)(A._P,{menu:(0,G.jsx)(S.$,{uri:l}),children:(0,G.jsx)(b.Oz,{dragUri:l,images:Y,name:_,placeholderType:"album"})}),(0,G.jsxs)(b.sP,{children:[(0,G.jsx)(m.D,{variant:"mestoBold",children:g.ag.get("song")}),(0,G.jsx)(A._P,{menu:(0,G.jsx)(S.$,{uri:l}),children:(0,G.jsx)(b.xd,{dragUri:l,dragLabel:_,children:_})}),(0,G.jsx)(b.QS,{creators:ee,releaseDate:K,durationMilliseconds:E.totalMilliseconds,onCreatorClick:be,isTrack:!0,album:X})]})]}),(0,G.jsx)(h.o,{backgroundColor:V,children:(0,G.jsxs)(h.F,{children:[(0,G.jsx)(b.rn,{children:(0,G.jsx)(F.$,{onClick:je,isPlaying:ve,disabled:!ce,size:"lg",uri:l})}),(0,G.jsx)(b.rn,{children:(0,G.jsx)(f.H,{isAdded:!!fe,onClick:Ne,disabled:!C,size:f.q.md})}),(0,G.jsx)(y.o,{uri:l,isFollowing:!!fe,onFollow:Ne,size:y.q.md}),(0,G.jsx)(A.yj,{menu:(0,G.jsx)(S.$,{uri:l}),onShow:xe,children:(0,G.jsx)(N.z,{label:g.ag.get("more.label.context",_)})})]})}),(0,G.jsxs)(W,{children:[(0,G.jsxs)("div",{className:"contentSpacing",children:[(0,G.jsx)("div",{className:Ye,children:(0,G.jsx)(P.T,{render:function(e){var i=e.columnCount;return(0,G.jsx)(In,{albumArtists:ne,columnCount:i,uri:l})}})}),(0,G.jsx)(Ji,{track:d,richTrackArtists:p})]}),(0,G.jsxs)("div",{className:"contentSpacing",children:[(0,G.jsxs)("div",{className:c()(Qe,(0,t.Z)({},Je,ae($,D))),children:[(0,G.jsx)(I.k,{copyrights:M||[],courtesyLine:z}),!w&&(0,G.jsx)(de,{uri:l})]}),ie($,D)&&(0,G.jsx)("div",{"data-testid":"canonical-pool-bottom",children:(0,G.jsx)(Gi,{strategy:q.JI.ContentOnly,uri:l})}),te($,D)&&(0,G.jsx)("div",{"data-testid":"organic-pool-bottom",children:(0,G.jsx)(Gi,{strategy:q.JI.OrganicTraffic,uri:l})})]})]})]})};const En=(0,o.memo)((function(){var e,i,n,t,a=(0,u.UO)().trackId,r=void 0===a?"":a,l=(0,p.tn)(r).toURI(),s=(0,wn.QN)({uri:l}),o=Rn(l);return s.loading||"Track"!==(null===(e=s.data)||void 0===e||null===(i=e.trackUnion)||void 0===i?void 0:i.__typename)?(0,G.jsx)(O.h,{hasError:null!==s.error,errorMessage:g.ag.get("track-page.error")}):(0,G.jsx)(C.fd,{surface:C.Tg.TRACK,uris:[l,null!==(n=null===(t=s.data.trackUnion.albumOfTrack)||void 0===t?void 0:t.uri)&&void 0!==n?n:null],children:(0,G.jsx)(Zn,{uri:l,track:s.data.trackUnion,richTrackArtists:o})})}))},58069:(e,i,n)=>{n.d(i,{k:()=>l});n(162),n(16366),n(31781),n(69109);var t=n(10506);const a="rTMkDBDp47Eo12ZEQv4U";var r=n(4637),l=function(e){var i=e.copyrights,n=e.courtesyLine,l=(i||[]).map((function(e,i){var n,a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");return n="C"===e.type?"©":"P"===e.type?"℗":"(".concat(e.type,")"),(0,r.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:"".concat(n," ").concat(a)},i)}));return n&&l.unshift((0,r.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:n},l.length)),(0,r.jsx)("div",{className:a,children:l})}},8701:(e,i,n)=>{n.d(i,{vI:()=>t});n(83001),n(22369),n(27639),n(71756),n(45880),n(16366),n(70785),n(162);var t=function(e,i){var n=i?new URLSearchParams(i.search):void 0;return"1"===(null==n?void 0:n.get(e))}},81711:(e,i,n)=>{n.d(i,{k:()=>t});var t=function(e){return e.I18nSEO="i18nSEO",e.RTPTrackCredits="rtpv2p2",e.BlendParty="bp",e.BlendPartyV2="bpv2",e.VideoPodcastShowTitleTag="vidpodshow",e.I18nAdditionalPages="i18nap",e.IlrTrackCanonicalTop="ilr-track-canonical-top",e.IlrTrackCanonicalBottom="ilr-track-canonical-bottom",e.IlrTrackOrganicTop="ilr-track-organic-top",e.IlrTrackOrganicBottom="ilr-track-organic-bottom",e}({})}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map