"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3878],{8262:(e,n,i)=>{i.r(n),i.d(n,{ThisIsTourCard:()=>f,default:()=>f,useThisisPlaylistExtensionQuery:()=>y});var a=i(10506),t=i(94320),l=i(17249),r=i(88843),s=i(20188);const o="nX5e9EyU1GmU42OFVHwH",d="pQmF4tvRpUeLWgPKUcW7",c="mGY3ER0iIvb1NbJ1d7X4",u="JHz_5gqDYpq9Lw3pIac_",m="HPCUzqQRn7oae4vJa3y9",k="WO2PkF5DO1fE25IrD2Gy",p="StPcf0AvSM0c18nwF4hJ";var v=i(4637);const f=function(e){var n=e.artistImageUrl,i=e.artistName,f=e.artistConcertsUri,b=e.spec,h=(0,s.$P)(),y=(0,s.Wi)(b.concertsCardFactory({identifier:i,uri:f,reason:"This is On Tour phase 1 MVP"}));return n&&i&&f?(0,v.jsxs)("section",{ref:y,className:o,children:[(0,v.jsx)(a.D,{as:"h1",variant:"cello",semanticColor:"textBase",children:l.ag.get("concerts")}),(0,v.jsxs)("div",{className:d,"data-testid":"on-tour-card",children:[(0,v.jsx)("img",{className:c,src:n,alt:""}),(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)(a.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",className:m,children:l.ag.get("concerts_on_tour")}),(0,v.jsx)(a.D,{as:"h1",variant:"cello",className:k,semanticColor:"textBase",children:i}),(0,v.jsx)(r.default,{to:f,className:p,children:(0,v.jsx)(t.P,{as:"span",buttonSize:"sm",onClick:function(){var e=b.concertsCardFactory({identifier:i,uri:f,reason:"This is On Tour phase 1 MVP"}).hitUiNavigate({destination:f});h.logInteraction(e)},children:l.ag.get("concerts_see_all_events")})})]})]})]}):null};var b=i(9294),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"thisisPlaylistExtension"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistsOnTour"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"upcomingEventsCount"}}]}}]}}]}}]}}]},y=function(e,n){return(0,b.a)(h,e,n)}},4493:(e,n,i)=>{i.r(n),i.d(n,{default:()=>$i});var a=i(45389),t=i(83014),l=i(8850),r=i(39130),s=i(10995),o=i.n(s),d=(i(83001),i(22369),i(8760),i(27639),i(71756),i(30246),i(63691),i(5538),i(45880),i(16366),i(70785),i(62780),i(162),i(35019),i(82088),i(69109),i(59496)),c=i(84875),u=i.n(c),m=i(61740),k=i(41177),p=i(10506),v=i(38674),f=i(14567),b=i(59272),h=i(17249),y=i(23621),S=(i(37193),i(40265),i(72304),i(47343)),g=(i(95675),i(61235),i(7845),i(29543),i(70969),i(66715),i(30479),i(75341),i(89620),i(4637)),N=function(e,n,i){return{event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(n),lineitem_id:String(i),creative_id:String(n),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}},x=function(e){var n=e.clickTracking,i=e.clickThrough,a=e.thirdPartyImpression,t=e.impression,l=e.logoUrl,s=e.advertiserName,o=e.creativeId,c=e.lineItemId,u=(0,m.I0)(),k=(0,d.useState)(!1),v=(0,r.Z)(k,2),f=v[0],b=v[1];return(0,d.useEffect)((function(){return u((0,S.Vw)()),u((0,S.kh)(N("event_viewed",o,c))),function(){u((0,S.AG)())}}),[u,o,c]),(0,g.jsxs)("div",{className:"sponsor-container",children:[(0,g.jsx)(p.D,{variant:"minuet",className:"sponsor-text","data-ta-id":"sponsor-text",children:h.ag.get("playlist.presented_by",s)}),(0,g.jsxs)("div",{className:"sponsor-logo",children:[(0,g.jsx)("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:i,onClick:function(){u((0,S.kh)(N("event_clicked",o,c))),b(!0)},children:(0,g.jsx)("img",{draggable:!1,className:"sponsor-logo__image",src:l,alt:s,"data-ta-id":"sponsor-logo"})}),(0,g.jsx)("img",{className:"sponsor-logo__imp-pixel",src:t,alt:""}),a&&(0,g.jsx)("img",{className:"sponsor-logo__3p-imp-pixel",src:a,alt:""}),f&&(0,g.jsx)("img",{className:"sponsor-logo__click-img-pixel",src:n,alt:""})]})]})};function j(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function T(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?j(Object(i),!0).forEach((function(n){(0,a.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var C=function(e){var n=e.playlistUri,i=(0,m.I0)(),a=(0,m.v9)((function(e){return e.ads.sponsoredPlaylist.previewAd||e.ads.sponsoredPlaylist.sponsoredPlaylist.get(n)}));return(0,d.useEffect)((function(){a||i((0,S.fd)(n))}),[i,n,a]),a?(0,g.jsx)("div",{children:(0,g.jsx)(x,T({},a))}):null},F=function(e){var n=e.playlistUri,i=(0,m.I0)(),a=(0,m.v9)((function(e){return e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships")})),t=(0,m.v9)((function(e){return e.ads.sponsoredPlaylist.previewAd}));(0,d.useEffect)((function(){a||i((0,S.z8)())}),[i,a]);var l=t||a&&function(e,n){var i=Date.now()/1e3,a=e.split(":"),t=a[a.length-1];return n.some((function(e){var n=e.playlistId,a=e.endTime,l=e.startTime;return n===t&&i>=l&&i<(a||i+1)}))}(n,a);return l?(0,g.jsx)(C,{playlistUri:n}):null},A=i(84737),R=i(71767),D=i(54669),E=i(56075),P=i(55411),I=i(25229),L=i(60817),O=i(14706),U=i(82504),w=i(63892),_=i(19873);const V="hOOwEKqNuXrNvOCB1SgZ",M="csEdkIN9z2LjJIuZraqz";var Z=function(e){var n=e.uri,i=(0,_.Z)(n),a=(0,r.Z)(i,2),t=a[0],l=a[1],s=(0,k.s0)(),o=(0,d.useCallback)((function(){l(!1),s("/collection/playlists",{replace:!0})}),[s,l]);return(0,g.jsxs)("div",{className:V,children:[(0,g.jsx)(U.l,{iconSize:64}),(0,g.jsxs)("div",{className:M,children:[(0,g.jsx)(p.D,{as:"p",variant:"canon",children:h.ag.get("forbidden-page.title")}),(0,g.jsx)(p.D,{as:"p",variant:"mesto",children:h.ag.get("forbidden-page.description")})]}),t&&(0,g.jsx)(w.D,{colorSet:"invertedLight",onClick:o,children:h.ag.get("remove_from_your_library")})]})},B=i(68833),W=i(58077),Q=i(64371),K=i(69770),z=i(60377),H=i(50200),J=i(56394),G=i(8262),q=i(60847),X=i(73949),Y=i(58460),$=i(96692),ee=i(90775),ne=i(76956),ie=i(17295),ae=i(7431),te=i(58162),le=i(10785),re=i(29893),se=i(92722),oe=i(87164),de=i(710),ce=i(9294),ue=i(1003),me=i(49756),ke=i(8002),pe=i(60458),ve=i(8632),fe=i(11721),be=i(20188),he=i(87824),ye=(i(82),i(11794)),Se=i(78142),ge=i(95968),Ne=i(12033),xe=new Set(J.RJ),je=new Set([]),Te={column:null,order:ye.kn.NONE},Ce=d.memo((function(e){var n=e.ariaLabel,i=e.nrTracks,a=e.playlistUri,t=e.rankType,r=e.scrollToUid,s=e.usePlayContextItem,c=e.tracklistDomRef,u=(0,d.useContext)(me.ZF),m=(0,d.useContext)(H.fo),k=m.filter,p=m.setFilter,v=(0,d.useRef)(null),f=(0,d.useCallback)((function(){v.current&&v.current.update()}),[]);(0,ge.r)(a,f);var b=(0,d.useContext)(J.Gb),h=b.sortState,y=b.setSortState,S=(0,d.useCallback)((function(e){y((0,z.VK)(e,h))}),[h,y]);(0,d.useEffect)((function(){y(Te),p("")}),[a,p,y]),(0,d.useEffect)((function(){v.current&&r&&v.current.scrollToItem({uid:r})}),[r]);var N=(0,d.useCallback)(function(){var e=(0,l.Z)(o().mark((function e(n,i){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getContents(a,{offset:n,limit:i,sort:(0,z._j)(h),filter:k,decorateFormatListData:!0});case 2:return t=e.sent,e.abrupt("return",{items:t.items,totalLength:t.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),[a,u,h,k]),x="plays"===t,j=(0,d.useCallback)((function(e,n){var i,t,l,r=(0,Ne.X)(null===(i=e.album)||void 0===i?void 0:i.images,{desiredSize:40,desiredLabel:"small"});return(0,g.jsx)(ye.h_,{index:n,contextUri:a,uri:e.uri,uid:e.uid||void 0,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==r?void 0:r.url)||"",statusChange:null===(t=e.formatListAttributes)||void 0===t?void 0:t.status,showPlayCount:x,playCount:parseInt((null===(l=e.formatListAttributes)||void 0===l?void 0:l.rank)||"0",10),usePlayContextItem:s},n+e.uri)}),[a,x,s]),T=(0,d.useMemo)((function(){return x?[ye.QD.INDEX,ye.QD.TITLE,ye.QD.PLAYS,ye.QD.ALBUM,ye.QD.DURATION]:[ye.QD.INDEX,ye.QD.TITLE,ye.QD.ALBUM,ye.QD.DURATION]}),[x]),C=(0,d.useCallback)((function(e){return e.uri}),[]),F=(0,d.useCallback)((function(e){return e.id}),[]);return(0,g.jsx)(Se.ZP,{value:"chart-tracklist",children:(0,g.jsx)(ye.Pv,{ariaLabel:n,hasHeaderRow:!0,columns:T,sortableColumns:u.getCapabilities().canSort?xe:je,sortState:h,onSort:S,renderRow:j,resolveUri:C,resolveUid:F,nrTracks:i,fetchTracks:N,limit:100,canFetchAllTracks:u.getCapabilities().canFetchAllTracks,outerRef:v,outerDomRef:c},a)})})),Fe=i(46124),Ae=i(980),Re=i(8404),De=i(71062),Ee=i(88569);const Pe="x-contributorButton-button",Ie="x-contributorButton-ContributorButton";var Le=["uri","label","onClick"];function Oe(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function Ue(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Oe(Object(i),!0).forEach((function(n){(0,a.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var we=function(e){var n=e.uri,i=e.label,a=e.onClick,t=(0,Ae.Z)(e,Le),l=(0,Ee.l)({uri:n,permissionLevel:"CONTRIBUTOR"}).onCopyLink;return(0,g.jsx)(De.w,{label:i,children:(0,g.jsx)("button",{className:Pe,onClick:function(e){null==a||a(e),null==l||l()},"aria-label":i,children:(0,g.jsx)(Re.t,Ue(Ue({},t),{},{className:Ie,iconSize:32,"aria-hidden":"true"}))})})},_e=i(42645),Ve=i(92885),Me=i(24898),Ze=i(19382),Be=d.memo((function(e){var n=e.metadata,i=e.tracklistDomRef,a=n.hasEpisodes,t=n.isCollaborative,l=n.formatListData,r=n.hasDateAdded,s=n.collaborators,o="chart"===(null==l?void 0:l.type),c="concert-playlist"===(null==l?void 0:l.type),u="live-streams"===(null==l?void 0:l.type),m=["blend","celebrity-blend","friends-mix"].indexOf((null==l?void 0:l.type)||"")>-1,k=!!a,p=(0,be.fU)(Ve.createDesktopSearchBarEventFactory,{}),v=p.spec,f=p.logger,b=(0,d.useCallback)((function(){f.logInteraction(v.filterFieldFactory().keyStrokeFilter())}),[f,v]),y=(0,d.useCallback)((function(){f.logInteraction(v.filterFieldFactory().hitClearFilter())}),[f,v]),S=(0,d.useCallback)((function(){f.logInteraction(v.sortButtonFactory().hitSort())}),[f,v]),N=(0,d.useMemo)((function(){var e;return function(e,n,i,a,t,l,r,s){return e?J.RJ:(0,z.RG)(n,i,a,t,l,r,s)}(o,t,k,r,c,u,m,null!==(e=null==s?void 0:s.count)&&void 0!==e?e:1)}),[o,t,k,r,c,u,m,s]);return(0,g.jsxs)("div",{className:K.Z.searchBoxContainer,children:[(0,g.jsx)(d.Suspense,{fallback:null,children:(0,g.jsx)(Me.K,{placeholder:h.ag.get("playlist.search_in_playlist"),onFilter:b,onClear:y,clearOnEscapeInElementRef:i})}),(0,g.jsx)(Ze.l,{columns:N,onSort:S})]})})),We=i(83656),Qe=i(14699),Ke=(i(92346),i(83474)),ze="multiUserAttributionDisplayNamesV2",He=i(51069);function Je(e){return(0,He.MW)(e)||(0,He.JF)(e)}var Ge=new Set(J.zq),qe=new Set([]),Xe=d.memo((function(e){var n=e.ariaLabel,i=e.nrTracks,a=e.playlistUri,t=e.playlistName,s=e.isCollaborative,c=e.isMixedMedia,u=e.isLive,k=e.isBlend,p=e.isConcert,v=e.hasDateAdded,f=e.canEdit,S=e.scrollToUid,N=e.feedbackPath,x=e.deleteFeedbackPath,j=e.usePlayContextItem,T=e.tracklistRef,C=e.tracklistDomRef,F=e.nrCollaborators,A=void 0===F?1:F,R=e.canRemove,D=e.spec,E=e.initialItems,P=(0,be.$P)(),I=(0,d.useContext)(me.ZF),L=(0,d.useContext)(H.fo).filter,O=(0,d.useContext)(J.Gb),U=O.sortState,w=O.setSortState,_=(0,d.useRef)((function(){})),V=(0,d.useState)([]),M=(0,r.Z)(V,2),Z=M[0],B=M[1],W=(0,m.I0)(),Q=(0,d.useCallback)((function(){null!=T&&T.current&&T.current.update()}),[T]);(0,me.rZ)(a,Q);var K=(0,d.useCallback)((function(e,n){w((0,z.VK)(e,U)),P.logInteraction(D.columnHeaderFactory({identifier:e,position:n||0}).hitSort())}),[w,U,P,D]),G=(0,d.useCallback)((function(e){_.current(),I.remove(a,e)}),[I,a]),q=(0,d.useCallback)((function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R&&(_.current=n,e.length>1&&!i?B(e):G(e))}),[R,G]);(0,d.useEffect)((function(){null!=T&&T.current&&S&&T.current.scrollToItem({uid:S})}),[S,T]);var X=(0,d.useCallback)(function(){var e=(0,l.Z)(o().mark((function e(n,i){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getContents(a,{offset:n,limit:i,sort:(0,z._j)(U),filter:L,decorateFormatListData:!!N||u||k});case 2:return t=e.sent,e.abrupt("return",{items:t.items,totalLength:t.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),[a,I,U,L,N,u,k]),Y=(0,d.useCallback)((function(e,n,i){if(null!=T&&T.current){var t=T.current.getRows()[n];t&&(P.logInteraction(D.dragSort()),i===Qe.W.Before?I.move(a,e,{before:t}):I.move(a,e,{after:t}))}}),[T,P,D,I,a]),ee=(0,d.useCallback)((function(e,n,i){if(null!=T&&T.current){var t=T.current.getRows()[n];t&&(P.logInteraction(D.dragAddToPlaylist({playlist:a,itemToBeAdded:e[0]})),i===Qe.W.Before?W((0,y.jV)(a,e,{before:{uri:t.uri,uid:t.uid}})):W((0,y.jV)(a,e,{after:{uri:t.uri,uid:t.uid}})))}}),[T,P,D,a,W]),ne=(0,d.useCallback)((function(){I.resync(a)}),[I,a]),ie=(0,d.useCallback)((function(e,n){var i,l,r,o,d,m,v,h,y,S,T,C=!!(0,He.JF)(e)&&e.podcastSubscription.isUserSubscribed;if((0,He.JF)(e))y=e.show,S=e.images.concat((null===(T=e.show)||void 0===T?void 0:T.images)||[]);else if((0,He.MW)(e)){var F;y=e.album,S=null===(F=e.album)||void 0===F?void 0:F.images}var D=(0,Ne.X)(S,{desiredSize:40,desiredLabel:"small"}),E=[];f&&U.order===ye.kn.NONE&&(E=[$.a[b.JM.TRACK],$.a[b.JM.LOCAL_TRACK],$.a[b.JM.EPISODE]]);var P="1"===(null==e||null===(i=e.formatListAttributes)||void 0===i?void 0:i["dislike-feedback-selected"]),L=!1;(0,He.JF)(e)&&e.podcastSubscription.isPaywalled&&!C?L=!0:Je(e)&&(L=e.isPlayable&&!P);var O=k&&function(e,n){var i,a,t,l,r=[];if(!n)return r;var s=n[ze]?ze:"multiUserAttributionDisplayNames",o=null==n||null===(i=n[s])||void 0===i?void 0:i.split(","),d=null==n||null===(a=n.multiUserAttributionImages)||void 0===a?void 0:a.split(",");if(!o||!d)return r;for(var c,u=(null==n||null===(t=n.multiUserAttributionUsernamesV2)||void 0===t?void 0:t.split(","))||[],m=(null==n||null===(l=n.multiUserAttributionType)||void 0===l?void 0:l.split(","))||[],k=o.length,p=0;p<k;p++){var v=u[p],f=v&&(0,b.QK)(v).toURI();r.push({username:v,uri:f,displayName:o[p],images:(c=d[p],c.length>1?[{url:c}]:[]),recsplanation:m[p]})}return r.sort((function(n,i){return n.username?n.username===(null==e?void 0:e.username)?-1:i.username===(null==e?void 0:e.username)?1:0:0}))}(e.addedBy,null==e?void 0:e.formatListAttributes)||e.addedBy&&[e.addedBy]||[];return(0,g.jsx)(ye.dx,{index:n,playIndex:null!==(l=e.playIndex)&&void 0!==l?l:void 0,contextUri:a,uri:e.uri,uid:e.uid,isPlayable:L,duration_ms:Je(e)?e.duration.milliseconds:0,isPaywalled:!!(0,He.JF)(e)&&e.podcastSubscription.isPaywalled,isUserSubscribed:C,name:Je(e)?e.name:"",artists:(0,He.MW)(e)?e.artists:void 0,albumOrShow:y,isExplicit:(0,He.MW)(e)&&e.isExplicit,isCollaborative:s,nrCollaborators:A,isMixedMedia:c,isLocal:(0,He.MW)(e)&&e.isLocal,addedBy:O,hasDecoratedAddedBy:I.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,He.JF)(e)&&e.release.date||"",isMOGEFRestricted:((0,He.MW)(e)||(0,He.JF)(e))&&e.is19PlusOnly,type:e.type,imgUrl:(null==D?void 0:D.url)||"",onMove:Y,onInsert:ee,usePlayContextItem:j,allowedDropTypes:E,feedbackPath:N,feedbackUri:null==e||null===(r=e.formatListAttributes)||void 0===r?void 0:r.feedback_uri,deleteFeedbackPath:x,isDisliked:P,isLive:u,isBlend:k,ticketingSiteURL:null==e||null===(o=e.formatListAttributes)||void 0===o?void 0:o.ticketingSite,eventDate:null==e||null===(d=e.formatListAttributes)||void 0===d?void 0:d.eventDate,canRemove:R,onFeedbackClick:ne,playlistName:t,isConcert:p,concertURL:null===(m=e.formatListAttributes)||void 0===m?void 0:m.artist_concerts_uri,concertDate:null===(v=e.formatListAttributes)||void 0===v?void 0:v.concert_date,concertVenue:null===(h=e.formatListAttributes)||void 0===h?void 0:h.venue},n+e.uri)}),[f,U.order,k,a,s,A,c,I,Y,ee,j,N,x,u,R,ne,t,p]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Se.ZP,{value:"playlist-tracklist",children:(0,g.jsx)(ye.Pv,{testID:"playlist-tracklist",ariaLabel:n,hasHeaderRow:!0,columns:(0,z.RG)(s,c,v,u,p,k,A),sortableColumns:I.getCapabilities().canSort?Ge:qe,sortState:U,onSort:K,onRemove:q,renderRow:ie,resolveUri:function(e){return e.uri},resolveUid:function(e){return e.uid},nrTracks:i,fetchTracks:X,limit:100,canFetchAllTracks:I.getCapabilities().canFetchAllTracks,outerRef:T,outerDomRef:C,tracks:E,isConcertPlaylist:p},a)}),(0,g.jsx)(We.h,{title:h.ag.get("playlist.remove_from_playlist",t),isOpen:Z.length>0,tracks:Z,onClose:function(e){e.stopPropagation(),B([])},onRemove:G})]})})),Ye=(i(31781),i(98148)),$e=(i(50103),i(66738)),en=i(68032),nn=i(68074);function an(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function tn(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?an(Object(i),!0).forEach((function(n){(0,a.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):an(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var ln=d.memo((function(e){var n=e.playlistUri,i=e.playlistLength,a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=2*n,a=3*n,l=(0,d.useRef)(0),s=(0,d.useState)(e),o=(0,r.Z)(s,2),c=o[0],u=o[1],m=(0,d.useState)([]),k=(0,r.Z)(m,2),p=k[0],v=k[1],b=(0,d.useRef)([]),h=(0,d.useContext)($e.Z),y=(0,be.fU)(f.T,{data:{uri:e}}),S=y.spec,g=y.logger,N=(0,d.useMemo)((function(){return S.recommendedFactory()}),[S]);(0,d.useEffect)((function(){var n=h.getEvents(),i=function(n){var i=n.data;i.uri===e&&(i.operation===nn.If.ADD?v((function(e){return e.filter((function(e){return i.uris.every((function(n){return n!==e.uri}))}))})):i.operation===nn.If.REMOVE&&v((function(e){return e.filter((function(e){return i.items.every((function(n){return n.uri!==e.uri}))}))})))};return n.addListener(nn.XL.OPERATION_COMPLETE,i),function(){n.removeListener(nn.XL.OPERATION_COMPLETE,i)}}),[h,e]),(0,d.useEffect)((function(){return v([]),u(e),b.current=[],l.current=l.current+1,function(){l.current=l.current+1}}),[e]),(0,d.useEffect)((function(){if(p.length<i){var e=Math.min(i,a-p.length),n=l.current;h.getRecommendedTracks(c,b.current,e).then((function(i){if(n===l.current){var a=i.map((function(e){return(null==e?void 0:e.uri)&&en.o.from(e.uri).id})).filter((function(e){return null!==e}));i.length<e&&b.current.length?b.current=[]:b.current=[].concat((0,t.Z)(b.current),(0,t.Z)(a)),v((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(i))}))}}))}}),[i,a,h,c,p.length]);var x=(0,d.useCallback)((function(){if(S){var e=N.refreshButtonFactory().hitRefreshContent();g.logInteraction(e)}v((function(e){return e.slice(n)}))}),[g,N,S,n]);return{tracks:p.slice(0,n),_bufferedTracks:p.slice(n),refresh:x}}(n),l=a.tracks,s=a.refresh,o=!i||0===i,c=(0,ue.n)({uri:n.replace("spotify:","spotify:internal:recs:"),pages:[{items:l.map((function(e){return tn(tn({},e),{},{provider:null,type:Ke.p.TRACK,uid:null})}))}]},{featureIdentifier:"playlist_recommendations"}).usePlayContextItem,u=(0,d.useCallback)((function(e,i){return(0,g.jsx)(ye.cp,{index:i,imgUrl:e.album.imageUrl,contextUri:n.replace("spotify","spotify:internal:recs"),uri:e.uri,isPlayable:!e.isMOGEFRestricted,name:e.name,artists:e.artists,album:tn(tn({},e.album),{},{imgUrl:e.album.imageUrl}),isExplicit:e.explicit,isMOGEFRestricted:e.isMOGEFRestricted,usePlayContextItem:c},"".concat(i,"-").concat(e.uri))}),[n,c]),m=(0,d.useMemo)((function(){return[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD]}),[]),k=(0,d.useCallback)((function(e){return e.uri}),[]),v=(0,d.useCallback)((function(e){return e.id}),[]),b=(0,d.useMemo)((function(){return l.slice(0,Math.min(l.length,10))}),[l]);return l.length>0?(0,g.jsxs)("div",{className:K.Z.recommendedTrackList,children:[(0,g.jsx)("div",{className:K.Z.top,children:(0,g.jsxs)("div",{className:K.Z.header,children:[(0,g.jsx)(p.D,{variant:"canon",children:h.ag.get("playlist.extender.recommended.title")}),(0,g.jsx)(p.D,{variant:"mesto",className:K.Z.subtitle,children:o?h.ag.get("playlist.extender.title.in.playlist"):h.ag.get("playlist.extender.songs.in.playlist")})]})}),l.length?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("playlist.extender.recommended.header"),nrTracks:Math.min(l.length,10),rowPlaceholder:ye.hU,tracks:b,renderRow:u,resolveUri:k,resolveUid:v,columns:m},"".concat(n,"-recommended")),(0,g.jsx)(Ye.o,{className:K.Z.refreshButton,onClick:s,children:h.ag.get("playlist.extender.refresh")})]}):null]}):null})),rn=i(43409),sn=i(14338),on=i(69106),dn=i(14268),cn=i(31386),un=i(79583),mn=i(94064);const kn="Uw4gqTFuHRLn4VKga_bJ",pn="SdECNwBCnmkKl0Q0mJff",vn="HLkGXLclDq_7guCiD1Xq",fn="vWR6alsFpTlgXUckErqF",bn="EbHQLci0cfLjHmS0AKp2",hn="HzYFPEbZdd6fQW4jfcz4",yn="SQEgwtR2aj51qFj6cMNZ",Sn="aaNtMSjjJ4cClWoe6K0k",gn="BhtBJTnsM9AotmyN0MPr",Nn="FwoyMQocCMLEafLlvAk5",xn="xcn0geYcJliTHbvcds12",jn="KptBBI16DBjQBjvPQtlH";function Tn(e){var n=(0,d.useRef)(null);return(0,g.jsx)(sn.Y,{center:!0,onClose:e.onClose,ref:n,withPortal:!0,children:(0,g.jsx)(on.l,{className:kn,"aria-label":"Example showing onClose property",body:(0,g.jsxs)("div",{className:gn,children:[(0,g.jsx)(Ye.o,{buttonSize:"md","aria-label":"IconX",iconOnly:dn.k,onClick:e.onClose,className:xn}),(0,g.jsx)(Ye.o,{buttonSize:"md","aria-label":"IconArrowLeft",iconOnly:un.D,className:Nn}),(0,g.jsx)("div",{className:pn,children:(0,g.jsxs)("div",{className:vn,children:[(0,g.jsx)("div",{className:bn,children:(0,g.jsxs)("div",{className:hn,children:[(0,g.jsx)(rn.E,{className:yn,src:"https://i.scdn.co/image/ab6761610000517469fd2e170a6d290939620b61",alt:"A headshot profile picture of Afrobeats artist Lojay",imageHeight:"150px",imageWidth:"150px",crop:!0,circle:!0}),(0,g.jsx)(rn.E,{className:Sn,src:"spotify:image:ab67706c0000da8465307c7864e1e9d53770a94e",alt:"Ginjapiano playlist profile picture",imageHeight:"150px",imageWidth:"150px",crop:!0,circle:!0})]})}),(0,g.jsxs)("div",{className:fn,children:[(0,g.jsxs)(p.D,{as:"p",variant:"finaleBold",children:[(0,g.jsx)("span",{style:{color:"#dc744d"},children:"4M"})," STREAMED THIS WEEK"]}),(0,g.jsxs)(p.D,{as:"p",variant:"alto",children:["IM IN THE ",(0,g.jsx)("span",{style:{color:"#dc744d"},children:"TOP 21% "}),"OF GINJAPIANO LISTENERS THIS WEEK."]})]}),(0,g.jsx)("div",{className:bn,children:(0,g.jsx)(mn.V,{iconSize:48})})]})}),(0,g.jsx)("div",{className:jn,children:(0,g.jsx)(w.D,{colorSet:"invertedLight",children:"Share"})})]})})})}const Cn="nTTPGZGk721M6gfldG43",Fn="BFYSUcA4ifYvgDzOQX5Q",An="el9_37CCpYKxCRKDDyww",Rn="FB376b7R1M_0YQZ_SahS",Dn="srPBn9_CV0NzQEEzW9f6",En="te8Z8OuKxZx1gbjb7_ua";const Pn=d.memo((function(e){var n=e.setuserView,i=(0,d.useState)(!1),a=(0,r.Z)(i,2),t=a[0],l=a[1];return(0,g.jsxs)(g.Fragment,{children:[t&&(0,g.jsx)(Tn,{onClose:function(){l(!1)}}),(0,g.jsx)(sn.Y,{center:!0,withPortal:!0,children:(0,g.jsx)(on.l,{colorSet:"overMedia","aria-label":"Title",body:(0,g.jsx)("div",{children:(0,g.jsx)(p.D,{as:"p"})}),dialogTitle:(0,g.jsxs)("div",{className:Cn,children:[(0,g.jsxs)("div",{className:An,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(rn.E,{src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"20px",imageWidth:"20px",crop:!0,circle:!0}),(0,g.jsx)(rn.E,{src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0})]}),(0,g.jsx)(p.D,{as:"h1",variant:"alto",children:"Rap Caviar"})]}),(0,g.jsxs)("div",{className:Fn,children:[(0,g.jsx)(Ye.o,{iconOnly:dn.k,onClick:function(){return n(!1)},className:Dn}),(0,g.jsx)(Ye.o,{iconOnly:cn.o,className:En,onClick:function(){l(!0)}})]}),(0,g.jsx)("div",{className:Rn,children:(0,g.jsx)(p.D,{as:"p",variant:"ballad",children:"Hello you made it to the top 10 percent"})})]}),id:"dialogAlert"})})]})})),In="__97AKHEfxNtqFsLai1b",Ln="pzFwHV7jvPlWTI6cG5TV",On="iZu1aH8cr2cw98gqmTeo",Un="JRvbfJh7eAZ_1FrQukej";function wn(){var e=(0,d.useState)(!1),n=(0,r.Z)(e,2),i=n[0],a=n[1];return(0,g.jsxs)(g.Fragment,{children:[i&&(0,g.jsx)(Pn,{setuserView:a}),(0,g.jsxs)("button",{className:In,onClick:function(){return a(!0)},children:[(0,g.jsxs)("div",{className:Ln,children:[(0,g.jsx)(rn.E,{className:On,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0}),(0,g.jsx)(rn.E,{className:On,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0}),(0,g.jsx)(rn.E,{className:On,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0})]}),(0,g.jsxs)("div",{className:Un,children:[(0,g.jsx)(p.D,{as:"p",variant:"mestoBold",children:"View employee leaderboard"}),(0,g.jsx)(p.D,{as:"p",variant:"mesto",children:"You're in the top 21% of listeners."})]})]})]})}var _n=i(58976),Vn=i(75938),Mn=i(42336),Zn=i(3643),Bn=i(26352),Wn=[{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Track"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}],Qn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"5"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"}}]}}]}}]}}]}}]}}].concat((0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}}]),(0,t.Z)(Wn),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Artist"}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Artist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Album"}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Album"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Episode"}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Episode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]))},Kn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationAlbums"}}]}}]}}].concat((0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}}]}}]}}]),(0,t.Z)(Wn))},zn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationArtists"}}]}}]}}].concat((0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}}]}}]}}]}}]),(0,t.Z)(Wn))},Hn=(i(65394),i(78819),i(24511)),Jn=i(41084),Gn=i(98328),qn=i(55590);function Xn(e,n){var i,a,t,l,r,s,o,d,c,u,m,k,p,v,f,b;return{albums:null!==(f=e.albums,i=(null!==(b=null==f?void 0:f.items)&&void 0!==b?b:[]).map((function(e){return $n(e)})).filter(Gn.K)||[])&&void 0!==i?i:[],artists:null!==(p=e.artists,a=(null!==(v=null==p?void 0:p.items)&&void 0!==v?v:[]).map((function(e){return ei(e)})).filter(Gn.K)||[])&&void 0!==a?a:[],episodes:null!==(m=e.episodes,t=(null!==(k=null==m?void 0:m.items)&&void 0!==k?k:[]).map((function(e){return ni(e)})).filter(Gn.K)||[])&&void 0!==t?t:[],tracks:null!==(c=e.tracksV2,l=(null!==(u=null==c?void 0:c.items)&&void 0!==u?u:[]).map((function(e){return ai(e.item)})).filter(Gn.K)||[])&&void 0!==l?l:[],topResults:null!==(s=e.topResults,d=null!==(o=null==s?void 0:s.itemsV2)&&void 0!==o?o:[],r=d.map((function(e){var n=(0,Jn.U2)(e,"item");switch(n.__typename){case"AlbumResponseWrapper":return $n(n);case"ArtistResponseWrapper":return ei(n);case"EpisodeResponseWrapper":return ni(n);case"TrackResponseWrapper":return ai(n);default:return(0,qn._)(n),null}})).filter(Gn.K)||[])&&void 0!==r?r:[],query:n}}function Yn(e){return{type:Ke.p.ALBUM,uri:e.uri,id:e.id,name:e.name,images:(0,Jn.NS)(e.coverArt)}}function $n(e){return"Album"!==e.data.__typename?null:Yn(e.data)}function ei(e){if("Artist"!==e.data.__typename)return null;var n=e.data;return{type:Ke.p.ARTIST,uri:n.uri,id:n.id,name:n.profile.name,images:(0,Jn.NS)(n.visuals.avatarImage)}}function ni(e){var n,i;if("Episode"!==e.data.__typename)return null;var a=e.data,t=a.podcastV2.data;return"Podcast"!==t.__typename?null:{type:Ke.p.EPISODE,uri:a.uri,id:a.id,name:a.name,images:(0,Jn.NS)(a.coverArt),isExplicit:(null===(n=a.contentRating)||void 0===n?void 0:n.label)===Hn.KS.Explicit,is19PlusOnly:(null===(i=a.contentRating)||void 0===i?void 0:i.label)===Hn.KS.NineteenPlus,podcast:{id:t.id,uri:t.uri,name:t.name},isPlayable:a.playability.playable}}function ii(e){var n,i,a,t,l,r,s,o=(0,Jn.NS)((null===(n=e.albumOfTrack)||void 0===n?void 0:n.coverArt)||null);return{type:Ke.p.TRACK,uri:e.uri,id:e.id,name:e.name,album:{name:(null===(i=e.albumOfTrack)||void 0===i?void 0:i.name)||"",uri:(null===(a=e.albumOfTrack)||void 0===a?void 0:a.uri)||"",imgUrl:(null===(t=o.at(0))||void 0===t?void 0:t.url)||"",id:(null===(l=e.albumOfTrack)||void 0===l?void 0:l.id)||""},artists:e.artists.items.map((function(e){return{id:e.id,name:e.profile.name,uri:e.uri}})),isPlayable:e.playability.playable,isExplicit:(null===(r=e.contentRating)||void 0===r?void 0:r.label)===Hn.KS.Explicit,is19PlusOnly:(null===(s=e.contentRating)||void 0===s?void 0:s.label)===Hn.KS.NineteenPlus}}function ai(e){return"Track"!==e.data.__typename?null:ii(e.data)}function ti(e){var n=e.at(0);if(!n)return null;switch(n.__typename){case"Album":return{albums:[],artists:[],episodes:[],tracks:n.tracks.items.map((function(e){return ii(e.track)}))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,qn._)(n),null}}function li(e){var n=e.at(0);if(!n)return null;switch(n.__typename){case"Artist":return{albums:n.discography.popularReleasesAlbums.items.map((function(e){return Yn(e)}))||[],artists:[],episodes:[],tracks:n.discography.topTracks.items.map((function(e){return ii(e.track)}))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,qn._)(n),null}}var ri=function(){var e=(0,l.Z)(o().mark((function e(n,i){var a,t,l,r,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={term:i,offset:s.length>2&&void 0!==s[2]?s[2]:0,limit:s.length>3&&void 0!==s[3]?s[3]:10,numberOfTopResults:s.length>4&&void 0!==s[4]?s[4]:10},e.next=6,n(Qn,t);case 6:if(l=e.sent,r=null==l||null===(a=l.data)||void 0===a?void 0:a.searchV2){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",Xn(r,i));case 11:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),si=function(){var e=(0,l.Z)(o().mark((function e(n,i){var a,t,l,r,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={uris:[i],limit:s.length>2&&void 0!==s[2]?s[2]:50,offset:s.length>3&&void 0!==s[3]?s[3]:0},e.next=5,n(Kn,t);case 5:if(l=e.sent,r=null==l||null===(a=l.data)||void 0===a?void 0:a.albums){e.next=9;break}return e.abrupt("return",null);case 9:return e.abrupt("return",ti(r));case 10:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),oi=function(){var e=(0,l.Z)(o().mark((function e(n,i){var a,t,l,r,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={uris:[i],limit:s.length>2&&void 0!==s[2]?s[2]:50,offset:s.length>3&&void 0!==s[3]?s[3]:0},e.next=5,n(zn,t);case 5:if(l=e.sent,r=null==l||null===(a=l.data)||void 0===a?void 0:a.artists){e.next=9;break}return e.abrupt("return",null);case 9:return e.abrupt("return",li(r));case 10:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),di=i(85830),ci=i(71218);const ui="playlist-inlineSearchBox-filterInputContainer",mi="playlist-inlineSearchBox-filterInput",ki="playlist-inlineSearchBox-overlay",pi="playlist-inlineSearchBox-searchIconContainer",vi="playlist-inlineSearchBox-searchIcon",fi="playlist-inlineSearchBox-clearButton";var bi=d.memo((function(e){var n=e.placeholder,i=e.onChange,a=void 0===i?function(){}:i,t=e.onFocus,l=void 0===t?function(){}:t,s=(0,d.useState)(""),o=(0,r.Z)(s,2),c=o[0],m=o[1],k=(0,d.useRef)(null),v=(0,di.y1)((function(e){a(e)}),200),f=(0,d.useCallback)((function(e){var n=e.currentTarget.value;m(n),v(n)}),[m,v]),b=(0,d.useCallback)((function(){k.current&&k.current.focus(),m(""),a("")}),[m,a]),y=(0,d.useCallback)((function(e){"Escape"===e.key&&c&&b()}),[c,b]);return(0,g.jsxs)("div",{className:ui,role:"search",children:[(0,g.jsx)(p.D,{as:"input",variant:"mesto",ref:k,className:u()(mi),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:n,onChange:f,onKeyDown:y,onFocus:l,value:c}),(0,g.jsxs)("div",{className:ki,children:[(0,g.jsx)("span",{className:pi,children:(0,g.jsx)(ci.j,{iconSize:16,className:vi,"aria-hidden":"true"})}),c&&(0,g.jsx)("button",{className:fi,onClick:b,"aria-label":h.ag.get("search.a11y.clear-input"),children:(0,g.jsx)(dn.k,{iconSize:16})})]})]})})),hi=function(e){var n=e.renderRow,i=e.searchResults,a=e.renderSeeAllRow,t=e.seeAllXList;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ye.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD],testID:"playlist-inline-curation-loaded-results"}),(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("search.title.all"),renderRow:a,rowPlaceholder:ye.hU,nrTracks:t.length,tracks:t,resolveUri:function(e){return e.uri},columns:[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD],testID:"playlist-inline-curation-see-all-options"})]})},yi=function(e){var n=e.renderRow,i=e.searchResults;return(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ye.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD]})},Si=function(e){var n=e.renderRow,i=e.searchResults,a=i.filter((function(e){return e.type===Ke.p.TRACK})),t=i.filter((function(e){return e.type===Ke.p.ALBUM}));return(0,g.jsxs)("div",{children:[(0,g.jsx)(p.D,{as:"p",variant:"cello",className:K.Z.artistResultListTitle,children:h.ag.get("playlist.curation.popular_songs")}),(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("playlist.curation.popular_songs"),renderRow:n,rowPlaceholder:ye.hU,nrTracks:a.length,tracks:a,resolveUri:function(e){return e.uri},columns:[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD]}),(0,g.jsx)(p.D,{as:"p",variant:"cello",className:K.Z.artistResultListTitle,children:h.ag.get("playlist.curation.albums")}),(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("playlist.curation.albums"),renderRow:n,rowPlaceholder:ye.hU,nrTracks:t.length,tracks:t,resolveUri:function(e){return e.uri},columns:[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD]})]})},gi=function(e){var n=e.renderRow,i=e.searchResults;return(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ye.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD]})},Ni=function(e){var n=e.renderRow,i=e.searchResults;return(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ye.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD]})},xi=function(e){var n=e.renderRow,i=e.searchResults;return(0,g.jsx)(ye.Pv,{ariaLabel:h.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ye.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[ye.QD.TITLE,ye.QD.ALBUM,ye.QD.ADD]})},ji=i(45628);const Ti="G2t3w2AAeb5OXp0_GeWs",Ci="saVjTFMyWYUz975_tkQm",Fi="thi8fNCkEhutRkDC90c0",Ai="pHVlkChuJpEnBQyU3ADv",Ri="ENWs3JxcqtD98_8fbPz2",Di="L8IUKEJL6JiTyE_qUVCc",Ei="XcyjdXgsNX0DBt72tfiD",Pi="VhJnuS7UcUPfIlzD8dlU",Ii="He29vQ5anFj_bJ5iEaI2";var Li=function(e){var n,i=e.searchResult,a=e.index,t=e.isRTL,l=e.onClick,r=null===(n=i.images.at(0))||void 0===n?void 0:n.url;return(0,g.jsx)(ji.RX,{className:Ri,rowIndex:a,"aria-selected":!1,children:(0,g.jsxs)("div",{"aria-label":"".concat(h.ag.get("artist-page.tracks.seemore")," ").concat(i.name),className:Ii,onClick:l,children:[(0,g.jsxs)(ji.id,{columnIndex:0,className:Di,children:[void 0!==r?(0,g.jsx)("img",{className:Fi,src:r,alt:i.name}):null,(0,g.jsxs)("div",{className:Ei,children:[(0,g.jsx)(p.D,{as:"p",className:Ai,variant:"ballad",children:i.name}),(0,g.jsx)(p.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",children:h.ag.get("album")})]})]}),(0,g.jsx)(ji.id,{columnIndex:1}),(0,g.jsx)(ji.id,{columnIndex:2,children:(0,g.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":"See more from ".concat(i.name),className:Pi,onClick:l,children:t?(0,g.jsx)(Mn.e,{}):(0,g.jsx)(Vn.V,{})})})]})})},Oi=i(52008),Ui=function(e){var n=e.size;return(0,g.jsx)("div",{className:Ci,children:(0,g.jsx)(Oi.a,{iconSize:n})})},wi=function(e){var n,i=e.searchResult,a=e.index,t=e.isRTL,l=e.onClick,r=null===(n=i.images.at(0))||void 0===n?void 0:n.url;return(0,g.jsx)(ji.RX,{className:Ri,rowIndex:a,"aria-selected":!1,children:(0,g.jsxs)("div",{"aria-label":"".concat(h.ag.get("artist-page.tracks.seemore")," ").concat(i.name),className:Ii,onClick:l,"data-testid":"playlist-inline-curation-artist",children:[(0,g.jsxs)(ji.id,{columnIndex:0,className:Di,children:[void 0!==r?(0,g.jsx)("img",{className:Ti,src:r,alt:i.name}):(0,g.jsx)(Ui,{size:16}),(0,g.jsxs)("div",{className:Ei,children:[(0,g.jsx)(p.D,{as:"p",className:Ai,variant:"ballad",children:i.name}),(0,g.jsx)(p.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",children:h.ag.get("artist")})]})]}),(0,g.jsx)(ji.id,{columnIndex:1}),(0,g.jsx)(ji.id,{columnIndex:2,children:(0,g.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":"See more from ".concat(i.name),className:Pi,onClick:l,children:t?(0,g.jsx)(Mn.e,{}):(0,g.jsx)(Vn.V,{})})})]})})},_i=function(e){var n,i,a=e.episode,t=e.contextUri,l=e.index,r=e.usePlayContextItem;return(0,g.jsx)(ye.YK,{uid:a.id,uri:a.uri,isPlayable:a.isPlayable,isMOGEFRestricted:a.is19PlusOnly,isExplicit:a.isExplicit,contextUri:t,name:a.name,imgUrl:null!==(n=null===(i=a.images.at(0))||void 0===i?void 0:i.url)&&void 0!==n?n:"",index:l,podcast:a.podcast,usePlayContextItem:r})},Vi=function(e){var n=e.label,i=e.index,a=e.isRTL,t=e.onClick;return(0,g.jsx)(ji.RX,{className:Ri,rowIndex:i,"aria-selected":!1,children:(0,g.jsxs)("div",{"aria-label":n,className:Ii,onClick:t,children:[(0,g.jsx)(ji.id,{columnIndex:0,className:Di,children:(0,g.jsx)(p.D,{as:"p",className:Ai,variant:"ballad",children:n})}),(0,g.jsx)(ji.id,{columnIndex:1}),(0,g.jsx)(ji.id,{columnIndex:2,children:(0,g.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":n,className:Pi,onClick:t,children:a?(0,g.jsx)(Mn.e,{}):(0,g.jsx)(Vn.V,{})})})]})})},Mi=function(e){var n=e.track,i=e.contextUri,a=e.index,t=e.usePlayContextItem;return(0,g.jsx)(ye.cp,{uid:n.id,uri:n.uri,isPlayable:n.isPlayable,isMOGEFRestricted:n.is19PlusOnly,isExplicit:n.isExplicit,contextUri:i,name:n.name,imgUrl:n.album.imgUrl,index:a,album:n.album,artists:n.artists,usePlayContextItem:t})};function Zi(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function Bi(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Zi(Object(i),!0).forEach((function(n){(0,a.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Zi(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Wi=function(e){return e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS",e}({}),Qi=function(e,n){return"GO_BACK"===n.type?1===e.breadcrumbs.length?e:e=Bi(Bi({},e),{},{breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}):"NAV_TO_ENTITY"===n.type?e=Bi(Bi({},e),{},{breadcrumbs:[].concat((0,t.Z)(e.breadcrumbs),[n.level])}):("NAV_TO_RESULTS"===n.type?e=Bi(Bi({},e),{},{breadcrumbs:[].concat((0,t.Z)(e.breadcrumbs),[n.level])}):"CHANGE_TERM"===n.type&&(e={term:n.term,breadcrumbs:[{navType:Wi.SEARCH,term:n.term,title:""}]}),e)},Ki=function(e){var n,i=e.resultList,a=e.level,t=e.isRTL,l=e.playlistUri,r=e.navToResults,s=e.navToEntity,o=e.term,c=i,u=function(e){return e.filter((function(e){return e.type===Ke.p.TRACK||e.type===Ke.p.EPISODE})).map((function(e){var n=e.uri,i=e.id;return{type:(0,b.wj)(n)?Ke.p.TRACK:Ke.p.EPISODE,uri:n,uid:i,provider:null}}))}(i),m=(0,ue.n)({uri:"".concat(l.replace("spotify:","spotify:internal:recs:"),":").concat(encodeURIComponent(o),":").concat(null!==(n=null==a?void 0:a.navType)&&void 0!==n?n:0),pages:[{items:u}]},{featureIdentifier:"search"}).usePlayContextItem,k=(0,d.useCallback)((function(e,n){return(0,g.jsx)(Vi,{isRTL:t,index:n,label:e.label,onClick:function(){r({navType:e.type,term:o,title:e.label})}},e.uri)}),[t,r,o]),v=(0,d.useCallback)((function(e,n){return e.type===Ke.p.ARTIST?(0,g.jsx)(wi,{isRTL:t,index:n,searchResult:e,onClick:function(){s({navType:Wi.ARTIST,uri:e.uri,title:e.name})}},e.uri):e.type===Ke.p.EPISODE?(0,g.jsx)(_i,{index:n,episode:e,contextUri:l.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:m},e.uri):e.type===Ke.p.TRACK?(0,g.jsx)(Mi,{index:n,track:e,contextUri:l.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:m},e.uri):(0,g.jsx)(Li,{index:n,isRTL:t,searchResult:e,onClick:function(){s({navType:Wi.ALBUM,uri:e.uri,title:e.name})}},e.uri)}),[t,s,l,m]);if(""===o)return(0,g.jsx)("div",{className:K.Z.emptySearchTermContainer});if(!i||0===(null==i?void 0:i.length))return(0,g.jsxs)("div",{className:K.Z.emptyStateContainer,children:[(0,g.jsx)(p.D,{as:"h1",variant:"canon",children:h.ag.get("search.empty-results-title",o)}),(0,g.jsx)(p.D,{as:"p",variant:"mesto",children:h.ag.get("search.empty-results-text")})]});if((null==a?void 0:a.navType)===Wi.SEARCH){var f=[{type:Wi.ARTISTRESULTS,label:h.ag.get("playlist.curation.see_all_artists"),uri:"spotify:internal:recs:see-all-artists"},{type:Wi.ALBUMRESULTS,label:h.ag.get("playlist.curation.see_all_album"),uri:"spotify:internal:recs:see-all-albums"},{type:Wi.TRACKRESULTS,label:h.ag.get("playlist.curation.see_all_songs"),uri:"spotify:internal:recs:see-all-songs"}];return c=i,(0,g.jsx)(hi,{renderRow:v,searchResults:c,renderSeeAllRow:k,seeAllXList:f})}return(null==a?void 0:a.navType)===Wi.ALBUM?(0,g.jsx)(yi,{renderRow:v,searchResults:c}):(null==a?void 0:a.navType)===Wi.ARTIST?(0,g.jsx)(Si,{renderRow:v,searchResults:c}):(null==a?void 0:a.navType)===Wi.ALBUMRESULTS?(0,g.jsx)(gi,{renderRow:v,searchResults:c}):(null==a?void 0:a.navType)===Wi.TRACKRESULTS?(0,g.jsx)(Ni,{renderRow:v,searchResults:c}):(null==a?void 0:a.navType)===Wi.ARTISTRESULTS?(0,g.jsx)(xi,{renderRow:v,searchResults:c}):null},zi=function(e){var n=e.playlistUri,i=e.onCurationModeChange,a=(0,d.useState)([]),s=(0,r.Z)(a,2),c=s[0],u=s[1],m=(0,d.useState)(),k=(0,r.Z)(m,2),v=k[0],f=k[1],b=(0,Zn.S)(),y=function(){var e=(0,d.useReducer)(Qi,{term:"",breadcrumbs:[]}),n=(0,r.Z)(e,2),i=n[0],a=n[1],t=i.breadcrumbs,l=i.term;return{changeTerm:function(e){a({type:"CHANGE_TERM",term:e})},level:t[t.length-1]||null,goBack:function(){a({type:"GO_BACK"})},navToEntity:function(e){a({type:"NAV_TO_ENTITY",level:e})},navToResults:function(e){a({type:"NAV_TO_RESULTS",level:e})},term:l}}(),S=y.level,N=y.changeTerm,x=y.goBack,j=y.navToEntity,T=y.navToResults,C=y.term,F=(0,d.useContext)(Bn.Ax).request;return(0,d.useEffect)((function(){var e=!0,n=function(){var n=(0,l.Z)(o().mark((function n(){var i,a,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(S){n.next=2;break}return n.abrupt("return");case 2:n.t0=S.navType,n.next=n.t0===Wi.SEARCH?5:n.t0===Wi.ARTISTRESULTS?21:n.t0===Wi.ALBUMRESULTS?23:n.t0===Wi.TRACKRESULTS?25:n.t0===Wi.EPISODERESULTS?27:n.t0===Wi.ALBUM?29:n.t0===Wi.ARTIST?40:51;break;case 5:if(n.prev=5,v&&(v.query===C||""===C)){n.next=13;break}return n.next=9,ri(F,C);case 9:i=n.sent,e&&f(i),n.next=14;break;case 13:""===C&&u([]);case 14:n.next=19;break;case 16:n.prev=16,n.t1=n.catch(5),u([]);case 19:return v&&u(v.topResults),n.abrupt("break",52);case 21:return v&&u(null==v?void 0:v.artists),n.abrupt("break",52);case 23:return v&&u(null==v?void 0:v.albums),n.abrupt("break",52);case 25:return v&&u(null==v?void 0:v.tracks),n.abrupt("break",52);case 27:return v&&u(null==v?void 0:v.episodes),n.abrupt("break",52);case 29:return n.prev=29,n.next=32,si(F,S.uri,100,0);case 32:a=n.sent,e&&a&&u(a.tracks),n.next=39;break;case 36:n.prev=36,n.t2=n.catch(29),u([]);case 39:return n.abrupt("break",52);case 40:return n.prev=40,n.next=43,oi(F,S.uri,100,0);case 43:l=n.sent,e&&l&&u([].concat((0,t.Z)(l.albums),(0,t.Z)(l.tracks))),n.next=50;break;case 47:n.prev=47,n.t3=n.catch(40),u([]);case 50:case 51:return n.abrupt("break",52);case 52:case"end":return n.stop()}}),n,null,[[5,16],[29,36],[40,47]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e=!1}}),[S,C,v,F]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("section",{className:K.Z.playlistInlineCurationSection,children:[(0,g.jsxs)("div",{className:K.Z.playlistInlineCurationWrapper,children:[(0,g.jsx)(p.D,{as:"h1",className:K.Z.playlistInlineCurationTitle,variant:"canon",children:h.ag.get("playlist.curation.title")}),(0,g.jsx)(d.Suspense,{fallback:null,children:(0,g.jsx)(bi,{placeholder:h.ag.get("playlist.curation.search_placeholder"),onFocus:function(){i(!0)},onChange:function(e){N(e)}})})]}),(0,g.jsx)("button",{className:K.Z.playlistInlineCurationCloseButton,onClick:function(){return i(!1)},children:(0,g.jsx)(dn.k,{"aria-label":h.ag.get("close")})})]}),null!==S&&S.navType!==Wi.SEARCH?(0,g.jsxs)("button",{className:K.Z.playlistInlineCurationBackButton,onClick:function(){return x()},children:[b?(0,g.jsx)(Vn.V,{"aria-label":h.ag.get("navbar.go-back"),className:K.Z.icon}):(0,g.jsx)(Mn.e,{"aria-label":h.ag.get("navbar.go-back"),className:K.Z.icon}),(0,g.jsx)(p.D,{as:"p",variant:"cello",children:S.title})]}):null,(0,g.jsx)("div",{className:K.Z.searchResultListContainer,"data-testid":"playlist-inline-curation-results",children:(0,g.jsx)(Ki,{playlistUri:n,term:C,level:S,resultList:c,navToEntity:j,navToResults:T,isRTL:b})})]})},Hi=d.lazy((function(){return Promise.all([i.e(1814),i.e(9805),i.e(7405)]).then(i.bind(i,49805))})),Ji=d.lazy((function(){return i.e(7427).then(i.bind(i,49666))})),Gi=d.lazy((function(){return i.e(7427).then(i.bind(i,8262))})),qi=d.lazy((function(){return i.e(5457).then(i.bind(i,19312))})),Xi=d.memo((function(e){var n,i,s=e.playlist,c=e.capabilities,S=s.metadata,N=S.uri,x=S.name,j=S.images,T=S.totalLength,C=S.unfilteredTotalLength,U=S.isOwnedBySelf,w=S.isCollaborative,V=S.hasEpisodes,M=S.hasSpotifyTracks,Z=S.canAdd,B=S.canRemove,Y=S.canPlay,de=S.formatListData,me=S.hasDateAdded,pe=S.collaborators,fe=S.isPublished,ye=s.contents.items,Se=(0,be.fU)(f.T,{data:{uri:N}}),ge=Se.spec,Ne=Se.logger,xe=Se.UBIFragment,je=(0,ne.k)(),Te=(0,v.W6)(he.OC,{loadingValue:!1}),Ae=d.useMemo((function(){return ge.headerFactory()}),[ge]),Re=d.useMemo((function(){return ge.tracklistFactory()}),[ge]),De="chart"===(null==de?void 0:de.type),Ee="concert-playlist"===(null==de?void 0:de.type)&&Te,Pe="live-streams"===(null==de?void 0:de.type),Ie=["blend","celebrity-blend","friends-mix"].indexOf((null==de?void 0:de.type)||"")>-1,Le=!!V,Oe="artistsets"===(null==de?void 0:de.type)||"this-is"===(null==de?void 0:de.attributes["editorial.series"]),Ue=(null==de?void 0:de.attributes)||{},Ve=Ue.header_image_url_desktop||Ue.image_url||null,Me=Z&&B,Ze=function(e,n){var i=(0,d.useState)(e&&0===n),a=(0,r.Z)(i,2),t=a[0],l=a[1],s=(0,d.useContext)(oe.VX).scrollNodeChildRef,o=(0,d.useRef)(t);return(0,d.useEffect)((function(){var e,n=!o.current;s&&n&&t&&(null===(e=s.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})),o.current=t}),[s,t]),{inlineCurationModeIsOn:t,handleInlineCurationModeChange:function(e){l(e)}}}(Me,C),We=Ze.inlineCurationModeIsOn,Qe=Ze.handleInlineCurationModeChange,Ke=c.canFilter&&C>0,ze=c.canSort&&C>0,He=C>0,Je=(0,m.v9)(re.Gg).productState,Ge=!!Je&&parseInt(Je.ads,10)>0,qe="spotify"===s.metadata.owner.username,Ye=(0,m.I0)(),$e=(0,k.ur)(),en=(0,k.TH)(),nn=(0,v.W6)(le.v8),an=(0,v.W6)(le.XP,{loadingValue:!1}),tn=(0,v.W6)(he.NC,{loadingValue:!1}),rn=(0,v.W6)(le.wA,{loadingValue:!1}),sn=null===(n=(0,G.useThisisPlaylistExtensionQuery)({uri:N},{cacheTime:5*ce.y,enabled:tn&&Oe}).data)||void 0===n?void 0:n.playlistV2,on="Playlist"===(null==sn?void 0:sn.__typename)?null===(i=sn.artistsOnTour)||void 0===i?void 0:i[0]:null,dn="POP"!==$e?new URLSearchParams(en.search).get("uid"):null,cn=(0,_.Z)(N),un=(0,r.Z)(cn,2),mn=un[0],kn=un[1],pn=(0,ee.o)(),vn=(0,d.useContext)(H.fo).filter,fn=(0,d.useContext)(J.Gb).sortState,bn=(0,d.useRef)(null),hn=(0,d.useRef)(null),yn=(0,r.Z)(j,1)[0],Sn=(0,Fe.h)(N),gn=(0,ie.Z)(null!==Ve?Ve:(null==yn?void 0:yn.url)||null,Sn?"#004989":void 0,Sn?"#004989":void 0),Nn=d.useMemo((function(){return ge.actionBarFactory()}),[ge]),xn=(0,ue.n)((0,ke.U)(N,(0,z._j)(fn),vn),{featureIdentifier:"playlist"}),jn=xn.isPlaying,Tn=xn.isActive,Cn=xn.togglePlay,Fn=xn.usePlayContextItem,An=(0,d.useCallback)((function(){var e=(0,te.aK)({isPlaying:jn,isActive:Tn,spec:Nn.playButtonFactory(),logger:Ne,uri:N});Cn({loggingParams:e})}),[jn,Tn,Cn,Nn,Ne,N]),Rn=(0,d.useCallback)((0,l.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pn({targetUri:N,intent:mn?"unsave":"save",type:"click"}),e.prev=1,e.next=4,kn(!mn);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])}))),[mn,pn,kn,N]),Dn=(0,d.useCallback)((function(){var e=Nn.shareButtonFactory().hitShare({entityToBeShared:N,shareId:""});Ne.logInteraction(e)}),[Nn,Ne,N]),En=(0,d.useCallback)((function(){var e,n=Nn.heartButtonFactory();e=mn?n.hitUnfollow({itemToBeUnfollowed:N}):n.hitFollow({itemToBeFollowed:N}),Ne.logInteraction(e),Rn()}),[Nn,Rn,mn,Ne,N]),Pn=(0,d.useCallback)((function(e){var n=e.split(/[\r\n]+/g).map((function(e){return(0,b.EC)(e)})).filter((function(e){return(0,b.wj)(e)||(0,b.hn)(e)||(0,b.dB)(e)}));if(n.length>0&&Z){var i,a,t,l=n.map((function(e){return e.toURI()})),r=null===(i=bn.current)||void 0===i||null===(a=i.getSelected())||void 0===a||null===(t=a.slice(-1))||void 0===t?void 0:t[0],s={after:null!=r?r:"end"};Ye((0,y.jV)(N,l,s))}}),[Z,Ye,N]);(0,ae.aw)(Pn);var In=(0,d.useCallback)((function(e,n){var i=[].concat((0,t.Z)(n[$.a[b.JM.TRACK]]||[]),(0,t.Z)(n[$.a[b.JM.LOCAL_TRACK]]||[]),(0,t.Z)(n[$.a[b.JM.EPISODE]]||[]),(0,t.Z)(n[$.a[b.JM.ALBUM]]||[]));i.length>0&&Z&&(Ne.logInteraction(ge.dragAddToPlaylist({playlist:N,itemToBeAdded:i[0]})),Ye((0,y.jV)(N,i)),pn({targetUri:N,intent:"add",type:"drop"}))}),[Z,Ne,ge,N,Ye,pn]);return(0,g.jsxs)(d.Suspense,{fallback:null,children:[(0,g.jsx)(L.$,{children:(0,ve.T5)({playlistName:x,userName:s.metadata.owner.displayName||"",isSpotifyOwned:qe})}),(0,g.jsx)(I.Z,{types:[$.a[b.JM.TRACK],$.a[b.JM.LOCAL_TRACK],$.a[b.JM.EPISODE],$.a[b.JM.ALBUM]],onDrop:In,children:(0,g.jsxs)("section",{role:"presentation",className:K.Z.playlist,"data-testid":"playlist-page","data-test-uri":N,children:[(0,g.jsx)(_e.s,{metadata:s.metadata,isPlaying:jn,isPublished:fe,togglePlay:An,backgroundColor:gn,spec:Ae}),(0,g.jsxs)("div",{className:K.Z.playlistContent,children:[(0,g.jsxs)(A.o,{backgroundColor:gn,children:[(0,g.jsxs)(A.F,{children:[Y?(0,g.jsx)(Q.$,{onClick:An,isPlaying:jn,size:"lg",uri:N,ariaPlayLabel:h.ag.get("playlist.a11y.play",x),ariaPauseLabel:h.ag.get("playlist.a11y.pause",x)}):null,U&&M&&(0,g.jsx)(X.v,{uri:N,renderEnabled:function(){return(0,g.jsx)(q.v,{uri:N})}}),U?null:(0,g.jsx)(O.r,{children:(0,g.jsx)(R.H,{isAdded:!!mn,onClick:En,size:R.q.md})}),(0,g.jsx)(D.o,{uri:N,isFollowing:!!mn,canDownload:He,onClick:function(e,n){return(0,te.l7)(n,Nn.downloadButtonFactory(),Ne,N)},onFollow:Rn,size:D.q.md}),(0,g.jsx)(W.F,{property:le.bM,renderNewExperience:function(){var e;return null!==(e=s.metadata.permissions)&&void 0!==e&&e.canAdministratePermissions&&je?(0,g.jsx)(we,{onClick:Dn,label:h.ag.get("permissions.invite-collaborators",x),uri:N}):null}}),(0,g.jsx)(se.y,{onShow:function(){return(0,te.qq)(Nn,Ne)},menu:(0,g.jsx)(P.X,{uri:N,isPublished:fe}),children:(0,g.jsx)(E.z,{label:h.ag.get("more.label.context",x)})}),Ke&&ze&&(0,g.jsx)(xe,{spec:Nn,children:(0,g.jsx)(Be,{metadata:s.metadata,tracklistDomRef:hn})})]}),nn&&(0,g.jsx)(wn,{})]}),(0,g.jsx)(d.Suspense,{fallback:null,children:(0,g.jsx)(Ji,{formatListData:s.metadata.formatListData})}),null!=on&&on.upcomingEventsCount?(0,g.jsx)(Gi,{artistConcertsUri:on.uri||"",artistImageUrl:on.imageUrl||"",artistName:on.title||"",spec:ge}):null,(0,g.jsxs)("div",{className:u()("contentSpacing",(0,a.Z)({},K.Z.mermaidBackground,(0,v.W6)(le.Cc)&&Sn)),children:[Ge?(0,g.jsx)(F,{playlistUri:N}):null,an&&Ge&&qe?(0,g.jsx)(qi,{playlistUri:N,playlistName:x}):null,s.metadata.hasSpotifyAudiobooks&&rn&&(0,g.jsxs)("div",{className:K.Z.noBooklistSupportContainer,children:[(0,g.jsx)(p.D,{variant:"cello",semanticColor:"textBase",children:"Available in your mobile app"}),(0,g.jsx)(p.D,{variant:"ballad",semanticColor:"textSubdued",children:"Audiobooks playlist are coming soon, text to be changed later."})]}),T>0&&(0,g.jsx)(d.Suspense,{fallback:null,children:(0,g.jsx)(xe,{spec:Re,children:De?(0,g.jsx)(Ce,{ariaLabel:x,nrTracks:T,playlistUri:N,rankType:Ue.rank_type||"",scrollToUid:dn,usePlayContextItem:Fn,tracklistDomRef:hn},N):(0,g.jsx)(Xe,{ariaLabel:x,nrTracks:T,playlistUri:N,playlistName:x,hasDateAdded:me,isCollaborative:w,isMixedMedia:Le,isLive:Pe,isConcert:Ee,isBlend:Ie,canEdit:Me,scrollToUid:dn,feedbackPath:Ue["dislike-endpoint"],deleteFeedbackPath:Ue["delete-endpoint"],usePlayContextItem:Fn,tracklistRef:bn,tracklistDomRef:hn,nrCollaborators:null==pe?void 0:pe.count,canRemove:B,spec:Re,initialItems:ye},N)})}),U&&je&&(0,g.jsx)(d.Suspense,{fallback:null,children:We?(0,g.jsx)(zi,{playlistUri:N,onCurationModeChange:Qe}):(0,g.jsx)("button",{className:K.Z.seeMore,onClick:function(){Qe(!0)},children:(0,g.jsx)(p.D,{as:"div",variant:"mestoBold",children:h.ag.get("playlist.curation.find_more")})})}),Me&&!We&&je?(0,g.jsx)(ln,{playlistUri:N,playlistLength:s.metadata.unfilteredTotalLength}):null]})]})]})})]})})),Yi=d.memo((function(e){var n=e.uri,i=(0,k.TH)(),a=(0,d.useContext)(me.ZF).getCapabilities(),t=(0,m.v9)(re.Gg).isAnonymous,l=(0,Y.U)(n).isEnhanced,r=(0,d.useContext)(H.fo).filter,s=(0,d.useContext)(J.Gb).sortState,o=(0,_n.d)(s,r),c=o.metadataOptions,u=o.contentsOptions,p=(0,pe.Z)(n,c,u);return(0,d.useEffect)((function(){var e=new URLSearchParams(i.search).get("prid");if(!t&&e){var a="https://spclient.wg.spotify.com/algotorial-sharing-service/v1/shared?playlistId=".concat(n,"&sharedEntityUri=").concat(e);(0,fe.k)().request(a,{method:"POST",authorize:!0,allowOffline:!0})}}),[n,t,i.search]),p?p.metadata.permissions&&!p.metadata.permissions.canView?(0,g.jsx)(Z,{uri:n}):(0,g.jsx)(X.v,{uri:n,renderEnabled:function(){return l?(0,g.jsx)(d.Suspense,{fallback:null,children:(0,g.jsx)(Hi,{metadata:p.metadata,capabilities:a,featureIdentifier:"playlist"})}):(0,g.jsx)(Xi,{playlist:p,capabilities:a})},renderDisabled:function(){return(0,g.jsx)(Xi,{playlist:p,capabilities:a})}}):(0,g.jsx)(B.h,{hasError:!1,errorMessage:h.ag.get("error.not_found.title.playlist"),loadOffline:a.canModifyOffline})}));const $i=function(){var e=(0,k.UO)().playlistId,n=(0,b.FW)((e||"").split("&")[0]).toURI();return(0,g.jsx)(de.fd,{surface:de.Tg.PLAYLIST,uris:[n],children:(0,g.jsx)(J.kz,{uri:n,children:(0,g.jsx)(H.hz,{uri:n,children:(0,g.jsx)(Yi,{uri:n})})})})}}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map