"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8123],{46423:(e,t,n)=>{n.d(t,{l:()=>m});var i,r,l,o=n(45389),a=n(10506),s=n(63892),c=n(45883),d=n(66971),u=n(63765),v=n(4637),b=(i={},(0,o.Z)(i,c.Uo.MEDIUM,"alto"),(0,o.Z)(i,c.Uo.LARGE,"alto"),(0,o.Z)(i,c.Uo.XLARGE,"forte"),i),h=(r={},(0,o.Z)(r,c.Uo.LARGE,"ballad"),(0,o.Z)(r,c.Uo.XLARGE,"cello"),r),p=(l={},(0,o.Z)(l,c.Uo.LARGE,"viola"),(0,o.Z)(l,c.Uo.XLARGE,"viola"),l),m=function(e){var t=e.title,n=e.subtitle,i=e.body,r=e.footnote,l=e.buttonText,o=e.callToActionClicked,m=(0,c.jh)(),x=m&&b[m]||"canon",f=m&&h[m]||"mesto",g=m&&p[m]||"finale";return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.D,{as:"h1",variant:x,semanticColor:"textBase",className:u.Z.title,children:t}),(0,v.jsx)(a.D,{as:"h2",variant:f,semanticColor:"textSubdued",className:u.Z.subtitle,children:n}),i,o&&(0,v.jsx)(s.D,{className:u.Z.button,colorSet:"invertedLight",onClick:o,"data-testid":d.xd,children:l}),r&&(0,v.jsx)(a.D,{as:"p",variant:g,semanticColor:"textSubdued",className:u.Z.note,children:r})]})}},44645:(e,t,n)=>{n.d(t,{H:()=>E});var i=n(45389),r=(n(30246),n(84875)),l=n.n(r),o=n(17249),a=n(39447),s=n(60817),c=n(45883),d=n(46423),u=n(66971);const v="NTT5CathoDEMjrmgfv9y",b="WmmNhmwHDNvDxInfukYO";var h=n(4637);const p=function(e){return(0,h.jsx)("div",{className:v,children:(0,h.jsx)("div",{className:b,children:(0,h.jsx)("svg",{width:e.iconSize,height:e.iconSize,fill:"currentColor",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M33 31.998v-23h-2v23H8v2h23v23h2v-23h23v-2z"})})})})};var m,x=n(63765),f={name:"",username:"",image_url:null,hash:""},g=(m={},(0,i.Z)(m,c.Uo.MEDIUM,164),(0,i.Z)(m,c.Uo.LARGE,164),(0,i.Z)(m,c.Uo.XLARGE,270),m),j=function(e,t){return(0,h.jsx)(a.q,{label:o.ag.get("web-player.blend.invite.button-title"),images:[],width:e,userIconSize:t,customPlaceholder:(0,h.jsx)(p,{iconSize:t}),piled:!0})},E=function(e){var t,n,i,r,v=e.invitation,b=e.callToActionClicked,p=e.breakpointEltRef,m=!(null===(t=v.members)||void 0===t||!t.length),E=m&&(null===(n=v.members)||void 0===n?void 0:n[0])||v.recipient||f,w=m&&v.recipient||null,y=(0,c.jh)(),_=y&&g[y]||128,O=Math.round(.475*_);return(0,h.jsxs)("div",{className:l()(x.Z.container,x.Z.TwoUsers),"data-testid":u.xS,ref:p,children:[(0,h.jsx)(s.$,{children:o.ag.get("blend.invite.page-title")}),(0,h.jsxs)("div",{className:x.Z.facepile,children:[(0,h.jsx)(a.q,{label:E.name,images:[{url:null!==(i=E.image_url)&&void 0!==i?i:"",width:_,height:_}],width:_,userIconSize:O}),w?(0,h.jsx)(a.q,{label:w.name,images:[{url:null!==(r=w.image_url)&&void 0!==r?r:"",width:_,height:_}],width:_,userIconSize:O,piled:!0}):j(_,O)]}),(0,h.jsx)(d.l,{title:v.title,subtitle:v.subtitle,footnote:v.footnote,buttonText:v.button_text,callToActionClicked:b})]})}},66971:(e,t,n)=>{n.d(t,{Eh:()=>o,ab:()=>l,e0:()=>i,xS:()=>r,xd:()=>a});var i="blend-deleted-container",r="blend-two-user-container",l="blend-multi-user-container",o="blend-full-container",a="blend-cta-button"},61243:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(){var e=window.location.href;return window.location.href="".concat("https://accounts.spotify.com/login","?continue=").concat(encodeURIComponent(e)),null}},42436:(e,t,n)=>{n.d(t,{Ag:()=>a,V3:()=>r,nW:()=>o,oN:()=>l});var i=n(32953),r=function(e){return e.PENDING_INVITATION="PENDING_INVITATION",e.READY_TO_JOIN_EMPTY_BLEND="READY_TO_JOIN_EMPTY_BLEND",e.READY_TO_JOIN_ALREADY_CREATED_BLEND="READY_TO_JOIN_ALREADY_CREATED_BLEND",e.MAX_MEMBERS="MAX_MEMBERS",e.ALREADY_JOINED="ALREADY_JOINED",e.DELETED="DELETED",e}({}),l=function(e,t){return e.build().withHost(i.cM).withPath("/v3/view-invitation/".concat(encodeURIComponent(t))).withEndpointIdentifier("v3/view-invitation/{invitationId}").withLocale(e.locale).send()},o=function(e,t){return e.build().withHost(i.cM).withMethod("PUT").withPath("/v2/join/".concat(encodeURIComponent(t))).withEndpointIdentifier("join/{invitationId}").send()},a=function(e){return e.build().withHost(i.cM).withMethod("POST").withPath("/v1/generate").withEndpointIdentifier("v1/generate").send()}},67276:(e,t,n)=>{n.d(t,{j:()=>o});var i=n(45389),r=n(90586),l=n(13040),o=function(){var e;return(0,l.D)((e={},(0,i.Z)(e,r.U.SMALL,536),(0,i.Z)(e,r.U.MEDIUM,792),(0,i.Z)(e,r.U.LARGE,1048),(0,i.Z)(e,r.U.XLARGE,1688),e))}},86322:(e,t,n)=>{n.d(t,{i:()=>h});var i=n(8850),r=n(10995),l=n.n(r),o=(n(59538),n(79611),n(59496)),a=n(61740),s=n(17249),c=n(60808),d=n(2708),u=n(85358),v=n(29893),b=n(42436);function h(){var e=(0,a.v9)(v.Gg).user,t=(0,u.k)(),n=(0,o.useCallback)((0,i.Z)(l().mark((function t(){var n,i,r,o,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.Ag)(c.b.getInstance());case 2:if(o=t.sent,null===(n=o.body)||void 0===n?void 0:n.invite){t.next=6;break}throw new Error("unable to generate invite link");case 6:return a=null!=e&&e.display_name?s.ag.get("blend.invite.body-with-name",e.display_name,null===(i=o.body)||void 0===i?void 0:i.invite):s.ag.get("blend.invite.body-without-name",null===(r=o.body)||void 0===r?void 0:r.invite),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)}))),[null==e?void 0:e.display_name]);return(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.v)(n());case 3:t(s.ag.get("feedback.link-copied")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(s.ag.get("error.generic"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))}},85402:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341);var i=n(45389),r=n(59496),l=n(61740),o=n(17249),a=n(60817),s=n(29893),c=n(45883),d=n(51770),u=n(12033),v=n(42436),b=n(67276),h=n(86322),p=n(44645),m=n(61243),x=n(4637);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={page_type:v.V3.PENDING_INVITATION,get title(){return o.ag.get("web-player.blend.group-invite.header")},get subtitle(){return o.ag.get("web-player.blend.duo-invite.description")},get button_text(){return o.ag.get("web-player.blend.invite.button-title")},footnote:null,members:[],recipient:null,members_title:null,playlist_uri:null};const E=function(){var e,t=(0,h.i)(),n=(0,b.j)(),i=n.ref,v=n.breakpoint,f=(0,l.v9)(s.Gg).user,E=null!=f&&f.uri?(0,d.C)(null==f?void 0:f.uri):"",w=function(e){return g(g({},j),{},{members:[e],footnote:o.ag.get("web-player.blend.group-invite.warning")})}({name:(null==f?void 0:f.display_name)||"",username:E,image_url:(null===(e=(0,u.X)(null==f?void 0:f.images))||void 0===e?void 0:e.url)||null,hash:""});return f?(0,x.jsxs)(r.Suspense,{fallback:null,children:[(0,x.jsx)(a.$,{children:o.ag.get("web-player.blend.invite.page-title")}),(0,x.jsx)(c.ZU.Provider,{value:v,children:(0,x.jsx)(p.H,{invitation:w,callToActionClicked:t,breakpointEltRef:i})})]}):(0,x.jsx)(m.Z,{})}},50562:(e,t,n)=>{n.r(t),n.d(t,{default:()=>$});var i=n(59496),r=n(61740),l=n(41177),o=n(29893),a=(n(95675),n(61235),n(62780),n(22369),n(7845),n(29543),n(70969),n(66715),n(30479),n(75341),n(45389)),s=n(81927),c=n(38674),d=n(59272),u=n(17249),v=n(80274),b=n(10785),h=n(45883),p=n(62523),m=n(46423),x=n(66971),f=n(63765),g=n(4637),j=function(e){var t=e.invitation,n=e.callToActionClicked,i=e.breakpointEltRef;return(0,g.jsxs)("div",{className:f.Z.container,"data-testid":x.Eh,ref:i,children:[(0,g.jsx)(p.Z,{iconSize:64}),(0,g.jsx)(m.l,{title:t.title,subtitle:t.subtitle,buttonText:t.button_text,footnote:null,callToActionClicked:n})]})},E=n(60817),w=(n(30246),n(162),n(84875)),y=n.n(w),_=n(10506),O=n(39447),A=n(54691),I=n(89418),N=n(88843);const D="HKAYWYmxd5Ie8WSi0a4y",k="i52u_T3b50wraodIaORk",T="xakiNVMlUf6geF67FEgy",R="IRhTesoeIiwswlly0Dvg",Z="LNJzE17iskXWmfKAzY4U",U="qzBr7X7cdLUhWdk0r8lL";var L=function(e){var t=e.uri,n=e.imageUrl,i=e.name;return(0,g.jsx)("li",{children:(0,g.jsx)(A._,{menu:(0,g.jsx)(I.I,{uri:t}),children:(0,g.jsx)(N.Link,{to:t,children:(0,g.jsxs)("div",{className:R,children:[(0,g.jsx)(O.q,{images:[{url:n,width:null,height:null}],label:i,width:32,userIconSize:24,className:Z}),(0,g.jsx)(_.D,{variant:"violaBold",className:"standalone-ellipsis-one-line",semanticColor:"textBase",children:i})]})})})})},P=function(e){var t=e.members,n=e.headingText,i=e.className;return(0,g.jsxs)("div",{className:y()(D,i),children:[(0,g.jsx)("div",{children:(0,g.jsx)(_.D,{as:"h4",variant:"minuetBold",semanticColor:"textSubdued",className:k,children:n})}),(0,g.jsx)("ul",{className:T,children:t&&t.map((function(e){return(0,g.jsx)(L,{imageUrl:e.image_url||"",name:e.name,uri:(0,d.QK)(e.username).toURI()},e.username)}))}),(0,g.jsx)("div",{className:U})]})},C=function(e){var t=e.invitation,n=e.callToActionClicked,i=e.breakpointEltRef,r=t.members||[],l=(0,g.jsx)("div",{className:f.Z.userListContainer,"data-testid":x.ab,children:(0,g.jsx)(P,{className:f.Z.userList,headingText:t.members_title,members:r})});return(0,g.jsxs)("div",{className:f.Z.container,ref:i,children:[(0,g.jsx)(E.$,{children:u.ag.get("blend.join.title")}),(0,g.jsx)(m.l,{title:t.title,subtitle:t.subtitle,footnote:t.footnote,body:l,buttonText:t.button_text,callToActionClicked:n})]})},M=n(44645),S=n(68833),Y=n(42436),V=n(67276),B=n(86322),G=n(8850),z=n(10995),X=n.n(z),J=(n(59538),n(79611),n(60808)),W=n(85358);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(e){var t,n=e.invitationId,r=(0,l.s0)(),o=(0,c.W6)(b.c$),a=(0,v.J)(Y.oN,[n]),p=a.data,E=a.error,w=a.loading,y=(0,B.i)(),_=function(e){var t=(0,W.k)(),n=(0,l.s0)();return(0,G.Z)(X().mark((function i(){var r,l;return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,Y.nW)(J.b.getInstance(),e);case 3:if(r=i.sent,l=(0,d.EC)(null==r?void 0:r.body.playlist_uri).toURLPath(!0)){i.next=7;break}throw new Error("unable to join");case 7:n(l,{replace:!0}),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),t(u.ag.get("error.request-playlist-failure"));case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))}(n),O=(0,V.j)(),A=O.ref,I=O.breakpoint;(0,i.useEffect)((function(){if((null==p?void 0:p.body.page_type)===Y.V3.ALREADY_JOINED){var e,t=null===(e=(0,d.EC)(null==p?void 0:p.body.playlist_uri))||void 0===e?void 0:e.toURLPath(!0);t&&r(t,{replace:!0})}}),[null==p?void 0:p.body.page_type,null==p?void 0:p.body.playlist_uri,r]);var N=null===p||!p.body;if(N||w||E)return(0,g.jsx)(S.h,{timeoutInMs:1e3,hasError:!!E||!w&&N,errorMessage:u.ag.get("error.generic")});var D=(null==p||null===(t=p.body.members)||void 0===t?void 0:t.length)||0,k=o===b.rS.TWO_USER;switch(null==p?void 0:p.body.page_type){case Y.V3.DELETED:return(0,g.jsx)(h.ZU.Provider,{value:I,children:(0,g.jsxs)("div",{className:f.Z.container,ref:A,"data-testid":x.e0,children:[(0,g.jsx)(s.F,{iconSize:64}),(0,g.jsx)(m.l,{title:p.body.title,subtitle:p.body.subtitle,buttonText:p.body.button_text,footnote:p.body.footnote,callToActionClicked:y})]})});case Y.V3.ALREADY_JOINED:return(0,g.jsx)(S.h,{hasError:!1,errorMessage:u.ag.get("error.request-playlist-failure")});case Y.V3.READY_TO_JOIN_EMPTY_BLEND:return(0,g.jsx)(h.ZU.Provider,{value:I,children:(0,g.jsx)(M.H,{invitation:p.body,breakpointEltRef:A,callToActionClicked:_})});case Y.V3.READY_TO_JOIN_ALREADY_CREATED_BLEND:return k&&D>=2?(0,g.jsx)(h.ZU.Provider,{value:I,children:(0,g.jsx)(j,{invitation:H(H({},p.body),{},{title:u.ag.get("blend.link-invialid.header"),subtitle:u.ag.get("blend.link-invalid.subtitle"),button_text:u.ag.get("blend.invite.button-title")}),callToActionClicked:y,breakpointEltRef:A})}):(0,g.jsx)(h.ZU.Provider,{value:I,children:(0,g.jsx)(C,{invitation:p.body,callToActionClicked:_,breakpointEltRef:A})});case Y.V3.MAX_MEMBERS:return(0,g.jsx)(h.ZU.Provider,{value:I,children:(0,g.jsx)(j,{invitation:p.body,callToActionClicked:y,breakpointEltRef:A})});case Y.V3.PENDING_INVITATION:return(0,g.jsx)(h.ZU.Provider,{value:I,children:(0,g.jsx)(M.H,{invitation:p.body,callToActionClicked:y,breakpointEltRef:A})});default:return(0,g.jsx)(S.h,{timeoutInMs:1e3,hasError:!0,errorMessage:u.ag.get("error.generic")})}},F=n(61243),Q=function(e){var t=e.invitationId;return(0,r.v9)(o.Gg).user?(0,g.jsx)(i.Suspense,{fallback:null,children:(0,g.jsx)(K,{invitationId:t})}):(0,g.jsx)(F.Z,{})};const $=(0,i.memo)((function(){var e=(0,l.UO)().invitationId,t=void 0===e?"":e;return(0,g.jsx)(Q,{invitationId:t})}))},63765:(e,t,n)=>{n.d(t,{Z:()=>i});const i={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"yMoj4jXSudxZ6BkKxV2E",TwoUsers:"IDgUCqAbkRah6OFywv1q",subtitle:"qmKxO5qV4XmVYfpFpaDA",facepile:"nWMdWl40O8K7HQT8Tagc",title:"csRAeNipsu1camQTMiIU",button:"nxFBywAeAI8Zk2fav3Yj",userList:"lxPLQIPb1VSV3VL18Ke3",userListContainer:"BzMKhmywgyIt6IUjcTGW",note:"DSdKNusLgsMX_iicYCU2"}}}]);
//# sourceMappingURL=xpui-routes-blend.js.map