"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[6309],{91013:(e,t,r)=>{r.d(t,{n:()=>I});var n=r(45389),a=r(39130),i=(r(40274),r(22369),r(43125),r(27639),r(162),r(81289),r(82088),r(29543),r(70969),r(62780),r(4302),r(66469),r(59496)),s=r(84875),l=r.n(s),o=r(41177),c=r(10506),u=r(70802),d=r(94782),f=r(17249),p=r(85830),m=r(87164),g=r(23066);var h=r(47982),A=r(14255),x=r(19224);const v="main-topBar-contentArea",b="queue-tabBar-headerIsCentered",j="queue-tabBar-headerItem",y="queue-tabBar-moreButton",E="queue-tabBar-moreButtonActive",C="yxf_6IsQEmHjijEBUMTP",O="queue-tabBar-active",L="queue-tabBar-headerItemLink",T="queue-tabBar-header",D="queue-tabBar-chevron";var S=r(4637),k=function(e){var t=e.items,r=e.activeItemId;return(0,S.jsx)(A.v,{children:t.map((function(e){return e.disabled?(0,S.jsx)(x.s,{disabled:!0,role:"menuitemradio",className:C,onClick:e.handleClick,children:e.title},e.uri):(0,S.jsx)(x.s,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===r,className:function(e){var t=e.isActive;return l()(C,(0,n.Z)({},O,t))},onClick:e.handleClick,children:e.title},e.uri)}))})},P=r(46747),I=(0,i.memo)((function(e){var t,r=e.isCentered,s=e.links,A=e.landmarkLabel,x=e.className,C=(0,i.useRef)(null),I=(0,i.useState)([]),_=(0,a.Z)(I,2),R=_[0],w=_[1],B=(0,i.useState)(0),N=(0,a.Z)(B,2),Z=N[0],M=N[1],Y=(0,i.useState)([]),H=(0,a.Z)(Y,2),U=H[0],F=H[1],W=null!==(t=function(){var e=(0,i.useState)(window.innerWidth),t=(0,a.Z)(e,2),r=t[0],n=t[1],s=(0,i.useContext)(m.VX).scrollNodeChildRef,l=(0,p.y1)((function(e){null!=e&&e.width&&n(e.width)}),250);return(0,g.y)({refOrElement:s,observeOnly:"width",onResize:l}),r}())&&void 0!==t?t:1/0,V=(0,o.TH)().pathname,G=s.find((function(e){return e.to===V}));return(0,i.useEffect)((function(){C.current&&M(C.current.clientWidth)}),[W]),(0,i.useEffect)((function(){if(C.current){var e=Array.from(C.current.children).map((function(e){return e.clientWidth}));w(e)}}),[s]),(0,i.useEffect)((function(){if(C.current)if(R.slice(0,-1).reduce((function(e,t){return e+t}),0)<=Z)F([]);else{var e=R.reduce((function(e,t){return e>t?e:t}),0),t=[],r=e;R.forEach((function(e,n){Z>=r+e?r+=e:t.push(n)})),F(t)}}),[Z,R]),(0,S.jsx)("nav",{className:l()(x,v),"aria-label":A,children:(0,S.jsxs)("ul",{className:r?b:T,ref:C,children:[s.filter((function(e,t){return!U.includes(t)})).map((function(e){var t,r=null!==(t=null==e?void 0:e.render)&&void 0!==t?t:function(e){return e};return(0,S.jsx)(i.Fragment,{children:r((0,S.jsx)("li",{className:j,children:e.disabled?(0,S.jsx)("div",{className:L,children:(0,S.jsx)(c.D,{variant:"mestoBold",children:e.title})}):(0,S.jsx)(P.O,{end:!0,className:function(e){var t=e.isActive;return l()(L,(0,n.Z)({},O,t))},to:e.to,onClick:e.handleClick,children:(0,S.jsx)(c.D,{variant:"mestoBold",children:e.title})})}))},e.to)})),U.length||0===R.length?(0,S.jsx)("li",{className:j,children:(0,S.jsx)(h.xV,{renderInline:!0,menu:(0,S.jsx)(k,{items:s.filter((function(e,t){return U.includes(t)})),activeItemId:null==G?void 0:G.itemId}),children:function(e,t,r){return(0,S.jsxs)("button",{className:l()(y,(0,n.Z)({},E,G)),type:"button",onClick:t,ref:r,children:[(0,S.jsx)(c.D,{variant:"mestoBold",children:G?G.title:f.ag.get("more")}),e?(0,S.jsx)(u.U,{iconSize:16,className:D,"aria-hidden":"true"}):(0,S.jsx)(d.i,{iconSize:16,className:D,"aria-hidden":"true"})]})}})}):null]})})}))},93076:(e,t,r)=>{r.d(t,{$:()=>o,Q:()=>l});r(59538),r(79611);var n=r(59496),a=r(11880),i=r(66524),s=r(4637),l=(0,n.createContext)({setSortState:function(){throw new Error("setSortState must be used within a LibrarySortProvider")},sortState:i.oT.ADDED_AT}),o=n.memo((function(e){var t=e.uri,r=e.children,n=e.defaultSortOption;return(0,s.jsx)(a.r,{uri:t,defaultState:n,sortContext:l,children:r})}))},66524:(e,t,r)=>{r.d(t,{Aq:()=>x,Bf:()=>R,EY:()=>C,G5:()=>T,JV:()=>w,MY:()=>g,Ru:()=>h,ZP:()=>O,a6:()=>y,aY:()=>P,e3:()=>j,ei:()=>m,o$:()=>v,oT:()=>p,pT:()=>k,rJ:()=>_,u3:()=>I,w0:()=>D});var n,a,i,s,l,o,c=r(45389),u=(r(4302),r(66469),r(17249)),d=r(54828),f=r(16204),p=function(e){return e.SHOW_ALPHABETICAL="SHOW_ALPHABETICAL",e.BOOK_ALPHABETICAL="BOOK_ALPHABETICAL",e.EPISODE_ALPHABETICAL="EPISODE_ALPHABETICAL",e.PLAYLIST_ALPHABETICAL="PLAYLIST_ALPHABETICAL",e.ALBUM_ALPHABETICAL="ALBUM_ALPHABETICAL",e.ADDED_AT="ADDED_AT",e.CREATOR_NAME="CREATOR_NAME",e.CREATOR_NAME_ALPHABETICAL="CREATOR_NAME_ALPHABETICAL",e.ALBUM_CREATOR_NAME="ALBUM_CREATOR_NAME",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.MOST_RELEVANT="MOST_RELEVANT",e.CUSTOM_ORDER="CUSTOM_ORDER",e}({}),m={"show-alphabetical":p.SHOW_ALPHABETICAL,"book-alphabetical":p.BOOK_ALPHABETICAL,"episode-alphabetical":p.EPISODE_ALPHABETICAL,"playlist-alphabetical":p.PLAYLIST_ALPHABETICAL,"album-alphabetical":p.ALBUM_ALPHABETICAL,"recently-added":p.ADDED_AT,"creator-name":p.CREATOR_NAME,"creator-name-alphabetical":p.CREATOR_NAME_ALPHABETICAL,"album-creator-name":p.ALBUM_CREATOR_NAME,"recently-played":p.RECENTLY_PLAYED,"playlist-most-relevant":p.MOST_RELEVANT,"playlist-custom-order":p.CUSTOM_ORDER},g=(n={},(0,c.Z)(n,p.RECENTLY_PLAYED,{key:"recently-played",get value(){return u.ag.get("collection.sort.recently-played")}}),(0,c.Z)(n,p.ADDED_AT,{key:"recently-added",get value(){return u.ag.get("collection.sort.recently-added")}}),(0,c.Z)(n,p.SHOW_ALPHABETICAL,{key:"show-alphabetical",get value(){return u.ag.get("collection.sort.alphabetical")}}),(0,c.Z)(n,p.BOOK_ALPHABETICAL,{key:"book-alphabetical",get value(){return u.ag.get("collection.sort.alphabetical")}}),(0,c.Z)(n,p.EPISODE_ALPHABETICAL,{key:"episode-alphabetical",get value(){return u.ag.get("collection.sort.alphabetical")}}),(0,c.Z)(n,p.PLAYLIST_ALPHABETICAL,{key:"playlist-alphabetical",get value(){return u.ag.get("collection.sort.alphabetical")}}),(0,c.Z)(n,p.ALBUM_CREATOR_NAME,{key:"album-creator-name",get value(){return u.ag.get("collection.sort.creator")}}),(0,c.Z)(n,p.CREATOR_NAME,{key:"creator-name",get value(){return u.ag.get("collection.sort.creator")}}),(0,c.Z)(n,p.CREATOR_NAME_ALPHABETICAL,{key:"creator-name-alphabetical",get value(){return u.ag.get("collection.sort.alphabetical")}}),(0,c.Z)(n,p.ALBUM_ALPHABETICAL,{key:"album-alphabetical",get value(){return u.ag.get("collection.sort.alphabetical")}}),(0,c.Z)(n,p.MOST_RELEVANT,{key:"playlist-most-relevant",get value(){return u.ag.get("collection.sort.most-relevant")}}),(0,c.Z)(n,p.CUSTOM_ORDER,{key:"playlist-custom-order",get value(){return u.ag.get("collection.sort.custom-order")}}),n),h=[p.ADDED_AT,p.ALBUM_ALPHABETICAL,p.CREATOR_NAME],A=(a={},(0,c.Z)(a,p.ADDED_AT,{field:d.lY.ADDED_AT,order:d.As.DESC}),(0,c.Z)(a,p.ALBUM_ALPHABETICAL,{field:d.lY.NAME,order:d.As.ASC}),(0,c.Z)(a,p.CREATOR_NAME,{field:d.lY.ARTIST_NAME,order:d.As.ASC}),a);var x=function(e){if(function(e){return h.includes(e)}(e))return A[e]},v=[p.ADDED_AT,p.CREATOR_NAME_ALPHABETICAL],b=(i={},(0,c.Z)(i,p.ADDED_AT,{field:d.hx.ADDED_AT,order:d.As.DESC}),(0,c.Z)(i,p.CREATOR_NAME_ALPHABETICAL,{field:d.hx.NAME,order:d.As.ASC}),i);var j=function(e){if(function(e){return v.includes(e)}(e))return b[e]},y=[p.ADDED_AT,p.SHOW_ALPHABETICAL],E=(s={},(0,c.Z)(s,p.ADDED_AT,{field:d.aW.ADDED_AT,order:d.As.DESC}),(0,c.Z)(s,p.SHOW_ALPHABETICAL,{field:d.aW.NAME,order:d.As.ASC}),s);var C=function(e){if(function(e){return y.includes(e)}(e))return E[e]},O=[p.ADDED_AT,p.BOOK_ALPHABETICAL],L=(l={},(0,c.Z)(l,p.ADDED_AT,d.VN.ADDED_AT),(0,c.Z)(l,p.BOOK_ALPHABETICAL,d.VN.NAME),l);var T=function(e){if(function(e){return O.includes(e)}(e))return L[e]},D=[p.MOST_RELEVANT,p.RECENTLY_PLAYED,p.ADDED_AT,p.PLAYLIST_ALPHABETICAL,p.CUSTOM_ORDER],S=(o={},(0,c.Z)(o,p.ADDED_AT,{field:f.bD.ADDED_AT,order:f.As.DESC}),(0,c.Z)(o,p.RECENTLY_PLAYED,{field:f.bD.RECENTLY_PLAYED,order:f.As.ASC}),(0,c.Z)(o,p.PLAYLIST_ALPHABETICAL,{field:f.bD.NAME,order:f.As.ASC}),(0,c.Z)(o,p.MOST_RELEVANT,{field:f.bD.RELEVANCE,order:f.As.DESC}),(0,c.Z)(o,p.CUSTOM_ORDER,void 0),o);var k=function(e){if(function(e){return D.includes(e)}(e))return S[e]},P=p.ADDED_AT,I=p.ADDED_AT,_=p.ADDED_AT,R=p.MOST_RELEVANT,w=p.ADDED_AT},13746:(e,t,r)=>{r.d(t,{h:()=>p});var n=r(59496),a=r(92885),i=r(24898),s=r(20188),l=(r(162),r(4159)),o=r(93076),c=r(66524),u=r(4637),d=n.memo((function(e){var t=e.sortOptions,r=e.onSort,a=(0,n.useContext)(o.Q),i=a.sortState,s=a.setSortState,d=(0,n.useCallback)((function(e){var t=c.ei[e];null==r||r(t),s(t)}),[r,s]),f=t.map((function(e){return c.MY[e]})),p=c.MY[i];return(0,u.jsx)(l.A,{options:f,onSelect:d,selected:p})}));const f="collection-searchBar-searchBar";var p=n.memo((function(e){var t=e.canSort,r=e.canFilter,l=e.filterPlaceholder,o=e.sortOptions,c=(0,s.fU)(a.createDesktopSearchBarEventFactory,{}),p=c.spec,m=c.logger,g=(0,n.useCallback)((function(){m.logInteraction(p.filterFieldFactory().keyStrokeFilter())}),[m,p]),h=(0,n.useCallback)((function(){m.logInteraction(p.filterFieldFactory().hitClearFilter())}),[m,p]),A=(0,n.useCallback)((function(){m.logInteraction(p.sortButtonFactory().hitSort())}),[m,p]);return(0,u.jsxs)("div",{className:f,children:[r?(0,u.jsx)(n.Suspense,{fallback:null,children:(0,u.jsx)(i.K,{placeholder:l,onFilter:g,onClear:h})}):null,t?(0,u.jsx)(d,{sortOptions:o,onSort:A}):null]})}))},23229:(e,t,r)=>{r.d(t,{$:()=>n.$,Q:()=>n.Q});var n=r(93076)},87234:(e,t,r)=>{r.d(t,{Aq:()=>n.Aq,Bf:()=>n.Bf,EY:()=>n.EY,G5:()=>n.G5,JV:()=>n.JV,Ru:()=>n.Ru,ZP:()=>n.ZP,a6:()=>n.a6,aY:()=>n.aY,e3:()=>n.e3,o$:()=>n.o$,oT:()=>n.oT,pT:()=>n.pT,rJ:()=>n.rJ,u3:()=>n.u3,w0:()=>n.w0});var n=r(66524)},62066:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ct});var n=r(8850),a=r(10995),i=r.n(a),s=(r(83001),r(22369),r(8760),r(27639),r(71756),r(59496)),l=r(61740),o=r(41177),c=r(38674),u=r(53361),d=r(17249),f=r(60817),p=r(80487),m=r(10785),g=r(37146),h=(r(62780),r(30246),r(10506)),A=r(63308),x=r(36299),v=r(45389),b=(r(162),r(84875)),j=r.n(b),y=r(40423),E=r(87164),C=r(89880),O=r(23498),L=r(72030),T=r(4637),D=(0,s.memo)((function(e){var t=e.index;return(0,T.jsx)(O.C,{index:t,headerText:"",uri:"",renderCardImage:function(){return(0,T.jsx)(L.x,{images:[]})},featureIdentifier:"unknown"})}));const S="lA3jnNwnLc3CoYKT06Vz";function k(e){var t=e.renderCard,r=e.nrCards,n=e.fetchData,a=e.limit,i=void 0===a?50:a,l=e.cardGridApiRef,o=(0,s.useContext)(E.VX).scrollNodeRef,c=(0,C.Q)({nrItems:r,fetch:n,limit:i}),u=c.getItems,d=c.nrValidItems,f=c.invalidateCache,p=c.hasItems;(0,s.useImperativeHandle)(l,(function(){return{update:function(){return f()}}}));return(0,T.jsx)("div",{className:j()((0,v.Z)({},S,!p)),children:(0,T.jsx)(y.u,{renderItems:function(e,r,n){return u(e,r).map((function(r,a){var i=r?t(r,e+a,n):null;return null!=i?i:(0,T.jsx)(D,{index:a},e+a)}))},scrollNodeRef:o,nrItems:d,estimatedItemMaxHeight:250})})}var P=r(77999),I=r(68833),_=r(50200),R=r(83349),w=r(78142),B=r(62179),N=r(20188),Z=r(39130),M=(r(69109),r(95675),r(61235),r(7845),r(29543),r(70969),r(66715),r(30479),r(75341),r(23213)),Y=r(4954);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,v.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){var n=U({},r);return n.entities=t?e.items||[]:n.entities.concat(e.items||[]),n.total=e.totalLength,n}var W={offset:0,limit:1},V=function(){var e,t,r,a,l,o,c=(0,s.useContext)(B.H),u=(0,s.useCallback)((function(){return c?null==c?void 0:c.getShows(W):Promise.resolve({totalLength:0})}),[c]);return e=u,t=(0,s.useState)(null),r=(0,Z.Z)(t,2),a=r[0],l=r[1],o=(0,s.useCallback)((0,n.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e();case 4:r=t.sent,l((null==r?void 0:r.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]),(0,s.useEffect)((function(){null===a&&o()}),[a,o]),{total:a}},G=function(){var e=(0,s.useContext)(B.H),t=(0,s.useState)(null),r=(0,Z.Z)(t,2),a=r[0],l=r[1],o=(0,s.useCallback)((0,n.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getBooks(W);case 4:r=t.sent,l((null==r?void 0:r.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,s.useEffect)((function(){null===a&&o()}),[a,o]),(0,Y.b)(M.EW.UPDATE,o),{total:a}},K=r(13746),J=r(23229),Q=r(87234),q=r(23098),z=s.memo((function(e){var t=e.nrAlbums,r=(0,s.useContext)(B.H),a=(0,s.useContext)(_.fo).filter,l=(0,s.useContext)(J.Q).sortState,o=(0,s.useRef)(null),c=(0,N.fU)(A.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:albums",identifier:u.Wg.YOURLIBRARY_ALBUMS}}),f=c.spec,p=c.UBIFragment,m=(0,s.useMemo)((function(){return f.headerFactory()}),[f]),g=(0,s.useCallback)(function(){var e=(0,n.Z)(i().mark((function e(t,n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getAlbums({offset:t,limit:n,filter:a,sort:(0,Q.Aq)(l)});case 2:return s=e.sent,e.abrupt("return",{items:s.items,totalLength:s.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,a,l]),v=(0,s.useCallback)((function(e,t){return(0,T.jsx)(w.ZP,{value:"card",index:t,children:(0,T.jsx)(x.r,{index:t,uri:e.uri,name:e.name,images:e.images,artists:e.artists,sharingInfo:e.sharingInfo})},e.uri)}),[]);return(0,T.jsxs)(p,{spec:f,children:[(0,T.jsx)(p,{spec:m,children:(0,T.jsxs)("div",{className:q.Z.header,children:[(0,T.jsx)(h.D,{as:"h1",variant:"canon",children:d.ag.get("albums")}),(0,T.jsx)(s.Suspense,{fallback:null,children:(0,T.jsx)(K.h,{canSort:r.getCapabilities().canSort,canFilter:r.getCapabilities().canFilter,filterPlaceholder:d.ag.get("collection.filter.albums"),sortOptions:Q.Ru})})]})}),(0,T.jsx)(k,{nrCards:t,renderCard:v,fetchData:g,cardGridApiRef:o})]})})),$=s.memo((function(){var e=function(){var e=(0,s.useContext)(B.H),t=(0,s.useState)(null),r=(0,Z.Z)(t,2),a=r[0],l=r[1],o=(0,s.useCallback)((0,n.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getAlbums(W);case 4:r=t.sent,l((null==r?void 0:r.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,s.useEffect)((function(){null===a&&o()}),[a,o]),(0,Y.b)(M.EW.UPDATE,o),{total:a}}(),t=e.total;return null===t?(0,T.jsx)(I.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-albums-failure")}):t?(0,T.jsx)(z,{nrAlbums:t}):(0,T.jsx)(P.u,{linkTo:"/search",linkTitle:d.ag.get("collection.empty-page.albums-cta"),message:d.ag.get("collection.empty-page.albums-subtitle"),title:d.ag.get("collection.empty-page.albums-title"),children:(0,T.jsx)(R.t,{type:"album"})})})),X=s.memo((function(){return(0,T.jsx)(J.$,{uri:"collection/albums",defaultSortOption:Q.aY,children:(0,T.jsx)(_.hz,{uri:"collection/albums",children:(0,T.jsx)($,{})})})})),ee=r(60334),te=s.memo((function(e){var t=e.nrArtists,r=(0,s.useContext)(B.H),a=(0,s.useContext)(_.fo).filter,l=(0,s.useContext)(J.Q).sortState,o=(0,s.useRef)(null),c=(0,N.fU)(A.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:artists",identifier:u.Wg.YOURLIBRARY_ARTISTS}}),f=c.spec,p=c.UBIFragment,m=(0,s.useMemo)((function(){return f.headerFactory()}),[f]),g=(0,s.useCallback)(function(){var e=(0,n.Z)(i().mark((function e(t,n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getArtists({offset:t,limit:n,filter:a,sort:(0,Q.e3)(l)});case 2:return s=e.sent,e.abrupt("return",{items:s.items,totalLength:s.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,a,l]),x=(0,s.useCallback)((function(e,t){return(0,T.jsx)(w.ZP,{value:"card",index:t,children:(0,T.jsx)(ee.I,{index:t,name:e.name,uri:e.uri,images:e.images})},e.uri)}),[]);return(0,s.useEffect)((function(){o.current&&o.current.update()}),[l,a,t]),(0,T.jsxs)(p,{spec:f,children:[(0,T.jsx)(p,{spec:m,children:(0,T.jsxs)("div",{className:q.Z.header,children:[(0,T.jsx)(h.D,{as:"h1",variant:"canon",children:d.ag.get("artists")}),(0,T.jsx)(s.Suspense,{fallback:null,children:(0,T.jsx)(K.h,{canSort:r.getCapabilities().canSort,canFilter:r.getCapabilities().canFilter,filterPlaceholder:d.ag.get("collection.filter.artists"),sortOptions:Q.o$})})]})}),(0,T.jsx)(k,{nrCards:t,renderCard:x,fetchData:g,cardGridApiRef:o})]})})),re=s.memo((function(){var e=function(){var e=(0,s.useContext)(B.H),t=(0,s.useState)(null),r=(0,Z.Z)(t,2),a=r[0],l=r[1],o=(0,s.useCallback)((0,n.Z)(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getArtists(W);case 4:r=t.sent,l((null==r?void 0:r.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,s.useEffect)((function(){null===a&&o()}),[a,o]),(0,Y.b)(M.EW.UPDATE,o),{total:a}}(),t=e.total;return null===t?(0,T.jsx)(I.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-artists-failure")}):t>0?(0,T.jsx)(te,{nrArtists:t}):(0,T.jsx)(P.u,{message:d.ag.get("collection.empty-page.artists-subtitle"),title:d.ag.get("collection.empty-page.artists-title"),linkTo:"/search",linkTitle:d.ag.get("collection.empty-page.artists-cta"),children:(0,T.jsx)(R.t,{type:"artist"})})})),ne=s.memo((function(){return(0,T.jsx)(J.$,{uri:"collection/artists",defaultSortOption:Q.u3,children:(0,T.jsx)(_.hz,{uri:"collection/artists",children:(0,T.jsx)(re,{})})})})),ae=r(5979),ie=function(e){return""===e.authorName&&""===e.name},se=s.memo((function(e){var t=e.nrBooks,r=(0,s.useContext)(B.H),a=(0,s.useContext)(_.fo).filter,l=(0,s.useContext)(J.Q).sortState,o=(0,N.fU)(A.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:audiobooks",identifier:u.Wg.YOURLIBRARY_AUDIOBOOKS}}),c=o.spec,f=o.UBIFragment,p=(0,s.useMemo)((function(){return c.headerFactory()}),[c]),m=(0,s.useRef)(null),g=(0,s.useCallback)(function(){var e=(0,n.Z)(i().mark((function e(t,n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getBooks({offset:t,limit:n,filter:a,sort:(0,Q.G5)(l)});case 2:return s=e.sent,e.abrupt("return",{items:s.items.map((function(e){return ie(e)?null:e})),totalLength:s.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,a,l]),x=(0,s.useCallback)((function(e,t){return(0,T.jsx)(w.ZP,{value:"card",index:t,children:(0,T.jsx)(ae.c,{index:t,uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,isLocked:e.isLocked})},e.uri)}),[]);return(0,T.jsxs)(f,{spec:c,children:[(0,T.jsx)(f,{spec:p,children:(0,T.jsxs)("div",{className:q.Z.header,children:[(0,T.jsx)(h.D,{as:"h1",variant:"canon",children:d.ag.get("search.title.audiobooks")}),(0,T.jsx)(K.h,{canSort:r.getCapabilities().canSort,canFilter:r.getCapabilities().canFilter,filterPlaceholder:"Search in Audiobooks",sortOptions:Q.ZP})]})}),(0,T.jsx)(k,{nrCards:t,renderCard:x,fetchData:g,cardGridApiRef:m})]})})),le=s.memo((function(){var e=G().total;return null===e?(0,T.jsx)(I.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-albums-failure")}):e>0?(0,T.jsx)(se,{nrBooks:e}):(0,T.jsx)(P.u,{linkTo:"/search",linkTitle:d.ag.get("collection.empty-page.books-cta"),message:d.ag.get("collection.empty-page.books-subtitle"),title:d.ag.get("collection.empty-page.books-title"),children:(0,T.jsx)(R.t,{type:"book"})})})),oe=s.memo((function(){return(0,T.jsx)(J.$,{uri:"collection/books",defaultSortOption:Q.JV,children:(0,T.jsx)(_.hz,{uri:"collection/books",children:(0,T.jsx)(le,{})})})})),ce=r(83014),ue=(r(69724),r(82088),r(15632)),de=r(4517),fe=r(71724),pe=r(20808),me=r(15533),ge=r(99070),he=r(59672),Ae=r(29893),xe=r(2120),ve=r(59791),be=r(49756),je=r(83474),ye=r(55590),Ee=(r(43125),r(91978)),Ce=r(3385),Oe=r(62200);const Le="collection-collectionEntityHeroCard-likedSongs",Te="collection-collectionEntityHeroCard-container",De="collection-collectionEntityHeroCard-yourEpisodes",Se="collection-collectionEntityHeroCard-headerContainer",ke="collection-collectionEntityHeroCard-tracksContainer",Pe="collection-collectionEntityHeroCard-skeletonRow",Ie="collection-collectionEntityHeroCard-descriptionContainer",_e="collection-collectionEntityHeroCard-opacityText";function Re(e,t){return Array.from(new Array(e).keys()).map((function(e){return(0,T.jsx)(Oe.C,{as:"div",className:Pe,charCount:t,isLoading:!0},e)}))}var we=function(e){var t=e.index,r=e.onClick,n=(0,Ce.MY)({limit:7}),a=(0,l.v9)(Ae.Gg).user,i=(0,he.I2)(null==a?void 0:a.id);return i?(0,T.jsx)(Ee.Z,{index:t,className:j()(Le,Te),onClick:r,headerText:i.name,featureIdentifier:"your_library",uri:i.uri,ariaPlayLabel:d.ag.get("playlist.a11y.play",i.name),ariaPauseLabel:d.ag.get("playlist.a11y.pause",i.name),renderCardImage:function(){return(0,T.jsx)("div",{className:Se,children:(0,T.jsx)("div",{className:ke,children:n?(e=n,e.items.map((function(e,t){var r=e.uri,n=e.name,a=(0,Z.Z)(e.artists,1)[0];return(0,T.jsxs)("span",{children:[(0,T.jsx)("span",{className:_e,children:t?" • ":""}),(0,T.jsx)("span",{dir:"auto",children:a.name}),(0,T.jsx)("span",{dir:"auto",className:_e,children:n})]},r)}))):Re(3)})});var e},renderSubHeaderContent:function(){return(0,T.jsx)("div",{className:Ie,children:n?"".concat(n.totalLength," ").concat(i.name):Re(1,i.name.length)})}}):null},Be=function(e,t,r){var n;return(0,T.jsx)(w.ZP,{value:"card",index:t,children:r},null!==(n="".concat(e.uri))&&void 0!==n?n:t)},Ne=function(e,t,r){var n;switch(e.type){case je.p.LIKED_SONGS:return Be(e,t,r>1?(0,T.jsx)(we,{index:t},e.uri):(0,T.jsx)(de.p,{index:t},e.uri));case je.p.YOUR_EPISODES:return Be(e,t,(0,T.jsx)(me.T,{index:t},e.uri));case je.p.LOCAL_FILES:return Be(e,t,(0,T.jsx)(fe.P,{index:t},e.uri));case je.p.PLAYLIST:return Be(e,t,(0,T.jsx)(ue.Z,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:null===(n=e.owner)||void 0===n?void 0:n.displayName,isPlayable:e.totalLength>0},e.uri));case"placeholder":return Be(e,t,(0,T.jsx)(ue.Z,{index:t,uri:e.uri,name:"",images:[],description:"",authorName:""},e.uri));case"empty":return(0,T.jsx)(s.Fragment,{},t);case"folder":return null;default:return(0,ye._)(e),null}},Ze=s.memo((function(e){var t=e.nrPlaylists,r=e.showYourEpisodesCard,a=e.showLocalFilesCard,o=(0,s.useContext)(_.fo).filter,c=(0,s.useContext)(J.Q).sortState,f=(0,s.useContext)(be.BS),p=(0,s.useRef)(null),m=(0,l.v9)(Ae.Gg).user,g=(0,N.fU)(A.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:playlists",identifier:u.Wg.YOURLIBRARY_PLAYLISTS}}),x=g.spec,v=g.UBIFragment,b=(0,s.useMemo)((function(){return x.headerFactory()}),[x]),j=(0,s.useMemo)((function(){var e=[];if(o)return e;var t=(0,he.I2)(null==m?void 0:m.id);t&&(e.push(t),e.push({uri:"",type:"empty"}));var n=r?(0,he.bl)(null==m?void 0:m.id):null;n&&e.push(n);var i=a?(0,he.gB)():null;return i&&e.push(i),e}),[o,a,r,m]),y=(0,s.useCallback)((function(){null!=p&&p.current&&p.current.update()}),[p]);(0,be.iu)(y);var E=(0,s.useCallback)(function(){var e=(0,n.Z)(i().mark((function e(t,r){var n,a,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j.slice(t),a=t-(j.length-n.length),e.next=4,f.getContents({offset:a,limit:r,filter:o,sort:(0,Q.pT)(c),flatten:!0,decorateImagesAndOwner:!0});case 4:return s=e.sent,l=s.items.map((function(e){return"placeholder"===e.type?null:e})),e.abrupt("return",{items:[].concat((0,ce.Z)(n),(0,ce.Z)(l)),totalLength:s.totalItemCount+j.length});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[j,f,o,c]);return(0,T.jsxs)(v,{spec:x,children:[(0,T.jsx)(v,{spec:b,children:(0,T.jsxs)("div",{className:q.Z.header,children:[(0,T.jsx)(h.D,{as:"h1",variant:"canon",children:d.ag.get("playlists")}),(0,T.jsx)(s.Suspense,{fallback:null,children:(0,T.jsx)(K.h,{canSort:f.getCapabilities().canSort,canFilter:f.getCapabilities().canFilter,filterPlaceholder:d.ag.get("collection.filter.playlists"),sortOptions:Q.w0})})]})}),(0,T.jsx)(k,{nrCards:t+j.length,renderCard:Ne,fetchData:E,cardGridApiRef:p})]})})),Me=s.memo((function(){var e=(0,be.Rt)(),t=(0,pe.x)(),r=(0,xe.u)(),n=(0,ge.K)().createPlaylist,a=(0,ve.I)(),i=(0,s.useCallback)((function(){n()}),[n]);return null===e||null===t?(0,T.jsx)(I.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-albums-failure")}):null!=e&&e.playlistCount?(0,T.jsx)(Ze,{nrPlaylists:e.playlistCount,showYourEpisodesCard:t.totalLength>0,showLocalFilesCard:r.canFetchAllTracks&&a}):(0,T.jsx)(P.u,{linkTitle:d.ag.get("collection.empty-page.playlists-cta"),onClick:i,title:d.ag.get("collection.empty-page.playlists-title"),message:d.ag.get("collection.empty-page.playlists-subtitle"),children:(0,T.jsx)(R.t,{type:"playlist"})})})),Ye=s.memo((function(){return(0,T.jsx)(J.$,{uri:"collection/playlists",defaultSortOption:Q.Bf,children:(0,T.jsx)(_.hz,{uri:"collection/playlists",children:(0,T.jsx)(Me,{})})})})),He=(r(5538),r(29332)),Ue=r(96491),Fe=r(27443),We=r(79262),Ve=r(54658),Ge=function(){var e="ginger-audio-shows-top-20-web",t=(0,Ue.P)(e).view;if(!t)return null;var r=t.content,n=t.name,a=r.total,i=void 0===a?0:a,s=r.items;return(0,T.jsx)(Ve.P,{title:n,total:i,seeAllUri:(0,Fe.p)(e),children:s.filter((function(e){return"show"===e.type})).map((function(e,t){var r;return(0,T.jsx)(He._,{name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:null!==(r={audio:We.E.AUDIO,video:We.E.VIDEO,mixed:We.E.MIXED}[e.media_type])&&void 0!==r?r:We.E.AUDIO,sharingInfo:null,index:t},e.uri)}))})},Ke=r(84340),Je=r(67262),Qe=r(73025);function qe(e,t){return Array.from(new Array(e).keys()).map((function(e){return(0,T.jsx)(Oe.C,{as:"div",className:Pe,charCount:t,isLoading:!0},e)}))}var ze=function(e){var t=e.index,r=(0,Ce.j$)({limit:7}),n=(0,l.v9)(Ae.Gg).user,a=(0,he.bl)(null==n?void 0:n.id);return a?(0,T.jsx)(Ee.Z,{index:t,className:j()(Le,De),headerText:a.name,featureIdentifier:"your_library",uri:a.uri,ariaPlayLabel:d.ag.get("playlist.a11y.play",a.name),ariaPauseLabel:d.ag.get("playlist.a11y.pause",a.name),renderCardImage:function(){return(0,T.jsx)("div",{className:Se,children:(0,T.jsx)("div",{className:ke,children:r?(e=r,e.items.map((function(e,t){var r=e.uri,n=e.name,a=e.show;return(0,T.jsxs)("span",{children:[(0,T.jsx)("span",{className:_e,children:t?" • ":""}),(0,T.jsx)("span",{dir:"auto",children:n}),a&&(0,T.jsx)("span",{dir:"auto",className:_e,children:a.name})]},r)}))):qe(3)})});var e},renderSubHeaderContent:function(){return(0,T.jsx)("div",{className:Ie,children:r?d.ag.get("tracklist-header.episodes-counter",r.totalLength):qe(1,a.name.length)})}}):null},$e=s.memo((function(e){var t=e.nrShows,r=(0,s.useContext)(B.H),a=(0,s.useContext)(_.fo).filter,o=(0,s.useContext)(J.Q).sortState,c=(0,s.useRef)(!1),f=(0,s.useRef)({entities:[],total:t}),p=(0,s.useState)(0),m=(0,Z.Z)(p,2),g=m[0],x=m[1],v=(0,l.v9)(Ae.Gg).user,b=(0,N.fU)(A.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:podcasts",identifier:u.Wg.YOURLIBRARY_SHOWS}}),j=b.spec,y=b.UBIFragment,E=(0,s.useMemo)((function(){return j.headerFactory()}),[j]),C=(0,s.useCallback)(function(){var e=(0,n.Z)(i().mark((function e(t,n){var s,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=u.length>2&&void 0!==u[2]&&u[2],c.current){e.next=9;break}return c.current=!s,e.next=5,r.getShows({offset:t,limit:n,filter:a,sort:(0,Q.EY)(o)});case 5:l=e.sent,f.current=F(l,s,f.current),c.current=!1,x((function(e){return e+1}));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[r,a,o,f]),O=(0,s.useCallback)((function(e){f.current=function(e,t){var r=U({},t),n=t.entities.filter((function(t){return t.uri!==e}));return r.total=(t.total||0)-(t.entities.length-n.length),r.entities=n,r}(e,f.current),x((function(e){return e+1}))}),[]);(0,s.useEffect)((function(){C(0,50,!!g)}),[a,o]);var L=(0,s.useCallback)((function(){f.current.entities.length!==f.current.total&&C(f.current.entities.length,50)}),[C,f]);return(0,T.jsx)(y,{spec:j,children:(0,T.jsxs)(Je.C,{onReachBottom:L,children:[(0,T.jsx)(y,{spec:E,children:(0,T.jsxs)("div",{className:q.Z.header,children:[(0,T.jsx)(h.D,{as:"h1",variant:"canon",children:d.ag.get("podcasts")}),(0,T.jsx)(s.Suspense,{fallback:null,children:(0,T.jsx)(K.h,{canSort:r.getCapabilities().canSort,canFilter:r.getCapabilities().canFilter,filterPlaceholder:d.ag.get("collection.filter.podcasts"),sortOptions:Q.a6})})]})}),(0,T.jsx)(Qe.r,{onLibraryItemRemove:O,children:(0,T.jsx)(w.ZP,{value:"EntitiesGrid",children:(0,T.jsx)(Ke.T,{render:function(){var e=(0,he.bl)(null==v?void 0:v.id),t=a||!e||0===f.current.entities.length?[]:[(0,T.jsx)(s.Suspense,{fallback:null,children:(0,T.jsx)(ze,{index:0})},"your-episodes-card")],r=t.length>0;return t.concat(f.current.entities.map((function(e,t){var n=r?t+1:t;return(0,T.jsx)(w.ZP,{value:"card",index:n,children:(0,T.jsx)(He._,{index:n,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null})},e.uri)})))}})})})]})})})),Xe=s.memo((function(){var e=V().total,t=(0,l.v9)(Ae.Gg).productState,r=!!t&&parseInt(t.ads,10)>0;return null===e?(0,T.jsx)(I.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-shows-failure")}):e?(0,T.jsx)($e,{nrShows:e}):(0,T.jsxs)("div",{className:j()(q.Z.emptyStateContainer,(0,v.Z)({},q.Z.adBarEnabled,r)),children:[(0,T.jsx)(P.u,{linkTo:"/genre/podcasts-web",linkTitle:d.ag.get("collection.empty-page.shows-cta"),message:d.ag.get("collection.empty-page.shows-subtitle"),title:d.ag.get("collection.empty-page.shows-title"),renderInline:!0,children:(0,T.jsx)(R.t,{type:"show"})}),(0,T.jsx)(Ge,{})]})})),et=s.memo((function(){return(0,T.jsx)(J.$,{uri:"collection/podcasts",defaultSortOption:Q.rJ,children:(0,T.jsx)(_.hz,{uri:"collection/podcasts",children:(0,T.jsx)(Xe,{})})})})),tt=r(82533),rt=r(91013),nt=r(20522);function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){(0,v.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var st=function(e){var t=e.isAudiobooksEnabled,r=(0,l.v9)(g.rH),n=(0,N.fU)(tt.createDesktopLibraryTopbarEventFactory,{}),a=n.spec,i=n.logger,o=(0,s.useMemo)((function(){return[{title:d.ag.get("playlists"),itemId:"collection.tab-playlists",to:"/collection/playlists",uri:"spotify:app:collection:playlists"}].concat((0,ce.Z)(r?[{title:d.ag.get("podcasts"),itemId:"collection.tab-podcasts",to:"/collection/podcasts",uri:"spotify:app:collection:podcasts"}]:[]),(0,ce.Z)(t?[{title:d.ag.get("search.title.audiobooks"),itemId:"collection.tab-audiobooks",to:"/collection/audiobooks",uri:"spotify:app:collection:audiobooks"}]:[]),[{title:d.ag.get("artists"),itemId:"collection.tab-artists",to:"/collection/artists",uri:"spotify:app:collection:artists"},{title:d.ag.get("albums"),itemId:"collection.tab-albums",to:"/collection/albums",uri:"spotify:app:collection:albums"}]).map((function(e,t){var r=e.uri;return it(it({},e),{},{handleClick:function(){var e=a.linkFactory({position:t,uri:r}).hitUiNavigate({destination:r});i.logInteraction(e)}})}))}),[r,t,i,a]);return(0,T.jsx)(nt.w,{children:(0,T.jsx)(rt.n,{className:q.Z.tabBar,links:o})})},lt=r(54334),ot=s.lazy((0,n.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(4246).then(r.bind(r,35623));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));const ct=function(){var e=(0,l.v9)(g.rH),t=(0,c.W6)(m.uB);(0,p.z)("your_library");var r=G().total,n=!!(r&&r>0);return(0,T.jsxs)("section",{className:"contentSpacing",children:[(0,T.jsx)(f.$,{children:d.ag.get("collection.page-title")}),(0,T.jsxs)(o.Z5,{children:[(0,T.jsx)(o.AW,{path:"artists",element:(0,T.jsx)(lt.K,{pageId:u.Wg.YOURLIBRARY_ARTISTS,children:(0,T.jsx)(ne,{})})}),(0,T.jsx)(o.AW,{path:"albums",element:(0,T.jsx)(lt.K,{pageId:u.Wg.YOURLIBRARY_ALBUMS,children:(0,T.jsx)(X,{})})}),(0,T.jsx)(o.AW,{path:"playlists",element:(0,T.jsx)(lt.K,{pageId:u.Wg.YOURLIBRARY_PLAYLISTS,children:(0,T.jsx)(Ye,{})})}),e&&(0,T.jsx)(o.AW,{path:"podcasts",element:(0,T.jsx)(lt.K,{pageId:u.Wg.YOURLIBRARY_SHOWS,children:(0,T.jsx)(et,{})})}),(t||n)&&(0,T.jsx)(o.AW,{path:"audiobooks",element:(0,T.jsx)(lt.K,{pageId:u.Wg.YOURLIBRARY_AUDIOBOOKS,children:(0,T.jsx)(oe,{})})}),(0,T.jsx)(o.AW,{path:"music-downloads",element:(0,T.jsx)(lt.K,{pageId:u.Wg.YOURLIBRARY_DOWNLOADS,children:(0,T.jsx)(ot,{})})})]}),(0,T.jsx)(st,{isAudiobooksEnabled:t||n})]})}},71724:(e,t,r)=>{r.d(t,{P:()=>O});var n=r(8850),a=r(45389),i=r(10995),s=r.n(i),l=(r(30246),r(162),r(95675),r(61235),r(62780),r(22369),r(7845),r(29543),r(70969),r(66715),r(30479),r(75341),r(59496)),o=r(85830),c=r(17249),u=r(23498),d=r(72030),f=r(59672),p=r(76022),m=r(81164),g=r(2120),h=r(32376),A=r(59791),x=r(1003),v=r(40787),b=r(79883),j=r(4637);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){var t,r=e.uri,a=e.name,i=e.images,f=e.index,y=(0,g.u)(),C=(0,l.useRef)(null),O=(0,l.useRef)(!0),L=(0,l.useContext)(h.t),T=(0,v.cR)(m.b).isPlaying,D=(0,x.n)({uri:m.b,pages:[{items:(null===(t=C.current)||void 0===t?void 0:t.map((function(e){return E(E({},e),{},{provider:null})})))||[]}]},{featureIdentifier:"local_files"}).togglePlay;(0,l.useEffect)((function(){return O.current=!0,function(){O.current=!1}}),[]);var S=(0,A.I)(),k=(0,o.y1)(function(){var e=(0,n.Z)(s().mark((function e(t,r){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.current){e.next=5;break}return e.next=3,L.getTracks();case 3:n=e.sent,C.current=n;case 5:O&&D({loggingParams:r},{uri:m.b,pages:[{items:(null===(a=C.current)||void 0===a?void 0:a.map((function(e){return E(E({},e),{},{provider:null})})))||[]}]});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p.s_,{leading:!0,trailing:!1});return y.canFetchAllTracks&&S?(0,j.jsx)(u.Z,{index:f,delegatePlayback:!0,delegateLogging:!0,isPlaying:T,onPlay:k,headerText:a,featureIdentifier:"local_files",uri:r,renderCardImage:function(){return(0,j.jsx)(d.x,{images:i,FallbackComponent:b.S})},renderSubHeaderContent:function(){return(0,j.jsx)("span",{children:c.ag.get("local-files.description")})}}):null},O=function(e){var t=e.index,r=(0,f.gB)();return(0,j.jsx)(l.Suspense,{fallback:null,children:(0,j.jsx)(C,{index:t,name:r.name,uri:r.uri,images:r.images})})}},96491:(e,t,r)=>{r.d(t,{P:()=>v});r(95675),r(61235),r(62780),r(7845),r(29543),r(70969),r(66715),r(30479),r(75341);var n=r(45389),a=r(8850),i=(r(81289),r(22369),r(69109),r(83001),r(27639),r(71756),r(70238),r(45880),r(76626),r(10995)),s=r.n(i),l=r(59496),o=r(9102),c=r(60808),u=r(1074),d=(r(90511),r(61740)),f=r(38674),p=r(17249),m=r(1017),g=r(29893),h=r(87824);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e,t){var r,n,i,c,u,A,v,j,E=(i=(0,f.W6)(h.Xf),c=(0,d.v9)(m.rZ),u=(0,d.v9)(g.Gg).overrides,A=p.ag.getLocale(),v=(null==u?void 0:u.country)||c,j=(null==u?void 0:u.locale)||A,(0,l.useMemo)((function(){var e=["album","playlist","artist","show","station","episode","merch","artist_concerts"];return i&&e.push("uri_link"),{country:v,locale:j,types:e.join(",")}}),[v,i,j])),C=(0,o.useInfiniteQuery)(["useView",e,E],function(){var t=(0,a.Z)(s().mark((function t(r){var n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.pageParam,a=void 0===n?void 0:n,t.abrupt("return",void 0===a?b(e,E):y(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{cacheTime:null!==(r=null==t?void 0:t.cacheTime)&&void 0!==r?r:18e5,staleTime:null!==(n=null==t?void 0:t.staleTime)&&void 0!==n?n:3e5,getNextPageParam:function(e){var t;return null!==(t=e.content.next)&&void 0!==t?t:void 0},getPreviousPageParam:function(e){var t;return null!==(t=e.content.previous)&&void 0!==t?t:void 0}}),O=C.data,L=C.fetchNextPage;return{view:(0,l.useMemo)((function(){return null==O?void 0:O.pages.reduce((function(e,t){return x(x({},e),{},{content:x(x({},e.content),{},{href:t.content.href,next:t.content.next,offset:t.content.offset,previous:t.content.previous,total:t.content.total,items:e.content.items.concat(t.content.items)})})}))}),[null==O?void 0:O.pages]),getNextPage:L}};function b(e,t){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(s().mark((function e(t,r){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.kO.getView(c.b.getInstance(),t,r);case 2:return n=e.sent,a=n.body,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return E.apply(this,arguments)}function E(){return(E=(0,a.Z)(s().mark((function e(t){var r,n,a,i,l,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URL(t),n=r.origin,a=r.pathname,i=Object.fromEntries(r.searchParams.entries()),e.next=6,u.TV.getGeneric(c.b.getInstance(),n,a,i,"/useView/fetchNext/{next}");case 6:return l=e.sent,o=l.body,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},23098:(e,t,r)=>{r.d(t,{Z:()=>n});const n={header:"collection-collection-header",tabBar:"collection-collection-tabBar",AddToPlaylistIcon:"collection-collection-AddToPlaylistIcon",emptyStateContainer:"collection-collection-emptyStateContainer",adBarEnabled:"collection-collection-adBarEnabled"}}}]);
//# sourceMappingURL=xpui-routes-collection.js.map